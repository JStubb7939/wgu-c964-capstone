{"id": "res_aad_domain-service", "source": "res\\aad\\domain-service\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Domain Service' (Parent Chain: Aad).\nResource Type Path: aad\\domain-service\nModule ID: br/public:res/aad/domain-service:0.5.0\nParameters:\n- name (string): Optional. The name of the Azure AD DS resource. Defaults to the domain name specific to the Azure AD DS service. The prefix of your specified domain name (such as dscontoso in the dscontoso.com domain name) must contain 15 or fewer characters.\n- location (string): Optional. The location to deploy the Azure AD DS Services. Uses the resource group location if not specified.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- domainName (string): Required. The domain name specific to the Azure AD DS service.\n- sku (string): Optional. The name of the SKU specific to Azure AD DS Services. For replica set support, this defaults to Enterprise.\n- replicaSets (array): Optional. Additional replica set for the managed domain.\n- pfxCertificate (securestring): Conditional. The certificate required to configure Secure LDAP. Should be a base64encoded representation of the certificate PFX file and contain the domainName as CN. Required if secure LDAP is enabled and must be valid more than 30 days.\n- pfxCertificatePassword (securestring): Conditional. The password to decrypt the provided Secure LDAP certificate PFX file. Required if secure LDAP is enabled.\n- additionalRecipients (array): Optional. The email recipient value to receive alerts.\n- domainConfigurationType (string): Optional. The value is to provide domain configuration type.\n- filteredSync (string): Optional. The value is to synchronize scoped users and groups.\n- tlsV1 (string): Optional. TLS 1.0 / 1.1 for Azure Domain Services has been deprecated on August 31, 2025.\n- ntlmV1 (string): Optional. The value is to enable clients making request using NTLM v1.\n- syncNtlmPasswords (string): Optional. The value is to enable synchronized users to use NTLM authentication.\n- syncOnPremPasswords (string): Optional. The value is to enable on-premises users to authenticate against managed domain.\n- kerberosRc4Encryption (string): Optional. The value is to enable Kerberos requests that use RC4 encryption.\n- kerberosArmoring (string): Optional. The value is to enable to provide a protected channel between the Kerberos client and the KDC.\n- notifyDcAdmins (string): Optional. The value is to notify the DC Admins.\n- notifyGlobalAdmins (string): Optional. The value is to notify the Global Admins.\n- externalAccess (string): Optional. The value is to enable the Secure LDAP for external services of Azure AD DS Services.\n- ldaps (string): Optional. A flag to determine whether or not Secure LDAP is enabled or disabled.\n- syncScope (string): Optional. All users in AAD are synced to AAD DS domain or only users actively syncing in the cloud. Defaults to All.\n- diagnosticSettings (array): Optional. The diagnostic settings of the service.\n- tags (object): Optional. Tags of the resource.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignment objects that contain the 'roleDefinitionIdOrName' and 'principalIds' to define RBAC role assignments on this resource. In the roleDefinitionIdOrName attribute, you can provide either the display name of the role definition, or its fully qualified ID in the following format: '/providers/Microsoft.Authorization/roleDefinitions/c2f4ef07-c644-48eb-af81-4b1b4947fb11'."}
{"id": "res_alerts-management_action-rule", "source": "res\\alerts-management\\action-rule\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Action Rule' (Parent Chain: Alerts Management).\nResource Type Path: alerts-management\\action-rule\nModule ID: br/public:res/alerts-management/action-rule:0.2.0\nParameters:\n- name (string): Required. Name of the alert processing rule.\n- aprDescription (string): Optional. Description of the alert processing rule.\n- location (string): Optional. Location for all resources.\n- enabled (bool): Optional. Indicates if the given alert processing rule is enabled or disabled.\n- scopes (array): Optional. Scopes on which alert processing rule will apply.\n- actions (array): Optional.  Actions to be applied.\n- conditions (array): Optional.  Conditions on which alerts will be filtered.\n- schedule (object): Optional. Scheduling for alert processing rule.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- tags (object): Optional. Resource tags.\n- lock (N/A): Optional. The lock settings of the service.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_analysis-services_server", "source": "res\\analysis-services\\server\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Server' (Parent Chain: Analysis Services).\nResource Type Path: analysis-services\\server\nModule ID: br/public:res/analysis-services/server:0.3.0\nParameters:\n- name (string): Required. The name of the Azure Analysis Services server to create.\n- skuName (string): Optional. The SKU name of the Azure Analysis Services server to create.\n- skuCapacity (int): Optional. The total number of query replica scale-out instances.\n- firewallSettings (object): Optional. The inbound firewall rules to define on the server. If not specified, firewall is disabled.\n- location (string): Optional. Location for all Resources.\n- diagnosticSettings (array): Optional. The diagnostic settings of the service.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- tags (object): Optional. Tags of the resource.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_api-management_service", "source": "res\\api-management\\service\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Service' (Parent Chain: Api Management).\nResource Type Path: api-management\\service\nModule ID: br/public:res/api-management/service:0.11.0\nParameters:\n- additionalLocations (array): Optional. Additional datacenter locations of the API Management service. Not supported with V2 SKUs.\n- name (string): Required. The name of the API Management service.\n- certificates (array): Optional. List of Certificates that need to be installed in the API Management service. Max supported certificates that can be installed is 10.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- customProperties (object): Optional. Custom properties of the API Management service. Not supported if SKU is Consumption.\n- disableGateway (bool): Optional. Property only valid for an API Management service deployed in multiple locations. This can be used to disable the gateway in master region.\n- enableClientCertificate (bool): Optional. Property only meant to be used for Consumption SKU Service. This enforces a client certificate to be presented on each request to the gateway. This also enables the ability to authenticate the certificate in the policy on the gateway.\n- hostnameConfigurations (array): Optional. Custom hostname configuration of the API Management service.\n- managedIdentities (N/A): Optional. The managed identity definition for this resource.\n- location (string): Optional. Location for all Resources.\n- lock (N/A): Optional. The lock settings of the service.\n- minApiVersion (string): Optional. Limit control plane API calls to API Management service with version equal to or newer than this value.\n- notificationSenderEmail (string): Optional. The notification sender email address for the service.\n- publisherEmail (string): Required. The email address of the owner of the service.\n- publisherName (string): Required. The name of the owner of the service.\n- restore (bool): Optional. Undelete API Management Service if it was previously soft-deleted. If this flag is specified and set to True all other properties will be ignored.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- sku (string): Optional. The pricing tier of this API Management service.\n- skuCapacity (int): Conditional. The scale units for this API Management service. Required if using Basic, Standard, or Premium skus. For range of capacities for each sku, reference https://azure.microsoft.com/en-us/pricing/details/api-management/.\n- subnetResourceId (string): Optional. The full resource ID of a subnet in a virtual network to deploy the API Management service in.\n- tags (object): Optional. Tags of the resource.\n- virtualNetworkType (string): Optional. The type of VPN in which API Management service needs to be configured in. None (Default Value) means the API Management service is not part of any Virtual Network, External means the API Management deployment is set up inside a Virtual Network having an internet Facing Endpoint, and Internal means that API Management deployment is setup inside a Virtual Network having an Intranet Facing Endpoint only.\n- diagnosticSettings (array): Optional. The diagnostic settings of the service.\n- availabilityZones (array): Optional. A list of availability zones denoting where the resource needs to come from. Only supported by Premium sku.\n- newGuidValue (string): Optional. Necessary to create a new GUID.\n- apis (array): Optional. APIs.\n- apiVersionSets (array): Optional. API Version Sets.\n- authorizationServers (array): Optional. Authorization servers.\n- backends (array): Optional. Backends.\n- caches (array): Optional. Caches.\n- apiDiagnostics (array): Optional. API Diagnostics.\n- identityProviders (array): Optional. Identity providers.\n- loggers (array): Optional. Loggers.\n- namedValues (array): Optional. Named values.\n- policies (array): Optional. Policies.\n- portalsettings (array): Optional. Portal settings.\n- products (array): Optional. Products.\n- subscriptions (array): Optional. Subscriptions.\n- publicIpAddressResourceId (string): Optional. Public Standard SKU IP V4 based IP address to be associated with Virtual Network deployed service in the region. Supported only for Developer and Premium SKU being deployed in Virtual Network.\n- enableDeveloperPortal (bool): Optional. Enable the Developer Portal. The developer portal is not supported on the Consumption SKU."}
{"id": "res_api-management_service_api", "source": "res\\api-management\\service\\api\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Api' (Parent Chain: Api Management > Service).\nResource Type Path: api-management\\service\\api\nModule ID: br/public:res/api-management/service/api:0.1.0\nParameters:\n- name (string): Required. API revision identifier. Must be unique in the current API Management service instance. Non-current revision has ;rev=n as a suffix where n is the revision number.\n- policies (array): Optional. Array of Policies to apply to the Service API.\n- diagnostics (array): Optional. Array of diagnostics to apply to the Service API.\n- operations (array): Optional. The operations of the api.\n- apiManagementServiceName (string): Conditional. The name of the parent API Management service. Required if the template is used in a standalone deployment.\n- apiRevision (string): Optional. Describes the Revision of the API. If no value is provided, default revision 1 is created.\n- apiRevisionDescription (string): Optional. Description of the API Revision.\n- apiType (string): Optional. Type of API to create. * http creates a REST API * soap creates a SOAP pass-through API * websocket creates websocket API * graphql creates GraphQL API.\n- apiVersion (string): Optional. Indicates the Version identifier of the API if the API is versioned.\n- apiVersionDescription (string): Optional. Description of the API Version.\n- authenticationSettings (object): Optional. Collection of authentication settings included into this API.\n- description (string): Optional. Description of the API. May include HTML formatting tags.\n- displayName (string): Required. API name. Must be 1 to 300 characters long.\n- format (string): Optional. Format of the Content in which the API is getting imported.\n- isCurrent (bool): Optional. Indicates if API revision is current API revision.\n- path (string): Required. Relative URL uniquely identifying this API and all of its resource paths within the API Management service instance. It is appended to the API endpoint base URL specified during the service instance creation to form a public URL for this API.\n- protocols (array): Optional. Describes on which protocols the operations in this API can be invoked. - HTTP or HTTPS.\n- serviceUrl (string): Optional. Absolute URL of the backend service implementing this API. Cannot be more than 2000 characters long.\n- apiVersionSetName (string): Optional. The name of the API version set to link.\n- sourceApiId (string): Optional. API identifier of the source API.\n- subscriptionKeyParameterNames (object): Optional. Protocols over which API is made available.\n- subscriptionRequired (bool): Optional. Specifies whether an API or Product subscription is required for accessing the API.\n- type (string): Optional. Type of API.\n- value (string): Optional. Content value when Importing an API.\n- wsdlSelector (object): Optional. Criteria to limit import of WSDL to a subset of the document.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_api-management_service_api_diagnostics", "source": "res\\api-management\\service\\api\\diagnostics\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Diagnostics' (Parent Chain: Api Management > Service > Api).\nResource Type Path: api-management\\service\\api\\diagnostics\nModule ID: br/public:res/api-management/service/api/diagnostics:0.1.0\nParameters:\n- apiManagementServiceName (string): Required. The name of the parent API Management service.\n- apiName (string): Required. The name of the parent API.\n- loggerName (string): Required. The name of the logger.\n- name (string): Optional. Type of diagnostic resource.\n- alwaysLog (string): Optional. Specifies for what type of messages sampling settings should not apply.\n- backend (object): Optional. Diagnostic settings for incoming/outgoing HTTP messages to the Backend.\n- frontend (object): Optional. Diagnostic settings for incoming/outgoing HTTP messages to the Gateway.\n- httpCorrelationProtocol (string): Conditional. Sets correlation protocol to use for Application Insights diagnostics. Required if using Application Insights.\n- logClientIp (bool): Optional. Log the ClientIP.\n- metrics (bool): Conditional. Emit custom metrics via emit-metric policy. Required if using Application Insights.\n- operationNameFormat (string): Conditional. The format of the Operation Name for Application Insights telemetries. Required if using Application Insights.\n- samplingPercentage (int): Optional. Rate of sampling for fixed-rate sampling. Specifies the percentage of requests that are logged. 0% sampling means zero requests logged, while 100% sampling means all requests logged.\n- verbosity (string): Optional. The verbosity level applied to traces emitted by trace policies.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_api-management_service_api_operation", "source": "res\\api-management\\service\\api\\operation\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Operation' (Parent Chain: Api Management > Service > Api).\nResource Type Path: api-management\\service\\api\\operation\nModule ID: br/public:res/api-management/service/api/operation:0.1.0\nParameters:\n- apiManagementServiceName (string): Conditional. The name of the parent API Management service. Required if the template is used in a standalone deployment.\n- apiName (string): Conditional. The name of the parent API. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the operation.\n- displayName (string): Required. The display name of the operation.\n- policies (array): Optional. The policies to apply to the operation.\n- method (string): Required. A Valid HTTP Operation Method. Typical Http Methods like GET, PUT, POST but not limited by only them.\n- urlTemplate (string): Required. Relative URL template identifying the target resource for this operation. May include parameters. Example: /customers/{cid}/orders/{oid}/?date={date}.\n- description (string): Optional. Description of the operation. May include HTML formatting tags. Must not be longer than 1.000 characters.\n- request (object): Optional. An entity containing request details.\n- responses (array): Optional. An entity containing request details.\n- templateParameters (array): Optional. Collection of URL template parameters."}
{"id": "res_api-management_service_api_operation_policy", "source": "res\\api-management\\service\\api\\operation\\policy\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Policy' (Parent Chain: Api Management > Service > Api > Operation).\nResource Type Path: api-management\\service\\api\\operation\\policy\nModule ID: br/public:res/api-management/service/api/operation/policy:0.1.0\nParameters:\n- apiManagementServiceName (string): Conditional. The name of the parent API Management service. Required if the template is used in a standalone deployment.\n- apiName (string): Conditional. The name of the parent API. Required if the template is used in a standalone deployment.\n- operationName (string): Conditional. The name of the parent operation. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the policy.\n- format (string): Required. Format of the policyContent.\n- value (string): Required. Contents of the Policy as defined by the format."}
{"id": "res_api-management_service_api_policy", "source": "res\\api-management\\service\\api\\policy\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Policy' (Parent Chain: Api Management > Service > Api).\nResource Type Path: api-management\\service\\api\\policy\nModule ID: br/public:res/api-management/service/api/policy:0.1.0\nParameters:\n- apiManagementServiceName (string): Conditional. The name of the parent API Management service. Required if the template is used in a standalone deployment.\n- apiName (string): Conditional. The name of the parent API. Required if the template is used in a standalone deployment.\n- name (string): Optional. The name of the policy.\n- format (string): Optional. Format of the policyContent.\n- value (string): Required. Contents of the Policy as defined by the format.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_api-management_service_api-version-set", "source": "res\\api-management\\service\\api-version-set\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Api Version Set' (Parent Chain: Api Management > Service).\nResource Type Path: api-management\\service\\api-version-set\nModule ID: br/public:res/api-management/service/api-version-set:0.1.0\nParameters:\n- apiManagementServiceName (string): Conditional. The name of the parent API Management service. Required if the template is used in a standalone deployment.\n- name (string): Optional. API Version set name.\n- displayName (string): Required. The display name of the Name of API Version Set.\n- versioningScheme (string): Required. An value that determines where the API Version identifier will be located in a HTTP request.\n- description (string): Optional. Description of API Version Set.\n- versionHeaderName (string): Optional. Name of HTTP header parameter that indicates the API Version if versioningScheme is set to header.\n- versionQueryName (string): Optional. Name of query parameter that indicates the API Version if versioningScheme is set to query.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_api-management_service_authorization-server", "source": "res\\api-management\\service\\authorization-server\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Authorization Server' (Parent Chain: Api Management > Service).\nResource Type Path: api-management\\service\\authorization-server\nModule ID: br/public:res/api-management/service/authorization-server:0.1.0\nParameters:\n- name (string): Required. Identifier of the authorization server.\n- displayName (string): Required. API Management Service Authorization Servers name. Must be 1 to 50 characters long.\n- apiManagementServiceName (string): Conditional. The name of the parent API Management service. Required if the template is used in a standalone deployment.\n- authorizationEndpoint (string): Required. OAuth authorization endpoint. See <http://tools.ietf.org/html/rfc6749#section-3.2>.\n- authorizationMethods (array): Optional. HTTP verbs supported by the authorization endpoint. GET must be always present. POST is optional. - HEAD, OPTIONS, TRACE, GET, POST, PUT, PATCH, DELETE.\n- bearerTokenSendingMethods (array): Optional. Specifies the mechanism by which access token is passed to the API. - authorizationHeader or query.\n- clientAuthenticationMethod (array): Optional. Method of authentication supported by the token endpoint of this authorization server. Possible values are Basic and/or Body. When Body is specified, client credentials and other parameters are passed within the request body in the application/x-www-form-urlencoded format. - Basic or Body.\n- clientId (securestring): Required. Client or app ID registered with this authorization server.\n- clientRegistrationEndpoint (string): Optional. Optional reference to a page where client or app registration for this authorization server is performed. Contains absolute URL to entity being referenced.\n- clientSecret (securestring): Required. Client or app secret registered with this authorization server. This property will not be filled on 'GET' operations! Use '/listSecrets' POST request to get the value.\n- defaultScope (string): Optional. Access token scope that is going to be requested by default. Can be overridden at the API level. Should be provided in the form of a string containing space-delimited values.\n- serverDescription (string): Optional. Description of the authorization server. Can contain HTML formatting tags.\n- grantTypes (array): Required. Form of an authorization grant, which the client uses to request the access token. - authorizationCode, implicit, resourceOwnerPassword, clientCredentials.\n- resourceOwnerPassword (securestring): Optional. Can be optionally specified when resource owner password grant type is supported by this authorization server. Default resource owner password.\n- resourceOwnerUsername (string): Optional. Can be optionally specified when resource owner password grant type is supported by this authorization server. Default resource owner username.\n- supportState (bool): Optional. If true, authorization server will include state parameter from the authorization request to its response. Client may use state parameter to raise protocol security.\n- tokenBodyParameters (array): Optional. Additional parameters required by the token endpoint of this authorization server represented as an array of JSON objects with name and value string properties.\n- tokenEndpoint (string): Optional. OAuth token endpoint. Contains absolute URI to entity being referenced.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_api-management_service_backend", "source": "res\\api-management\\service\\backend\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Backend' (Parent Chain: Api Management > Service).\nResource Type Path: api-management\\service\\backend\nModule ID: br/public:res/api-management/service/backend:0.1.0\nParameters:\n- apiManagementServiceName (string): Conditional. The name of the parent API Management service. Required if the template is used in a standalone deployment.\n- name (string): Required. Backend Name.\n- credentials (object): Optional. Backend Credentials Contract Properties.\n- description (string): Optional. Backend Description.\n- protocol (string): Optional. Backend communication protocol. - http or soap.\n- proxy (object): Optional. Backend Proxy Contract Properties.\n- resourceId (string): Optional. Management Uri of the Resource in External System. This URL can be the Arm Resource ID of Logic Apps, Function Apps or API Apps.\n- serviceFabricCluster (object): Optional. Backend Service Fabric Cluster Properties.\n- title (string): Optional. Backend Title.\n- tls (object): Optional. Backend TLS Properties.\n- url (string): Required. Runtime URL of the Backend.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_api-management_service_cache", "source": "res\\api-management\\service\\cache\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Cache' (Parent Chain: Api Management > Service).\nResource Type Path: api-management\\service\\cache\nModule ID: br/public:res/api-management/service/cache:0.1.0\nParameters:\n- apiManagementServiceName (string): Conditional. The name of the parent API Management service. Required if the template is used in a standalone deployment.\n- name (string): Required. Identifier of the Cache entity. Cache identifier (should be either 'default' or valid Azure region identifier).\n- connectionString (string): Required. Runtime connection string to cache. Can be referenced by a named value like so, {{<named-value>}}.\n- description (string): Optional. Cache description.\n- resourceId (string): Optional. Original uri of entity in external system cache points to.\n- useFromLocation (string): Required. Location identifier to use cache from (should be either 'default' or valid Azure region identifier).\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_api-management_service_identity-provider", "source": "res\\api-management\\service\\identity-provider\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Identity Provider' (Parent Chain: Api Management > Service).\nResource Type Path: api-management\\service\\identity-provider\nModule ID: br/public:res/api-management/service/identity-provider:0.1.0\nParameters:\n- apiManagementServiceName (string): Conditional. The name of the parent API Management service. Required if the template is used in a standalone deployment.\n- allowedTenants (array): Optional. List of Allowed Tenants when configuring Azure Active Directory login. - string.\n- authority (string): Optional. OpenID Connect discovery endpoint hostname for AAD or AAD B2C.\n- clientId (string): Conditional. Client ID of the Application in the external Identity Provider. Required if identity provider is used.\n- clientLibrary (string): Optional. The client library to be used in the developer portal. Only applies to AAD and AAD B2C Identity Provider.\n- clientSecret (securestring): Conditional. Client secret of the Application in external Identity Provider, used to authenticate login request. Required if identity provider is used.\n- passwordResetPolicyName (string): Optional. Password Reset Policy Name. Only applies to AAD B2C Identity Provider.\n- profileEditingPolicyName (string): Optional. Profile Editing Policy Name. Only applies to AAD B2C Identity Provider.\n- signInPolicyName (string): Optional. Signin Policy Name. Only applies to AAD B2C Identity Provider.\n- signInTenant (string): Optional. The TenantId to use instead of Common when logging into Active Directory.\n- signUpPolicyName (string): Optional. Signup Policy Name. Only applies to AAD B2C Identity Provider.\n- type (string): Optional. Identity Provider Type identifier.\n- name (string): Required. Identity provider name.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_api-management_service_logger", "source": "res\\api-management\\service\\logger\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Logger' (Parent Chain: Api Management > Service).\nResource Type Path: api-management\\service\\logger\nModule ID: br/public:res/api-management/service/logger:0.1.0\nParameters:\n- apiManagementServiceName (string): Conditional. The name of the parent API Management service. Required if the template is used in a standalone deployment.\n- name (string): Required. Resource Name.\n- description (string): Optional. Logger description.\n- isBuffered (bool): Optional. Whether records are buffered in the logger before publishing.\n- type (string): Required. Logger type.\n- targetResourceId (string): Conditional. Azure Resource Id of a log target (either Azure Event Hub resource or Azure Application Insights resource). Required if loggerType = applicationInsights or azureEventHub.\n- credentials (secureObject): Conditional. The name and SendRule connection string of the event hub for azureEventHub logger. Instrumentation key for applicationInsights logger. Required if loggerType = applicationInsights or azureEventHub.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_api-management_service_named-value", "source": "res\\api-management\\service\\named-value\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Named Value' (Parent Chain: Api Management > Service).\nResource Type Path: api-management\\service\\named-value\nModule ID: br/public:res/api-management/service/named-value:0.1.0\nParameters:\n- apiManagementServiceName (string): Conditional. The name of the parent API Management service. Required if the template is used in a standalone deployment.\n- displayName (string): Required. Unique name of NamedValue. It may contain only letters, digits, period, dash, and underscore characters.\n- keyVault (object): Optional. KeyVault location details of the namedValue.\n- name (string): Required. Named value Name.\n- tags (array): Optional. Tags that when provided can be used to filter the NamedValue list. - string.\n- secret (bool): Optional. Determines whether the value is a secret and should be encrypted or not. Default value is false.\n- value (securestring): Optional. Value of the NamedValue. Can contain policy expressions. It may not be empty or consist only of whitespace. This property will not be filled on 'GET' operations! Use '/listSecrets' POST request to get the value.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_api-management_service_policy", "source": "res\\api-management\\service\\policy\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Policy' (Parent Chain: Api Management > Service).\nResource Type Path: api-management\\service\\policy\nModule ID: br/public:res/api-management/service/policy:0.1.0\nParameters:\n- apiManagementServiceName (string): Conditional. The name of the parent API Management service. Required if the template is used in a standalone deployment.\n- name (string): Optional. The name of the policy.\n- format (string): Optional. Format of the policyContent.\n- value (string): Required. Contents of the Policy as defined by the format.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_api-management_service_portalsetting", "source": "res\\api-management\\service\\portalsetting\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Portalsetting' (Parent Chain: Api Management > Service).\nResource Type Path: api-management\\service\\portalsetting\nModule ID: br/public:res/api-management/service/portalsetting:0.1.0\nParameters:\n- apiManagementServiceName (string): Conditional. The name of the parent API Management service. Required if the template is used in a standalone deployment.\n- name (string): Required. Portal setting name.\n- properties (object): Required. Portal setting properties.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_api-management_service_product", "source": "res\\api-management\\service\\product\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Product' (Parent Chain: Api Management > Service).\nResource Type Path: api-management\\service\\product\nModule ID: br/public:res/api-management/service/product:0.1.0\nParameters:\n- apiManagementServiceName (string): Conditional. The name of the parent API Management service. Required if the template is used in a standalone deployment.\n- displayName (string): Required. API Management Service Products name. Must be 1 to 300 characters long.\n- approvalRequired (bool): Optional. Whether subscription approval is required. If false, new subscriptions will be approved automatically enabling developers to call the products APIs immediately after subscribing. If true, administrators must manually approve the subscription before the developer can any of the products APIs. Can be present only if subscriptionRequired property is present and has a value of false.\n- description (string): Optional. Product description. May include HTML formatting tags.\n- apis (array): Optional. Names of Product APIs.\n- groups (array): Optional. Names of Product Groups.\n- name (string): Required. Product Name.\n- state (string): Optional. whether product is published or not. Published products are discoverable by users of developer portal. Non published products are visible only to administrators. Default state of Product is notPublished. - notPublished or published.\n- subscriptionRequired (bool): Optional. Whether a product subscription is required for accessing APIs included in this product. If true, the product is referred to as \"protected\" and a valid subscription key is required for a request to an API included in the product to succeed. If false, the product is referred to as \"open\" and requests to an API included in the product can be made without a subscription key. If property is omitted when creating a new product it's value is assumed to be true.\n- subscriptionsLimit (int): Optional. Whether the number of subscriptions a user can have to this product at the same time. Set to null or omit to allow unlimited per user subscriptions. Can be present only if subscriptionRequired property is present and has a value of false.\n- terms (string): Optional. Product terms of use. Developers trying to subscribe to the product will be presented and required to accept these terms before they can complete the subscription process.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_api-management_service_product_api", "source": "res\\api-management\\service\\product\\api\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Api' (Parent Chain: Api Management > Service > Product).\nResource Type Path: api-management\\service\\product\\api\nModule ID: br/public:res/api-management/service/product/api:0.1.0\nParameters:\n- apiManagementServiceName (string): Conditional. The name of the parent API Management service. Required if the template is used in a standalone deployment.\n- productName (string): Conditional. The name of the parent Product. Required if the template is used in a standalone deployment.\n- name (string): Required. Name of the product API.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_api-management_service_product_group", "source": "res\\api-management\\service\\product\\group\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Group' (Parent Chain: Api Management > Service > Product).\nResource Type Path: api-management\\service\\product\\group\nModule ID: br/public:res/api-management/service/product/group:0.1.0\nParameters:\n- apiManagementServiceName (string): Conditional. The name of the parent API Management service. Required if the template is used in a standalone deployment.\n- productName (string): Conditional. The name of the parent Product. Required if the template is used in a standalone deployment.\n- name (string): Required. Name of the product group.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_api-management_service_subscription", "source": "res\\api-management\\service\\subscription\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Subscription' (Parent Chain: Api Management > Service).\nResource Type Path: api-management\\service\\subscription\nModule ID: br/public:res/api-management/service/subscription:0.1.0\nParameters:\n- allowTracing (bool): Optional. Determines whether tracing can be enabled.\n- displayName (string): Required. API Management Service Subscriptions name. Must be 1 to 100 characters long.\n- apiManagementServiceName (string): Conditional. The name of the parent API Management service. Required if the template is used in a standalone deployment.\n- ownerId (string): Optional. User (user ID path) for whom subscription is being created in form /users/{userId}.\n- primaryKey (string): Optional. Primary subscription key. If not specified during request key will be generated automatically.\n- scope (string): Optional. Scope type to choose between a product, \"allAPIs\" or a specific API. Scope like \"/products/{productId}\" or \"/apis\" or \"/apis/{apiId}\".\n- secondaryKey (string): Optional. Secondary subscription key. If not specified during request key will be generated automatically.\n- state (string): Optional. Initial subscription state. If no value is specified, subscription is created with Submitted state. Possible states are \"*\" active \"?\" the subscription is active, \"*\" suspended \"?\" the subscription is blocked, and the subscriber cannot call any APIs of the product, * submitted ? the subscription request has been made by the developer, but has not yet been approved or rejected, * rejected ? the subscription request has been denied by an administrator, * cancelled ? the subscription has been cancelled by the developer or administrator, * expired ? the subscription reached its expiration date and was deactivated. - suspended, active, expired, submitted, rejected, cancelled.\n- name (string): Required. Subscription name.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_app_container-app", "source": "res\\app\\container-app\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Container App' (Parent Chain: App).\nResource Type Path: app\\container-app\nModule ID: br/public:res/app/container-app:0.19.0\nParameters:\n- name (string): Required. Name of the Container App.\n- location (string): Optional. Location for all Resources.\n- kind (string): Optional. Metadata used to render different experiences for resources of the same type.\n- disableIngress (bool): Optional. Bool to disable all ingress traffic for the container app.\n- ingressExternal (bool): Optional. Bool indicating if the App exposes an external HTTP endpoint.\n- clientCertificateMode (string): Optional. Client certificate mode for mTLS.\n- corsPolicy (N/A): Optional. Object userd to configure CORS policy.\n- stickySessionsAffinity (string): Optional. Bool indicating if the Container App should enable session affinity.\n- ingressTransport (string): Optional. Ingress transport protocol.\n- service (object): Optional. Dev ContainerApp service type.\n- includeAddOns (bool): Optional. Toggle to include the service configuration.\n- additionalPortMappings (array): Optional. Settings to expose additional ports on container app.\n- ingressAllowInsecure (bool): Optional. Bool indicating if HTTP connections to is allowed. If set to false HTTP connections are automatically redirected to HTTPS connections.\n- ingressTargetPort (int): Optional. Target Port in containers for traffic from ingress.\n- scaleSettings (N/A): Optional. The scaling settings of the service.\n- serviceBinds (array): Optional. List of container app services bound to the app.\n- activeRevisionsMode (string): Optional. Controls how active revisions are handled for the Container app.\n- environmentResourceId (string): Required. Resource ID of environment.\n- lock (N/A): Optional. The lock settings of the service.\n- tags (object): Optional. Tags of the resource.\n- registries (array): Optional. Collection of private container registry credentials for containers used by the Container app.\n- managedIdentities (N/A): Optional. The managed identity definition for this resource.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- customDomains (array): Optional. Custom domain bindings for Container App hostnames.\n- exposedPort (int): Optional. Exposed Port in containers for TCP traffic from ingress.\n- ipSecurityRestrictions (array): Optional. Rules to restrict incoming IP address.\n- trafficLabel (string): Optional. Associates a traffic label with a revision. Label name should be consist of lower case alphanumeric characters or dashes.\n- trafficLatestRevision (bool): Optional. Indicates that the traffic weight belongs to a latest stable revision.\n- trafficRevisionName (string): Optional. Name of a revision.\n- trafficWeight (int): Optional. Traffic weight assigned to a revision.\n- dapr (object): Optional. Dapr configuration for the Container App.\n- identitySettings (array): Optional. Settings for Managed Identities that are assigned to the Container App. If a Managed Identity is not specified here, default settings will be used.\n- maxInactiveRevisions (int): Optional. Max inactive revisions a Container App can have.\n- runtime (object): Optional. Runtime configuration for the Container App.\n- containers (array): Required. List of container definitions for the Container App.\n- terminationGracePeriodSeconds (int): Optional. The termination grace period for the container app.\n- initContainersTemplate (array): Optional. List of specialized containers that run before app containers.\n- secrets (array): Optional. The secrets of the Container App.\n- revisionSuffix (string): Optional. User friendly suffix that is appended to the revision name.\n- volumes (array): Optional. List of volume definitions for the Container App.\n- workloadProfileName (string): Optional. Workload profile name to pin for container app execution.\n- authConfig (N/A): Optional. The name of the Container App Auth configs.\n- diagnosticSettings (array): Optional. The diagnostic settings of the service."}
{"id": "res_app_container-app_auth-config", "source": "res\\app\\container-app\\auth-config\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Auth Config' (Parent Chain: App > Container App).\nResource Type Path: app\\container-app\\auth-config\nModule ID: br/public:res/app/container-app/auth-config:0.19.0\nParameters:\n- containerAppName (string): Conditional. The name of the parent Container App. Required if the template is used in a standalone deployment.\n- encryptionSettings (object): Optional. The configuration settings of the secrets references of encryption key and signing key for ContainerApp Service Authentication/Authorization.\n- globalValidation (object): Optional. The configuration settings that determines the validation flow of users using Service Authentication and/or Authorization.\n- httpSettings (object): Optional. The configuration settings of the HTTP requests for authentication and authorization requests made against ContainerApp Service Authentication/Authorization.\n- identityProviders (object): Optional. The configuration settings of each of the identity providers used to configure ContainerApp Service Authentication/Authorization.\n- login (object): Optional. The configuration settings of the login flow of users using ContainerApp Service Authentication/Authorization.\n- platform (object): Optional. The configuration settings of the platform of ContainerApp Service Authentication/Authorization."}
{"id": "res_app_job", "source": "res\\app\\job\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Job' (Parent Chain: App).\nResource Type Path: app\\job\nModule ID: br/public:res/app/job:0.7.0\nParameters:\n- name (string): Required. Name of the Container App.\n- location (string): Optional. Location for all Resources. Defaults to the location of the Resource Group.\n- environmentResourceId (string): Required. Resource ID of Container Apps Environment.\n- lock (N/A): Optional. The lock settings of the service.\n- tags (object): Optional. Tags of the resource.\n- registries (array): Optional. Collection of private container registry credentials for containers used by the Container app.\n- managedIdentities (N/A): Optional. The managed identity definition for this resource.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- containers (array): Required. List of container definitions for the Container App.\n- initContainers (array): Optional. List of specialized containers that run before app containers.\n- eventTriggerConfig (N/A): Conditional. Configuration of an event driven job. Required if `TriggerType` is `Event`.\n- scheduleTriggerConfig (N/A): Conditional. Configuration of a schedule based job. Required if `TriggerType` is `Schedule`.\n- manualTriggerConfig (N/A): Conditional. Configuration of a manually triggered job. Required if `TriggerType` is `Manual`.\n- replicaRetryLimit (int): Optional. The maximum number of times a replica can be retried.\n- workloadProfileName (string): Optional. The name of the workload profile to use. Leave empty to use a consumption based profile.\n- secrets (array): Optional. The secrets of the Container App.\n- volumes (array): Optional. List of volume definitions for the Container App.\n- replicaTimeout (int): Optional. Maximum number of seconds a replica is allowed to run.\n- triggerType (string): Required. Trigger type of the job."}
{"id": "res_app_managed-environment", "source": "res\\app\\managed-environment\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Managed Environment' (Parent Chain: App).\nResource Type Path: app\\managed-environment\nModule ID: br/public:res/app/managed-environment:0.11.0\nParameters:\n- name (string): Required. Name of the Container Apps Managed Environment.\n- location (string): Optional. Location for all Resources.\n- tags (object): Optional. Tags of the resource.\n- managedIdentities (N/A): Optional. The managed identity definition for this resource.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- appInsightsConnectionString (securestring): Optional. Application Insights connection string.\n- daprAIConnectionString (securestring): Optional. Application Insights connection string used by Dapr to export Service to Service communication telemetry.\n- daprAIInstrumentationKey (securestring): Optional. Azure Monitor instrumentation key used by Dapr to export Service to Service communication telemetry.\n- dockerBridgeCidr (string): Conditional. CIDR notation IP range assigned to the Docker bridge, network. It must not overlap with any other provided IP ranges and can only be used when the environment is deployed into a virtual network. If not provided, it will be set with a default value by the platform. Required if zoneRedundant is set to true to make the resource WAF compliant.\n- infrastructureSubnetResourceId (string): Conditional. Resource ID of a subnet for infrastructure components. This is used to deploy the environment into a virtual network. Must not overlap with any other provided IP ranges. Required if \"internal\" is set to true. Required if zoneRedundant is set to true to make the resource WAF compliant.\n- internal (bool): Conditional. Boolean indicating the environment only has an internal load balancer. These environments do not have a public static IP resource. If set to true, then \"infrastructureSubnetId\" must be provided. Required if zoneRedundant is set to true to make the resource WAF compliant.\n- platformReservedCidr (string): Conditional. IP range in CIDR notation that can be reserved for environment infrastructure IP addresses. It must not overlap with any other provided IP ranges and can only be used when the environment is deployed into a virtual network. If not provided, it will be set with a default value by the platform. Required if zoneRedundant is set to true  to make the resource WAF compliant.\n- platformReservedDnsIP (string): Conditional. An IP address from the IP range defined by \"platformReservedCidr\" that will be reserved for the internal DNS server. It must not be the first address in the range and can only be used when the environment is deployed into a virtual network. If not provided, it will be set with a default value by the platform. Required if zoneRedundant is set to true to make the resource WAF compliant.\n- peerTrafficEncryption (bool): Optional. Whether or not to encrypt peer traffic.\n- publicNetworkAccess (string): Optional. Whether to allow or block all public traffic.\n- zoneRedundant (bool): Optional. Whether or not this Managed Environment is zone-redundant.\n- certificatePassword (securestring): Optional. Password of the certificate used by the custom domain.\n- certificateValue (securestring): Optional. Certificate to use for the custom domain. PFX or PEM.\n- dnsSuffix (string): Optional. DNS suffix for the environment domain.\n- lock (N/A): Optional. The lock settings of the service.\n- openTelemetryConfiguration (object): Optional. Open Telemetry configuration.\n- workloadProfiles (array): Conditional. Workload profiles configured for the Managed Environment. Required if zoneRedundant is set to true to make the resource WAF compliant.\n- infrastructureResourceGroupName (string): Conditional. Name of the infrastructure resource group. If not provided, it will be set with a default value. Required if zoneRedundant is set to true to make the resource WAF compliant.\n- storages (array): Optional. The list of storages to mount on the environment.\n- certificate (N/A): Optional. A Managed Environment Certificate.\n- appLogsConfiguration (N/A): Optional. The AppLogsConfiguration for the Managed Environment."}
{"id": "res_app_managed-environment_certificates", "source": "res\\app\\managed-environment\\certificates\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Certificates' (Parent Chain: App > Managed Environment).\nResource Type Path: app\\managed-environment\\certificates\nModule ID: br/public:res/app/managed-environment/certificates:0.11.0\nParameters:\n- name (string): Required. Name of the Container Apps Managed Environment Certificate.\n- managedEnvironmentName (string): Conditional. The name of the parent app managed environment. Required if the template is used in a standalone deployment.\n- location (string): Optional. Location for all Resources.\n- certificateKeyVaultProperties (N/A): Optional. A key vault reference to the certificate to use for the custom domain.\n- certificateType (string): Optional. The type of the certificate.\n- certificateValue (string): Optional. The value of the certificate. PFX or PEM blob.\n- certificatePassword (securestring): Optional. The password of the certificate.\n- tags (object): Optional. Tags of the resource."}
{"id": "res_app_session-pool", "source": "res\\app\\session-pool\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Session Pool' (Parent Chain: App).\nResource Type Path: app\\session-pool\nModule ID: br/public:res/app/session-pool:0.2.0\nParameters:\n- name (string): Required. Name of the Container App Session Pool.\n- location (string): Optional. Location for all Resources.\n- containerType (string): Required. The container type of the sessions.\n- containers (array): Optional. Custom container definitions. Only required if containerType is CustomContainer.\n- targetIngressPort (int): Optional. Required if containerType == 'CustomContainer'. Target port in containers for traffic from ingress. Only required if containerType is CustomContainer.\n- registryCredentials (N/A): Optional. Container registry credentials. Only required if containerType is CustomContainer and the container registry requires authentication.\n- cooldownPeriodInSeconds (int): Optional. The cooldown period of a session in seconds.\n- maxConcurrentSessions (int): Optional. The maximum count of sessions at the same time.\n- readySessionInstances (int): Optional. The minimum count of ready session instances.\n- sessionNetworkStatus (string): Optional. Network status for the sessions. Defaults to EgressDisabled.\n- poolManagementType (string): Optional. The pool management type of the session pool. Defaults to Dynamic.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- managedIdentities (N/A): Optional. The managed identity definition for this resource.\n- managedIdentitySettings (array): Optional. Settings for a Managed Identity that is assigned to the Session pool.\n- environmentResourceId (string): Optional. Resource ID of the session pool's environment.\n- tags (object): Optional. Tags of the Automation Account resource.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_app-configuration_configuration-store", "source": "res\\app-configuration\\configuration-store\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Configuration Store' (Parent Chain: App Configuration).\nResource Type Path: app-configuration\\configuration-store\nModule ID: br/public:res/app-configuration/configuration-store:0.9.0\nParameters:\n- name (string): Required. Name of the Azure App Configuration.\n- location (string): Optional. Location for all Resources.\n- managedIdentities (N/A): Optional. The managed identity definition for this resource.\n- sku (string): Optional. Pricing tier of App Configuration.\n- createMode (string): Optional. Indicates whether the configuration store need to be recovered.\n- disableLocalAuth (bool): Optional. Disables all authentication methods other than AAD authentication.\n- enablePurgeProtection (bool): Optional. Property specifying whether protection against purge is enabled for this configuration store. Defaults to true unless sku is set to Free, since purge protection is not available in Free tier.\n- publicNetworkAccess (string): Optional. Whether or not public network access is allowed for this resource. For security reasons it should be disabled. If not specified, it will be disabled by default if private endpoints are set.\n- softDeleteRetentionInDays (int): Optional. The amount of time in days that the configuration store will be retained when it is soft deleted.\n- customerManagedKey (N/A): Optional. The customer managed key definition.\n- keyValues (array): Optional. All Key / Values to create. Requires local authentication to be enabled.\n- replicaLocations (array): Optional. All Replicas to create.\n- diagnosticSettings (array): Optional. The diagnostic settings of the service.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- tags (object): Optional. Tags of the resource.\n- dataPlaneProxy (N/A): Optional. Property specifying the configuration of data plane proxy for Azure Resource Manager (ARM).\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- privateEndpoints (array): Optional. Configuration details for private endpoints. For security reasons, it is recommended to use private endpoints whenever possible."}
{"id": "res_app-configuration_configuration-store_key-value", "source": "res\\app-configuration\\configuration-store\\key-value\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Key Value' (Parent Chain: App Configuration > Configuration Store).\nResource Type Path: app-configuration\\configuration-store\\key-value\nModule ID: br/public:res/app-configuration/configuration-store/key-value:0.9.0\nParameters:\n- name (string): Required. Name of the key.\n- value (string): Required. The value of the key-value.\n- appConfigurationName (string): Conditional. The name of the parent app configuration store. Required if the template is used in a standalone deployment.\n- contentType (string): Optional. The content type of the key-values value. Providing a proper content-type can enable transformations of values when they are retrieved by applications.\n- tags (object): Optional. Tags of the resource."}
{"id": "res_app-configuration_configuration-store_replica", "source": "res\\app-configuration\\configuration-store\\replica\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Replica' (Parent Chain: App Configuration > Configuration Store).\nResource Type Path: app-configuration\\configuration-store\\replica\nModule ID: br/public:res/app-configuration/configuration-store/replica:0.9.0\nParameters:\n- name (string): Optional. Name of the replica.\n- appConfigurationName (string): Conditional. The name of the parent app configuration store. Required if the template is used in a standalone deployment.\n- replicaLocation (string): Required. Location of the replica."}
{"id": "res_authorization_policy-assignment", "source": "res\\authorization\\policy-assignment\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Policy Assignment' (Parent Chain: Authorization).\nResource Type Path: authorization\\policy-assignment\nModule ID: br/public:res/authorization/policy-assignment:0.1.0\nParameters:\n"}
{"id": "res_authorization_policy-assignment_mg-scope", "source": "res\\authorization\\policy-assignment\\mg-scope\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Mg Scope' (Parent Chain: Authorization > Policy Assignment).\nResource Type Path: authorization\\policy-assignment\\mg-scope\nModule ID: br/public:res/authorization/policy-assignment/mg-scope:0.1.0\nParameters:\n- name (string): Required. Specifies the name of the policy assignment. Maximum length is 64 characters for subscription scope.\n- description (string): Optional. This message will be part of response in case of policy violation.\n- displayName (string): Optional. The display name of the policy assignment. Maximum length is 128 characters.\n- policyDefinitionId (string): Required. Specifies the ID of the policy definition or policy set definition being assigned.\n- parameters (object): Optional. Parameters for the policy assignment if needed.\n- roleDefinitionIds (array): Optional. The IDs Of the Azure Role Definition that are used to assign permissions to the policy's identity. You need to provide the fully qualified ID in the following format: '/providers/Microsoft.Authorization/roleDefinitions/c2f4ef07-c644-48eb-af81-4b1b4947fb11'.. See https://learn.microsoft.com/en-us/azure/role-based-access-control/built-in-roles for the list IDs for built-in Roles. They must match on what is on the policy definition.\n- metadata (object): Optional. The policy assignment metadata. Metadata is an open ended object and is typically a collection of key-value pairs.\n- nonComplianceMessages (array): Optional. The messages that describe why a resource is non-compliant with the policy.\n- enforcementMode (string): Optional. The policy assignment enforcement mode. Possible values are Default and DoNotEnforce. - Default or DoNotEnforce.\n- notScopes (array): Optional. The policy excluded scopes.\n- location (string): Optional. Location for all resources.\n- overrides (array): Optional. The policy property value override. Allows changing the effect of a policy definition without modifying the underlying policy definition or using a parameterized effect in the policy definition.\n- resourceSelectors (array): Optional. The resource selector list to filter policies by resource properties. Facilitates safe deployment practices (SDP) by enabling gradual roll out policy assignments based on factors like resource location, resource type, or whether a resource has a location.\n- definitionVersion (string): Optional. The policy definition version to use for the policy assignment. If not specified, the latest version of the policy definition will be used. For more information on policy assignment definition versions see https://learn.microsoft.com/azure/governance/policy/concepts/assignment-structure#policy-definition-id-and-version-preview.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- additionalManagementGroupsIDsToAssignRbacTo (array): Optional. An array of additional management group IDs to assign RBAC to for the policy assignment if it has an identity.\n- additionalSubscriptionIDsToAssignRbacTo (array): Optional. An array of additional Subscription IDs to assign RBAC to for the policy assignment if it has an identity.\n- additionalResourceGroupResourceIDsToAssignRbacTo (array): Optional. An array of additional Resource Group Resource IDs to assign RBAC to for the policy assignment if it has an identity.\n- managedIdentities (N/A): Optional. The managed identity definition for this resource."}
{"id": "res_authorization_policy-assignment_rg-scope", "source": "res\\authorization\\policy-assignment\\rg-scope\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Rg Scope' (Parent Chain: Authorization > Policy Assignment).\nResource Type Path: authorization\\policy-assignment\\rg-scope\nModule ID: br/public:res/authorization/policy-assignment/rg-scope:0.1.0\nParameters:\n- name (string): Required. Specifies the name of the policy assignment. Maximum length is 64 characters for subscription scope.\n- description (string): Optional. This message will be part of response in case of policy violation.\n- displayName (string): Optional. The display name of the policy assignment. Maximum length is 128 characters.\n- policyDefinitionId (string): Required. Specifies the ID of the policy definition or policy set definition being assigned.\n- parameters (object): Optional. Parameters for the policy assignment if needed.\n- roleDefinitionIds (array): Optional. The IDs Of the Azure Role Definition that are used to assign permissions to the policy's identity. You need to provide the fully qualified ID in the following format: '/providers/Microsoft.Authorization/roleDefinitions/c2f4ef07-c644-48eb-af81-4b1b4947fb11'.. See https://learn.microsoft.com/en-us/azure/role-based-access-control/built-in-roles for the list IDs for built-in Roles. They must match on what is on the policy definition.\n- metadata (object): Optional. The policy assignment metadata. Metadata is an open ended object and is typically a collection of key-value pairs.\n- nonComplianceMessages (array): Optional. The messages that describe why a resource is non-compliant with the policy.\n- enforcementMode (string): Optional. The policy assignment enforcement mode. Possible values are Default and DoNotEnforce. - Default or DoNotEnforce.\n- notScopes (array): Optional. The policy excluded scopes.\n- location (string): Optional. Location for all resources.\n- overrides (array): Optional. The policy property value override. Allows changing the effect of a policy definition without modifying the underlying policy definition or using a parameterized effect in the policy definition.\n- resourceSelectors (array): Optional. The resource selector list to filter policies by resource properties. Facilitates safe deployment practices (SDP) by enabling gradual roll out policy assignments based on factors like resource location, resource type, or whether a resource has a location.\n- definitionVersion (string): Optional. The policy definition version to use for the policy assignment. If not specified, the latest version of the policy definition will be used. For more information on policy assignment definition versions see https://learn.microsoft.com/azure/governance/policy/concepts/assignment-structure#policy-definition-id-and-version-preview.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- additionalResourceGroupResourceIDsToAssignRbacTo (array): Optional. An array of additional Resource Group Resource IDs to assign RBAC to for the policy assignment if it has an identity.\n- managedIdentities (N/A): Optional. The managed identity definition for this resource."}
{"id": "res_authorization_policy-assignment_sub-scope", "source": "res\\authorization\\policy-assignment\\sub-scope\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Sub Scope' (Parent Chain: Authorization > Policy Assignment).\nResource Type Path: authorization\\policy-assignment\\sub-scope\nModule ID: br/public:res/authorization/policy-assignment/sub-scope:0.1.0\nParameters:\n- name (string): Required. Specifies the name of the policy assignment. Maximum length is 64 characters for subscription scope.\n- description (string): Optional. This message will be part of response in case of policy violation.\n- displayName (string): Optional. The display name of the policy assignment. Maximum length is 128 characters.\n- policyDefinitionId (string): Required. Specifies the ID of the policy definition or policy set definition being assigned.\n- parameters (object): Optional. Parameters for the policy assignment if needed.\n- roleDefinitionIds (array): Optional. The IDs Of the Azure Role Definition that are used to assign permissions to the policy's identity. You need to provide the fully qualified ID in the following format: '/providers/Microsoft.Authorization/roleDefinitions/c2f4ef07-c644-48eb-af81-4b1b4947fb11'.. See https://learn.microsoft.com/en-us/azure/role-based-access-control/built-in-roles for the list IDs for built-in Roles. They must match on what is on the policy definition.\n- metadata (object): Optional. The policy assignment metadata. Metadata is an open ended object and is typically a collection of key-value pairs.\n- nonComplianceMessages (array): Optional. The messages that describe why a resource is non-compliant with the policy.\n- enforcementMode (string): Optional. The policy assignment enforcement mode. Possible values are Default and DoNotEnforce. - Default or DoNotEnforce.\n- notScopes (array): Optional. The policy excluded scopes.\n- location (string): Optional. Location for all resources.\n- overrides (array): Optional. The policy property value override. Allows changing the effect of a policy definition without modifying the underlying policy definition or using a parameterized effect in the policy definition.\n- resourceSelectors (array): Optional. The resource selector list to filter policies by resource properties. Facilitates safe deployment practices (SDP) by enabling gradual roll out policy assignments based on factors like resource location, resource type, or whether a resource has a location.\n- definitionVersion (string): Optional. The policy definition version to use for the policy assignment. If not specified, the latest version of the policy definition will be used. For more information on policy assignment definition versions see https://learn.microsoft.com/azure/governance/policy/concepts/assignment-structure#policy-definition-id-and-version-preview.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- additionalSubscriptionIDsToAssignRbacTo (array): Optional. An array of additional Subscription IDs to assign RBAC to for the policy assignment if it has an identity.\n- additionalResourceGroupResourceIDsToAssignRbacTo (array): Optional. An array of additional Resource Group Resource IDs to assign RBAC to for the policy assignment if it has an identity.\n- managedIdentities (N/A): Optional. The managed identity definition for this resource."}
{"id": "res_authorization_role-assignment", "source": "res\\authorization\\role-assignment\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Role Assignment' (Parent Chain: Authorization).\nResource Type Path: authorization\\role-assignment\nModule ID: br/public:res/authorization/role-assignment:0.1.0\nParameters:\n"}
{"id": "res_authorization_role-assignment_mg-scope", "source": "res\\authorization\\role-assignment\\mg-scope\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Mg Scope' (Parent Chain: Authorization > Role Assignment).\nResource Type Path: authorization\\role-assignment\\mg-scope\nModule ID: br/public:res/authorization/role-assignment/mg-scope:0.1.0\nParameters:\n- name (string): Optional. The name (as GUID) of the role assignment. If not provided, a GUID will be generated.\n- roleDefinitionIdOrName (string): Required. You can provide either the display name of the role definition (must be configured in the variable `builtInRoleNames`), or its fully qualified ID in the following format: '/providers/Microsoft.Authorization/roleDefinitions/c2f4ef07-c644-48eb-af81-4b1b4947fb11'.\n- principalId (string): Required. The Principal or Object ID of the Security Principal (User, Group, Service Principal, Managed Identity).\n- managementGroupId (string): Optional. Group ID of the Management Group to assign the RBAC role to. If not provided, will use the current scope for deployment.\n- description (string): Optional. The description of the role assignment.\n- delegatedManagedIdentityResourceId (string): Optional. ID of the delegated managed identity resource.\n- condition (string): Optional. The conditions on the role assignment. This limits the resources it can be assigned to.\n- conditionVersion (string): Optional. The version of the condition.\n- principalType (string): Optional. The principal type of the assigned principal ID.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- location (string): Optional. Location deployment metadata."}
{"id": "res_authorization_role-assignment_rg-scope", "source": "res\\authorization\\role-assignment\\rg-scope\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Rg Scope' (Parent Chain: Authorization > Role Assignment).\nResource Type Path: authorization\\role-assignment\\rg-scope\nModule ID: br/public:res/authorization/role-assignment/rg-scope:0.1.0\nParameters:\n- name (string): Optional. The name (as GUID) of the role assignment. If not provided, a GUID will be generated.\n- roleDefinitionIdOrName (string): Required. You can provide either the display name of the role definition (must be configured in the variable `builtInRoleNames`), or its fully qualified ID in the following format: '/providers/Microsoft.Authorization/roleDefinitions/c2f4ef07-c644-48eb-af81-4b1b4947fb11'.\n- principalId (string): Required. The Principal or Object ID of the Security Principal (User, Group, Service Principal, Managed Identity).\n- description (string): Optional. The description of the role assignment.\n- delegatedManagedIdentityResourceId (string): Optional. ID of the delegated managed identity resource.\n- condition (string): Optional. The conditions on the role assignment. This limits the resources it can be assigned to.\n- conditionVersion (string): Optional. The version of the condition.\n- principalType (string): Optional. The principal type of the assigned principal ID.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_authorization_role-assignment_sub-scope", "source": "res\\authorization\\role-assignment\\sub-scope\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Sub Scope' (Parent Chain: Authorization > Role Assignment).\nResource Type Path: authorization\\role-assignment\\sub-scope\nModule ID: br/public:res/authorization/role-assignment/sub-scope:0.1.0\nParameters:\n- name (string): Optional. The name (as GUID) of the role assignment. If not provided, a GUID will be generated.\n- roleDefinitionIdOrName (string): Required. You can provide either the display name of the role definition (must be configured in the variable `builtInRoleNames`), or its fully qualified ID in the following format: '/providers/Microsoft.Authorization/roleDefinitions/c2f4ef07-c644-48eb-af81-4b1b4947fb11'.\n- principalId (string): Required. The Principal or Object ID of the Security Principal (User, Group, Service Principal, Managed Identity).\n- description (string): Optional. The description of the role assignment.\n- delegatedManagedIdentityResourceId (string): Optional. ID of the delegated managed identity resource.\n- condition (string): Optional. The conditions on the role assignment. This limits the resources it can be assigned to.\n- conditionVersion (string): Optional. The version of the condition.\n- principalType (string): Optional. The principal type of the assigned principal ID.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- location (string): Optional. Location deployment metadata."}
{"id": "res_automation_automation-account", "source": "res\\automation\\automation-account\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Automation Account' (Parent Chain: Automation).\nResource Type Path: automation\\automation-account\nModule ID: br/public:res/automation/automation-account:0.16.0\nParameters:\n- name (string): Required. Name of the Automation Account.\n- location (string): Optional. Location for all resources.\n- skuName (string): Optional. SKU name of the account.\n- customerManagedKey (N/A): Optional. The customer managed key definition.\n- credentials (array): Optional. List of credentials to be created in the automation account.\n- modules (array): Optional. List of modules to be created in the automation account.\n- powershell72Modules (array): Optional. List of powershell72 modules to be created in the automation account.\n- python3Packages (array): Optional. List of python 3 packages to be created in the automation account.\n- python2Packages (array): Optional. List of python 2 packages to be created in the automation account.\n- runbooks (array): Optional. List of runbooks to be created in the automation account.\n- schedules (array): Optional. List of schedules to be created in the automation account.\n- jobSchedules (array): Optional. List of jobSchedules to be created in the automation account.\n- variables (array): Optional. List of variables to be created in the automation account.\n- webhooks (array): Optional. List of webhooks to be created in the automation account.\n- linkedWorkspaceResourceId (string): Optional. ID of the log analytics workspace to be linked to the deployed automation account.\n- gallerySolutions (array): Optional. List of gallerySolutions to be created in the linked log analytics workspace.\n- publicNetworkAccess (string): Optional. Whether or not public network access is allowed for this resource. For security reasons it should be disabled. If not specified, it will be disabled by default if private endpoints are set.\n- disableLocalAuth (bool): Optional. Disable local authentication profile used within the resource.\n- privateEndpoints (array): Optional. Configuration details for private endpoints. For security reasons, it is recommended to use private endpoints whenever possible.\n- diagnosticSettings (array): Optional. The diagnostic settings of the service.\n- managedIdentities (N/A): Optional. The managed identity definition for this resource.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- tags (object): Optional. Tags of the Automation Account resource.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_automation_automation-account_credential", "source": "res\\automation\\automation-account\\credential\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Credential' (Parent Chain: Automation > Automation Account).\nResource Type Path: automation\\automation-account\\credential\nModule ID: br/public:res/automation/automation-account/credential:0.16.0\nParameters:\n- automationAccountName (string): Conditional. The name of the parent Automation Account. Required if the template is used in a standalone deployment.\n- name (string): Required. Name of the Automation Account credential.\n- userName (string): Required. The user name associated to the credential.\n- password (securestring): Required. Password of the credential.\n- description (string): Optional. Description of the credential."}
{"id": "res_automation_automation-account_job-schedule", "source": "res\\automation\\automation-account\\job-schedule\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Job Schedule' (Parent Chain: Automation > Automation Account).\nResource Type Path: automation\\automation-account\\job-schedule\nModule ID: br/public:res/automation/automation-account/job-schedule:0.16.0\nParameters:\n- name (string): Generated. Name of the Automation Account job schedule. Must be a GUID and is autogenerated. No need to provide this value.\n- automationAccountName (string): Conditional. The name of the parent Automation Account. Required if the template is used in a standalone deployment.\n- runbookName (string): Required. The runbook property associated with the entity.\n- scheduleName (string): Required. The schedule property associated with the entity.\n- parameters (object): Optional. List of job properties.\n- runOn (string): Optional. The hybrid worker group that the scheduled job should run on."}
{"id": "res_automation_automation-account_module", "source": "res\\automation\\automation-account\\module\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Module' (Parent Chain: Automation > Automation Account).\nResource Type Path: automation\\automation-account\\module\nModule ID: br/public:res/automation/automation-account/module:0.16.0\nParameters:\n- name (string): Required. Name of the Automation Account module.\n- automationAccountName (string): Conditional. The name of the parent Automation Account. Required if the template is used in a standalone deployment.\n- uri (string): Required. Module package URI, e.g. https://www.powershellgallery.com/api/v2/package.\n- version (string): Optional. Module version or specify latest to get the latest version.\n- location (string): Optional. Location for all resources.\n- tags (object): Optional. Tags of the Automation Account resource."}
{"id": "res_automation_automation-account_powershell72-modules", "source": "res\\automation\\automation-account\\powershell72-modules\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Powershell72 Modules' (Parent Chain: Automation > Automation Account).\nResource Type Path: automation\\automation-account\\powershell72-modules\nModule ID: br/public:res/automation/automation-account/powershell72-modules:0.16.0\nParameters:\n- name (string): Required. Name of the Powershell72 Automation Account module.\n- automationAccountName (string): Conditional. The name of the parent Automation Account. Required if the template is used in a standalone deployment.\n- uri (string): Required. Module package URI, e.g. https://www.powershellgallery.com/api/v2/package.\n- version (string): Optional. Module version or specify latest to get the latest version.\n- location (string): Optional. Location for all resources.\n- tags (object): Optional. Tags of the Powershell 72 module resource."}
{"id": "res_automation_automation-account_python2-packages", "source": "res\\automation\\automation-account\\python2-packages\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Python2 Packages' (Parent Chain: Automation > Automation Account).\nResource Type Path: automation\\automation-account\\python2-packages\nModule ID: br/public:res/automation/automation-account/python2-packages:0.16.0\nParameters:\n- name (string): Required. Name of the Python2 Automation Account package.\n- automationAccountName (string): Conditional. The name of the parent Automation Account. Required if the template is used in a standalone deployment.\n- uri (string): Required. Package URI, e.g. https://www.powershellgallery.com/api/v2/package.\n- version (string): Optional. Package version or specify latest to get the latest version.\n- tags (object): Optional. Tags of the Automation Account resource."}
{"id": "res_automation_automation-account_python3-packages", "source": "res\\automation\\automation-account\\python3-packages\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Python3 Packages' (Parent Chain: Automation > Automation Account).\nResource Type Path: automation\\automation-account\\python3-packages\nModule ID: br/public:res/automation/automation-account/python3-packages:0.16.0\nParameters:\n- name (string): Required. Name of the Python3 Automation Account package.\n- automationAccountName (string): Conditional. The name of the parent Automation Account. Required if the template is used in a standalone deployment.\n- uri (string): Required. Package URI, e.g. https://www.powershellgallery.com/api/v2/package.\n- version (string): Optional. Package version or specify latest to get the latest version.\n- tags (object): Optional. Tags of the Automation Account resource."}
{"id": "res_automation_automation-account_runbook", "source": "res\\automation\\automation-account\\runbook\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Runbook' (Parent Chain: Automation > Automation Account).\nResource Type Path: automation\\automation-account\\runbook\nModule ID: br/public:res/automation/automation-account/runbook:0.16.0\nParameters:\n- name (string): Required. Name of the Automation Account runbook.\n- automationAccountName (string): Conditional. The name of the parent Automation Account. Required if the template is used in a standalone deployment.\n- type (string): Required. The type of the runbook.\n- description (string): Optional. The description of the runbook.\n- uri (string): Optional. The uri of the runbook content.\n- version (string): Optional. The version of the runbook content.\n- scriptStorageAccountResourceId (string): Optional. Resource Id of the runbook storage account.\n- baseTime (string): Generated. Time used as a basis for e.g. the schedule start date.\n- sasTokenValidityLength (string): Optional. SAS token validity length. Usage: 'PT8H' - valid for 8 hours; 'P5D' - valid for 5 days; 'P1Y' - valid for 1 year. When not provided, the SAS token will be valid for 8 hours.\n- location (string): Optional. Location for all resources.\n- tags (object): Optional. Tags of the Automation Account resource."}
{"id": "res_automation_automation-account_schedule", "source": "res\\automation\\automation-account\\schedule\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Schedule' (Parent Chain: Automation > Automation Account).\nResource Type Path: automation\\automation-account\\schedule\nModule ID: br/public:res/automation/automation-account/schedule:0.16.0\nParameters:\n- name (string): Required. Name of the Automation Account schedule.\n- automationAccountName (string): Conditional. The name of the parent Automation Account. Required if the template is used in a standalone deployment.\n- advancedSchedule (object): Optional. The properties of the create Advanced Schedule.\n- description (string): Optional. The description of the schedule.\n- expiryTime (string): Optional. The end time of the schedule.\n- frequency (string): Optional. The frequency of the schedule.\n- interval (int): Optional. Anything.\n- startTime (string): Optional. The start time of the schedule.\n- timeZone (string): Optional. The time zone of the schedule.\n- baseTime (string): Generated. Time used as a basis for e.g. the schedule start date."}
{"id": "res_automation_automation-account_variable", "source": "res\\automation\\automation-account\\variable\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Variable' (Parent Chain: Automation > Automation Account).\nResource Type Path: automation\\automation-account\\variable\nModule ID: br/public:res/automation/automation-account/variable:0.16.0\nParameters:\n- automationAccountName (string): Conditional. The name of the parent Automation Account. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the variable.\n- value (securestring): Required. The value of the variable. For security best practices, this value is always passed as a secure string as it could contain an encrypted value when the \"isEncrypted\" property is set to true.\n- description (string): Optional. The description of the variable.\n- isEncrypted (bool): Optional. If the variable should be encrypted. For security reasons encryption of variables should be enabled."}
{"id": "res_automation_automation-account_webhook", "source": "res\\automation\\automation-account\\webhook\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Webhook' (Parent Chain: Automation > Automation Account).\nResource Type Path: automation\\automation-account\\webhook\nModule ID: br/public:res/automation/automation-account/webhook:0.16.0\nParameters:\n- automationAccountName (string): Conditional. The name of the parent Automation Account. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the webhook.\n- runbookName (string): Required. The runbook in which the webhook will be used.\n- runOn (string): Optional. The hybrid worker group that the scheduled job should run on.\n- parameters (object): Optional. List of job properties.\n- expiryTime (string): Optional. The expiration time of the webhook."}
{"id": "res_azure-stack-hci_cluster_deployment-setting", "source": "res\\azure-stack-hci\\cluster\\deployment-setting\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Deployment Setting' (Parent Chain: Azure Stack Hci > Cluster).\nResource Type Path: azure-stack-hci\\cluster\\deployment-setting\nModule ID: br/public:res/azure-stack-hci/cluster/deployment-setting:0.2.0\nParameters:\n- name (string): Optional. The name of the deployment settings.\n- clusterName (string): Conditional. The name of the Azure Stack HCI cluster - this will be the name of your cluster in Azure. Required if the template is used in a standalone deployment.\n- clusterADName (string): Conditional. The name of the Azure Stack HCI cluster - this must be a valid Active Directory computer name. Required if the template is used in a standalone deployment.\n- deploymentMode (string): Required. First must pass with this parameter set to Validate prior running with it set to Deploy. If either Validation or Deployment phases fail, fix the issue, then resubmit the template with the same deploymentMode to retry.\n- deploymentPrefix (string): Required. The prefix for the resource for the deployment. This value is used in key vault and storage account names in this template, as well as for the deploymentSettings.properties.deploymentConfiguration.scaleUnits.deploymentData.namingPrefix property which requires regex pattern: ^[a-zA-Z0-9-]{1,8}$.\n- clusterNodeNames (array): Required. Names of the cluster node Arc Machine resources. These are the name of the Arc Machine resources created when the new HCI nodes were Arc initialized. Example: [hci-node-1, hci-node-2].\n- domainFqdn (string): Required. The domain name of the Active Directory Domain Services. Example: \"contoso.com\".\n- domainOUPath (string): Required. The ADDS OU path - ex \"OU=HCI,DC=contoso,DC=com\".\n- hvciProtection (bool): Optional. The Hypervisor-protected Code Integrity setting.\n- drtmProtection (bool): Optional. The hardware-dependent Secure Boot setting.\n- driftControlEnforced (bool): Optional. When set to true, the security baseline is re-applied regularly.\n- credentialGuardEnforced (bool): Optional. Enables the Credential Guard.\n- smbSigningEnforced (bool): Optional. When set to true, the SMB default instance requires sign in for the client and server services.\n- smbClusterEncryption (bool): Optional. When set to true, cluster east-west traffic is encrypted.\n- sideChannelMitigationEnforced (bool): Optional. When set to true, all the side channel mitigations are enabled.\n- bitlockerBootVolume (bool): Optional. When set to true, BitLocker XTS_AES 256-bit encryption is enabled for all data-at-rest on the OS volume of your Azure Stack HCI cluster. This setting is TPM-hardware dependent.\n- bitlockerDataVolumes (bool): Optional. When set to true, BitLocker XTS-AES 256-bit encryption is enabled for all data-at-rest on your Azure Stack HCI cluster shared volumes.\n- wdacEnforced (bool): Optional. Limits the applications and the code that you can run on your Azure Stack HCI cluster.\n- streamingDataClient (bool): Optional. The metrics data for deploying a HCI cluster.\n- isEuropeanUnionLocation (bool): Optional. The location data for deploying a HCI cluster.\n- episodicDataUpload (bool): Optional. The diagnostic data for deploying a HCI cluster.\n- storageConfigurationMode (string): Optional. The storage volume configuration mode. See documentation for details.\n- needArbSecret (bool): Required. If true, the service principal secret for ARB is required. If false, the secrets wiil not be required.\n- subnetMask (string): Required. The subnet mask pf the Management Network for the HCI cluster - ex: 255.255.252.0.\n- defaultGateway (string): Required. The default gateway of the Management Network. Example: 192.168.0.1.\n- startingIPAddress (string): Required. The starting IP address for the Infrastructure Network IP pool. There must be at least 6 IPs between startingIPAddress and endingIPAddress and this pool should be not include the node IPs.\n- endingIPAddress (string): Required. The ending IP address for the Infrastructure Network IP pool. There must be at least 6 IPs between startingIPAddress and endingIPAddress and this pool should be not include the node IPs.\n- dnsServers (array): Required. The DNS servers accessible from the Management Network for the HCI cluster.\n- networkIntents (array): Required. An array of Network ATC Network Intent objects that define the Compute, Management, and Storage network configuration for the cluster.\n- storageConnectivitySwitchless (bool): Required. Specify whether the Storage Network connectivity is switched or switchless.\n- enableStorageAutoIp (bool): Optional. Enable storage auto IP assignment. This should be true for most deployments except when deploying a three-node switchless cluster, in which case storage IPs should be configured before deployment and this value set to false.\n- storageNetworks (array): Required. An array of JSON objects that define the storage network configuration for the cluster. Each object should contain the adapterName, VLAN properties, and (optionally) IP configurations.\n- customLocationName (string): Required. The name of the Custom Location associated with the Arc Resource Bridge for this cluster. This value should reflect the physical location and identifier of the HCI cluster. Example: cl-hci-den-clu01.\n- clusterWitnessStorageAccountName (string): Required. The name of the storage account to be used as the witness for the HCI Windows Failover Cluster.\n- keyVaultName (string): Required. The name of the key vault to be used for storing secrets for the HCI cluster.\n- cloudId (string): Optional. If using a shared key vault or non-legacy secret naming, pass the properties.cloudId guid from the pre-created HCI cluster resource.\n- operationType (string): Optional. The intended operation for a cluster."}
{"id": "res_azure-stack-hci_logical-network", "source": "res\\azure-stack-hci\\logical-network\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Logical Network' (Parent Chain: Azure Stack Hci).\nResource Type Path: azure-stack-hci\\logical-network\nModule ID: br/public:res/azure-stack-hci/logical-network:0.2.0\nParameters:\n- name (string): Required. Name of the resource to create.\n- location (string): Optional. Location for all Resources.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- customLocationResourceId (string): Required. The custom location ID.\n- vmSwitchName (string): Required. The VM switch name.\n- subnet0Name (string): Optional. The subnet name.\n- ipAllocationMethod (string): Optional. The IP allocation method.\n- dnsServers (array): Conditional. The DNS servers list. Required if ipAllocationMethod is Static.\n- tags (object): Optional. Tags for the logical network.\n- addressPrefix (string): Conditional. Address prefix for the logical network. Required if ipAllocationMethod is Static.\n- vlanId (int): Optional. VLan Id for the logical network.\n- ipConfigurationReferences (array): Optional. A list of IP configuration references.\n- ipPools (array): Conditional. Network associated pool of IP Addresses. Required if ipAllocationMethod is Static.\n- routeName (string): Conditional. The route name. Required if ipAllocationMethod is Static.\n- defaultGateway (string): Conditional. The default gateway for the network. Required if ipAllocationMethod is Static.\n- roleAssignments (array): Optional. Array of role assignments to create."}
{"id": "res_azure-stack-hci_marketplace-gallery-image", "source": "res\\azure-stack-hci\\marketplace-gallery-image\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Marketplace Gallery Image' (Parent Chain: Azure Stack Hci).\nResource Type Path: azure-stack-hci\\marketplace-gallery-image\nModule ID: br/public:res/azure-stack-hci/marketplace-gallery-image:0.1.0\nParameters:\n- name (string): Required. Name of the resource to create.\n- location (string): Optional. Location for all Resources.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- customLocationResourceId (string): Required. The custom location ID.\n- osType (string): Required. Operating system type that the gallery image uses.\n- identifier (object): Required. The gallery image identifier configuration containing publisher, offer, and SKU.\n- hyperVGeneration (string): Optional. The hypervisor generation of the Virtual Machine.\n- cloudInitDataSource (string): Optional. Datasource for the gallery image when provisioning with cloud-init.\n- containerResourceId (string): Optional. Storage Container resourceId of the storage container to be used for marketplace gallery image.\n- version (object): Required. Gallery image version configuration.\n- tags (object): Optional. Tags for the marketplace gallery image.\n- roleAssignments (array): Optional. Array of role assignments to create."}
{"id": "res_azure-stack-hci_network-interface", "source": "res\\azure-stack-hci\\network-interface\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Network Interface' (Parent Chain: Azure Stack Hci).\nResource Type Path: azure-stack-hci\\network-interface\nModule ID: br/public:res/azure-stack-hci/network-interface:0.1.0\nParameters:\n- name (string): Required. Name of the resource to create.\n- location (string): Optional. Location for all Resources.\n- tags (object): Optional. Tags of the resource.\n- customLocationResourceId (string): Required. Resource ID of the associated custom location.\n- ipConfigurations (array): Required. A list of IPConfigurations of the network interface.\n- dnsServers (array): Optional. DNS servers array for NIC. These are only applied during NIC creation.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- roleAssignments (array): Optional. Array of role assignments to create."}
{"id": "res_azure-stack-hci_virtual-hard-disk", "source": "res\\azure-stack-hci\\virtual-hard-disk\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Virtual Hard Disk' (Parent Chain: Azure Stack Hci).\nResource Type Path: azure-stack-hci\\virtual-hard-disk\nModule ID: br/public:res/azure-stack-hci/virtual-hard-disk:0.1.0\nParameters:\n- name (string): Required. Name of the resource to create.\n- location (string): Optional. Location for all Resources.\n- tags (object): Optional. Tags of the resource.\n- customLocationResourceId (string): Required. Resource ID of the associated custom location.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- diskSizeGB (int): Required. The size of the disk in GB.\n- dynamic (bool): Required. The disk type.\n- containerId (string): Optional. Storage ContainerID of the storage container to be used for VHD.\n- roleAssignments (array): Optional. Array of role assignments to create."}
{"id": "res_azure-stack-hci_virtual-machine-instance", "source": "res\\azure-stack-hci\\virtual-machine-instance\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Virtual Machine Instance' (Parent Chain: Azure Stack Hci).\nResource Type Path: azure-stack-hci\\virtual-machine-instance\nModule ID: br/public:res/azure-stack-hci/virtual-machine-instance:0.1.0\nParameters:\n- name (string): Required. Name of the resource to create.\n- location (string): Optional. Location for all Resources.\n- customLocationResourceId (string): Required. Resource ID of the associated custom location.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- hardwareProfile (object): Required. Hardware profile configuration.\n- httpProxyConfig (object): Optional. HTTP proxy configuration.\n- networkProfile (object): Required. Network profile configuration.\n- osProfile (object): Required. OS profile configuration.\n- securityProfile (object): Optional. Security profile configuration.\n- storageProfile (object): Required. Storage profile configuration.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- adminPassword (securestring): Optional. The password of arc vm. If it is provided, it will be used for the admin account in osProfile.\n- httpProxy (securestring): Optional. The HTTP proxy server endpoint to use. If it is provided, it will be used in HttpProxyConfiguration.\n- httpsProxy (securestring): Optional. The HTTPS proxy server endpoint to use. If it is provided, it will be used in HttpProxyConfiguration."}
{"id": "res_batch_batch-account", "source": "res\\batch\\batch-account\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Batch Account' (Parent Chain: Batch).\nResource Type Path: batch\\batch-account\nModule ID: br/public:res/batch/batch-account:0.11.0\nParameters:\n- name (string): Required. Name of the Azure Batch.\n- location (string): Optional. Location for all Resources.\n- storageAccountResourceId (string): Required. The resource ID of the storage account to be used for auto-storage account.\n- storageAuthenticationMode (string): Optional. The authentication mode which the Batch service will use to manage the auto-storage account.\n- storageAccessIdentityResourceId (string): Optional. The resource ID of a user assigned identity assigned to pools which have compute nodes that need access to auto-storage.\n- poolAllocationMode (string): Optional. The allocation mode for creating pools in the Batch account. Determines which quota will be used.\n- keyVaultReferenceResourceId (string): Conditional. The key vault to associate with the Batch account. Required if the 'poolAllocationMode' is set to 'UserSubscription' and requires the service principal 'Microsoft Azure Batch' to be granted contributor permissions on this key vault.\n- privateEndpoints (array): Optional. Configuration details for private endpoints. For security reasons, it is recommended to use private endpoints whenever possible.\n- publicNetworkAccess (string): Optional. Whether or not public network access is allowed for this resource. For security reasons it should be disabled. If not specified, it will be disabled by default if private endpoints are set and networkProfile is not set.\n- networkProfile (N/A): Optional. Network access profile. It is only applicable when publicNetworkAccess is not explicitly disabled.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- tags (object): Optional. Tags of the resource.\n- allowedAuthenticationModes (array): Optional. List of allowed authentication modes for the Batch account that can be used to authenticate with the data plane.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- diagnosticSettings (array): Optional. The diagnostic settings of the service.\n- customerManagedKey (N/A): Optional. The customer managed key definition.\n- managedIdentities (N/A): Optional. The managed identity definition for this resource."}
{"id": "res_cache_redis", "source": "res\\cache\\redis\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Redis' (Parent Chain: Cache).\nResource Type Path: cache\\redis\nModule ID: br/public:res/cache/redis:0.16.0\nParameters:\n- location (string): Optional. The location to deploy the Redis cache service.\n- name (string): Required. The name of the Redis cache resource.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- tags (object): Optional. Tags of the resource.\n- managedIdentities (N/A): Optional. The managed identity definition for this resource.\n- disableAccessKeyAuthentication (bool): Optional. Disable authentication via access keys.\n- enableNonSslPort (bool): Optional. Specifies whether the non-ssl Redis server port (6379) is enabled.\n- minimumTlsVersion (string): Optional. Requires clients to use a specified TLS version (or higher) to connect.\n- publicNetworkAccess (string): Optional. Whether or not public network access is allowed for this resource. For security reasons it should be disabled. If not specified, it will be disabled by default if private endpoints are set.\n- redisConfiguration (object): Optional. All Redis Settings. Few possible keys: rdb-backup-enabled,rdb-storage-connection-string,rdb-backup-frequency,maxmemory-delta,maxmemory-policy,notify-keyspace-events,maxmemory-samples,slowlog-log-slower-than,slowlog-max-len,list-max-ziplist-entries,list-max-ziplist-value,hash-max-ziplist-entries,hash-max-ziplist-value,set-max-intset-entries,zset-max-ziplist-entries,zset-max-ziplist-value etc.\n- redisVersion (string): Optional. Redis version. Only major version will be used in PUT/PATCH request with current valid values: (4, 6).\n- replicasPerMaster (int): Optional. The number of replicas to be created per primary.\n- replicasPerPrimary (int): Optional. The number of replicas to be created per primary. Needs to be the same as replicasPerMaster for a Premium Cluster Cache.\n- shardCount (int): Optional. The number of shards to be created on a Premium Cluster Cache.\n- capacity (int): Optional. The size of the Redis cache to deploy. Valid values: for C (Basic/Standard) family (0, 1, 2, 3, 4, 5, 6), for P (Premium) family (1, 2, 3, 4).\n- skuName (string): Optional. The type of Redis cache to deploy.\n- staticIP (string): Optional. Static IP address. Optionally, may be specified when deploying a Redis cache inside an existing Azure Virtual Network; auto assigned by default.\n- subnetResourceId (string): Optional. The full resource ID of a subnet in a virtual network to deploy the Redis cache in.\n- tenantSettings (object): Optional. A dictionary of tenant settings.\n- zoneRedundant (bool): Optional. When true, replicas will be provisioned in availability zones specified in the zones parameter.\n- availabilityZones (array): Optional. If the zoneRedundant parameter is true, replicas will be provisioned in the availability zones specified here. Otherwise, the service will choose where replicas are deployed.\n- zonalAllocationPolicy (string): Optional. Specifies how availability zones are allocated to the Redis cache. \"Automatic\" enables zone redundancy and Azure will automatically select zones. \"UserDefined\" will select availability zones passed in by you using the \"availabilityZones\" parameter. \"NoZones\" will produce a non-zonal cache. Only applicable when zoneRedundant is true.\n- privateEndpoints (array): Optional. Configuration details for private endpoints. For security reasons, it is recommended to use private endpoints whenever possible.\n- geoReplicationObject (N/A): Optional. The geo-replication settings of the service. Requires a Premium SKU. Geo-replication is not supported on a cache with multiple replicas per primary. Secondary cache VM Size must be same or higher as compared to the primary cache VM Size. Geo-replication between a vnet and non vnet cache (and vice-a-versa) not supported.\n- diagnosticSettings (array): Optional. The diagnostic settings of the service.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- accessPolicies (array): Optional. Array of access policies to create.\n- accessPolicyAssignments (array): Optional. Array of access policy assignments.\n- firewallRules (array): Optional. The firewall rules of the Redis Cache.\n- secretsExportConfiguration (N/A): Optional. Key vault reference and secret settings for the module's secrets export."}
{"id": "res_cache_redis_access-policy", "source": "res\\cache\\redis\\access-policy\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Access Policy' (Parent Chain: Cache > Redis).\nResource Type Path: cache\\redis\\access-policy\nModule ID: br/public:res/cache/redis/access-policy:0.16.0\nParameters:\n- redisCacheName (string): Required. The name of the Redis cache.\n- name (string): Required. The name of the access policy.\n- permissions (string): Required. Permissions associated with the access policy."}
{"id": "res_cache_redis_access-policy-assignment", "source": "res\\cache\\redis\\access-policy-assignment\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Access Policy Assignment' (Parent Chain: Cache > Redis).\nResource Type Path: cache\\redis\\access-policy-assignment\nModule ID: br/public:res/cache/redis/access-policy-assignment:0.16.0\nParameters:\n- redisCacheName (string): Required. The name of the Redis cache.\n- objectId (string): Required. Object ID to which the access policy will be assigned.\n- name (string): Optional. The name of the assignment. By default uses the Object ID to which the access policy will be assigned.\n- objectIdAlias (string): Required. Alias for the target object ID.\n- accessPolicyName (string): Required. Name of the access policy to be assigned."}
{"id": "res_cache_redis_firewall-rule", "source": "res\\cache\\redis\\firewall-rule\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Firewall Rule' (Parent Chain: Cache > Redis).\nResource Type Path: cache\\redis\\firewall-rule\nModule ID: br/public:res/cache/redis/firewall-rule:0.16.0\nParameters:\n- redisCacheName (string): Required. Redis cache name.\n- name (string): Required. The name of the Redis Cache Firewall Rule.\n- startIP (string): Required. The start IP address of the firewall rule. Must be IPv4 format. Use value '0.0.0.0' for all Azure-internal IP addresses.\n- endIP (string): Required. The end IP address of the firewall rule. Must be IPv4 format. Must be greater than or equal to startIpAddress. Use value '0.0.0.0' for all Azure-internal IP addresses."}
{"id": "res_cache_redis_linked-servers", "source": "res\\cache\\redis\\linked-servers\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Linked Servers' (Parent Chain: Cache > Redis).\nResource Type Path: cache\\redis\\linked-servers\nModule ID: br/public:res/cache/redis/linked-servers:0.16.0\nParameters:\n- redisCacheName (string): Required. Primary Redis cache name.\n- name (string): Optional. The name of the secondary Redis cache. If not provided, the primary Redis cache name is used.\n- linkedRedisCacheResourceId (string): Required. The resource ID of the linked server.\n- linkedRedisCacheLocation (string): Optional. The location of the linked server. If not provided, the location of the primary Redis cache is used.\n- serverRole (string): Optional. The role of the linked server. Possible values include: \"Primary\", \"Secondary\". Default value is \"Secondary\"."}
{"id": "res_cache_redis-enterprise", "source": "res\\cache\\redis-enterprise\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Redis Enterprise' (Parent Chain: Cache).\nResource Type Path: cache\\redis-enterprise\nModule ID: br/public:res/cache/redis-enterprise:0.3.0\nParameters:\n- location (string): Optional. Location for all resources.\n- name (string): Required. The name of the cache resource.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- tags (object): Optional. Tags of the resource.\n- managedIdentities (N/A): Conditional. The managed identity definition for this resource. Required if 'customerManagedKey' is not empty.\n- customerManagedKey (N/A): Optional. The customer managed key definition to use for the managed service.\n- highAvailability (string): Optional. Specifies whether to enable data replication for high availability. Used only with Azure Managed Redis SKUs: Balanced, ComputeOptimized, FlashOptimized, and MemoryOptimized.\n- minimumTlsVersion (string): Optional. The minimum TLS version for the Redis cluster to support.\n- capacity (int): Optional. The size of the cluster. Only supported on Redis Enterprise SKUs: Enterprise, EnterpriseFlash. Valid values are (2, 4, 6, 8, 10) for Enterprise SKUs and (3, 9) for EnterpriseFlash SKUs. [Learn more](https://learn.microsoft.com/azure/azure-cache-for-redis/cache-best-practices-enterprise-tiers#sharding-and-cpu-utilization).\n- skuName (string): Optional. The type of cluster to deploy. Some Azure Managed Redis SKUs ARE IN PREVIEW, MICROSOFT MAY NOT PROVIDE SUPPORT FOR THIS, PLEASE CHECK THE [PRODUCT DOCS](https://learn.microsoft.com/azure/redis/overview#choosing-the-right-tier) FOR CLARIFICATION.\n- availabilityZones (array): Optional. The Availability Zones to place the resources in. Currently only supported on Enterprise and EnterpriseFlash SKUs.\n- database (N/A): Optional. Database configuration.\n- privateEndpoints (array): Optional. Configuration details for private endpoints. For security reasons, it is recommended to use private endpoints whenever possible.\n- diagnosticSettings (array): Optional. The cluster-level diagnostic settings of the service.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_cache_redis-enterprise_database", "source": "res\\cache\\redis-enterprise\\database\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Database' (Parent Chain: Cache > Redis Enterprise).\nResource Type Path: cache\\redis-enterprise\\database\nModule ID: br/public:res/cache/redis-enterprise/database:0.3.0\nParameters:\n- redisClusterName (string): Conditional. The name of the parent Redis Enterprise or Azure Managed Redis resource. Required if the template is used in a standalone deployment.\n- name (string): Optional. Name of the database.\n- accessKeysAuthentication (string): Optional. Allow authentication via access keys. Only supported on Azure Managed Redis SKUs: Balanced, ComputeOptimized, FlashOptimized, and MemoryOptimized.\n- clientProtocol (string): Optional. Specifies whether Redis clients can connect using TLS-encrypted or plaintext Redis protocols.\n- clusteringPolicy (string): Optional. Redis clustering policy. [Learn more](https://learn.microsoft.com/azure/redis/architecture#cluster-policies).\n- deferUpgrade (string): Optional. Specifies whether to defer future Redis major version upgrades by up to 90 days. [Learn more](https://aka.ms/redisversionupgrade#defer-upgrades).\n- evictionPolicy (string): Optional. Specifies the eviction policy for the Redis resource.\n- geoReplication (N/A): Optional. The active geo-replication settings of the service. All caches within a geo-replication group must have the same configuration.\n- modules (array): Optional. Redis modules to enable. Restrictions may apply based on SKU and configuration. [Learn more](https://aka.ms/redis/enterprise/modules).\n- port (int): Optional. TCP port of the database endpoint.\n- persistence (N/A): Optional. The persistence settings of the service. THIS IS A PARAMETER USED FOR A PREVIEW SERVICE/FEATURE, MICROSOFT MAY NOT PROVIDE SUPPORT FOR THIS, PLEASE CHECK THE [PRODUCT DOCS](https://learn.microsoft.com/azure/redis/how-to-persistence) FOR CLARIFICATION.\n- accessPolicyAssignments (array): Optional. Access policy assignments for Microsoft Entra authentication. Only supported on Azure Managed Redis SKUs: Balanced, ComputeOptimized, FlashOptimized, and MemoryOptimized.\n- secretsExportConfiguration (N/A): Optional. Key vault reference and secret settings for the module's secrets export.\n- diagnosticSettings (array): Optional. The database-level diagnostic settings of the service."}
{"id": "res_cache_redis-enterprise_database_access-policy-assignment", "source": "res\\cache\\redis-enterprise\\database\\access-policy-assignment\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Access Policy Assignment' (Parent Chain: Cache > Redis Enterprise > Database).\nResource Type Path: cache\\redis-enterprise\\database\\access-policy-assignment\nModule ID: br/public:res/cache/redis-enterprise/database/access-policy-assignment:0.3.0\nParameters:\n- name (string): Optional. Name of the access policy assignment.\n- userObjectId (string): Required. Object ID to which the access policy will be assigned.\n- clusterName (string): Conditional. The name of the grandparent Azure Managed Redis cluster. Required if the template is used in a standalone deployment.\n- databaseName (string): Conditional. The name of the parent Azure Managed Redis database. Required if the template is used in a standalone deployment.\n- accessPolicyName (string): Optional. Name of the access policy to be assigned."}
{"id": "res_cdn_profile", "source": "res\\cdn\\profile\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Profile' (Parent Chain: Cdn).\nResource Type Path: cdn\\profile\nModule ID: br/public:res/cdn/profile:0.16.0\nParameters:\n- name (string): Required. Name of the CDN profile.\n- location (string): Optional. Location for all Resources.\n- sku (string): Required. The pricing tier (defines a CDN provider, feature list and rate) of the CDN profile.\n- originResponseTimeoutSeconds (int): Optional. Send and receive timeout on forwarding request to the origin.\n- endpoint (N/A): Optional. Endpoint properties (see https://learn.microsoft.com/en-us/azure/templates/microsoft.cdn/profiles/endpoints?pivots=deployment-language-bicep#endpointproperties for details).\n- secrets (array): Optional. Array of secret objects.\n- customDomains (array): Optional. Array of custom domain objects.\n- originGroups (array): Conditional. Array of origin group objects. Required if the afdEndpoints is specified.\n- ruleSets (array): Optional. Array of rule set objects.\n- afdEndpoints (array): Optional. Array of AFD endpoint objects.\n- securityPolicies (array): Optional. Array of Security Policy objects (see https://learn.microsoft.com/en-us/azure/templates/microsoft.cdn/profiles/securitypolicies for details).\n- tags (object): Optional. Endpoint tags.\n- managedIdentities (N/A): Optional. The managed identity definition for this resource.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- diagnosticSettings (array): Optional. The diagnostic settings of the service."}
{"id": "res_cdn_profile_afd-endpoint", "source": "res\\cdn\\profile\\afd-endpoint\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Afd Endpoint' (Parent Chain: Cdn > Profile).\nResource Type Path: cdn\\profile\\afd-endpoint\nModule ID: br/public:res/cdn/profile/afd-endpoint:0.16.0\nParameters:\n- name (string): Required. The name of the AFD Endpoint.\n- profileName (string): Conditional. The name of the parent CDN profile. Required if the template is used in a standalone deployment.\n- location (string): Optional. The location of the AFD Endpoint.\n- tags (object): Optional. The tags of the AFD Endpoint.\n- autoGeneratedDomainNameLabelScope (string): Optional. Indicates the endpoint name reuse scope. The default value is TenantReuse.\n- enabledState (string): Optional. Indicates whether the AFD Endpoint is enabled. The default value is Enabled.\n- routes (array): Optional. The list of routes for this AFD Endpoint."}
{"id": "res_cdn_profile_afd-endpoint_route", "source": "res\\cdn\\profile\\afd-endpoint\\route\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Route' (Parent Chain: Cdn > Profile > Afd Endpoint).\nResource Type Path: cdn\\profile\\afd-endpoint\\route\nModule ID: br/public:res/cdn/profile/afd-endpoint/route:0.16.0\nParameters:\n- name (string): Required. The name of the route.\n- profileName (string): Required. The name of the parent CDN profile.\n- afdEndpointName (string): Required. The name of the AFD endpoint.\n- cacheConfiguration (object): Optional. The caching configuration for this route. To disable caching, do not provide a cacheConfiguration object.\n- customDomainNames (array): Optional. The names of the custom domains. The custom domains must be defined in the profile customDomains array.\n- forwardingProtocol (string): Optional. The protocol this rule will use when forwarding traffic to backends.\n- enabledState (string): Optional. Whether this route is enabled.\n- httpsRedirect (string): Optional. Whether to automatically redirect HTTP traffic to HTTPS traffic.\n- linkToDefaultDomain (string): Optional. Whether this route will be linked to the default endpoint domain.\n- originGroupName (string): Required. The name of the origin group. The origin group must be defined in the profile originGroups.\n- originPath (string): Optional. A directory path on the origin that AzureFrontDoor can use to retrieve content from, e.g. contoso.cloudapp.net/originpath.\n- patternsToMatch (array): Optional. The route patterns of the rule.\n- ruleSets (array): Optional. The names of the rule sets of the rule. The rule sets must be defined in the profile ruleSets.\n- supportedProtocols (array): Optional. The supported protocols of the rule."}
{"id": "res_cdn_profile_custom-domain", "source": "res\\cdn\\profile\\custom-domain\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Custom Domain' (Parent Chain: Cdn > Profile).\nResource Type Path: cdn\\profile\\custom-domain\nModule ID: br/public:res/cdn/profile/custom-domain:0.16.0\nParameters:\n- name (string): Required. The name of the custom domain.\n- profileName (string): Required. The name of the CDN profile.\n- hostName (string): Required. The host name of the domain. Must be a domain name.\n- azureDnsZoneResourceId (string): Optonal. Resource reference to the Azure DNS zone.\n- extendedProperties (object): Optional. Key-Value pair representing migration properties for domains.\n- preValidatedCustomDomainResourceId (string): Optional. Resource reference to the Azure resource where custom domain ownership was prevalidated.\n- certificateType (string): Required. The type of the certificate used for secure delivery.\n- minimumTlsVersion (string): Optional. The minimum TLS version required for the custom domain. Default value: TLS12.\n- secretName (string): Optional. The name of the secret. ie. subs/rg/profile/secret.\n- cipherSuiteSetType (string): Optional. The cipher suite set type that will be used for Https.\n- customizedCipherSuiteSet (object): Optional. The customized cipher suite set that will be used for Https. Required if cipherSuiteSetType is Customized."}
{"id": "res_cdn_profile_endpoint", "source": "res\\cdn\\profile\\endpoint\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Endpoint' (Parent Chain: Cdn > Profile).\nResource Type Path: cdn\\profile\\endpoint\nModule ID: br/public:res/cdn/profile/endpoint:0.16.0\nParameters:\n- profileName (string): Conditional. The name of the parent CDN profile. Required if the template is used in a standalone deployment.\n- name (string): Required. Name of the endpoint under the profile which is unique globally.\n- location (string): Optional. Resource location.\n- properties (object): Required. Endpoint properties (see https://learn.microsoft.com/en-us/azure/templates/microsoft.cdn/profiles/endpoints?pivots=deployment-language-bicep#endpointproperties for details).\n- tags (object): Optional. Endpoint tags."}
{"id": "res_cdn_profile_endpoint_origin", "source": "res\\cdn\\profile\\endpoint\\origin\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Origin' (Parent Chain: Cdn > Profile > Endpoint).\nResource Type Path: cdn\\profile\\endpoint\\origin\nModule ID: br/public:res/cdn/profile/endpoint/origin:0.16.0\nParameters:\n- endpointName (string): Required. The name of the CDN Endpoint.\n- name (string): Required. The name of the origin.\n- enabled (bool): Optional. Whether the origin is enabled for load balancing.\n- hostName (string): Required. The hostname of the origin.\n- httpPort (int): Optional. The HTTP port of the origin.\n- httpsPort (int): Optional. The HTTPS port of the origin.\n- priority (int): Conditional. The priority of origin in given origin group for load balancing. Required if `weight` is provided.\n- weight (int): Conditional. The weight of the origin used for load balancing. Required if `priority` is provided.\n- privateLinkAlias (string): Conditional. The private link alias of the origin. Required if privateLinkLocation is provided.\n- privateLinkLocation (string): Conditional. The private link location of the origin. Required if privateLinkAlias is provided.\n- privateLinkResourceId (string): Optional. The private link resource ID of the origin.\n- originHostHeader (string): Optional. The host header value sent to the origin.\n- profileName (string): Optional. The name of the CDN profile. Default to \"default\"."}
{"id": "res_cdn_profile_origin-group", "source": "res\\cdn\\profile\\origin-group\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Origin Group' (Parent Chain: Cdn > Profile).\nResource Type Path: cdn\\profile\\origin-group\nModule ID: br/public:res/cdn/profile/origin-group:0.16.0\nParameters:\n- name (string): Required. The name of the origin group.\n- profileName (string): Required. The name of the CDN profile.\n- healthProbeSettings (object): Optional. Health probe settings to the origin that is used to determine the health of the origin.\n- loadBalancingSettings (object): Required. Load balancing settings for a backend pool.\n- sessionAffinityState (string): Optional. Whether to allow session affinity on this host.\n- trafficRestorationTimeToHealedOrNewEndpointsInMinutes (int): Optional. Time in minutes to shift the traffic to the endpoint gradually when an unhealthy endpoint comes healthy or a new endpoint is added. Default is 10 mins.\n- origins (array): Required. The list of origins within the origin group."}
{"id": "res_cdn_profile_origin-group_origin", "source": "res\\cdn\\profile\\origin-group\\origin\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Origin' (Parent Chain: Cdn > Profile > Origin Group).\nResource Type Path: cdn\\profile\\origin-group\\origin\nModule ID: br/public:res/cdn/profile/origin-group/origin:0.16.0\nParameters:\n- name (string): Required. The name of the origion.\n- profileName (string): Required. The name of the CDN profile.\n- originGroupName (string): Required. The name of the group.\n- enabledState (string): Optional. Whether to enable health probes to be made against backends defined under backendPools. Health probes can only be disabled if there is a single enabled backend in single enabled backend pool.\n- enforceCertificateNameCheck (bool): Optional. Whether to enable certificate name check at origin level.\n- hostName (string): Required. The address of the origin. Domain names, IPv4 addresses, and IPv6 addresses are supported.This should be unique across all origins in an endpoint.\n- httpPort (int): Optional. The value of the HTTP port. Must be between 1 and 65535.\n- httpsPort (int): Optional. The value of the HTTPS port. Must be between 1 and 65535.\n- originHostHeader (string): Optional. The host header value sent to the origin with each request. If you leave this blank, the request hostname determines this value. If you don't provide the value (or null), the host name would be used, otherwise the specified value. Azure Front Door origins, such as Web Apps, Blob Storage, and Cloud Services require this host header value to match the origin hostname by default. This overrides the host header defined at Endpoint.\n- priority (int): Optional. Priority of origin in given origin group for load balancing. Higher priorities will not be used for load balancing if any lower priority origin is healthy.Must be between 1 and 5.\n- sharedPrivateLinkResource (object): Optional. The properties of the private link resource for private origin.\n- weight (int): Optional. Weight of the origin in given origin group for load balancing. Must be between 1 and 1000."}
{"id": "res_cdn_profile_rule-set", "source": "res\\cdn\\profile\\rule-set\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Rule Set' (Parent Chain: Cdn > Profile).\nResource Type Path: cdn\\profile\\rule-set\nModule ID: br/public:res/cdn/profile/rule-set:0.16.0\nParameters:\n- name (string): Required. The name of the rule set.\n- profileName (string): Required. The name of the CDN profile.\n- rules (array): Optinal. The rules to apply to the rule set."}
{"id": "res_cdn_profile_rule-set_rule", "source": "res\\cdn\\profile\\rule-set\\rule\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Rule' (Parent Chain: Cdn > Profile > Rule Set).\nResource Type Path: cdn\\profile\\rule-set\\rule\nModule ID: br/public:res/cdn/profile/rule-set/rule:0.16.0\nParameters:\n- name (string): Required. The name of the rule.\n- profileName (string): Required. The name of the profile.\n- ruleSetName (string): Required. The name of the rule set.\n- order (int): Required. The order in which this rule will be applied. Rules with a lower order are applied before rules with a higher order.\n- actions (array): Optional. A list of actions that are executed when all the conditions of a rule are satisfied.\n- conditions (array): Optional. A list of conditions that must be matched for the actions to be executed.\n- matchProcessingBehavior (string): Optional. If this rule is a match should the rules engine continue running the remaining rules or stop. If not present, defaults to Continue."}
{"id": "res_cdn_profile_secret", "source": "res\\cdn\\profile\\secret\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Secret' (Parent Chain: Cdn > Profile).\nResource Type Path: cdn\\profile\\secret\nModule ID: br/public:res/cdn/profile/secret:0.16.0\nParameters:\n- name (string): Required. The name of the secret.\n- profileName (string): Conditional. The name of the parent CDN profile. Required if the template is used in a standalone deployment.\n- type (string): Optional. The type of the secret.\n- secretSourceResourceId (string): Conditional. The resource ID of the secret source. Required if the `type` is \"CustomerCertificate\".\n- secretVersion (string): Optional. The version of the secret.\n- subjectAlternativeNames (array): Optional. The subject alternative names of the secret.\n- useLatestVersion (bool): Optional. Indicates whether to use the latest version of the secret."}
{"id": "res_cdn_profile_security-policy", "source": "res\\cdn\\profile\\security-policy\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Security Policy' (Parent Chain: Cdn > Profile).\nResource Type Path: cdn\\profile\\security-policy\nModule ID: br/public:res/cdn/profile/security-policy:0.16.0\nParameters:\n- name (string): Required. The resource name.\n- profileName (string): Conditional. The name of the parent CDN profile. Required if the template is used in a standalone deployment.\n- wafPolicyResourceId (string): Required. Resource ID of WAF Policy.\n- associations (array): Required. Waf associations (see https://learn.microsoft.com/en-us/azure/templates/microsoft.cdn/profiles/securitypolicies?pivots=deployment-language-bicep#securitypolicywebapplicationfirewallassociation for details)."}
{"id": "res_cognitive-services_account", "source": "res\\cognitive-services\\account\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Account' (Parent Chain: Cognitive Services).\nResource Type Path: cognitive-services\\account\nModule ID: br/public:res/cognitive-services/account:0.13.0\nParameters:\n- name (string): Required. The name of Cognitive Services account.\n- kind (string): Required. Kind of the Cognitive Services account. Use 'Get-AzCognitiveServicesAccountSku' to determine a valid combinations of 'kind' and 'SKU' for your Azure region.\n- sku (string): Optional. SKU of the Cognitive Services account. Use 'Get-AzCognitiveServicesAccountSku' to determine a valid combinations of 'kind' and 'SKU' for your Azure region.\n- location (string): Optional. Location for all Resources.\n- diagnosticSettings (array): Optional. The diagnostic settings of the service.\n- publicNetworkAccess (string): Optional. Whether or not public network access is allowed for this resource. For security reasons it should be disabled. If not specified, it will be disabled by default if private endpoints are set and networkAcls are not set.\n- customSubDomainName (string): Conditional. Subdomain name used for token-based authentication. Required if 'networkAcls' or 'privateEndpoints' are set.\n- networkAcls (object): Optional. A collection of rules governing the accessibility from specific network locations.\n- networkInjections (N/A): Optional. Specifies in AI Foundry where virtual network injection occurs to secure scenarios like Agents entirely within a private network.\n- privateEndpoints (array): Optional. Configuration details for private endpoints. For security reasons, it is recommended to use private endpoints whenever possible.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- tags (object): Optional. Tags of the resource.\n- allowedFqdnList (array): Optional. List of allowed FQDN.\n- apiProperties (object): Optional. The API properties for special APIs.\n- disableLocalAuth (bool): Optional. Allow only Azure AD authentication. Should be enabled for security reasons.\n- customerManagedKey (N/A): Optional. The customer managed key definition.\n- dynamicThrottlingEnabled (bool): Optional. The flag to enable dynamic throttling.\n- migrationToken (securestring): Optional. Resource migration token.\n- restore (bool): Optional. Restore a soft-deleted cognitive service at deployment time. Will fail if no such soft-deleted resource exists.\n- restrictOutboundNetworkAccess (bool): Optional. Restrict outbound network access.\n- userOwnedStorage (array): Optional. The storage accounts for this resource.\n- managedIdentities (N/A): Optional. The managed identity definition for this resource.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- deployments (array): Optional. Array of deployments about cognitive service accounts to create.\n- secretsExportConfiguration (N/A): Optional. Key vault reference and secret settings for the module's secrets export.\n- allowProjectManagement (bool): Optional. Enable/Disable project management feature for AI Foundry.\n- commitmentPlans (array): Optional. Commitment plans to deploy for the cognitive services account."}
{"id": "res_communication_communication-service", "source": "res\\communication\\communication-service\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Communication Service' (Parent Chain: Communication).\nResource Type Path: communication\\communication-service\nModule ID: br/public:res/communication/communication-service:0.4.0\nParameters:\n- name (string): Required. Name of the communication service to create.\n- location (string): Optional. Location for all Resources.\n- managedIdentities (N/A): Optional. The managed identity definition for this resource.\n- tags (object): Optional. Resource tags.\n- lock (N/A): Optional. The lock settings of the service.\n- diagnosticSettings (array): Optional. The diagnostic settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- dataLocation (string): Required. The location where the communication service stores its data at rest.\n- linkedDomains (array): Optional. List of email Domain resource Ids.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_communication_email-service", "source": "res\\communication\\email-service\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Email Service' (Parent Chain: Communication).\nResource Type Path: communication\\email-service\nModule ID: br/public:res/communication/email-service:0.4.0\nParameters:\n- name (string): Required. Name of the email service to create.\n- location (string): Optional. Location for all Resources.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- tags (object): Optional. Endpoint tags.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- dataLocation (string): Required. The location where the communication service stores its data at rest.\n- domains (array): Optional. The domains to deploy into this namespace."}
{"id": "res_communication_email-service_domain", "source": "res\\communication\\email-service\\domain\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Domain' (Parent Chain: Communication > Email Service).\nResource Type Path: communication\\email-service\\domain\nModule ID: br/public:res/communication/email-service/domain:0.4.0\nParameters:\n- emailServiceName (string): Conditional. The name of the parent email service. Required if the template is used in a standalone deployment.\n- name (string): Required. Name of the domain to create.\n- location (string): Optional. Location for all Resources.\n- tags (object): Optional. Endpoint tags.\n- domainManagement (string): Optional. Describes how the Domain resource is being managed.\n- userEngagementTracking (string): Optional. Describes whether user engagement tracking is enabled or disabled.\n- senderUsernames (array): Optional. The domains to deploy into this namespace.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create."}
{"id": "res_communication_email-service_domain_sender-username", "source": "res\\communication\\email-service\\domain\\sender-username\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Sender Username' (Parent Chain: Communication > Email Service > Domain).\nResource Type Path: communication\\email-service\\domain\\sender-username\nModule ID: br/public:res/communication/email-service/domain/sender-username:0.4.0\nParameters:\n- emailServiceName (string): Conditional. The name of the parent email service. Required if the template is used in a standalone deployment.\n- domainName (string): Conditional. The name of the parent domain. Required if the template is used in a standalone deployment.\n- name (string): Required. Name of the sender username resource to create.\n- username (string): Required. A sender username to be used when sending emails.\n- displayName (string): Optional. The display name for the senderUsername."}
{"id": "res_compute_availability-set", "source": "res\\compute\\availability-set\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Availability Set' (Parent Chain: Compute).\nResource Type Path: compute\\availability-set\nModule ID: br/public:res/compute/availability-set:0.2.0\nParameters:\n- name (string): Required. The name of the availability set that is being created.\n- platformFaultDomainCount (int): Optional. The number of fault domains to use.\n- platformUpdateDomainCount (int): Optional. The number of update domains to use.\n- skuName (string): Optional. SKU of the availability set.</p>- Use 'Aligned' for virtual machines with managed disks.</p>- Use 'Classic' for virtual machines with unmanaged disks.\n- proximityPlacementGroupResourceId (string): Optional. Resource ID of a proximity placement group.\n- location (string): Optional. Resource location.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- tags (object): Optional. Tags of the availability set resource.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_compute_disk", "source": "res\\compute\\disk\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Disk' (Parent Chain: Compute).\nResource Type Path: compute\\disk\nModule ID: br/public:res/compute/disk:0.5.0\nParameters:\n- name (string): Required. The name of the disk that is being created.\n- location (string): Optional. Resource location.\n- sku (string): Required. The disks sku name. Can be .\n- edgeZone (string): Optional. Specifies the Edge Zone within the Azure Region where this Managed Disk should exist. Changing this forces a new Managed Disk to be created.\n- architecture (string): Optional. CPU architecture supported by an OS disk.\n- burstingEnabled (bool): Optional. Set to true to enable bursting beyond the provisioned performance target of the disk.\n- completionPercent (int): Optional. Percentage complete for the background copy when a resource is created via the CopyStart operation.\n- createOption (string): Optional. Sources of a disk creation.\n- imageReferenceId (string): Optional. A relative uri containing either a Platform Image Repository or user image reference.\n- logicalSectorSize (int): Optional. Logical sector size in bytes for Ultra disks. Supported values are 512 ad 4096.\n- securityDataUri (string): Optional. If create option is ImportSecure, this is the URI of a blob to be imported into VM guest state.\n- sourceResourceId (string): Optional. If create option is Copy, this is the ARM ID of the source snapshot or disk.\n- sourceUri (string): Optional. If create option is Import, this is the URI of a blob to be imported into a managed disk.\n- storageAccountId (string): Conditional. The resource ID of the storage account containing the blob to import as a disk. Required if create option is Import.\n- uploadSizeBytes (int): Optional. If create option is Upload, this is the size of the contents of the upload including the VHD footer.\n- diskSizeGB (int): Conditional. The size of the disk to create. Required if create option is Empty.\n- diskIOPSReadWrite (int): Optional. The number of IOPS allowed for this disk; only settable for UltraSSD disks.\n- diskMBpsReadWrite (int): Optional. The bandwidth allowed for this disk; only settable for UltraSSD disks.\n- hyperVGeneration (string): Optional. The hypervisor generation of the Virtual Machine. Applicable to OS disks only.\n- maxShares (int): Optional. The maximum number of VMs that can attach to the disk at the same time. Default value is 0.\n- networkAccessPolicy (string): Optional. Policy for accessing the disk via network.\n- optimizedForFrequentAttach (bool): Optional. Setting this property to true improves reliability and performance of data disks that are frequently (more than 5 times a day) by detached from one virtual machine and attached to another. This property should not be set for disks that are not detached and attached frequently as it causes the disks to not align with the fault domain of the virtual machine.\n- osType (string): Optional. Sources of a disk creation.\n- publicNetworkAccess (string): Optional. Policy for controlling export on the disk.\n- acceleratedNetwork (bool): Optional. True if the image from which the OS disk is created supports accelerated networking.\n- availabilityZone (int): Required. If set to 1, 2 or 3, the availability zone is hardcoded to that value. If set to -1, no zone is defined. Note that the availability zone numbers here are the logical availability zone in your Azure subscription. Different subscriptions might have a different mapping of the physical zone and logical zone. To understand more, please refer to [Physical and logical availability zones](https://learn.microsoft.com/en-us/azure/reliability/availability-zones-overview?tabs=azure-cli#physical-and-logical-availability-zones).\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- tags (object): Optional. Tags of the availability set resource.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_compute_disk-encryption-set", "source": "res\\compute\\disk-encryption-set\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Disk Encryption Set' (Parent Chain: Compute).\nResource Type Path: compute\\disk-encryption-set\nModule ID: br/public:res/compute/disk-encryption-set:0.4.0\nParameters:\n- name (string): Required. The name of the disk encryption set that is being created.\n- location (string): Optional. Resource location.\n- lock (N/A): Optional. The lock settings of the service.\n- keyVaultResourceId (string): Required. Resource ID of the KeyVault containing the key or secret.\n- keyName (string): Required. Key URL (with version) pointing to a key or secret in KeyVault.\n- keyVersion (string): Optional. The version of the customer managed key to reference for encryption. If not provided, the latest key version is used.\n- encryptionType (string): Optional. The type of key used to encrypt the data of the disk. For security reasons, it is recommended to set encryptionType to EncryptionAtRestWithPlatformAndCustomerKeys.\n- federatedClientId (string): Optional. Multi-tenant application client ID to access key vault in a different tenant. Setting the value to \"None\" will clear the property.\n- rotationToLatestKeyVersionEnabled (bool): Optional. Set this flag to true to enable auto-updating of this disk encryption set to the latest key version.\n- managedIdentities (N/A): Optional. The managed identity definition for this resource.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- tags (object): Optional. Tags of the disk encryption resource.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_compute_gallery", "source": "res\\compute\\gallery\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Gallery' (Parent Chain: Compute).\nResource Type Path: compute\\gallery\nModule ID: br/public:res/compute/gallery:0.9.0\nParameters:\n- name (string): Required. Name of the Azure Compute Gallery.\n- location (string): Optional. Location for all resources.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- description (string): Optional. Description of the Azure Compute Gallery.\n- applications (array): Optional. Applications to create.\n- images (array): Optional. Images to create.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- tags (object): Optional. Tags for all resources.\n- sharingProfile (object): Optional. Profile for gallery sharing to subscription or tenant.\n- softDeletePolicy (object): Optional. Soft deletion policy of the gallery."}
{"id": "res_compute_gallery_application", "source": "res\\compute\\gallery\\application\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Application' (Parent Chain: Compute > Gallery).\nResource Type Path: compute\\gallery\\application\nModule ID: br/public:res/compute/gallery/application:0.9.0\nParameters:\n- name (string): Required. Name of the application definition.\n- location (string): Optional. Location for all resources.\n- galleryName (string): Conditional. The name of the parent Azure Compute Gallery. Required if the template is used in a standalone deployment.\n- description (string): Optional. The description of this gallery Application Definition resource. This property is updatable.\n- eula (string): Optional. The Eula agreement for the gallery Application Definition. Has to be a valid URL.\n- privacyStatementUri (string): Optional. The privacy statement uri. Has to be a valid URL.\n- releaseNoteUri (string): Optional. The release note uri. Has to be a valid URL.\n- supportedOSType (string): Required. This property allows you to specify the supported type of the OS that application is built for.\n- endOfLifeDate (string): Optional. The end of life date of the gallery Image Definition. This property can be used for decommissioning purposes. This property is updatable. Allowed format: 2020-01-10T23:00:00.000Z.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- tags (object): Optional. Tags for all resources.\n- customActions (array): Optional. A list of custom actions that can be performed with all of the Gallery Application Versions within this Gallery Application."}
{"id": "res_compute_gallery_image", "source": "res\\compute\\gallery\\image\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Image' (Parent Chain: Compute > Gallery).\nResource Type Path: compute\\gallery\\image\nModule ID: br/public:res/compute/gallery/image:0.9.0\nParameters:\n- name (string): Required. Name of the image definition.\n- location (string): Optional. Location for all resources.\n- galleryName (string): Conditional. The name of the parent Azure Shared Image Gallery. Required if the template is used in a standalone deployment.\n- identifier (N/A): Required. This is the gallery image definition identifier.\n- osState (string): Required. This property allows the user to specify the state of the OS of the image.\n- osType (string): Required. This property allows you to specify the type of the OS that is included in the disk when creating a VM from a managed image.\n- privacyStatementUri (string): Optional. The privacy statement uri.\n- purchasePlan (N/A): Optional. Describes the gallery image definition purchase plan. This is used by marketplace images.\n- vCPUs (N/A): Optional. Describes the resource range (1-128 CPU cores).\n- memory (N/A): Optional. Describes the resource range (1-4000 GB RAM).\n- releaseNoteUri (string): Optional. The release note uri. Has to be a valid URL.\n- securityType (string): Optional. The security type of the image. Requires a hyperVGeneration V2. Note, if storing images for e.g., DevBoxes, 'TrustedLaunch' is required.\n- isAcceleratedNetworkSupported (bool): Optional. Specify if the image supports accelerated networking.\n- isHibernateSupported (bool): Optional. Specifiy if the image supports hibernation.\n- allowUpdateImage (bool): Optional. Must be set to true if the gallery image features are being updated.\n- architecture (string): Optional. The architecture of the image. Applicable to OS disks only.\n- description (string): Optional. The description of this gallery image definition resource. This property is updatable.\n- disallowed (N/A): Optional. Describes the disallowed disk types.\n- endOfLifeDate (string): Optional. The end of life date of the gallery image definition. This property can be used for decommissioning purposes. This property is updatable.\n- eula (string): Optional. The Eula agreement for the gallery image definition.\n- hyperVGeneration (string): Optional. The hypervisor generation of the Virtual Machine. If this value is not specified, then it is determined by the securityType parameter. If the securityType parameter is specified, then the value of hyperVGeneration will be V2, else V1.\n- diskControllerType (string): Optional. The disk controllers that an OS disk supports.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- tags (object): Optional. Tags for all the image."}
{"id": "res_compute_image", "source": "res\\compute\\image\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Image' (Parent Chain: Compute).\nResource Type Path: compute\\image\nModule ID: br/public:res/compute/image:0.3.0\nParameters:\n- name (string): Required. The name of the image.\n- location (string): Optional. Location for all resources.\n- osDiskBlobUri (string): Required. The Virtual Hard Disk.\n- osType (string): Required. This property allows you to specify the type of the OS that is included in the disk if creating a VM from a custom image.\n- osDiskCaching (string): Required. Specifies the caching requirements. Default: None for Standard storage. ReadOnly for Premium storage.\n- osAccountType (string): Required. Specifies the storage account type for the managed disk. NOTE: UltraSSD_LRS can only be used with data disks, it cannot be used with OS Disk.\n- zoneResilient (bool): Optional. Default is false. Specifies whether an image is zone resilient or not. Zone resilient images can be created only in regions that provide Zone Redundant Storage (ZRS).\n- hyperVGeneration (string): Optional. Gets the HyperVGenerationType of the VirtualMachine created from the image.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- tags (object): Optional. Tags of the resource.\n- extendedLocation (object): Optional. The extended location of the Image.\n- sourceVirtualMachineResourceId (string): Optional. The source virtual machine from which Image is created.\n- diskEncryptionSetResourceId (string): Optional. Specifies the customer managed disk encryption set resource ID for the managed image disk.\n- managedDiskResourceId (string): Optional. The managedDisk.\n- diskSizeGB (int): Optional. Specifies the size of empty data disks in gigabytes. This element can be used to overwrite the name of the disk in a virtual machine image. This value cannot be larger than 1023 GB.\n- osState (string): Optional. The OS State. For managed images, use Generalized.\n- snapshotResourceId (string): Optional. The snapshot resource ID.\n- dataDisks (array): Optional. Specifies the parameters that are used to add a data disk to a virtual machine.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_compute_proximity-placement-group", "source": "res\\compute\\proximity-placement-group\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Proximity Placement Group' (Parent Chain: Compute).\nResource Type Path: compute\\proximity-placement-group\nModule ID: br/public:res/compute/proximity-placement-group:0.4.0\nParameters:\n- name (string): Required. The name of the proximity placement group that is being created.\n- type (string): Optional. Specifies the type of the proximity placement group.\n- location (string): Optional. Resource location.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- tags (object): Optional. Tags of the proximity placement group resource.\n- availabilityZone (int): Required. Specifies the Availability Zone where virtual machine, virtual machine scale set or availability set associated with the proximity placement group can be created. If set to 1, 2 or 3, the availability zone is hardcoded to that value. If set to -1, no zone is defined. Note that the availability zone numbers here are the logical availability zone in your Azure subscription. Different subscriptions might have a different mapping of the physical zone and logical zone. To understand more, please refer to [Physical and logical availability zones](https://learn.microsoft.com/en-us/azure/reliability/availability-zones-overview?tabs=azure-cli#physical-and-logical-availability-zones).\n- colocationStatus (object): Optional. Describes colocation status of the Proximity Placement Group.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- intent (object): Optional. Specifies the user intent of the proximity placement group."}
{"id": "res_compute_ssh-public-key", "source": "res\\compute\\ssh-public-key\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Ssh Public Key' (Parent Chain: Compute).\nResource Type Path: compute\\ssh-public-key\nModule ID: br/public:res/compute/ssh-public-key:0.4.0\nParameters:\n- name (string): Required. The name of the SSH public Key that is being created.\n- location (string): Optional. Resource location.\n- publicKey (string): Optional. SSH public key used to authenticate to a virtual machine through SSH. If this property is not initially provided when the resource is created, the publicKey property will be populated when generateKeyPair is called. If the public key is provided upon resource creation, the provided public key needs to be at least 2048-bit and in ssh-rsa format.\n- tags (object): Optional. Tags of the availability set resource.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_compute_virtual-machine", "source": "res\\compute\\virtual-machine\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Virtual Machine' (Parent Chain: Compute).\nResource Type Path: compute\\virtual-machine\nModule ID: br/public:res/compute/virtual-machine:0.20.0\nParameters:\n- name (string): Required. The name of the virtual machine to be created. You should use a unique prefix to reduce name collisions in Active Directory.\n- computerName (string): Optional. Can be used if the computer name needs to be different from the Azure VM resource name. If not used, the resource name will be used as computer name.\n- vmSize (string): Required. Specifies the size for the VMs.\n- encryptionAtHost (bool): Optional. This property can be used by user in the request to enable or disable the Host Encryption for the virtual machine. This will enable the encryption for all the disks including Resource/Temp disk at host itself. For security reasons, it is recommended to set encryptionAtHost to True. Restrictions: Cannot be enabled if Azure Disk Encryption (guest-VM encryption using bitlocker/DM-Crypt) is enabled on your VMs.\n- securityType (string): Optional. Specifies the SecurityType of the virtual machine. It has to be set to any specified value to enable UefiSettings. The default behavior is: UefiSettings will not be enabled unless this property is set.\n- secureBootEnabled (bool): Optional. Specifies whether secure boot should be enabled on the virtual machine. This parameter is part of the UefiSettings. SecurityType should be set to TrustedLaunch to enable UefiSettings.\n- vTpmEnabled (bool): Optional. Specifies whether vTPM should be enabled on the virtual machine. This parameter is part of the UefiSettings.  SecurityType should be set to TrustedLaunch to enable UefiSettings.\n- imageReference (N/A): Required. OS image reference. In case of marketplace images, it's the combination of the publisher, offer, sku, version attributes. In case of custom images it's the resource ID of the custom image.\n- plan (N/A): Optional. Specifies information about the marketplace image used to create the virtual machine. This element is only used for marketplace images. Before you can use a marketplace image from an API, you must enable the image for programmatic use.\n- osDisk (N/A): Required. Specifies the OS disk. For security reasons, it is recommended to specify DiskEncryptionSet into the osDisk object.  Restrictions: DiskEncryptionSet cannot be enabled if Azure Disk Encryption (guest-VM encryption using bitlocker/DM-Crypt) is enabled on your VMs.\n- dataDisks (array): Optional. Specifies the data disks. For security reasons, it is recommended to specify DiskEncryptionSet into the dataDisk object. Restrictions: DiskEncryptionSet cannot be enabled if Azure Disk Encryption (guest-VM encryption using bitlocker/DM-Crypt) is enabled on your VMs.\n- ultraSSDEnabled (bool): Optional. The flag that enables or disables a capability to have one or more managed data disks with UltraSSD_LRS storage account type on the VM or VMSS. Managed disks with storage account type UltraSSD_LRS can be added to a virtual machine or virtual machine scale set only if this property is enabled.\n- hibernationEnabled (bool): Optional. The flag that enables or disables hibernation capability on the VM.\n- adminUsername (securestring): Required. Administrator username.\n- adminPassword (securestring): Optional. When specifying a Windows Virtual Machine, this value should be passed.\n- userData (string): Optional. UserData for the VM, which must be base-64 encoded. Customer should not pass any secrets in here.\n- customData (string): Optional. Custom data associated to the VM, this value will be automatically converted into base64 to account for the expected VM format.\n- certificatesToBeInstalled (array): Optional. Specifies set of certificates that should be installed onto the virtual machine.\n- priority (string): Optional. Specifies the priority for the virtual machine.\n- evictionPolicy (string): Optional. Specifies the eviction policy for the low priority virtual machine.\n- maxPriceForLowPriorityVm (string): Optional. Specifies the maximum price you are willing to pay for a low priority VM/VMSS. This price is in US Dollars.\n- dedicatedHostResourceId (string): Optional. Specifies resource ID about the dedicated host that the virtual machine resides in.\n- licenseType (string): Optional. Specifies that the image or disk that is being used was licensed on-premises.\n- publicKeys (array): Optional. The list of SSH public keys used to authenticate with linux based VMs.\n- managedIdentities (N/A): Optional. The managed identity definition for this resource. The system-assigned managed identity will automatically be enabled if extensionAadJoinConfig.enabled = \"True\".\n- bootDiagnostics (bool): Optional. Whether boot diagnostics should be enabled on the Virtual Machine. Boot diagnostics will be enabled with a managed storage account if no bootDiagnosticsStorageAccountName value is provided. If bootDiagnostics and bootDiagnosticsStorageAccountName values are not provided, boot diagnostics will be disabled.\n- bootDiagnosticStorageAccountName (string): Optional. Custom storage account used to store boot diagnostic information. Boot diagnostics will be enabled with a custom storage account if a value is provided.\n- bootDiagnosticStorageAccountUri (string): Optional. Storage account boot diagnostic base URI.\n- proximityPlacementGroupResourceId (string): Optional. Resource ID of a proximity placement group.\n- virtualMachineScaleSetResourceId (string): Optional. Resource ID of a virtual machine scale set, where the VM should be added.\n- availabilitySetResourceId (string): Optional. Resource ID of an availability set. Cannot be used in combination with availability zone nor scale set.\n- galleryApplications (array): Optional. Specifies the gallery applications that should be made available to the VM/VMSS.\n- availabilityZone (int): Required. If set to 1, 2 or 3, the availability zone is hardcoded to that value. If set to -1, no zone is defined. Note that the availability zone numbers here are the logical availability zone in your Azure subscription. Different subscriptions might have a different mapping of the physical zone and logical zone. To understand more, please refer to [Physical and logical availability zones](https://learn.microsoft.com/en-us/azure/reliability/availability-zones-overview?tabs=azure-cli#physical-and-logical-availability-zones).\n- nicConfigurations (array): Required. Configures NICs and PIPs.\n- backupVaultName (string): Optional. Recovery service vault name to add VMs to backup.\n- backupVaultResourceGroup (string): Optional. Resource group of the backup recovery service vault. If not provided the current resource group name is considered by default.\n- backupPolicyName (string): Optional. Backup policy the VMs should be using for backup. If not provided, it will use the DefaultPolicy from the backup recovery service vault.\n- autoShutdownConfig (N/A): Optional. The configuration for auto-shutdown.\n- maintenanceConfigurationResourceId (string): Optional. The resource Id of a maintenance configuration for this VM.\n- allowExtensionOperations (bool): Optional. Specifies whether extension operations should be allowed on the virtual machine. This may only be set to False when no extensions are present on the virtual machine.\n- extensionDomainJoinPassword (securestring): Optional. Required if name is specified. Password of the user specified in user parameter.\n- extensionDomainJoinConfig (secureObject): Optional. The configuration for the [Domain Join] extension. Must at least contain the [\"enabled\": true] property to be executed.\n- extensionAadJoinConfig (object): Optional. The configuration for the [AAD Join] extension. Must at least contain the [\"enabled\": true] property to be executed. To enroll in Intune, add the setting mdmId: \"0000000a-0000-0000-c000-000000000000\".\n- extensionAntiMalwareConfig (object): Optional. The configuration for the [Anti Malware] extension. Must at least contain the [\"enabled\": true] property to be executed.\n- extensionMonitoringAgentConfig (object): Optional. The configuration for the [Monitoring Agent] extension. Must at least contain the [\"enabled\": true] property to be executed.\n- extensionDependencyAgentConfig (object): Optional. The configuration for the [Dependency Agent] extension. Must at least contain the [\"enabled\": true] property to be executed.\n- extensionNetworkWatcherAgentConfig (object): Optional. The configuration for the [Network Watcher Agent] extension. Must at least contain the [\"enabled\": true] property to be executed.\n- extensionAzureDiskEncryptionConfig (object): Optional. The configuration for the [Azure Disk Encryption] extension. Must at least contain the [\"enabled\": true] property to be executed. Restrictions: Cannot be enabled on disks that have encryption at host enabled. Managed disks encrypted using Azure Disk Encryption cannot be encrypted using customer-managed keys.\n- extensionDSCConfig (object): Optional. The configuration for the [Desired State Configuration] extension. Must at least contain the [\"enabled\": true] property to be executed.\n- extensionCustomScriptConfig (N/A): Optional. The configuration for the [Custom Script] extension.\n- extensionNvidiaGpuDriverWindows (object): Optional. The configuration for the [Nvidia Gpu Driver Windows] extension. Must at least contain the [\"enabled\": true] property to be executed.\n- extensionHostPoolRegistration (secureObject): Optional. The configuration for the [Host Pool Registration] extension. Must at least contain the [\"enabled\": true] property to be executed. Needs a managed identity.\n- extensionGuestConfigurationExtension (object): Optional. The configuration for the [Guest Configuration] extension. Must at least contain the [\"enabled\": true] property to be executed. Needs a managed identity.\n- guestConfiguration (object): Optional. The guest configuration for the virtual machine. Needs the Guest Configuration extension to be enabled.\n- extensionGuestConfigurationExtensionProtectedSettings (secureObject): Optional. An object that contains the extension specific protected settings.\n- location (string): Optional. Location for all resources.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- tags (object): Optional. Tags of the resource.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- osType (string): Required. The chosen OS type.\n- disablePasswordAuthentication (bool): Optional. Specifies whether password authentication should be disabled.\n- provisionVMAgent (bool): Optional. Indicates whether virtual machine agent should be provisioned on the virtual machine. When this property is not specified in the request body, default behavior is to set it to true. This will ensure that VM Agent is installed on the VM so that extensions can be added to the VM later.\n- enableAutomaticUpdates (bool): Optional. Indicates whether Automatic Updates is enabled for the Windows virtual machine. Default value is true. When patchMode is set to Manual, this parameter must be set to false. For virtual machine scale sets, this property can be updated and updates will take effect on OS reprovisioning.\n- patchMode (string): Optional. VM guest patching orchestration mode. 'AutomaticByOS' & 'Manual' are for Windows only, 'ImageDefault' for Linux only. Refer to 'https://learn.microsoft.com/en-us/azure/virtual-machines/automatic-vm-guest-patching'.\n- bypassPlatformSafetyChecksOnUserSchedule (bool): Optional. Enables customer to schedule patching without accidental upgrades.\n- rebootSetting (string): Optional. Specifies the reboot setting for all AutomaticByPlatform patch installation operations.\n- patchAssessmentMode (string): Optional. VM guest patching assessment mode. Set it to 'AutomaticByPlatform' to enable automatically check for updates every 24 hours.\n- enableHotpatching (bool): Optional. Enables customers to patch their Azure VMs without requiring a reboot. For enableHotpatching, the 'provisionVMAgent' must be set to true and 'patchMode' must be set to 'AutomaticByPlatform'.\n- timeZone (string): Optional. Specifies the time zone of the virtual machine. e.g. 'Pacific Standard Time'. Possible values can be `TimeZoneInfo.id` value from time zones returned by `TimeZoneInfo.GetSystemTimeZones`.\n- additionalUnattendContent (array): Optional. Specifies additional XML formatted information that can be included in the Unattend.xml file, which is used by Windows Setup. Contents are defined by setting name, component name, and the pass in which the content is applied.\n- winRMListeners (array): Optional. Specifies the Windows Remote Management listeners. This enables remote Windows PowerShell.\n- configurationProfile (string): Optional. The configuration profile of automanage. Either '/providers/Microsoft.Automanage/bestPractices/AzureBestPracticesProduction', 'providers/Microsoft.Automanage/bestPractices/AzureBestPracticesDevTest' or the resource Id of custom profile.\n- capacityReservationGroupResourceId (string): Optional. Capacity reservation group resource id that should be used for allocating the virtual machine vm instances provided enough capacity has been reserved.\n- networkAccessPolicy (string): Optional. Policy for accessing the disk via network.\n- publicNetworkAccess (string): Optional. Policy for controlling export on the disk."}
{"id": "res_compute_virtual-machine_extension", "source": "res\\compute\\virtual-machine\\extension\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Extension' (Parent Chain: Compute > Virtual Machine).\nResource Type Path: compute\\virtual-machine\\extension\nModule ID: br/public:res/compute/virtual-machine/extension:0.20.0\nParameters:\n- virtualMachineName (string): Conditional. The name of the parent virtual machine that extension is provisioned for. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the virtual machine extension.\n- location (string): Optional. The location the extension is deployed to.\n- publisher (string): Required. The name of the extension handler publisher.\n- type (string): Required. Specifies the type of the extension; an example is \"CustomScriptExtension\".\n- typeHandlerVersion (string): Required. Specifies the version of the script handler.\n- autoUpgradeMinorVersion (bool): Required. Indicates whether the extension should use a newer minor version if one is available at deployment time. Once deployed, however, the extension will not upgrade minor versions unless redeployed, even with this property set to true.\n- forceUpdateTag (string): Optional. How the extension handler should be forced to update even if the extension configuration has not changed.\n- settings (object): Optional. Any object that contains the extension specific settings.\n- protectedSettings (secureObject): Optional. Any object that contains the extension specific protected settings.\n- supressFailures (bool): Optional. Indicates whether failures stemming from the extension will be suppressed (Operational failures such as not connecting to the VM will not be suppressed regardless of this value). The default is false.\n- enableAutomaticUpgrade (bool): Required. Indicates whether the extension should be automatically upgraded by the platform if there is a newer version of the extension available.\n- tags (object): Optional. Tags of the resource.\n- protectedSettingsFromKeyVault (object): Optional. The extensions protected settings that are passed by reference, and consumed from key vault.\n- provisionAfterExtensions (array): Optional. Collection of extension names after which this extension needs to be provisioned."}
{"id": "res_compute_virtual-machine-scale-set", "source": "res\\compute\\virtual-machine-scale-set\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Virtual Machine Scale Set' (Parent Chain: Compute).\nResource Type Path: compute\\virtual-machine-scale-set\nModule ID: br/public:res/compute/virtual-machine-scale-set:0.11.0\nParameters:\n- name (string): Required. Name of the VMSS.\n- location (string): Optional. Location for all resources.\n- encryptionAtHost (bool): Optional. This property can be used by user in the request to enable or disable the Host Encryption for the virtual machine. This will enable the encryption for all the disks including Resource/Temp disk at host itself. For security reasons, it is recommended to set encryptionAtHost to True. Restrictions: Cannot be enabled if Azure Disk Encryption (guest-VM encryption using bitlocker/DM-Crypt) is enabled on your virtual machine scale sets.\n- securityType (string): Optional. Specifies the SecurityType of the virtual machine scale set. It is set as TrustedLaunch to enable UefiSettings.\n- secureBootEnabled (bool): Optional. Specifies whether secure boot should be enabled on the virtual machine scale set. This parameter is part of the UefiSettings. SecurityType should be set to TrustedLaunch to enable UefiSettings.\n- vTpmEnabled (bool): Optional. Specifies whether vTPM should be enabled on the virtual machine scale set. This parameter is part of the UefiSettings.  SecurityType should be set to TrustedLaunch to enable UefiSettings.\n- imageReference (object): Required. OS image reference. In case of marketplace images, it's the combination of the publisher, offer, sku, version attributes. In case of custom images it's the resource ID of the custom image.\n- plan (object): Optional. Specifies information about the marketplace image used to create the virtual machine. This element is only used for marketplace images. Before you can use a marketplace image from an API, you must enable the image for programmatic use.\n- osDisk (object): Required. Specifies the OS disk. For security reasons, it is recommended to specify DiskEncryptionSet into the osDisk object. Restrictions: DiskEncryptionSet cannot be enabled if Azure Disk Encryption (guest-VM encryption using bitlocker/DM-Crypt) is enabled on your VM Scale sets.\n- dataDisks (array): Optional. Specifies the data disks. For security reasons, it is recommended to specify DiskEncryptionSet into the dataDisk object. Restrictions: DiskEncryptionSet cannot be enabled if Azure Disk Encryption (guest-VM encryption using bitlocker/DM-Crypt) is enabled on your VM Scale sets.\n- ultraSSDEnabled (bool): Optional. The flag that enables or disables a capability to have one or more managed data disks with UltraSSD_LRS storage account type on the VM or VMSS. Managed disks with storage account type UltraSSD_LRS can be added to a virtual machine or virtual machine scale set only if this property is enabled.\n- adminUsername (securestring): Required. Administrator username.\n- adminPassword (securestring): Required. When specifying a Windows Virtual Machine, this value should be passed.\n- customData (string): Optional. Custom data associated to the VM, this value will be automatically converted into base64 to account for the expected VM format.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- scaleSetFaultDomain (int): Optional. Fault Domain count for each placement group.\n- proximityPlacementGroupResourceId (string): Optional. Resource ID of a proximity placement group.\n- nicConfigurations (array): Required. Configures NICs and PIPs. The first item in the list is considered the `primary` configuration.\n- vmPriority (string): Optional. Specifies the priority for the virtual machine.\n- enableEvictionPolicy (bool): Optional. Specifies the eviction policy for the low priority virtual machine. Will result in 'Deallocate' eviction policy.\n- maxPriceForLowPriorityVm (int): Optional. Specifies the maximum price you are willing to pay for a low priority VM/VMSS. This price is in US Dollars.\n- licenseType (string): Optional. Specifies that the image or disk that is being used was licensed on-premises. This element is only used for images that contain the Windows Server operating system.\n- extensionDomainJoinPassword (securestring): Optional. Required if name is specified. Password of the user specified in user parameter.\n- extensionDomainJoinConfig (secureObject): Optional. The configuration for the [Domain Join] extension. Must at least contain the [\"enabled\": true] property to be executed.\n- extensionAntiMalwareConfig (object): Optional. The configuration for the [Anti Malware] extension. Must at least contain the [\"enabled\": true] property to be executed.\n- extensionMonitoringAgentConfig (object): Optional. The configuration for the [Monitoring Agent] extension. Must at least contain the [\"enabled\": true] property to be executed.\n- monitoringWorkspaceResourceId (string): Optional. Resource ID of the monitoring log analytics workspace.\n- extensionDependencyAgentConfig (object): Optional. The configuration for the [Dependency Agent] extension. Must at least contain the [\"enabled\": true] property to be executed.\n- extensionNetworkWatcherAgentConfig (object): Optional. The configuration for the [Network Watcher Agent] extension. Must at least contain the [\"enabled\": true] property to be executed.\n- extensionAzureDiskEncryptionConfig (object): Optional. The configuration for the [Azure Disk Encryption] extension. Must at least contain the [\"enabled\": true] property to be executed. Restrictions: Cannot be enabled on disks that have encryption at host enabled. Managed disks encrypted using Azure Disk Encryption cannot be encrypted using customer-managed keys.\n- extensionHealthConfig (N/A): Optional. Turned on by default. The configuration for the [Application Health Monitoring] extension. Must at least contain the [\"enabled\": true] property to be executed.\n- extensionDSCConfig (object): Optional. The configuration for the [Desired State Configuration] extension. Must at least contain the [\"enabled\": true] property to be executed.\n- extensionCustomScriptConfig (N/A): Optional. The configuration for the [Custom Script] extension.\n- bootDiagnosticStorageAccountUri (string): Optional. Storage account boot diagnostic base URI.\n- bootDiagnosticStorageAccountName (string): Optional. The name of the boot diagnostic storage account. Provide this if you want to use your own storage account for security reasons instead of the recommended Microsoft Managed Storage Account.\n- bootDiagnosticEnabled (bool): Optional. Enable boot diagnostics to use default managed or secure storage. Defaults set to false.\n- diagnosticSettings (array): Optional. The diagnostic settings of the service.\n- lock (N/A): Optional. The lock settings of the service.\n- upgradePolicyMode (string): Optional. Specifies the mode of an upgrade to virtual machines in the scale set.' Manual - You control the application of updates to virtual machines in the scale set. You do this by using the manualUpgrade action. ; Automatic - All virtual machines in the scale set are automatically updated at the same time. - Automatic, Manual, Rolling.\n- enableCrossZoneUpgrade (bool): Optional. Allow VMSS to ignore AZ boundaries when constructing upgrade batches. Take into consideration the Update Domain and maxBatchInstancePercent to determine the batch size.\n- maxSurge (bool): Optional. Create new virtual machines to upgrade the scale set, rather than updating the existing virtual machines. Existing virtual machines will be deleted once the new virtual machines are created for each batch.\n- prioritizeUnhealthyInstances (bool): Optional. Upgrade all unhealthy instances in a scale set before any healthy instances.\n- rollbackFailedInstancesOnPolicyBreach (bool): Optional. Rollback failed instances to previous model if the Rolling Upgrade policy is violated.\n- maxBatchInstancePercent (int): Optional. The maximum percent of total virtual machine instances that will be upgraded simultaneously by the rolling upgrade in one batch. As this is a maximum, unhealthy instances in previous or future batches can cause the percentage of instances in a batch to decrease to ensure higher reliability.\n- maxUnhealthyInstancePercent (int): Optional. The maximum percentage of the total virtual machine instances in the scale set that can be simultaneously unhealthy, either as a result of being upgraded, or by being found in an unhealthy state by the virtual machine health checks before the rolling upgrade aborts. This constraint will be checked prior to starting any batch.\n- maxUnhealthyUpgradedInstancePercent (int): Optional. The maximum percentage of the total virtual machine instances in the scale set that can be simultaneously unhealthy, either as a result of being upgraded, or by being found in an unhealthy state by the virtual machine health checks before the rolling upgrade aborts. This constraint will be checked prior to starting any batch.\n- pauseTimeBetweenBatches (string): Optional. The wait time between completing the update for all virtual machines in one batch and starting the next batch. The time duration should be specified in ISO 8601 format.\n- enableAutomaticOSUpgrade (bool): Optional. Indicates whether OS upgrades should automatically be applied to scale set instances in a rolling fashion when a newer version of the OS image becomes available. Default value is false. If this is set to true for Windows based scale sets, enableAutomaticUpdates is automatically set to false and cannot be set to true.\n- disableAutomaticRollback (bool): Optional. Whether OS image rollback feature should be disabled.\n- automaticRepairsPolicyEnabled (bool): Optional. Specifies whether automatic repairs should be enabled on the virtual machine scale set.\n- gracePeriod (string): Optional. The amount of time for which automatic repairs are suspended due to a state change on VM. The grace time starts after the state change has completed. This helps avoid premature or accidental repairs. The time duration should be specified in ISO 8601 format. The minimum allowed grace period is 30 minutes (PT30M). The maximum allowed grace period is 90 minutes (PT90M).\n- vmNamePrefix (string): Optional. Specifies the computer name prefix for all of the virtual machines in the scale set.\n- orchestrationMode (string): Optional. Specifies the orchestration mode for the virtual machine scale set.\n- provisionVMAgent (bool): Optional. Indicates whether virtual machine agent should be provisioned on the virtual machine. When this property is not specified in the request body, default behavior is to set it to true. This will ensure that VM Agent is installed on the VM so that extensions can be added to the VM later.\n- enableAutomaticUpdates (bool): Optional. Indicates whether Automatic Updates is enabled for the Windows virtual machine. Default value is true. For virtual machine scale sets, this property can be updated and updates will take effect on OS reprovisioning.\n- patchMode (string): Optional. VM guest patching orchestration mode. 'AutomaticByOS' & 'Manual' are for Windows only, 'ImageDefault' for Linux only. Refer to 'https://learn.microsoft.com/en-us/azure/virtual-machines/automatic-vm-guest-patching'.\n- bypassPlatformSafetyChecksOnUserSchedule (bool): Optional. Enables customer to schedule patching without accidental upgrades.\n- rebootSetting (string): Optional. Specifies the reboot setting for all AutomaticByPlatform patch installation operations.\n- patchAssessmentMode (string): Optional. VM guest patching assessment mode. Set it to 'AutomaticByPlatform' to enable automatically check for updates every 24 hours.\n- timeZone (string): Optional. Specifies the time zone of the virtual machine. e.g. 'Pacific Standard Time'. Possible values can be `TimeZoneInfo.id` value from time zones returned by `TimeZoneInfo.GetSystemTimeZones`.\n- additionalUnattendContent (array): Optional. Specifies additional base-64 encoded XML formatted information that can be included in the Unattend.xml file, which is used by Windows Setup. - AdditionalUnattendContent object.\n- winRM (object): Optional. Specifies the Windows Remote Management listeners. This enables remote Windows PowerShell. - WinRMConfiguration object.\n- disablePasswordAuthentication (bool): Optional. Specifies whether password authentication should be disabled.\n- publicKeys (array): Optional. The list of SSH public keys used to authenticate with linux based VMs.\n- secrets (array): Optional. Specifies set of certificates that should be installed onto the virtual machines in the scale set.\n- scheduledEventsProfile (object): Optional. Specifies Scheduled Event related configurations.\n- overprovision (bool): Optional. Specifies whether the Virtual Machine Scale Set should be overprovisioned.\n- doNotRunExtensionsOnOverprovisionedVMs (bool): Optional. When Overprovision is enabled, extensions are launched only on the requested number of VMs which are finally kept. This property will hence ensure that the extensions do not run on the extra overprovisioned VMs.\n- zoneBalance (bool): Optional. Whether to force strictly even Virtual Machine distribution cross x-zones in case there is zone outage.\n- singlePlacementGroup (bool): Optional. When true this limits the scale set to a single placement group, of max size 100 virtual machines. NOTE: If singlePlacementGroup is true, it may be modified to false. However, if singlePlacementGroup is false, it may not be modified to true.\n- scaleInPolicy (object): Optional. Specifies the scale-in policy that decides which virtual machines are chosen for removal when a Virtual Machine Scale Set is scaled-in.\n- skuName (string): Required. The SKU size of the VMs.\n- skuCapacity (int): Optional. The initial instance count of scale set VMs.\n- availabilityZones (array): Optional. The virtual machine scale set zones. NOTE: Availability zones can only be set when you create the scale set.\n- tags (object): Optional. Tags of the resource.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- osType (string): Required. The chosen OS type.\n- managedIdentities (N/A): Optional. The managed identity definition for this resource."}
{"id": "res_compute_virtual-machine-scale-set_extension", "source": "res\\compute\\virtual-machine-scale-set\\extension\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Extension' (Parent Chain: Compute > Virtual Machine Scale Set).\nResource Type Path: compute\\virtual-machine-scale-set\\extension\nModule ID: br/public:res/compute/virtual-machine-scale-set/extension:0.11.0\nParameters:\n- virtualMachineScaleSetName (string): Conditional. The name of the parent virtual machine scale set that extension is provisioned for. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the virtual machine scale set extension.\n- publisher (string): Required. The name of the extension handler publisher.\n- type (string): Required. Specifies the type of the extension; an example is \"CustomScriptExtension\".\n- typeHandlerVersion (string): Required. Specifies the version of the script handler.\n- autoUpgradeMinorVersion (bool): Required. Indicates whether the extension should use a newer minor version if one is available at deployment time. Once deployed, however, the extension will not upgrade minor versions unless redeployed, even with this property set to true.\n- forceUpdateTag (string): Optional. How the extension handler should be forced to update even if the extension configuration has not changed.\n- settings (object): Optional. Any object that contains the extension specific settings.\n- protectedSettings (secureObject): Optional. Any object that contains the extension specific protected settings.\n- supressFailures (bool): Optional. Indicates whether failures stemming from the extension will be suppressed (Operational failures such as not connecting to the VM will not be suppressed regardless of this value). The default is false.\n- enableAutomaticUpgrade (bool): Required. Indicates whether the extension should be automatically upgraded by the platform if there is a newer version of the extension available.\n- protectedSettingsFromKeyVault (object): Optional. The extensions protected settings that are passed by reference, and consumed from key vault.\n- provisionAfterExtensions (array): Optional. Collection of extension names after which this extension needs to be provisioned."}
{"id": "res_consumption_budget", "source": "res\\consumption\\budget\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Budget' (Parent Chain: Consumption).\nResource Type Path: consumption\\budget\nModule ID: br/public:res/consumption/budget:0.1.0\nParameters:\n"}
{"id": "res_consumption_budget_mg-scope", "source": "res\\consumption\\budget\\mg-scope\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Mg Scope' (Parent Chain: Consumption > Budget).\nResource Type Path: consumption\\budget\\mg-scope\nModule ID: br/public:res/consumption/budget/mg-scope:0.1.0\nParameters:\n- name (string): Required. The name of the budget.\n- category (string): Optional. The category of the budget, whether the budget tracks cost or usage.\n- amount (int): Required. The total amount of cost or usage to track with the budget.\n- resetPeriod (string): Optional. The time covered by a budget. Tracking of the amount will be reset based on the time grain. BillingMonth, BillingQuarter, and BillingAnnual are only supported by WD customers.\n- startDate (string): Optional. The start date for the budget. Start date should be the first day of the month and cannot be in the past (except for the current month).\n- endDate (string): Optional. The end date for the budget. If not provided, it will default to 10 years from the start date.\n- operator (string): Optional. The comparison operator. The operator can be either `EqualTo`, `GreaterThan`, or `GreaterThanOrEqualTo`.\n- thresholds (array): Optional. Percent thresholds of budget for when to get a notification. Can be up to 5 thresholds, where each must be between 1 and 1000.\n- contactEmails (array): Conditional. The list of email addresses to send the budget notification to when the thresholds are exceeded. Required if neither `contactRoles` nor `actionGroups` was provided.\n- contactRoles (array): Conditional. The list of contact roles to send the budget notification to when the thresholds are exceeded. Required if neither `contactEmails` nor `actionGroups` was provided.\n- actionGroups (array): Conditional. List of action group resource IDs that will receive the alert. Required if neither `contactEmails` nor `contactEmails` was provided.\n- thresholdType (string): Optional. The type of threshold to use for the budget. The threshold type can be either `Actual` or `Forecasted`.\n- filter (object): Optional. The filter to use for restricting which resources are considered within the budget.\n- resourceGroupFilter (array): Optional. The list of resource groups that contain the resources that are to be considered within the budget.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- location (string): Optional. Location deployment metadata."}
{"id": "res_consumption_budget_rg-scope", "source": "res\\consumption\\budget\\rg-scope\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Rg Scope' (Parent Chain: Consumption > Budget).\nResource Type Path: consumption\\budget\\rg-scope\nModule ID: br/public:res/consumption/budget/rg-scope:0.1.0\nParameters:\n- name (string): Required. The name of the budget.\n- category (string): Optional. The category of the budget, whether the budget tracks cost or usage.\n- amount (int): Required. The total amount of cost or usage to track with the budget.\n- resetPeriod (string): Optional. The time covered by a budget. Tracking of the amount will be reset based on the time grain. BillingMonth, BillingQuarter, and BillingAnnual are only supported by WD customers.\n- startDate (string): Optional. The start date for the budget. Start date should be the first day of the month and cannot be in the past (except for the current month).\n- endDate (string): Optional. The end date for the budget. If not provided, it will default to 10 years from the start date.\n- operator (string): Optional. The comparison operator. The operator can be either `EqualTo`, `GreaterThan`, or `GreaterThanOrEqualTo`.\n- thresholds (array): Optional. Percent thresholds of budget for when to get a notification. Can be up to 5 thresholds, where each must be between 1 and 1000.\n- contactEmails (array): Conditional. The list of email addresses to send the budget notification to when the thresholds are exceeded. Required if neither `contactRoles` nor `actionGroups` was provided.\n- contactRoles (array): Conditional. The list of contact roles to send the budget notification to when the thresholds are exceeded. Required if neither `contactEmails` nor `actionGroups` was provided.\n- actionGroups (array): Conditional. List of action group resource IDs that will receive the alert. Required if neither `contactEmails` nor `contactEmails` was provided.\n- thresholdType (string): Optional. The type of threshold to use for the budget. The threshold type can be either `Actual` or `Forecasted`.\n- filter (object): Optional. The filter to use for restricting which resources are considered within the budget.\n- resourceGroupFilter (array): Optional. The list of resource groups that contain the resources that are to be considered within the budget.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_consumption_budget_sub-scope", "source": "res\\consumption\\budget\\sub-scope\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Sub Scope' (Parent Chain: Consumption > Budget).\nResource Type Path: consumption\\budget\\sub-scope\nModule ID: br/public:res/consumption/budget/sub-scope:0.1.0\nParameters:\n- name (string): Required. The name of the budget.\n- category (string): Optional. The category of the budget, whether the budget tracks cost or usage.\n- amount (int): Required. The total amount of cost or usage to track with the budget.\n- resetPeriod (string): Optional. The time covered by a budget. Tracking of the amount will be reset based on the time grain. BillingMonth, BillingQuarter, and BillingAnnual are only supported by WD customers.\n- startDate (string): Optional. The start date for the budget. Start date should be the first day of the month and cannot be in the past (except for the current month).\n- endDate (string): Optional. The end date for the budget. If not provided, it will default to 10 years from the start date.\n- operator (string): Optional. The comparison operator. The operator can be either `EqualTo`, `GreaterThan`, or `GreaterThanOrEqualTo`.\n- thresholds (array): Optional. Percent thresholds of budget for when to get a notification. Can be up to 5 thresholds, where each must be between 1 and 1000.\n- contactEmails (array): Conditional. The list of email addresses to send the budget notification to when the thresholds are exceeded. Required if neither `contactRoles` nor `actionGroups` was provided.\n- contactRoles (array): Conditional. The list of contact roles to send the budget notification to when the thresholds are exceeded. Required if neither `contactEmails` nor `actionGroups` was provided.\n- actionGroups (array): Conditional. List of action group resource IDs that will receive the alert. Required if neither `contactEmails` nor `contactEmails` was provided.\n- thresholdType (string): Optional. The type of threshold to use for the budget. The threshold type can be either `Actual` or `Forecasted`.\n- filter (object): Optional. The filter to use for restricting which resources are considered within the budget.\n- resourceGroupFilter (array): Optional. The list of resource groups that contain the resources that are to be considered within the budget.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- location (string): Optional. Location deployment metadata."}
{"id": "res_container-instance_container-group", "source": "res\\container-instance\\container-group\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Container Group' (Parent Chain: Container Instance).\nResource Type Path: container-instance\\container-group\nModule ID: br/public:res/container-instance/container-group:0.6.0\nParameters:\n- name (string): Required. Name for the container group.\n- containers (array): Required. The containers and their respective config within the container group.\n- ipAddress (N/A): Optional. The IP address type of the container group.\n- osType (string): Optional. The operating system type required by the containers in the container group. - Windows or Linux.\n- restartPolicy (string): Optional. Restart policy for all containers within the container group. - Always: Always restart. OnFailure: Restart on failure. Never: Never restart. - Always, OnFailure, Never.\n- imageRegistryCredentials (array): Optional. The image registry credentials by which the container group is created from.\n- location (string): Optional. Location for all Resources.\n- logAnalytics (N/A): Optional. The log analytics diagnostic information for a container group.\n- dnsConfig (object): Optional. The DNS config information for a container group.\n- initContainers (array): Optional. A list of container definitions which will be executed before the application container starts.\n- subnets (array): Optional. The subnets to use by the container group.\n- volumes (array): Optional. Specify if volumes (emptyDir, AzureFileShare or GitRepo) shall be attached to your containergroup.\n- lock (N/A): Optional. The lock settings of the service.\n- managedIdentities (N/A): Optional. The managed identity definition for this resource.\n- tags (object): Optional. Tags of the resource.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- sku (string): Optional. The container group SKU.\n- customerManagedKey (N/A): Optional. The customer managed key definition.\n- availabilityZone (int): Required. If set to 1, 2 or 3, the availability zone is hardcoded to that value. If set to -1, no zone is defined. Note that the availability zone numbers here are the logical availability zone in your Azure subscription. Different subscriptions might have a different mapping of the physical zone and logical zone. To understand more, please refer to [Physical and logical availability zones](https://learn.microsoft.com/en-us/azure/reliability/availability-zones-overview?tabs=azure-cli#physical-and-logical-availability-zones).\n- priority (string): Optional. The priority of the container group."}
{"id": "res_container-registry_registry", "source": "res\\container-registry\\registry\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Registry' (Parent Chain: Container Registry).\nResource Type Path: container-registry\\registry\nModule ID: br/public:res/container-registry/registry:0.9.0\nParameters:\n- name (string): Required. Name of your Azure Container Registry.\n- acrAdminUserEnabled (bool): Optional. Enable admin user that have push / pull permission to the registry.\n- location (string): Optional. Location for all resources.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- acrSku (string): Optional. Tier of your Azure container registry.\n- exportPolicyStatus (string): Optional. The value that indicates whether the export policy is enabled or not.\n- quarantinePolicyStatus (string): Optional. The value that indicates whether the quarantine policy is enabled or not. Note, requires the 'acrSku' to be 'Premium'.\n- trustPolicyStatus (string): Optional. The value that indicates whether the trust policy is enabled or not. Note, requires the 'acrSku' to be 'Premium'.\n- retentionPolicyStatus (string): Optional. The value that indicates whether the retention policy is enabled or not.\n- retentionPolicyDays (int): Optional. The number of days to retain an untagged manifest after which it gets purged.\n- azureADAuthenticationAsArmPolicyStatus (string): Optional. The value that indicates whether the policy for using ARM audience token for a container registry is enabled or not. Default is enabled.\n- softDeletePolicyStatus (string): Optional. Soft Delete policy status. Default is disabled.\n- softDeletePolicyDays (int): Optional. The number of days after which a soft-deleted item is permanently deleted.\n- dataEndpointEnabled (bool): Optional. Enable a single data endpoint per region for serving data. Not relevant in case of disabled public access. Note, requires the 'acrSku' to be 'Premium'.\n- publicNetworkAccess (string): Optional. Whether or not public network access is allowed for this resource. For security reasons it should be disabled. If not specified, it will be disabled by default if private endpoints are set and networkRuleSetIpRules are not set.  Note, requires the 'acrSku' to be 'Premium'.\n- networkRuleBypassOptions (string): Optional. Whether to allow trusted Azure services to access a network restricted registry.\n- networkRuleSetDefaultAction (string): Optional. The default action of allow or deny when no other rules match.\n- networkRuleSetIpRules (array): Optional. The IP ACL rules. Note, requires the 'acrSku' to be 'Premium'.\n- privateEndpoints (array): Optional. Configuration details for private endpoints. For security reasons, it is recommended to use private endpoints whenever possible. Note, requires the 'acrSku' to be 'Premium'.\n- zoneRedundancy (string): Optional. Whether or not zone redundancy is enabled for this container registry.\n- replications (array): Optional. All replications to create.\n- webhooks (array): Optional. All webhooks to create.\n- lock (N/A): Optional. The lock settings of the service.\n- managedIdentities (N/A): Optional. The managed identity definition for this resource.\n- tags (object): Optional. Tags of the resource.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- diagnosticSettings (array): Optional. The diagnostic settings of the service.\n- anonymousPullEnabled (bool): Optional. Enables registry-wide pull from unauthenticated clients. It's in preview and available in the Standard and Premium service tiers.\n- customerManagedKey (N/A): Optional. The customer managed key definition.\n- cacheRules (array): Optional. Array of Cache Rules.\n- credentialSets (array): Optional. Array of Credential Sets.\n- scopeMaps (array): Optional. Scope maps setting."}
{"id": "res_container-registry_registry_cache-rule", "source": "res\\container-registry\\registry\\cache-rule\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Cache Rule' (Parent Chain: Container Registry > Registry).\nResource Type Path: container-registry\\registry\\cache-rule\nModule ID: br/public:res/container-registry/registry/cache-rule:0.9.0\nParameters:\n- registryName (string): Conditional. The name of the parent registry. Required if the template is used in a standalone deployment.\n- name (string): Optional. The name of the cache rule. Will be derived from the source repository name if not defined.\n- sourceRepository (string): Required. Source repository pulled from upstream.\n- targetRepository (string): Optional. Target repository specified in docker pull command. E.g.: docker pull myregistry.azurecr.io/{targetRepository}:{tag}.\n- credentialSetResourceId (string): Optional. The resource ID of the credential store which is associated with the cache rule."}
{"id": "res_container-registry_registry_credential-set", "source": "res\\container-registry\\registry\\credential-set\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Credential Set' (Parent Chain: Container Registry > Registry).\nResource Type Path: container-registry\\registry\\credential-set\nModule ID: br/public:res/container-registry/registry/credential-set:0.9.0\nParameters:\n- registryName (string): Conditional. The name of the parent registry. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the credential set.\n- managedIdentities (N/A): Optional. The managed identity definition for this resource.\n- authCredentials (array): Required. List of authentication credentials stored for an upstream. Usually consists of a primary and an optional secondary credential.\n- loginServer (string): Required. The credentials are stored for this upstream or login server."}
{"id": "res_container-registry_registry_replication", "source": "res\\container-registry\\registry\\replication\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Replication' (Parent Chain: Container Registry > Registry).\nResource Type Path: container-registry\\registry\\replication\nModule ID: br/public:res/container-registry/registry/replication:0.9.0\nParameters:\n- registryName (string): Conditional. The name of the parent registry. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the replication.\n- location (string): Optional. Location for all resources.\n- tags (object): Optional. Tags of the resource.\n- regionEndpointEnabled (bool): Optional. Specifies whether the replication regional endpoint is enabled. Requests will not be routed to a replication whose regional endpoint is disabled, however its data will continue to be synced with other replications.\n- zoneRedundancy (string): Optional. Whether or not zone redundancy is enabled for this container registry."}
{"id": "res_container-registry_registry_scope-map", "source": "res\\container-registry\\registry\\scope-map\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Scope Map' (Parent Chain: Container Registry > Registry).\nResource Type Path: container-registry\\registry\\scope-map\nModule ID: br/public:res/container-registry/registry/scope-map:0.9.0\nParameters:\n- registryName (string): Conditional. The name of the parent registry. Required if the template is used in a standalone deployment.\n- name (string): Optional. The name of the scope map.\n- actions (array): Required. The list of scoped permissions for registry artifacts.\n- description (string): Optional. The user friendly description of the scope map."}
{"id": "res_container-registry_registry_webhook", "source": "res\\container-registry\\registry\\webhook\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Webhook' (Parent Chain: Container Registry > Registry).\nResource Type Path: container-registry\\registry\\webhook\nModule ID: br/public:res/container-registry/registry/webhook:0.9.0\nParameters:\n- registryName (string): Conditional. The name of the parent registry. Required if the template is used in a standalone deployment.\n- name (string): Optional. The name of the registry webhook.\n- serviceUri (string): Required. The service URI for the webhook to post notifications.\n- status (string): Optional. The status of the webhook at the time the operation was called.\n- action (array): Optional. The list of actions that trigger the webhook to post notifications.\n- location (string): Optional. Location for all resources.\n- tags (object): Optional. Tags of the resource.\n- customHeaders (object): Optional. Custom headers that will be added to the webhook notifications.\n- scope (string): Optional. The scope of repositories where the event can be triggered. For example, 'foo:*' means events for all tags under repository 'foo'. 'foo:bar' means events for 'foo:bar' only. 'foo' is equivalent to 'foo:latest'. Empty means all events."}
{"id": "res_container-service_managed-cluster", "source": "res\\container-service\\managed-cluster\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Managed Cluster' (Parent Chain: Container Service).\nResource Type Path: container-service\\managed-cluster\nModule ID: br/public:res/container-service/managed-cluster:0.11.0\nParameters:\n- name (string): Required. Specifies the name of the AKS cluster.\n- location (string): Optional. Specifies the location of AKS cluster. It picks up Resource Group's location by default.\n- dnsPrefix (string): Optional. Specifies the DNS prefix specified when creating the managed cluster.\n- managedIdentities (N/A): Optional. The managed identity definition for this resource. Only one type of identity is supported: system-assigned or user-assigned, but not both.\n- networkDataplane (string): Optional. Network dataplane used in the Kubernetes cluster. Not compatible with kubenet network plugin.\n- networkPlugin (string): Optional. Specifies the network plugin used for building Kubernetes network.\n- networkPluginMode (string): Optional. Network plugin mode used for building the Kubernetes network. Not compatible with kubenet network plugin.\n- networkPolicy (string): Optional. Specifies the network policy used for building Kubernetes network. - calico or azure.\n- podCidr (string): Optional. Specifies the CIDR notation IP range from which to assign pod IPs when kubenet is used.\n- serviceCidr (string): Optional. A CIDR notation IP range from which to assign service cluster IPs. It must not overlap with any Subnet IP ranges.\n- dnsServiceIP (string): Optional. Specifies the IP address assigned to the Kubernetes DNS service. It must be within the Kubernetes service address range specified in serviceCidr.\n- loadBalancerSku (string): Optional. Specifies the sku of the load balancer used by the virtual machine scale sets used by nodepools.\n- managedOutboundIPCount (int): Optional. Outbound IP Count for the Load balancer.\n- allocatedOutboundPorts (int): Optional. The desired number of allocated SNAT ports per VM. Default is 0, which results in Azure dynamically allocating ports.\n- idleTimeoutInMinutes (int): Optional. Desired outbound flow idle timeout in minutes.\n- outboundPublicIPResourceIds (array): Optional. A list of the resource IDs of the public IP addresses to use for the load balancer outbound rules.\n- outboundPublicIPPrefixResourceIds (array): Optional. A list of the resource IDs of the public IP prefixes to use for the load balancer outbound rules.\n- backendPoolType (string): Optional. The type of the managed inbound Load Balancer BackendPool.\n- outboundType (string): Optional. Specifies outbound (egress) routing method.\n- skuName (string): Optional. Name of a managed cluster SKU.\n- skuTier (string): Optional. Tier of a managed cluster SKU.\n- kubernetesVersion (string): Optional. Version of Kubernetes specified when creating the managed cluster.\n- adminUsername (string): Optional. Specifies the administrator username of Linux virtual machines.\n- sshPublicKey (string): Optional. Specifies the SSH RSA public key string for the Linux nodes.\n- aadProfile (N/A): Optional. Enable Azure Active Directory integration.\n- aksServicePrincipalProfile (object): Conditional. Information about a service principal identity for the cluster to use for manipulating Azure APIs. Required if no managed identities are assigned to the cluster.\n- enableRBAC (bool): Optional. Whether to enable Kubernetes Role-Based Access Control.\n- disableLocalAccounts (bool): Optional. If set to true, getting static credentials will be disabled for this cluster. This must only be used on Managed Clusters that are AAD enabled.\n- nodeProvisioningProfileMode (string): Optional. Node provisioning settings that apply to the whole cluster. AUTO MODE IS A PARAMETER USED FOR A PREVIEW FEATURE, MICROSOFT MAY NOT PROVIDE SUPPORT FOR THIS, PLEASE CHECK THE [PRODUCT DOCS](https://learn.microsoft.com/en-us/azure/aks/learn/quick-kubernetes-automatic-deploy?pivots=bicep#before-you-begin) FOR CLARIFICATION.\n- nodeResourceGroup (string): Optional. Name of the resource group containing agent pool nodes.\n- nodeResourceGroupProfile (object): Optional. The node resource group configuration profile.\n- authorizedIPRanges (array): Optional. IP ranges are specified in CIDR format, e.g. 137.117.106.88/29. This feature is not compatible with clusters that use Public IP Per Node, or clusters that are using a Basic Load Balancer.\n- disableRunCommand (bool): Optional. Whether to disable run command for the cluster or not.\n- publicNetworkAccess (string): Optional. Allow or deny public network access for AKS.\n- enablePrivateCluster (bool): Optional. Specifies whether to create the cluster as a private cluster or not.\n- enablePrivateClusterPublicFQDN (bool): Optional. Whether to create additional public FQDN for private cluster or not.\n- privateDNSZone (string): Optional. Private DNS Zone configuration. Set to 'system' and AKS will create a private DNS zone in the node resource group. Set to '' to disable private DNS Zone creation and use public DNS. Supply the resource ID here of an existing Private DNS zone to use an existing zone.\n- primaryAgentPoolProfiles (array): Required. Properties of the primary agent pool.\n- agentPools (array): Optional. Define one or more secondary/additional agent pools.\n- maintenanceConfigurations (array): Optional. Whether or not to use AKS Automatic mode.\n- costAnalysisEnabled (bool): Optional. Specifies whether the cost analysis add-on is enabled or not. If Enabled `enableStorageProfileDiskCSIDriver` is set to true as it is needed.\n- httpApplicationRoutingEnabled (bool): Optional. Specifies whether the httpApplicationRouting add-on is enabled or not.\n- webApplicationRoutingEnabled (bool): Optional. Specifies whether the webApplicationRoutingEnabled add-on is enabled or not.\n- dnsZoneResourceId (string): Optional. Specifies the resource ID of connected DNS zone. It will be ignored if `webApplicationRoutingEnabled` is set to `false`.\n- defaultIngressControllerType (string): Optional. Ingress type for the default NginxIngressController custom resource. It will be ignored if `webApplicationRoutingEnabled` is set to `false`.\n- enableDnsZoneContributorRoleAssignment (bool): Optional. Specifies whether assing the DNS zone contributor role to the cluster service principal. It will be ignored if `webApplicationRoutingEnabled` is set to `false` or `dnsZoneResourceId` not provided.\n- ingressApplicationGatewayEnabled (bool): Optional. Specifies whether the ingressApplicationGateway (AGIC) add-on is enabled or not.\n- appGatewayResourceId (string): Conditional. Specifies the resource ID of connected application gateway. Required if `ingressApplicationGatewayEnabled` is set to `true`.\n- aciConnectorLinuxEnabled (bool): Optional. Specifies whether the aciConnectorLinux add-on is enabled or not.\n- azurePolicyEnabled (bool): Optional. Specifies whether the azurepolicy add-on is enabled or not. For security reasons, this setting should be enabled.\n- openServiceMeshEnabled (bool): Optional. Specifies whether the openServiceMesh add-on is enabled or not.\n- azurePolicyVersion (string): Optional. Specifies the azure policy version to use.\n- kubeDashboardEnabled (bool): Optional. Specifies whether the kubeDashboard add-on is enabled or not.\n- enableKeyvaultSecretsProvider (bool): Optional. Specifies whether the KeyvaultSecretsProvider add-on is enabled or not.\n- enableSecretRotation (bool): Optional. Specifies whether the KeyvaultSecretsProvider add-on uses secret rotation.\n- autoScalerProfileScanInterval (string): Optional. Specifies the scan interval of the auto-scaler of the AKS cluster.\n- autoScalerProfileScaleDownDelayAfterAdd (string): Optional. Specifies the scale down delay after add of the auto-scaler of the AKS cluster.\n- autoScalerProfileScaleDownDelayAfterDelete (string): Optional. Specifies the scale down delay after delete of the auto-scaler of the AKS cluster.\n- autoScalerProfileScaleDownDelayAfterFailure (string): Optional. Specifies scale down delay after failure of the auto-scaler of the AKS cluster.\n- autoScalerProfileScaleDownUnneededTime (string): Optional. Specifies the scale down unneeded time of the auto-scaler of the AKS cluster.\n- autoScalerProfileScaleDownUnreadyTime (string): Optional. Specifies the scale down unready time of the auto-scaler of the AKS cluster.\n- autoScalerProfileUtilizationThreshold (string): Optional. Specifies the utilization threshold of the auto-scaler of the AKS cluster.\n- autoScalerProfileMaxGracefulTerminationSec (int): Optional. Specifies the max graceful termination time interval in seconds for the auto-scaler of the AKS cluster.\n- autoScalerProfileBalanceSimilarNodeGroups (bool): Optional. Specifies the balance of similar node groups for the auto-scaler of the AKS cluster.\n- autoScalerProfileDaemonsetEvictionForEmptyNodes (bool): Optional. Specifies whether to enable daemonset eviction for empty nodes for the auto-scaler of the AKS cluster.\n- autoScalerProfileDaemonsetEvictionForOccupiedNodes (bool): Optional. Specifies whether to enable daemonset eviction for occupied nodes for the auto-scaler of the AKS cluster.\n- autoScalerProfileIgnoreDaemonsetsUtilization (bool): Optional. Specifies whether to ignore daemonsets utilization for the auto-scaler of the AKS cluster.\n- autoScalerProfileExpander (string): Optional. Specifies the expand strategy for the auto-scaler of the AKS cluster.\n- autoScalerProfileMaxEmptyBulkDelete (int): Optional. Specifies the maximum empty bulk delete for the auto-scaler of the AKS cluster.\n- autoScalerProfileMaxNodeProvisionTime (string): Optional. Specifies the maximum node provisioning time for the auto-scaler of the AKS cluster. Values must be an integer followed by an \"m\". No unit of time other than minutes (m) is supported.\n- autoScalerProfileMaxTotalUnreadyPercentage (int): Optional. Specifies the mximum total unready percentage for the auto-scaler of the AKS cluster. The maximum is 100 and the minimum is 0.\n- autoScalerProfileNewPodScaleUpDelay (string): Optional. For scenarios like burst/batch scale where you do not want CA to act before the kubernetes scheduler could schedule all the pods, you can tell CA to ignore unscheduled pods before they are a certain age. Values must be an integer followed by a unit (\"s\" for seconds, \"m\" for minutes, \"h\" for hours, etc).\n- autoScalerProfileOkTotalUnreadyCount (int): Optional. Specifies the OK total unready count for the auto-scaler of the AKS cluster.\n- autoScalerProfileSkipNodesWithLocalStorage (bool): Optional. Specifies if nodes with local storage should be skipped for the auto-scaler of the AKS cluster.\n- autoScalerProfileSkipNodesWithSystemPods (bool): Optional. Specifies if nodes with system pods should be skipped for the auto-scaler of the AKS cluster.\n- autoUpgradeProfileUpgradeChannel (string): Optional. Auto-upgrade channel on the AKS cluster.\n- autoNodeOsUpgradeProfileUpgradeChannel (string): Optional. Auto-upgrade channel on the Node Os.\n- podIdentityProfileAllowNetworkPluginKubenet (bool): Optional. Running in Kubenet is disabled by default due to the security related nature of AAD Pod Identity and the risks of IP spoofing.\n- podIdentityProfileEnable (bool): Optional. Whether the pod identity addon is enabled.\n- podIdentityProfileUserAssignedIdentities (array): Optional. The pod identities to use in the cluster.\n- podIdentityProfileUserAssignedIdentityExceptions (array): Optional. The pod identity exceptions to allow.\n- enableOidcIssuerProfile (bool): Optional. Whether the The OIDC issuer profile of the Managed Cluster is enabled.\n- enableWorkloadIdentity (bool): Optional. Whether to enable Workload Identity. Requires OIDC issuer profile to be enabled.\n- enableAzureDefender (bool): Optional. Whether to enable Azure Defender.\n- securityGatingConfig (object): Optional. Microsoft Defender settings for security gating, validates container images eligibility for deployment based on Defender for Containers security findings. Using Admission Controller, it either audits or prevents the deployment of images that do not meet security standards.\n- enableImageCleaner (bool): Optional. Whether to enable Image Cleaner.\n- enableImageIntegrity (bool): Optional. Whether to enable Image Integrity. Image integrity is a feature that works with Azure Policy to verify image integrity by signature. This will not have any effect unless Azure Policy is applied to enforce image signatures. See https://aka.ms/aks/image-integrity for how to use this feature via policy.\n- enableNodeRestriction (bool): Optional. Whether to enable Node Restriction.\n- imageCleanerIntervalHours (int): Optional. The interval in hours Image Cleaner will run. The maximum value is three months.\n- enableStorageProfileBlobCSIDriver (bool): Optional. Whether the AzureBlob CSI Driver for the storage profile is enabled.\n- enableStorageProfileDiskCSIDriver (bool): Optional. Whether the AzureDisk CSI Driver for the storage profile is enabled.\n- enableStorageProfileFileCSIDriver (bool): Optional. Whether the AzureFile CSI Driver for the storage profile is enabled.\n- enableStorageProfileSnapshotController (bool): Optional. Whether the snapshot controller for the storage profile is enabled.\n- supportPlan (string): Optional. The support plan for the Managed Cluster.\n- diagnosticSettings (array): Optional. The diagnostic settings of the service.\n- omsAgentEnabled (bool): Optional. Specifies whether the OMS agent is enabled.\n- omsAgentUseAADAuth (bool): Optional. Specifies whether the OMS agent is using managed identity authentication.\n- monitoringWorkspaceResourceId (string): Optional. Resource ID of the monitoring log analytics workspace.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- lock (N/A): Optional. The lock settings of the service.\n- tags (object): Optional. Tags of the resource.\n- diskEncryptionSetResourceId (string): Optional. The resource ID of the disc encryption set to apply to the cluster. For security reasons, this value should be provided.\n- fluxExtension (N/A): Optional. Settings and configurations for the flux extension.\n- httpProxyConfig (object): Optional. Configurations for provisioning the cluster with HTTP proxy servers.\n- identityProfile (object): Optional. Identities associated with the cluster.\n- kedaAddon (bool): Optional. Enables Kubernetes Event-driven Autoscaling (KEDA).\n- vpaAddon (bool): Optional. Whether to enable VPA add-on in cluster. Default value is false.\n- enableAzureMonitorProfileMetrics (bool): Optional. Whether the metric state of the kubenetes cluster is enabled.\n- appMonitoring (object): Optional. Application Monitoring Profile for Kubernetes Application Container. Collects application logs, metrics and traces through auto-instrumentation of the application using Azure Monitor OpenTelemetry based SDKs. See aka.ms/AzureMonitorApplicationMonitoring for an overview.\n- enableContainerInsights (bool): Optional. Indicates if Azure Monitor Container Insights Logs Addon is enabled.\n- disableCustomMetrics (bool): Optional. Indicates whether custom metrics collection has to be disabled or not. If not specified the default is false. No custom metrics will be emitted if this field is false but the container insights enabled field is false.\n- disablePrometheusMetricsScraping (bool): Optional. Indicates whether prometheus metrics scraping is disabled or not. If not specified the default is false. No prometheus metrics will be emitted if this field is false but the container insights enabled field is false.\n- syslogPort (int): Optional. The syslog host port. If not specified, the default port is 28330.\n- metricLabelsAllowlist (string): Optional. A comma-separated list of kubernetes cluster metrics labels.\n- metricAnnotationsAllowList (string): Optional. A comma-separated list of Kubernetes cluster metrics annotations.\n- istioServiceMeshEnabled (bool): Optional. Specifies whether the Istio ServiceMesh add-on is enabled or not.\n- istioServiceMeshRevisions (array): Optional. The list of revisions of the Istio control plane. When an upgrade is not in progress, this holds one value. When canary upgrade is in progress, this can only hold two consecutive values.\n- istioServiceMeshInternalIngressGatewayEnabled (bool): Optional. Specifies whether the Internal Istio Ingress Gateway is enabled or not.\n- istioServiceMeshExternalIngressGatewayEnabled (bool): Optional. Specifies whether the External Istio Ingress Gateway is enabled or not.\n- istioServiceMeshCertificateAuthority (N/A): Optional. The Istio Certificate Authority definition."}
{"id": "res_container-service_managed-cluster_agent-pool", "source": "res\\container-service\\managed-cluster\\agent-pool\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Agent Pool' (Parent Chain: Container Service > Managed Cluster).\nResource Type Path: container-service\\managed-cluster\\agent-pool\nModule ID: br/public:res/container-service/managed-cluster/agent-pool:0.11.0\nParameters:\n- managedClusterName (string): Conditional. The name of the parent managed cluster. Required if the template is used in a standalone deployment.\n- name (string): Required. Name of the agent pool.\n- availabilityZones (array): Optional. The list of Availability zones to use for nodes. This can only be specified if the AgentPoolType property is \"VirtualMachineScaleSets\".\n- count (int): Optional. Desired Number of agents (VMs) specified to host docker containers. Allowed values must be in the range of 0 to 1000 (inclusive) for user pools and in the range of 1 to 1000 (inclusive) for system pools. The default value is 1.\n- sourceResourceId (string): Optional. This is the ARM ID of the source object to be used to create the target object.\n- enableAutoScaling (bool): Optional. Whether to enable auto-scaler.\n- enableEncryptionAtHost (bool): Optional. This is only supported on certain VM sizes and in certain Azure regions. For more information, see: /azure/aks/enable-host-encryption. For security reasons, this setting should be enabled.\n- enableFIPS (bool): Optional. See Add a FIPS-enabled node pool (https://learn.microsoft.com/en-us/azure/aks/use-multiple-node-pools#add-a-fips-enabled-node-pool-preview) for more details.\n- enableNodePublicIP (bool): Optional. Some scenarios may require nodes in a node pool to receive their own dedicated public IP addresses. A common scenario is for gaming workloads, where a console needs to make a direct connection to a cloud virtual machine to minimize hops. For more information see assigning a public IP per node (https://learn.microsoft.com/en-us/azure/aks/use-multiple-node-pools#assign-a-public-ip-per-node-for-your-node-pools).\n- enableUltraSSD (bool): Optional. Whether to enable UltraSSD.\n- gpuInstanceProfile (string): Optional. GPUInstanceProfile to be used to specify GPU MIG instance profile for supported GPU VM SKU.\n- kubeletDiskType (string): Optional. Determines the placement of emptyDir volumes, container runtime data root, and Kubelet ephemeral storage.\n- linuxOSConfig (object): Optional. Linux OS configuration.\n- maxCount (int): Optional. The maximum number of nodes for auto-scaling.\n- maxPods (int): Optional. The maximum number of pods that can run on a node.\n- minCount (int): Optional. The minimum number of nodes for auto-scaling.\n- mode (string): Optional. A cluster must have at least one \"System\" Agent Pool at all times. For additional information on agent pool restrictions and best practices, see: /azure/aks/use-system-pools.\n- nodeLabels (object): Optional. The node labels to be persisted across all nodes in agent pool.\n- nodePublicIpPrefixResourceId (string): Optional. ResourceId of the node PublicIPPrefix.\n- nodeTaints (array): Optional. The taints added to new nodes during node pool create and scale. For example, key=value:NoSchedule.\n- orchestratorVersion (string): Optional. As a best practice, you should upgrade all node pools in an AKS cluster to the same Kubernetes version. The node pool version must have the same major version as the control plane. The node pool minor version must be within two minor versions of the control plane version. The node pool version cannot be greater than the control plane version. For more information see upgrading a node pool (https://learn.microsoft.com/en-us/azure/aks/use-multiple-node-pools#upgrade-a-node-pool).\n- osDiskSizeGB (int): Optional. OS Disk Size in GB to be used to specify the disk size for every machine in the master/agent pool. If you specify 0, it will apply the default osDisk size according to the vmSize specified.\n- osDiskType (string): Optional. The default is \"Ephemeral\" if the VM supports it and has a cache disk larger than the requested OSDiskSizeGB. Otherwise, defaults to \"Managed\". May not be changed after creation. For more information see Ephemeral OS (https://learn.microsoft.com/en-us/azure/aks/cluster-configuration#ephemeral-os).\n- osSKU (string): Optional. Specifies the OS SKU used by the agent pool. The default is Ubuntu if OSType is Linux. The default is Windows2019 when Kubernetes <= 1.24 or Windows2022 when Kubernetes >= 1.25 if OSType is Windows.\n- osType (string): Optional. The operating system type. The default is Linux.\n- podSubnetResourceId (string): Optional. Subnet resource ID for the pod IPs. If omitted, pod IPs are statically assigned on the node subnet (see vnetSubnetID for more details). This is of the form: /subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Network/virtualNetworks/{virtualNetworkName}/subnets/{subnetName}.\n- proximityPlacementGroupResourceId (string): Optional. The ID for the Proximity Placement Group.\n- scaleDownMode (string): Optional. Describes how VMs are added to or removed from Agent Pools. See [billing states](https://learn.microsoft.com/en-us/azure/virtual-machines/states-billing).\n- scaleSetEvictionPolicy (string): Optional. The eviction policy specifies what to do with the VM when it is evicted. The default is Delete. For more information about eviction see spot VMs.\n- scaleSetPriority (string): Optional. The Virtual Machine Scale Set priority.\n- enableSecureBoot (bool): Optional. Secure Boot is a feature of Trusted Launch which ensures that only signed operating systems and drivers can boot. For more details, see aka.ms/aks/trustedlaunch.\n- enableVTPM (bool): Optional. vTPM is a Trusted Launch feature for configuring a dedicated secure vault for keys and measurements held locally on the node. For more details, see aka.ms/aks/trustedlaunch.\n- sshAccess (string): Optional. SSH access method of an agent pool.\n- spotMaxPrice (int): Optional. Possible values are any decimal value greater than zero or -1 which indicates the willingness to pay any on-demand price. For more details on spot pricing, see spot VMs pricing (https://learn.microsoft.com/en-us/azure/virtual-machines/spot-vms#pricing).\n- tags (object): Optional. Tags of the resource.\n- type (string): Optional. The type of Agent Pool.\n- maxSurge (string): Optional. This can either be set to an integer (e.g. \"5\") or a percentage (e.g. \"50%\"). If a percentage is specified, it is the percentage of the total agent pool size at the time of the upgrade. For percentages, fractional nodes are rounded up. If not specified, the default is 1. For more information, including best practices, see: /azure/aks/upgrade-cluster#customize-node-surge-upgrade.\n- vmSize (string): Optional. VM size. VM size availability varies by region. If a node contains insufficient compute resources (memory, cpu, etc) pods might fail to run correctly. For more details on restricted VM sizes, see: /azure/aks/quotas-skus-regions.\n- vnetSubnetResourceId (string): Optional. Node Subnet ID. If this is not specified, a VNET and subnet will be generated and used. If no podSubnetID is specified, this applies to nodes and pods, otherwise it applies to just nodes. This is of the form: /subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Network/virtualNetworks/{virtualNetworkName}/subnets/{subnetName}.\n- workloadRuntime (string): Optional. Determines the type of workload a node can run.\n- windowsProfile (object): Optional. Windows OS configuration."}
{"id": "res_container-service_managed-cluster_maintenance-configurations", "source": "res\\container-service\\managed-cluster\\maintenance-configurations\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Maintenance Configurations' (Parent Chain: Container Service > Managed Cluster).\nResource Type Path: container-service\\managed-cluster\\maintenance-configurations\nModule ID: br/public:res/container-service/managed-cluster/maintenance-configurations:0.11.0\nParameters:\n- maintenanceWindow (object): Required. Maintenance window for the maintenance configuration.\n- managedClusterName (string): Conditional. The name of the parent managed cluster. Required if the template is used in a standalone deployment.\n- name (string): Optional. Name of the maintenance configuration."}
{"id": "res_data-factory_factory", "source": "res\\data-factory\\factory\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Factory' (Parent Chain: Data Factory).\nResource Type Path: data-factory\\factory\nModule ID: br/public:res/data-factory/factory:0.10.0\nParameters:\n- name (string): Required. The name of the Azure Factory to create.\n- managedVirtualNetworkName (string): Optional. The name of the Managed Virtual Network.\n- managedPrivateEndpoints (array): Optional. An array of managed private endpoints objects created in the Data Factory managed virtual network.\n- integrationRuntimes (array): Optional. An array of objects for the configuration of an Integration Runtime.\n- linkedServices (array): Optional. An array of objects for the configuration of Linked Services.\n- location (string): Optional. Location for all Resources.\n- publicNetworkAccess (string): Optional. Whether or not public network access is allowed for this resource. For security reasons it should be disabled. If not specified, it will be disabled by default if private endpoints are set.\n- gitConfigureLater (bool): Optional. Boolean to define whether or not to configure git during template deployment.\n- gitRepoType (string): Optional. Repository type - can be 'FactoryVSTSConfiguration' or 'FactoryGitHubConfiguration'. Default is 'FactoryVSTSConfiguration'.\n- gitAccountName (string): Optional. The account name.\n- gitProjectName (string): Optional. The project name. Only relevant for 'FactoryVSTSConfiguration'.\n- gitRepositoryName (string): Optional. The repository name.\n- gitCollaborationBranch (string): Optional. The collaboration branch name. Default is 'main'.\n- gitDisablePublish (bool): Optional. Disable manual publish operation in ADF studio to favor automated publish.\n- gitRootFolder (string): Optional. The root folder path name. Default is '/'.\n- gitHostName (string): Optional. The GitHub Enterprise Server host (prefixed with 'https://'). Only relevant for 'FactoryGitHubConfiguration'.\n- gitLastCommitId (string): Optional. Add the last commit id from your git repo.\n- gitTenantId (string): Optional. Add the tenantId of your Azure subscription.\n- globalParameters (object): Optional. List of Global Parameters for the factory.\n- purviewResourceId (string): Optional. Purview Account resource identifier.\n- diagnosticSettings (array): Optional. The diagnostic settings of the service.\n- lock (N/A): Optional. The lock settings for all Resources in the solution.\n- managedIdentities (N/A): Optional. The managed identity definition for this resource.\n- customerManagedKey (N/A): Optional. The customer managed key definition.\n- privateEndpoints (array): Optional. Configuration details for private endpoints. For security reasons, it is recommended to use private endpoints whenever possible.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- tags (object): Optional. Tags of the resource.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_data-factory_factory_integration-runtime", "source": "res\\data-factory\\factory\\integration-runtime\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Integration Runtime' (Parent Chain: Data Factory > Factory).\nResource Type Path: data-factory\\factory\\integration-runtime\nModule ID: br/public:res/data-factory/factory/integration-runtime:0.10.0\nParameters:\n- dataFactoryName (string): Conditional. The name of the parent Azure Data Factory. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the Integration Runtime.\n- type (string): Required. The type of Integration Runtime.\n- managedVirtualNetworkName (string): Optional. The name of the Managed Virtual Network if using type \"Managed\" .\n- typeProperties (object): Optional. Integration Runtime type properties. Required if type is \"Managed\".\n- integrationRuntimeCustomDescription (string): Optional. The description of the Integration Runtime."}
{"id": "res_data-factory_factory_linked-service", "source": "res\\data-factory\\factory\\linked-service\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Linked Service' (Parent Chain: Data Factory > Factory).\nResource Type Path: data-factory\\factory\\linked-service\nModule ID: br/public:res/data-factory/factory/linked-service:0.10.0\nParameters:\n- dataFactoryName (string): Conditional. The name of the parent Azure Data Factory. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the Linked Service.\n- type (string): Required. The type of Linked Service. See https://learn.microsoft.com/en-us/azure/templates/microsoft.datafactory/factories/linkedservices?pivots=deployment-language-bicep#linkedservice-objects for more information.\n- typeProperties (object): Optional. Used to add connection properties for your linked services.\n- integrationRuntimeName (string): Optional. The name of the Integration Runtime to use.\n- parameters (object): Optional. Use this to add parameters for a linked service connection string.\n- description (string): Optional. The description of the Integration Runtime."}
{"id": "res_data-factory_factory_managed-virtual-network", "source": "res\\data-factory\\factory\\managed-virtual-network\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Managed Virtual Network' (Parent Chain: Data Factory > Factory).\nResource Type Path: data-factory\\factory\\managed-virtual-network\nModule ID: br/public:res/data-factory/factory/managed-virtual-network:0.10.0\nParameters:\n- dataFactoryName (string): Conditional. The name of the parent Azure Data Factory. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the Managed Virtual Network.\n- managedPrivateEndpoints (array): Optional. An array of managed private endpoints objects created in the Data Factory managed virtual network."}
{"id": "res_data-factory_factory_managed-virtual-network_managed-private-endpoint", "source": "res\\data-factory\\factory\\managed-virtual-network\\managed-private-endpoint\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Managed Private Endpoint' (Parent Chain: Data Factory > Factory > Managed Virtual Network).\nResource Type Path: data-factory\\factory\\managed-virtual-network\\managed-private-endpoint\nModule ID: br/public:res/data-factory/factory/managed-virtual-network/managed-private-endpoint:0.10.0\nParameters:\n- dataFactoryName (string): Conditional. The name of the parent data factory. Required if the template is used in a standalone deployment.\n- managedVirtualNetworkName (string): Required. The name of the parent managed virtual network.\n- name (string): Required. The managed private endpoint resource name.\n- groupId (string): Required. The groupId to which the managed private endpoint is created.\n- fqdns (array): Required. Fully qualified domain names.\n- privateLinkResourceId (string): Required. The ARM resource ID of the resource to which the managed private endpoint is created."}
{"id": "res_data-protection_backup-vault", "source": "res\\data-protection\\backup-vault\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Backup Vault' (Parent Chain: Data Protection).\nResource Type Path: data-protection\\backup-vault\nModule ID: br/public:res/data-protection/backup-vault:0.12.0\nParameters:\n- name (string): Required. Name of the Backup Vault.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- location (string): Optional. Location for all resources.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- lock (N/A): Optional. The lock settings of the service.\n- managedIdentities (N/A): Optional. The managed identity definition for this resource.\n- infrastructureEncryption (string): Optional. Whether or not the service applies a secondary layer of encryption. For security reasons, it is recommended to set it to Enabled.\n- customerManagedKey (N/A): Optional. The customer managed key (CMK) definition. ENABLING CMK WITH USER ASSIGNED MANAGED IDENTITY IS A PREVIEW SERVICE/FEATURE, MICROSOFT MAY NOT PROVIDE SUPPORT FOR THIS, PLEASE CHECK THE [PRODUCT DOCS](https://learn.microsoft.com/en-us/azure/backup/encryption-at-rest-with-cmk-for-backup-vault) FOR CLARIFICATION.\n- softDeleteSettings (N/A): Optional. The soft delete related settings.\n- immutabilitySettingState (string): Optional. The immmutability setting state of the backup vault resource.\n- tags (object): Optional. Tags of the backup vault resource.\n- dataStoreType (string): Optional. The datastore type to use. ArchiveStore does not support ZoneRedundancy.\n- type (string): Optional. The vault redundancy level to use.\n- azureMonitorAlertSettingsAlertsForAllJobFailures (string): Optional. Settings for Azure Monitor based alerts for job failures.\n- backupPolicies (array): Optional. List of all backup policies.\n- backupInstances (array): Optional. List of all backup instances.\n- featureSettings (object): Optional. Feature settings for the backup vault."}
{"id": "res_data-protection_backup-vault_backup-instance", "source": "res\\data-protection\\backup-vault\\backup-instance\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Backup Instance' (Parent Chain: Data Protection > Backup Vault).\nResource Type Path: data-protection\\backup-vault\\backup-instance\nModule ID: br/public:res/data-protection/backup-vault/backup-instance:0.12.0\nParameters:\n- backupVaultName (string): Conditional. The name of the parent Backup Vault. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the backup instance.\n- friendlyName (string): Optional. The friendly name of the backup instance.\n- dataSourceInfo (N/A): Required. Gets or sets the data source information.\n- policyInfo (N/A): Required. Gets or sets the policy information."}
{"id": "res_data-protection_backup-vault_backup-policy", "source": "res\\data-protection\\backup-vault\\backup-policy\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Backup Policy' (Parent Chain: Data Protection > Backup Vault).\nResource Type Path: data-protection\\backup-vault\\backup-policy\nModule ID: br/public:res/data-protection/backup-vault/backup-policy:0.12.0\nParameters:\n- backupVaultName (string): Required. The name of the backup vault.\n- name (string): Optional. The name of the backup policy.\n- properties (object): Optional. The properties of the backup policy."}
{"id": "res_databricks_access-connector", "source": "res\\databricks\\access-connector\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Access Connector' (Parent Chain: Databricks).\nResource Type Path: databricks\\access-connector\nModule ID: br/public:res/databricks/access-connector:0.4.0\nParameters:\n- name (string): Required. The name of the Azure Databricks access connector to create.\n- tags (object): Optional. Tags of the resource.\n- location (string): Optional. Location for all Resources.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- lock (N/A): Optional. The lock settings of the service.\n- managedIdentities (N/A): Optional. The managed identity definition for this resource.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_databricks_workspace", "source": "res\\databricks\\workspace\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Workspace' (Parent Chain: Databricks).\nResource Type Path: databricks\\workspace\nModule ID: br/public:res/databricks/workspace:0.11.0\nParameters:\n- name (string): Required. The name of the Azure Databricks workspace to create.\n- managedResourceGroupResourceId (string): Optional. The managed resource group ID. It is created by the module as per the to-be resource ID you provide.\n- skuName (string): Optional. The pricing tier of workspace.\n- location (string): Optional. Location for all Resources.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- diagnosticSettings (array): Optional. The diagnostic settings of the service.\n- lock (N/A): Optional. The lock settings of the service.\n- tags (object): Optional. Tags of the resource.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- customVirtualNetworkResourceId (string): Optional. The resource ID of a Virtual Network where this Databricks Cluster should be created.\n- amlWorkspaceResourceId (string): Optional. The resource ID of a Azure Machine Learning workspace to link with Databricks workspace.\n- customPrivateSubnetName (string): Optional. The name of the Private Subnet within the Virtual Network.\n- customPublicSubnetName (string): Optional. The name of a Public Subnet within the Virtual Network.\n- disablePublicIp (bool): Optional. Disable Public IP.\n- customerManagedKey (N/A): Optional. The customer managed key definition to use for the managed service.\n- customerManagedKeyManagedDisk (N/A): Optional. The customer managed key definition to use for the managed disk.\n- loadBalancerBackendPoolName (string): Optional. Name of the outbound Load Balancer Backend Pool for Secure Cluster Connectivity (No Public IP).\n- loadBalancerResourceId (string): Optional. Resource URI of Outbound Load balancer for Secure Cluster Connectivity (No Public IP) workspace.\n- natGatewayName (string): Optional. Name of the NAT gateway for Secure Cluster Connectivity (No Public IP) workspace subnets.\n- prepareEncryption (bool): Optional. Prepare the workspace for encryption. Enables the Managed Identity for managed storage account.\n- publicIpName (string): Optional. Name of the Public IP for No Public IP workspace with managed vNet.\n- requireInfrastructureEncryption (bool): Optional. A boolean indicating whether or not the DBFS root file system will be enabled with secondary layer of encryption with platform managed keys for data at rest.\n- storageAccountName (string): Optional. Default DBFS storage account name.\n- storageAccountSkuName (string): Optional. Storage account SKU name.\n- vnetAddressPrefix (string): Optional. Address prefix for Managed virtual network.\n- publicNetworkAccess (string): Optional. The network access type for accessing workspace. Set value to disabled to access workspace only via private link.\n- requiredNsgRules (string): Optional. Gets or sets a value indicating whether data plane (clusters) to control plane communication happen over private endpoint.\n- privateStorageAccount (string): Optional. Determines whether the managed storage account should be private or public. For best security practices, it is recommended to set it to Enabled.\n- privateEndpoints (array): Optional. Configuration details for private endpoints. For security reasons, it is recommended to use private endpoints whenever possible.\n- storageAccountPrivateEndpoints (array): Optional. Configuration details for private endpoints for the managed workspace storage account, required when privateStorageAccount is set to Enabled. For security reasons, it is recommended to use private endpoints whenever possible.\n- accessConnectorResourceId (string): Conditional. The resource ID of the associated access connector for private access to the managed workspace storage account. Required if privateStorageAccount is enabled.\n- defaultCatalog (N/A): Optional. The default catalog configuration for the Databricks workspace.\n- automaticClusterUpdate (string): Optional. The value for enabling automatic cluster updates in enhanced security compliance.\n- complianceStandards (array): Optional. The compliance standards array for the security profile. Should be a list of compliance standards like \"HIPAA\", \"NONE\" or \"PCI_DSS\".\n- complianceSecurityProfileValue (string): Optional. The value to Enable or Disable for the compliance security profile.\n- enhancedSecurityMonitoring (string): Optional. The value for enabling or configuring enhanced security monitoring."}
{"id": "res_db-for-my-sql_flexible-server", "source": "res\\db-for-my-sql\\flexible-server\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Flexible Server' (Parent Chain: Db For My Sql).\nResource Type Path: db-for-my-sql\\flexible-server\nModule ID: br/public:res/db-for-my-sql/flexible-server:0.9.0\nParameters:\n- name (string): Required. The name of the MySQL flexible server.\n- lock (N/A): Optional. The lock settings of the service.\n- location (string): Optional. Location for all resources.\n- tags (object): Optional. Tags of the resource.\n- administratorLogin (string): Optional. The administrator login name of a server. Can only be specified when the MySQL server is being created.\n- administratorLoginPassword (securestring): Optional. The administrator login password.\n- administrators (array): Optional. The Azure AD administrators when AAD authentication enabled.\n- skuName (string): Required. The name of the sku, typically, tier + family + cores, e.g. Standard_D4s_v3.\n- tier (string): Required. The tier of the particular SKU. Tier must align with the \"skuName\" property. Example, tier cannot be \"Burstable\" if skuName is \"Standard_D4s_v3\".\n- availabilityZone (int): Required. If set to 1, 2 or 3, the availability zone is hardcoded to that value. If set to -1, no zone is defined. Note that the availability zone numbers here are the logical availability zone in your Azure subscription. Different subscriptions might have a different mapping of the physical zone and logical zone. To understand more, please refer to [Physical and logical availability zones](https://learn.microsoft.com/en-us/azure/reliability/availability-zones-overview?tabs=azure-cli#physical-and-logical-availability-zones).\n- highAvailabilityZone (int): Optional. Standby availability zone information of the server. If set to 1, 2 or 3, the availability zone is hardcoded to that value. If set to -1, no zone is defined. Default will have no preference set.\n- backupRetentionDays (int): Optional. Backup retention days for the server.\n- geoRedundantBackup (string): Optional. A value indicating whether Geo-Redundant backup is enabled on the server. If \"Enabled\" and \"cMKKeyName\" is not empty, then \"geoBackupCMKKeyVaultResourceId\" and \"cMKUserAssignedIdentityResourceId\" are also required.\n- createMode (string): Optional. The mode to create a new MySQL server.\n- managedIdentities (N/A): Conditional. The managed identity definition for this resource. Required if 'customerManagedKey' is not empty.\n- customerManagedKey (N/A): Optional. The customer managed key definition to use for the managed service.\n- customerManagedKeyGeo (N/A): Optional. The customer managed key definition to use when geoRedundantBackup is \"Enabled\".\n- highAvailability (string): Optional. The mode for High Availability (HA). It is not supported for the Burstable pricing tier and Zone redundant HA can only be set during server provisioning.\n- maintenanceWindow (object): Optional. Properties for the maintenence window. If provided, \"customWindow\" property must exist and set to \"Enabled\".\n- delegatedSubnetResourceId (string): Optional. Delegated subnet arm resource ID. Used when the desired connectivity mode is \"Private Access\" - virtual network integration. Delegation must be enabled on the subnet for MySQL Flexible Servers and subnet CIDR size is /29.\n- privateDnsZoneResourceId (string): Conditional. Private dns zone arm resource ID. Used when the desired connectivity mode is \"Private Access\". Required if \"delegatedSubnetResourceId\" is used and the Private DNS Zone name must end with mysql.database.azure.com in order to be linked to the MySQL Flexible Server.\n- publicNetworkAccess (string): Optional. Specifies whether public network access is allowed for this server. Set to \"Enabled\" to allow public access, or \"Disabled\" (default) when the server has VNet integration.\n- restorePointInTime (string): Conditional. Restore point creation time (ISO8601 format), specifying the time to restore from. Required if \"createMode\" is set to \"PointInTimeRestore\".\n- replicationRole (string): Optional. The replication role.\n- sourceServerResourceId (string): Conditional. The source MySQL server ID. Required if \"createMode\" is set to \"PointInTimeRestore\".\n- storageAutoGrow (string): Conditional. Enable Storage Auto Grow or not. Storage auto-growth prevents a server from running out of storage and becoming read-only. Required if \"highAvailability\" is not \"Disabled\".\n- storageAutoIoScaling (string): Optional. Enable IO Auto Scaling or not. The server scales IOPs up or down automatically depending on your workload needs.\n- storageIOPS (int): Optional. Storage IOPS for a server. Max IOPS are determined by compute size.\n- storageSizeGB (int): Optional. Max storage allowed for a server. In all compute tiers, the minimum storage supported is 20 GiB and maximum is 16 TiB.\n- version (string): Optional. MySQL Server version.\n- databases (array): Optional. The databases to create in the server.\n- firewallRules (array): Optional. The firewall rules to create in the MySQL flexible server.\n- configurations (array): Optional. The configurations to create in the server.\n- advancedThreatProtection (string): Optional. Enable/Disable Advanced Threat Protection (Microsoft Defender) for the server.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- diagnosticSettings (array): Optional. The diagnostic settings of the service.\n- privateEndpoints (array): Optional. Configuration details for private endpoints. Used when the desired connectivity mode is 'Public Access' and 'delegatedSubnetResourceId' is NOT used.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_db-for-my-sql_flexible-server_administrator", "source": "res\\db-for-my-sql\\flexible-server\\administrator\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Administrator' (Parent Chain: Db For My Sql > Flexible Server).\nResource Type Path: db-for-my-sql\\flexible-server\\administrator\nModule ID: br/public:res/db-for-my-sql/flexible-server/administrator:0.9.0\nParameters:\n- flexibleServerName (string): Conditional. The name of the parent DBforMySQL flexible server. Required if the template is used in a standalone deployment.\n- sid (string): Required. SID (object ID) of the server administrator.\n- identityResourceId (string): Required. The resource ID of the identity used for AAD Authentication.\n- login (string): Required. Login name of the server administrator.\n- tenantId (string): Optional. The tenantId of the Active Directory administrator."}
{"id": "res_db-for-my-sql_flexible-server_advanced-threat-protection", "source": "res\\db-for-my-sql\\flexible-server\\advanced-threat-protection\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Advanced Threat Protection' (Parent Chain: Db For My Sql > Flexible Server).\nResource Type Path: db-for-my-sql\\flexible-server\\advanced-threat-protection\nModule ID: br/public:res/db-for-my-sql/flexible-server/advanced-threat-protection:0.9.0\nParameters:\n- flexibleServerName (string): Conditional. The name of the parent DBforMySQL flexible server. Required if the template is used in a standalone deployment.\n- advancedThreatProtection (string): Optional. The state of the advanced threat protection."}
{"id": "res_db-for-my-sql_flexible-server_configuration", "source": "res\\db-for-my-sql\\flexible-server\\configuration\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Configuration' (Parent Chain: Db For My Sql > Flexible Server).\nResource Type Path: db-for-my-sql\\flexible-server\\configuration\nModule ID: br/public:res/db-for-my-sql/flexible-server/configuration:0.9.0\nParameters:\n- name (string): Required. The name of the configuration.\n- flexibleServerName (string): Conditional. The name of the parent MySQL flexible server. Required if the template is used in a standalone deployment.\n- source (string): Optional. Source of the configuration.\n- value (string): Optional. Value of the configuration."}
{"id": "res_db-for-my-sql_flexible-server_database", "source": "res\\db-for-my-sql\\flexible-server\\database\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Database' (Parent Chain: Db For My Sql > Flexible Server).\nResource Type Path: db-for-my-sql\\flexible-server\\database\nModule ID: br/public:res/db-for-my-sql/flexible-server/database:0.9.0\nParameters:\n- name (string): Required. The name of the database.\n- flexibleServerName (string): Conditional. The name of the parent MySQL flexible server. Required if the template is used in a standalone deployment.\n- collation (string): Optional. The collation of the database.\n- charset (string): Optional. The charset of the database."}
{"id": "res_db-for-my-sql_flexible-server_firewall-rule", "source": "res\\db-for-my-sql\\flexible-server\\firewall-rule\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Firewall Rule' (Parent Chain: Db For My Sql > Flexible Server).\nResource Type Path: db-for-my-sql\\flexible-server\\firewall-rule\nModule ID: br/public:res/db-for-my-sql/flexible-server/firewall-rule:0.9.0\nParameters:\n- name (string): Required. The name of the MySQL flexible server Firewall Rule.\n- startIpAddress (string): Required. The start IP address of the firewall rule. Must be IPv4 format. Use value '0.0.0.0' for all Azure-internal IP addresses.\n- endIpAddress (string): Required. The end IP address of the firewall rule. Must be IPv4 format. Must be greater than or equal to startIpAddress. Use value '0.0.0.0' for all Azure-internal IP addresses.\n- flexibleServerName (string): Conditional. The name of the parent MySQL flexible server. Required if the template is used in a standalone deployment."}
{"id": "res_db-for-postgre-sql_flexible-server", "source": "res\\db-for-postgre-sql\\flexible-server\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Flexible Server' (Parent Chain: Db For Postgre Sql).\nResource Type Path: db-for-postgre-sql\\flexible-server\nModule ID: br/public:res/db-for-postgre-sql/flexible-server:0.13.0\nParameters:\n- name (string): Required. The name of the PostgreSQL flexible server.\n- administratorLogin (string): Optional. The administrator login name of the server. Can only be specified when the PostgreSQL server is being created.\n- administratorLoginPassword (securestring): Optional. The administrator login password.\n- tenantId (string): Optional. Tenant id of the server.\n- administrators (array): Optional. The Azure AD administrators when AAD authentication enabled.\n- location (string): Optional. Location for all resources.\n- skuName (string): Required. The name of the sku, typically, tier + family + cores, e.g. Standard_D4s_v3.\n- tier (string): Required. The tier of the particular SKU. Tier must align with the 'skuName' property. Example, tier cannot be 'Burstable' if skuName is 'Standard_D4s_v3'.\n- availabilityZone (int): Required. If set to 1, 2 or 3, the availability zone is hardcoded to that value. If set to -1, no zone is defined. Note that the availability zone numbers here are the logical availability zone in your Azure subscription. Different subscriptions might have a different mapping of the physical zone and logical zone. To understand more, please refer to [Physical and logical availability zones](https://learn.microsoft.com/en-us/azure/reliability/availability-zones-overview?tabs=azure-cli#physical-and-logical-availability-zones).\n- highAvailabilityZone (int): Optional. Standby availability zone information of the server. If set to 1, 2 or 3, the availability zone is hardcoded to that value. If set to -1, no zone is defined. Default will have no preference set.\n- highAvailability (string): Optional. The mode for high availability.\n- backupRetentionDays (int): Optional. Backup retention days for the server.\n- geoRedundantBackup (string): Optional. A value indicating whether Geo-Redundant backup is enabled on the server. Should be disabled if 'cMKKeyName' is not empty.\n- storageSizeGB (int): Optional. Max storage allowed for a server.\n- autoGrow (string): Optional. Flag to enable / disable Storage Auto grow for flexible server.\n- version (string): Optional. PostgreSQL Server version.\n- createMode (string): Optional. The mode to create a new PostgreSQL server.\n- managedIdentities (N/A): Conditional. The managed identity definition for this resource. Required if 'cMKKeyName' is not empty.\n- serverThreatProtection (string): Optional. Specifies the state of the Threat Protection, whether it is enabled or disabled or a state has not been applied yet on the specific server.\n- customerManagedKey (N/A): Optional. The customer managed key definition.\n- maintenanceWindow (object): Optional. Properties for the maintenence window. If provided, 'customWindow' property must exist and set to 'Enabled'.\n- pointInTimeUTC (string): Conditional. Required if 'createMode' is set to 'PointInTimeRestore'.\n- sourceServerResourceId (string): Conditional. Required if 'createMode' is set to 'PointInTimeRestore'.\n- delegatedSubnetResourceId (string): Optional. Delegated subnet arm resource ID. Used when the desired connectivity mode is 'Private Access' - virtual network integration.\n- privateDnsZoneArmResourceId (string): Optional. Private dns zone arm resource ID. Used when the desired connectivity mode is 'Private Access' and required when 'delegatedSubnetResourceId' is used. The Private DNS Zone must be linked to the Virtual Network referenced in 'delegatedSubnetResourceId'.\n- firewallRules (array): Optional. The firewall rules to create in the PostgreSQL flexible server.\n- publicNetworkAccess (string): Optional. Determines whether or not public network access is enabled or disabled.\n- databases (array): Optional. The databases to create in the server.\n- configurations (array): Optional. The configurations to create in the server.\n- lock (N/A): Optional. The lock settings of the service.\n- replica (N/A): Optional. The replication settings for the server. Can only be set on existing flexible servers.\n- enableAdvancedThreatProtection (bool): Optional. Enable/Disable advanced threat protection.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- tags (object): Optional. Tags of the resource.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- diagnosticSettings (array): Optional. The diagnostic settings of the service.\n- privateEndpoints (array): Optional. Configuration details for private endpoints. Used when the desired connectivity mode is 'Public Access' and 'delegatedSubnetResourceId' is NOT used."}
{"id": "res_db-for-postgre-sql_flexible-server_administrator", "source": "res\\db-for-postgre-sql\\flexible-server\\administrator\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Administrator' (Parent Chain: Db For Postgre Sql > Flexible Server).\nResource Type Path: db-for-postgre-sql\\flexible-server\\administrator\nModule ID: br/public:res/db-for-postgre-sql/flexible-server/administrator:0.13.0\nParameters:\n- flexibleServerName (string): Conditional. The name of the parent PostgreSQL flexible server. Required if the template is used in a standalone deployment.\n- objectId (string): Required. The objectId of the Active Directory administrator.\n- principalName (string): Required. Active Directory administrator principal name.\n- principalType (string): Required. The principal type used to represent the type of Active Directory Administrator.\n- tenantId (string): Optional. The tenantId of the Active Directory administrator."}
{"id": "res_db-for-postgre-sql_flexible-server_advanced-threat-protection-setting", "source": "res\\db-for-postgre-sql\\flexible-server\\advanced-threat-protection-setting\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Advanced Threat Protection Setting' (Parent Chain: Db For Postgre Sql > Flexible Server).\nResource Type Path: db-for-postgre-sql\\flexible-server\\advanced-threat-protection-setting\nModule ID: br/public:res/db-for-postgre-sql/flexible-server/advanced-threat-protection-setting:0.13.0\nParameters:\n- flexibleServerName (string): Conditional. The name of the parent PostgreSQL flexible server. Required if the template is used in a standalone deployment.\n- serverThreatProtection (string): Required. Specifies the state of the Threat Protection, whether it is enabled or disabled or a state has not been applied yet on the specific server."}
{"id": "res_db-for-postgre-sql_flexible-server_configuration", "source": "res\\db-for-postgre-sql\\flexible-server\\configuration\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Configuration' (Parent Chain: Db For Postgre Sql > Flexible Server).\nResource Type Path: db-for-postgre-sql\\flexible-server\\configuration\nModule ID: br/public:res/db-for-postgre-sql/flexible-server/configuration:0.13.0\nParameters:\n- name (string): Required. The name of the configuration.\n- flexibleServerName (string): Conditional. The name of the parent PostgreSQL flexible server. Required if the template is used in a standalone deployment.\n- source (string): Optional. Source of the configuration.\n- value (string): Optional. Value of the configuration."}
{"id": "res_db-for-postgre-sql_flexible-server_database", "source": "res\\db-for-postgre-sql\\flexible-server\\database\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Database' (Parent Chain: Db For Postgre Sql > Flexible Server).\nResource Type Path: db-for-postgre-sql\\flexible-server\\database\nModule ID: br/public:res/db-for-postgre-sql/flexible-server/database:0.13.0\nParameters:\n- name (string): Required. The name of the database.\n- flexibleServerName (string): Conditional. The name of the parent PostgreSQL flexible server. Required if the template is used in a standalone deployment.\n- collation (string): Optional. The collation of the database.\n- charset (string): Optional. The charset of the database."}
{"id": "res_db-for-postgre-sql_flexible-server_firewall-rule", "source": "res\\db-for-postgre-sql\\flexible-server\\firewall-rule\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Firewall Rule' (Parent Chain: Db For Postgre Sql > Flexible Server).\nResource Type Path: db-for-postgre-sql\\flexible-server\\firewall-rule\nModule ID: br/public:res/db-for-postgre-sql/flexible-server/firewall-rule:0.13.0\nParameters:\n- name (string): Required. The name of the PostgreSQL flexible server Firewall Rule.\n- startIpAddress (string): Required. The start IP address of the firewall rule. Must be IPv4 format. Use value '0.0.0.0' for all Azure-internal IP addresses.\n- endIpAddress (string): Required. The end IP address of the firewall rule. Must be IPv4 format. Must be greater than or equal to startIpAddress. Use value '0.0.0.0' for all Azure-internal IP addresses.\n- flexibleServerName (string): Conditional. The name of the parent PostgreSQL flexible server. Required if the template is used in a standalone deployment."}
{"id": "res_desktop-virtualization_application-group", "source": "res\\desktop-virtualization\\application-group\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Application Group' (Parent Chain: Desktop Virtualization).\nResource Type Path: desktop-virtualization\\application-group\nModule ID: br/public:res/desktop-virtualization/application-group:0.4.0\nParameters:\n- name (string): Required. Name of the Application Group.\n- location (string): Optional. Location for all resources.\n- applicationGroupType (string): Required. The type of the Application Group to be created. Allowed values: RemoteApp or Desktop.\n- showInFeed (bool): Optional. Boolean representing whether the applicationGroup is show in the feed.\n- hostpoolName (string): Required. Name of the Host Pool to be linked to this Application Group.\n- friendlyName (string): Optional. The friendly name of the Application Group to be created.\n- description (string): Optional. Description of the application group.\n- applications (array): Optional. List of applications to be created in the Application Group.\n- tags (object): Optional. Tags of the resource.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- lock (N/A): Optional. The lock settings of the service.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- diagnosticSettings (array): Optional. The diagnostic settings of the service."}
{"id": "res_desktop-virtualization_application-group_application", "source": "res\\desktop-virtualization\\application-group\\application\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Application' (Parent Chain: Desktop Virtualization > Application Group).\nResource Type Path: desktop-virtualization\\application-group\\application\nModule ID: br/public:res/desktop-virtualization/application-group/application:0.4.0\nParameters:\n- applicationGroupName (string): Conditional. The name of the parent Application Group to create the application(s) in. Required if the template is used in a standalone deployment.\n- name (string): Required. Name of the Application to be created in the Application Group.\n- description (string): Optional. Description of the Application.\n- friendlyName (string): Required. Friendly name of the Application.\n- filePath (string): Required. Specifies a path for the executable file for the Application.\n- commandLineSetting (string): Optional. Specifies whether this published Application can be launched with command-line arguments provided by the client, command-line arguments specified at publish time, or no command-line arguments at all.\n- commandLineArguments (string): Optional. Command-Line Arguments for the Application.\n- showInPortal (bool): Optional. Specifies whether to show the RemoteApp program in the RD Web Access server.\n- iconPath (string): Optional. Path to icon.\n- iconIndex (int): Optional. Index of the icon.\n- applicationType (string): Optional. Resource Type of Application.\n- msixPackageApplicationId (string): Optional. Specifies the package application Id for MSIX applications.\n- msixPackageFamilyName (string): Optional. Specifies the package family name for MSIX applications."}
{"id": "res_desktop-virtualization_host-pool", "source": "res\\desktop-virtualization\\host-pool\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Host Pool' (Parent Chain: Desktop Virtualization).\nResource Type Path: desktop-virtualization\\host-pool\nModule ID: br/public:res/desktop-virtualization/host-pool:0.8.0\nParameters:\n- name (string): Required. Name of the scaling plan.\n- location (string): Optional. Location of the scaling plan. Defaults to resource group location.\n- friendlyName (string): Optional. Friendly name of the scaling plan.\n- description (string): Optional. Description of the scaling plan.\n- hostPoolType (string): Optional. Set this parameter to Personal if you would like to enable Persistent Desktop experience. Defaults to Pooled.\n- publicNetworkAccess (string): Optional. Set public network access.\n- privateEndpoints (array): Optional. Configuration details for private endpoints. For security reasons, it is recommended to use private endpoints whenever possible.\n- personalDesktopAssignmentType (string): Optional. Set the type of assignment for a Personal Host Pool type.\n- loadBalancerType (string): Optional. Type of load balancer algorithm.\n- maxSessionLimit (int): Optional. Maximum number of sessions.\n- customRdpProperty (string): Optional. Host Pool RDP properties.\n- validationEnvironment (bool): Optional. Validation host pools allows you to test service changes before they are deployed to production. When set to true, the Host Pool will be deployed in a validation 'ring' (environment) that receives all the new features (might be less stable). Defaults to false that stands for the stable, production-ready environment.\n- vmTemplate (object): Optional. The necessary information for adding more VMs to this Host Pool.\n- tokenValidityLength (string): Optional. Host Pool token validity length. Usage: 'PT8H' - valid for 8 hours; 'P5D' - valid for 5 days; 'P1Y' - valid for 1 year. When not provided, the token will be valid for 8 hours.\n- baseTime (string): Generated. Do not provide a value! This date value is used to generate a registration token.\n- preferredAppGroupType (string): Optional. The type of preferred application group type, default to Desktop Application Group.\n- startVMOnConnect (bool): Optional. Enable Start VM on connect to allow users to start the virtual machine from a deallocated state. Important: Custom RBAC role required to power manage VMs.\n- agentUpdate (object): Optional. The session host configuration for updating agent, monitoring agent, and stack component.\n- ring (int): Optional. The ring number of HostPool.\n- ssoadfsAuthority (string): Optional. URL to customer ADFS server for signing WVD SSO certificates.\n- ssoClientId (string): Optional. ClientId for the registered Relying Party used to issue WVD SSO certificates.\n- ssoClientSecretKeyVaultPath (string): Optional. Path to Azure KeyVault storing the secret used for communication to ADFS.\n- ssoSecretType (string): Optional. The type of single sign on Secret Type.\n- managedPrivateUDP (string): Optional. Where direct UDP connectivity is established between the client and the session host when using a private connection, such as a virtual private network (VPN).<br>- Default: AVD-wide settings are used to determine connection availability<br>- Enabled: UDP will attempt this connection type when making connections. This means that this connection is possible, but is not guaranteed, as there are other factors that may prevent this connection type<br>- Disabled: UDP will not attempt this connection type when making connections.\n- directUDP (string): Optional. Where direct UDP connectivity is established between the client and the session host when using a private connection, such as a virtual private network (VPN).<br>- Default: AVD-wide settings are used to determine connection availability<br>- Enabled: UDP will attempt this connection type when making connections. This means that this connection is possible, but is not guaranteed, as there are other factors that may prevent this connection type<br>- Disabled: UDP will not attempt this connection type when making connections.\n- publicUDP (string): Optional. Where direct UDP connectivity is established between the client and the session host via public network using Simple Traversal Underneath NAT (STUN) protocol.<br>- Default: AVD-wide settings are used to determine connection availability<br>- Enabled: UDP will attempt this connection type when making connections. This means that this connection is possible, but is not guaranteed, as there are other factors that may prevent this connection type<br>- Disabled: UDP will not attempt this connection type when making connections.\n- relayUDP (string): Optional. Where indirect UDP connectivity is established between the client and the session host via public network using Traversal Using Relay NAT (TURN) protocol.<br>- Default: AVD-wide settings are used to determine connection availability<br>- Enabled: UDP will attempt this connection type when making connections. This means that this connection is possible, but is not guaranteed, as there are other factors that may prevent this connection type<br>- Disabled: UDP will not attempt this connection type when making connections.\n- managementType (string): Optional. The type of management for this hostpool. Note: If set to `Automated`, no registrationToken is returned by the resource.\n- tags (object): Optional. Tags of the resource.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- lock (N/A): Optional. The lock settings of the service.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- diagnosticSettings (array): Optional. The diagnostic settings of the service."}
{"id": "res_desktop-virtualization_scaling-plan", "source": "res\\desktop-virtualization\\scaling-plan\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Scaling Plan' (Parent Chain: Desktop Virtualization).\nResource Type Path: desktop-virtualization\\scaling-plan\nModule ID: br/public:res/desktop-virtualization/scaling-plan:0.4.0\nParameters:\n- name (string): Required. Name of the Scaling Plan.\n- location (string): Optional. Location of the Scaling Plan. Defaults to resource group location.\n- friendlyName (string): Optional. Friendly name of the Scaling Plan.\n- timeZone (string): Optional. Time zone of the Scaling Plan. Defaults to UTC.\n- hostPoolType (string): Optional. Host pool type of the Scaling Plan. Defaults to 'Pooled'.\n- exclusionTag (string): Optional. Exclusion tag to be used for exclusion of VMs from Scaling Plan.\n- schedules (array): Optional. Schedules of the Scaling Plan.\n- hostPoolReferences (array): Optional. Host pool references of the Scaling Plan.\n- description (string): Optional. Description of the Scaling Plan.\n- tags (object): Optional. Tags of the resource.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- lock (N/A): Optional. The lock settings of the service.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- diagnosticSettings (array): Optional. The database-level diagnostic settings of the service."}
{"id": "res_desktop-virtualization_workspace", "source": "res\\desktop-virtualization\\workspace\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Workspace' (Parent Chain: Desktop Virtualization).\nResource Type Path: desktop-virtualization\\workspace\nModule ID: br/public:res/desktop-virtualization/workspace:0.9.0\nParameters:\n- name (string): Required. Name of the workspace.\n- location (string): Optional. Location for all resources.\n- tags (object): Optional. Tags of the resource.\n- applicationGroupReferences (array): Optional. Array of application group references.\n- description (string): Optional. Description of the workspace.\n- friendlyName (string): Optional. Friendly name of the workspace.\n- publicNetworkAccess (string): Optional. Public network access for the workspace.\n- privateEndpoints (array): Optional. Configuration details for private endpoints.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- lock (N/A): Optional. The lock settings of the service.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- diagnosticSettings (array): Optional. The diagnostic settings of the service."}
{"id": "res_dev-center_devcenter_attachednetwork", "source": "res\\dev-center\\devcenter\\attachednetwork\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Attachednetwork' (Parent Chain: Dev Center > Devcenter).\nResource Type Path: dev-center\\devcenter\\attachednetwork\nModule ID: br/public:res/dev-center/devcenter/attachednetwork:0.1.0\nParameters:\n- devcenterName (string): Conditional. The name of the parent dev center. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the attached network.\n- networkConnectionResourceId (string): Required. The resource ID of the Network Connection you want to attach to the Dev Center."}
{"id": "res_dev-center_devcenter_catalog", "source": "res\\dev-center\\devcenter\\catalog\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Catalog' (Parent Chain: Dev Center > Devcenter).\nResource Type Path: dev-center\\devcenter\\catalog\nModule ID: br/public:res/dev-center/devcenter/catalog:0.1.0\nParameters:\n- name (string): Required. The name of the catalog. Must be between 3 and 63 characters and can contain alphanumeric characters, hyphens, underscores, and periods.\n- devcenterName (string): Conditional. The name of the parent dev center. Required if the template is used in a standalone deployment.\n- gitHub (N/A): Optional. GitHub repository configuration for the catalog.\n- adoGit (N/A): Optional. Azure DevOps Git repository configuration for the catalog.\n- syncType (string): Optional. Indicates the type of sync that is configured for the catalog. Defaults to \"Scheduled\".\n- tags (object): Optional. Resource tags to apply to the catalog.\n- location (string): Optional. Location for all resources."}
{"id": "res_dev-center_devcenter_devboxdefinition", "source": "res\\dev-center\\devcenter\\devboxdefinition\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Devboxdefinition' (Parent Chain: Dev Center > Devcenter).\nResource Type Path: dev-center\\devcenter\\devboxdefinition\nModule ID: br/public:res/dev-center/devcenter/devboxdefinition:0.1.0\nParameters:\n- devcenterName (string): Conditional. The name of the parent dev center. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the DevBox definition.\n- imageResourceId (string): Required. The Image ID, or Image version ID. When Image ID is provided, its latest version will be used. When using custom images from a compute gallery, Microsoft Dev Box supports only images that are compatible with Dev Box and use the security type Trusted Launch enabled. See \"https://learn.microsoft.com/en-us/azure/dev-box/how-to-configure-azure-compute-gallery#compute-gallery-image-requirements\" for more information about image requirements.\n- sku (N/A): Required. The SKU configuration for the dev box definition. See \"https://learn.microsoft.com/en-us/rest/api/devcenter/administrator/skus/list-by-subscription?view=rest-devcenter-administrator-2024-02-01\" for more information about SKUs.\n- hibernateSupport (string): Optional. Settings for hibernation support.\n- tags (object): Optional. Tags for the DevBox definition.\n- location (string): Optional. Location for the DevBox definition. Defaults to resource group location."}
{"id": "res_dev-center_devcenter_environment-type", "source": "res\\dev-center\\devcenter\\environment-type\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Environment Type' (Parent Chain: Dev Center > Devcenter).\nResource Type Path: dev-center\\devcenter\\environment-type\nModule ID: br/public:res/dev-center/devcenter/environment-type:0.1.0\nParameters:\n- devcenterName (string): Conditional. The name of the parent dev center. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the environment type.\n- displayName (string): Optional. The display name of the environment type.\n- tags (object): Optional. Tags of the resource."}
{"id": "res_dev-center_devcenter_gallery", "source": "res\\dev-center\\devcenter\\gallery\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Gallery' (Parent Chain: Dev Center > Devcenter).\nResource Type Path: dev-center\\devcenter\\gallery\nModule ID: br/public:res/dev-center/devcenter/gallery:0.1.0\nParameters:\n- devcenterName (string): Conditional. The name of the parent dev center. Required if the template is used in a standalone deployment.\n- name (string): Required. It must be between 3 and 63 characters, can only include alphanumeric characters, underscores and periods, and can not start or end with \".\" or \"_\".\n- galleryResourceId (string): Required. The resource ID of the backing Azure Compute Gallery. The devcenter identity (system or user) must have \"Contributor\" access to the gallery.\n- devCenterIdentityPrincipalId (string): Optional. The principal ID of the Dev Center identity (system or user) that will be assigned the \"Contributor\" role on the backing Azure Compute Gallery. This is only required if the Dev Center identity has not been granted the right permissions on the gallery. The portal experience handles this automatically. Note that the identity performing the deployment must have permissions to perform role assignments on the resource group of the gallery to assign the role, otherwise the deployment will fail."}
{"id": "res_dev-center_devcenter_project-policy", "source": "res\\dev-center\\devcenter\\project-policy\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Project Policy' (Parent Chain: Dev Center > Devcenter).\nResource Type Path: dev-center\\devcenter\\project-policy\nModule ID: br/public:res/dev-center/devcenter/project-policy:0.1.0\nParameters:\n- devcenterName (string): Conditional. The name of the parent dev center. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the project policy.\n- resourcePolicies (array): Required. Resource policies that are a part of this project policy.\n- projectsResourceIdOrName (array): Optional. Project names or resource IDs that will be in scope of this project policy. Project names can be used if the project is in the same resource group as the Dev Center. If the project is in a different resource group or subscription, the full resource ID must be provided. If not provided, the policy status will be set to \"Unassigned\"."}
{"id": "res_dev-center_network-connection", "source": "res\\dev-center\\network-connection\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Network Connection' (Parent Chain: Dev Center).\nResource Type Path: dev-center\\network-connection\nModule ID: br/public:res/dev-center/network-connection:0.1.0\nParameters:\n- name (string): Required. Name of the Dev Center Network Connection.\n- location (string): Optional. Location for all Resources.\n- tags (object): Optional. Tags of the resource.\n- domainJoinType (string): Optional. AAD Join type for the network connection.\n- subnetResourceId (string): Required. The subnet to attach Virtual Machines to.\n- domainName (string): Conditional. Active Directory domain name. Required if domainJoinType is \"HybridAzureADJoin\"\".\n- domainPassword (securestring): Conditional. The password for the account used to join the domain. Required if domainJoinType is \"HybridAzureADJoin\".\n- domainUsername (string): Conditional. The username of an Active Directory account (user or service account) that has permissions to create computer objects in Active Directory. Required format: admin@contoso.com. Required if domainJoinType is \"HybridAzureADJoin\".\n- organizationUnit (string): Conditional. Active Directory domain Organization Unit (OU). Required if domainJoinType is \"HybridAzureADJoin\".\n- networkingResourceGroupName (string): Optional. The name for the resource group where NICs will be placed. If not provided, the default name \"NI_networkConnectionName_region\" (e.g. \"NI_myNetworkConnection_eastus\") will be used. It cannot be an existing resource group. It will also contain a health check Network Interface (NIC) resource for the network connection. This NIC name will be \"nic-CPC-Hth-<randomString>_<date>\" (e.g. \"nic-CPC-Hth-12345678_2023-10-01\").\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_dev-center_project", "source": "res\\dev-center\\project\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Project' (Parent Chain: Dev Center).\nResource Type Path: dev-center\\project\nModule ID: br/public:res/dev-center/project:0.1.0\nParameters:\n- name (string): Required. The name of the project.\n- displayName (string): Optional. The display name of project.\n- description (string): Optional. The description of the project.\n- location (string): Optional. Location for all Resources.\n- tags (object): Optional. Resource tags to apply to the project.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- managedIdentities (N/A): Optional. The managed identity definition for this resource. Only one user assigned identity can be used per project.\n- devCenterResourceId (string): Required. Resource ID of an associated DevCenter.\n- catalogSettings (N/A): Optional. The settings to be used when associating a project with a catalog. The Dev Center this project is associated with must allow configuring catalog item sync types before configuring project level catalog settings.\n- maxDevBoxesPerUser (int): Optional. When specified, limits the maximum number of Dev Boxes a single user can create across all pools in the project. This will have no effect on existing Dev Boxes when reduced.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- environmentTypes (array): Optional. The environment types to create. Environment types must be first created in the Dev Center and then made available to a project using project level environment types. The name should be equivalent to the name of the environment type in the Dev Center.\n- pools (array): Optional. The type of pool to create in the project. A project pool is a container for dev boxes that share the same configuration, like a dev box definition and a network connection. Essentially, a project pool defines the specifications for the dev boxes that developers can create from a specific project in the Dev Box service.\n- catalogs (array): Optional. The catalogs to create in the project. Catalogs are templates from a git repository that can be used to create environments."}
{"id": "res_dev-center_project_catalog", "source": "res\\dev-center\\project\\catalog\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Catalog' (Parent Chain: Dev Center > Project).\nResource Type Path: dev-center\\project\\catalog\nModule ID: br/public:res/dev-center/project/catalog:0.1.0\nParameters:\n- name (string): Required. The name of the catalog. Must be between 3 and 63 characters and can contain alphanumeric characters, hyphens, underscores, and periods.\n- projectName (string): Conditional. The name of the parent dev center project. Required if the template is used in a standalone deployment.\n- gitHub (N/A): Optional. GitHub repository configuration for the catalog.\n- adoGit (N/A): Optional. Azure DevOps Git repository configuration for the catalog.\n- syncType (string): Optional. Indicates the type of sync that is configured for the catalog. Defaults to \"Scheduled\".\n- tags (object): Optional. Resource tags to apply to the catalog.\n- location (string): Optional. Location for all resources."}
{"id": "res_dev-center_project_environment-type", "source": "res\\dev-center\\project\\environment-type\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Environment Type' (Parent Chain: Dev Center > Project).\nResource Type Path: dev-center\\project\\environment-type\nModule ID: br/public:res/dev-center/project/environment-type:0.1.0\nParameters:\n- name (string): Required. The name of the environment type. The environment type must be first created in the Dev Center and then made available to a project using project level environment types. The name should be equivalent to the name of the environment type in the Dev Center.\n- projectName (string): Conditional. The name of the parent dev center project. Required if the template is used in a standalone deployment.\n- displayName (string): Optional. The display name of the environment type.\n- deploymentTargetSubscriptionResourceId (string): Required. The subscription Resource ID where the environment type will be mapped to. The environment's resources will be deployed into this subscription. Should be in the format \"/subscriptions/{subscriptionId}\".\n- status (string): Optional. Defines whether this Environment Type can be used in this Project. The default is \"Enabled\".\n- location (string): Optional. Location for all resources.\n- creatorRoleAssignmentRoles (array): Required. An array specifying the role definitions (permissions) GUIDs that will be granted to the user that creates a given environment of this type. These can be both built-in or custom role definitions. At least one role must be specified.\n- userRoleAssignmentsRoles (array): Optional. A collection of additional object IDs of users, groups, service principals or managed identities be granted permissions on each environment of this type. Each identity can have multiple role definitions (permissions) GUIDs assigned to it. These can be either built-in or custom role definitions.\n- tags (object): Optional. Resource tags to apply to the environment type.\n- managedIdentities (N/A): Optional. The managed identity definition for this resource. If using user assigned identities, they must be first associated to the project that this environment type is created in and only one user identity can be used per project. At least one identity (system assigned or user assigned) must be enabled for deployment. The default is set to system assigned identity.\n- roleAssignments (array): Optional. Array of role assignments to create."}
{"id": "res_dev-center_project_pool", "source": "res\\dev-center\\project\\pool\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Pool' (Parent Chain: Dev Center > Project).\nResource Type Path: dev-center\\project\\pool\nModule ID: br/public:res/dev-center/project/pool:0.1.0\nParameters:\n- name (string): Required. The name of the project pool. This name must be unique within a project and is visible to developers when creating dev boxes.\n- projectName (string): Conditional. The name of the parent dev center project. Required if the template is used in a standalone deployment.\n- displayName (string): Optional. The display name of the pool.\n- devBoxDefinitionType (string): Optional. Indicates if the pool is created from an existing Dev Box Definition or if one is provided directly.\n- devBoxDefinitionName (string): Required. Name of a Dev Box definition in parent Project of this Pool. If creating a pool from a definition defined in the Dev Center, then this will be the name of the definition. If creating a pool from a custom definition (e.g. Team Customizations), first the catalog must be added to this project, and second must use the format \"\\~Catalog\\~{catalogName}\\~{imagedefinition YAML name}\" (e.g. \"\\~Catalog\\~eshopRepo\\~frontend-dev\").\n- devBoxDefinition (N/A): Conditional. A definition of the machines that are created from this Pool. Required if devBoxDefinitionType is \"Value\".\n- location (string): Optional. Location for all resources.\n- tags (object): Optional. Resource tags to apply to the pool.\n- localAdministrator (string): Required. Each dev box creator will be granted the selected permissions on the dev boxes they create. Indicates whether owners of Dev Boxes in this pool are added as a \"local administrator\" or \"standard user\" on the Dev Box.\n- virtualNetworkType (string): Required. Indicates whether the pool uses a Virtual Network managed by Microsoft or a customer provided network. For the easiest configuration experience, the Microsoft hosted network can be used for dev box deployment. For organizations that require customized networking, use a network connection resource.\n- managedVirtualNetworkRegion (string): Conditional. The region of the managed virtual network. Required if virtualNetworkType is \"Managed\".\n- networkConnectionName (string): Conditional. Name of a Network Connection in parent Project of this Pool. Required if virtualNetworkType is \"Unmanaged\". The region hosting a pool is determined by the region of the network connection. For best performance, create a dev box pool for every region where your developers are located. The network connection cannot be configured with \"None\" domain join type and must be first attached to the Dev Center before used by the pool. Will be set to \"managedNetwork\" if virtualNetworkType is \"Managed\".\n- singleSignOnStatus (string): Optional. Indicates whether Dev Boxes in this pool are created with single sign on enabled. The also requires that single sign on be enabled on the tenant. Changing this setting will not affect existing dev boxes.\n- stopOnDisconnect (N/A): Optional. Stop on \"disconnect\" configuration settings for Dev Boxes created in this pool. Dev boxes in this pool will hibernate after the grace period after the user disconnects.\n- stopOnNoConnect (N/A): Optional. Stop on \"no connect\" configuration settings for Dev Boxes created in this pool. Dev boxes in this pool will hibernate after the grace period if the user never connects.\n- schedule (N/A): Optional. The schedule for the pool. Dev boxes in this pool will auto-stop every day as per the schedule configuration."}
{"id": "res_dev-center_project_pool_schedule", "source": "res\\dev-center\\project\\pool\\schedule\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Schedule' (Parent Chain: Dev Center > Project > Pool).\nResource Type Path: dev-center\\project\\pool\\schedule\nModule ID: br/public:res/dev-center/project/pool/schedule:0.1.0\nParameters:\n- poolName (string): Conditional. The name of the parent dev center project pool. Required if the template is used in a standalone deployment.\n- projectName (string): Conditional. The name of the parent dev center project. Required if the template is used in a standalone deployment.\n- location (string): Optional. Location for all resources.\n- tags (object): Optional. Resource tags to apply to the pool.\n- state (string): Required. Indicates whether or not this scheduled task is enabled. Allowed values: Disabled, Enabled.\n- time (string): Required. The target time to trigger the action. The format is HH:MM. For example, \"14:30\" for 2:30 PM.\n- timeZone (string): Required. The IANA timezone id at which the schedule should execute. For example, \"Australia/Sydney\", \"Canada/Central\"."}
{"id": "res_dev-ops-infrastructure_pool", "source": "res\\dev-ops-infrastructure\\pool\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Pool' (Parent Chain: Dev Ops Infrastructure).\nResource Type Path: dev-ops-infrastructure\\pool\nModule ID: br/public:res/dev-ops-infrastructure/pool:0.7.0\nParameters:\n- name (string): Required. Name of the pool. It needs to be globally unique.\n- fabricProfileSkuName (string): Required. The Azure SKU name of the machines in the pool.\n- concurrency (int): Required. Defines how many resources can there be created at any given time.\n- images (array): Required. The VM images of the machines in the pool.\n- location (string): Optional. The geo-location where the resource lives.\n- devCenterProjectResourceId (string): Required. The resource id of the DevCenter Project the pool belongs to.\n- subnetResourceId (string): Optional. The subnet id on which to put all machines created in the pool.\n- agentProfile (N/A): Required. Defines how the machine will be handled once it executed a job.\n- osProfile (N/A): Optional. The OS profile of the agents in the pool.\n- storageProfile (N/A): Optional. The storage profile of the machines in the pool.\n- organizationProfile (object): Required. Defines the organization in which the pool will be used.\n- tags (object): Optional. Tags of the resource.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- diagnosticSettings (array): Optional. The diagnostic settings of the service.\n- managedIdentities (N/A): Optional. The managed service identities assigned to this resource."}
{"id": "res_dev-test-lab_lab", "source": "res\\dev-test-lab\\lab\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Lab' (Parent Chain: Dev Test Lab).\nResource Type Path: dev-test-lab\\lab\nModule ID: br/public:res/dev-test-lab/lab:0.4.0\nParameters:\n- name (string): Required. The name of the lab.\n- location (string): Optional. Location for all Resources.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- tags (object): Optional. Tags of the resource.\n- announcement (object): Optional. The properties of any lab announcement associated with this lab.\n- environmentPermission (string): Optional. The access rights to be granted to the user when provisioning an environment.\n- extendedProperties (object): Optional. Extended properties of the lab used for experimental features.\n- labStorageType (string): Optional. Type of storage used by the lab. It can be either Premium or Standard.\n- artifactsStorageAccount (string): Optional. The resource ID of the storage account used to store artifacts and images by the lab. Also used for defaultStorageAccount, defaultPremiumStorageAccount and premiumDataDiskStorageAccount properties. If left empty, a default storage account will be created by the lab and used.\n- mandatoryArtifactsResourceIdsLinux (array): Optional. The ordered list of artifact resource IDs that should be applied on all Linux VM creations by default, prior to the artifacts specified by the user.\n- mandatoryArtifactsResourceIdsWindows (array): Optional. The ordered list of artifact resource IDs that should be applied on all Windows VM creations by default, prior to the artifacts specified by the user.\n- premiumDataDisks (string): Optional. The setting to enable usage of premium data disks. When its value is \"Enabled\", creation of standard or premium data disks is allowed. When its value is \"Disabled\", only creation of standard data disks is allowed. Default is \"Disabled\".\n- support (object): Optional. The properties of any lab support message associated with this lab.\n- managedIdentities (N/A): Optional. The managed identity definition for this resource. For new labs created after 8/10/2020, the lab's system assigned identity is set to On by default and lab owner will not be able to turn this off for the lifecycle of the lab.\n- managementIdentitiesResourceIds (array): Optional. The resource ID(s) to assign to the virtual machines associated with this lab.\n- vmCreationResourceGroupId (string): Optional. Resource Group allocation for virtual machines. If left empty, virtual machines will be deployed in their own Resource Groups. Default is the same Resource Group for DevTest Lab.\n- browserConnect (string): Optional. Enable browser connect on virtual machines if the lab's VNETs have configured Azure Bastion.\n- disableAutoUpgradeCseMinorVersion (bool): Optional. Disable auto upgrade custom script extension minor version.\n- isolateLabResources (string): Optional. Enable lab resources isolation from the public internet.\n- encryptionType (string): Optional. Specify how OS and data disks created as part of the lab are encrypted.\n- encryptionDiskEncryptionSetId (string): Conditional. The Disk Encryption Set Resource ID used to encrypt OS and data disks created as part of the the lab. Required if encryptionType is set to \"EncryptionAtRestWithCustomerKey\".\n- virtualnetworks (array): Optional. Virtual networks to create for the lab.\n- policies (array): Optional. Policies to create for the lab.\n- schedules (array): Optional. Schedules to create for the lab.\n- notificationchannels (array): Conditional. Notification Channels to create for the lab. Required if the schedules property \"notificationSettingsStatus\" is set to \"Enabled.\n- artifactsources (array): Optional. Artifact sources to create for the lab.\n- costs (N/A): Optional. Costs to create for the lab.\n- secrets (array): Optional. Secrets to create for the lab. With Lab Secrets, you can store sensitive data once at the lab level and make it available wherever it's needed.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_dev-test-lab_lab_artifactsource", "source": "res\\dev-test-lab\\lab\\artifactsource\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Artifactsource' (Parent Chain: Dev Test Lab > Lab).\nResource Type Path: dev-test-lab\\lab\\artifactsource\nModule ID: br/public:res/dev-test-lab/lab/artifactsource:0.4.0\nParameters:\n- labName (string): Conditional. The name of the parent lab. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the artifact source.\n- tags (object): Optional. Tags of the resource.\n- displayName (string): Optional. The artifact source's display name. Default is the name of the artifact source.\n- branchRef (string): Optional. The artifact source's branch reference (e.g. main or master).\n- folderPath (string): Conditional. The folder containing artifacts. At least one folder path is required. Required if \"armTemplateFolderPath\" is empty.\n- armTemplateFolderPath (string): Conditional. The folder containing Azure Resource Manager templates. Required if \"folderPath\" is empty.\n- securityToken (securestring): Optional. The security token to authenticate to the artifact source.\n- sourceType (string): Optional. The artifact source's type.\n- status (string): Optional. Indicates if the artifact source is enabled (values: Enabled, Disabled). Default is \"Enabled\".\n- uri (string): Required. The artifact source's URI."}
{"id": "res_dev-test-lab_lab_cost", "source": "res\\dev-test-lab\\lab\\cost\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Cost' (Parent Chain: Dev Test Lab > Lab).\nResource Type Path: dev-test-lab\\lab\\cost\nModule ID: br/public:res/dev-test-lab/lab/cost:0.4.0\nParameters:\n- labName (string): Conditional. The name of the parent lab. Required if the template is used in a standalone deployment.\n- cycleType (string): Required. Reporting cycle type.\n- tags (object): Optional. Tags of the resource.\n- cycleStartDateTime (string): Conditional. Reporting cycle start date in the zulu time format (e.g. 2023-12-01T00:00:00.000Z). Required if cycleType is set to \"Custom\".\n- cycleEndDateTime (string): Conditional. Reporting cycle end date in the zulu time format (e.g. 2023-12-01T00:00:00.000Z). Required if cycleType is set to \"Custom\".\n- status (string): Optional. Target cost status.\n- target (int): Optional. Lab target cost (e.g. 100). The target cost will appear in the \"Cost trend\" chart to allow tracking lab spending relative to the target cost for the current reporting cycleSetting the target cost to 0 will disable all thresholds.\n- currencyCode (string): Optional. The currency code of the cost.\n- thresholdValue25DisplayOnChart (string): Optional. Target Cost threshold at 25% display on chart. Indicates whether this threshold will be displayed on cost charts.\n- thresholdValue25SendNotificationWhenExceeded (string): Optional. Target cost threshold at 25% send notification when exceeded. Indicates whether notifications will be sent when this threshold is exceeded.\n- thresholdValue50DisplayOnChart (string): Optional. Target Cost threshold at 50% display on chart. Indicates whether this threshold will be displayed on cost charts.\n- thresholdValue50SendNotificationWhenExceeded (string): Optional. Target cost threshold at 50% send notification when exceeded. Indicates whether notifications will be sent when this threshold is exceeded.\n- thresholdValue75DisplayOnChart (string): Optional. Target Cost threshold at 75% display on chart. Indicates whether this threshold will be displayed on cost charts.\n- thresholdValue75SendNotificationWhenExceeded (string): Optional. Target cost threshold at 75% send notification when exceeded. Indicates whether notifications will be sent when this threshold is exceeded.\n- thresholdValue100DisplayOnChart (string): Optional. Target Cost threshold at 100% display on chart. Indicates whether this threshold will be displayed on cost charts.\n- thresholdValue100SendNotificationWhenExceeded (string): Optional. Target cost threshold at 100% send notification when exceeded. Indicates whether notifications will be sent when this threshold is exceeded.\n- thresholdValue125DisplayOnChart (string): Optional. Target Cost threshold at 125% display on chart. Indicates whether this threshold will be displayed on cost charts.\n- thresholdValue125SendNotificationWhenExceeded (string): Optional. Target cost threshold at 125% send notification when exceeded. Indicates whether notifications will be sent when this threshold is exceeded."}
{"id": "res_dev-test-lab_lab_notificationchannel", "source": "res\\dev-test-lab\\lab\\notificationchannel\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Notificationchannel' (Parent Chain: Dev Test Lab > Lab).\nResource Type Path: dev-test-lab\\lab\\notificationchannel\nModule ID: br/public:res/dev-test-lab/lab/notificationchannel:0.4.0\nParameters:\n- labName (string): Conditional. The name of the parent lab. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the notification channel.\n- tags (object): Optional. Tags of the resource.\n- description (string): Optional. Description of notification.\n- events (array): Required. The list of event for which this notification is enabled.\n- emailRecipient (string): Conditional. The email recipient to send notifications to (can be a list of semi-colon separated email addresses). Required if \"webHookUrl\" is empty.\n- webHookUrl (string): Conditional. The webhook URL to which the notification will be sent. Required if \"emailRecipient\" is empty.\n- notificationLocale (string): Optional. The locale to use when sending a notification (fallback for unsupported languages is EN)."}
{"id": "res_dev-test-lab_lab_policyset_policy", "source": "res\\dev-test-lab\\lab\\policyset\\policy\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Policy' (Parent Chain: Dev Test Lab > Lab > Policyset).\nResource Type Path: dev-test-lab\\lab\\policyset\\policy\nModule ID: br/public:res/dev-test-lab/lab/policyset/policy:0.4.0\nParameters:\n- labName (string): Conditional. The name of the parent lab. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the policy.\n- description (string): Optional. The description of the policy.\n- evaluatorType (string): Required. The evaluator type of the policy (i.e. AllowedValuesPolicy, MaxValuePolicy).\n- factData (string): Optional. The fact data of the policy.\n- factName (string): Required. The fact name of the policy.\n- status (string): Optional. The status of the policy.\n- threshold (string): Required. The threshold of the policy (i.e. a number for MaxValuePolicy, and a JSON array of values for AllowedValuesPolicy)."}
{"id": "res_dev-test-lab_lab_schedule", "source": "res\\dev-test-lab\\lab\\schedule\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Schedule' (Parent Chain: Dev Test Lab > Lab).\nResource Type Path: dev-test-lab\\lab\\schedule\nModule ID: br/public:res/dev-test-lab/lab/schedule:0.4.0\nParameters:\n- labName (string): Conditional. The name of the parent lab. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the schedule.\n- taskType (string): Required. The task type of the schedule (e.g. LabVmsShutdownTask, LabVmsStartupTask).\n- tags (object): Optional. Tags of the resource.\n- dailyRecurrence (N/A): Optional. If the schedule will occur once each day of the week, specify the daily recurrence.\n- hourlyRecurrence (N/A): Optional. If the schedule will occur multiple times a day, specify the hourly recurrence.\n- weeklyRecurrence (N/A): Optional. If the schedule will occur only some days of the week, specify the weekly recurrence.\n- status (string): Optional. The status of the schedule (i.e. Enabled, Disabled).\n- targetResourceId (string): Optional. The resource ID to which the schedule belongs.\n- timeZoneId (string): Optional. The time zone ID (e.g. Pacific Standard time).\n- notificationSettings (N/A): Optional. The notification settings for the schedule."}
{"id": "res_dev-test-lab_lab_secret", "source": "res\\dev-test-lab\\lab\\secret\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Secret' (Parent Chain: Dev Test Lab > Lab).\nResource Type Path: dev-test-lab\\lab\\secret\nModule ID: br/public:res/dev-test-lab/lab/secret:0.4.0\nParameters:\n- labName (string): Conditional. The name of the parent lab. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the secret. Secret names can only contain alphanumeric characters and dashes.\n- value (securestring): Required. The value of the secret.\n- enabledForArtifacts (bool): Optional. Set a secret for your artifacts (e.g., a personal access token to clone your Git repository via an artifact). At least one of the following must be true: enabledForArtifacts, enabledForVmCreation.\n- enabledForVmCreation (bool): Optional. Set a user password or provide an SSH public key to access your Windows or Linux virtual machines. At least one of the following must be true: enabledForArtifacts, enabledForVmCreation."}
{"id": "res_dev-test-lab_lab_virtualnetwork", "source": "res\\dev-test-lab\\lab\\virtualnetwork\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Virtualnetwork' (Parent Chain: Dev Test Lab > Lab).\nResource Type Path: dev-test-lab\\lab\\virtualnetwork\nModule ID: br/public:res/dev-test-lab/lab/virtualnetwork:0.4.0\nParameters:\n- labName (string): Conditional. The name of the parent lab. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the virtual network.\n- externalProviderResourceId (string): Required. The resource ID of the virtual network.\n- tags (object): Optional. Tags of the resource.\n- description (string): Optional. The description of the virtual network.\n- allowedSubnets (array): Optional. The allowed subnets of the virtual network.\n- subnetOverrides (array): Optional. The subnet overrides of the virtual network."}
{"id": "res_digital-twins_digital-twins-instance", "source": "res\\digital-twins\\digital-twins-instance\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Digital Twins Instance' (Parent Chain: Digital Twins).\nResource Type Path: digital-twins\\digital-twins-instance\nModule ID: br/public:res/digital-twins/digital-twins-instance:0.4.0\nParameters:\n- name (string): Required. The name of the Digital Twin Instance.\n- location (string): Optional. Location for all resources.\n- tags (object): Optional. Resource tags.\n- lock (N/A): Optional. The lock settings of the service.\n- managedIdentities (N/A): Optional. The managed identity definition for this resource.\n- endpoints (array): Optional. The endpoints of the service.\n- privateEndpoints (array): Optional. Configuration details for private endpoints. For security reasons, it is recommended to use private endpoints whenever possible.\n- publicNetworkAccess (string): Optional. Whether or not public network access is allowed for this resource. For security reasons it should be disabled. If not specified, it will be disabled by default if private endpoints are set.\n- diagnosticSettings (array): Optional. The diagnostic settings of the service.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- roleAssignments (array): Optional. Array of role assignment objects that contain the 'roleDefinitionIdOrName' and 'principalIds' to define RBAC role assignments on this resource. In the roleDefinitionIdOrName attribute, you can provide either the display name of the role definition, or its fully qualified ID in the following format: '/providers/Microsoft.Authorization/roleDefinitions/c2f4ef07-c644-48eb-af81-4b1b4947fb11'."}
{"id": "res_digital-twins_digital-twins-instance_endpoint", "source": "res\\digital-twins\\digital-twins-instance\\endpoint\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Endpoint' (Parent Chain: Digital Twins > Digital Twins Instance).\nResource Type Path: digital-twins\\digital-twins-instance\\endpoint\nModule ID: br/public:res/digital-twins/digital-twins-instance/endpoint:0.4.0\nParameters:\n- name (string): Required. The name of the Digital Twin Endpoint.\n- digitalTwinInstanceName (string): Conditional. The name of the parent Digital Twin Instance resource. Required if the template is used in a standalone deployment.\n- properties (N/A): Required. The properties of the endpoint."}
{"id": "res_document-db_database-account", "source": "res\\document-db\\database-account\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Database Account' (Parent Chain: Document Db).\nResource Type Path: document-db\\database-account\nModule ID: br/public:res/document-db/database-account:0.16.0\nParameters:\n- name (string): Required. The name of the account.\n- location (string): Optional. Defaults to the current resource group scope location. Location for all resources.\n- tags (object): Optional. Tags for the resource.\n- managedIdentities (N/A): Optional. The managed identity definition for this resource.\n- databaseAccountOfferType (string): Optional. The offer type for the account. Defaults to \"Standard\".\n- failoverLocations (array): Optional. The set of locations enabled for the account. Defaults to the location where the account is deployed.\n- zoneRedundant (bool): Optional. Indicates whether the single-region account is zone redundant. Defaults to true. This property is ignored for multi-region accounts.\n- defaultConsistencyLevel (string): Optional. The default consistency level of the account. Defaults to \"Session\".\n- disableLocalAuthentication (bool): Optional. Opt-out of local authentication and ensure that only Microsoft Entra can be used exclusively for authentication. Defaults to true.\n- enableAnalyticalStorage (bool): Optional. Flag to indicate whether to enable storage analytics. Defaults to false.\n- automaticFailover (bool): Optional. Enable automatic failover for regions. Defaults to true.\n- enableFreeTier (bool): Optional. Flag to indicate whether \"Free Tier\" is enabled. Defaults to false.\n- enableMultipleWriteLocations (bool): Optional. Enables the account to write in multiple locations. Periodic backup must be used if enabled. Defaults to false.\n- disableKeyBasedMetadataWriteAccess (bool): Optional. Disable write operations on metadata resources (databases, containers, throughput) via account keys. Defaults to true.\n- maxStalenessPrefix (int): Optional. The maximum stale requests. Required for \"BoundedStaleness\" consistency level. Valid ranges, Single Region: 10 to 1000000. Multi Region: 100000 to 1000000. Defaults to 100000.\n- maxIntervalInSeconds (int): Optional. The maximum lag time in minutes. Required for \"BoundedStaleness\" consistency level. Valid ranges, Single Region: 5 to 84600. Multi Region: 300 to 86400. Defaults to 300.\n- serverVersion (string): Optional. Specifies the MongoDB server version to use if using Azure Cosmos DB for MongoDB RU. Defaults to \"4.2\".\n- sqlDatabases (array): Optional. Configuration for databases when using Azure Cosmos DB for NoSQL.\n- mongodbDatabases (array): Optional. Configuration for databases when using Azure Cosmos DB for MongoDB RU.\n- gremlinDatabases (array): Optional. Configuration for databases when using Azure Cosmos DB for Apache Gremlin.\n- tables (array): Optional. Configuration for databases when using Azure Cosmos DB for Table.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- totalThroughputLimit (int): Optional. The total throughput limit imposed on this account in request units per second (RU/s). Default to unlimited throughput.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. An array of control plane Azure role-based access control assignments.\n- dataPlaneRoleDefinitions (array): Optional. Configurations for Azure Cosmos DB for NoSQL native role-based access control definitions. Allows the creations of custom role definitions.\n- dataPlaneRoleAssignments (array): Optional. Configurations for Azure Cosmos DB for NoSQL native role-based access control assignments.\n- diagnosticSettings (array): Optional. The diagnostic settings for the service.\n- capabilitiesToAdd (array): Optional. A list of Azure Cosmos DB specific capabilities for the account.\n- backupPolicyType (string): Optional. Configures the backup mode. Periodic backup must be used if multiple write locations are used. Defaults to \"Continuous\".\n- backupPolicyContinuousTier (string): Optional. Configuration values to specify the retention period for continuous mode backup. Default to \"Continuous30Days\".\n- backupIntervalInMinutes (int): Optional. An integer representing the interval in minutes between two backups. This setting only applies to the periodic backup type. Defaults to 240.\n- backupRetentionIntervalInHours (int): Optional. An integer representing the time (in hours) that each backup is retained. This setting only applies to the periodic backup type. Defaults to 8.\n- backupStorageRedundancy (string): Optional. Setting that indicates the type of backup residency. This setting only applies to the periodic backup type. Defaults to \"Local\".\n- privateEndpoints (array): Optional. Configuration details for private endpoints. For security reasons, it is advised to use private endpoints whenever possible.\n- networkRestrictions (N/A): Optional. The network configuration of this module. Defaults to `{ ipRules: [], virtualNetworkRules: [], publicNetworkAccess: 'Disabled' }`.\n- minimumTlsVersion (string): Optional. Setting that indicates the minimum allowed TLS version. Azure Cosmos DB for MongoDB RU and Apache Cassandra only work with TLS 1.2 or later. Defaults to \"Tls12\" (TLS 1.2)."}
{"id": "res_document-db_database-account_gremlin-database", "source": "res\\document-db\\database-account\\gremlin-database\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Gremlin Database' (Parent Chain: Document Db > Database Account).\nResource Type Path: document-db\\database-account\\gremlin-database\nModule ID: br/public:res/document-db/database-account/gremlin-database:0.16.0\nParameters:\n- name (string): Required. Name of the Gremlin database.\n- tags (object): Optional. Tags of the Gremlin database resource.\n- databaseAccountName (string): Conditional. The name of the parent Gremlin database. Required if the template is used in a standalone deployment.\n- graphs (array): Optional. Array of graphs to deploy in the Gremlin database.\n- maxThroughput (int): Optional. Represents maximum throughput, the resource can scale up to. Cannot be set together with `throughput`. If `throughput` is set to something else than -1, this autoscale setting is ignored. Setting throughput at the database level is only recommended for development/test or when workload across all graphs in the shared throughput database is uniform. For best performance for large production workloads, it is recommended to set dedicated throughput (autoscale or manual) at the graph level and not at the database level.\n- throughput (int): Optional. Request Units per second (for example 10000). Cannot be set together with `maxThroughput`. Setting throughput at the database level is only recommended for development/test or when workload across all graphs in the shared throughput database is uniform. For best performance for large production workloads, it is recommended to set dedicated throughput (autoscale or manual) at the graph level and not at the database level."}
{"id": "res_document-db_database-account_gremlin-database_graph", "source": "res\\document-db\\database-account\\gremlin-database\\graph\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Graph' (Parent Chain: Document Db > Database Account > Gremlin Database).\nResource Type Path: document-db\\database-account\\gremlin-database\\graph\nModule ID: br/public:res/document-db/database-account/gremlin-database/graph:0.16.0\nParameters:\n- name (string): Required. Name of the graph.\n- tags (object): Optional. Tags of the Gremlin graph resource.\n- databaseAccountName (string): Conditional. The name of the parent Database Account. Required if the template is used in a standalone deployment.\n- gremlinDatabaseName (string): Conditional. The name of the parent Gremlin Database. Required if the template is used in a standalone deployment.\n- indexingPolicy (object): Optional. Indexing policy of the graph.\n- partitionKeyPaths (array): Optional. List of paths using which data within the container can be partitioned."}
{"id": "res_document-db_database-account_mongodb-database", "source": "res\\document-db\\database-account\\mongodb-database\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Mongodb Database' (Parent Chain: Document Db > Database Account).\nResource Type Path: document-db\\database-account\\mongodb-database\nModule ID: br/public:res/document-db/database-account/mongodb-database:0.16.0\nParameters:\n- databaseAccountName (string): Conditional. The name of the parent Cosmos DB database account. Required if the template is used in a standalone deployment.\n- name (string): Required. Name of the mongodb database.\n- throughput (int): Optional. Request Units per second. Setting throughput at the database level is only recommended for development/test or when workload across all collections in the shared throughput database is uniform. For best performance for large production workloads, it is recommended to set dedicated throughput (autoscale or manual) at the collection level and not at the database level.\n- collections (array): Optional. Collections in the mongodb database.\n- tags (object): Optional. Tags of the resource."}
{"id": "res_document-db_database-account_mongodb-database_collection", "source": "res\\document-db\\database-account\\mongodb-database\\collection\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Collection' (Parent Chain: Document Db > Database Account > Mongodb Database).\nResource Type Path: document-db\\database-account\\mongodb-database\\collection\nModule ID: br/public:res/document-db/database-account/mongodb-database/collection:0.16.0\nParameters:\n- databaseAccountName (string): Conditional. The name of the parent Cosmos DB database account. Required if the template is used in a standalone deployment.\n- mongodbDatabaseName (string): Conditional. The name of the parent mongodb database. Required if the template is used in a standalone deployment.\n- name (string): Required. Name of the collection.\n- throughput (int): Optional. Request Units per second. For best performance for large production workloads, it is recommended to set dedicated throughput (autoscale or manual) at the collection level and not at the database level.\n- indexes (array): Required. Indexes for the collection.\n- shardKey (object): Required. ShardKey for the collection."}
{"id": "res_document-db_database-account_sql-database", "source": "res\\document-db\\database-account\\sql-database\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Sql Database' (Parent Chain: Document Db > Database Account).\nResource Type Path: document-db\\database-account\\sql-database\nModule ID: br/public:res/document-db/database-account/sql-database:0.16.0\nParameters:\n- databaseAccountName (string): Conditional. The name of the parent Database Account. Required if the template is used in a standalone deployment.\n- name (string): Required. Name of the SQL database .\n- containers (array): Optional. Array of containers to deploy in the SQL database.\n- throughput (int): Optional. Request units per second. Will be ignored if autoscaleSettingsMaxThroughput is used. Setting throughput at the database level is only recommended for development/test or when workload across all containers in the shared throughput database is uniform. For best performance for large production workloads, it is recommended to set dedicated throughput (autoscale or manual) at the container level and not at the database level.\n- autoscaleSettingsMaxThroughput (int): Optional. Specifies the Autoscale settings and represents maximum throughput, the resource can scale up to. The autoscale throughput should have valid throughput values between 1000 and 1000000 inclusive in increments of 1000. If value is set to null, then autoscale will be disabled. Setting throughput at the database level is only recommended for development/test or when workload across all containers in the shared throughput database is uniform. For best performance for large production workloads, it is recommended to set dedicated throughput (autoscale or manual) at the container level and not at the database level.\n- tags (object): Optional. Tags of the SQL database resource."}
{"id": "res_document-db_database-account_sql-database_container", "source": "res\\document-db\\database-account\\sql-database\\container\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Container' (Parent Chain: Document Db > Database Account > Sql Database).\nResource Type Path: document-db\\database-account\\sql-database\\container\nModule ID: br/public:res/document-db/database-account/sql-database/container:0.16.0\nParameters:\n- databaseAccountName (string): Conditional. The name of the parent Database Account. Required if the template is used in a standalone deployment.\n- sqlDatabaseName (string): Conditional. The name of the parent SQL Database. Required if the template is used in a standalone deployment.\n- name (string): Required. Name of the container.\n- analyticalStorageTtl (int): Optional. Default to 0. Indicates how long data should be retained in the analytical store, for a container. Analytical store is enabled when ATTL is set with a value other than 0. If the value is set to -1, the analytical store retains all historical data, irrespective of the retention of the data in the transactional store.\n- conflictResolutionPolicy (object): Optional. The conflict resolution policy for the container. Conflicts and conflict resolution policies are applicable if the Azure Cosmos DB account is configured with multiple write regions.\n- defaultTtl (int): Optional. Default to -1. Default time to live (in seconds). With Time to Live or TTL, Azure Cosmos DB provides the ability to delete items automatically from a container after a certain time period. If the value is set to \"-1\", it is equal to infinity, and items don't expire by default.\n- throughput (int): Optional. Default to 400. Request Units per second. Will be ignored if autoscaleSettingsMaxThroughput is used. For best performance for large production workloads, it is recommended to set dedicated throughput (autoscale or manual) at the container level and not at the database level.\n- autoscaleSettingsMaxThroughput (int): Optional. Specifies the Autoscale settings and represents maximum throughput, the resource can scale up to. The autoscale throughput should have valid throughput values between 1000 and 1000000 inclusive in increments of 1000. If value is set to null, then autoscale will be disabled. For best performance for large production workloads, it is recommended to set dedicated throughput (autoscale or manual) at the container level and not at the database level.\n- tags (object): Optional. Tags of the SQL Database resource.\n- paths (array): Required. List of paths using which data within the container can be partitioned. For kind=MultiHash it can be up to 3. For anything else it needs to be exactly 1.\n- indexingPolicy (object): Optional. Indexing policy of the container.\n- uniqueKeyPolicyKeys (array): Optional. The unique key policy configuration containing a list of unique keys that enforces uniqueness constraint on documents in the collection in the Azure Cosmos DB service.\n- kind (string): Optional. Default to Hash. Indicates the kind of algorithm used for partitioning.\n- version (int): Optional. Default to 1 for Hash and 2 for MultiHash - 1 is not allowed for MultiHash. Version of the partition key definition."}
{"id": "res_document-db_database-account_sql-role-assignment", "source": "res\\document-db\\database-account\\sql-role-assignment\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Sql Role Assignment' (Parent Chain: Document Db > Database Account).\nResource Type Path: document-db\\database-account\\sql-role-assignment\nModule ID: br/public:res/document-db/database-account/sql-role-assignment:0.1.0\nParameters:\n- databaseAccountName (string): Conditional. The name of the parent Database Account. Required if the template is used in a standalone deployment.\n- name (string): Optional. Name unique identifier of the SQL Role Assignment.\n- principalId (string): Required. The unique identifier for the associated AAD principal in the AAD graph to which access is being granted through this Role Assignment. Tenant ID for the principal is inferred using the tenant associated with the subscription.\n- roleDefinitionId (string): Required. The unique identifier of the associated SQL Role Definition.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_document-db_database-account_sql-role-definition", "source": "res\\document-db\\database-account\\sql-role-definition\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Sql Role Definition' (Parent Chain: Document Db > Database Account).\nResource Type Path: document-db\\database-account\\sql-role-definition\nModule ID: br/public:res/document-db/database-account/sql-role-definition:0.1.0\nParameters:\n- databaseAccountName (string): Conditional. The name of the parent Database Account. Required if the template is used in a standalone deployment.\n- name (string): Optional. The unique identifier of the Role Definition.\n- roleName (string): Required. A user-friendly name for the Role Definition. Must be unique for the database account.\n- dataActions (array): Optional. An array of data actions that are allowed.\n- assignableScopes (array): Optional. A set of fully qualified Scopes at or below which Role Assignments may be created using this Role Definition. This will allow application of this Role Definition on the entire database account or any underlying Database / Collection. Must have at least one element. Scopes higher than Database account are not enforceable as assignable Scopes. Note that resources referenced in assignable Scopes need not exist. Defaults to the current account.\n- sqlRoleAssignments (array): Optional. An array of SQL Role Assignments to be created for the SQL Role Definition.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_document-db_database-account_table", "source": "res\\document-db\\database-account\\table\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Table' (Parent Chain: Document Db > Database Account).\nResource Type Path: document-db\\database-account\\table\nModule ID: br/public:res/document-db/database-account/table:0.16.0\nParameters:\n- name (string): Required. Name of the table.\n- tags (object): Optional. Tags for the table.\n- databaseAccountName (string): Conditional. The name of the parent Azure Cosmos DB account. Required if the template is used in a standalone deployment.\n- maxThroughput (int): Optional. Represents maximum throughput, the resource can scale up to. Cannot be set together with `throughput`. If `throughput` is set to something else than -1, this autoscale setting is ignored.\n- throughput (int): Optional. Request Units per second (for example 10000). Cannot be set together with `maxThroughput`."}
{"id": "res_document-db_mongo-cluster", "source": "res\\document-db\\mongo-cluster\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Mongo Cluster' (Parent Chain: Document Db).\nResource Type Path: document-db\\mongo-cluster\nModule ID: br/public:res/document-db/mongo-cluster:0.4.0\nParameters:\n- name (string): Required. Name of the Azure Cosmos DB for MongoDB (vCore) cluster.\n- location (string): Optional. Default to current resource group scope location. Location for all resources.\n- tags (object): Optional. Tags of the Database Account resource.\n- administratorLogin (string): Required. Username for admin user.\n- administratorLoginPassword (securestring): Required. Password for admin user.\n- createMode (string): Optional. Mode to create the Azure Cosmos DB for MongoDB (vCore) cluster.\n- diagnosticSettings (array): Optional. The diagnostic settings of the service.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- highAvailabilityMode (string): Optional. Whether high availability is enabled on the node group.\n- lock (N/A): Optional. The lock settings of the service.\n- networkAcls (N/A): Optional. IP addresses to allow access to the cluster from.\n- nodeCount (int): Required. Number of nodes in the node group.\n- privateEndpoints (array): Optional. Configuration details for private endpoints. For security reasons, it is recommended to use private endpoints whenever possible.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- sku (string): Required. SKU defines the CPU and memory that is provisioned for each node.\n- storage (int): Required. Disk storage size for the node group in GB.\n- enableMicrosoftEntraAuth (bool): Optional. The type of the secrets export configuration.\n- entraAuthIdentities (array): Optional. The Microsoft Entra ID authentication identity assignments to be created for the cluster."}
{"id": "res_document-db_mongo-cluster_firewall-rule", "source": "res\\document-db\\mongo-cluster\\firewall-rule\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Firewall Rule' (Parent Chain: Document Db > Mongo Cluster).\nResource Type Path: document-db\\mongo-cluster\\firewall-rule\nModule ID: br/public:res/document-db/mongo-cluster/firewall-rule:0.4.0\nParameters:\n- mongoClusterName (string): Conditional. The name of the parent Azure Cosmos DB for MongoDB (vCore) cluster. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the firewall rule. Must match the pattern `^[a-zA-Z0-9][-_a-zA-Z0-9]*`.\n- startIpAddress (string): Required. The start IP address of the Azure Cosmos DB for MongoDB (vCore) cluster firewall rule. Must be IPv4 format.\n- endIpAddress (string): Required. The end IP address of the Azure Cosmos DB for MongoDB (vCore) cluster firewall rule. Must be IPv4 format."}
{"id": "res_document-db_mongo-cluster_user", "source": "res\\document-db\\mongo-cluster\\user\\main.bicep", "content_to_embed": "Recommended AVM Module for 'User' (Parent Chain: Document Db > Mongo Cluster).\nResource Type Path: document-db\\mongo-cluster\\user\nModule ID: br/public:res/document-db/mongo-cluster/user:0.4.0\nParameters:\n- mongoClusterName (string): Conditional. The name of the parent Azure Cosmos DB for MongoDB (vCore) cluster. Required if the template is used in a standalone deployment.\n- location (string): Optional. Default to current resource group scope location. Location for all resources.\n- targetIdentity (N/A): Required. The principal/identity to create as a user on the cluster.\n- targetRoles (array): Optional. The roles to assign to the user per database. Defaults to the \"dbOwner\" role on the \"admin\" database."}
{"id": "res_elastic-san_elastic-san", "source": "res\\elastic-san\\elastic-san\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Elastic San' (Parent Chain: Elastic San).\nResource Type Path: elastic-san\\elastic-san\nModule ID: br/public:res/elastic-san/elastic-san:0.4.0\nParameters:\n- name (string): Required. Name of the Elastic SAN. The name can only contain lowercase letters, numbers, hyphens and underscores, and must begin and end with a letter or a number. Each hyphen and underscore must be preceded and followed by an alphanumeric character.\n- location (string): Optional. Location for all resources.\n- volumeGroups (array): Optional. List of Elastic SAN Volume Groups to be created in the Elastic SAN. An Elastic SAN can have a maximum of 200 volume groups.\n- sku (string): Optional. Specifies the SKU for the Elastic SAN.\n- availabilityZone (int): Conditional. Configuration of the availability zone for the Elastic SAN. Required if `Sku` is `Premium_LRS`. If this parameter is not provided, the `Sku` parameter will default to Premium_ZRS. If set to 1, 2 or 3, the availability zone is hardcoded to that value. If set to -1, no zone is defined. Note that the availability zone number here are the logical availability zone in your Azure subscription. Different subscriptions might have a different mapping of the physical zone and logical zone. To understand more, please refer to [Physical and logical availability zones](https://learn.microsoft.com/en-us/azure/reliability/availability-zones-overview?tabs=azure-cli#physical-and-logical-availability-zones).\n- baseSizeTiB (int): Optional. Size of the Elastic SAN base capacity in Tebibytes (TiB). The supported capacity ranges from 1 Tebibyte (TiB) to 400 Tebibytes (TiB).\n- extendedCapacitySizeTiB (int): Optional. Size of the Elastic SAN additional capacity in Tebibytes (TiB). The supported capacity ranges from 0 Tebibyte (TiB) to 600 Tebibytes (TiB).\n- publicNetworkAccess (string): Optional. Whether or not public network access is allowed for this resource. For security reasons it should be `Disabled`, which necessitates the use of private endpoints. If not specified, public access will be `Disabled` by default when private endpoints are used without Virtual Network Rules. Setting public network access to `Disabled` while using Virtual Network Rules will result in an error.\n- tags (object): Optional. Tags of the Elastic SAN resource.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- lock (N/A): Optional. The lock settings of the service.\n- diagnosticSettings (array): Optional. The diagnostic settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create."}
{"id": "res_elastic-san_elastic-san_volume-group", "source": "res\\elastic-san\\elastic-san\\volume-group\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Volume Group' (Parent Chain: Elastic San > Elastic San).\nResource Type Path: elastic-san\\elastic-san\\volume-group\nModule ID: br/public:res/elastic-san/elastic-san/volume-group:0.4.0\nParameters:\n- elasticSanName (string): Conditional. The name of the parent Elastic SAN. Required if the template is used in a standalone deployment. The name can only contain lowercase letters, numbers, hyphens and underscores, and must begin and end with a letter or a number. Each hyphen and underscore must be preceded and followed by an alphanumeric character.\n- name (string): Required. The name of the Elastic SAN Volume Group. The name can only contain lowercase letters, numbers and hyphens, and must begin and end with a letter or a number. Each hyphen must be preceded and followed by an alphanumeric character.\n- location (string): Optional. Location for all resources.\n- enforceDataIntegrityCheckForIscsi (bool): Optional. A boolean indicating whether or not Data Integrity Check is enabled.\n- volumes (array): Optional. List of Elastic SAN Volumes to be created in the Elastic SAN Volume Group. Elastic SAN Volume Group can contain up to 1,000 volumes.\n- virtualNetworkRules (array): Optional. List of Virtual Network Rules, permitting virtual network subnet to connect to the resource through service endpoint. Each Elastic SAN Volume Group supports up to 200 virtual network rules.\n- managedIdentities (N/A): Optional. The managed identity definition for this resource. The Elastic SAN Volume Group supports the following identity combinations: no identity is specified, only system-assigned identity is specified, only user-assigned identity is specified, and both system-assigned and user-assigned identities are specified. A maximum of one user-assigned identity is supported.\n- customerManagedKey (N/A): Optional. The customer managed key definition. This parameter enables the encryption of Elastic SAN Volume Group using a customer-managed key. Currently, the only supported configuration is to use the same user-assigned identity for both 'managedIdentities.userAssignedResourceIds' and 'customerManagedKey.userAssignedIdentityResourceId'. Other configurations such as system-assigned identity are not supported. Ensure that the specified user-assigned identity has the 'Key Vault Crypto Service Encryption User' role access to both the key vault and the key itself. The key vault must also have purge protection enabled.\n- privateEndpoints (array): Optional. Configuration details for private endpoints. For security reasons, it is recommended to use private endpoints whenever possible.\n- tags (object): Optional. Tags of the Elastic SAN Volume Group resource.\n- lock (N/A): Optional. The lock settings of the service."}
{"id": "res_elastic-san_elastic-san_volume-group_snapshot", "source": "res\\elastic-san\\elastic-san\\volume-group\\snapshot\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Snapshot' (Parent Chain: Elastic San > Elastic San > Volume Group).\nResource Type Path: elastic-san\\elastic-san\\volume-group\\snapshot\nModule ID: br/public:res/elastic-san/elastic-san/volume-group/snapshot:0.4.0\nParameters:\n- elasticSanName (string): Conditional. The name of the parent Elastic SAN. Required if the template is used in a standalone deployment. The name can only contain lowercase letters, numbers, hyphens and underscores, and must begin and end with a letter or a number. Each hyphen and underscore must be preceded and followed by an alphanumeric character.\n- volumeGroupName (string): Conditional. The name of the parent Elastic SAN Volume Group. Required if the template is used in a standalone deployment. The name can only contain lowercase letters, numbers and hyphens, and must begin and end with a letter or a number. Each hyphen must be preceded and followed by an alphanumeric character.\n- volumeName (string): Conditional. The name of the parent Elastic SAN Volume. Required if the template is used in a standalone deployment. The name can only contain lowercase letters, numbers, hyphens and underscores, and must begin and end with a letter or a number. Each hyphen and underscore must be preceded and followed by an alphanumeric character.\n- name (string): Required. The name of the Elastic SAN Volume Snapshot. The name can only contain lowercase letters, numbers, hyphens and underscores, and must begin and end with a letter or a number. Each hyphen and underscore must be preceded and followed by an alphanumeric character.\n- location (string): Optional. Location for all resources."}
{"id": "res_elastic-san_elastic-san_volume-group_volume", "source": "res\\elastic-san\\elastic-san\\volume-group\\volume\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Volume' (Parent Chain: Elastic San > Elastic San > Volume Group).\nResource Type Path: elastic-san\\elastic-san\\volume-group\\volume\nModule ID: br/public:res/elastic-san/elastic-san/volume-group/volume:0.4.0\nParameters:\n- elasticSanName (string): Conditional. The name of the parent Elastic SAN. Required if the template is used in a standalone deployment. The name can only contain lowercase letters, numbers, hyphens and underscores, and must begin and end with a letter or a number. Each hyphen and underscore must be preceded and followed by an alphanumeric character.\n- volumeGroupName (string): Conditional. The name of the parent Elastic SAN Volume Group. Required if the template is used in a standalone deployment. The name can only contain lowercase letters, numbers and hyphens, and must begin and end with a letter or a number. Each hyphen must be preceded and followed by an alphanumeric character.\n- name (string): Required. The name of the Elastic SAN Volume. The name can only contain lowercase letters, numbers, hyphens and underscores, and must begin and end with a letter or a number. Each hyphen and underscore must be preceded and followed by an alphanumeric character.\n- location (string): Optional. Location for all resources.\n- sizeGiB (int): Required. Size of the Elastic SAN Volume in Gibibytes (GiB). The supported capacity ranges from 1 Gibibyte (GiB) to 64 Tebibyte (TiB), equating to 65536 Gibibytes (GiB).\n- snapshots (array): Optional. List of Elastic SAN Volume Snapshots to be created in the Elastic SAN Volume."}
{"id": "res_event-grid_domain", "source": "res\\event-grid\\domain\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Domain' (Parent Chain: Event Grid).\nResource Type Path: event-grid\\domain\nModule ID: br/public:res/event-grid/domain:0.8.0\nParameters:\n- name (string): Required. The name of the Event Grid Domain.\n- location (string): Optional. Location for all Resources.\n- publicNetworkAccess (string): Optional. Whether or not public network access is allowed for this resource. For security reasons it should be disabled. If not specified, it will be disabled by default if private endpoints are set and inboundIpRules are not set.\n- autoCreateTopicWithFirstSubscription (bool): Optional. Location for all Resources.\n- autoDeleteTopicWithLastSubscription (bool): Optional. Location for all Resources.\n- inboundIpRules (array): Optional. This can be used to restrict traffic from specific IPs instead of all IPs. Note: These are considered only if PublicNetworkAccess is enabled.\n- minimumTlsVersionAllowed (string): Optional. The minimum TLS version required for API requests to the domain.\n- diagnosticSettings (array): Optional. The diagnostic settings of the service.\n- privateEndpoints (array): Optional. Configuration details for private endpoints. For security reasons, it is recommended to use private endpoints whenever possible.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- lock (N/A): Optional. The lock settings of the service.\n- tags (object): Optional. Tags of the resource.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- topics (array): Optional. The topic names which are associated with the domain.\n- eventSubscriptions (array): Optional. Event subscriptions to deploy.\n- managedIdentities (N/A): Optional. The managed identity definition for this resource.\n- disableLocalAuth (bool): Optional. Allow only Azure AD authentication. Should be enabled for security reasons."}
{"id": "res_event-grid_domain_event-subscription", "source": "res\\event-grid\\domain\\event-subscription\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Event Subscription' (Parent Chain: Event Grid > Domain).\nResource Type Path: event-grid\\domain\\event-subscription\nModule ID: br/public:res/event-grid/domain/event-subscription:0.8.0\nParameters:\n- name (string): Required. The name of the Event Subscription.\n- domainName (string): Conditional. The name of the parent event grid domain. Required if the template is used in a standalone deployment.\n- deadLetterDestination (object): Optional. Dead Letter Destination. See DeadLetterDestination objects for full shape.\n- deadLetterWithResourceIdentity (object): Optional. Dead Letter with Resource Identity Configuration. See DeadLetterWithResourceIdentity objects for full shape.\n- deliveryWithResourceIdentity (object): Optional. Delivery with Resource Identity Configuration. See DeliveryWithResourceIdentity objects for full shape.\n- destination (object): Required. The destination for the event subscription. See EventSubscriptionDestination objects for full shape.\n- eventDeliverySchema (string): Optional. The event delivery schema for the event subscription.\n- expirationTimeUtc (string): Optional. The expiration time for the event subscription. Format is ISO-8601 (yyyy-MM-ddTHH:mm:ssZ).\n- filter (object): Optional. The filter for the event subscription. See EventSubscriptionFilter objects for full shape.\n- labels (array): Optional. The list of user defined labels.\n- retryPolicy (object): Optional. The retry policy for events. See RetryPolicy objects for full shape."}
{"id": "res_event-grid_domain_topic", "source": "res\\event-grid\\domain\\topic\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Topic' (Parent Chain: Event Grid > Domain).\nResource Type Path: event-grid\\domain\\topic\nModule ID: br/public:res/event-grid/domain/topic:0.8.0\nParameters:\n- name (string): Required. The name of the Event Grid Domain Topic.\n- domainName (string): Conditional. The name of the parent Event Grid Domain. Required if the template is used in a standalone deployment."}
{"id": "res_event-grid_namespace", "source": "res\\event-grid\\namespace\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Namespace' (Parent Chain: Event Grid).\nResource Type Path: event-grid\\namespace\nModule ID: br/public:res/event-grid/namespace:0.7.0\nParameters:\n- name (string): Required. Name of the Event Grid Namespace to create.\n- location (string): Optional. Location for all Resources.\n- tags (object): Optional. Resource tags.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- managedIdentities (N/A): Optional. The managed identity definition for this resource.\n- isZoneRedundant (bool): Optional. Allows the user to specify if the namespace resource supports zone-redundancy capability or not. If this property is not specified explicitly by the user, its default value depends on the following conditions: a. For Availability Zones enabled regions - The default property value would be true. b. For non-Availability Zones enabled regions - The default property value would be false. Once specified, this property cannot be updated.\n- publicNetworkAccess (string): Optional. This determines if traffic is allowed over public network. By default it is enabled. You can further restrict to specific IPs by configuring.\n- inboundIpRules (array): Optional. This can be used to restrict traffic from specific IPs instead of all IPs. Note: These are considered only if PublicNetworkAccess is enabled.\n- lock (N/A): Optional. The lock settings of the service.\n- diagnosticSettings (array): Optional. The diagnostic settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- privateEndpoints (array): Optional. Configuration details for private endpoints. For security reasons, it is recommended to use private endpoints whenever possible.\n- topicSpacesState (string): Optional. Indicates if Topic Spaces Configuration is enabled for the namespace. This enables the MQTT Broker functionality for the namespace. Once enabled, this property cannot be disabled.\n- alternativeAuthenticationNameSources (array): Optional. Alternative authentication name sources related to client authentication settings for namespace resource. Used only when MQTT broker is enabled ('topicSpacesState' is set to 'Enabled').\n- maximumSessionExpiryInHours (int): Optional. The maximum session expiry in hours. Used only when MQTT broker is enabled ('topicSpacesState' is set to 'Enabled').\n- maximumClientSessionsPerAuthenticationName (int): Optional. The maximum number of sessions per authentication name. Used only when MQTT broker is enabled ('topicSpacesState' is set to 'Enabled').\n- routeTopicResourceId (string): Optional. Resource Id for the Event Grid Topic to which events will be routed to from TopicSpaces under a namespace. This enables routing of the MQTT messages to an Event Grid Topic. Used only when MQTT broker is enabled ('topicSpacesState' is set to 'Enabled'). Note that the topic must exist prior to deployment, meaning: if referencing a topic in the same namespace, the deployment must be launched twice: 1. To create the topic 2. To enable the routing this topic.\n- routingEnrichments (object): Optional. Routing enrichments for topic spaces configuration.  Used only when MQTT broker is enabled ('topicSpacesState' is set to 'Enabled') and routing is enabled ('routeTopicResourceId' is set).\n- routingIdentityInfo (object): Conditional. Routing identity info for topic spaces configuration. Required if the 'routeTopicResourceId' points to a topic outside of the current Event Grid Namespace.  Used only when MQTT broker is enabled ('topicSpacesState' is set to 'Enabled') and routing is enabled ('routeTopicResourceId' is set).\n- topics (array): Optional. All namespace Topics to create.\n- caCertificates (array): Optional. CA certificates (Root or intermediate) used to sign the client certificates for clients authenticated using CA-signed certificates.  Used only when MQTT broker is enabled ('topicSpacesState' is set to 'Enabled').\n- clients (array): Optional. All namespace Clients to create. Used only when MQTT broker is enabled ('topicSpacesState' is set to 'Enabled').\n- clientGroups (array): Optional. All namespace Client Groups to create. Used only when MQTT broker is enabled ('topicSpacesState' is set to 'Enabled').\n- topicSpaces (array): Optional. All namespace Topic Spaces to create. Used only when MQTT broker is enabled ('topicSpacesState' is set to 'Enabled').\n- permissionBindings (array): Optional. All namespace Permission Bindings to create. Used only when MQTT broker is enabled ('topicSpacesState' is set to 'Enabled')."}
{"id": "res_event-grid_namespace_ca-certificate", "source": "res\\event-grid\\namespace\\ca-certificate\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Ca Certificate' (Parent Chain: Event Grid > Namespace).\nResource Type Path: event-grid\\namespace\\ca-certificate\nModule ID: br/public:res/event-grid/namespace/ca-certificate:0.7.0\nParameters:\n- namespaceName (string): Conditional. The name of the parent EventGrid namespace. Required if the template is used in a standalone deployment.\n- name (string): Required. Name of the CA certificate.\n- description (string): Optional. Description for the CA Certificate resource.\n- encodedCertificate (string): Required. Base64 encoded PEM (Privacy Enhanced Mail) format certificate data."}
{"id": "res_event-grid_namespace_client", "source": "res\\event-grid\\namespace\\client\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Client' (Parent Chain: Event Grid > Namespace).\nResource Type Path: event-grid\\namespace\\client\nModule ID: br/public:res/event-grid/namespace/client:0.7.0\nParameters:\n- namespaceName (string): Conditional. The name of the parent EventGrid namespace. Required if the template is used in a standalone deployment.\n- name (string): Required. Name of the Client.\n- description (string): Optional. Description of the Client resource.\n- authenticationName (string): Optional. The name presented by the client for authentication. The default value is the name of the resource.\n- clientCertificateAuthenticationValidationSchema (string): Optional. The validation scheme used to authenticate the client.\n- clientCertificateAuthenticationAllowedThumbprints (array): Conditional. The list of thumbprints that are allowed during client authentication. Required if the clientCertificateAuthenticationValidationSchema is 'ThumbprintMatch'.\n- state (string): Optional. Indicates if the client is enabled or not.\n- attributes (object): Optional. Attributes for the client. Supported values are int, bool, string, string[]."}
{"id": "res_event-grid_namespace_client-group", "source": "res\\event-grid\\namespace\\client-group\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Client Group' (Parent Chain: Event Grid > Namespace).\nResource Type Path: event-grid\\namespace\\client-group\nModule ID: br/public:res/event-grid/namespace/client-group:0.7.0\nParameters:\n- namespaceName (string): Conditional. The name of the parent EventGrid namespace. Required if the template is used in a standalone deployment.\n- name (string): Required. Name of the Client Group.\n- query (string): Required. The grouping query for the clients.\n- description (string): Optional. Description of the Client Group."}
{"id": "res_event-grid_namespace_permission-binding", "source": "res\\event-grid\\namespace\\permission-binding\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Permission Binding' (Parent Chain: Event Grid > Namespace).\nResource Type Path: event-grid\\namespace\\permission-binding\nModule ID: br/public:res/event-grid/namespace/permission-binding:0.7.0\nParameters:\n- namespaceName (string): Conditional. The name of the parent EventGrid namespace. Required if the template is used in a standalone deployment.\n- name (string): Required. Name of the Permission Binding.\n- description (string): Optional. Description of the Permission Binding.\n- clientGroupName (string): Required. The name of the client group resource that the permission is bound to. The client group needs to be a resource under the same namespace the permission binding is a part of.\n- topicSpaceName (string): Required. The name of the Topic Space resource that the permission is bound to. The Topic space needs to be a resource under the same namespace the permission binding is a part of.\n- permission (string): Required. The allowed permission."}
{"id": "res_event-grid_namespace_topic", "source": "res\\event-grid\\namespace\\topic\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Topic' (Parent Chain: Event Grid > Namespace).\nResource Type Path: event-grid\\namespace\\topic\nModule ID: br/public:res/event-grid/namespace/topic:0.7.0\nParameters:\n- namespaceName (string): Conditional. The name of the parent EventGrid namespace. Required if the template is used in a standalone deployment.\n- name (string): Required. Name of the topic.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- lock (N/A): Optional. The lock settings of the service.\n- eventRetentionInDays (int): Optional. Event retention for the namespace topic expressed in days.\n- inputSchema (string): Optional. This determines the format that is expected for incoming events published to the topic.\n- publisherType (string): Optional. Publisher type of the namespace topic.\n- eventSubscriptions (array): Optional. All event subscriptions to create."}
{"id": "res_event-grid_namespace_topic_event-subscription", "source": "res\\event-grid\\namespace\\topic\\event-subscription\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Event Subscription' (Parent Chain: Event Grid > Namespace > Topic).\nResource Type Path: event-grid\\namespace\\topic\\event-subscription\nModule ID: br/public:res/event-grid/namespace/topic/event-subscription:0.7.0\nParameters:\n- namespaceName (string): Conditional. The name of the parent EventGrid namespace. Required if the template is used in a standalone deployment.\n- topicName (string): Conditional. The name of the parent EventGrid namespace topic. Required if the template is used in a standalone deployment.\n- name (string): Required. Name of the Event Subscription to create.\n- deliveryConfiguration (object): Optional. Information about the delivery configuration of the Event Subscription.\n- eventDeliverySchema (string): Optional. The event delivery schema for the Event Subscription.\n- filtersConfiguration (object): Optional. Information about the filter for the Event Subscription.\n- roleAssignments (array): Optional. Array of role assignments to create."}
{"id": "res_event-grid_namespace_topic-space", "source": "res\\event-grid\\namespace\\topic-space\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Topic Space' (Parent Chain: Event Grid > Namespace).\nResource Type Path: event-grid\\namespace\\topic-space\nModule ID: br/public:res/event-grid/namespace/topic-space:0.7.0\nParameters:\n- namespaceName (string): Conditional. The name of the parent EventGrid namespace. Required if the template is used in a standalone deployment.\n- name (string): Required. Name of the Topic Space.\n- description (string): Optional. Description of the Topic Space.\n- topicTemplates (array): Required. The topic filters in the Topic Space.\n- roleAssignments (array): Optional. Array of role assignments to create."}
{"id": "res_event-grid_system-topic", "source": "res\\event-grid\\system-topic\\main.bicep", "content_to_embed": "Recommended AVM Module for 'System Topic' (Parent Chain: Event Grid).\nResource Type Path: event-grid\\system-topic\nModule ID: br/public:res/event-grid/system-topic:0.6.0\nParameters:\n- name (string): Required. The name of the Event Grid Topic.\n- location (string): Optional. Location for all Resources.\n- source (string): Required. Source for the system topic.\n- topicType (string): Required. TopicType for the system topic.\n- eventSubscriptions (array): Optional. Event subscriptions to deploy.\n- diagnosticSettings (array): Optional. The diagnostic settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- externalResourceRoleAssignments (array): Optional. Array of role assignments to create on external resources. This is useful for scenarios where the system topic needs permissions on delivery or dead letter destinations (e.g., Storage Account, Service Bus). Each assignment specifies the target resource ID and role definition ID (GUID).\n- lock (N/A): Optional. The lock settings of the service.\n- managedIdentities (N/A): Optional. The managed identity definition for this resource.\n- tags (object): Optional. Tags of the resource.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_event-grid_system-topic_event-subscription", "source": "res\\event-grid\\system-topic\\event-subscription\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Event Subscription' (Parent Chain: Event Grid > System Topic).\nResource Type Path: event-grid\\system-topic\\event-subscription\nModule ID: br/public:res/event-grid/system-topic/event-subscription:0.6.0\nParameters:\n- name (string): Required. The name of the Event Subscription.\n- systemTopicName (string): Required. Name of the Event Grid System Topic.\n- deadLetterDestination (object): Optional. Dead Letter Destination.\n- deadLetterWithResourceIdentity (object): Optional. Dead Letter with Resource Identity Configuration.\n- deliveryWithResourceIdentity (object): Optional. Delivery with Resource Identity Configuration.\n- destination (object): Conditional. Required if deliveryWithResourceIdentity is not provided. The destination for the event subscription.\n- eventDeliverySchema (string): Optional. The event delivery schema for the event subscription.\n- expirationTimeUtc (string): Optional. The expiration time for the event subscription. Format is ISO-8601 (yyyy-MM-ddTHH:mm:ssZ).\n- filter (object): Optional. The filter for the event subscription.\n- labels (array): Optional. The list of user defined labels.\n- retryPolicy (object): Optional. The retry policy for events."}
{"id": "res_event-grid_topic", "source": "res\\event-grid\\topic\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Topic' (Parent Chain: Event Grid).\nResource Type Path: event-grid\\topic\nModule ID: br/public:res/event-grid/topic:0.9.0\nParameters:\n- name (string): Required. The name of the Event Grid Topic.\n- location (string): Optional. Location for all Resources.\n- publicNetworkAccess (string): Optional. Whether or not public network access is allowed for this resource. For security reasons it should be disabled. If not specified, it will be disabled by default if private endpoints are set and inboundIpRules are not set.\n- inboundIpRules (array): Optional. This can be used to restrict traffic from specific IPs instead of all IPs. Note: These are considered only if PublicNetworkAccess is enabled.\n- eventSubscriptions (array): Optional. Event subscriptions to deploy.\n- inputSchema (string): Optional. This determines the format that Event Grid should expect for incoming events published to the topic.\n- diagnosticSettings (array): Optional. The diagnostic settings of the service.\n- privateEndpoints (array): Optional. Configuration details for private endpoints. For security reasons, it is recommended to use private endpoints whenever possible.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- lock (N/A): Optional. The lock settings of the service.\n- managedIdentities (N/A): Optional. The managed identity definition for this resource.\n- dataResidencyBoundary (string): Optional. Data residency boundary for the topic. Controls where event data can be stored and processed.\n- eventTypeInfo (object): Optional. Event type information for the topic. Used to define custom event types.\n- inputSchemaMapping (object): Optional. Input schema mapping for custom event schema. This is the full mapping object including fields and default values.\n- extendedLocation (object): Optional. Extended location for the topic (e.g., Edge Zones).\n- kind (string): Optional. The kind of topic resource.\n- disableLocalAuth (bool): Optional. Allow only Azure AD authentication. Should be enabled for security reasons.\n- minimumTlsVersionAllowed (string): Optional. Minimum TLS version of the publisher allowed to publish to this topic. For security reasons, it is recommended to use TLS 1.2.\n- tags (object): Optional. Tags of the resource.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_event-grid_topic_event-subscription", "source": "res\\event-grid\\topic\\event-subscription\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Event Subscription' (Parent Chain: Event Grid > Topic).\nResource Type Path: event-grid\\topic\\event-subscription\nModule ID: br/public:res/event-grid/topic/event-subscription:0.9.0\nParameters:\n- name (string): Required. The name of the Event Subscription.\n- topicName (string): Required. Name of the Event Grid Topic.\n- deadLetterDestination (object): Optional. Dead Letter Destination. (See https://learn.microsoft.com/en-us/azure/templates/microsoft.eventgrid/eventsubscriptions?pivots=deployment-language-bicep#deadletterdestination-objects for more information).\n- deadLetterWithResourceIdentity (object): Optional. Dead Letter with Resource Identity Configuration. (See https://learn.microsoft.com/en-us/azure/templates/microsoft.eventgrid/eventsubscriptions?pivots=deployment-language-bicep#deadletterwithresourceidentity-objects for more information).\n- deliveryWithResourceIdentity (object): Optional. Delivery with Resource Identity Configuration. (See https://learn.microsoft.com/en-us/azure/templates/microsoft.eventgrid/eventsubscriptions?pivots=deployment-language-bicep#deliverywithresourceidentity-objects for more information).\n- destination (object): Conditional. Required if deliveryWithResourceIdentity is not provided. The destination for the event subscription. (See https://learn.microsoft.com/en-us/azure/templates/microsoft.eventgrid/eventsubscriptions?pivots=deployment-language-bicep#eventsubscriptiondestination-objects for more information).\n- eventDeliverySchema (string): Optional. The event delivery schema for the event subscription.\n- expirationTimeUtc (string): Optional. The expiration time for the event subscription. Format is ISO-8601 (yyyy-MM-ddTHH:mm:ssZ).\n- filter (object): Optional. The filter for the event subscription. (See https://learn.microsoft.com/en-us/azure/templates/microsoft.eventgrid/eventsubscriptions?pivots=deployment-language-bicep#eventsubscriptionfilter for more information).\n- labels (array): Optional. The list of user defined labels.\n- retryPolicy (object): Optional. The retry policy for events. This can be used to configure the TTL and maximum number of delivery attempts and time to live for events."}
{"id": "res_event-hub_namespace", "source": "res\\event-hub\\namespace\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Namespace' (Parent Chain: Event Hub).\nResource Type Path: event-hub\\namespace\nModule ID: br/public:res/event-hub/namespace:0.13.0\nParameters:\n- name (string): Required. The name of the event hub namespace.\n- location (string): Optional. Location for all resources.\n- skuName (string): Optional. event hub plan SKU name.\n- skuCapacity (int): Optional. The Event Hubs throughput units for Basic or Standard tiers, where value should be 0 to 20 throughput units. The Event Hubs premium units for Premium tier, where value should be 0 to 10 premium units.\n- zoneRedundant (bool): Optional. Switch to make the Event Hub Namespace zone redundant.\n- isAutoInflateEnabled (bool): Optional. Switch to enable the Auto Inflate feature of Event Hub. Auto Inflate is not supported in Premium SKU EventHub.\n- maximumThroughputUnits (int): Optional. Upper limit of throughput units when AutoInflate is enabled, value should be within 0 to 20 throughput units.\n- authorizationRules (array): Optional. Authorization Rules for the Event Hub namespace.\n- disableLocalAuth (bool): Optional. This property disables SAS authentication for the Event Hubs namespace.\n- kafkaEnabled (bool): Optional. Value that indicates whether Kafka is enabled for Event Hubs Namespace.\n- minimumTlsVersion (string): Optional. The minimum TLS version for the cluster to support.\n- publicNetworkAccess (string): Optional. Whether or not public network access is allowed for this resource. For security reasons it should be disabled. If not specified, it will be disabled by default if private endpoints are set.\n- privateEndpoints (array): Optional. Configuration details for private endpoints. For security reasons, it is recommended to use private endpoints whenever possible.\n- networkRuleSets (N/A): Optional. Configure networking options. This object contains IPs/Subnets to allow or restrict access to private endpoints only. For security reasons, it is recommended to configure this object on the Namespace.\n- diagnosticSettings (array): Optional. The diagnostic settings of the service.\n- lock (N/A): Optional. The lock settings of the service.\n- managedIdentities (N/A): Optional. The managed identity definition for this resource.\n- customerManagedKey (N/A): Optional. The customer managed key definition.\n- requireInfrastructureEncryption (bool): Optional. Enable infrastructure encryption (double encryption). Note, this setting requires the configuration of Customer-Managed-Keys (CMK) via the corresponding module parameters.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- tags (object): Optional. Tags of the resource.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- eventhubs (array): Optional. The event hubs to deploy into this namespace.\n- disasterRecoveryConfig (N/A): Optional. The disaster recovery config for this namespace.\n- secretsExportConfiguration (N/A): Optional. Key vault reference and secret settings for the module's secrets export."}
{"id": "res_event-hub_namespace_authorization-rule", "source": "res\\event-hub\\namespace\\authorization-rule\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Authorization Rule' (Parent Chain: Event Hub > Namespace).\nResource Type Path: event-hub\\namespace\\authorization-rule\nModule ID: br/public:res/event-hub/namespace/authorization-rule:0.13.0\nParameters:\n- namespaceName (string): Conditional. The name of the parent event hub namespace. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the authorization rule.\n- rights (array): Optional. The rights associated with the rule."}
{"id": "res_event-hub_namespace_disaster-recovery-config", "source": "res\\event-hub\\namespace\\disaster-recovery-config\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Disaster Recovery Config' (Parent Chain: Event Hub > Namespace).\nResource Type Path: event-hub\\namespace\\disaster-recovery-config\nModule ID: br/public:res/event-hub/namespace/disaster-recovery-config:0.13.0\nParameters:\n- namespaceName (string): Conditional. The name of the parent event hub namespace. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the disaster recovery config.\n- partnerNamespaceResourceId (string): Optional. Resource ID of the Primary/Secondary event hub namespace name, which is part of GEO DR pairing."}
{"id": "res_event-hub_namespace_eventhub", "source": "res\\event-hub\\namespace\\eventhub\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Eventhub' (Parent Chain: Event Hub > Namespace).\nResource Type Path: event-hub\\namespace\\eventhub\nModule ID: br/public:res/event-hub/namespace/eventhub:0.2.0\nParameters:\n- namespaceName (string): Conditional. The name of the parent Event Hub namespace. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the Event Hub.\n- authorizationRules (array): Optional. Authorization Rules for the Event Hub.\n- messageRetentionInDays (int): Optional. Number of days to retain the events for this Event Hub, value should be 1 to 7 days. Will be automatically set to infinite retention if cleanup policy is set to \"Compact\".\n- partitionCount (int): Optional. Number of partitions created for the Event Hub, allowed values are from 1 to 32 partitions.\n- status (string): Optional. Enumerates the possible values for the status of the Event Hub.\n- consumergroups (array): Optional. The consumer groups to create in this Event Hub instance.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- captureDescription (N/A): Optional. Properties of capture description. Note: The chose identity needs the required permissions on the target before the assignment can be executed. For example 'Storage Data Blob Contributor' for a container. Also, the identity must be configured on the namespace level.\n- retentionDescriptionEnabled (bool): Optional. A value that indicates whether to enable retention description properties. If it is set to true the messageRetentionInDays property is ignored.\n- retentionDescriptionCleanupPolicy (string): Optional. Retention cleanup policy. Enumerates the possible values for cleanup policy.\n- retentionDescriptionRetentionTimeInHours (int): Optional. Retention time in hours. Number of hours to retain the events for this Event Hub. This value is only used when cleanupPolicy is Delete and it overrides the messageRetentionInDays. If cleanupPolicy is Compact the returned value of this property is Long.MaxValue.\n- retentionDescriptionTombstoneRetentionTimeInHours (int): Optional. Retention cleanup policy. Number of hours to retain the tombstone markers of a compacted Event Hub. This value is only used when cleanupPolicy is Compact. Consumer must complete reading the tombstone marker within this specified amount of time if consumer begins from starting offset to ensure they get a valid snapshot for the specific key described by the tombstone marker within the compacted Event Hub.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_event-hub_namespace_eventhub_authorization-rule", "source": "res\\event-hub\\namespace\\eventhub\\authorization-rule\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Authorization Rule' (Parent Chain: Event Hub > Namespace > Eventhub).\nResource Type Path: event-hub\\namespace\\eventhub\\authorization-rule\nModule ID: br/public:res/event-hub/namespace/eventhub/authorization-rule:0.2.0\nParameters:\n- namespaceName (string): Conditional. The name of the parent event hub namespace. Required if the template is used in a standalone deployment.\n- eventHubName (string): Conditional. The name of the parent event hub namespace event hub. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the authorization rule.\n- rights (array): Optional. The rights associated with the rule."}
{"id": "res_event-hub_namespace_eventhub_consumergroup", "source": "res\\event-hub\\namespace\\eventhub\\consumergroup\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Consumergroup' (Parent Chain: Event Hub > Namespace > Eventhub).\nResource Type Path: event-hub\\namespace\\eventhub\\consumergroup\nModule ID: br/public:res/event-hub/namespace/eventhub/consumergroup:0.2.0\nParameters:\n- namespaceName (string): Conditional. The name of the parent event hub namespace. Required if the template is used in a standalone deployment.s.\n- eventHubName (string): Conditional. The name of the parent event hub namespace event hub. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the consumer group.\n- userMetadata (string): Optional. User Metadata is a placeholder to store user-defined string data with maximum length 1024. e.g. it can be used to store descriptive data, such as list of teams and their contact information also user-defined configuration settings can be stored."}
{"id": "res_event-hub_namespace_network-rule-set", "source": "res\\event-hub\\namespace\\network-rule-set\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Network Rule Set' (Parent Chain: Event Hub > Namespace).\nResource Type Path: event-hub\\namespace\\network-rule-set\nModule ID: br/public:res/event-hub/namespace/network-rule-set:0.13.0\nParameters:\n- namespaceName (string): Conditional. The name of the parent event hub namespace. Required if the template is used in a standalone deployment.\n- publicNetworkAccess (string): Optional. This determines if traffic is allowed over public network. Default is \"Enabled\". If set to \"Disabled\", traffic to this namespace will be restricted over Private Endpoints only and network rules will not be applied.\n- defaultAction (string): Optional. Default Action for Network Rule Set. Default is \"Allow\". It will not be set if publicNetworkAccess is \"Disabled\". Otherwise, it will be set to \"Deny\" if ipRules or virtualNetworkRules are being used.\n- trustedServiceAccessEnabled (bool): Optional. Value that indicates whether Trusted Service Access is enabled or not.\n- virtualNetworkRules (array): Optional. An array of subnet resource ID objects that this Event Hub Namespace is exposed to via Service Endpoints. You can enable the `ignoreMissingVnetServiceEndpoint` if you wish to add this virtual network to Event Hub Namespace but do not have an existing service endpoint. It will not be set if publicNetworkAccess is \"Disabled\". Otherwise, when used, defaultAction will be set to \"Deny\".\n- ipRules (array): Optional. An array of objects for the public IP ranges you want to allow via the Event Hub Namespace firewall. Supports IPv4 address or CIDR. It will not be set if publicNetworkAccess is \"Disabled\". Otherwise, when used, defaultAction will be set to \"Deny\".\n- networkRuleSetName (string): Optional. The name of the network ruleset."}
{"id": "res_fabric_capacity", "source": "res\\fabric\\capacity\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Capacity' (Parent Chain: Fabric).\nResource Type Path: fabric\\capacity\nModule ID: br/public:res/fabric/capacity:0.1.0\nParameters:\n- name (string): Required. Name of the resource to create.\n- location (string): Optional. Location for all resources.\n- tags (object): Optional. Tags of the resource.\n- skuName (string): Optional. SKU tier of the Fabric resource.\n- skuTier (string): Optional. SKU name of the Fabric resource.\n- adminMembers (array): Required. List of admin members. Format: [\"something@domain.com\"].\n- lock (N/A): Optional. The lock settings of the service.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_health-bot_health-bot", "source": "res\\health-bot\\health-bot\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Health Bot' (Parent Chain: Health Bot).\nResource Type Path: health-bot\\health-bot\nModule ID: br/public:res/health-bot/health-bot:0.3.0\nParameters:\n- name (string): Required. Name of the resource.\n- sku (string): Required. The name of the Azure Health Bot SKU.\n- managedIdentities (N/A): Optional. The managed identity definition for this resource.\n- location (string): Optional. Location for all resources.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- tags (object): Optional. Tags of the resource.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_healthcare-apis_workspace", "source": "res\\healthcare-apis\\workspace\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Workspace' (Parent Chain: Healthcare Apis).\nResource Type Path: healthcare-apis\\workspace\nModule ID: br/public:res/healthcare-apis/workspace:0.4.0\nParameters:\n- name (string): Required. The name of the Health Data Services Workspace service.\n- location (string): Optional. Location for all resources.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- publicNetworkAccess (string): Optional. Control permission for data plane traffic coming from public networks while private endpoint is enabled.\n- tags (object): Optional. Tags of the resource.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- dicomservices (array): Optional. Deploy DICOM services.\n- fhirservices (array): Optional. Deploy FHIR services.\n- iotconnectors (array): Optional. Deploy IOT connectors."}
{"id": "res_healthcare-apis_workspace_dicomservice", "source": "res\\healthcare-apis\\workspace\\dicomservice\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Dicomservice' (Parent Chain: Healthcare Apis > Workspace).\nResource Type Path: healthcare-apis\\workspace\\dicomservice\nModule ID: br/public:res/healthcare-apis/workspace/dicomservice:0.4.0\nParameters:\n- name (string): Required. The name of the DICOM service.\n- workspaceName (string): Conditional. The name of the parent health data services workspace. Required if the template is used in a standalone deployment.\n- corsOrigins (array): Optional. Specify URLs of origin sites that can access this API, or use \"*\" to allow access from any site.\n- corsHeaders (array): Required. Specify HTTP headers which can be used during the request. Use \"*\" for any header.\n- corsMethods (array): Optional. Specify the allowed HTTP methods.\n- corsMaxAge (int): Optional. Specify how long a result from a request can be cached in seconds. Example: 600 means 10 minutes.\n- corsAllowCredentials (bool): Optional. Use this setting to indicate that cookies should be included in CORS requests.\n- location (string): Optional. Location for all resources.\n- diagnosticSettings (array): Optional. The diagnostic settings of the service.\n- lock (N/A): Optional. The lock settings of the service.\n- publicNetworkAccess (string): Optional. Control permission for data plane traffic coming from public networks while private endpoint is enabled.\n- managedIdentities (N/A): Optional. The managed identity definition for this resource.\n- tags (object): Optional. Tags of the resource."}
{"id": "res_healthcare-apis_workspace_fhirservice", "source": "res\\healthcare-apis\\workspace\\fhirservice\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Fhirservice' (Parent Chain: Healthcare Apis > Workspace).\nResource Type Path: healthcare-apis\\workspace\\fhirservice\nModule ID: br/public:res/healthcare-apis/workspace/fhirservice:0.4.0\nParameters:\n- name (string): Required. The name of the FHIR service.\n- kind (string): Optional. The kind of the service. Defaults to R4.\n- workspaceName (string): Conditional. The name of the parent health data services workspace. Required if the template is used in a standalone deployment.\n- accessPolicyObjectIds (array): Optional. List of Azure AD object IDs (User or Apps) that is allowed access to the FHIR service.\n- acrLoginServers (array): Optional. The list of the Azure container registry login servers.\n- acrOciArtifacts (array): Optional. The list of Open Container Initiative (OCI) artifacts.\n- authenticationAuthority (string): Optional. The authority url for the service.\n- authenticationAudience (string): Optional. The audience url for the service.\n- corsOrigins (array): Optional. Specify URLs of origin sites that can access this API, or use \"*\" to allow access from any site.\n- corsHeaders (array): Optional. Specify HTTP headers which can be used during the request. Use \"*\" for any header.\n- corsMethods (array): Optional. Specify the allowed HTTP methods.\n- corsMaxAge (int): Optional. Specify how long a result from a request can be cached in seconds. Example: 600 means 10 minutes.\n- corsAllowCredentials (bool): Optional. Use this setting to indicate that cookies should be included in CORS requests.\n- location (string): Optional. Location for all resources.\n- diagnosticSettings (array): Optional. The diagnostic settings of the service.\n- exportStorageAccountName (string): Optional. The name of the default export storage account.\n- importStorageAccountName (string): Optional. The name of the default integration storage account.\n- importEnabled (bool): Optional. If the import operation is enabled.\n- initialImportMode (bool): Optional. If the FHIR service is in InitialImportMode.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- publicNetworkAccess (string): Optional. Control permission for data plane traffic coming from public networks while private endpoint is enabled.\n- resourceVersionPolicy (string): Optional. The default value for tracking history across all resources.\n- resourceVersionOverrides (object): Optional. A list of FHIR Resources and their version policy overrides.\n- smartProxyEnabled (bool): Optional. If the SMART on FHIR proxy is enabled.\n- managedIdentities (N/A): Optional. The managed identity definition for this resource.\n- tags (object): Optional. Tags of the resource."}
{"id": "res_healthcare-apis_workspace_iotconnector", "source": "res\\healthcare-apis\\workspace\\iotconnector\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Iotconnector' (Parent Chain: Healthcare Apis > Workspace).\nResource Type Path: healthcare-apis\\workspace\\iotconnector\nModule ID: br/public:res/healthcare-apis/workspace/iotconnector:0.4.0\nParameters:\n- name (string): Required. The name of the MedTech service.\n- workspaceName (string): Conditional. The name of the parent health data services workspace. Required if the template is used in a standalone deployment.\n- eventHubName (string): Required. Event Hub name to connect to.\n- consumerGroup (string): Optional. Consumer group of the event hub to connected to.\n- eventHubNamespaceName (string): Required. Namespace of the Event Hub to connect to.\n- deviceMapping (object): Optional. The mapping JSON that determines how incoming device data is normalized.\n- fhirdestination (object): Optional. FHIR Destination.\n- location (string): Optional. Location for all resources.\n- diagnosticSettings (array): Optional. The diagnostic settings of the service.\n- lock (N/A): Optional. The lock settings of the service.\n- managedIdentities (N/A): Optional. The managed identity definition for this resource.\n- tags (object): Optional. Tags of the resource."}
{"id": "res_healthcare-apis_workspace_iotconnector_fhirdestination", "source": "res\\healthcare-apis\\workspace\\iotconnector\\fhirdestination\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Fhirdestination' (Parent Chain: Healthcare Apis > Workspace > Iotconnector).\nResource Type Path: healthcare-apis\\workspace\\iotconnector\\fhirdestination\nModule ID: br/public:res/healthcare-apis/workspace/iotconnector/fhirdestination:0.4.0\nParameters:\n- name (string): Required. The name of the FHIR destination.\n- destinationMapping (object): Optional. The mapping JSON that determines how normalized data is converted to FHIR Observations.\n- iotConnectorName (string): Conditional. The name of the MedTech service to add this destination to. Required if the template is used in a standalone deployment.\n- workspaceName (string): Conditional. The name of the parent health data services workspace. Required if the template is used in a standalone deployment.\n- fhirServiceResourceId (string): Required. The resource identifier of the FHIR Service to connect to.\n- location (string): Optional. Location for all resources.\n- resourceIdentityResolutionType (string): Optional. Determines how resource identity is resolved on the destination."}
{"id": "res_hybrid-compute_gateway", "source": "res\\hybrid-compute\\gateway\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Gateway' (Parent Chain: Hybrid Compute).\nResource Type Path: hybrid-compute\\gateway\nModule ID: br/public:res/hybrid-compute/gateway:0.1.0\nParameters:\n- name (string): Required. Name of the resource to create.\n- location (string): Optional. Location for all Resources.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- tags (object): Optional. Tags of the resource.\n- allowedFeatures (array): Optional. Specifies the list of features that are enabled for this Gateway.\n- gatewayType (string): Optional. The type of the Gateway resource.\n- lock (N/A): Optional. The lock settings of the service."}
{"id": "res_hybrid-compute_license", "source": "res\\hybrid-compute\\license\\main.bicep", "content_to_embed": "Recommended AVM Module for 'License' (Parent Chain: Hybrid Compute).\nResource Type Path: hybrid-compute\\license\nModule ID: br/public:res/hybrid-compute/license:0.1.0\nParameters:\n- name (string): Required. The name of the Azure Arc License to be created.\n- location (string): Optional. The location of the Azure Arc License to be created.\n- licenseDetailEdition (string): Optional. Describes the edition of the license. Default is Standard.\n- licenseDetailProcessors (int): Optional. Describes the number of processors.\n- licenseDetailState (string): Optional. Describes the license state. Default is Deactivated.\n- licenseDetailTarget (string): Optional. Describes the license target server. Default is Windows Server 2012 R2.\n- licenseDetailType (string): Optional. Provide the core type (vCore or pCore) needed for this ESU licens. Default is vCore.\n- licenseVolumeLicenseDetails (array): Optional. A list of volume license details.\n- licenseType (string): Optional. The type of the license resource. The value is ESU.\n- tenantId (string): Optional. The tenant ID of the license resource. Default is the tenant ID of the current subscription.\n- tags (object): Optional. Tags of the resource.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_hybrid-compute_machine", "source": "res\\hybrid-compute\\machine\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Machine' (Parent Chain: Hybrid Compute).\nResource Type Path: hybrid-compute\\machine\nModule ID: br/public:res/hybrid-compute/machine:0.4.0\nParameters:\n- name (string): Required. The name of the Arc machine to be created. You should use a unique prefix to reduce name collisions in Active Directory.\n- kind (string): Required. Kind of Arc machine to be created. Possible values are: HCI, SCVMM, VMware.\n- privateLinkScopeResourceId (string): Conditional. The resource ID of an Arc Private Link Scope which which to associate this machine. Required if you are using Private Link for Arc and your Arc Machine will resolve a Private Endpoint for connectivity to Azure.\n- parentClusterResourceId (string): Optional. Parent cluster resource ID (Azure Stack HCI).\n- vmId (string): Optional. The GUID of the on-premises virtual machine from your hypervisor.\n- clientPublicKey (securestring): Optional. The Public Key that the client provides to be used during initial resource onboarding.\n- patchMode (string): Optional. VM guest patching orchestration mode. 'AutomaticByOS' & 'Manual' are for Windows only, 'ImageDefault' for Linux only.\n- patchAssessmentMode (string): Optional. VM guest patching assessment mode. Set it to 'AutomaticByPlatform' to enable automatically check for updates every 24 hours.\n- guestConfiguration (object): Optional. The guest configuration for the Arc machine. Needs the Guest Configuration extension to be enabled.\n- osType (string): Conditional. Required if you are providing OS-type specified configurations, such as patch settings. The chosen OS type, either Windows or Linux.\n- location (string): Optional. Location for all resources.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- tags (object): Optional. Tags of the resource.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_hybrid-compute_machine_extension", "source": "res\\hybrid-compute\\machine\\extension\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Extension' (Parent Chain: Hybrid Compute > Machine).\nResource Type Path: hybrid-compute\\machine\\extension\nModule ID: br/public:res/hybrid-compute/machine/extension:0.4.0\nParameters:\n- arcMachineName (string): Required. The name of the parent Arc Machine that extension is provisioned for.\n- name (string): Required. The name of the Arc Machine extension.\n- location (string): Optional. The location the extension is deployed to.\n- publisher (string): Required. The name of the extension handler publisher.\n- type (string): Required. Specifies the type of the extension; an example is \"CustomScriptExtension\".\n- typeHandlerVersion (string): Required. Specifies the version of the script handler.\n- autoUpgradeMinorVersion (bool): Required. Indicates whether the extension should use a newer minor version if one is available at deployment time. Once deployed, however, the extension will not upgrade minor versions unless redeployed, even with this property set to true.\n- forceUpdateTag (string): Optional. How the extension handler should be forced to update even if the extension configuration has not changed.\n- settings (object): Optional. Any object that contains the extension specific settings.\n- protectedSettings (secureObject): Optional. Any object that contains the extension specific protected settings.\n- enableAutomaticUpgrade (bool): Required. Indicates whether the extension should be automatically upgraded by the platform if there is a newer version of the extension available.\n- tags (object): Optional. Tags of the resource."}
{"id": "res_hybrid-container-service_provisioned-cluster-instance", "source": "res\\hybrid-container-service\\provisioned-cluster-instance\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Provisioned Cluster Instance' (Parent Chain: Hybrid Container Service).\nResource Type Path: hybrid-container-service\\provisioned-cluster-instance\nModule ID: br/public:res/hybrid-container-service/provisioned-cluster-instance:0.2.0\nParameters:\n- name (string): Required. The name of the provisioned cluster instance.\n- location (string): Optional. Location for all Resources.\n- tags (object): Optional. Tags of the resource.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- sshPrivateKeyPemSecretName (string): Optional. The name of the secret in the key vault that contains the SSH private key PEM.\n- sshPublicKeySecretName (string): Optional. The name of the secret in the key vault that contains the SSH public key.\n- keyvaultSubscriptionId (string): Conditional. Key vault subscription ID, which is used for for storing secrets for the HCI cluster. Required if no existing SSH keys and key vault is in different subscription.\n- keyvaultResourceGroup (string): Conditional. Key vault resource group, which is used for for storing secrets for the HCI cluster. Required if no existing SSH keys and key vault is in different resource group.\n- keyVaultName (string): Conditional. The name of the key vault. The key vault name. Required if no existing SSH keys.\n- customLocationResourceId (string): Required. The id of the Custom location that used to create hybrid aks.\n- linuxProfile (N/A): Optional. The profile for Linux VMs in the provisioned cluster.\n- kubernetesVersion (string): Optional. The Kubernetes version for the cluster.\n- agentPoolProfiles (array): Optional. The agent pool properties for the provisioned cluster.\n- storageProfile (N/A): Optional. The storage configuration profile for the provisioned cluster.\n- networkProfile (N/A): Optional. The network configuration profile for the provisioned cluster.\n- licenseProfile (N/A): Optional. The license profile of the provisioned cluster.\n- controlPlane (N/A): Optional. The profile for control plane of the provisioned cluster.\n- cloudProviderProfile (N/A): Required. The profile for the underlying cloud infrastructure provider for the provisioned cluster.\n- connectClustersTags (object): Optional. Tags for the cluster resource.\n- aadProfile (N/A): Optional. AAD profile for the connected cluster.\n- arcAgentProfile (N/A): Optional. Arc agentry configuration for the provisioned cluster.\n- oidcIssuerProfile (N/A): Optional. Open ID Connect (OIDC) Issuer Profile for the connected cluster.\n- securityProfile (N/A): Optional. Security profile for the connected cluster."}
{"id": "res_insights_action-group", "source": "res\\insights\\action-group\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Action Group' (Parent Chain: Insights).\nResource Type Path: insights\\action-group\nModule ID: br/public:res/insights/action-group:0.8.0\nParameters:\n- name (string): Required. The name of the action group.\n- groupShortName (string): Required. The short name of the action group.\n- enabled (bool): Optional. Indicates whether this action group is enabled. If an action group is not enabled, then none of its receivers will receive communications.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- emailReceivers (array): Optional. The list of email receivers that are part of this action group.\n- eventHubReceivers (array): Optional. The list of Event Hub receivers that are part of this action group.\n- smsReceivers (array): Optional. The list of SMS receivers that are part of this action group.\n- webhookReceivers (array): Optional. The list of webhook receivers that are part of this action group.\n- itsmReceivers (array): Optional. The list of ITSM receivers that are part of this action group.\n- azureAppPushReceivers (array): Optional. The list of AzureAppPush receivers that are part of this action group.\n- automationRunbookReceivers (array): Optional. The list of AutomationRunbook receivers that are part of this action group.\n- voiceReceivers (array): Optional. The list of voice receivers that are part of this action group.\n- logicAppReceivers (array): Optional. The list of logic app receivers that are part of this action group.\n- azureFunctionReceivers (array): Optional. The list of function receivers that are part of this action group.\n- armRoleReceivers (array): Optional. The list of ARM role receivers that are part of this action group. Roles are Azure RBAC roles and only built-in roles are supported.\n- incidentReceivers (array): Optional. The list of incident receivers that are part of this action group.\n- tags (object): Optional. Tags of the resource.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- location (string): Optional. Location for all resources."}
{"id": "res_insights_activity-log-alert", "source": "res\\insights\\activity-log-alert\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Activity Log Alert' (Parent Chain: Insights).\nResource Type Path: insights\\activity-log-alert\nModule ID: br/public:res/insights/activity-log-alert:0.4.0\nParameters:\n- name (string): Required. The name of the alert.\n- alertDescription (string): Optional. Description of the alert.\n- location (string): Optional. Location for all resources.\n- enabled (bool): Optional. Indicates whether this alert is enabled.\n- scopes (array): Optional. The list of resource IDs that this Activity Log Alert is scoped to.\n- actions (array): Optional. The list of actions to take when alert triggers.\n- conditions (array): Required. An Array of objects containing conditions that will cause this alert to activate. Conditions can also be combined with logical operators `allOf` and `anyOf`. Each condition can specify only one field between `equals` and `containsAny`. An alert rule condition must have exactly one category (Administrative, ServiceHealth, ResourceHealth, Alert, Autoscale, Recommendation, Security, or Policy).\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- tags (object): Optional. Tags of the resource.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_insights_component", "source": "res\\insights\\component\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Component' (Parent Chain: Insights).\nResource Type Path: insights\\component\nModule ID: br/public:res/insights/component:0.6.0\nParameters:\n- name (string): Required. Name of the Application Insights.\n- applicationType (string): Optional. Application type.\n- workspaceResourceId (string): Required. Resource ID of the log analytics workspace which the data will be ingested to. This property is required to create an application with this API version. Applications from older versions will not have this property.\n- disableIpMasking (bool): Optional. Disable IP masking. Default value is set to true.\n- disableLocalAuth (bool): Optional. Disable Non-AAD based Auth. Default value is set to false.\n- forceCustomerStorageForProfiler (bool): Optional. Force users to create their own storage account for profiler and debugger.\n- linkedStorageAccountResourceId (string): Optional. Linked storage account resource ID.\n- publicNetworkAccessForIngestion (string): Optional. The network access type for accessing Application Insights ingestion. - Enabled or Disabled.\n- publicNetworkAccessForQuery (string): Optional. The network access type for accessing Application Insights query. - Enabled or Disabled.\n- retentionInDays (int): Optional. Retention period in days.\n- samplingPercentage (int): Optional. Percentage of the data produced by the application being monitored that is being sampled for Application Insights telemetry.\n- flowType (string): Optional. Used by the Application Insights system to determine what kind of flow this component was created by. This is to be set to 'Bluefield' when creating/updating a component via the REST API.\n- requestSource (string): Optional. Describes what tool created this Application Insights component. Customers using this API should set this to the default 'rest'.\n- kind (string): Optional. The kind of application that this component refers to, used to customize UI. This value is a freeform string, values should typically be one of the following: web, ios, other, store, java, phone.\n- location (string): Optional. Location for all Resources.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- tags (object): Optional. Tags of the resource.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- diagnosticSettings (array): Optional. The diagnostic settings of the service."}
{"id": "res_insights_component_linked-storage-account", "source": "res\\insights\\component\\linked-storage-account\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Linked Storage Account' (Parent Chain: Insights > Component).\nResource Type Path: insights\\component\\linked-storage-account\nModule ID: br/public:res/insights/component/linked-storage-account:0.6.0\nParameters:\n- appInsightsName (string): Conditional. The name of the parent Application Insights instance. Required if the template is used in a standalone deployment.\n- storageAccountResourceId (string): Required. Linked storage account resource ID."}
{"id": "res_insights_data-collection-endpoint", "source": "res\\insights\\data-collection-endpoint\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Data Collection Endpoint' (Parent Chain: Insights).\nResource Type Path: insights\\data-collection-endpoint\nModule ID: br/public:res/insights/data-collection-endpoint:0.5.0\nParameters:\n- name (string): Required. The name of the data collection endpoint. The name is case insensitive.\n- description (string): Optional. Description of the data collection endpoint.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- kind (string): Optional. The kind of the resource.\n- location (string): Optional. Location for all Resources.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- publicNetworkAccess (string): Optional. The configuration to set whether network access from public internet to the endpoints are allowed.\n- tags (object): Optional. Resource tags."}
{"id": "res_insights_data-collection-rule", "source": "res\\insights\\data-collection-rule\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Data Collection Rule' (Parent Chain: Insights).\nResource Type Path: insights\\data-collection-rule\nModule ID: br/public:res/insights/data-collection-rule:0.7.0\nParameters:\n- name (string): Required. The name of the data collection rule. The name is case insensitive.\n- dataCollectionRuleProperties (N/A): Required. The kind of data collection rule.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- location (string): Optional. Location for all Resources.\n- lock (N/A): Optional. The lock settings of the service.\n- managedIdentities (N/A): Optional. The managed identity definition for this resource.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- tags (object): Optional. Resource tags."}
{"id": "res_insights_diagnostic-setting", "source": "res\\insights\\diagnostic-setting\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Diagnostic Setting' (Parent Chain: Insights).\nResource Type Path: insights\\diagnostic-setting\nModule ID: br/public:res/insights/diagnostic-setting:0.1.0\nParameters:\n- name (string): Optional. Name of the Diagnostic settings.\n- storageAccountResourceId (string): Optional. Resource ID of the diagnostic storage account.\n- workspaceResourceId (string): Optional. Resource ID of the diagnostic log analytics workspace.\n- eventHubAuthorizationRuleResourceId (string): Optional. Resource ID of the diagnostic event hub authorization rule for the Event Hubs namespace in which the event hub should be created or streamed to.\n- eventHubName (string): Optional. Name of the diagnostic event hub within the namespace to which logs are streamed. Without this, an event hub is created for each log category.\n- logCategoriesAndGroups (array): Optional. The name of logs that will be streamed. \"allLogs\" includes all possible logs for the resource. Set to `[]` to disable log collection.\n- metricCategories (array): Optional. The name of logs that will be streamed. \"allLogs\" includes all possible logs for the resource. Set to `[]` to disable log collection.\n- logAnalyticsDestinationType (string): Optional. A string indicating whether the export to Log Analytics should use the default destination type, i.e. AzureDiagnostics, or use a destination type.\n- marketplacePartnerResourceId (string): Optional. The full ARM resource ID of the Marketplace resource to which you would like to send Diagnostic Logs.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- location (string): Optional. Location deployment metadata."}
{"id": "res_insights_metric-alert", "source": "res\\insights\\metric-alert\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Metric Alert' (Parent Chain: Insights).\nResource Type Path: insights\\metric-alert\nModule ID: br/public:res/insights/metric-alert:0.4.0\nParameters:\n- name (string): Required. The name of the alert.\n- alertDescription (string): Optional. Description of the alert.\n- location (string): Optional. Location for all resources.\n- enabled (bool): Optional. Indicates whether this alert is enabled.\n- severity (int): Optional. The severity of the alert.\n- evaluationFrequency (string): Optional. how often the metric alert is evaluated represented in ISO 8601 duration format.\n- windowSize (string): Optional. the period of time (in ISO 8601 duration format) that is used to monitor alert activity based on the threshold.\n- scopes (array): Optional. the list of resource IDs that this metric alert is scoped to.\n- targetResourceType (string): Conditional. The resource type of the target resource(s) on which the alert is created/updated. Required if alertCriteriaType is MultipleResourceMultipleMetricCriteria.\n- targetResourceRegion (string): Conditional. The region of the target resource(s) on which the alert is created/updated. Required if alertCriteriaType is MultipleResourceMultipleMetricCriteria.\n- autoMitigate (bool): Optional. The flag that indicates whether the alert should be auto resolved or not.\n- actions (array): Optional. The list of actions to take when alert triggers.\n- criteria (N/A): Required. Maps to the 'odata.type' field. Specifies the type of the alert criteria.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- tags (object): Optional. Tags of the resource.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_insights_private-link-scope", "source": "res\\insights\\private-link-scope\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Private Link Scope' (Parent Chain: Insights).\nResource Type Path: insights\\private-link-scope\nModule ID: br/public:res/insights/private-link-scope:0.7.0\nParameters:\n- name (string): Required. Name of the private link scope.\n- accessModeSettings (N/A): Optional. Specifies the access mode of ingestion or queries through associated private endpoints in scope. For security reasons, it is recommended to use PrivateOnly whenever possible to avoid data exfiltration.\n\n* Private Only - This mode allows the connected virtual network to reach only Private Link resources. It is the most secure mode and is set as the default when the `privateEndpoints` parameter is configured.\n* Open - Allows the connected virtual network to reach both Private Link resources and the resources not in the AMPLS resource. Data exfiltration cannot be prevented in this mode.\n- location (string): Optional. The location of the private link scope. Should be global.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- scopedResources (array): Optional. Configuration details for Azure Monitor Resources.\n- privateEndpoints (array): Optional. Configuration details for private endpoints. For security reasons, it is recommended to use private endpoints whenever possible.\n- tags (object): Optional. Resource tags.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_insights_private-link-scope_scoped-resource", "source": "res\\insights\\private-link-scope\\scoped-resource\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Scoped Resource' (Parent Chain: Insights > Private Link Scope).\nResource Type Path: insights\\private-link-scope\\scoped-resource\nModule ID: br/public:res/insights/private-link-scope/scoped-resource:0.7.0\nParameters:\n- name (string): Required. Name of the private link scoped resource.\n- privateLinkScopeName (string): Conditional. The name of the parent private link scope. Required if the template is used in a standalone deployment.\n- linkedResourceId (string): Required. The resource ID of the scoped Azure monitor resource."}
{"id": "res_insights_scheduled-query-rule", "source": "res\\insights\\scheduled-query-rule\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Scheduled Query Rule' (Parent Chain: Insights).\nResource Type Path: insights\\scheduled-query-rule\nModule ID: br/public:res/insights/scheduled-query-rule:0.5.0\nParameters:\n- name (string): Required. The name of the Alert.\n- location (string): Optional. Location for all resources.\n- alertDescription (string): Optional. The description of the scheduled query rule.\n- alertDisplayName (string): Optional. The display name of the scheduled query rule.\n- enabled (bool): Optional. The flag which indicates whether this scheduled query rule is enabled.\n- kind (string): Optional. Indicates the type of scheduled query rule.\n- autoMitigate (bool): Optional. The flag that indicates whether the alert should be automatically resolved or not. Relevant only for rules of the kind LogAlert. Note, ResolveConfiguration can't be used together with AutoMitigate.\n- queryTimeRange (string): Optional. If specified (in ISO 8601 duration format) then overrides the query time range. Relevant only for rules of the kind LogAlert.\n- skipQueryValidation (bool): Optional. The flag which indicates whether the provided query should be validated or not. Relevant only for rules of the kind LogAlert.\n- targetResourceTypes (array): Optional. List of resource type of the target resource(s) on which the alert is created/updated. For example if the scope is a resource group and targetResourceTypes is Microsoft.Compute/virtualMachines, then a different alert will be fired for each virtual machine in the resource group which meet the alert criteria. Relevant only for rules of the kind LogAlert.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- ruleResolveConfiguration (object): Optional. Defines the configuration for resolving fired alerts. Relevant only for rules of the kind LogAlert. Note, ResolveConfiguration can't be used together with AutoMitigate.\n- scopes (array): Required. The list of resource IDs that this scheduled query rule is scoped to.\n- severity (int): Optional. Severity of the alert. Should be an integer between [0-4]. Value of 0 is severest. Relevant and required only for rules of the kind LogAlert.\n- evaluationFrequency (string): Optional. How often the scheduled query rule is evaluated represented in ISO 8601 duration format. Relevant and required only for rules of the kind LogAlert.\n- windowSize (string): Conditional. The period of time (in ISO 8601 duration format) on which the Alert query will be executed (bin size). Required if the kind is set to 'LogAlert', otherwise not relevant.\n- actions (N/A): Optional. Actions to invoke when the alert fires.\n- criterias (object): Required. The rule criteria that defines the conditions of the scheduled query rule.\n- suppressForMinutes (string): Optional. Mute actions for the chosen period of time (in ISO 8601 duration format) after the alert is fired. If set, autoMitigate must be disabled. Relevant only for rules of the kind LogAlert.\n- tags (object): Optional. Tags of the resource.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- managedIdentities (N/A): Optional. The managed identity definition for this resource. You can only configure either a system-assigned or user-assigned identities, not both."}
{"id": "res_insights_webtest", "source": "res\\insights\\webtest\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Webtest' (Parent Chain: Insights).\nResource Type Path: insights\\webtest\nModule ID: br/public:res/insights/webtest:0.3.0\nParameters:\n- name (string): Required. Name of the webtest.\n- appInsightResourceId (string): Required. Resource ID of the App Insights resource to link with this webtest.\n- webTestName (string): Required. User defined name if this WebTest.\n- tags (object): Optional. Resource tags. Note: a mandatory tag 'hidden-link' based on the 'appInsightResourceId' parameter will be automatically added to the tags defined here.\n- request (object): Required. The collection of request properties.\n- location (string): Optional. Location for all Resources.\n- description (string): Optional. User defined description for this WebTest.\n- syntheticMonitorId (string): Optional. Unique ID of this WebTest.\n- kind (string): Optional. The kind of WebTest that this web test watches.\n- locations (array): Optional. List of where to physically run the tests from to give global coverage for accessibility of your application.\n- enabled (bool): Optional. Is the test actively being monitored.\n- frequency (int): Optional. Interval in seconds between test runs for this WebTest.\n- timeout (int): Optional. Seconds until this WebTest will timeout and fail.\n- retryEnabled (bool): Optional. Allow for retries should this WebTest fail.\n- validationRules (object): Optional. The collection of validation rule properties.\n- configuration (object): Optional. An XML configuration specification for a WebTest.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_key-vault_vault", "source": "res\\key-vault\\vault\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Vault' (Parent Chain: Key Vault).\nResource Type Path: key-vault\\vault\nModule ID: br/public:res/key-vault/vault:0.13.0\nParameters:\n- name (string): Required. Name of the Key Vault. Must be globally unique.\n- location (string): Optional. Location for all resources.\n- accessPolicies (array): Optional. All access policies to create.\n- secrets (array): Optional. All secrets to create.\n- keys (array): Optional. All keys to create.\n- enableVaultForDeployment (bool): Optional. Specifies if the vault is enabled for deployment by script or compute.\n- enableVaultForTemplateDeployment (bool): Optional. Specifies if the vault is enabled for a template deployment.\n- enableVaultForDiskEncryption (bool): Optional. Specifies if the azure platform has access to the vault for enabling disk encryption scenarios.\n- enableSoftDelete (bool): Optional. Switch to enable/disable Key Vault's soft delete feature.\n- softDeleteRetentionInDays (int): Optional. softDelete data retention days. It accepts >=7 and <=90.\n- enableRbacAuthorization (bool): Optional. Property that controls how data actions are authorized. When true, the key vault will use Role Based Access Control (RBAC) for authorization of data actions, and the access policies specified in vault properties will be ignored. When false, the key vault will use the access policies specified in vault properties, and any policy stored on Azure Resource Manager will be ignored. Note that management actions are always authorized with RBAC.\n- createMode (string): Optional. The vault's create mode to indicate whether the vault need to be recovered or not.\n- enablePurgeProtection (bool): Optional. Provide 'true' to enable Key Vault's purge protection feature.\n- sku (string): Optional. Specifies the SKU for the vault.\n- networkAcls (N/A): Optional. Rules governing the accessibility of the resource from specific network locations.\n- publicNetworkAccess (string): Optional. Whether or not public network access is allowed for this resource. For security reasons it should be disabled. If not specified, it will be disabled by default if private endpoints are set and networkAcls are not set.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- privateEndpoints (array): Optional. Configuration details for private endpoints. For security reasons, it is recommended to use private endpoints whenever possible.\n- tags (object): Optional. Resource tags.\n- diagnosticSettings (array): Optional. The diagnostic settings of the service.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_key-vault_vault_access-policy", "source": "res\\key-vault\\vault\\access-policy\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Access Policy' (Parent Chain: Key Vault > Vault).\nResource Type Path: key-vault\\vault\\access-policy\nModule ID: br/public:res/key-vault/vault/access-policy:0.1.0\nParameters:\n- keyVaultName (string): Conditional. The name of the parent key vault. Required if the template is used in a standalone deployment.\n- accessPolicies (array): Optional. An array of 0 to 16 identities that have access to the key vault. All identities in the array must use the same tenant ID as the key vault's tenant ID.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_key-vault_vault_key", "source": "res\\key-vault\\vault\\key\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Key' (Parent Chain: Key Vault > Vault).\nResource Type Path: key-vault\\vault\\key\nModule ID: br/public:res/key-vault/vault/key:0.1.0\nParameters:\n- keyVaultName (string): Conditional. The name of the parent key vault. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the key.\n- tags (object): Optional. Resource tags.\n- attributesEnabled (bool): Optional. Determines whether the object is enabled.\n- attributesExp (int): Optional. Expiry date in seconds since 1970-01-01T00:00:00Z. For security reasons, it is recommended to set an expiration date whenever possible.\n- attributesNbf (int): Optional. Not before date in seconds since 1970-01-01T00:00:00Z.\n- curveName (string): Optional. The elliptic curve name.\n- keyOps (array): Optional. Array of JsonWebKeyOperation.\n- keySize (int): Optional. The key size in bits. For example: 2048, 3072, or 4096 for RSA.\n- kty (string): Optional. The type of the key.\n- releasePolicy (object): Optional. Key release policy.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- rotationPolicy (N/A): Optional. Key rotation policy properties object.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_key-vault_vault_secret", "source": "res\\key-vault\\vault\\secret\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Secret' (Parent Chain: Key Vault > Vault).\nResource Type Path: key-vault\\vault\\secret\nModule ID: br/public:res/key-vault/vault/secret:0.1.0\nParameters:\n- keyVaultName (string): Conditional. The name of the parent key vault. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the secret (letters (upper and lower case), numbers, -).\n- tags (object): Optional. Resource tags.\n- attributesEnabled (bool): Optional. Determines whether the object is enabled.\n- attributesExp (int): Optional. Expiry date in seconds since 1970-01-01T00:00:00Z. For security reasons, it is recommended to set an expiration date whenever possible.\n- attributesNbf (int): Optional. Not before date in seconds since 1970-01-01T00:00:00Z.\n- contentType (securestring): Optional. The content type of the secret.\n- value (securestring): Required. The value of the secret. NOTE: \"value\" will never be returned from the service, as APIs using this model are is intended for internal use in ARM deployments. Users should use the data-plane REST service for interaction with vault secrets.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_kubernetes_connected-cluster", "source": "res\\kubernetes\\connected-cluster\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Connected Cluster' (Parent Chain: Kubernetes).\nResource Type Path: kubernetes\\connected-cluster\nModule ID: br/public:res/kubernetes/connected-cluster:0.1.0\nParameters:\n- name (string): Required. The name of the Azure Arc connected cluster.\n- location (string): Optional. Location for all Resources.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- tags (object): Optional. Tags for the cluster resource.\n- aadProfile (N/A): Optional. AAD profile for the connected cluster.\n- arcAgentProfile (N/A): Optional. Arc agentry configuration for the provisioned cluster.\n- oidcIssuerProfile (N/A): Optional. Open ID Connect (OIDC) Issuer Profile for the connected cluster.\n- securityProfile (N/A): Optional. Security profile for the connected cluster.\n- roleAssignments (array): Optional. Array of role assignments to create."}
{"id": "res_kubernetes-configuration_extension", "source": "res\\kubernetes-configuration\\extension\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Extension' (Parent Chain: Kubernetes Configuration).\nResource Type Path: kubernetes-configuration\\extension\nModule ID: br/public:res/kubernetes-configuration/extension:0.3.0\nParameters:\n- name (string): Required. The name of the Flux Configuration.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- clusterName (string): Required. The name of the AKS cluster that should be configured.\n- location (string): Optional. Location for all resources.\n- clusterType (string): Optional. The type of cluster to configure. Choose between AKS managed cluster or Arc-enabled connected cluster.\n- configurationProtectedSettings (secureObject): Optional. Configuration settings that are sensitive, as name-value pairs for configuring this extension.\n- configurationSettings (object): Optional. Configuration settings, as name-value pairs for configuring this extension.\n- extensionType (string): Required. Type of the extension, of which this resource is an instance of. It must be one of the Extension Types registered with Microsoft.KubernetesConfiguration by the extension publisher.\n- releaseTrain (string): Optional. ReleaseTrain this extension participates in for auto-upgrade (e.g. Stable, Preview, etc.) - only if autoUpgradeMinorVersion is \"true\".\n- releaseNamespace (string): Optional. Namespace where the extension Release must be placed, for a Cluster scoped extension. If this namespace does not exist, it will be created.\n- targetNamespace (string): Optional. Namespace where the extension will be created for an Namespace scoped extension. If this namespace does not exist, it will be created.\n- version (string): Optional. Version of the extension for this extension, if it is \"pinned\" to a specific version.\n- fluxConfigurations (array): Optional. A list of flux configuraitons."}
{"id": "res_kubernetes-configuration_flux-configuration", "source": "res\\kubernetes-configuration\\flux-configuration\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Flux Configuration' (Parent Chain: Kubernetes Configuration).\nResource Type Path: kubernetes-configuration\\flux-configuration\nModule ID: br/public:res/kubernetes-configuration/flux-configuration:0.3.0\nParameters:\n- name (string): Required. The name of the Flux Configuration.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- clusterName (string): Required. The name of the AKS cluster that should be configured.\n- location (string): Optional. Location for all resources.\n- clusterType (string): Optional. The type of cluster to configure. Choose between AKS managed cluster or Arc-enabled connected cluster.\n- bucket (object): Conditional. Parameters to reconcile to the GitRepository source kind type. Required if `sourceKind` is `Bucket`.\n- configurationProtectedSettings (secureObject): Optional. Key-value pairs of protected configuration settings for the configuration.\n- gitRepository (object): Conditional. Parameters to reconcile to the GitRepository source kind type. Required if `sourceKind` is `GitRepository`.\n- ociRepository (object): Conditional. Parameters to reconcile to the GitRepository source kind type. Required if `sourceKind` is `OciRepository`.\n- azureBlob (object): Conditional. Parameters to reconcile to the GitRepository source kind type. Required if `sourceKind` is `AzureBlob`.\n- kustomizations (object): Required. Array of kustomizations used to reconcile the artifact pulled by the source type on the cluster.\n- namespace (string): Required. The namespace to which this configuration is installed to. Maximum of 253 lower case alphanumeric characters, hyphen and period only.\n- scope (string): Required. Scope at which the configuration will be installed.\n- sourceKind (string): Required. Source Kind to pull the configuration data from.\n- reconciliationWaitDuration (string): Optional. Reconciliation wait duration (ISO 8601 format).\n- suspend (bool): Optional. Whether this configuration should suspend its reconciliation of its kustomizations and sources."}
{"id": "res_kubernetes-runtime_load-balancer", "source": "res\\kubernetes-runtime\\load-balancer\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Load Balancer' (Parent Chain: Kubernetes Runtime).\nResource Type Path: kubernetes-runtime\\load-balancer\nModule ID: br/public:res/kubernetes-runtime/load-balancer:0.1.0\nParameters:\n- name (string): Required. The name of the load balancer.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- clusterName (string): Required. The name of the AKS cluster or Arc-enabled connected cluster that should be configured.\n- addresses (array): Required. IP Range - The IP addresses that this load balancer will advertise.\n- advertiseMode (string): Required. Advertise Mode - The mode in which the load balancer should advertise the IP addresses.\n- bgpPeers (array): Optional. The list of BGP peers it should advertise to. Null or empty means to advertise to all peers.\n- serviceSelector (object): Optional. A dynamic label mapping to select related services. For instance, if you want to create a load balancer only for services with label \"a=b\", then please specify {\"a\": \"b\"} in the field.\n- kubernetesRuntimeRPObjectId (string): Required. The service principal object ID of the Kubernetes Runtime HCI Resource Provider in this tenant. Can be fetched via `Get-AzADServicePrincipal -ApplicationId 087fca6e-4606-4d41-b3f6-5ebdf75b8b4c`."}
{"id": "res_kusto_cluster", "source": "res\\kusto\\cluster\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Cluster' (Parent Chain: Kusto).\nResource Type Path: kusto\\cluster\nModule ID: br/public:res/kusto/cluster:0.8.0\nParameters:\n- name (string): Required. The name of the Kusto cluster which must be unique within Azure.\n- location (string): Optional. Location for all resources.\n- capacity (int): Optional. The number of instances of the Kusto Cluster.\n- sku (string): Required. The SKU of the Kusto Cluster.\n- tier (string): Optional. The tier of the Kusto Cluster.\n- managedIdentities (N/A): Optional. The managed identity definition for this resource.\n- acceptedAudiences (array): Optional. The Kusto Cluster's accepted audiences.\n- allowedFqdnList (array): Optional. List of allowed fully-qulified domain names (FQDNs) for egress from the Kusto Cluster.\n- allowedIpRangeList (array): Optional. List of IP addresses in CIDR format allowed to connect to the Kusto Cluster.\n- enableAutoStop (bool): Optional. Enable/disable auto-stop.\n- enableDiskEncryption (bool): Optional. Enable/disable disk encryption.\n- enableDoubleEncryption (bool): Optional. Enable/disable double encryption.\n- enablePurge (bool): Optional. Enable/disable purge.\n- enableStreamingIngest (bool): Optional. Enable/disable streaming ingest.\n- engineType (string): Optional. The engine type of the Kusto Cluster.\n- customerManagedKey (N/A): Optional. The customer managed key definition.\n- languageExtensions (array): Optional. List of the language extensions of the Kusto Cluster.\n- enableAutoScale (bool): Optional. Enable/disable auto-scale.\n- autoScaleMin (int): Optional. When auto-scale is enabled, the minimum number of instances in the Kusto Cluster.\n- autoScaleMax (int): Optional. When auto-scale is enabled, the maximum number of instances in the Kusto Cluster.\n- publicIPType (string): Optional. Indicates what public IP type to create - IPv4 (default), or DualStack (both IPv4 and IPv6).\n- enablePublicNetworkAccess (bool): Optional. Enable/disable public network access. If disabled, only private endpoint connection is allowed to the Kusto Cluster.\n- enableRestrictOutboundNetworkAccess (bool): Optional. Enable/disable restricting outbound network access.\n- trustedExternalTenants (array): Optional. The external tenants trusted by the Kusto Cluster.\n- virtualClusterGraduationProperties (securestring): Optional. The virtual cluster graduation properties of the Kusto Cluster.\n- virtualNetworkConfiguration (N/A): Optional. The virtual network configuration of the Kusto Cluster.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- tags (object): Optional. Tags of the resource.\n- enableZoneRedundant (bool): Optional. Enable/disable zone redundancy.\n- privateEndpoints (array): Optional. Configuration details for private endpoints. For security reasons, it is recommended to use private endpoints whenever possible.\n- enableTelemetry (bool): Optional. Enable/disable usage telemetry for module.\n- diagnosticSettings (array): Optional. The diagnostic settings of the service.\n- clusterPrincipalAssignments (array): Optional. The Principal Assignments for the Kusto Cluster.\n- databases (array): Optional. The Kusto Cluster databases."}
{"id": "res_kusto_cluster_database", "source": "res\\kusto\\cluster\\database\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Database' (Parent Chain: Kusto > Cluster).\nResource Type Path: kusto\\cluster\\database\nModule ID: br/public:res/kusto/cluster/database:0.8.0\nParameters:\n- name (string): Required. The name of the Kusto Cluster database.\n- kustoClusterName (string): Conditional. The name of the parent Kusto Cluster. Required if the template is used in a standalone deployment.\n- location (string): Optional. Location for the databases.\n- databaseKind (string): Optional. The object type of the databse.\n- databaseReadWriteProperties (N/A): Optional. The properties of the database if using read-write. Only used if databaseKind is ReadWrite.\n- databasePrincipalAssignments (array): Optional. The principal assignments for the Kusto database."}
{"id": "res_kusto_cluster_database_principal-assignment", "source": "res\\kusto\\cluster\\database\\principal-assignment\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Principal Assignment' (Parent Chain: Kusto > Cluster > Database).\nResource Type Path: kusto\\cluster\\database\\principal-assignment\nModule ID: br/public:res/kusto/cluster/database/principal-assignment:0.8.0\nParameters:\n- kustoClusterName (string): Required. The name of the Kusto cluster.\n- kustoDatabaseName (string): Required. The name of the parent Kusto Cluster Database. Required if the template is used in a standalone deployment.\n- principalId (string): Required. The principal id assigned to the Kusto Cluster database principal. It can be a user email, application id, or security group name.\n- principalType (string): Required. The principal type of the principal id.\n- role (string): Required. The Kusto Cluster database role to be assigned to the principal id.\n- tenantId (string): Optional. The tenant id of the principal."}
{"id": "res_kusto_cluster_principal-assignment", "source": "res\\kusto\\cluster\\principal-assignment\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Principal Assignment' (Parent Chain: Kusto > Cluster).\nResource Type Path: kusto\\cluster\\principal-assignment\nModule ID: br/public:res/kusto/cluster/principal-assignment:0.8.0\nParameters:\n- kustoClusterName (string): Conditional. The name of the parent Kusto Cluster. Required if the template is used in a standalone deployment.\n- principalId (string): Required. The principal id assigned to the Kusto Cluster principal. It can be a user email, application id, or security group name.\n- principalType (string): Required. The principal type of the principal id.\n- role (string): Required. The Kusto Cluster role to be assigned to the principal id.\n- tenantId (string): Optional. The tenant id of the principal id."}
{"id": "res_load-test-service_load-test", "source": "res\\load-test-service\\load-test\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Load Test' (Parent Chain: Load Test Service).\nResource Type Path: load-test-service\\load-test\nModule ID: br/public:res/load-test-service/load-test:0.4.0\nParameters:\n- name (string): Required. Name of the Load test.\n- location (string): Optional. Location for all resources.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- tags (object): Optional. Resource tags.\n- managedIdentities (N/A): Optional. The managed identity definition for this resource.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- loadTestDescription (string): Optional. The description of the load test.\n- customerManagedKey (N/A): Optional. The customer managed key definition."}
{"id": "res_logic_workflow", "source": "res\\logic\\workflow\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Workflow' (Parent Chain: Logic).\nResource Type Path: logic\\workflow\nModule ID: br/public:res/logic/workflow:0.5.0\nParameters:\n- name (string): Required. The logic app workflow name.\n- actionsAccessControlConfiguration (object): Optional. The access control configuration for workflow actions.\n- connectorEndpointsConfiguration (object): Optional. The endpoints configuration:  Access endpoint and outgoing IP addresses for the connector.\n- contentsAccessControlConfiguration (object): Optional. The access control configuration for accessing workflow run contents.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- definitionParameters (object): Optional. Parameters for the definition template.\n- managedIdentities (N/A): Optional. The managed identity definition for this resource. Only one type of identity is supported: system-assigned or user-assigned, but not both.\n- integrationAccount (object): Optional. The integration account.\n- integrationServiceEnvironment (N/A): Optional. The integration service environment settings.\n- location (string): Optional. Location for all resources.\n- diagnosticSettings (array): Optional. The diagnostic settings of the service.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- state (string): Optional. The state. - NotSpecified, Completed, Enabled, Disabled, Deleted, Suspended.\n- tags (object): Optional. Tags of the resource.\n- triggersAccessControlConfiguration (object): Optional. The access control configuration for invoking workflow triggers.\n- workflowActions (object): Optional. The definitions for one or more actions to execute at workflow runtime.\n- workflowEndpointsConfiguration (object): Optional. The endpoints configuration:  Access endpoint and outgoing IP addresses for the workflow.\n- workflowManagementAccessControlConfiguration (object): Optional. The access control configuration for workflow management.\n- workflowOutputs (object): Optional. The definitions for the outputs to return from a workflow run.\n- workflowParameters (object): Optional. The definitions for one or more parameters that pass the values to use at your logic app's runtime.\n- workflowStaticResults (object): Optional. The definitions for one or more static results returned by actions as mock outputs when static results are enabled on those actions. In each action definition, the runtimeConfiguration.staticResult.name attribute references the corresponding definition inside staticResults.\n- workflowTriggers (object): Optional. The definitions for one or more triggers that instantiate your workflow. You can define more than one trigger, but only with the Workflow Definition Language, not visually through the Logic Apps Designer."}
{"id": "res_machine-learning-services_registry", "source": "res\\machine-learning-services\\registry\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Registry' (Parent Chain: Machine Learning Services).\nResource Type Path: machine-learning-services\\registry\nModule ID: br/public:res/machine-learning-services/registry:0.1.0\nParameters:\n- name (string): Required. Name of the Azure ML Registry.\n- location (string): Optional. Location for the Azure ML Registry.\n- locations (array): Optional. Additional locations for the Azure ML Registry.\n- publicNetworkAccess (string): Optional. Whether or not public network access is allowed for this resource. For security reasons it should be disabled. If not specified, it will be disabled by default if private endpoints are set and networkRuleSetIpRules are not set.\n- acrSku (string): Optional. Tier of your Azure container registry.\n- managedIdentities (N/A): Optional. The managed identity definition for this resource.\n- storageAccountType (string): Optional. The type of storage account to use for the Azure ML Registry. Default is Standard_LRS.\n- storageAccountAllowBlobPublicAccess (bool): Optional. Storage account blob public access setting. If not specified, it will be set to false by default.\n- storageAccountHnsEnabled (bool): Optional. Storage account hierarchical namespace (HNS) enabled setting. If not specified, it will be set to true by default.\n- storageAccountName (string): Optional. The name of the storage account to use for the Azure ML Registry. If not specified, a default name will be generated based on the registry name and location.\n- acrAccountName (string): Optional. The Azure Container Registry account name to use for the Azure ML Registry. If not specified, a default name will be automatically generated.\n- privateEndpoints (array): Optional. Configuration details for private endpoints. For security reasons, it is recommended to use private endpoints whenever possible.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- lock (N/A): Optional. The lock settings of the service.\n- tags (object): Optional. Tags of the resource.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_machine-learning-services_workspace", "source": "res\\machine-learning-services\\workspace\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Workspace' (Parent Chain: Machine Learning Services).\nResource Type Path: machine-learning-services\\workspace\nModule ID: br/public:res/machine-learning-services/workspace:0.13.0\nParameters:\n- name (string): Required. The name of the machine learning workspace.\n- friendlyName (string): Optional. The friendly name of the machine learning workspace.\n- location (string): Optional. Location for all resources.\n- sku (string): Required. Specifies the SKU, also referred as 'edition' of the Azure Machine Learning workspace.\n- kind (string): Optional. The type of Azure Machine Learning workspace to create.\n- associatedStorageAccountResourceId (string): Conditional. The resource ID of the associated Storage Account. Required if 'kind' is 'Default', 'FeatureStore' or 'Hub'.\n- associatedKeyVaultResourceId (string): Conditional. The resource ID of the associated Key Vault. Required if 'kind' is 'Default' or 'FeatureStore'. If not provided, the key vault will be managed by Microsoft.\n- associatedApplicationInsightsResourceId (string): Conditional. The resource ID of the associated Application Insights. Required if 'kind' is 'Default' or 'FeatureStore'.\n- associatedContainerRegistryResourceId (string): Optional. The resource ID of the associated Container Registry.\n- enableServiceSideCMKEncryption (bool): Optional. Enable service-side encryption.\n- lock (N/A): Optional. The lock settings of the service.\n- hbiWorkspace (bool): Optional. The flag to signal HBI data in the workspace and reduce diagnostic data collected by the service.\n- hubResourceId (string): Conditional. The resource ID of the hub to associate with the workspace. Required if 'kind' is set to 'Project'.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- privateEndpoints (array): Optional. Configuration details for private endpoints. For security reasons, it is recommended to use private endpoints whenever possible.\n- computes (array): Optional. Computes to create respectively attach to the workspace.\n- connections (array): Optional. Connections to create in the workspace.\n- datastores (array): Optional. Datastores to create in the workspace.\n- tags (object): Optional. Resource tags.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- managedIdentities (N/A): Optional. The managed identity definition for this resource. At least one identity type is required.\n- featureStoreSettings (N/A): Conditional. Settings for feature store type workspaces. Required if 'kind' is set to 'FeatureStore'.\n- ipAllowlist (array): Optional. List of IPv4 addresse ranges that are allowed to access the workspace.\n- managedNetworkSettings (N/A): Optional. Managed Network settings for a machine learning workspace.\n- provisionNetworkNow (bool): Optional. Trigger the provisioning of the managed virtual network when creating the workspace.\n- serverlessComputeSettings (N/A): Optional. Settings for serverless compute created in the workspace.\n- systemDatastoresAuthMode (string): Optional. The authentication mode used by the workspace when connecting to the default storage account.\n- workspaceHubConfig (N/A): Optional. Configuration for workspace hub settings.\n- diagnosticSettings (array): Optional. The diagnostic settings of the service.\n- description (string): Optional. The description of this workspace.\n- discoveryUrl (string): Optional. URL for the discovery service to identify regional endpoints for machine learning experimentation services.\n- customerManagedKey (N/A): Optional. The customer managed key definition.\n- imageBuildCompute (string): Optional. The compute name for image build.\n- primaryUserAssignedIdentity (string): Conditional. The user assigned identity resource ID that represents the workspace identity. Required if 'userAssignedIdentities' is not empty and may not be used if 'systemAssignedIdentity' is enabled.\n- serviceManagedResourcesSettings (object): Optional. The service managed resource settings.\n- sharedPrivateLinkResources (array): Optional. The list of shared private link resources in this workspace. Note: This property is not idempotent.\n- publicNetworkAccess (string): Optional. Whether or not public network access is allowed for this resource. For security reasons it should be disabled."}
{"id": "res_machine-learning-services_workspace_compute", "source": "res\\machine-learning-services\\workspace\\compute\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Compute' (Parent Chain: Machine Learning Services > Workspace).\nResource Type Path: machine-learning-services\\workspace\\compute\nModule ID: br/public:res/machine-learning-services/workspace/compute:0.13.0\nParameters:\n- machineLearningWorkspaceName (string): Conditional. The name of the parent Machine Learning Workspace. Required if the template is used in a standalone deployment.\n- name (string): Required. Name of the compute.\n- location (string): Optional. Specifies the location of the resource.\n- sku (string): Optional. Specifies the sku, also referred as \"edition\". Required for creating a compute resource.\n- tags (object): Optional. Contains resource tags defined as key-value pairs. Ignored when attaching a compute resource, i.e. when you provide a resource ID.\n- deployCompute (bool): Optional. Flag to specify whether to deploy the compute. Required only for attach (i.e. providing a resource ID), as in this case the operation is not idempotent, i.e. a second deployment will fail. Therefore, this flag needs to be set to \"false\" as long as the compute resource exists.\n- computeLocation (string): Optional. Location for the underlying compute. Ignored when attaching a compute resource, i.e. when you provide a resource ID.\n- description (string): Optional. The description of the Machine Learning compute.\n- disableLocalAuth (bool): Optional. Opt-out of local authentication and ensure customers can use only MSI and AAD exclusively for authentication.\n- resourceId (string): Optional. ARM resource ID of the underlying compute.\n- computeType (string): Required. Set the object type.\n- properties (object): Optional. The properties of the compute. Will be ignored in case \"resourceId\" is set.\n- managedIdentities (N/A): Optional. The managed identity definition for this resource."}
{"id": "res_machine-learning-services_workspace_connection", "source": "res\\machine-learning-services\\workspace\\connection\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Connection' (Parent Chain: Machine Learning Services > Workspace).\nResource Type Path: machine-learning-services\\workspace\\connection\nModule ID: br/public:res/machine-learning-services/workspace/connection:0.13.0\nParameters:\n- name (string): Required. Name of the connection to create.\n- machineLearningWorkspaceName (string): Required. The name of the parent Machine Learning Workspace. Required if the template is used in a standalone deployment.\n- category (N/A): Required. Category of the connection.\n- expiryTime (string): Optional. The expiry time of the connection.\n- isSharedToAll (bool): Optional. Indicates whether the connection is shared to all users in the workspace.\n- metadata (N/A): Optional. User metadata for the connection.\n- sharedUserList (array): Optional. The shared user list of the connection.\n- target (string): Required. The target of the connection.\n- value (string): Optional. Value details of the workspace connection.\n- connectionProperties (N/A): Required. The properties of the connection, specific to the auth type."}
{"id": "res_machine-learning-services_workspace_datastores", "source": "res\\machine-learning-services\\workspace\\datastores\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Datastores' (Parent Chain: Machine Learning Services > Workspace).\nResource Type Path: machine-learning-services\\workspace\\datastores\nModule ID: br/public:res/machine-learning-services/workspace/datastores:0.13.0\nParameters:\n- name (string): Required. Name of the datastore to create.\n- machineLearningWorkspaceName (string): Required. The name of the parent Machine Learning Workspace.\n- properties (object): Required. The properties of the datastore."}
{"id": "res_maintenance_configuration-assignment", "source": "res\\maintenance\\configuration-assignment\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Configuration Assignment' (Parent Chain: Maintenance).\nResource Type Path: maintenance\\configuration-assignment\nModule ID: br/public:res/maintenance/configuration-assignment:0.2.0\nParameters:\n- name (string): Required. Maintenance configuration assignment Name.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- location (string): Optional. Location for all Resources.\n- maintenanceConfigurationResourceId (string): Required. The maintenance configuration resource ID.\n- resourceId (string): Conditional. The unique virtual machine resource ID to assign the configuration to. Required if filter is not provided. If resourceId is provided, filter is ignored. If provided, the module scope must be set to the resource group of the virtual machine.\n- filter (N/A): Conditional. Properties of the dynamic configuration assignment. Required if resourceId is not provided."}
{"id": "res_maintenance_maintenance-configuration", "source": "res\\maintenance\\maintenance-configuration\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Maintenance Configuration' (Parent Chain: Maintenance).\nResource Type Path: maintenance\\maintenance-configuration\nModule ID: br/public:res/maintenance/maintenance-configuration:0.3.0\nParameters:\n- name (string): Required. Maintenance Configuration Name.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- extensionProperties (object): Optional. Gets or sets extensionProperties of the maintenanceConfiguration.\n- location (string): Optional. Location for all Resources.\n- lock (N/A): Optional. The lock settings of the service.\n- maintenanceScope (string): Optional. Gets or sets maintenanceScope of the configuration.\n- maintenanceWindow (object): Optional. Definition of a MaintenanceWindow.\n- namespace (string): Optional. Gets or sets namespace of the resource.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- tags (object): Optional. Gets or sets tags of the resource.\n- visibility (string): Optional. Gets or sets the visibility of the configuration. The default value is 'Custom'.\n- installPatches (object): Optional. Configuration settings for VM guest patching with Azure Update Manager."}
{"id": "res_managed-identity_user-assigned-identity", "source": "res\\managed-identity\\user-assigned-identity\\main.bicep", "content_to_embed": "Recommended AVM Module for 'User Assigned Identity' (Parent Chain: Managed Identity).\nResource Type Path: managed-identity\\user-assigned-identity\nModule ID: br/public:res/managed-identity/user-assigned-identity:0.4.0\nParameters:\n- name (string): Required. Name of the User Assigned Identity.\n- location (string): Optional. Location for all resources.\n- federatedIdentityCredentials (array): Optional. The federated identity credentials list to indicate which token from the external IdP should be trusted by your application. Federated identity credentials are supported on applications only. A maximum of 20 federated identity credentials can be added per application object.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- tags (object): Optional. Tags of the resource.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_managed-identity_user-assigned-identity_federated-identity-credential", "source": "res\\managed-identity\\user-assigned-identity\\federated-identity-credential\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Federated Identity Credential' (Parent Chain: Managed Identity > User Assigned Identity).\nResource Type Path: managed-identity\\user-assigned-identity\\federated-identity-credential\nModule ID: br/public:res/managed-identity/user-assigned-identity/federated-identity-credential:0.4.0\nParameters:\n- userAssignedIdentityName (string): Conditional. The name of the parent user assigned identity. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the secret.\n- audiences (array): Required. The list of audiences that can appear in the issued token. Should be set to api://AzureADTokenExchange for Azure AD. It says what Microsoft identity platform should accept in the aud claim in the incoming token. This value represents Azure AD in your external identity provider and has no fixed value across identity providers - you might need to create a new application registration in your IdP to serve as the audience of this token.\n- issuer (string): Required. The URL of the issuer to be trusted. Must match the issuer claim of the external token being exchanged.\n- subject (string): Required. The identifier of the external software workload within the external identity provider. Like the audience value, it has no fixed format, as each IdP uses their own - sometimes a GUID, sometimes a colon delimited identifier, sometimes arbitrary strings. The value here must match the sub claim within the token presented to Azure AD."}
{"id": "res_managed-services_registration-definition", "source": "res\\managed-services\\registration-definition\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Registration Definition' (Parent Chain: Managed Services).\nResource Type Path: managed-services\\registration-definition\nModule ID: br/public:res/managed-services/registration-definition:0.1.0\nParameters:\n- name (string): Required. Specify a unique name for your offer/registration. i.e '<Managing Tenant> - <Remote Tenant> - <ResourceName>'.\n- registrationDescription (string): Required. Description of the offer/registration. i.e. 'Managed by <Managing Org Name>'.\n- managedByTenantId (string): Required. Specify the tenant ID of the tenant which homes the principals you are delegating permissions to.\n- authorizations (array): Required. Specify an array of objects, containing object of Azure Active Directory principalId, a Azure roleDefinitionId, and an optional principalIdDisplayName. The roleDefinition specified is granted to the principalId in the provider's Active Directory and the principalIdDisplayName is visible to customers.\n- resourceGroupName (string): Optional. Specify the name of the Resource Group to delegate access to. If not provided, delegation will be done on the targeted subscription.\n- metadataLocation (string): Optional. Location of the deployment metadata.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- registrationId (string): Optional. The Id (GUID) of the registration definition."}
{"id": "res_management_management-group", "source": "res\\management\\management-group\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Management Group' (Parent Chain: Management).\nResource Type Path: management\\management-group\nModule ID: br/public:res/management/management-group:0.1.0\nParameters:\n- name (string): Required. The group ID of the Management group.\n- displayName (string): Optional. The friendly name of the management group. If no value is passed then this field will be set to the group ID.\n- parentId (string): Optional. The management group parent ID. Defaults to current scope.\n- location (string): Optional. Location deployment metadata.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_management_service-group", "source": "res\\management\\service-group\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Service Group' (Parent Chain: Management).\nResource Type Path: management\\service-group\nModule ID: br/public:res/management/service-group:0.1.0\nParameters:\n- name (string): Required. Name of the service group to create. Must be globally unique.\n- displayName (string): Optional. Display name of the service group to create. If not provided, the name parameter input value will be used.\n- parentServiceGroupResourceId (string): Optional. The parent service group resource ID, e.g. \"/providers/Microsoft.Management/serviceGroups/<name>\", of the service group to create. If not provided, the service group will be created under the root service group, e.g. \"/providers/Microsoft.Management/serviceGroups/<TENANT ID>\".\n- subscriptionIdsToAssociateToServiceGroup (array): Optional. An array of subscription IDs to associate to the service group. The deployment principal must have the necessary permissions to perform this action on the target subscriptions. The relationship name is generated using uniqueString() function with the service group ID and the subscription ID as inputs.\n- resourceGroupResourceIdsToAssociateToServiceGroup (array): Optional. An array of resource group resource IDs to associate to the service group. The deployment principal must have the necessary permissions to perform this action on the target resource groups. The relationship name is generated using uniqueString() function with the service group ID and the resource group resource ID as inputs.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create."}
{"id": "res_maps_account", "source": "res\\maps\\account\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Account' (Parent Chain: Maps).\nResource Type Path: maps\\account\nModule ID: br/public:res/maps/account:0.1.0\nParameters:\n- name (string): Required. Name of the resource to create.\n- tags (object): Optional. Tags of the resource.\n- location (string): Optional. Location for all Resources.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- sku (string): Optional. The SKU of the Maps Account. Default is G2.\n- kind (string): Optional. The kind of the Maps Account. Default is Gen2.\n- locations (array): Optional. List of additional data processing regions for the Maps Account, which may result in requests being processed in another geography. Some features or results may be restricted to specific regions. By default, Maps REST APIs process requests according to the account location or the geographic scope.\n- corsRules (array): Optional. Specifies CORS rules for the Blob service. You can include up to five CorsRule elements in the request. If no CorsRule elements are included in the request body, all CORS rules will be deleted, and CORS will be disabled for the Blob service.\n- linkedResources (array): Optional. The array of associated resources to the Maps account. Linked resource in the array cannot individually update, you must update all linked resources in the array together. These resources may be used on operations on the Azure Maps REST API. Access is controlled by the Maps Account Managed Identity(s) permissions to those resource(s).\n- disableLocalAuth (bool): Optional. Allows toggle functionality on Azure Policy to disable Azure Maps local authentication support. This will disable Shared Keys and Shared Access Signature Token authentication from any usage. Default is true.\n- customerManagedKey (N/A): Optional. The customer managed key definition.\n- requireInfrastructureEncryption (string): Optional. Enable infrastructure encryption (double encryption). Note, this setting requires the configuration of Customer-Managed-Keys (CMK) via the corresponding module parameters.\n- managedIdentities (N/A): Optional. The managed identity definition for this resource.\n- roleAssignments (array): Optional. Array of role assignments to create."}
{"id": "res_net-app_net-app-account", "source": "res\\net-app\\net-app-account\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Net App Account' (Parent Chain: Net App).\nResource Type Path: net-app\\net-app-account\nModule ID: br/public:res/net-app/net-app-account:0.11.0\nParameters:\n- name (string): Required. The name of the NetApp account.\n- adName (string): Optional. Name of the active directory host as part of Kerberos Realm used for Kerberos authentication.\n- aesEncryption (bool): Optional. Enable AES encryption on the SMB Server.\n- customerManagedKey (N/A): Optional. The customer managed key definition.\n- domainName (string): Optional. Fully Qualified Active Directory DNS Domain Name (e.g. 'contoso.com').\n- domainJoinUser (string): Optional. Required if domainName is specified. Username of Active Directory domain administrator, with permissions to create SMB server machine account in the AD domain.\n- domainJoinPassword (securestring): Optional. Required if domainName is specified. Password of the user specified in domainJoinUser parameter.\n- domainJoinOU (string): Optional. Used only if domainName is specified. LDAP Path for the Organization Unit (OU) where SMB Server machine accounts will be created (i.e. 'OU=SecondLevel,OU=FirstLevel').\n- dnsServers (string): Optional. Required if domainName is specified. Comma separated list of DNS server IP addresses (IPv4 only) required for the Active Directory (AD) domain join and SMB authentication operations to succeed.\n- encryptDCConnections (bool): Optional. Specifies whether encryption should be used for communication between SMB server and domain controller (DC). SMB3 only.\n- allowLocalNfsUsersWithLdap (bool): Optional. If enabled, NFS client local users can also (in addition to LDAP users) access the NFS volumes.\n- smbServerNamePrefix (string): Optional. Required if domainName is specified. NetBIOS name of the SMB server. A computer account with this prefix will be registered in the AD and used to mount volumes.\n- capacityPools (array): Optional. Capacity pools to create.\n- managedIdentities (N/A): Optional. The managed identity definition for this resource.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- kdcIP (string): Optional. Kerberos Key Distribution Center (KDC) as part of Kerberos Realm used for Kerberos authentication.\n- ldapOverTLS (bool): Optional. Specifies whether to use TLS when NFS (with/without Kerberos) and SMB volumes communicate with an LDAP server. A server root CA certificate must be uploaded if enabled (serverRootCACertificate).\n- ldapSigning (bool): Optional. Specifies whether or not the LDAP traffic needs to be signed.\n- location (string): Optional. Location for all resources.\n- lock (N/A): Optional. The lock settings of the service.\n- serverRootCACertificate (string): Optional. A server Root certificate is required of ldapOverTLS is enabled.\n- tags (object): Optional. Tags for all resources.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- backupVault (N/A): Optional. The netapp backup vault to create & configure.\n- snapshotPolicies (array): Optional. The snapshot policies to create.\n- backupPolicies (array): Optional. The backup policies to create."}
{"id": "res_net-app_net-app-account_backup-policy", "source": "res\\net-app\\net-app-account\\backup-policy\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Backup Policy' (Parent Chain: Net App > Net App Account).\nResource Type Path: net-app\\net-app-account\\backup-policy\nModule ID: br/public:res/net-app/net-app-account/backup-policy:0.11.0\nParameters:\n- netAppAccountName (string): Conditional. The name of the parent NetApp account. Required if the template is used in a standalone deployment.\n- name (string): Optional. The name of the backup policy.\n- location (string): Optional. The location of the backup policy.\n- dailyBackupsToKeep (int): Optional. The daily backups to keep. Note, the maximum hourly, daily, weekly, and monthly backup retention counts _combined_ is 1019 (this parameter's max).\n- monthlyBackupsToKeep (int): Optional. The monthly backups to keep. Note, the maximum hourly, daily, weekly, and monthly backup retention counts _combined_ is 1019 (this parameter's max).\n- weeklyBackupsToKeep (int): Optional. The weekly backups to keep. Note, the maximum hourly, daily, weekly, and monthly backup retention counts _combined_ is 1019 (this parameter's max).\n- enabled (bool): Optional. Indicates whether the backup policy is enabled."}
{"id": "res_net-app_net-app-account_backup-vault", "source": "res\\net-app\\net-app-account\\backup-vault\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Backup Vault' (Parent Chain: Net App > Net App Account).\nResource Type Path: net-app\\net-app-account\\backup-vault\nModule ID: br/public:res/net-app/net-app-account/backup-vault:0.11.0\nParameters:\n- name (string): Optional. The name of the backup vault.\n- location (string): Optional. Location of the backup vault.\n- netAppAccountName (string): Conditional. The name of the parent NetApp account. Required if the template is used in a standalone deployment.\n- backups (array): Optional. The list of backups to create."}
{"id": "res_net-app_net-app-account_backup-vault_backup", "source": "res\\net-app\\net-app-account\\backup-vault\\backup\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Backup' (Parent Chain: Net App > Net App Account > Backup Vault).\nResource Type Path: net-app\\net-app-account\\backup-vault\\backup\nModule ID: br/public:res/net-app/net-app-account/backup-vault/backup:0.11.0\nParameters:\n- name (string): Optional. The name of the backup.\n- backupVaultName (string): Conditional. The name of the parent backup vault. Required if the template is used in a standalone deployment.\n- netAppAccountName (string): Conditional. The name of the parent NetApp account. Required if the template is used in a standalone deployment.\n- label (string): Optional. Label for backup.\n- snapshotName (string): Optional. The name of the snapshot.\n- volumeName (string): Required. The name of the volume to backup.\n- capacityPoolName (string): Required. The name of the capacity pool containing the volume."}
{"id": "res_net-app_net-app-account_capacity-pool", "source": "res\\net-app\\net-app-account\\capacity-pool\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Capacity Pool' (Parent Chain: Net App > Net App Account).\nResource Type Path: net-app\\net-app-account\\capacity-pool\nModule ID: br/public:res/net-app/net-app-account/capacity-pool:0.11.0\nParameters:\n- netAppAccountName (string): Conditional. The name of the parent NetApp account. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the capacity pool.\n- location (string): Optional. Location of the pool volume.\n- tags (object): Optional. Tags for all resources.\n- serviceLevel (string): Optional. The pool service level.\n- size (int): Required. Provisioned size of the pool in Tebibytes (TiB).\n- qosType (string): Optional. The qos type of the pool.\n- volumes (array): Optional. List of volumes to create in the capacity pool.\n- coolAccess (bool): Optional. If enabled (true) the pool can contain cool Access enabled volumes.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- encryptionType (string): Optional. Encryption type of the capacity pool, set encryption type for data at rest for this pool and all volumes in it. This value can only be set when creating new pool."}
{"id": "res_net-app_net-app-account_capacity-pool_volume", "source": "res\\net-app\\net-app-account\\capacity-pool\\volume\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Volume' (Parent Chain: Net App > Net App Account > Capacity Pool).\nResource Type Path: net-app\\net-app-account\\capacity-pool\\volume\nModule ID: br/public:res/net-app/net-app-account/capacity-pool/volume:0.11.0\nParameters:\n- netAppAccountName (string): Conditional. The name of the parent NetApp account. Required if the template is used in a standalone deployment.\n- capacityPoolName (string): Conditional. The name of the parent capacity pool. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the pool volume.\n- location (string): Optional. Location of the pool volume.\n- coolAccess (bool): Required. If enabled (true) the pool can contain cool Access enabled volumes.\n- coolnessPeriod (int): Optional. Specifies the number of days after which data that is not accessed by clients will be tiered.\n- coolAccessRetrievalPolicy (string): Optional. Determines the data retrieval behavior from the cool tier to standard storage based on the read pattern for cool access enabled volumes (Default/Never/Read).\n- encryptionKeySource (string): Required. The source of the encryption key.\n- keyVaultPrivateEndpointResourceId (string): Optional. The resource ID of the key vault private endpoint.\n- volumeType (string): Optional. The type of the volume. DataProtection volumes are used for replication.\n- availabilityZone (int): Required. If set to 1, 2 or 3, the availability zone is hardcoded to that value. If set to -1, no zone is defined. Note that the availability zone numbers here are the logical availability zone in your Azure subscription. Different subscriptions might have a different mapping of the physical zone and logical zone. To understand more, please refer to [Physical and logical availability zones](https://learn.microsoft.com/en-us/azure/reliability/availability-zones-overview?tabs=azure-cli#physical-and-logical-availability-zones).\n- serviceLevel (string): Optional. The pool service level. Must match the one of the parent capacity pool.\n- networkFeatures (string): Optional. Network feature for the volume.\n- creationToken (string): Optional. A unique file path for the volume. This is the name of the volume export. A volume is mounted using the export path. File path must start with an alphabetical character and be unique within the subscription.\n- usageThreshold (int): Required. Maximum storage quota allowed for a file system in bytes.\n- protocolTypes (array): Optional. Set of protocol types. Default value is `['NFSv3']`. If you are creating a dual-stack volume, set either `['NFSv3','CIFS']` or `['NFSv4.1','CIFS']`.\n- subnetResourceId (string): Required. The Azure Resource URI for a delegated subnet. Must have the delegation Microsoft.NetApp/volumes.\n- exportPolicy (N/A): Optional. The export policy rules.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- dataProtection (N/A): Optional. DataProtection type volumes include an object containing details of the replication.\n- smbEncryption (bool): Optional. Enables SMB encryption. Only applicable for SMB/DualProtocol volume.\n- smbContinuouslyAvailable (bool): Optional. Enables continuously available share property for SMB volume. Only applicable for SMB volume.\n- smbNonBrowsable (string): Optional. Enables non-browsable property for SMB Shares. Only applicable for SMB/DualProtocol volume.\n- kerberosEnabled (bool): Optional. Define if a volume is KerberosEnabled.\n- securityStyle (string): Optional. Defines the security style of the Volume.\n- unixPermissions (string): Optional. Unix Permissions for NFS volume.\n- throughputMibps (int): Optional. The throughput in MiBps for the NetApp account."}
{"id": "res_net-app_net-app-account_snapshot-policy", "source": "res\\net-app\\net-app-account\\snapshot-policy\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Snapshot Policy' (Parent Chain: Net App > Net App Account).\nResource Type Path: net-app\\net-app-account\\snapshot-policy\nModule ID: br/public:res/net-app/net-app-account/snapshot-policy:0.11.0\nParameters:\n- netAppAccountName (string): Conditional. The name of the parent NetApp account. Required if the template is used in a standalone deployment.\n- name (string): Optional. The name of the snapshot policy.\n- location (string): Optional. The location of the snapshot policy.\n- hourlySchedule (N/A): Optional. Schedule for hourly snapshots.\n- dailySchedule (N/A): Optional. Schedule for daily snapshots.\n- monthlySchedule (N/A): Optional. Schedule for monthly snapshots.\n- weeklySchedule (N/A): Optional. Schedule for weekly snapshots.\n- snapEnabled (bool): Optional. Indicates whether the snapshot policy is enabled."}
{"id": "res_network_application-gateway", "source": "res\\network\\application-gateway\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Application Gateway' (Parent Chain: Network).\nResource Type Path: network\\application-gateway\nModule ID: br/public:res/network/application-gateway:0.7.0\nParameters:\n- name (string): Required. Name of the Application Gateway.\n- location (string): Optional. Location for all resources.\n- managedIdentities (N/A): Optional. The managed identity definition for this resource.\n- authenticationCertificates (array): Optional. Authentication certificates of the application gateway resource.\n- autoscaleMaxCapacity (int): Optional. Upper bound on number of Application Gateway capacity.\n- autoscaleMinCapacity (int): Optional. Lower bound on number of Application Gateway capacity.\n- backendAddressPools (array): Optional. Backend address pool of the application gateway resource.\n- backendHttpSettingsCollection (array): Optional. Backend http settings of the application gateway resource.\n- customErrorConfigurations (array): Optional. Custom error configurations of the application gateway resource.\n- enableFips (bool): Optional. Whether FIPS is enabled on the application gateway resource.\n- enableHttp2 (bool): Optional. Whether HTTP2 is enabled on the application gateway resource.\n- firewallPolicyResourceId (string): Conditional. The resource ID of an associated firewall policy. Required if the SKU is 'WAF_v2' and ignored if the SKU is 'Standard_v2' or 'Basic'.\n- frontendIPConfigurations (array): Optional. Frontend IP addresses of the application gateway resource.\n- frontendPorts (array): Optional. Frontend ports of the application gateway resource.\n- gatewayIPConfigurations (array): Optional. Subnets of the application gateway resource.\n- enableRequestBuffering (bool): Optional. Enable request buffering.\n- enableResponseBuffering (bool): Optional. Enable response buffering.\n- httpListeners (array): Optional. Http listeners of the application gateway resource.\n- loadDistributionPolicies (array): Optional. Load distribution policies of the application gateway resource.\n- privateEndpoints (array): Optional. Configuration details for private endpoints. For security reasons, it is recommended to use private endpoints whenever possible.\n- privateLinkConfigurations (array): Optional. PrivateLink configurations on application gateway.\n- probes (array): Optional. Probes of the application gateway resource.\n- redirectConfigurations (array): Optional. Redirect configurations of the application gateway resource.\n- requestRoutingRules (array): Optional. Request routing rules of the application gateway resource.\n- rewriteRuleSets (array): Optional. Rewrite rules for the application gateway resource.\n- sku (string): Optional. The name of the SKU for the Application Gateway.\n- capacity (int): Optional. The number of Application instances to be configured.\n- sslCertificates (array): Optional. SSL certificates of the application gateway resource.\n- sslPolicyCipherSuites (array): Optional. Ssl cipher suites to be enabled in the specified order to application gateway.\n- sslPolicyMinProtocolVersion (string): Optional. Ssl protocol enums.\n- sslPolicyName (string): Optional. Ssl predefined policy name enums.\n- sslPolicyType (string): Optional. Type of Ssl Policy.\n- sslProfiles (array): Optional. SSL profiles of the application gateway resource.\n- trustedClientCertificates (array): Optional. Trusted client certificates of the application gateway resource.\n- trustedRootCertificates (array): Optional. Trusted Root certificates of the application gateway resource.\n- urlPathMaps (array): Optional. URL path map of the application gateway resource.\n- availabilityZones (array): Optional. The list of Availability zones to use for the zone-redundant resources.\n- diagnosticSettings (array): Optional. The diagnostic settings of the service.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- tags (object): Optional. Resource tags.\n- backendSettingsCollection (array): Optional. Backend settings of the application gateway resource. For default limits, see [Application Gateway limits](https://learn.microsoft.com/en-us/azure/azure-subscription-service-limits#application-gateway-limits).\n- listeners (array): Optional. Listeners of the application gateway resource. For default limits, see [Application Gateway limits](https://learn.microsoft.com/en-us/azure/azure-subscription-service-limits#application-gateway-limits).\n- routingRules (array): Optional. Routing rules of the application gateway resource.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_network_application-gateway-web-application-firewall-policy", "source": "res\\network\\application-gateway-web-application-firewall-policy\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Application Gateway Web Application Firewall Policy' (Parent Chain: Network).\nResource Type Path: network\\application-gateway-web-application-firewall-policy\nModule ID: br/public:res/network/application-gateway-web-application-firewall-policy:0.2.0\nParameters:\n- name (string): Required. Name of the Application Gateway WAF policy.\n- location (string): Optional. Location for all resources.\n- tags (object): Optional. Resource tags.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- managedRules (object): Required. Describes the managedRules structure.\n- customRules (array): Optional. The custom rules inside the policy.\n- policySettings (object): Optional. The PolicySettings for policy."}
{"id": "res_network_application-security-group", "source": "res\\network\\application-security-group\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Application Security Group' (Parent Chain: Network).\nResource Type Path: network\\application-security-group\nModule ID: br/public:res/network/application-security-group:0.2.0\nParameters:\n- name (string): Required. Name of the Application Security Group.\n- location (string): Optional. Location for all resources.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- tags (object): Optional. Tags of the resource.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_network_azure-firewall", "source": "res\\network\\azure-firewall\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Azure Firewall' (Parent Chain: Network).\nResource Type Path: network\\azure-firewall\nModule ID: br/public:res/network/azure-firewall:0.9.0\nParameters:\n- name (string): Required. Name of the Azure Firewall.\n- azureSkuTier (string): Optional. Tier of an Azure Firewall.\n- virtualNetworkResourceId (string): Conditional. Shared services Virtual Network resource ID. The virtual network ID containing AzureFirewallSubnet. If a Public IP is not provided, then the Public IP that is created as part of this module will be applied with the subnet provided in this variable. Required if `virtualHubId` is empty.\n- publicIPResourceID (string): Optional. The Public IP resource ID to associate to the AzureFirewallSubnet. If empty, then the Public IP that is created as part of this module will be applied to the AzureFirewallSubnet.\n- additionalPublicIpConfigurations (array): Optional. This is to add any additional Public IP configurations on top of the Public IP with subnet IP configuration.\n- publicIPAddressObject (object): Optional. Specifies the properties of the Public IP to create and be used by the Firewall, if no existing public IP was provided.\n- managementIPResourceID (string): Optional. The Management Public IP resource ID to associate to the AzureFirewallManagementSubnet. If empty, then the Management Public IP that is created as part of this module will be applied to the AzureFirewallManagementSubnet.\n- managementIPAddressObject (object): Optional. Specifies the properties of the Management Public IP to create and be used by Azure Firewall. If it's not provided and managementIPResourceID is empty, a '-mip' suffix will be appended to the Firewall's name.\n- applicationRuleCollections (array): Optional. Collection of application rule collections used by Azure Firewall.\n- networkRuleCollections (array): Optional. Collection of network rule collections used by Azure Firewall.\n- natRuleCollections (array): Optional. Collection of NAT rule collections used by Azure Firewall.\n- firewallPolicyId (string): Optional. Resource ID of the Firewall Policy that should be attached.\n- hubIPAddresses (N/A): Conditional. IP addresses associated with AzureFirewall. Required if `virtualHubId` is supplied.\n- virtualHubResourceId (string): Conditional. The virtualHub resource ID to which the firewall belongs. Required if `virtualNetworkId` is empty.\n- threatIntelMode (string): Optional. The operation mode for Threat Intel.\n- autoscaleMaxCapacity (int): Optional. The maximum number of capacity units for this azure firewall. Use null to reset the value to the service default.\n- autoscaleMinCapacity (int): Optional. The minimum number of capacity units for this azure firewall. Use null to reset the value to the service default.\n- availabilityZones (array): Optional. The list of Availability zones to use for the zone-redundant resources.\n- enableManagementNic (bool): Optional. Enable/Disable to support Forced Tunneling and Packet capture scenarios.\n- diagnosticSettings (array): Optional. The diagnostic settings of the service.\n- location (string): Optional. Location for all resources.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- tags (object): Optional. Tags of the Azure Firewall resource.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_network_bastion-host", "source": "res\\network\\bastion-host\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Bastion Host' (Parent Chain: Network).\nResource Type Path: network\\bastion-host\nModule ID: br/public:res/network/bastion-host:0.8.0\nParameters:\n- name (string): Required. Name of the Azure Bastion resource.\n- location (string): Optional. Location for all resources.\n- virtualNetworkResourceId (string): Required. Shared services Virtual Network resource Id.\n- bastionSubnetPublicIpResourceId (string): Optional. The Public IP resource ID to associate to the azureBastionSubnet. If empty, then the Public IP that is created as part of this module will be applied to the azureBastionSubnet. This parameter is ignored when enablePrivateOnlyBastion is true.\n- publicIPAddressObject (N/A): Optional. Specifies the properties of the Public IP to create and be used by Azure Bastion, if no existing public IP was provided. This parameter is ignored when enablePrivateOnlyBastion is true.\n- diagnosticSettings (array): Optional. The diagnostic settings of the service.\n- lock (N/A): Optional. The lock settings of the service.\n- skuName (string): Optional. The SKU of this Bastion Host.\n- disableCopyPaste (bool): Optional. Choose to disable or enable Copy Paste. For Basic and Developer SKU Copy/Paste is always enabled.\n- enableFileCopy (bool): Optional. Choose to disable or enable File Copy. Not supported for Basic and Developer SKU.\n- enableIpConnect (bool): Optional. Choose to disable or enable IP Connect. Not supported for Basic and Developer SKU.\n- enableKerberos (bool): Optional. Choose to disable or enable Kerberos authentication. Not supported for Developer SKU.\n- enableShareableLink (bool): Optional. Choose to disable or enable Shareable Link. Not supported for Basic and Developer SKU.\n- enableSessionRecording (bool): Optional. Choose to disable or enable Session Recording feature. The Premium SKU is required for this feature. If Session Recording is enabled, the Native client support will be disabled.\n- enablePrivateOnlyBastion (bool): Optional. Choose to disable or enable Private-only Bastion deployment. The Premium SKU is required for this feature.\n- scaleUnits (int): Optional. The scale units for the Bastion Host resource. The Basic and Developer SKU only support 2 scale units.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- tags (object): Optional. Tags of the resource.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- availabilityZones (array): Optional. The list of Availability zones to use for the zone-redundant resources."}
{"id": "res_network_connection", "source": "res\\network\\connection\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Connection' (Parent Chain: Network).\nResource Type Path: network\\connection\nModule ID: br/public:res/network/connection:0.1.0\nParameters:\n- name (string): Required. Remote connection name.\n- vpnSharedKey (securestring): Optional. Specifies a VPN shared key. The same value has to be specified on both Virtual Network Gateways.\n- location (string): Optional. Location for all resources.\n- connectionType (string): Optional. Gateway connection connectionType.\n- enableBgp (bool): Optional. Value to specify if BGP is enabled or not.\n- connectionMode (string): Optional. The connection connectionMode for this connection. Available for IPSec connections.\n- connectionProtocol (string): Optional. Connection connectionProtocol used for this connection. Available for IPSec connections.\n- dpdTimeoutSeconds (int): Optional. The dead peer detection timeout of this connection in seconds. Setting the timeout to shorter periods will cause IKE to rekey more aggressively, causing the connection to appear to be disconnected in some instances. The general recommendation is to set the timeout between 30 to 45 seconds.\n- usePolicyBasedTrafficSelectors (bool): Optional. Enable policy-based traffic selectors.\n- trafficSelectorPolicies (array): Optional. The traffic selector policies to be considered by this connection.\n- enablePrivateLinkFastPath (bool): Optional. Bypass the ExpressRoute gateway when accessing private-links. ExpressRoute FastPath (expressRouteGatewayBypass) must be enabled. Only available when connection connectionType is Express Route.\n- expressRouteGatewayBypass (bool): Optional. Bypass ExpressRoute Gateway for data forwarding. Only available when connection connectionType is Express Route.\n- useLocalAzureIpAddress (bool): Optional. Use private local Azure IP for the connection. Only available for IPSec Virtual Network Gateways that use the Azure Private IP Property.\n- customIPSecPolicy (N/A): Optional. The IPSec Policies to be considered by this connection.\n- routingWeight (int): Optional. The weight added to routes learned from this BGP speaker.\n- lock (N/A): Optional. The lock settings of the service.\n- tags (object): Optional. Tags of the resource.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- virtualNetworkGateway1 (N/A): Required. The primary Virtual Network Gateway.\n- virtualNetworkGateway2ResourceId (string): Optional. The remote Virtual Network Gateway resource ID. Used for connection connectionType [Vnet2Vnet].\n- peerResourceId (string): Optional. The remote peer resource ID. Used for connection connectionType [ExpressRoute].\n- authorizationKey (securestring): Optional. The Authorization Key to connect to an Express Route Circuit. Used for connection type [ExpressRoute].\n- localNetworkGateway2ResourceId (string): Optional. The local network gateway resource ID. Used for connection type [IPsec].\n- gatewayCustomBgpIpAddresses (array): Optional. GatewayCustomBgpIpAddresses to be used for virtual network gateway Connection. Enables APIPA (Automatic Private IP Addressing) for custom BGP IP addresses on both Azure and on-premises sides."}
{"id": "res_network_ddos-protection-plan", "source": "res\\network\\ddos-protection-plan\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Ddos Protection Plan' (Parent Chain: Network).\nResource Type Path: network\\ddos-protection-plan\nModule ID: br/public:res/network/ddos-protection-plan:0.3.0\nParameters:\n- name (string): Required. Name of the DDoS protection plan to assign the VNET to.\n- location (string): Optional. Location for all resources.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- tags (object): Optional. Tags of the resource.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_network_dns-forwarding-ruleset", "source": "res\\network\\dns-forwarding-ruleset\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Dns Forwarding Ruleset' (Parent Chain: Network).\nResource Type Path: network\\dns-forwarding-ruleset\nModule ID: br/public:res/network/dns-forwarding-ruleset:0.5.0\nParameters:\n- name (string): Required. Name of the DNS Forwarding Ruleset.\n- location (string): Optional. Location for all resources.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- tags (object): Optional. Tags of the resource.\n- dnsForwardingRulesetOutboundEndpointResourceIds (array): Required. The reference to the DNS resolver outbound endpoints that are used to route DNS queries matching the forwarding rules in the ruleset to the target DNS servers.\n- forwardingRules (array): Optional. Array of forwarding rules.\n- virtualNetworkLinks (array): Optional. Array of virtual network links.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_network_dns-forwarding-ruleset_forwarding-rule", "source": "res\\network\\dns-forwarding-ruleset\\forwarding-rule\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Forwarding Rule' (Parent Chain: Network > Dns Forwarding Ruleset).\nResource Type Path: network\\dns-forwarding-ruleset\\forwarding-rule\nModule ID: br/public:res/network/dns-forwarding-ruleset/forwarding-rule:0.5.0\nParameters:\n- name (string): Required. Name of the Forwarding Rule.\n- dnsForwardingRulesetName (string): Conditional. Name of the parent DNS Forwarding Ruleset. Required if the template is used in a standalone deployment.\n- domainName (string): Required. The domain name for the forwarding rule.\n- forwardingRuleState (string): Optional. The state of forwarding rule.\n- metadata (object): Optional. Metadata attached to the forwarding rule.\n- targetDnsServers (array): Required. DNS servers to forward the DNS query to."}
{"id": "res_network_dns-forwarding-ruleset_virtual-network-link", "source": "res\\network\\dns-forwarding-ruleset\\virtual-network-link\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Virtual Network Link' (Parent Chain: Network > Dns Forwarding Ruleset).\nResource Type Path: network\\dns-forwarding-ruleset\\virtual-network-link\nModule ID: br/public:res/network/dns-forwarding-ruleset/virtual-network-link:0.5.0\nParameters:\n- dnsForwardingRulesetName (string): Conditional. The name of the parent DNS Fowarding Rule Set. Required if the template is used in a standalone deployment.\n- name (string): Optional. The name of the virtual network link.\n- virtualNetworkResourceId (string): Required. Link to another virtual network resource ID.\n- metadata (object): Optional. Metadata attached to the forwarding rule."}
{"id": "res_network_dns-resolver", "source": "res\\network\\dns-resolver\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Dns Resolver' (Parent Chain: Network).\nResource Type Path: network\\dns-resolver\nModule ID: br/public:res/network/dns-resolver:0.5.0\nParameters:\n- name (string): Required. Name of the DNS Private Resolver.\n- location (string): Optional. Location for all resources.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- tags (object): Optional. Tags of the resource.\n- virtualNetworkResourceId (string): Required. ResourceId of the virtual network to attach the DNS Private Resolver to.\n- outboundEndpoints (array): Optional. Outbound Endpoints for DNS Private Resolver.\n- inboundEndpoints (array): Optional. Inbound Endpoints for DNS Private Resolver.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_network_dns-resolver_inbound-endpoint", "source": "res\\network\\dns-resolver\\inbound-endpoint\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Inbound Endpoint' (Parent Chain: Network > Dns Resolver).\nResource Type Path: network\\dns-resolver\\inbound-endpoint\nModule ID: br/public:res/network/dns-resolver/inbound-endpoint:0.5.0\nParameters:\n- dnsResolverName (string): Required. Name of the DNS Private Resolver.\n- location (string): Optional. Location for all resources.\n- tags (object): Optional. Tags of the resource.\n- subnetResourceId (string): Required. The subnet ID of the inbound endpoint.\n- privateIpAddress (string): Optional. The private IP address of the inbound endpoint.\n- privateIpAllocationMethod (string): Optional. The private IP allocation method of the inbound endpoint.\n- name (string): Required. The name of the inbound endpoint."}
{"id": "res_network_dns-resolver_outbound-endpoint", "source": "res\\network\\dns-resolver\\outbound-endpoint\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Outbound Endpoint' (Parent Chain: Network > Dns Resolver).\nResource Type Path: network\\dns-resolver\\outbound-endpoint\nModule ID: br/public:res/network/dns-resolver/outbound-endpoint:0.5.0\nParameters:\n- dnsResolverName (string): Required. Name of the DNS Private Resolver.\n- location (string): Optional. Location for all resources.\n- tags (object): Optional. Tags of the resource.\n- subnetResourceId (string): Required. The subnet ID of the inbound endpoint.\n- name (string): Required. The name of the inbound endpoint."}
{"id": "res_network_dns-zone", "source": "res\\network\\dns-zone\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Dns Zone' (Parent Chain: Network).\nResource Type Path: network\\dns-zone\nModule ID: br/public:res/network/dns-zone:0.5.0\nParameters:\n- name (string): Required. DNS zone name.\n- a (array): Optional. Array of A records.\n- aaaa (array): Optional. Array of AAAA records.\n- cname (array): Optional. Array of CNAME records.\n- caa (array): Optional. Array of CAA records.\n- mx (array): Optional. Array of MX records.\n- ns (array): Optional. Array of NS records.\n- ptr (array): Optional. Array of PTR records.\n- soa (array): Optional. Array of SOA records.\n- srv (array): Optional. Array of SRV records.\n- txt (array): Optional. Array of TXT records.\n- location (string): Optional. The location of the dnsZone. Should be global.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- tags (object): Optional. Tags of the resource.\n- lock (N/A): Optional. The lock settings of the service.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_network_dns-zone_a", "source": "res\\network\\dns-zone\\a\\main.bicep", "content_to_embed": "Recommended AVM Module for 'A' (Parent Chain: Network > Dns Zone).\nResource Type Path: network\\dns-zone\\a\nModule ID: br/public:res/network/dns-zone/a:0.5.0\nParameters:\n- dnsZoneName (string): Conditional. The name of the parent DNS zone. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the A record.\n- aRecords (array): Optional. The list of A records in the record set. Cannot be used in conjuction with the \"targetResource\" property.\n- metadata (object): Optional. The metadata attached to the record set.\n- ttl (int): Optional. The TTL (time-to-live) of the records in the record set.\n- targetResourceId (string): Optional. A reference to an azure resource from where the dns resource value is taken. Also known as an alias record sets and are only supported for record types A, AAAA and CNAME. A resource ID can be an Azure Traffic Manager, Azure CDN, Front Door, Static Web App, or a resource ID of a record set of the same type in the DNS zone (i.e. A, AAAA or CNAME). Cannot be used in conjuction with the \"aRecords\" property.\n- roleAssignments (array): Optional. Array of role assignments to create."}
{"id": "res_network_dns-zone_aaaa", "source": "res\\network\\dns-zone\\aaaa\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Aaaa' (Parent Chain: Network > Dns Zone).\nResource Type Path: network\\dns-zone\\aaaa\nModule ID: br/public:res/network/dns-zone/aaaa:0.5.0\nParameters:\n- dnsZoneName (string): Conditional. The name of the parent DNS zone. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the AAAA record.\n- aaaaRecords (array): Optional. The list of AAAA records in the record set. Cannot be used in conjuction with the \"targetResource\" property.\n- metadata (object): Optional. The metadata attached to the record set.\n- ttl (int): Optional. The TTL (time-to-live) of the records in the record set.\n- targetResourceId (string): Optional. A reference to an azure resource from where the dns resource value is taken. Also known as an alias record sets and are only supported for record types A, AAAA and CNAME. A resource ID can be an Azure Traffic Manager, Azure CDN, Front Door, Static Web App, or a resource ID of a record set of the same type in the DNS zone (i.e. A, AAAA or CNAME). Cannot be used in conjuction with the \"aRecords\" property.\n- roleAssignments (array): Optional. Array of role assignments to create."}
{"id": "res_network_dns-zone_caa", "source": "res\\network\\dns-zone\\caa\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Caa' (Parent Chain: Network > Dns Zone).\nResource Type Path: network\\dns-zone\\caa\nModule ID: br/public:res/network/dns-zone/caa:0.5.0\nParameters:\n- dnsZoneName (string): Conditional. The name of the parent DNS zone. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the CAA record.\n- metadata (object): Optional. The metadata attached to the record set.\n- caaRecords (array): Optional. The list of CAA records in the record set.\n- ttl (int): Optional. The TTL (time-to-live) of the records in the record set.\n- roleAssignments (array): Optional. Array of role assignments to create."}
{"id": "res_network_dns-zone_cname", "source": "res\\network\\dns-zone\\cname\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Cname' (Parent Chain: Network > Dns Zone).\nResource Type Path: network\\dns-zone\\cname\nModule ID: br/public:res/network/dns-zone/cname:0.5.0\nParameters:\n- dnsZoneName (string): Conditional. The name of the parent DNS zone. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the CNAME record.\n- cnameRecord (object): Optional. A CNAME record. Cannot be used in conjuction with the \"targetResource\" property.\n- metadata (object): Optional. The metadata attached to the record set.\n- ttl (int): Optional. The TTL (time-to-live) of the records in the record set.\n- targetResourceId (string): Optional. A reference to an azure resource from where the dns resource value is taken. Also known as an alias record sets and are only supported for record types A, AAAA and CNAME. A resource ID can be an Azure Traffic Manager, Azure CDN, Front Door, Static Web App, or a resource ID of a record set of the same type in the DNS zone (i.e. A, AAAA or CNAME). Cannot be used in conjuction with the \"aRecords\" property.\n- roleAssignments (array): Optional. Array of role assignments to create."}
{"id": "res_network_dns-zone_mx", "source": "res\\network\\dns-zone\\mx\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Mx' (Parent Chain: Network > Dns Zone).\nResource Type Path: network\\dns-zone\\mx\nModule ID: br/public:res/network/dns-zone/mx:0.5.0\nParameters:\n- dnsZoneName (string): Conditional. The name of the parent DNS zone. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the MX record.\n- metadata (object): Optional. The metadata attached to the record set.\n- mxRecords (array): Optional. The list of MX records in the record set.\n- ttl (int): Optional. The TTL (time-to-live) of the records in the record set.\n- roleAssignments (array): Optional. Array of role assignments to create."}
{"id": "res_network_dns-zone_ns", "source": "res\\network\\dns-zone\\ns\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Ns' (Parent Chain: Network > Dns Zone).\nResource Type Path: network\\dns-zone\\ns\nModule ID: br/public:res/network/dns-zone/ns:0.5.0\nParameters:\n- dnsZoneName (string): Conditional. The name of the parent DNS zone. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the NS record.\n- metadata (object): Optional. The metadata attached to the record set.\n- nsRecords (array): Optional. The list of NS records in the record set.\n- ttl (int): Optional. The TTL (time-to-live) of the records in the record set.\n- roleAssignments (array): Optional. Array of role assignments to create."}
{"id": "res_network_dns-zone_ptr", "source": "res\\network\\dns-zone\\ptr\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Ptr' (Parent Chain: Network > Dns Zone).\nResource Type Path: network\\dns-zone\\ptr\nModule ID: br/public:res/network/dns-zone/ptr:0.5.0\nParameters:\n- dnsZoneName (string): Conditional. The name of the parent DNS zone. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the PTR record.\n- metadata (object): Optional. The metadata attached to the record set.\n- ptrRecords (array): Optional. The list of PTR records in the record set.\n- ttl (int): Optional. The TTL (time-to-live) of the records in the record set.\n- roleAssignments (array): Optional. Array of role assignments to create."}
{"id": "res_network_dns-zone_soa", "source": "res\\network\\dns-zone\\soa\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Soa' (Parent Chain: Network > Dns Zone).\nResource Type Path: network\\dns-zone\\soa\nModule ID: br/public:res/network/dns-zone/soa:0.5.0\nParameters:\n- dnsZoneName (string): Conditional. The name of the parent DNS zone. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the SOA record.\n- metadata (object): Optional. The metadata attached to the record set.\n- soaRecord (object): Optional. A SOA record.\n- ttl (int): Optional. The TTL (time-to-live) of the records in the record set.\n- roleAssignments (array): Optional. Array of role assignments to create."}
{"id": "res_network_dns-zone_srv", "source": "res\\network\\dns-zone\\srv\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Srv' (Parent Chain: Network > Dns Zone).\nResource Type Path: network\\dns-zone\\srv\nModule ID: br/public:res/network/dns-zone/srv:0.5.0\nParameters:\n- dnsZoneName (string): Conditional. The name of the parent DNS zone. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the SRV record.\n- metadata (object): Optional. The metadata attached to the record set.\n- srvRecords (array): Optional. The list of SRV records in the record set.\n- ttl (int): Optional. The TTL (time-to-live) of the records in the record set.\n- roleAssignments (array): Optional. Array of role assignments to create."}
{"id": "res_network_dns-zone_txt", "source": "res\\network\\dns-zone\\txt\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Txt' (Parent Chain: Network > Dns Zone).\nResource Type Path: network\\dns-zone\\txt\nModule ID: br/public:res/network/dns-zone/txt:0.5.0\nParameters:\n- dnsZoneName (string): Conditional. The name of the parent DNS zone. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the TXT record.\n- metadata (object): Optional. The metadata attached to the record set.\n- ttl (int): Optional. The TTL (time-to-live) of the records in the record set.\n- txtRecords (array): Optional. The list of TXT records in the record set.\n- roleAssignments (array): Optional. Array of role assignments to create."}
{"id": "res_network_express-route-circuit", "source": "res\\network\\express-route-circuit\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Express Route Circuit' (Parent Chain: Network).\nResource Type Path: network\\express-route-circuit\nModule ID: br/public:res/network/express-route-circuit:0.7.0\nParameters:\n- name (string): Required. This is the name of the ExpressRoute circuit.\n- serviceProviderName (string): Conditional. Required if 'expressRoutePortResourceId' is not set. This is the name of the ExpressRoute Service Provider. It must exactly match one of the Service Providers from List ExpressRoute Service Providers API call.\n- peeringLocation (string): Conditional. Required if 'expressRoutePortResourceId' is not set. This is the name of the peering location and not the ARM resource location. It must exactly match one of the available peering locations from List ExpressRoute Service Providers API call.\n- bandwidthInMbps (int): Conditional. Required if 'expressRoutePortResourceId' is not set. This is the bandwidth in Mbps of the circuit being created. It must exactly match one of the available bandwidth offers List ExpressRoute Service Providers API call.\n- skuTier (string): Optional. Chosen SKU Tier of ExpressRoute circuit. Choose from Local, Premium or Standard SKU tiers.\n- skuFamily (string): Optional. Chosen SKU family of ExpressRoute circuit. Choose from MeteredData or UnlimitedData SKU families.\n- peerings (array): Optional. Array of peering configurations for the ExpressRoute circuit.\n- location (string): Optional. Location for all resources.\n- allowClassicOperations (bool): Optional. Allow classic operations. You can connect to virtual networks in the classic deployment model by setting allowClassicOperations to true.\n- authorizationNames (array): Optional. List of names for ExpressRoute circuit authorizations to create. To fetch the `authorizationKey` for the authorization, use the `existing` resource reference for `Microsoft.Network/expressRouteCircuits/authorizations`.\n- bandwidthInGbps (int): Conditional. Required if 'serviceProviderName', 'peeringLocation', and 'bandwidthInMbps' are not set. The bandwidth of the circuit when the circuit is provisioned on an ExpressRoutePort resource. Available when configuring Express Route Direct. Default value of 0 will set the property to null.\n- expressRoutePortResourceId (string): Conditional. Required if 'serviceProviderName', 'peeringLocation', and 'bandwidthInMbps' are not set. The reference to the ExpressRoutePort resource when the circuit is provisioned on an ExpressRoutePort resource. Available when configuring Express Route Direct.\n- enableDirectPortRateLimit (bool): Optional. Flag denoting rate-limiting status of the ExpressRoute direct-port circuit.\n- globalReachEnabled (bool): Optional. Flag denoting global reach status. To enable ExpressRoute Global Reach between different geopolitical regions, your circuits must be Premium SKU.\n- diagnosticSettings (array): Optional. The diagnostic settings of the service.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- tags (object): Optional. Tags of the resource.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_network_express-route-gateway", "source": "res\\network\\express-route-gateway\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Express Route Gateway' (Parent Chain: Network).\nResource Type Path: network\\express-route-gateway\nModule ID: br/public:res/network/express-route-gateway:0.8.0\nParameters:\n- name (string): Required. Name of the Express Route Gateway.\n- location (string): Optional. Location for all resources.\n- tags (object): Optional. Tags of the Firewall policy resource.\n- allowNonVirtualWanTraffic (bool): Optional. Configures this gateway to accept traffic from non Virtual WAN networks.\n- autoScaleConfigurationBoundsMax (int): Optional. Maximum number of scale units deployed for ExpressRoute gateway.\n- autoScaleConfigurationBoundsMin (int): Optional. Minimum number of scale units deployed for ExpressRoute gateway.\n- expressRouteConnections (array): Optional. List of ExpressRoute connections to the ExpressRoute gateway. **Note:** This parameter will overwrite existing connections, including deleting any that are not provided. This is by-design behavior of the resource provider.\n- virtualHubResourceId (string): Required. Resource ID of the Virtual Wan Hub.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- lock (N/A): Optional. The lock settings of the service."}
{"id": "res_network_express-route-port", "source": "res\\network\\express-route-port\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Express Route Port' (Parent Chain: Network).\nResource Type Path: network\\express-route-port\nModule ID: br/public:res/network/express-route-port:0.3.0\nParameters:\n- name (string): Required. This is the name of the ExpressRoute Port Resource.\n- bandwidthInGbps (int): Required. This is the bandwidth in Gbps of the circuit being created. It must exactly match one of the available bandwidth offers List ExpressRoute Service Providers API call.\n- billingType (string): Optional. Chosen SKU family of ExpressRoute circuit. Choose from MeteredData or UnlimitedData SKU families.\n- encapsulation (string): Optional. Encapsulation method on physical ports.\n- links (array): Optional. The set of physical links of the ExpressRoutePort resource.\n- peeringLocation (string): Required. This is the name of the peering location and not the ARM resource location. It must exactly match one of the available peering locations from List ExpressRoute Service Providers API call.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- managedIdentities (N/A): Optional. The managed identity definition for this resource.\n- location (string): Optional. Location for all resources.\n- tags (object): Optional. Tags of the resource."}
{"id": "res_network_firewall-policy", "source": "res\\network\\firewall-policy\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Firewall Policy' (Parent Chain: Network).\nResource Type Path: network\\firewall-policy\nModule ID: br/public:res/network/firewall-policy:0.3.0\nParameters:\n- name (string): Required. Name of the Firewall Policy.\n- location (string): Optional. Location for all resources.\n- tags (object): Optional. Tags of the Firewall policy resource.\n- managedIdentities (N/A): Optional. The managed identity definition for this resource.\n- basePolicyResourceId (string): Optional. Resource ID of the base policy.\n- enableProxy (bool): Optional. Enable DNS Proxy on Firewalls attached to the Firewall Policy.\n- servers (array): Optional. List of Custom DNS Servers.\n- insightsIsEnabled (bool): Optional. A flag to indicate if the insights are enabled on the policy.\n- defaultWorkspaceResourceId (string): Optional. Default Log Analytics Resource ID for Firewall Policy Insights.\n- workspaces (array): Optional. List of workspaces for Firewall Policy Insights.\n- retentionDays (int): Optional. Number of days the insights should be enabled on the policy.\n- intrusionDetection (N/A): Optional. The configuration for Intrusion detection.\n- snat (N/A): Optional. The private IP addresses/IP ranges to which traffic will not be SNAT.\n- tier (string): Optional. Tier of Firewall Policy.\n- threatIntelMode (string): Optional. The operation mode for Threat Intel.\n- allowSqlRedirect (bool): Optional. A flag to indicate if SQL Redirect traffic filtering is enabled. Turning on the flag requires no rule using port 11000-11999.\n- fqdns (array): Optional. List of FQDNs for the ThreatIntel Allowlist.\n- ipAddresses (array): Optional. List of IP addresses for the ThreatIntel Allowlist.\n- keyVaultSecretId (string): Optional. Secret ID of (base-64 encoded unencrypted PFX) Secret or Certificate object stored in KeyVault.\n- certificateName (string): Optional. Name of the CA certificate.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- ruleCollectionGroups (array): Optional. Rule collection groups.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create."}
{"id": "res_network_firewall-policy_rule-collection-group", "source": "res\\network\\firewall-policy\\rule-collection-group\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Rule Collection Group' (Parent Chain: Network > Firewall Policy).\nResource Type Path: network\\firewall-policy\\rule-collection-group\nModule ID: br/public:res/network/firewall-policy/rule-collection-group:0.3.0\nParameters:\n- firewallPolicyName (string): Conditional. The name of the parent Firewall Policy. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the rule collection group to deploy.\n- priority (int): Required. Priority of the Firewall Policy Rule Collection Group resource.\n- ruleCollections (array): Optional. Group of Firewall Policy rule collections."}
{"id": "res_network_front-door", "source": "res\\network\\front-door\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Front Door' (Parent Chain: Network).\nResource Type Path: network\\front-door\nModule ID: br/public:res/network/front-door:0.3.0\nParameters:\n- name (string): Required. The name of the frontDoor.\n- location (string): Optional. Location for all resources.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- tags (object): Optional. Resource tags.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- backendPools (array): Required. Backend address pool of the frontdoor resource.\n- enforceCertificateNameCheck (string): Optional. Enforce certificate name check of the frontdoor resource.\n- sendRecvTimeoutSeconds (int): Optional. Certificate name check time of the frontdoor resource.\n- enabledState (string): Optional. State of the frontdoor resource.\n- friendlyName (string): Optional. Friendly name of the frontdoor resource.\n- frontendEndpoints (array): Required. Frontend endpoints of the frontdoor resource.\n- healthProbeSettings (array): Required. Heath probe settings of the frontdoor resource.\n- loadBalancingSettings (array): Required. Load balancing settings of the frontdoor resource.\n- routingRules (array): Required. Routing rules settings of the frontdoor resource.\n- diagnosticSettings (array): Optional. The diagnostic settings of the service."}
{"id": "res_network_front-door-web-application-firewall-policy", "source": "res\\network\\front-door-web-application-firewall-policy\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Front Door Web Application Firewall Policy' (Parent Chain: Network).\nResource Type Path: network\\front-door-web-application-firewall-policy\nModule ID: br/public:res/network/front-door-web-application-firewall-policy:0.3.0\nParameters:\n- name (string): Required. Name of the Front Door WAF policy.\n- location (string): Optional. Location for all resources.\n- sku (string): Optional. The pricing tier of the WAF profile.\n- tags (object): Optional. Resource tags.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- managedRules (N/A): Optional. Describes the managedRules structure.\n- customRules (N/A): Optional. The custom rules inside the policy.\n- policySettings (object): Optional. The PolicySettings for policy.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create."}
{"id": "res_network_ip-group", "source": "res\\network\\ip-group\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Ip Group' (Parent Chain: Network).\nResource Type Path: network\\ip-group\nModule ID: br/public:res/network/ip-group:0.3.0\nParameters:\n- name (string): Required. The name of the IP Group.\n- location (string): Optional. Location for all resources.\n- ipAddresses (array): Optional. IpAddresses/IpAddressPrefixes in the IP Group resource.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- tags (object): Optional. Resource tags.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_network_load-balancer", "source": "res\\network\\load-balancer\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Load Balancer' (Parent Chain: Network).\nResource Type Path: network\\load-balancer\nModule ID: br/public:res/network/load-balancer:0.5.0\nParameters:\n- name (string): Required. The Proximity Placement Groups Name.\n- location (string): Optional. Location for all resources.\n- skuName (string): Optional. Name of a load balancer SKU.\n- frontendIPConfigurations (array): Required. Array of objects containing all frontend IP configurations.\n- backendAddressPools (array): Optional. Collection of backend address pools used by a load balancer.\n- loadBalancingRules (array): Optional. Array of objects containing all load balancing rules.\n- probes (array): Optional. Array of objects containing all probes, these are references in the load balancing rules.\n- diagnosticSettings (array): Optional. The diagnostic settings of the service.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- tags (object): Optional. Tags of the resource.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- inboundNatRules (array): Optional. Collection of inbound NAT Rules used by a load balancer. Defining inbound NAT rules on your load balancer is mutually exclusive with defining an inbound NAT pool. Inbound NAT pools are referenced from virtual machine scale sets. NICs that are associated with individual virtual machines cannot reference an Inbound NAT pool. They have to reference individual inbound NAT rules.\n- outboundRules (array): Optional. The outbound rules."}
{"id": "res_network_load-balancer_backend-address-pool", "source": "res\\network\\load-balancer\\backend-address-pool\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Backend Address Pool' (Parent Chain: Network > Load Balancer).\nResource Type Path: network\\load-balancer\\backend-address-pool\nModule ID: br/public:res/network/load-balancer/backend-address-pool:0.5.0\nParameters:\n- loadBalancerName (string): Conditional. The name of the parent load balancer. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the backend address pool.\n- loadBalancerBackendAddresses (array): Optional. An array of backend addresses.\n- tunnelInterfaces (array): Optional. An array of gateway load balancer tunnel interfaces.\n- drainPeriodInSeconds (int): Optional. Amount of seconds Load Balancer waits for before sending RESET to client and backend address. if value is 0 then this property will be set to null. Subscription must register the feature Microsoft.Network/SLBAllowConnectionDraining before using this property.\n- syncMode (string): Optional. Backend address synchronous mode for the backend pool.\n- virtualNetworkResourceId (string): Optional. The resource Id of the virtual network.\n- backendMembershipMode (string): Optional. How backend pool members are managed. NIC = via NIC IP configs, BackendAddress = via backend addresses, None = empty pool."}
{"id": "res_network_load-balancer_inbound-nat-rule", "source": "res\\network\\load-balancer\\inbound-nat-rule\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Inbound Nat Rule' (Parent Chain: Network > Load Balancer).\nResource Type Path: network\\load-balancer\\inbound-nat-rule\nModule ID: br/public:res/network/load-balancer/inbound-nat-rule:0.5.0\nParameters:\n- loadBalancerName (string): Conditional. The name of the parent load balancer. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the inbound NAT rule.\n- frontendPort (int): Conditional. The port for the external endpoint. Port numbers for each rule must be unique within the Load Balancer. Required if FrontendPortRangeStart and FrontendPortRangeEnd are not specified.\n- backendPort (int): Required. The port used for the internal endpoint.\n- backendAddressPoolName (string): Optional. Name of the backend address pool.\n- enableFloatingIP (bool): Optional. Configures a virtual machine's endpoint for the floating IP capability required to configure a SQL AlwaysOn Availability Group. This setting is required when using the SQL AlwaysOn Availability Groups in SQL server. This setting can't be changed after you create the endpoint.\n- enableTcpReset (bool): Optional. Receive bidirectional TCP Reset on TCP flow idle timeout or unexpected connection termination. This element is only used when the protocol is set to TCP.\n- frontendIPConfigurationName (string): Required. The name of the frontend IP address to set for the inbound NAT rule.\n- frontendPortRangeEnd (int): Conditional. The port range end for the external endpoint. This property is used together with BackendAddressPool and FrontendPortRangeStart. Individual inbound NAT rule port mappings will be created for each backend address from BackendAddressPool. Required if FrontendPort is not specified.\n- frontendPortRangeStart (int): Conditional. The port range start for the external endpoint. This property is used together with BackendAddressPool and FrontendPortRangeEnd. Individual inbound NAT rule port mappings will be created for each backend address from BackendAddressPool. Required if FrontendPort is not specified.\n- idleTimeoutInMinutes (int): Optional. The timeout for the TCP idle connection. The value can be set between 4 and 30 minutes. The default value is 4 minutes. This element is only used when the protocol is set to TCP.\n- protocol (string): Optional. The transport protocol for the endpoint."}
{"id": "res_network_local-network-gateway", "source": "res\\network\\local-network-gateway\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Local Network Gateway' (Parent Chain: Network).\nResource Type Path: network\\local-network-gateway\nModule ID: br/public:res/network/local-network-gateway:0.4.0\nParameters:\n- name (string): Required. Name of the Local Network Gateway.\n- location (string): Optional. Location for all resources.\n- localGatewayPublicIpAddress (string): Required. Public IP of the local gateway.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- tags (object): Optional. Tags of the resource.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- fqdn (string): Optional. FQDN of local network gateway.\n- localNetworkAddressSpace (object): Required. Local network site address space configuration.\n- bgpSettings (N/A): Optional. Local network gateway's BGP speaker settings."}
{"id": "res_network_nat-gateway", "source": "res\\network\\nat-gateway\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Nat Gateway' (Parent Chain: Network).\nResource Type Path: network\\nat-gateway\nModule ID: br/public:res/network/nat-gateway:2.0.0\nParameters:\n- name (string): Required. Name of the Azure Bastion resource.\n- availabilityZone (int): Required. If set to 1, 2 or 3, the availability zone is hardcoded to that value. If set to -1, no zone is defined. Note that the availability zone number here are the logical availability zone in your Azure subscription. Different subscriptions might have a different mapping of the physical zone and logical zone. To understand more, please refer to [Physical and logical availability zones](https://learn.microsoft.com/en-us/azure/reliability/availability-zones-overview?tabs=azure-cli#physical-and-logical-availability-zones).\n- idleTimeoutInMinutes (int): Optional. The idle timeout of the NAT gateway.\n- publicIpResourceIds (array): Optional. Existing Public IP Address resource IDs to use for the NAT Gateway.\n- publicIPPrefixResourceIds (array): Optional. Existing Public IP Prefixes resource IDs to use for the NAT Gateway.\n- publicIPAddresses (array): Optional. Specifies the properties of the Public IPs to create and be used by the NAT Gateway.\n- publicIPPrefixes (array): Optional. Specifies the properties of the Public IP Prefixes to create and be used by the NAT Gateway.\n- location (string): Optional. Location for all resources.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- tags (object): Optional. Tags for the resource.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_network_network-interface", "source": "res\\network\\network-interface\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Network Interface' (Parent Chain: Network).\nResource Type Path: network\\network-interface\nModule ID: br/public:res/network/network-interface:0.5.0\nParameters:\n- name (string): Required. The name of the network interface.\n- location (string): Optional. Location for all resources.\n- tags (object): Optional. Resource tags.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- enableIPForwarding (bool): Optional. Indicates whether IP forwarding is enabled on this network interface.\n- enableAcceleratedNetworking (bool): Optional. If the network interface is accelerated networking enabled.\n- dnsServers (array): Optional. List of DNS servers IP addresses. Use 'AzureProvidedDNS' to switch to azure provided DNS resolution. 'AzureProvidedDNS' value cannot be combined with other IPs, it must be the only value in dnsServers collection.\n- networkSecurityGroupResourceId (string): Optional. The network security group (NSG) to attach to the network interface.\n- auxiliaryMode (string): Optional. Auxiliary mode of Network Interface resource. Not all regions are enabled for Auxiliary Mode Nic.\n- auxiliarySku (string): Optional. Auxiliary sku of Network Interface resource. Not all regions are enabled for Auxiliary Mode Nic.\n- disableTcpStateTracking (bool): Optional. Indicates whether to disable tcp state tracking. Subscription must be registered for the Microsoft.Network/AllowDisableTcpStateTracking feature before this property can be set to true.\n- ipConfigurations (array): Required. A list of IPConfigurations of the network interface.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- diagnosticSettings (array): Optional. The diagnostic settings of the service."}
{"id": "res_network_network-manager", "source": "res\\network\\network-manager\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Network Manager' (Parent Chain: Network).\nResource Type Path: network\\network-manager\nModule ID: br/public:res/network/network-manager:0.5.0\nParameters:\n- name (string): Required. Name of the Network Manager.\n- location (string): Optional. Location for all resources.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- tags (object): Optional. Tags of the resource.\n- description (string): Optional. A description of the Network Manager.\n- networkManagerScopeAccesses (array): Optional. Scope Access (Also known as features). String array containing any of \"Connectivity\", \"SecurityAdmin\", or \"Routing\". The connectivity feature allows you to create network topologies at scale. The security admin feature lets you create high-priority security rules, which take precedence over NSGs. The routing feature allows you to describe your desired routing behavior and orchestrate user-defined routes (UDRs) to create and maintain the desired routing behavior. If none of the features are required, then this parameter does not need to be specified, which then only enables features like \"IPAM\" and \"Virtual Network Verifier\".\n- networkManagerScopes (N/A): Required. Scope of Network Manager. Contains a list of management groups or a list of subscriptions. This defines the boundary of network resources that this Network Manager instance can manage. If using Management Groups, ensure that the \"Microsoft.Network\" resource provider is registered for those Management Groups prior to deployment. Must contain at least one management group or subscription.\n- networkGroups (array): Conditional. Network Groups and static members to create for the network manager. Required if using \"connectivityConfigurations\" or \"securityAdminConfigurations\" parameters. A network group is global container that includes a set of virtual network resources from any region. Then, configurations are applied to target the network group, which applies the configuration to all members of the group. The two types are group memberships are static and dynamic memberships. Static membership allows you to explicitly add virtual networks to a group by manually selecting individual virtual networks, and is available as a child module, while dynamic membership is defined through Azure policy. See [How Azure Policy works with Network Groups](https://learn.microsoft.com/en-us/azure/virtual-network-manager/concept-azure-policy-integration) for more details.\n- connectivityConfigurations (array): Optional. Connectivity Configurations to create for the network manager. Network manager must contain at least one network group in order to define connectivity configurations.\n- scopeConnections (array): Optional. Scope Connections to create for the network manager. Allows network manager to manage resources from another tenant. Supports management groups or subscriptions from another tenant.\n- securityAdminConfigurations (array): Optional. Security Admin Configurations requires enabling the \"SecurityAdmin\" feature on Network Manager. A security admin configuration contains a set of rule collections. Each rule collection contains one or more security admin rules. You then associate the rule collection with the network groups that you want to apply the security admin rules to.\n- routingConfigurations (array): Optional. Routing Configurations requires enabling the \"Routing\" feature on Network Manager. A routing configuration contains a set of rule collections. Each rule collection contains one or more routing rules.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_network_network-manager_connectivity-configuration", "source": "res\\network\\network-manager\\connectivity-configuration\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Connectivity Configuration' (Parent Chain: Network > Network Manager).\nResource Type Path: network\\network-manager\\connectivity-configuration\nModule ID: br/public:res/network/network-manager/connectivity-configuration:0.5.0\nParameters:\n- networkManagerName (string): Conditional. The name of the parent network manager. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the connectivity configuration.\n- description (string): Optional. A description of the connectivity configuration.\n- appliesToGroups (array): Required. Network Groups for the configuration. A connectivity configuration must be associated to at least one network group.\n- connectivityTopology (string): Required. Connectivity topology type.\n- hubs (array): Conditional. List of hub items. This will create peerings between the specified hub and the virtual networks in the network group specified. Required if connectivityTopology is of type \"HubAndSpoke\".\n- deleteExistingPeering (bool): Optional. Flag if need to remove current existing peerings. If set to \"True\", all peerings on virtual networks in selected network groups will be removed and replaced with the peerings defined by this configuration. Optional when connectivityTopology is of type \"HubAndSpoke\".\n- isGlobal (bool): Optional. Flag if global mesh is supported. By default, mesh connectivity is applied to virtual networks within the same region. If set to \"True\", a global mesh enables connectivity across regions."}
{"id": "res_network_network-manager_network-group", "source": "res\\network\\network-manager\\network-group\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Network Group' (Parent Chain: Network > Network Manager).\nResource Type Path: network\\network-manager\\network-group\nModule ID: br/public:res/network/network-manager/network-group:0.5.0\nParameters:\n- networkManagerName (string): Conditional. The name of the parent network manager. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the network group.\n- description (string): Optional. A description of the network group.\n- memberType (string): Optional. The type of the group member. Subnet member type is used for routing configurations.\n- staticMembers (array): Optional. Static Members to create for the network group. Contains virtual networks to add to the network group."}
{"id": "res_network_network-manager_network-group_static-member", "source": "res\\network\\network-manager\\network-group\\static-member\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Static Member' (Parent Chain: Network > Network Manager > Network Group).\nResource Type Path: network\\network-manager\\network-group\\static-member\nModule ID: br/public:res/network/network-manager/network-group/static-member:0.5.0\nParameters:\n- networkManagerName (string): Conditional. The name of the parent network manager. Required if the template is used in a standalone deployment.\n- networkGroupName (string): Conditional. The name of the parent network group. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the static member.\n- resourceId (string): Required. Resource ID of the virtual network."}
{"id": "res_network_network-manager_routing-configuration", "source": "res\\network\\network-manager\\routing-configuration\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Routing Configuration' (Parent Chain: Network > Network Manager).\nResource Type Path: network\\network-manager\\routing-configuration\nModule ID: br/public:res/network/network-manager/routing-configuration:0.5.0\nParameters:\n- networkManagerName (string): Conditional. The name of the parent network manager. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the routing configuration.\n- description (string): Optional. A description of the routing configuration.\n- ruleCollections (array): Optional. A routing configuration contains a set of rule collections that are applied to network groups. Each rule collection contains one or more routing rules."}
{"id": "res_network_network-manager_routing-configuration_rule-collection", "source": "res\\network\\network-manager\\routing-configuration\\rule-collection\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Rule Collection' (Parent Chain: Network > Network Manager > Routing Configuration).\nResource Type Path: network\\network-manager\\routing-configuration\\rule-collection\nModule ID: br/public:res/network/network-manager/routing-configuration/rule-collection:0.5.0\nParameters:\n- networkManagerName (string): Conditional. The name of the parent network manager. Required if the template is used in a standalone deployment.\n- routingConfigurationName (string): Conditional. The name of the parent Routing Configuration. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the routing rule collection.\n- description (string): Optional. A description of the routing rule collection.\n- appliesTo (array): Required. List of network groups for configuration. A routing rule collection must be associated to at least one network group.\n- disableBgpRoutePropagation (bool): Optional. Determines whether BGP route propagation is enabled for the routing rule collection. Defaults to true.\n- rules (array): Optional. List of rules for the routing rules collection. Warning: A rule collection without a rule will cause a deployment of routing configuration to fail in network manager."}
{"id": "res_network_network-manager_routing-configuration_rule-collection_rule", "source": "res\\network\\network-manager\\routing-configuration\\rule-collection\\rule\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Rule' (Parent Chain: Network > Network Manager > Routing Configuration > Rule Collection).\nResource Type Path: network\\network-manager\\routing-configuration\\rule-collection\\rule\nModule ID: br/public:res/network/network-manager/routing-configuration/rule-collection/rule:0.5.0\nParameters:\n- networkManagerName (string): Conditional. The name of the parent network manager. Required if the template is used in a standalone deployment.\n- routingConfigurationName (string): Conditional. The name of the parent Routing configuration. Required if the template is used in a standalone deployment.\n- ruleCollectionName (string): Conditional. The name of the parent rule collection. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the rule.\n- description (string): Optional. A description of the rule.\n- destination (N/A): Required. The destination can be IP addresses or Service Tag for this route. Address Prefixes are defined using the CIDR format, while Service tags are predefined identifiers that represent a category of IP addresses, which are managed by Azure.\n- nextHop (N/A): Required. The next hop handles the matching packets for this route. It can be the virtual network, the virtual network gateway, the internet, a virtual appliance, or none. Virtual network gateways cannot be used if the address prefix is IPv6. If the next hop type is VirtualAppliance, the next hop address must be specified."}
{"id": "res_network_network-manager_scope-connection", "source": "res\\network\\network-manager\\scope-connection\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Scope Connection' (Parent Chain: Network > Network Manager).\nResource Type Path: network\\network-manager\\scope-connection\nModule ID: br/public:res/network/network-manager/scope-connection:0.5.0\nParameters:\n- networkManagerName (string): Conditional. The name of the parent network manager. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the scope connection.\n- description (string): Optional. A description of the scope connection.\n- resourceId (string): Required. Enter the subscription or management group resource ID that you want to add to this network manager's scope.\n- tenantId (string): Required. Tenant ID of the subscription or management group that you want to manage."}
{"id": "res_network_network-manager_security-admin-configuration", "source": "res\\network\\network-manager\\security-admin-configuration\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Security Admin Configuration' (Parent Chain: Network > Network Manager).\nResource Type Path: network\\network-manager\\security-admin-configuration\nModule ID: br/public:res/network/network-manager/security-admin-configuration:0.5.0\nParameters:\n- networkManagerName (string): Conditional. The name of the parent network manager. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the security admin configuration.\n- description (string): Optional. A description of the security admin configuration.\n- applyOnNetworkIntentPolicyBasedServices (array): Required. Enum list of network intent policy based services.\n- networkGroupAddressSpaceAggregationOption (string): Optional. Determine update behavior for changes to network groups referenced within the rules in this configuration.\n- ruleCollections (array): Optional. A security admin configuration contains a set of rule collections that are applied to network groups. Each rule collection contains one or more security admin rules."}
{"id": "res_network_network-manager_security-admin-configuration_rule-collection", "source": "res\\network\\network-manager\\security-admin-configuration\\rule-collection\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Rule Collection' (Parent Chain: Network > Network Manager > Security Admin Configuration).\nResource Type Path: network\\network-manager\\security-admin-configuration\\rule-collection\nModule ID: br/public:res/network/network-manager/security-admin-configuration/rule-collection:0.5.0\nParameters:\n- networkManagerName (string): Conditional. The name of the parent network manager. Required if the template is used in a standalone deployment.\n- securityAdminConfigurationName (string): Conditional. The name of the parent security admin configuration. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the admin rule collection.\n- description (string): Optional. A description of the admin rule collection.\n- appliesToGroups (array): Required. List of network groups for configuration. An admin rule collection must be associated to at least one network group.\n- rules (array): Optional. List of rules for the admin rules collection. Security admin rules allows enforcing security policy criteria that matches the conditions set. Warning: A rule collection without rule will cause a deployment configuration for security admin goal state in network manager to fail."}
{"id": "res_network_network-manager_security-admin-configuration_rule-collection_rule", "source": "res\\network\\network-manager\\security-admin-configuration\\rule-collection\\rule\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Rule' (Parent Chain: Network > Network Manager > Security Admin Configuration > Rule Collection).\nResource Type Path: network\\network-manager\\security-admin-configuration\\rule-collection\\rule\nModule ID: br/public:res/network/network-manager/security-admin-configuration/rule-collection/rule:0.5.0\nParameters:\n- networkManagerName (string): Conditional. The name of the parent network manager. Required if the template is used in a standalone deployment.\n- securityAdminConfigurationName (string): Conditional. The name of the parent security admin configuration. Required if the template is used in a standalone deployment.\n- ruleCollectionName (string): Conditional. The name of the parent rule collection. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the rule.\n- description (string): Optional. A description of the rule.\n- access (string): Required. Indicates the access allowed for this particular rule. \"Allow\" means traffic matching this rule will be allowed. \"Deny\" means traffic matching this rule will be blocked. \"AlwaysAllow\" means that traffic matching this rule will be allowed regardless of other rules with lower priority or user-defined NSGs.\n- destinationPortRanges (array): Optional. List of destination port ranges. This specifies on which ports traffic will be allowed or denied by this rule. Provide an (*) to allow traffic on any port. Port ranges are between 1-65535.\n- destinations (array): Optional. The destnations filter can be an IP Address or a service tag. Each filter contains the properties AddressPrefixType (IPPrefix or ServiceTag) and AddressPrefix (using CIDR notation (e.g. 192.168.99.0/24 or 2001:1234::/64) or a service tag (e.g. AppService.WestEurope)). Combining CIDR and Service tags in one rule filter is not permitted.\n- direction (string): Required. Indicates if the traffic matched against the rule in inbound or outbound.\n- priority (int): Required. The priority of the rule. The value can be between 1 and 4096. The priority number must be unique for each rule in the collection. The lower the priority number, the higher the priority of the rule.\n- protocol (string): Required. Network protocol this rule applies to.\n- sourcePortRanges (array): Optional. List of destination port ranges. This specifies on which ports traffic will be allowed or denied by this rule. Provide an (*) to allow traffic on any port. Port ranges are between 1-65535.\n- sources (array): Optional. The source filter can be an IP Address or a service tag. Each filter contains the properties AddressPrefixType (IPPrefix or ServiceTag) and AddressPrefix (using CIDR notation (e.g. 192.168.99.0/24 or 2001:1234::/64) or a service tag (e.g. AppService.WestEurope)). Combining CIDR and Service tags in one rule filter is not permitted."}
{"id": "res_network_network-security-group", "source": "res\\network\\network-security-group\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Network Security Group' (Parent Chain: Network).\nResource Type Path: network\\network-security-group\nModule ID: br/public:res/network/network-security-group:0.5.0\nParameters:\n- name (string): Required. Name of the Network Security Group.\n- location (string): Optional. Location for all resources.\n- securityRules (array): Optional. Array of Security Rules to deploy to the Network Security Group. When not provided, an NSG including only the built-in roles will be deployed.\n- flushConnection (bool): Optional. When enabled, flows created from Network Security Group connections will be re-evaluated when rules are updates. Initial enablement will trigger re-evaluation. Network Security Group connection flushing is not available in all regions.\n- diagnosticSettings (array): Optional. The diagnostic settings of the service.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- tags (object): Optional. Tags of the NSG resource.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_network_network-security-perimeter", "source": "res\\network\\network-security-perimeter\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Network Security Perimeter' (Parent Chain: Network).\nResource Type Path: network\\network-security-perimeter\nModule ID: br/public:res/network/network-security-perimeter:0.1.0\nParameters:\n- name (string): Required. Name of the Network Security Perimeter.\n- location (string): Optional. Location for all resources.\n- profiles (array): Optional. Array of Security Rules to deploy to the Network Security Group. When not provided, an NSG including only the built-in roles will be deployed.\n- resourceAssociations (array): Optional. Array of resource associations to create.\n- diagnosticSettings (array): Optional. The diagnostic settings of the service.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- tags (object): Optional. Tags of the NSG resource.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_network_network-security-perimeter_profile", "source": "res\\network\\network-security-perimeter\\profile\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Profile' (Parent Chain: Network > Network Security Perimeter).\nResource Type Path: network\\network-security-perimeter\\profile\nModule ID: br/public:res/network/network-security-perimeter/profile:0.1.0\nParameters:\n- networkPerimeterName (string): Conditional. The name of the parent network perimeter. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the network security perimeter profile.\n- accessRules (array): Optional. Static Members to create for the network group. Contains virtual networks to add to the network group."}
{"id": "res_network_network-security-perimeter_profile_access-rule", "source": "res\\network\\network-security-perimeter\\profile\\access-rule\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Access Rule' (Parent Chain: Network > Network Security Perimeter > Profile).\nResource Type Path: network\\network-security-perimeter\\profile\\access-rule\nModule ID: br/public:res/network/network-security-perimeter/profile/access-rule:0.1.0\nParameters:\n- networkPerimeterName (string): Conditional. The name of the parent network perimeter. Required if the template is used in a standalone deployment.\n- networkPerimeterProfileName (string): Conditional. The name of the parent network perimeter Profile. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the access rule.\n- addressPrefixes (array): Optional. Inbound address prefixes (IPv4/IPv6).s.\n- direction (string): Required. The type for an access rule.\n- emailAddresses (array): Optional. Outbound rules email address format.\n- fullyQualifiedDomainNames (array): Optional. Outbound rules fully qualified domain name format.\n- phoneNumbers (array): Optional. Outbound rules phone number format.\n- serviceTags (array): Optional. Inbound rules service tag names.\n- subscriptions (array): Optional. List of subscription ids."}
{"id": "res_network_network-watcher", "source": "res\\network\\network-watcher\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Network Watcher' (Parent Chain: Network).\nResource Type Path: network\\network-watcher\nModule ID: br/public:res/network/network-watcher:0.5.0\nParameters:\n- name (string): Optional. Name of the Network Watcher resource (hidden).\n- location (string): Optional. Location for all resources.\n- connectionMonitors (array): Optional. Array that contains the Connection Monitors.\n- flowLogs (array): Optional. Array that contains the Flow Logs.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- tags (object): Optional. Tags of the resource.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_network_network-watcher_connection-monitor", "source": "res\\network\\network-watcher\\connection-monitor\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Connection Monitor' (Parent Chain: Network > Network Watcher).\nResource Type Path: network\\network-watcher\\connection-monitor\nModule ID: br/public:res/network/network-watcher/connection-monitor:0.5.0\nParameters:\n- networkWatcherName (string): Optional. Name of the network watcher resource. Must be in the resource group where the Flow log will be created and same region as the NSG.\n- name (string): Required. Name of the resource.\n- tags (object): Optional. Tags of the resource.\n- location (string): Optional. Location for all resources.\n- endpoints (array): Optional. List of connection monitor endpoints.\n- testConfigurations (array): Optional. List of connection monitor test configurations.\n- testGroups (array): Optional. List of connection monitor test groups.\n- workspaceResourceId (string): Optional. Specify the Log Analytics Workspace Resource ID.\n- autoStart (bool): Optional. Determines if the connection monitor will start automatically once created.\n- destination (object): Optional. Describes the destination of connection monitor.\n- monitoringIntervalInSeconds (int): Optional. Monitoring interval in seconds.\n- notes (string): Optional. Notes to be associated with the connection monitor.\n- source (object): Optional. Describes the source of connection monitor."}
{"id": "res_network_network-watcher_flow-log", "source": "res\\network\\network-watcher\\flow-log\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Flow Log' (Parent Chain: Network > Network Watcher).\nResource Type Path: network\\network-watcher\\flow-log\nModule ID: br/public:res/network/network-watcher/flow-log:0.5.0\nParameters:\n- networkWatcherName (string): Optional. Name of the network watcher resource. Must be in the resource group where the Flow log will be created and same region as the NSG.\n- name (string): Optional. Name of the resource.\n- tags (object): Optional. Tags of the resource.\n- location (string): Optional. Location for all resources.\n- targetResourceId (string): Required. Resource ID of the NSG that must be enabled for Flow Logs.\n- storageResourceId (string): Required. Resource ID of the diagnostic storage account.\n- enabled (bool): Optional. If the flow log should be enabled.\n- formatVersion (int): Optional. The flow log format version.\n- workspaceResourceId (string): Optional. Specify the Log Analytics Workspace Resource ID.\n- trafficAnalyticsInterval (int): Optional. The interval in minutes which would decide how frequently TA service should do flow analytics.\n- retentionInDays (int): Optional. Specifies the number of days that logs will be kept for; a value of 0 will retain data indefinitely.\n- enabledFilteringCriteria (string): Optional. Field to filter network traffic logs based on SrcIP, SrcPort, DstIP, DstPort, Protocol, Encryption, Direction and Action. If not specified, all network traffic will be logged."}
{"id": "res_network_p2s-vpn-gateway", "source": "res\\network\\p2s-vpn-gateway\\main.bicep", "content_to_embed": "Recommended AVM Module for 'P2s Vpn Gateway' (Parent Chain: Network).\nResource Type Path: network\\p2s-vpn-gateway\nModule ID: br/public:res/network/p2s-vpn-gateway:0.1.0\nParameters:\n- name (string): Required. The name of the P2S VPN Gateway.\n- location (string): Optional. Location where all resources will be created.\n- associatedRouteTableName (string): Conditional. The name of the associated route table. Required if deploying in a Secure Virtual Hub; cannot be a custom route table.\n- propagatedRouteTableNames (array): Optional. The names of the route tables to propagate to the P2S VPN Gateway.\n- customDnsServers (array): Optional. The custom DNS servers for the P2S VPN Gateway.\n- isRoutingPreferenceInternet (bool): Optional. The routing preference for the P2S VPN Gateway, Internet or Microsoft network.\n- p2SConnectionConfigurationsName (string): Optional. The name of the P2S Connection Configuration.\n- enableInternetSecurity (bool): Optional. Enable/Disable Internet Security; \"Propagate Default Route\".\n- inboundRouteMapResourceId (string): Optional. The Resource ID of the inbound route map.\n- outboundRouteMapResourceId (string): Optional. The Resource ID of the outbound route map.\n- propagatedLabelNames (array): Optional. The Labels to propagate routes to.\n- vnetRoutesStaticRoutes (N/A): Optional. The routes from the virtual hub to virtual network connections.\n- vpnClientAddressPoolAddressPrefixes (array): Optional. The address prefixes for the VPN Client Address Pool.\n- virtualHubResourceId (string): Required. The resource ID of the gateways virtual hub.\n- vpnGatewayScaleUnit (int): Optional. The scale unit of the VPN Gateway.\n- vpnServerConfigurationResourceId (string): Optional. The resource ID of the VPN Server Configuration.\n- tags (object): Optional. Tags of the resource.\n- lock (N/A): Optional. The lock settings of the service.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_network_private-dns-zone", "source": "res\\network\\private-dns-zone\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Private Dns Zone' (Parent Chain: Network).\nResource Type Path: network\\private-dns-zone\nModule ID: br/public:res/network/private-dns-zone:0.8.0\nParameters:\n- name (string): Required. Private DNS zone name.\n- a (array): Optional. Array of A records.\n- aaaa (array): Optional. Array of AAAA records.\n- cname (array): Optional. Array of CNAME records.\n- mx (array): Optional. Array of MX records.\n- ptr (array): Optional. Array of PTR records.\n- soa (array): Optional. Array of SOA records.\n- srv (array): Optional. Array of SRV records.\n- txt (array): Optional. Array of TXT records.\n- virtualNetworkLinks (array): Optional. Array of custom objects describing vNet links of the DNS zone. Each object should contain properties 'virtualNetworkResourceId' and 'registrationEnabled'. The 'vnetResourceId' is a resource ID of a vNet to link, 'registrationEnabled' (bool) enables automatic DNS registration in the zone for the linked vNet.\n- location (string): Optional. The location of the PrivateDNSZone. Should be global.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- tags (object): Optional. Tags of the resource.\n- lock (N/A): Optional. The lock settings of the service.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_network_private-dns-zone_a", "source": "res\\network\\private-dns-zone\\a\\main.bicep", "content_to_embed": "Recommended AVM Module for 'A' (Parent Chain: Network > Private Dns Zone).\nResource Type Path: network\\private-dns-zone\\a\nModule ID: br/public:res/network/private-dns-zone/a:0.1.0\nParameters:\n- privateDnsZoneName (string): Conditional. The name of the parent Private DNS zone. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the A record.\n- aRecords (array): Optional. The list of A records in the record set.\n- metadata (object): Optional. The metadata attached to the record set.\n- ttl (int): Optional. The TTL (time-to-live) of the records in the record set.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- roleAssignments (array): Optional. Array of role assignments to create."}
{"id": "res_network_private-dns-zone_aaaa", "source": "res\\network\\private-dns-zone\\aaaa\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Aaaa' (Parent Chain: Network > Private Dns Zone).\nResource Type Path: network\\private-dns-zone\\aaaa\nModule ID: br/public:res/network/private-dns-zone/aaaa:0.1.0\nParameters:\n- privateDnsZoneName (string): Conditional. The name of the parent Private DNS zone. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the AAAA record.\n- aaaaRecords (array): Optional. The list of AAAA records in the record set.\n- metadata (object): Optional. The metadata attached to the record set.\n- ttl (int): Optional. The TTL (time-to-live) of the records in the record set.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- roleAssignments (array): Optional. Array of role assignments to create."}
{"id": "res_network_private-dns-zone_cname", "source": "res\\network\\private-dns-zone\\cname\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Cname' (Parent Chain: Network > Private Dns Zone).\nResource Type Path: network\\private-dns-zone\\cname\nModule ID: br/public:res/network/private-dns-zone/cname:0.1.0\nParameters:\n- privateDnsZoneName (string): Conditional. The name of the parent Private DNS zone. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the CNAME record.\n- cnameRecord (object): Optional. A CNAME record.\n- metadata (object): Optional. The metadata attached to the record set.\n- ttl (int): Optional. The TTL (time-to-live) of the records in the record set.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- roleAssignments (array): Optional. Array of role assignments to create."}
{"id": "res_network_private-dns-zone_mx", "source": "res\\network\\private-dns-zone\\mx\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Mx' (Parent Chain: Network > Private Dns Zone).\nResource Type Path: network\\private-dns-zone\\mx\nModule ID: br/public:res/network/private-dns-zone/mx:0.1.0\nParameters:\n- privateDnsZoneName (string): Conditional. The name of the parent Private DNS zone. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the MX record.\n- metadata (object): Optional. The metadata attached to the record set.\n- mxRecords (array): Optional. The list of MX records in the record set.\n- ttl (int): Optional. The TTL (time-to-live) of the records in the record set.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- roleAssignments (array): Optional. Array of role assignments to create."}
{"id": "res_network_private-dns-zone_ptr", "source": "res\\network\\private-dns-zone\\ptr\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Ptr' (Parent Chain: Network > Private Dns Zone).\nResource Type Path: network\\private-dns-zone\\ptr\nModule ID: br/public:res/network/private-dns-zone/ptr:0.1.0\nParameters:\n- privateDnsZoneName (string): Conditional. The name of the parent Private DNS zone. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the PTR record.\n- metadata (object): Optional. The metadata attached to the record set.\n- ptrRecords (array): Optional. The list of PTR records in the record set.\n- ttl (int): Optional. The TTL (time-to-live) of the records in the record set.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- roleAssignments (array): Optional. Array of role assignments to create."}
{"id": "res_network_private-dns-zone_soa", "source": "res\\network\\private-dns-zone\\soa\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Soa' (Parent Chain: Network > Private Dns Zone).\nResource Type Path: network\\private-dns-zone\\soa\nModule ID: br/public:res/network/private-dns-zone/soa:0.1.0\nParameters:\n- privateDnsZoneName (string): Conditional. The name of the parent Private DNS zone. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the SOA record.\n- metadata (object): Optional. The metadata attached to the record set.\n- soaRecord (object): Optional. A SOA record.\n- ttl (int): Optional. The TTL (time-to-live) of the records in the record set.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- roleAssignments (array): Optional. Array of role assignments to create."}
{"id": "res_network_private-dns-zone_srv", "source": "res\\network\\private-dns-zone\\srv\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Srv' (Parent Chain: Network > Private Dns Zone).\nResource Type Path: network\\private-dns-zone\\srv\nModule ID: br/public:res/network/private-dns-zone/srv:0.1.0\nParameters:\n- privateDnsZoneName (string): Conditional. The name of the parent Private DNS zone. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the SRV record.\n- metadata (object): Optional. The metadata attached to the record set.\n- srvRecords (array): Optional. The list of SRV records in the record set.\n- ttl (int): Optional. The TTL (time-to-live) of the records in the record set.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- roleAssignments (array): Optional. Array of role assignments to create."}
{"id": "res_network_private-dns-zone_txt", "source": "res\\network\\private-dns-zone\\txt\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Txt' (Parent Chain: Network > Private Dns Zone).\nResource Type Path: network\\private-dns-zone\\txt\nModule ID: br/public:res/network/private-dns-zone/txt:0.1.0\nParameters:\n- privateDnsZoneName (string): Conditional. The name of the parent Private DNS zone. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the TXT record.\n- metadata (object): Optional. The metadata attached to the record set.\n- ttl (int): Optional. The TTL (time-to-live) of the records in the record set.\n- txtRecords (array): Optional. The list of TXT records in the record set.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- roleAssignments (array): Optional. Array of role assignments to create."}
{"id": "res_network_private-dns-zone_virtual-network-link", "source": "res\\network\\private-dns-zone\\virtual-network-link\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Virtual Network Link' (Parent Chain: Network > Private Dns Zone).\nResource Type Path: network\\private-dns-zone\\virtual-network-link\nModule ID: br/public:res/network/private-dns-zone/virtual-network-link:0.8.0\nParameters:\n- privateDnsZoneName (string): Conditional. The name of the parent Private DNS zone. Required if the template is used in a standalone deployment.\n- name (string): Optional. The name of the virtual network link.\n- location (string): Optional. The location of the PrivateDNSZone. Should be global.\n- tags (object): Optional. Tags of the resource.\n- registrationEnabled (bool): Optional. Is auto-registration of virtual machine records in the virtual network in the Private DNS zone enabled?.\n- virtualNetworkResourceId (string): Required. Link to another virtual network resource ID.\n- resolutionPolicy (string): Optional. The resolution policy on the virtual network link. Only applicable for virtual network links to privatelink zones, and for A,AAAA,CNAME queries. When set to `NxDomainRedirect`, Azure DNS resolver falls back to public resolution if private dns query resolution results in non-existent domain response. `Default` is configured as the default option."}
{"id": "res_network_private-endpoint", "source": "res\\network\\private-endpoint\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Private Endpoint' (Parent Chain: Network).\nResource Type Path: network\\private-endpoint\nModule ID: br/public:res/network/private-endpoint:0.11.0\nParameters:\n- name (string): Required. Name of the private endpoint resource to create.\n- subnetResourceId (string): Required. Resource ID of the subnet where the endpoint needs to be created.\n- applicationSecurityGroupResourceIds (array): Optional. Application security groups in which the private endpoint IP configuration is included.\n- customNetworkInterfaceName (string): Optional. The custom name of the network interface attached to the private endpoint.\n- ipConfigurations (array): Optional. A list of IP configurations of the private endpoint. This will be used to map to the First Party Service endpoints.\n- privateDnsZoneGroup (N/A): Optional. The private DNS zone group to configure for the private endpoint.\n- location (string): Optional. Location for all Resources.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- tags (object): Optional. Tags to be applied on all resources/resource groups in this deployment.\n- customDnsConfigs (array): Optional. Custom DNS configurations.\n- manualPrivateLinkServiceConnections (array): Conditional. A grouping of information about the connection to the remote resource. Used when the network admin does not have access to approve connections to the remote resource. Required if `privateLinkServiceConnections` is empty.\n- privateLinkServiceConnections (array): Conditional. A grouping of information about the connection to the remote resource. Required if `manualPrivateLinkServiceConnections` is empty.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_network_private-endpoint_private-dns-zone-group", "source": "res\\network\\private-endpoint\\private-dns-zone-group\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Private Dns Zone Group' (Parent Chain: Network > Private Endpoint).\nResource Type Path: network\\private-endpoint\\private-dns-zone-group\nModule ID: br/public:res/network/private-endpoint/private-dns-zone-group:0.11.0\nParameters:\n- privateEndpointName (string): Conditional. The name of the parent private endpoint. Required if the template is used in a standalone deployment.\n- privateDnsZoneConfigs (array): Required. Array of private DNS zone configurations of the private DNS zone group. A DNS zone group can support up to 5 DNS zones.\n- name (string): Optional. The name of the private DNS zone group."}
{"id": "res_network_private-link-service", "source": "res\\network\\private-link-service\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Private Link Service' (Parent Chain: Network).\nResource Type Path: network\\private-link-service\nModule ID: br/public:res/network/private-link-service:0.3.0\nParameters:\n- name (string): Required. The name of the private link service to create.\n- location (string): Optional. Location for all Resources.\n- lock (N/A): Optional. The lock settings of the service.\n- tags (object): Optional. Tags to be applied on all resources/resource groups in this deployment.\n- ipConfigurations (array): Required. An array of private link service IP configurations. At least one IP configuration is required on the private link service.\n- loadBalancerFrontendIpConfigurations (array): Required. An array of references to the load balancer IP configurations. The Private Link service is tied to the frontend IP address of a Standard Load Balancer. All traffic destined for the service will reach the frontend of the SLB. You can configure SLB rules to direct this traffic to appropriate backend pools where your applications are running. Load balancer frontend IP configurations are different than NAT IP configurations. At least one load balancer frontend IP configuration is required on the private link service.\n- extendedLocation (object): Optional. The extended location of the load balancer.\n- autoApproval (object): Optional. The auto-approval list of the private link service.\n- enableProxyProtocol (bool): Optional. Lets the service provider use tcp proxy v2 to retrieve connection information about the service consumer. Service Provider is responsible for setting up receiver configs to be able to parse the proxy protocol v2 header.\n- fqdns (array): Optional. The list of Fqdn.\n- visibility (object): Optional. Controls the exposure settings for your Private Link service. Service providers can choose to limit the exposure to their service to subscriptions with Azure role-based access control (Azure RBAC) permissions, a restricted set of subscriptions, or all Azure subscriptions.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_network_public-ip-address", "source": "res\\network\\public-ip-address\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Public Ip Address' (Parent Chain: Network).\nResource Type Path: network\\public-ip-address\nModule ID: br/public:res/network/public-ip-address:0.9.0\nParameters:\n- name (string): Required. The name of the Public IP Address.\n- publicIpPrefixResourceId (string): Optional. Resource ID of the Public IP Prefix object. This is only needed if you want your Public IPs created in a PIP Prefix.\n- publicIPAllocationMethod (string): Optional. The public IP address allocation method.\n- availabilityZones (array): Optional. A list of availability zones denoting the IP allocated for the resource needs to come from.\n- publicIPAddressVersion (string): Optional. IP address version.\n- dnsSettings (N/A): Optional. The DNS settings of the public IP address.\n- ipTags (array): Optional. The list of tags associated with the public IP address.\n- lock (N/A): Optional. The lock settings of the service.\n- skuName (string): Optional. Name of a public IP address SKU.\n- skuTier (string): Optional. Tier of a public IP address SKU.\n- ddosSettings (N/A): Optional. The DDoS protection plan configuration associated with the public IP address.\n- location (string): Optional. Location for all resources.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- idleTimeoutInMinutes (int): Optional. The idle timeout of the public IP address.\n- tags (object): Optional. Tags of the resource.\n- diagnosticSettings (array): Optional. The diagnostic settings of the service."}
{"id": "res_network_public-ip-prefix", "source": "res\\network\\public-ip-prefix\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Public Ip Prefix' (Parent Chain: Network).\nResource Type Path: network\\public-ip-prefix\nModule ID: br/public:res/network/public-ip-prefix:0.7.0\nParameters:\n- name (string): Required. The name of the Public IP Prefix.\n- tier (string): Optional. Tier of a public IP prefix SKU. If set to `Global`, the `zones` property must be empty.\n- location (string): Optional. Location for all resources.\n- prefixLength (int): Required. Length of the Public IP Prefix.\n- publicIPAddressVersion (string): Optional. The public IP address version.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- tags (object): Optional. Tags of the resource.\n- customIPPrefix (object): Optional. The custom IP address prefix that this prefix is associated with. A custom IP address prefix is a contiguous range of IP addresses owned by an external customer and provisioned into a subscription. When a custom IP prefix is in Provisioned, Commissioning, or Commissioned state, a linked public IP prefix can be created. Either as a subset of the custom IP prefix range or the entire range.\n- ipTags (array): Optional. The list of tags associated with the public IP prefix.\n- availabilityZones (array): Optional. A list of availability zones denoting the IP allocated for the resource needs to come from. This is only applicable for regional public IP prefixes and must be empty for global public IP prefixes.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_network_route-table", "source": "res\\network\\route-table\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Route Table' (Parent Chain: Network).\nResource Type Path: network\\route-table\nModule ID: br/public:res/network/route-table:0.5.0\nParameters:\n- name (string): Required. Name given for the hub route table.\n- location (string): Optional. Location for all resources.\n- routes (array): Optional. An array of routes to be established within the hub route table.\n- disableBgpRoutePropagation (bool): Optional. Switch to disable BGP route propagation.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- tags (object): Optional. Tags of the resource.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_network_service-endpoint-policy", "source": "res\\network\\service-endpoint-policy\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Service Endpoint Policy' (Parent Chain: Network).\nResource Type Path: network\\service-endpoint-policy\nModule ID: br/public:res/network/service-endpoint-policy:0.3.0\nParameters:\n- name (string): Required. Name of the Service Endpoint Policy to create.\n- location (string): Optional. Location for all Resources.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- serviceEndpointPolicyDefinitions (array): Optional. An Array of service endpoint policy definitions.\n- contextualServiceEndpointPolicies (array): Optional. An Array of contextual service endpoint policy.\n- serviceAlias (string): Optional. The alias indicating if the policy belongs to a service.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- tags (object): Optional. Tags of the resource."}
{"id": "res_network_trafficmanagerprofile", "source": "res\\network\\trafficmanagerprofile\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Trafficmanagerprofile' (Parent Chain: Network).\nResource Type Path: network\\trafficmanagerprofile\nModule ID: br/public:res/network/trafficmanagerprofile:0.3.0\nParameters:\n- name (string): Required. Name of the Traffic Manager.\n- profileStatus (string): Optional. The status of the Traffic Manager profile.\n- trafficRoutingMethod (string): Optional. The traffic routing method of the Traffic Manager profile.\n- relativeName (string): Optional. The relative DNS name provided by this Traffic Manager profile. This value is combined with the DNS domain name used by Azure Traffic Manager to form the fully-qualified domain name (FQDN) of the profile.\n- ttl (int): Optional. The DNS Time-To-Live (TTL), in seconds. This informs the local DNS resolvers and DNS clients how long to cache DNS responses provided by this Traffic Manager profile.\n- monitorConfig (object): Optional. The endpoint monitoring settings of the Traffic Manager profile.\n- endpoints (array): Optional. The list of endpoints in the Traffic Manager profile.\n- trafficViewEnrollmentStatus (string): Optional. Indicates whether Traffic View is 'Enabled' or 'Disabled' for the Traffic Manager profile. Null, indicates 'Disabled'. Enabling this feature will increase the cost of the Traffic Manage profile.\n- maxReturn (int): Optional. Maximum number of endpoints to be returned for MultiValue routing type.\n- diagnosticSettings (array): Optional. The diagnostic settings of the service.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- tags (object): Optional. Resource tags.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- location (string): Optional. Location for all resources.\n- allowedEndpointRecordTypes (array): Optional. The list of allowed endpoint record types."}
{"id": "res_network_virtual-hub", "source": "res\\network\\virtual-hub\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Virtual Hub' (Parent Chain: Network).\nResource Type Path: network\\virtual-hub\nModule ID: br/public:res/network/virtual-hub:0.4.0\nParameters:\n- name (string): Required. The virtual hub name.\n- location (string): Optional. Location for all resources.\n- tags (object): Optional. Tags of the resource.\n- addressPrefix (string): Required. Address-prefix for this VirtualHub.\n- allowBranchToBranchTraffic (bool): Optional. Flag to control transit for VirtualRouter hub.\n- azureFirewallResourceId (string): Optional. Resource ID of the Azure Firewall to link to.\n- expressRouteGatewayResourceId (string): Optional. Resource ID of the Express Route Gateway to link to.\n- p2SVpnGatewayResourceId (string): Optional. Resource ID of the Point-to-Site VPN Gateway to link to.\n- hubRoutingPreference (string): Optional. The preferred routing preference for this virtual hub.\n- preferredRoutingGateway (string): Optional. The preferred routing gateway types.\n- routeTableRoutes (array): Optional. VirtualHub route tables.\n- securityPartnerProviderResourceId (string): Optional. ID of the Security Partner Provider to link to.\n- securityProviderName (string): Optional. The Security Provider name.\n- sku (string): Optional. The sku of this VirtualHub.\n- virtualHubRouteTableV2s (array): Optional. List of all virtual hub route table v2s associated with this VirtualHub.\n- virtualRouterAsn (int): Optional. VirtualRouter ASN.\n- virtualRouterIps (array): Optional. VirtualRouter IPs.\n- virtualRouterAutoScaleConfiguration (object): Optional. The auto scale configuration for the virtual router.\n- virtualWanResourceId (string): Required. Resource ID of the virtual WAN to link to.\n- vpnGatewayResourceId (string): Optional. Resource ID of the VPN Gateway to link to.\n- routingIntent (N/A): Optional. The routing intent configuration to create for the virtual hub.\n- hubRouteTables (array): Optional. Route tables to create for the virtual hub.\n- hubVirtualNetworkConnections (array): Optional. Virtual network connections to create for the virtual hub.\n- lock (N/A): Optional. The lock settings of the service.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_network_virtual-hub_hub-route-table", "source": "res\\network\\virtual-hub\\hub-route-table\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Hub Route Table' (Parent Chain: Network > Virtual Hub).\nResource Type Path: network\\virtual-hub\\hub-route-table\nModule ID: br/public:res/network/virtual-hub/hub-route-table:0.4.0\nParameters:\n- name (string): Required. The route table name.\n- virtualHubName (string): Conditional. The name of the parent virtual hub. Required if the template is used in a standalone deployment.\n- labels (array): Optional. List of labels associated with this route table.\n- routes (array): Optional. List of all routes."}
{"id": "res_network_virtual-hub_hub-virtual-network-connection", "source": "res\\network\\virtual-hub\\hub-virtual-network-connection\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Hub Virtual Network Connection' (Parent Chain: Network > Virtual Hub).\nResource Type Path: network\\virtual-hub\\hub-virtual-network-connection\nModule ID: br/public:res/network/virtual-hub/hub-virtual-network-connection:0.4.0\nParameters:\n- name (string): Required. The connection name.\n- virtualHubName (string): Conditional. The name of the parent virtual hub. Required if the template is used in a standalone deployment.\n- enableInternetSecurity (bool): Optional. Enable internet security.\n- remoteVirtualNetworkResourceId (string): Required. Resource ID of the virtual network to link to.\n- routingConfiguration (object): Optional. Routing Configuration indicating the associated and propagated route tables for this connection."}
{"id": "res_network_virtual-hub_routing-intent", "source": "res\\network\\virtual-hub\\routing-intent\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Routing Intent' (Parent Chain: Network > Virtual Hub).\nResource Type Path: network\\virtual-hub\\routing-intent\nModule ID: br/public:res/network/virtual-hub/routing-intent:0.4.0\nParameters:\n- azureFirewallResourceId (string): Required. Hub firewall Resource ID.\n- name (string): Optional. The name of the routing intent configuration.\n- virtualHubName (string): Required. Name of the Virtual Hub.\n- privateToFirewall (bool): Optional. Configures Routing Intent to forward Private traffic to the firewall (RFC1918).\n- internetToFirewall (bool): Optional. Configures Routing Intent to Forward Internet traffic to the firewall (0.0.0.0/0)."}
{"id": "res_network_virtual-network", "source": "res\\network\\virtual-network\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Virtual Network' (Parent Chain: Network).\nResource Type Path: network\\virtual-network\nModule ID: br/public:res/network/virtual-network:0.7.0\nParameters:\n- name (string): Required. The name of the Virtual Network (vNet).\n- location (string): Optional. Location for all resources.\n- addressPrefixes (array): Required. An Array of 1 or more IP Address Prefixes OR the resource ID of the IPAM pool to be used for the Virtual Network. When specifying an IPAM pool resource ID you must also set a value for the parameter called `ipamPoolNumberOfIpAddresses`.\n- ipamPoolNumberOfIpAddresses (string): Optional. Number of IP addresses allocated from the pool. To be used only when the addressPrefix param is defined with a resource ID of an IPAM pool.\n- virtualNetworkBgpCommunity (string): Optional. The BGP community associated with the virtual network.\n- subnets (array): Optional. An Array of subnets to deploy to the Virtual Network.\n- dnsServers (array): Optional. DNS Servers associated to the Virtual Network.\n- ddosProtectionPlanResourceId (string): Optional. Resource ID of the DDoS protection plan to assign the VNET to. If it's left blank, DDoS protection will not be configured. If it's provided, the VNET created by this template will be attached to the referenced DDoS protection plan. The DDoS protection plan can exist in the same or in a different subscription.\n- peerings (array): Optional. Virtual Network Peering configurations.\n- vnetEncryption (bool): Optional. Indicates if encryption is enabled on virtual network and if VM without encryption is allowed in encrypted VNet. Requires the EnableVNetEncryption feature to be registered for the subscription and a supported region to use this property.\n- vnetEncryptionEnforcement (string): Optional. If the encrypted VNet allows VM that does not support encryption. Can only be used when vnetEncryption is enabled.\n- flowTimeoutInMinutes (int): Optional. The flow timeout in minutes for the Virtual Network, which is used to enable connection tracking for intra-VM flows. Possible values are between 4 and 30 minutes. Default value 0 will set the property to null.\n- diagnosticSettings (array): Optional. The diagnostic settings of the service.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- tags (object): Optional. Tags of the resource.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- enableVmProtection (bool): Optional. Indicates if VM protection is enabled for all the subnets in the virtual network."}
{"id": "res_network_virtual-network_subnet", "source": "res\\network\\virtual-network\\subnet\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Subnet' (Parent Chain: Network > Virtual Network).\nResource Type Path: network\\virtual-network\\subnet\nModule ID: br/public:res/network/virtual-network/subnet:0.1.0\nParameters:\n- name (string): Required. The Name of the subnet resource.\n- virtualNetworkName (string): Conditional. The name of the parent virtual network. Required if the template is used in a standalone deployment.\n- addressPrefix (string): Conditional. The address prefix for the subnet. Required if `addressPrefixes` is empty.\n- ipamPoolPrefixAllocations (array): Conditional. The address space for the subnet, deployed from IPAM Pool. Required if `addressPrefixes` and `addressPrefix` is empty.\n- networkSecurityGroupResourceId (string): Optional. The resource ID of the network security group to assign to the subnet.\n- routeTableResourceId (string): Optional. The resource ID of the route table to assign to the subnet.\n- serviceEndpoints (array): Optional. The service endpoints to enable on the subnet.\n- delegation (string): Optional. The delegation to enable on the subnet.\n- natGatewayResourceId (string): Optional. The resource ID of the NAT Gateway to use for the subnet.\n- privateEndpointNetworkPolicies (string): Optional. Enable or disable apply network policies on private endpoint in the subnet.\n- privateLinkServiceNetworkPolicies (string): Optional. Enable or disable apply network policies on private link service in the subnet.\n- addressPrefixes (array): Conditional. List of address prefixes for the subnet. Required if `addressPrefix` is empty.\n- defaultOutboundAccess (bool): Optional. Set this property to false to disable default outbound connectivity for all VMs in the subnet. This property can only be set at the time of subnet creation and cannot be updated for an existing subnet.\n- sharingScope (string): Optional. Set this property to Tenant to allow sharing the subnet with other subscriptions in your AAD tenant. This property can only be set if defaultOutboundAccess is set to false, both properties can only be set if the subnet is empty.\n- applicationGatewayIPConfigurations (array): Optional. Application gateway IP configurations of virtual network resource.\n- serviceEndpointPolicies (array): Optional. An array of service endpoint policies.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_network_virtual-network_virtual-network-peering", "source": "res\\network\\virtual-network\\virtual-network-peering\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Virtual Network Peering' (Parent Chain: Network > Virtual Network).\nResource Type Path: network\\virtual-network\\virtual-network-peering\nModule ID: br/public:res/network/virtual-network/virtual-network-peering:0.7.0\nParameters:\n- name (string): Optional. The Name of VNET Peering resource. If not provided, default value will be localVnetName-remoteVnetName.\n- localVnetName (string): Conditional. The name of the parent Virtual Network to add the peering to. Required if the template is used in a standalone deployment.\n- remoteVirtualNetworkResourceId (string): Required. The Resource ID of the VNet that is this Local VNet is being peered to. Should be in the format of a Resource ID.\n- allowForwardedTraffic (bool): Optional. Whether the forwarded traffic from the VMs in the local virtual network will be allowed/disallowed in remote virtual network. Default is true.\n- allowGatewayTransit (bool): Optional. If gateway links can be used in remote virtual networking to link to this virtual network. Default is false.\n- allowVirtualNetworkAccess (bool): Optional. Whether the VMs in the local virtual network space would be able to access the VMs in remote virtual network space. Default is true.\n- doNotVerifyRemoteGateways (bool): Optional. If we need to verify the provisioning state of the remote gateway. Default is true.\n- useRemoteGateways (bool): Optional. If remote gateways can be used on this virtual network. If the flag is set to true, and allowGatewayTransit on remote peering is also true, virtual network will use gateways of remote virtual network for transit. Only one peering can have this flag set to true. This flag cannot be set if virtual network already has a gateway. Default is false."}
{"id": "res_network_virtual-network-gateway", "source": "res\\network\\virtual-network-gateway\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Virtual Network Gateway' (Parent Chain: Network).\nResource Type Path: network\\virtual-network-gateway\nModule ID: br/public:res/network/virtual-network-gateway:0.10.0\nParameters:\n- name (string): Required. Specifies the Virtual Network Gateway name.\n- location (string): Optional. Location for all resources.\n- existingPrimaryPublicIPResourceId (string): Optional. The Public IP resource ID to associate to the Virtual Network Gateway. If empty, then a new Public IP will be created and applied to the Virtual Network Gateway.\n- primaryPublicIPName (string): Optional. Specifies the name of the Public IP to be created for the Virtual Network Gateway. This will only take effect if no existing Public IP is provided. If neither an existing Public IP nor this parameter is specified, a new Public IP will be created with a default name, using the gateway's name with the '-pip1' suffix.\n- publicIPPrefixResourceId (string): Optional. Resource ID of the Public IP Prefix object. This is only needed if you want your Public IPs created in a PIP Prefix.\n- publicIpAvailabilityZones (array): Optional. Specifies the zones of the Public IP address. Basic IP SKU does not support Availability Zones.\n- domainNameLabel (array): Optional. DNS name(s) of the Public IP resource(s). If you enabled Active-Active mode, you need to provide 2 DNS names, if you want to use this feature. A region specific suffix will be appended to it, e.g.: your-DNS-name.westeurope.cloudapp.azure.com.\n- gatewayType (string): Required. Specifies the gateway type. E.g. VPN, ExpressRoute.\n- vpnGatewayGeneration (string): Optional. The generation for this VirtualNetworkGateway. Must be None if virtualNetworkGatewayType is not VPN.\n- skuName (string): Optional. The SKU of the Gateway.\n- vpnType (string): Optional. Specifies the VPN type.\n- virtualNetworkResourceId (string): Required. Virtual Network resource ID.\n- clusterSettings (N/A): Required. Specifies one of the following four configurations: Active-Active with (clusterMode = activeActiveBgp) or without (clusterMode = activeActiveNoBgp) BGP, Active-Passive with (clusterMode = activePassiveBgp) or without (clusterMode = activePassiveNoBgp) BGP.\n- vpnClientAddressPoolPrefix (string): Optional. The IP address range from which VPN clients will receive an IP address when connected. Range specified must not overlap with on-premise network.\n- allowVirtualWanTraffic (bool): Optional. Configures this gateway to accept traffic from remote Virtual WAN networks.\n- allowRemoteVnetTraffic (bool): Optional. Configure this gateway to accept traffic from other Azure Virtual Networks. This configuration does not support connectivity to Azure Virtual WAN.\n- disableIPSecReplayProtection (bool): Optional. disableIPSecReplayProtection flag. Used for VPN Gateways.\n- enableDnsForwarding (bool): Optional. Whether DNS forwarding is enabled or not and is only supported for Express Route Gateways. The DNS forwarding feature flag must be enabled on the current subscription.\n- enablePrivateIpAddress (bool): Optional. Whether private IP needs to be enabled on this gateway for connections or not. Used for configuring a Site-to-Site VPN connection over ExpressRoute private peering.\n- gatewayDefaultSiteLocalNetworkGatewayResourceId (string): Optional. The reference to the LocalNetworkGateway resource which represents local network site having default routes. Assign Null value in case of removing existing default site setting.\n- natRules (array): Optional. NatRules for virtual network gateway. NAT is supported on the the following SKUs: VpnGw2~5, VpnGw2AZ~5AZ and is supported for IPsec/IKE cross-premises connections only.\n- enableBgpRouteTranslationForNat (bool): Optional. EnableBgpRouteTranslationForNat flag. Can only be used when \"natRules\" are enabled on the Virtual Network Gateway.\n- clientRootCertData (string): Optional. Client root certificate data used to authenticate VPN clients. Cannot be configured if vpnClientAadConfiguration is provided.\n- clientRevokedCertThumbprint (string): Optional. Thumbprint of the revoked certificate. This would revoke VPN client certificates matching this thumbprint from connecting to the VNet.\n- publicIpDiagnosticSettings (array): Optional. The diagnostic settings of the Public IP.\n- diagnosticSettings (array): Optional. The diagnostic settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- lock (N/A): Optional. The lock settings of the service.\n- tags (object): Optional. Tags of the resource.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- vpnClientAadConfiguration (N/A): Optional. Configuration for AAD Authentication for P2S Tunnel Type, Cannot be configured if clientRootCertData is provided.\n- managedIdentity (N/A): Optional. The managed identity definition for this resource. Supports system-assigned and user-assigned identities.\n- adminState (string): Optional. Property to indicate if the Express Route Gateway serves traffic when there are multiple Express Route Gateways in the vnet. Only applicable for ExpressRoute gateways.\n- resiliencyModel (string): Optional. Property to indicate if the Express Route Gateway has resiliency model of MultiHomed or SingleHomed. Only applicable for ExpressRoute gateways.\n- autoScaleConfiguration (N/A): Optional. Autoscale configuration for virtual network gateway. Only applicable for certain SKUs.\n- customRoutes (N/A): Optional. The reference to the address space resource which represents the custom routes address space specified by the customer for virtual network gateway and VpnClient. This is used to specify custom routes for Point-to-Site VPN clients.\n- maintenanceConfiguration (N/A): Optional. The maintenance configuration to assign to the Virtual Network Gateway."}
{"id": "res_network_virtual-network-gateway_nat-rule", "source": "res\\network\\virtual-network-gateway\\nat-rule\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Nat Rule' (Parent Chain: Network > Virtual Network Gateway).\nResource Type Path: network\\virtual-network-gateway\\nat-rule\nModule ID: br/public:res/network/virtual-network-gateway/nat-rule:0.10.0\nParameters:\n- name (string): Required. The name of the NAT rule.\n- virtualNetworkGatewayName (string): Conditional. The name of the parent Virtual Network Gateway this NAT rule is associated with. Required if the template is used in a standalone deployment.\n- externalMappings (array): Optional. An address prefix range of destination IPs on the outside network that source IPs will be mapped to. In other words, your post-NAT address prefix range.\n- internalMappings (array): Optional. An address prefix range of source IPs on the inside network that will be mapped to a set of external IPs. In other words, your pre-NAT address prefix range.\n- ipConfigurationResourceId (string): Optional. A NAT rule must be configured to a specific Virtual Network Gateway instance. This is applicable to Dynamic NAT only. Static NAT rules are automatically applied to both Virtual Network Gateway instances.\n- mode (string): Optional. The type of NAT rule for Virtual Network NAT. IngressSnat mode (also known as Ingress Source NAT) is applicable to traffic entering the Azure hub's site-to-site Virtual Network gateway. EgressSnat mode (also known as Egress Source NAT) is applicable to traffic leaving the Azure hub's Site-to-site Virtual Network gateway.\n- type (string): Optional. The type of NAT rule for Virtual Network NAT. Static one-to-one NAT establishes a one-to-one relationship between an internal address and an external address while Dynamic NAT assigns an IP and port based on availability."}
{"id": "res_network_virtual-wan", "source": "res\\network\\virtual-wan\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Virtual Wan' (Parent Chain: Network).\nResource Type Path: network\\virtual-wan\nModule ID: br/public:res/network/virtual-wan:0.4.0\nParameters:\n- location (string): Optional. Location where all resources will be created.\n- name (string): Required. Name of the Virtual WAN.\n- type (string): Optional. The type of the Virtual WAN.\n- allowBranchToBranchTraffic (bool): Optional. True if branch to branch traffic is allowed.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- tags (object): Optional. Tags of the resource.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- lock (N/A): Optional. The lock settings of the service."}
{"id": "res_network_vpn-gateway", "source": "res\\network\\vpn-gateway\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Vpn Gateway' (Parent Chain: Network).\nResource Type Path: network\\vpn-gateway\nModule ID: br/public:res/network/vpn-gateway:0.2.0\nParameters:\n- name (string): Required. Name of the VPN gateway.\n- location (string): Optional. Location where all resources will be created.\n- vpnConnections (array): Optional. The VPN connections to create in the VPN gateway.\n- natRules (array): Optional. List of all the NAT Rules to associate with the gateway.\n- virtualHubResourceId (string): Required. The resource ID of a virtual Hub to connect to. Note: The virtual Hub and Gateway must be deployed into the same location.\n- bgpSettings (N/A): Optional. BGP settings details. You can specify either bgpPeeringAddress (for custom IPs outside APIPA ranges) OR bgpPeeringAddresses (for APIPA ranges 169.254.21.*/169.254.22.*), but not both simultaneously.\n- enableBgpRouteTranslationForNat (bool): Optional. Enable BGP routes translation for NAT on this VPN gateway.\n- isRoutingPreferenceInternet (bool): Optional. Enable routing preference property for the public IP interface of the VPN gateway.\n- vpnGatewayScaleUnit (int): Optional. The scale unit for this VPN gateway.\n- tags (object): Optional. Tags of the resource.\n- lock (N/A): Optional. The lock settings of the service.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_network_vpn-gateway_nat-rule", "source": "res\\network\\vpn-gateway\\nat-rule\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Nat Rule' (Parent Chain: Network > Vpn Gateway).\nResource Type Path: network\\vpn-gateway\\nat-rule\nModule ID: br/public:res/network/vpn-gateway/nat-rule:0.2.0\nParameters:\n- name (string): Required. The name of the NAT rule.\n- vpnGatewayName (string): Conditional. The name of the parent VPN gateway this NAT rule is associated with. Required if the template is used in a standalone deployment.\n- externalMappings (array): Optional. An address prefix range of destination IPs on the outside network that source IPs will be mapped to. In other words, your post-NAT address prefix range.\n- internalMappings (array): Optional. An address prefix range of source IPs on the inside network that will be mapped to a set of external IPs. In other words, your pre-NAT address prefix range.\n- ipConfigurationId (string): Optional. A NAT rule must be configured to a specific VPN Gateway instance. This is applicable to Dynamic NAT only. Static NAT rules are automatically applied to both VPN Gateway instances.\n- mode (string): Optional. The type of NAT rule for VPN NAT. IngressSnat mode (also known as Ingress Source NAT) is applicable to traffic entering the Azure hub's site-to-site VPN gateway. EgressSnat mode (also known as Egress Source NAT) is applicable to traffic leaving the Azure hub's Site-to-site VPN gateway.\n- type (string): Optional. The type of NAT rule for VPN NAT. Static one-to-one NAT establishes a one-to-one relationship between an internal address and an external address while Dynamic NAT assigns an IP and port based on availability."}
{"id": "res_network_vpn-gateway_vpn-connection", "source": "res\\network\\vpn-gateway\\vpn-connection\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Vpn Connection' (Parent Chain: Network > Vpn Gateway).\nResource Type Path: network\\vpn-gateway\\vpn-connection\nModule ID: br/public:res/network/vpn-gateway/vpn-connection:0.2.0\nParameters:\n- name (string): Required. The name of the VPN connection.\n- vpnGatewayName (string): Conditional. The name of the parent VPN gateway this VPN connection is associated with. Required if the template is used in a standalone deployment.\n- ipsecPolicies (array): Optional. The IPSec policies to be considered by this connection.\n- trafficSelectorPolicies (array): Optional. The traffic selector policies to be considered by this connection.\n- vpnLinkConnections (array): Optional. List of all VPN site link connections to the gateway.\n- routingConfiguration (N/A): Optional. Routing configuration indicating the associated and propagated route tables for this connection.\n- usePolicyBasedTrafficSelectors (bool): Optional. Enable policy-based traffic selectors.\n- useLocalAzureIpAddress (bool): Optional. Use local Azure IP to initiate connection.\n- enableRateLimiting (bool): Optional. Enable rate limiting.\n- enableInternetSecurity (bool): Optional. Enable internet security.\n- enableBgp (bool): Optional. Enable BGP flag.\n- routingWeight (int): Optional. Routing weight for VPN connection.\n- connectionBandwidth (int): Optional. Expected bandwidth in MBPS. This parameter is deprecated and should be avoided in favor of VpnSiteLinkConnection configuration.\n- vpnConnectionProtocolType (string): Optional. Gateway connection protocol.\n- sharedKey (securestring): Optional. SharedKey for the VPN connection.\n- remoteVpnSiteResourceId (string): Optional. Reference to a VPN site to link to."}
{"id": "res_network_vpn-server-configuration", "source": "res\\network\\vpn-server-configuration\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Vpn Server Configuration' (Parent Chain: Network).\nResource Type Path: network\\vpn-server-configuration\nModule ID: br/public:res/network/vpn-server-configuration:0.1.0\nParameters:\n- name (string): Required. The name of the user VPN configuration.\n- location (string): Optional. Location where all resources will be created.\n- aadAudience (string): Conditional. The audience for the AAD/Entra authentication. Required if configuring Entra ID authentication.\n- aadIssuer (string): Conditional. The issuer for the AAD/Entra authentication. Required if configuring Entra ID authentication.\n- aadTenant (string): Conditional. The audience for the AAD/Entra authentication. Required if configuring Entra ID authentication.\n- p2sConfigurationPolicyGroups (array): Optional. The P2S configuration policy groups for the configuration.\n- radiusClientRootCertificates (array): Optional. The revoked RADIUS client certificates for the configuration.\n- radiusServerAddress (string): Conditional. The address of the RADIUS server. Required if configuring a single RADIUS.\n- radiusServerRootCertificates (array): Optional. The root certificates of the RADIUS server.\n- radiusServers (array): Optional. The list of RADIUS servers. Required if configuring multiple RADIUS servers.\n- radiusServerSecret (securestring): Conditional. The RADIUS server secret. Required if configuring a single RADIUS server.\n- vpnAuthenticationTypes (array): Optional. The authentication types for the VPN configuration.\n- vpnClientIpsecPolicies (array): Optional. The IPsec policies for the configuration.\n- vpnClientRevokedCertificates (array): Optional. The revoked VPN Client certificate thumbprints for the configuration.\n- vpnClientRootCertificates (array): Conditional. The VPN Client root certificate public keys for the configuration. Required if using certificate authentication.\n- vpnProtocols (array): Optional. The allowed VPN protocols for the configuration.\n- tags (object): Optional. Tags of the resource.\n- lock (N/A): Optional. The lock settings of the service.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_network_vpn-site", "source": "res\\network\\vpn-site\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Vpn Site' (Parent Chain: Network).\nResource Type Path: network\\vpn-site\nModule ID: br/public:res/network/vpn-site:0.4.0\nParameters:\n- name (string): Required. Name of the VPN Site.\n- virtualWanResourceId (string): Required. Resource ID of the virtual WAN to link to.\n- location (string): Optional. Location where all resources will be created.\n- tags (object): Optional. Tags of the resource.\n- addressPrefixes (array): Conditional. An array of IP address ranges that can be used by subnets of the virtual network. Required if no bgpProperties or VPNSiteLinks are configured.\n- bgpProperties (object): Conditional. BGP settings details. Note: This is a deprecated property, please use the corresponding VpnSiteLinks property instead. Required if no addressPrefixes or VPNSiteLinks are configured.\n- deviceProperties (object): Optional. List of properties of the device.\n- ipAddress (string): Optional. The IP-address for the VPN-site. Note: This is a deprecated property, please use the corresponding VpnSiteLinks property instead.\n- isSecuritySite (bool): Optional. IsSecuritySite flag.\n- o365Policy (object): Optional. The Office365 breakout policy.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- vpnSiteLinks (array): Optional. List of all VPN site links.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create."}
{"id": "res_operational-insights_workspace", "source": "res\\operational-insights\\workspace\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Workspace' (Parent Chain: Operational Insights).\nResource Type Path: operational-insights\\workspace\nModule ID: br/public:res/operational-insights/workspace:0.12.0\nParameters:\n- name (string): Required. Name of the Log Analytics workspace.\n- location (string): Optional. Location for all resources.\n- skuName (string): Optional. The name of the SKU.\n- skuCapacityReservationLevel (int): Optional. The capacity reservation level in GB for this workspace, when CapacityReservation sku is selected. Must be in increments of 100 between 100 and 5000.\n- storageInsightsConfigs (array): Optional. List of storage accounts to be read by the workspace.\n- linkedServices (array): Optional. List of services to be linked.\n- linkedStorageAccounts (array): Conditional. List of Storage Accounts to be linked. Required if 'forceCmkForQuery' is set to 'true' and 'savedSearches' is not empty.\n- savedSearches (array): Optional. Kusto Query Language searches to save.\n- dataExports (array): Optional. LAW data export instances to be deployed.\n- dataSources (array): Optional. LAW data sources to configure.\n- tables (array): Optional. LAW custom tables to be deployed.\n- gallerySolutions (array): Optional. List of gallerySolutions to be created in the log analytics workspace.\n- onboardWorkspaceToSentinel (bool): Optional. Onboard the Log Analytics Workspace to Sentinel. Requires 'SecurityInsights' solution to be in gallerySolutions.\n- dataRetention (int): Optional. Number of days data will be retained for.\n- dailyQuotaGb (int): Optional. The workspace daily quota for ingestion.\n- publicNetworkAccessForIngestion (string): Optional. The network access type for accessing Log Analytics ingestion.\n- publicNetworkAccessForQuery (string): Optional. The network access type for accessing Log Analytics query.\n- managedIdentities (N/A): Optional. The managed identity definition for this resource. Only one type of identity is supported: system-assigned or user-assigned, but not both.\n- features (N/A): Optional. The workspace features.\n- replication (N/A): Optional. The workspace replication properties.\n- diagnosticSettings (array): Optional. The diagnostic settings of the service.\n- forceCmkForQuery (bool): Optional. Indicates whether customer managed storage is mandatory for query management.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- tags (object): Optional. Tags of the resource.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_operational-insights_workspace_data-export", "source": "res\\operational-insights\\workspace\\data-export\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Data Export' (Parent Chain: Operational Insights > Workspace).\nResource Type Path: operational-insights\\workspace\\data-export\nModule ID: br/public:res/operational-insights/workspace/data-export:0.12.0\nParameters:\n- name (string): Required. The data export rule name.\n- workspaceName (string): Conditional. The name of the parent workspaces. Required if the template is used in a standalone deployment.\n- destination (N/A): Optional. Destination properties.\n- enable (bool): Optional. Active when enabled.\n- tableNames (array): Required. An array of tables to export, for example: ['Heartbeat', 'SecurityEvent']."}
{"id": "res_operational-insights_workspace_data-source", "source": "res\\operational-insights\\workspace\\data-source\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Data Source' (Parent Chain: Operational Insights > Workspace).\nResource Type Path: operational-insights\\workspace\\data-source\nModule ID: br/public:res/operational-insights/workspace/data-source:0.12.0\nParameters:\n- logAnalyticsWorkspaceName (string): Conditional. The name of the parent Log Analytics workspace. Required if the template is used in a standalone deployment.\n- name (string): Required. Name of the data source.\n- kind (string): Optional. The kind of the data source.\n- tags (object): Optional. Tags to configure in the resource.\n- linkedResourceId (string): Optional. Resource ID of the resource to be linked.\n- eventLogName (string): Optional. Windows event log name to configure when kind is WindowsEvent.\n- eventTypes (array): Optional. Windows event types to configure when kind is WindowsEvent.\n- objectName (string): Optional. Name of the object to configure when kind is WindowsPerformanceCounter or LinuxPerformanceObject.\n- instanceName (string): Optional. Name of the instance to configure when kind is WindowsPerformanceCounter or LinuxPerformanceObject.\n- intervalSeconds (int): Optional. Interval in seconds to configure when kind is WindowsPerformanceCounter or LinuxPerformanceObject.\n- performanceCounters (array): Optional. List of counters to configure when the kind is LinuxPerformanceObject.\n- counterName (string): Optional. Counter name to configure when kind is WindowsPerformanceCounter.\n- state (string): Optional. State to configure when kind is IISLogs or LinuxSyslogCollection or LinuxPerformanceCollection.\n- syslogName (string): Optional. System log to configure when kind is LinuxSyslog.\n- syslogSeverities (array): Optional. Severities to configure when kind is LinuxSyslog."}
{"id": "res_operational-insights_workspace_linked-service", "source": "res\\operational-insights\\workspace\\linked-service\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Linked Service' (Parent Chain: Operational Insights > Workspace).\nResource Type Path: operational-insights\\workspace\\linked-service\nModule ID: br/public:res/operational-insights/workspace/linked-service:0.12.0\nParameters:\n- logAnalyticsWorkspaceName (string): Conditional. The name of the parent Log Analytics workspace. Required if the template is used in a standalone deployment.\n- name (string): Required. Name of the link.\n- resourceId (string): Optional. The resource ID of the resource that will be linked to the workspace. This should be used for linking resources which require read access.\n- writeAccessResourceId (string): Optional. The resource ID of the resource that will be linked to the workspace. This should be used for linking resources which require write access.\n- tags (object): Optional. Tags to configure in the resource."}
{"id": "res_operational-insights_workspace_linked-storage-account", "source": "res\\operational-insights\\workspace\\linked-storage-account\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Linked Storage Account' (Parent Chain: Operational Insights > Workspace).\nResource Type Path: operational-insights\\workspace\\linked-storage-account\nModule ID: br/public:res/operational-insights/workspace/linked-storage-account:0.12.0\nParameters:\n- logAnalyticsWorkspaceName (string): Conditional. The name of the parent Log Analytics workspace. Required if the template is used in a standalone deployment.\n- name (string): Required. Name of the link.\n- storageAccountIds (array): Required. Linked storage accounts resources Ids."}
{"id": "res_operational-insights_workspace_saved-search", "source": "res\\operational-insights\\workspace\\saved-search\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Saved Search' (Parent Chain: Operational Insights > Workspace).\nResource Type Path: operational-insights\\workspace\\saved-search\nModule ID: br/public:res/operational-insights/workspace/saved-search:0.12.0\nParameters:\n- logAnalyticsWorkspaceName (string): Conditional. The name of the parent Log Analytics workspace. Required if the template is used in a standalone deployment.\n- name (string): Required. Name of the saved search.\n- displayName (string): Required. Display name for the search.\n- category (string): Required. Query category.\n- query (string): Required. Kusto Query to be stored.\n- tags (array): Optional. Tags to configure in the resource.\n- functionAlias (string): Optional. The function alias if query serves as a function.\n- functionParameters (string): Optional. The optional function parameters if query serves as a function. Value should be in the following format: \"param-name1:type1 = default_value1, param-name2:type2 = default_value2\". For more examples and proper syntax please refer to /azure/kusto/query/functions/user-defined-functions.\n- version (int): Optional. The version number of the query language.\n- etag (string): Optional. The ETag of the saved search. To override an existing saved search, use \"*\" or specify the current Etag."}
{"id": "res_operational-insights_workspace_storage-insight-config", "source": "res\\operational-insights\\workspace\\storage-insight-config\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Storage Insight Config' (Parent Chain: Operational Insights > Workspace).\nResource Type Path: operational-insights\\workspace\\storage-insight-config\nModule ID: br/public:res/operational-insights/workspace/storage-insight-config:0.12.0\nParameters:\n- logAnalyticsWorkspaceName (string): Conditional. The name of the parent Log Analytics workspace. Required if the template is used in a standalone deployment.\n- name (string): Optional. The name of the storage insights config.\n- storageAccountResourceId (string): Required. The Azure Resource Manager ID of the storage account resource.\n- containers (array): Optional. The names of the blob containers that the workspace should read.\n- tables (array): Optional. The names of the Azure tables that the workspace should read.\n- tags (object): Optional. Tags to configure in the resource."}
{"id": "res_operational-insights_workspace_table", "source": "res\\operational-insights\\workspace\\table\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Table' (Parent Chain: Operational Insights > Workspace).\nResource Type Path: operational-insights\\workspace\\table\nModule ID: br/public:res/operational-insights/workspace/table:0.12.0\nParameters:\n- name (string): Required. The name of the table.\n- workspaceName (string): Conditional. The name of the parent workspaces. Required if the template is used in a standalone deployment.\n- plan (string): Optional. Instruct the system how to handle and charge the logs ingested to this table.\n- restoredLogs (N/A): Optional. Restore parameters.\n- retentionInDays (int): Optional. The table retention in days, between 4 and 730. Setting this property to -1 will default to the workspace retention.\n- schema (N/A): Optional. Table's schema.\n- searchResults (N/A): Optional. Parameters of the search job that initiated this table.\n- totalRetentionInDays (int): Optional. The table total retention in days, between 4 and 2555. Setting this property to -1 will default to table retention.\n- roleAssignments (array): Optional. Array of role assignments to create."}
{"id": "res_operations-management_solution", "source": "res\\operations-management\\solution\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Solution' (Parent Chain: Operations Management).\nResource Type Path: operations-management\\solution\nModule ID: br/public:res/operations-management/solution:0.3.0\nParameters:\n- name (string): Required. Name of the solution.\nFor solutions authored by Microsoft, the name must be in the pattern: `SolutionType(WorkspaceName)`, for example: `AntiMalware(contoso-Logs)`.\nFor solutions authored by third parties, the name should be in the pattern: `SolutionType[WorkspaceName]`, for example `MySolution[contoso-Logs]`.\nThe solution type is case-sensitive.\n- plan (N/A): Required. Plan for solution object supported by the OperationsManagement resource provider.\n- logAnalyticsWorkspaceName (string): Required. Name of the Log Analytics workspace where the solution will be deployed/enabled.\n- location (string): Optional. Location for all resources.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_portal_dashboard", "source": "res\\portal\\dashboard\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Dashboard' (Parent Chain: Portal).\nResource Type Path: portal\\dashboard\nModule ID: br/public:res/portal/dashboard:0.3.0\nParameters:\n- name (string): Required. Name of the dashboard to create.\n- location (string): Optional. Location for all Resources.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- tags (object): Optional. Tags of the resource.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- lock (N/A): Optional. The lock settings of the service.\n- lenses (array): Optional. The dashboard lenses.\n- metadata (object): Optional. The dashboard metadata."}
{"id": "res_power-bi-dedicated_capacity", "source": "res\\power-bi-dedicated\\capacity\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Capacity' (Parent Chain: Power Bi Dedicated).\nResource Type Path: power-bi-dedicated\\capacity\nModule ID: br/public:res/power-bi-dedicated/capacity:0.2.0\nParameters:\n- name (string): Required. Name of the PowerBI Embedded.\n- location (string): Optional. Location for all Resources.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- tags (object): Optional. Tags of the resource.\n- sku (N/A): Required. Sku configuration of the resource.\n- members (array): Required. Members of the resource.\n- mode (string): Optional. Mode of the resource.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create."}
{"id": "res_purview_account", "source": "res\\purview\\account\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Account' (Parent Chain: Purview).\nResource Type Path: purview\\account\nModule ID: br/public:res/purview/account:0.9.0\nParameters:\n- name (string): Required. Name of the Purview Account.\n- location (string): Optional. Location for all resources.\n- tags (object): Optional. Tags of the resource.\n- managedIdentities (N/A): Optional. The managed identity definition for this resource.\n- managedEventHubState (string): Optional. The state of the managed Event Hub.\n- managedResourceGroupName (string): Optional. The Managed Resource Group Name. A managed Storage Account, and an Event Hubs will be created in the selected subscription for catalog ingestion scenarios. Default is 'managed-rg-<purview-account-name>'.\n- managedResourcesPublicNetworkAccess (string): Optional. Whether or not public network access is allowed for managed resources.\n- publicNetworkAccess (string): Optional. Whether or not public network access is allowed for this resource. For security reasons it should be disabled. If not specified, it will be disabled by default if private endpoints are set.\n- diagnosticSettings (array): Optional. The diagnostic settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- accountPrivateEndpoints (array): Optional. Configuration details for Purview Account private endpoints. For security reasons, it is recommended to use private endpoints whenever possible. Make sure the service property is set to 'account'.\n- portalPrivateEndpoints (array): Optional. Configuration details for Purview Portal private endpoints. For security reasons, it is recommended to use private endpoints whenever possible. Make sure the service property is set to 'portal'.\n- storageBlobPrivateEndpoints (array): Optional. Configuration details for Purview Managed Storage Account blob private endpoints. For security reasons, it is recommended to use private endpoints whenever possible. Make sure the service property is set to 'blob'.\n- storageQueuePrivateEndpoints (array): Optional. Configuration details for Purview Managed Storage Account queue private endpoints. For security reasons, it is recommended to use private endpoints whenever possible. Make sure the service property is set to 'queue'.\n- eventHubPrivateEndpoints (array): Optional. Configuration details for Purview Managed Event Hub namespace private endpoints. For security reasons, it is recommended to use private endpoints whenever possible. Make sure the service property is set to 'namespace'.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- lock (N/A): Optional. The lock settings of the service."}
{"id": "res_recovery-services_vault", "source": "res\\recovery-services\\vault\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Vault' (Parent Chain: Recovery Services).\nResource Type Path: recovery-services\\vault\nModule ID: br/public:res/recovery-services/vault:0.10.0\nParameters:\n- name (string): Required. Name of the Azure Recovery Service Vault.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- location (string): Optional. Location for all resources.\n- backupPolicies (array): Optional. List of all backup policies.\n- backupConfig (N/A): Optional. The backup configuration.\n- protectedItems (array): Optional. List of all protection containers.\n- replicationFabrics (array): Optional. List of all replication fabrics.\n- replicationPolicies (array): Optional. List of all replication policies.\n- replicationAlertSettings (N/A): Optional. Replication alert settings.\n- diagnosticSettings (array): Optional. The diagnostic settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- lock (N/A): Optional. The lock settings of the service.\n- managedIdentities (N/A): Optional. The managed identity definition for this resource.\n- tags (object): Optional. Tags of the Recovery Service Vault resource.\n- privateEndpoints (array): Optional. Configuration details for private endpoints. For security reasons, it is recommended to use private endpoints whenever possible.\n- monitoringSettings (N/A): Optional. Monitoring Settings of the vault.\n- softDeleteSettings (N/A): Optional. The soft delete related settings.\n- immutabilitySettingState (string): Optional. The immmutability setting state of the recovery services vault resource.\n- publicNetworkAccess (string): Optional. Whether or not public network access is allowed for this resource. For security reasons it should be disabled.\n- redundancySettings (N/A): Optional. The redundancy settings of the vault.\n- restoreSettings (N/A): Optional. The restore settings of the vault.\n- customerManagedKey (N/A): Optional. The customer managed key definition."}
{"id": "res_recovery-services_vault_backup-config", "source": "res\\recovery-services\\vault\\backup-config\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Backup Config' (Parent Chain: Recovery Services > Vault).\nResource Type Path: recovery-services\\vault\\backup-config\nModule ID: br/public:res/recovery-services/vault/backup-config:0.10.0\nParameters:\n- recoveryVaultName (string): Conditional. The name of the parent Azure Recovery Service Vault. Required if the template is used in a standalone deployment.\n- name (string): Optional. Name of the Azure Recovery Service Vault Backup Policy.\n- enhancedSecurityState (string): Optional. Enable this setting to protect hybrid backups against accidental deletes and add additional layer of authentication for critical operations.\n- resourceGuardOperationRequests (array): Optional. ResourceGuard Operation Requests.\n- softDeleteFeatureState (string): Optional. Enable this setting to protect backup data for Azure VM, SQL Server in Azure VM and SAP HANA in Azure VM from accidental deletes.\n- storageModelType (string): Optional. Storage type.\n- storageType (string): Optional. Storage type.\n- storageTypeState (string): Optional. Once a machine is registered against a resource, the storageTypeState is always Locked.\n- isSoftDeleteFeatureStateEditable (bool): Optional. Is soft delete feature state editable."}
{"id": "res_recovery-services_vault_backup-fabric_protection-container_protected-item", "source": "res\\recovery-services\\vault\\backup-fabric\\protection-container\\protected-item\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Protected Item' (Parent Chain: Recovery Services > Vault > Backup Fabric > Protection Container).\nResource Type Path: recovery-services\\vault\\backup-fabric\\protection-container\\protected-item\nModule ID: br/public:res/recovery-services/vault/backup-fabric/protection-container/protected-item:0.10.0\nParameters:\n- name (string): Required. Name of the resource.\n- protectionContainerName (string): Conditional. Name of the Azure Recovery Service Vault Protection Container. Required if the template is used in a standalone deployment.\n- recoveryVaultName (string): Conditional. The name of the parent Azure Recovery Service Vault. Required if the template is used in a standalone deployment.\n- location (string): Optional. Location for all resources.\n- protectedItemType (string): Required. The backup item type.\n- policyName (string): Required. The backup policy with which this item is backed up.\n- sourceResourceId (string): Required. Resource ID of the resource to back up."}
{"id": "res_recovery-services_vault_backup-policy", "source": "res\\recovery-services\\vault\\backup-policy\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Backup Policy' (Parent Chain: Recovery Services > Vault).\nResource Type Path: recovery-services\\vault\\backup-policy\nModule ID: br/public:res/recovery-services/vault/backup-policy:0.10.0\nParameters:\n- recoveryVaultName (string): Conditional. The name of the parent Azure Recovery Service Vault. Required if the template is used in a standalone deployment.\n- name (string): Required. Name of the Azure Recovery Service Vault Backup Policy.\n- properties (object): Required. Configuration of the Azure Recovery Service Vault Backup Policy."}
{"id": "res_recovery-services_vault_replication-alert-setting", "source": "res\\recovery-services\\vault\\replication-alert-setting\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Replication Alert Setting' (Parent Chain: Recovery Services > Vault).\nResource Type Path: recovery-services\\vault\\replication-alert-setting\nModule ID: br/public:res/recovery-services/vault/replication-alert-setting:0.10.0\nParameters:\n- recoveryVaultName (string): Conditional. The name of the parent Azure Recovery Service Vault. Required if the template is used in a standalone deployment.\n- name (string): Optional. The name of the replication Alert Setting.\n- customEmailAddresses (array): Optional. The custom email address for sending emails.\n- locale (string): Optional. The locale for the email notification.\n- sendToOwners (string): Optional. The value indicating whether to send email to subscription administrator."}
{"id": "res_recovery-services_vault_replication-fabric", "source": "res\\recovery-services\\vault\\replication-fabric\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Replication Fabric' (Parent Chain: Recovery Services > Vault).\nResource Type Path: recovery-services\\vault\\replication-fabric\nModule ID: br/public:res/recovery-services/vault/replication-fabric:0.10.0\nParameters:\n- recoveryVaultName (string): Conditional. The name of the parent Azure Recovery Service Vault. Required if the template is used in a standalone deployment.\n- location (string): Optional. The recovery location the fabric represents.\n- name (string): Optional. The name of the fabric.\n- replicationContainers (array): Optional. Replication containers to create."}
{"id": "res_recovery-services_vault_replication-fabric_replication-protection-container", "source": "res\\recovery-services\\vault\\replication-fabric\\replication-protection-container\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Replication Protection Container' (Parent Chain: Recovery Services > Vault > Replication Fabric).\nResource Type Path: recovery-services\\vault\\replication-fabric\\replication-protection-container\nModule ID: br/public:res/recovery-services/vault/replication-fabric/replication-protection-container:0.10.0\nParameters:\n- recoveryVaultName (string): Conditional. The name of the parent Azure Recovery Service Vault. Required if the template is used in a standalone deployment.\n- replicationFabricName (string): Conditional. The name of the parent Replication Fabric. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the replication container.\n- mappings (array): Optional. Replication containers mappings to create."}
{"id": "res_recovery-services_vault_replication-fabric_replication-protection-container_replication-protection-container-mapping", "source": "res\\recovery-services\\vault\\replication-fabric\\replication-protection-container\\replication-protection-container-mapping\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Replication Protection Container Mapping' (Parent Chain: Recovery Services > Vault > Replication Fabric > Replication Protection Container).\nResource Type Path: recovery-services\\vault\\replication-fabric\\replication-protection-container\\replication-protection-container-mapping\nModule ID: br/public:res/recovery-services/vault/replication-fabric/replication-protection-container/replication-protection-container-mapping:0.10.0\nParameters:\n- recoveryVaultName (string): Conditional. The name of the parent Azure Recovery Service Vault. Required if the template is used in a standalone deployment.\n- replicationFabricName (string): Conditional. The name of the parent Replication Fabric. Required if the template is used in a standalone deployment.\n- sourceProtectionContainerName (string): Conditional. The name of the parent source Replication container. Required if the template is used in a standalone deployment.\n- targetProtectionContainerResourceId (string): Optional. Resource ID of the target Replication container. Must be specified if targetContainerName is not. If specified, targetContainerFabricName and targetContainerName will be ignored.\n- targetContainerFabricName (string): Optional. Name of the fabric containing the target container. If targetProtectionContainerResourceId is specified, this parameter will be ignored.\n- targetContainerName (string): Optional. Name of the target container. Must be specified if targetProtectionContainerResourceId is not. If targetProtectionContainerResourceId is specified, this parameter will be ignored.\n- policyResourceId (string): Optional. Resource ID of the replication policy. If defined, policyName will be ignored.\n- policyName (string): Optional. Name of the replication policy. Will be ignored if policyResourceId is also specified.\n- name (string): Optional. The name of the replication container mapping. If not provided, it will be automatically generated as `<source_container_name>-<target_container_name>`."}
{"id": "res_recovery-services_vault_replication-policy", "source": "res\\recovery-services\\vault\\replication-policy\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Replication Policy' (Parent Chain: Recovery Services > Vault).\nResource Type Path: recovery-services\\vault\\replication-policy\nModule ID: br/public:res/recovery-services/vault/replication-policy:0.10.0\nParameters:\n- recoveryVaultName (string): Conditional. The name of the parent Azure Recovery Service Vault. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the replication policy.\n- appConsistentFrequencyInMinutes (int): Optional. The app consistent snapshot frequency (in minutes).\n- crashConsistentFrequencyInMinutes (int): Optional. The crash consistent snapshot frequency (in minutes).\n- multiVmSyncStatus (string): Optional. A value indicating whether multi-VM sync has to be enabled.\n- recoveryPointHistory (int): Optional. The duration in minutes until which the recovery points need to be stored."}
{"id": "res_relay_namespace", "source": "res\\relay\\namespace\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Namespace' (Parent Chain: Relay).\nResource Type Path: relay\\namespace\nModule ID: br/public:res/relay/namespace:0.7.0\nParameters:\n- name (string): Required. Name of the Relay Namespace.\n- location (string): Optional. Location for all resources.\n- skuName (string): Optional. Name of this SKU.\n- authorizationRules (array): Optional. Authorization Rules for the Relay Namespace.\n- diagnosticSettings (array): Optional. The diagnostic settings of the service.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- privateEndpoints (array): Optional. Configuration details for private endpoints. For security reasons, it is recommended to use private endpoints whenever possible.\n- networkRuleSets (object): Optional. Configure networking options for Relay. This object contains IPs/Subnets to allow or restrict access to private endpoints only. For security reasons, it is recommended to configure this object on the Namespace.\n- tags (object): Optional. Tags of the resource.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- hybridConnections (array): Optional. The hybrid connections to create in the relay namespace.\n- wcfRelays (array): Optional. The wcf relays to create in the relay namespace."}
{"id": "res_relay_namespace_authorization-rule", "source": "res\\relay\\namespace\\authorization-rule\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Authorization Rule' (Parent Chain: Relay > Namespace).\nResource Type Path: relay\\namespace\\authorization-rule\nModule ID: br/public:res/relay/namespace/authorization-rule:0.7.0\nParameters:\n- namespaceName (string): Conditional. The name of the parent Relay Namespace for the Relay Hybrid Connection. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the authorization rule.\n- rights (array): Optional. The rights associated with the rule."}
{"id": "res_relay_namespace_hybrid-connection", "source": "res\\relay\\namespace\\hybrid-connection\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Hybrid Connection' (Parent Chain: Relay > Namespace).\nResource Type Path: relay\\namespace\\hybrid-connection\nModule ID: br/public:res/relay/namespace/hybrid-connection:0.7.0\nParameters:\n- namespaceName (string): Conditional. The name of the parent Relay Namespace for the Relay Hybrid Connection. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the hybrid connection.\n- userMetadata (string): Required. The user metadata is a placeholder to store user-defined string data for the hybrid connection endpoint. For example, it can be used to store descriptive data, such as a list of teams and their contact information. Also, user-defined configuration settings can be stored.\n- requiresClientAuthorization (bool): Optional. A value indicating if this hybrid connection requires client authorization.\n- authorizationRules (array): Optional. Authorization Rules for the Relay Hybrid Connection.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create."}
{"id": "res_relay_namespace_hybrid-connection_authorization-rule", "source": "res\\relay\\namespace\\hybrid-connection\\authorization-rule\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Authorization Rule' (Parent Chain: Relay > Namespace > Hybrid Connection).\nResource Type Path: relay\\namespace\\hybrid-connection\\authorization-rule\nModule ID: br/public:res/relay/namespace/hybrid-connection/authorization-rule:0.7.0\nParameters:\n- name (string): Required. The name of the authorization rule.\n- namespaceName (string): Conditional. The name of the parent Relay Namespace. Required if the template is used in a standalone deployment.\n- hybridConnectionName (string): Conditional. The name of the parent Relay Namespace Hybrid Connection. Required if the template is used in a standalone deployment.\n- rights (array): Optional. The rights associated with the rule."}
{"id": "res_relay_namespace_network-rule-set", "source": "res\\relay\\namespace\\network-rule-set\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Network Rule Set' (Parent Chain: Relay > Namespace).\nResource Type Path: relay\\namespace\\network-rule-set\nModule ID: br/public:res/relay/namespace/network-rule-set:0.7.0\nParameters:\n- namespaceName (string): Conditional. The name of the parent Relay Namespace for the Relay Network Rule Set. Required if the template is used in a standalone deployment.\n- publicNetworkAccess (string): Optional. This determines if traffic is allowed over public network. Default is \"Enabled\". If set to \"Disabled\", traffic to this namespace will be restricted over Private Endpoints only and network rules will not be applied.\n- defaultAction (string): Optional. Default Action for Network Rule Set. Default is \"Allow\". It will not be set if publicNetworkAccess is \"Disabled\". Otherwise, it will be set to \"Deny\" if ipRules or virtualNetworkRules are being used.\n- ipRules (array): Optional. List of IpRules. It will not be set if publicNetworkAccess is \"Disabled\". Otherwise, when used, defaultAction will be set to \"Deny\"."}
{"id": "res_relay_namespace_wcf-relay", "source": "res\\relay\\namespace\\wcf-relay\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Wcf Relay' (Parent Chain: Relay > Namespace).\nResource Type Path: relay\\namespace\\wcf-relay\nModule ID: br/public:res/relay/namespace/wcf-relay:0.7.0\nParameters:\n- namespaceName (string): Conditional. The name of the parent Relay Namespace for the WCF Relay. Required if the template is used in a standalone deployment.\n- name (string): Required. Name of the WCF Relay.\n- relayType (string): Required. Type of WCF Relay.\n- requiresClientAuthorization (bool): Optional. A value indicating if this relay requires client authorization.\n- requiresTransportSecurity (bool): Optional. A value indicating if this relay requires transport security.\n- userMetadata (string): Optional. User-defined string data for the WCF Relay.\n- authorizationRules (array): Optional. Authorization Rules for the WCF Relay.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create."}
{"id": "res_relay_namespace_wcf-relay_authorization-rule", "source": "res\\relay\\namespace\\wcf-relay\\authorization-rule\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Authorization Rule' (Parent Chain: Relay > Namespace > Wcf Relay).\nResource Type Path: relay\\namespace\\wcf-relay\\authorization-rule\nModule ID: br/public:res/relay/namespace/wcf-relay/authorization-rule:0.7.0\nParameters:\n- name (string): Required. The name of the authorization rule.\n- namespaceName (string): Conditional. The name of the parent Relay Namespace. Required if the template is used in a standalone deployment.\n- wcfRelayName (string): Conditional. The name of the parent Relay Namespace WCF Relay. Required if the template is used in a standalone deployment.\n- rights (array): Optional. The rights associated with the rule."}
{"id": "res_resource-graph_query", "source": "res\\resource-graph\\query\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Query' (Parent Chain: Resource Graph).\nResource Type Path: resource-graph\\query\nModule ID: br/public:res/resource-graph/query:0.3.0\nParameters:\n- name (string): Required. The name of the Resource Graph Query.\n- location (string): Optional. Location for all resources.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- tags (object): Optional. Resource tags.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- query (string): Required. The KQL query that will be graph.\n- queryDescription (string): Optional. The description of a graph query."}
{"id": "res_resources_deployment-script", "source": "res\\resources\\deployment-script\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Deployment Script' (Parent Chain: Resources).\nResource Type Path: resources\\deployment-script\nModule ID: br/public:res/resources/deployment-script:0.5.0\nParameters:\n- name (string): Required. Name of the Deployment Script.\n- location (string): Optional. Location for all resources.\n- kind (string): Required. Specifies the Kind of the Deployment Script.\n- managedIdentities (N/A): Optional. The managed identity definition for this resource.\n- tags (object): Optional. Resource tags.\n- azPowerShellVersion (string): Optional. Azure PowerShell module version to be used. See a list of supported Azure PowerShell versions: https://mcr.microsoft.com/v2/azuredeploymentscripts-powershell/tags/list.\n- azCliVersion (string): Optional. Azure CLI module version to be used. See a list of supported Azure CLI versions: https://mcr.microsoft.com/v2/azure-cli/tags/list.\n- scriptContent (string): Optional. Script body. Max length: 32000 characters. To run an external script, use primaryScriptURI instead.\n- primaryScriptUri (string): Optional. Uri for the external script. This is the entry point for the external script. To run an internal script, use the scriptContent parameter instead.\n- environmentVariables (array): Optional. The environment variables to pass over to the script.\n- supportingScriptUris (array): Optional. List of supporting files for the external script (defined in primaryScriptUri). Does not work with internal scripts (code defined in scriptContent).\n- subnetResourceIds (array): Optional. List of subnet IDs to use for the container group. This is required if you want to run the deployment script in a private network. When using a private network, the `Storage File Data Privileged Contributor` role needs to be assigned to the user-assigned managed identity and the deployment principal needs to have permissions to list the storage account keys. Also, Shared-Keys must not be disabled on the used storage account [ref](https://learn.microsoft.com/en-us/azure/azure-resource-manager/bicep/deployment-script-vnet).\n- arguments (string): Optional. Command-line arguments to pass to the script. Arguments are separated by spaces.\n- retentionInterval (string): Optional. Interval for which the service retains the script resource after it reaches a terminal state. Resource will be deleted when this duration expires. Duration is based on ISO 8601 pattern (for example P7D means one week).\n- baseTime (string): Generated. Do not provide a value! This date value is used to make sure the script run every time the template is deployed.\n- runOnce (bool): Optional. When set to false, script will run every time the template is deployed. When set to true, the script will only run once.\n- cleanupPreference (string): Optional. The clean up preference when the script execution gets in a terminal state. Specify the preference on when to delete the deployment script resources. The default value is Always, which means the deployment script resources are deleted despite the terminal state (Succeeded, Failed, canceled).\n- containerGroupName (string): Optional. Container group name, if not specified then the name will get auto-generated. Not specifying a 'containerGroupName' indicates the system to generate a unique name which might end up flagging an Azure Policy as non-compliant. Use 'containerGroupName' when you have an Azure Policy that expects a specific naming convention or when you want to fully control the name. 'containerGroupName' property must be between 1 and 63 characters long, must contain only lowercase letters, numbers, and dashes and it cannot start or end with a dash and consecutive dashes are not allowed.\n- storageAccountResourceId (string): Optional. The resource ID of the storage account to use for this deployment script. If none is provided, the deployment script uses a temporary, managed storage account.\n- timeout (string): Optional. Maximum allowed script execution time specified in ISO 8601 format. Default value is PT1H - 1 hour; 'PT30M' - 30 minutes; 'P5D' - 5 days; 'P1Y' 1 year.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_resources_resource-group", "source": "res\\resources\\resource-group\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Resource Group' (Parent Chain: Resources).\nResource Type Path: resources\\resource-group\nModule ID: br/public:res/resources/resource-group:0.4.0\nParameters:\n- name (string): Required. The name of the Resource Group.\n- location (string): Optional. Location of the Resource Group. It uses the deployment's location when not provided.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- tags (object): Optional. Tags of the storage account resource.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_search_search-service", "source": "res\\search\\search-service\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Search Service' (Parent Chain: Search).\nResource Type Path: search\\search-service\nModule ID: br/public:res/search/search-service:0.11.0\nParameters:\n- name (string): Required. The name of the Azure Cognitive Search service to create or update. Search service names must only contain lowercase letters, digits or dashes, cannot use dash as the first two or last one characters, cannot contain consecutive dashes, and must be between 2 and 60 characters in length. Search service names must be globally unique since they are part of the service URI (https://<name>.search.windows.net). You cannot change the service name after the service is created.\n- authOptions (N/A): Optional. Defines the options for how the data plane API of a Search service authenticates requests. Must remain an empty object {} if 'disableLocalAuth' is set to true.\n- disableLocalAuth (bool): Optional. When set to true, calls to the search service will not be permitted to utilize API keys for authentication. This cannot be set to true if 'authOptions' are defined.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- cmkEnforcement (string): Optional. Describes a policy that determines how resources within the search service are to be encrypted with Customer Managed Keys.\n- hostingMode (string): Optional. Applicable only for the standard3 SKU. You can set this property to enable up to 3 high density partitions that allow up to 1000 indexes, which is much higher than the maximum indexes allowed for any other SKU. For the standard3 SKU, the value is either 'default' or 'highDensity'. For all other SKUs, this value must be 'default'.\n- location (string): Optional. Location for all Resources.\n- lock (N/A): Optional. The lock settings for all Resources in the solution.\n- networkRuleSet (N/A): Optional. Network specific rules that determine how the Azure Cognitive Search service may be reached.\n- partitionCount (int): Optional. The number of partitions in the search service; if specified, it can be 1, 2, 3, 4, 6, or 12. Values greater than 1 are only valid for standard SKUs. For 'standard3' services with hostingMode set to 'highDensity', the allowed values are between 1 and 3.\n- privateEndpoints (array): Optional. Configuration details for private endpoints. For security reasons, it is recommended to use private endpoints whenever possible.\n- sharedPrivateLinkResources (array): Optional. The sharedPrivateLinkResources to create as part of the search Service.\n- publicNetworkAccess (string): Optional. This value can be set to 'Enabled' to avoid breaking changes on existing customer resources and templates. If set to 'Disabled', traffic over public interface is not allowed, and private endpoint connections would be the exclusive access method.\n- secretsExportConfiguration (N/A): Optional. Key vault reference and secret settings for the module's secrets export.\n- replicaCount (int): Optional. The number of replicas in the search service. If specified, it must be a value between 1 and 12 inclusive for standard SKUs or between 1 and 3 inclusive for basic SKU.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- semanticSearch (string): Optional. Sets options that control the availability of semantic search. This configuration is only possible for certain search SKUs in certain locations.\n- sku (string): Optional. Defines the SKU of an Azure Cognitive Search Service, which determines price tier and capacity limits.\n- managedIdentities (N/A): Optional. The managed identity definition for this resource.\n- diagnosticSettings (array): Optional. The diagnostic settings of the service.\n- tags (object): Optional. Tags to help categorize the resource in the Azure portal."}
{"id": "res_search_search-service_shared-private-link-resource", "source": "res\\search\\search-service\\shared-private-link-resource\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Shared Private Link Resource' (Parent Chain: Search > Search Service).\nResource Type Path: search\\search-service\\shared-private-link-resource\nModule ID: br/public:res/search/search-service/shared-private-link-resource:0.11.0\nParameters:\n- searchServiceName (string): Conditional. The name of the parent searchServices. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the shared private link resource managed by the Azure Cognitive Search service within the specified resource group.\n- privateLinkResourceId (string): Required. The resource ID of the resource the shared private link resource is for.\n- groupId (string): Required. The group ID from the provider of resource the shared private link resource is for.\n- requestMessage (string): Required. The request message for requesting approval of the shared private link resource.\n- resourceRegion (string): Optional. Can be used to specify the Azure Resource Manager location of the resource to which a shared private link is to be created. This is only required for those resources whose DNS configuration are regional (such as Azure Kubernetes Service)."}
{"id": "res_security-insights_data-connector", "source": "res\\security-insights\\data-connector\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Data Connector' (Parent Chain: Security Insights).\nResource Type Path: security-insights\\data-connector\nModule ID: br/public:res/security-insights/data-connector:0.1.0\nParameters:\n- workspaceResourceId (string): Required. The resource ID of the Log Analytics workspace.\n- location (string): Optional. Location for all resources.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- name (string): Optional. The name of the data connector.\n- properties (N/A): Required. The data connector configuration."}
{"id": "res_security-insights_setting", "source": "res\\security-insights\\setting\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Setting' (Parent Chain: Security Insights).\nResource Type Path: security-insights\\setting\nModule ID: br/public:res/security-insights/setting:0.1.0\nParameters:\n- roleAssignments (array): Optional. Array of role assignments to create.\n- name (string): Required. Name of the Security Insights Setting.\n- workspaceResourceId (string): Required. The resource ID of the Log Analytics workspace.\n- location (string): Optional. Location for all resources.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- settingsType (string): Required. Kind of the setting. Must be one of: [Anomalies, EntityAnalytics, EyesOn, Ueba].\n- properties (object): Optional. Properties for the Security Insights Setting based on kind."}
{"id": "res_service-bus_namespace", "source": "res\\service-bus\\namespace\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Namespace' (Parent Chain: Service Bus).\nResource Type Path: service-bus\\namespace\nModule ID: br/public:res/service-bus/namespace:0.15.0\nParameters:\n- name (string): Required. Name of the Service Bus Namespace.\n- location (string): Optional. Location for all resources.\n- skuObject (N/A): Optional. The SKU of the Service Bus Namespace. Defaulted to Premium for ZoneRedundant configurations by default.\n- zoneRedundant (bool): Optional. Enabled by default in order to align with resiliency best practices, thus requires Premium SKU.\n- minimumTlsVersion (string): Optional. The minimum TLS version for the cluster to support.\n- alternateName (string): Optional. Alternate name for namespace.\n- premiumMessagingPartitions (int): Optional. The number of partitions of a Service Bus namespace. This property is only applicable to Premium SKU namespaces. The default value is 1 and possible values are 1, 2 and 4.\n- authorizationRules (array): Optional. Authorization Rules for the Service Bus namespace.\n- migrationConfiguration (N/A): Optional. The migration configuration.\n- disasterRecoveryConfig (N/A): Optional. The disaster recovery configuration.\n- diagnosticSettings (array): Optional. The diagnostic settings of the service.\n- lock (N/A): Optional. The lock settings of the service.\n- managedIdentities (N/A): Optional. The managed identity definition for this resource.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- publicNetworkAccess (string): Optional. Whether or not public network access is allowed for this resource. For security reasons it should be disabled. If not specified, it will be disabled by default if private endpoints are set.\n- privateEndpoints (array): Optional. Configuration details for private endpoints. For security reasons, it is recommended to use private endpoints whenever possible.\n- networkRuleSets (N/A): Optional. Configure networking options for Premium SKU Service Bus. This object contains IPs/Subnets to allow or restrict access to private endpoints only. For security reasons, it is recommended to configure this object on the Namespace.\n- disableLocalAuth (bool): Optional. This property disables SAS authentication for the Service Bus namespace.\n- tags (object): Optional. Tags of the resource.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- queues (array): Optional. The queues to create in the service bus namespace.\n- topics (array): Optional. The topics to create in the service bus namespace.\n- customerManagedKey (N/A): Optional. The customer managed key definition.\n- requireInfrastructureEncryption (bool): Optional. Enable infrastructure encryption (double encryption). Note, this setting requires the configuration of Customer-Managed-Keys (CMK) via the corresponding module parameters."}
{"id": "res_service-bus_namespace_authorization-rule", "source": "res\\service-bus\\namespace\\authorization-rule\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Authorization Rule' (Parent Chain: Service Bus > Namespace).\nResource Type Path: service-bus\\namespace\\authorization-rule\nModule ID: br/public:res/service-bus/namespace/authorization-rule:0.15.0\nParameters:\n- namespaceName (string): Conditional. The name of the parent Service Bus Namespace for the Service Bus Queue. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the authorization rule.\n- rights (array): Optional. The rights associated with the rule."}
{"id": "res_service-bus_namespace_disaster-recovery-config", "source": "res\\service-bus\\namespace\\disaster-recovery-config\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Disaster Recovery Config' (Parent Chain: Service Bus > Namespace).\nResource Type Path: service-bus\\namespace\\disaster-recovery-config\nModule ID: br/public:res/service-bus/namespace/disaster-recovery-config:0.15.0\nParameters:\n- namespaceName (string): Conditional. The name of the parent Service Bus Namespace for the Service Bus Queue. Required if the template is used in a standalone deployment.\n- name (string): Optional. The name of the disaster recovery config.\n- alternateName (string): Optional. Primary/Secondary eventhub namespace name, which is part of GEO DR pairing.\n- partnerNamespaceResourceID (string): Optional. Resource ID of the Primary/Secondary event hub namespace name, which is part of GEO DR pairing."}
{"id": "res_service-bus_namespace_migration-configuration", "source": "res\\service-bus\\namespace\\migration-configuration\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Migration Configuration' (Parent Chain: Service Bus > Namespace).\nResource Type Path: service-bus\\namespace\\migration-configuration\nModule ID: br/public:res/service-bus/namespace/migration-configuration:0.15.0\nParameters:\n- namespaceName (string): Conditional. The name of the parent Service Bus Namespace for the Service Bus Queue. Required if the template is used in a standalone deployment.\n- postMigrationName (string): Required. Name to access Standard Namespace after migration.\n- targetNamespaceResourceId (string): Required. Existing premium Namespace resource ID which has no entities, will be used for migration."}
{"id": "res_service-bus_namespace_network-rule-set", "source": "res\\service-bus\\namespace\\network-rule-set\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Network Rule Set' (Parent Chain: Service Bus > Namespace).\nResource Type Path: service-bus\\namespace\\network-rule-set\nModule ID: br/public:res/service-bus/namespace/network-rule-set:0.15.0\nParameters:\n- namespaceName (string): Conditional. The name of the parent Service Bus Namespace for the Service Bus Network Rule Set. Required if the template is used in a standalone deployment.\n- publicNetworkAccess (string): Optional. This determines if traffic is allowed over public network. Default is \"Enabled\". If set to \"Disabled\", traffic to this namespace will be restricted over Private Endpoints only and network rules will not be applied.\n- defaultAction (string): Optional. Default Action for Network Rule Set. Default is \"Allow\". It will not be set if publicNetworkAccess is \"Disabled\". Otherwise, it will be set to \"Deny\" if ipRules or virtualNetworkRules are being used.\n- trustedServiceAccessEnabled (bool): Optional. Value that indicates whether Trusted Service Access is enabled or not. Default is \"true\". It will not be set if publicNetworkAccess is \"Disabled\".\n- virtualNetworkRules (array): Optional. List virtual network rules. It will not be set if publicNetworkAccess is \"Disabled\". Otherwise, when used, defaultAction will be set to \"Deny\".\n- ipRules (array): Optional. List of IpRules. It will not be set if publicNetworkAccess is \"Disabled\". Otherwise, when used, defaultAction will be set to \"Deny\"."}
{"id": "res_service-bus_namespace_queue", "source": "res\\service-bus\\namespace\\queue\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Queue' (Parent Chain: Service Bus > Namespace).\nResource Type Path: service-bus\\namespace\\queue\nModule ID: br/public:res/service-bus/namespace/queue:0.15.0\nParameters:\n- namespaceName (string): Conditional. The name of the parent Service Bus Namespace for the Service Bus Queue. Required if the template is used in a standalone deployment.\n- name (string): Required. Name of the Service Bus Queue.\n- autoDeleteOnIdle (string): Optional. ISO 8061 timeSpan idle interval after which the queue is automatically deleted. The minimum duration is 5 minutes (PT5M).\n- forwardDeadLetteredMessagesTo (string): Optional. Queue/Topic name to forward the Dead Letter message.\n- forwardTo (string): Optional. Queue/Topic name to forward the messages.\n- lockDuration (string): Optional. ISO 8601 timespan duration of a peek-lock; that is, the amount of time that the message is locked for other receivers. The maximum value for LockDuration is 5 minutes; the default value is 1 minute.\n- maxSizeInMegabytes (int): Optional. The maximum size of the queue in megabytes, which is the size of memory allocated for the queue. Default is 1024.\n- requiresDuplicateDetection (bool): Optional. A value indicating if this queue requires duplicate detection.\n- requiresSession (bool): Optional. A value that indicates whether the queue supports the concept of sessions.\n- defaultMessageTimeToLive (string): Optional. ISO 8601 default message timespan to live value. This is the duration after which the message expires, starting from when the message is sent to Service Bus. This is the default value used when TimeToLive is not set on a message itself.\n- deadLetteringOnMessageExpiration (bool): Optional. A value that indicates whether this queue has dead letter support when a message expires.\n- enableBatchedOperations (bool): Optional. Value that indicates whether server-side batched operations are enabled.\n- duplicateDetectionHistoryTimeWindow (string): Optional. ISO 8601 timeSpan structure that defines the duration of the duplicate detection history. The default value is 10 minutes.\n- maxDeliveryCount (int): Optional. The maximum delivery count. A message is automatically deadlettered after this number of deliveries. default value is 10.\n- maxMessageSizeInKilobytes (int): Optional. Maximum size (in KB) of the message payload that can be accepted by the queue. This property is only used in Premium today and default is 1024.\n- status (string): Optional. Enumerates the possible values for the status of a messaging entity. - Active, Disabled, Restoring, SendDisabled, ReceiveDisabled, Creating, Deleting, Renaming, Unknown.\n- enablePartitioning (bool): Optional. A value that indicates whether the queue is to be partitioned across multiple message brokers.\n- enableExpress (bool): Optional. A value that indicates whether Express Entities are enabled. An express queue holds a message in memory temporarily before writing it to persistent storage. This property is only used if the `service-bus/namespace` sku is Premium.\n- authorizationRules (array): Optional. Authorization Rules for the Service Bus Queue.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create."}
{"id": "res_service-bus_namespace_queue_authorization-rule", "source": "res\\service-bus\\namespace\\queue\\authorization-rule\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Authorization Rule' (Parent Chain: Service Bus > Namespace > Queue).\nResource Type Path: service-bus\\namespace\\queue\\authorization-rule\nModule ID: br/public:res/service-bus/namespace/queue/authorization-rule:0.15.0\nParameters:\n- name (string): Required. The name of the service bus namepace queue.\n- namespaceName (string): Conditional. The name of the parent Service Bus Namespace. Required if the template is used in a standalone deployment.\n- queueName (string): Conditional. The name of the parent Service Bus Namespace Queue. Required if the template is used in a standalone deployment.\n- rights (array): Optional. The rights associated with the rule."}
{"id": "res_service-bus_namespace_topic", "source": "res\\service-bus\\namespace\\topic\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Topic' (Parent Chain: Service Bus > Namespace).\nResource Type Path: service-bus\\namespace\\topic\nModule ID: br/public:res/service-bus/namespace/topic:0.15.0\nParameters:\n- namespaceName (string): Conditional. The name of the parent Service Bus Namespace for the Service Bus Topic. Required if the template is used in a standalone deployment.\n- name (string): Required. Name of the Service Bus Topic.\n- maxSizeInMegabytes (int): Optional. The maximum size of the topic in megabytes, which is the size of memory allocated for the topic. Default is 1024.\n- requiresDuplicateDetection (bool): Optional. A value indicating if this topic requires duplicate detection.\n- defaultMessageTimeToLive (string): Optional. ISO 8601 default message timespan to live value. This is the duration after which the message expires, starting from when the message is sent to Service Bus. This is the default value used when TimeToLive is not set on a message itself.\n- enableBatchedOperations (bool): Optional. Value that indicates whether server-side batched operations are enabled.\n- duplicateDetectionHistoryTimeWindow (string): Optional. ISO 8601 timeSpan structure that defines the duration of the duplicate detection history. The default value is 10 minutes.\n- maxMessageSizeInKilobytes (int): Optional. Maximum size (in KB) of the message payload that can be accepted by the topic. This property is only used in Premium today and default is 1024. This property is only used if the `service-bus/namespace` sku is Premium.\n- supportOrdering (bool): Optional. Value that indicates whether the topic supports ordering.\n- autoDeleteOnIdle (string): Optional. ISO 8601 timespan idle interval after which the topic is automatically deleted. The minimum duration is 5 minutes.\n- status (string): Optional. Enumerates the possible values for the status of a messaging entity. - Active, Disabled, Restoring, SendDisabled, ReceiveDisabled, Creating, Deleting, Renaming, Unknown.\n- enablePartitioning (bool): Optional. A value that indicates whether the topic is to be partitioned across multiple message brokers.\n- enableExpress (bool): Optional. A value that indicates whether Express Entities are enabled. An express topic holds a message in memory temporarily before writing it to persistent storage. This property is only used if the `service-bus/namespace` sku is Premium.\n- authorizationRules (array): Optional. Authorization Rules for the Service Bus Topic.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- subscriptions (array): Optional. The subscriptions of the topic."}
{"id": "res_service-bus_namespace_topic_authorization-rule", "source": "res\\service-bus\\namespace\\topic\\authorization-rule\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Authorization Rule' (Parent Chain: Service Bus > Namespace > Topic).\nResource Type Path: service-bus\\namespace\\topic\\authorization-rule\nModule ID: br/public:res/service-bus/namespace/topic/authorization-rule:0.15.0\nParameters:\n- name (string): Required. The name of the service bus namespace topic.\n- namespaceName (string): Conditional. The name of the parent Service Bus Namespace. Required if the template is used in a standalone deployment.\n- topicName (string): Conditional. The name of the parent Service Bus Namespace Topic. Required if the template is used in a standalone deployment.\n- rights (array): Optional. The rights associated with the rule."}
{"id": "res_service-bus_namespace_topic_subscription", "source": "res\\service-bus\\namespace\\topic\\subscription\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Subscription' (Parent Chain: Service Bus > Namespace > Topic).\nResource Type Path: service-bus\\namespace\\topic\\subscription\nModule ID: br/public:res/service-bus/namespace/topic/subscription:0.15.0\nParameters:\n- name (string): Required. The name of the service bus namespace topic subscription.\n- namespaceName (string): Conditional. The name of the parent Service Bus Namespace. Required if the template is used in a standalone deployment.\n- topicName (string): Conditional. The name of the parent Service Bus Namespace Topic. Required if the template is used in a standalone deployment.\n- autoDeleteOnIdle (string): Optional. ISO 8601 timespan idle interval after which the subscription is automatically deleted. The minimum duration is 5 minutes.\n- clientAffineProperties (N/A): Conditional. The properties that are associated with a subscription that is client-affine. Required if 'isClientAffine' is set to true.\n- deadLetteringOnFilterEvaluationExceptions (bool): Optional. A value that indicates whether a subscription has dead letter support on filter evaluation exceptions.\n- deadLetteringOnMessageExpiration (bool): Optional. A value that indicates whether a subscription has dead letter support when a message expires.\n- defaultMessageTimeToLive (string): Optional. ISO 8061 Default message timespan to live value. This is the duration after which the message expires, starting from when the message is sent to Service Bus. This is the default value used when TimeToLive is not set on a message itself.\n- duplicateDetectionHistoryTimeWindow (string): Optional. ISO 8601 timespan that defines the duration of the duplicate detection history. The default value is 10 minutes.\n- enableBatchedOperations (bool): Optional. A value that indicates whether server-side batched operations are enabled.\n- forwardDeadLetteredMessagesTo (string): Optional. Queue/Topic name to forward the Dead Letter messages to.\n- forwardTo (string): Optional. Queue/Topic name to forward the messages to.\n- isClientAffine (bool): Optional. A value that indicates whether the subscription has an affinity to the client id.\n- lockDuration (string): Optional. ISO 8061 lock duration timespan for the subscription. The default value is 1 minute.\n- maxDeliveryCount (int): Optional. Number of maximum deliveries. A message is automatically deadlettered after this number of deliveries. Default value is 10.\n- requiresSession (bool): Optional. A value that indicates whether the subscription supports the concept of sessions.\n- rules (array): Optional. The subscription rules.\n- status (string): Optional. Enumerates the possible values for the status of a messaging entity."}
{"id": "res_service-bus_namespace_topic_subscription_rule", "source": "res\\service-bus\\namespace\\topic\\subscription\\rule\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Rule' (Parent Chain: Service Bus > Namespace > Topic > Subscription).\nResource Type Path: service-bus\\namespace\\topic\\subscription\\rule\nModule ID: br/public:res/service-bus/namespace/topic/subscription/rule:0.15.0\nParameters:\n- name (string): Required. The name of the service bus namespace topic subscription rule.\n- namespaceName (string): Conditional. The name of the parent Service Bus Namespace. Required if the template is used in a standalone deployment.\n- topicName (string): Conditional. The name of the parent Service Bus Namespace Topic. Required if the template is used in a standalone deployment.\n- subscriptionName (string): Conditional. The name of the parent Service Bus Namespace Topic Subscription. Required if the template is used in a standalone deployment.\n- action (N/A): Optional. Represents the filter actions which are allowed for the transformation of a message that have been matched by a filter expression.\n- correlationFilter (N/A): Conditional. Properties of a correlation filter. Required if 'filterType' is set to 'CorrelationFilter'.\n- filterType (N/A): Required. Filter type that is evaluated against a BrokeredMessage.\n- sqlFilter (N/A): Conditional. Properties of a SQL filter. Required if 'filterType' is set to 'SqlFilter'."}
{"id": "res_service-fabric_cluster", "source": "res\\service-fabric\\cluster\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Cluster' (Parent Chain: Service Fabric).\nResource Type Path: service-fabric\\cluster\nModule ID: br/public:res/service-fabric/cluster:0.5.0\nParameters:\n- name (string): Required. Name of the Service Fabric cluster.\n- location (string): Optional. Location for all resources.\n- tags (object): Optional. Tags of the resource.\n- lock (N/A): Optional. The lock settings of the service.\n- addOnFeatures (array): Optional. The list of add-on features to enable in the cluster.\n- maxUnusedVersionsToKeep (int): Optional. Number of unused versions per application type to keep.\n- azureActiveDirectory (object): Optional. The settings to enable AAD authentication on the cluster.\n- certificate (N/A): Conditional. The certificate to use for securing the cluster. The certificate provided will be used for node to node security within the cluster, SSL certificate for cluster management endpoint and default admin client. Required if the certificateCommonNames parameter is not used.\n- certificateCommonNames (N/A): Conditional. Describes a list of server certificates referenced by common name that are used to secure the cluster. Required if the certificate parameter is not used.\n- clientCertificateCommonNames (array): Optional. The list of client certificates referenced by common name that are allowed to manage the cluster. Cannot be used if the clientCertificateThumbprints parameter is used.\n- clientCertificateThumbprints (array): Optional. The list of client certificates referenced by thumbprint that are allowed to manage the cluster. Cannot be used if the clientCertificateCommonNames parameter is used.\n- clusterCodeVersion (string): Optional. The Service Fabric runtime version of the cluster. This property can only by set the user when upgradeMode is set to \"Manual\". To get list of available Service Fabric versions for new clusters use ClusterVersion API. To get the list of available version for existing clusters use availableClusterVersions.\n- diagnosticsStorageAccountConfig (object): Optional. The storage account information for storing Service Fabric diagnostic logs.\n- eventStoreServiceEnabled (bool): Optional. Indicates if the event store service is enabled.\n- fabricSettings (array): Optional. The list of custom fabric settings to configure the cluster.\n- infrastructureServiceManager (bool): Optional. Indicates if infrastructure service manager is enabled.\n- managementEndpoint (string): Required. The http management endpoint of the cluster.\n- nodeTypes (array): Required. The list of node types in the cluster.\n- notifications (array): Optional. Indicates a list of notification channels for cluster events.\n- reliabilityLevel (string): Required. The reliability level sets the replica set size of system services. Learn about ReliabilityLevel (https://learn.microsoft.com/en-us/azure/service-fabric/service-fabric-cluster-capacity). - None - Run the System services with a target replica set count of 1. This should only be used for test clusters. - Bronze - Run the System services with a target replica set count of 3. This should only be used for test clusters. - Silver - Run the System services with a target replica set count of 5. - Gold - Run the System services with a target replica set count of 7. - Platinum - Run the System services with a target replica set count of 9.\n- reverseProxyCertificate (object): Optional. Describes the certificate details.\n- reverseProxyCertificateCommonNames (object): Optional. Describes a list of server certificates referenced by common name that are used to secure the cluster.\n- sfZonalUpgradeMode (string): Optional. This property controls the logical grouping of VMs in upgrade domains (UDs). This property cannot be modified if a node type with multiple Availability Zones is already present in the cluster.\n- upgradeDescription (object): Optional. Describes the policy used when upgrading the cluster.\n- upgradeMode (string): Optional. The upgrade mode of the cluster when new Service Fabric runtime version is available.\n- upgradePauseEndTimestampUtc (string): Optional. Indicates the end date and time to pause automatic runtime version upgrades on the cluster for an specific period of time on the cluster (UTC).\n- upgradePauseStartTimestampUtc (string): Optional. Indicates the start date and time to pause automatic runtime version upgrades on the cluster for an specific period of time on the cluster (UTC).\n- upgradeWave (string): Optional. Indicates when new cluster runtime version upgrades will be applied after they are released. By default is Wave0.\n- vmImage (string): Optional. The VM image VMSS has been configured with. Generic names such as Windows or Linux can be used.\n- vmssZonalUpgradeMode (string): Optional. This property defines the upgrade mode for the virtual machine scale set, it is mandatory if a node type with multiple Availability Zones is added.\n- waveUpgradePaused (bool): Optional. Boolean to pause automatic runtime version upgrades to the cluster.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- applicationTypes (array): Optional. Array of Service Fabric cluster application types.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_service-fabric_cluster_application-type", "source": "res\\service-fabric\\cluster\\application-type\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Application Type' (Parent Chain: Service Fabric > Cluster).\nResource Type Path: service-fabric\\cluster\\application-type\nModule ID: br/public:res/service-fabric/cluster/application-type:0.5.0\nParameters:\n- serviceFabricClusterName (string): Conditional. The name of the parent Service Fabric cluster. Required if the template is used in a standalone deployment.\n- name (string): Optional. Application type name.\n- tags (object): Optional. Tags of the resource."}
{"id": "res_service-networking_traffic-controller", "source": "res\\service-networking\\traffic-controller\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Traffic Controller' (Parent Chain: Service Networking).\nResource Type Path: service-networking\\traffic-controller\nModule ID: br/public:res/service-networking/traffic-controller:0.1.0\nParameters:\n- name (string): Required. Name of the Application Gateway for Containers to create.\n- location (string): Optional. Location for all Resources.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- tags (object): Optional. Resource tags.\n- lock (N/A): Optional. The lock settings for all Resources in the solution.\n- diagnosticSettings (array): Optional. The diagnostic settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- frontends (array): Optional. List of Application Gateway for Containers frontends.\n- associations (array): Optional. List of Application Gateway for Containers associations. At this time, the number of associations is limited to 1."}
{"id": "res_service-networking_traffic-controller_association", "source": "res\\service-networking\\traffic-controller\\association\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Association' (Parent Chain: Service Networking > Traffic Controller).\nResource Type Path: service-networking\\traffic-controller\\association\nModule ID: br/public:res/service-networking/traffic-controller/association:0.1.0\nParameters:\n- name (string): Required. Name of the association to create.\n- location (string): Optional. Location for all Resources.\n- trafficControllerName (string): Conditional. The name of the parent Application Gateway for Containers instance. Required if the template is used in a standalone deployment.\n- subnetResourceId (string): Required. The resource ID of the subnet to associate with the traffic controller."}
{"id": "res_service-networking_traffic-controller_frontend", "source": "res\\service-networking\\traffic-controller\\frontend\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Frontend' (Parent Chain: Service Networking > Traffic Controller).\nResource Type Path: service-networking\\traffic-controller\\frontend\nModule ID: br/public:res/service-networking/traffic-controller/frontend:0.1.0\nParameters:\n- name (string): Required. Name of the frontend to create.\n- location (string): Optional. Location for all Resources.\n- trafficControllerName (string): Conditional. The name of the parent Application Gateway for Containers instance. Required if the template is used in a standalone deployment."}
{"id": "res_signal-r-service_signal-r", "source": "res\\signal-r-service\\signal-r\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Signal R' (Parent Chain: Signal R Service).\nResource Type Path: signal-r-service\\signal-r\nModule ID: br/public:res/signal-r-service/signal-r:0.10.0\nParameters:\n- location (string): Optional. The location for the resource.\n- name (string): Required. The name of the SignalR service resource.\n- kind (string): Optional. The kind of the service.\n- sku (string): Optional. The SKU of the service.\n- tier (string): Optional. The tier of the service.\n- capacity (int): Optional. The unit count of the resource.\n- tags (object): Optional. The tags of the resource.\n- allowedOrigins (array): Optional. The allowed origin settings of the resource.\n- disableAadAuth (bool): Optional. The disable Azure AD auth settings of the resource.\n- disableLocalAuth (bool): Optional. The disable local auth settings of the resource.\n- features (array): Optional. The features settings of the resource, `ServiceMode` is the only required feature. See https://learn.microsoft.com/en-us/azure/templates/microsoft.signalrservice/signalr?pivots=deployment-language-bicep#signalrfeature for more information.\n- networkAcls (object): Optional. Networks ACLs, this value contains IPs to allow and/or Subnet information. Can only be set if the 'SKU' is not 'Free_F1'. For security reasons, it is recommended to set the DefaultAction Deny.\n- publicNetworkAccess (string): Optional. Whether or not public network access is allowed for this resource. For security reasons it should be disabled. If not specified, it will be disabled by default if private endpoints are set.\n- liveTraceCatagoriesToEnable (array): Optional. Control permission for data plane traffic coming from public networks while private endpoint is enabled.\n- resourceLogConfigurationsToEnable (array): Optional. Control permission for data plane traffic coming from public networks while private endpoint is enabled.\n- clientCertEnabled (bool): Optional. Request client certificate during TLS handshake if enabled.\n- upstreamTemplatesToEnable (array): Optional. Upstream templates to enable. For more information, see https://learn.microsoft.com/en-us/azure/templates/microsoft.signalrservice/2022-02-01/signalr?pivots=deployment-language-bicep#upstreamtemplate.\n- privateEndpoints (array): Optional. Configuration details for private endpoints. For security reasons, it is recommended to use private endpoints whenever possible.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- managedIdentities (N/A): Optional. The managed identity definition for this resource.\n- diagnosticSettings (array): Optional. The diagnostic settings of the service."}
{"id": "res_signal-r-service_web-pub-sub", "source": "res\\signal-r-service\\web-pub-sub\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Web Pub Sub' (Parent Chain: Signal R Service).\nResource Type Path: signal-r-service\\web-pub-sub\nModule ID: br/public:res/signal-r-service/web-pub-sub:0.7.0\nParameters:\n- location (string): Optional. The location for the resource.\n- name (string): Required. The name of the Web PubSub Service resource.\n- privateEndpoints (array): Optional. Configuration details for private endpoints. For security reasons, it is recommended to use private endpoints whenever possible.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- tags (object): Optional. Tags of the resource.\n- capacity (int): Optional. The unit count of the resource. 1 by default.\n- sku (string): Optional. Pricing tier of the resource.\n- managedIdentities (N/A): Optional. The managed identity definition for this resource. Only one type of identity is supported: system-assigned or user-assigned, but not both.\n- disableAadAuth (bool): Optional. When set as true, connection with AuthType=aad won't work.\n- disableLocalAuth (bool): Optional. Disables all authentication methods other than AAD authentication. For security reasons, this value should be set to `true`.\n- publicNetworkAccess (string): Optional. Whether or not public network access is allowed for this resource. For security reasons it should be disabled. If not specified, it will be disabled by default if private endpoints are set.\n- resourceLogConfigurationsToEnable (array): Optional. Control permission for data plane traffic coming from public networks while private endpoint is enabled.\n- clientCertEnabled (bool): Optional. Request client certificate during TLS handshake if enabled.\n- networkAcls (object): Optional. Networks ACLs, this value contains IPs to allow and/or Subnet information. Can only be set if the 'SKU' is not 'Free_F1'. For security reasons, it is recommended to set the DefaultAction Deny.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_sql_instance-pool", "source": "res\\sql\\instance-pool\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Instance Pool' (Parent Chain: Sql).\nResource Type Path: sql\\instance-pool\nModule ID: br/public:res/sql/instance-pool:0.1.0\nParameters:\n- name (string): Required. The name of the instance pool.\n- location (string): Optional. Location for all resources.\n- tags (object): Optional. Tags of the resource.\n- subnetResourceId (string): Required. The subnet resource ID for the instance pool.\n- licenseType (string): Optional. The license type to apply for this database.\n- skuFamily (string): Optional. If the service has different generations of hardware, for the same SKU, then that can be captured here.\n- vCores (int): Optional. The number of vCores for the instance pool.\n- tier (string): Optional. The vCore service tier for the instance pool.\n- skuName (string): Optional. The SKU name for the instance pool.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- capacity (int): Optional. Capacity of the particular SKU.\n- size (string): Optional. Size of the particular SKU."}
{"id": "res_sql_managed-instance", "source": "res\\sql\\managed-instance\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Managed Instance' (Parent Chain: Sql).\nResource Type Path: sql\\managed-instance\nModule ID: br/public:res/sql/managed-instance:0.4.0\nParameters:\n- name (string): Required. The name of the SQL managed instance.\n- location (string): Optional. Location for all resources.\n- administratorLogin (string): Conditional. The administrator username for the server. Required if no `administrators` object for AAD authentication is provided.\n- administratorLoginPassword (securestring): Conditional. The administrator login password. Required if no `administrators` object for AAD authentication is provided.\n- administrators (N/A): Conditional. The Azure Active Directory (AAD) administrator authentication. Required if no `administratorLogin` & `administratorLoginPassword` is provided.\n- subnetResourceId (string): Required. The fully qualified resource ID of the subnet on which the SQL managed instance will be placed.\n- skuName (string): Optional. The name of the SKU, typically, a letter + Number code, e.g. P3.\n- skuTier (string): Optional. The tier or edition of the particular SKU, e.g. Basic, Premium.\n- storageSizeInGB (int): Optional. Storage size in GB. Increments of 32 GB allowed only.\n- vCores (int): Optional. The number of vCores.\n- licenseType (string): Optional. The license type. Possible values are 'LicenseIncluded' (regular price inclusive of a new SQL license) and 'BasePrice' (discounted AHB price for bringing your own SQL licenses).\n- hardwareFamily (string): Optional. If the service has different generations of hardware, for the same SKU, then that can be captured here.\n- zoneRedundant (bool): Optional. Whether or not multi-az is enabled.\n- servicePrincipal (string): Optional. Service principal type. If using AD Authentication and applying Admin, must be set to `SystemAssigned`. Then Global Admin must allow Reader access to Azure AD for the Service Principal.\n- managedInstanceCreateMode (string): Optional. Specifies the mode of database creation. Default: Regular instance creation. Restore: Creates an instance by restoring a set of backups to specific point in time. RestorePointInTime and sourceManagedInstanceResourceId must be specified.\n- dnsZonePartnerResourceId (string): Optional. The resource ID of another managed instance whose DNS zone this managed instance will share after creation.\n- collation (string): Optional. Collation of the managed instance.\n- proxyOverride (string): Optional. Connection type used for connecting to the instance.\n- publicDataEndpointEnabled (bool): Optional. Whether or not the public data endpoint is enabled.\n- timezoneId (string): Optional. ID of the timezone. Allowed values are timezones supported by Windows.\n- instancePoolResourceId (string): Optional. The resource ID of the instance pool this managed server belongs to.\n- restorePointInTime (string): Optional. Specifies the point in time (ISO8601 format) of the source database that will be restored to create the new database.\n- sourceManagedInstanceResourceId (string): Optional. The resource identifier of the source managed instance associated with create operation of this instance.\n- diagnosticSettings (array): Optional. The diagnostic settings of the service.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- tags (object): Optional. Tags of the resource.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- managedIdentities (N/A): Optional. The managed identity definition for this resource.\n- primaryUserAssignedIdentityResourceId (string): Conditional. The resource ID of a user assigned identity to be used by default. Required if `userAssignedIdentities` is not empty.\n- databases (array): Optional. Databases to create in this server.\n- vulnerabilityAssessment (N/A): Optional. The vulnerability assessment configuration.\n- securityAlertPolicy (N/A): Optional. The security alert policy configuration.\n- keys (array): Optional. The keys to configure.\n- encryptionProtector (N/A): Optional. The encryption protection configuration.\n- maintenanceWindow (string): Optional. The maintenance window for the SQL Managed Instance.\n\nSystemManaged: The system automatically selects a 9-hour maintenance window between 8:00 AM to 5:00 PM local time, Monday - Sunday.\nCustom1: Weekday window: 10:00 PM to 6:00 AM local time, Monday - Thursday.\nCustom2: Weekend window: 10:00 PM to 6:00 AM local time, Friday - Sunday.\n\n- minimalTlsVersion (string): Optional. Minimal TLS version allowed.\n- requestedBackupStorageRedundancy (string): Optional. The storage account type used to store backups for this database."}
{"id": "res_sql_managed-instance_database", "source": "res\\sql\\managed-instance\\database\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Database' (Parent Chain: Sql > Managed Instance).\nResource Type Path: sql\\managed-instance\\database\nModule ID: br/public:res/sql/managed-instance/database:0.4.0\nParameters:\n- name (string): Required. The name of the SQL managed instance database.\n- managedInstanceName (string): Conditional. The name of the parent SQL managed instance. Required if the template is used in a standalone deployment.\n- location (string): Optional. Location for all resources.\n- collation (string): Optional. Collation of the managed instance database.\n- catalogCollation (string): Optional. Collation of the managed instance.\n- createMode (string): Optional. Managed database create mode. PointInTimeRestore: Create a database by restoring a point in time backup of an existing database. SourceDatabaseName, SourceManagedInstanceName and PointInTime must be specified. RestoreExternalBackup: Create a database by restoring from external backup files. Collation, StorageContainerUri and StorageContainerSasToken must be specified. Recovery: Creates a database by restoring a geo-replicated backup. RecoverableDatabaseId must be specified as the recoverable database resource ID to restore. RestoreLongTermRetentionBackup: Create a database by restoring from a long term retention backup (longTermRetentionBackupResourceId required).\n- sourceDatabaseId (string): Conditional. The resource identifier of the source database associated with create operation of this database. Required if createMode is PointInTimeRestore.\n- restorePointInTime (string): Conditional. Specifies the point in time (ISO8601 format) of the source database that will be restored to create the new database. Required if createMode is PointInTimeRestore.\n- restorableDroppedDatabaseId (string): Optional. The restorable dropped database resource ID to restore when creating this database.\n- storageContainerUri (string): Conditional. Specifies the uri of the storage container where backups for this restore are stored. Required if createMode is RestoreExternalBackup.\n- storageContainerSasToken (securestring): Conditional. Specifies the storage container sas token. Required if createMode is RestoreExternalBackup.\n- recoverableDatabaseId (string): Conditional. The resource identifier of the recoverable database associated with create operation of this database. Required if createMode is Recovery.\n- longTermRetentionBackupResourceId (string): Conditional. The resource ID of the Long Term Retention backup to be used for restore of this managed database. Required if createMode is RestoreLongTermRetentionBackup.\n- diagnosticSettings (array): Optional. The database-level diagnostic settings of the service.\n- lock (N/A): Optional. The lock settings of the service.\n- backupShortTermRetentionPolicy (N/A): Optional. The configuration for the backup short term retention policy definition.\n- backupLongTermRetentionPolicy (N/A): Optional. The configuration for the backup long term retention policy definition.\n- tags (object): Optional. Tags of the resource."}
{"id": "res_sql_managed-instance_database_backup-long-term-retention-policy", "source": "res\\sql\\managed-instance\\database\\backup-long-term-retention-policy\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Backup Long Term Retention Policy' (Parent Chain: Sql > Managed Instance > Database).\nResource Type Path: sql\\managed-instance\\database\\backup-long-term-retention-policy\nModule ID: br/public:res/sql/managed-instance/database/backup-long-term-retention-policy:0.4.0\nParameters:\n- name (string): Optional. The name of the Long Term Retention backup policy.\n- databaseName (string): Conditional. The name of the parent managed instance database. Required if the template is used in a standalone deployment.\n- managedInstanceName (string): Conditional. The name of the parent managed instance. Required if the template is used in a standalone deployment.\n- backupStorageAccessTier (string): Optional. The BackupStorageAccessTier for the LTR backups.\n- weekOfYear (int): Optional. The week of year to take the yearly backup in an ISO 8601 format.\n- weeklyRetention (string): Optional. The weekly retention policy for an LTR backup in an ISO 8601 format.\n- monthlyRetention (string): Optional. The monthly retention policy for an LTR backup in an ISO 8601 format.\n- yearlyRetention (string): Optional. The yearly retention policy for an LTR backup in an ISO 8601 format."}
{"id": "res_sql_managed-instance_database_backup-short-term-retention-policy", "source": "res\\sql\\managed-instance\\database\\backup-short-term-retention-policy\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Backup Short Term Retention Policy' (Parent Chain: Sql > Managed Instance > Database).\nResource Type Path: sql\\managed-instance\\database\\backup-short-term-retention-policy\nModule ID: br/public:res/sql/managed-instance/database/backup-short-term-retention-policy:0.4.0\nParameters:\n- name (string): Optional. The name of the Short Term Retention backup policy.\n- databaseName (string): Conditional. The name of the parent SQL managed instance database. Required if the template is used in a standalone deployment.\n- managedInstanceName (string): Conditional. The name of the parent SQL managed instance. Required if the template is used in a standalone deployment.\n- retentionDays (int): Optional. The backup retention period in days. This is how many days Point-in-Time Restore will be supported."}
{"id": "res_sql_managed-instance_encryption-protector", "source": "res\\sql\\managed-instance\\encryption-protector\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Encryption Protector' (Parent Chain: Sql > Managed Instance).\nResource Type Path: sql\\managed-instance\\encryption-protector\nModule ID: br/public:res/sql/managed-instance/encryption-protector:0.4.0\nParameters:\n- managedInstanceName (string): Conditional. The name of the parent SQL managed instance. Required if the template is used in a standalone deployment.\n- serverKeyName (string): Required. The name of the SQL managed instance key.\n- serverKeyType (string): Optional. The encryption protector type like \"ServiceManaged\", \"AzureKeyVault\".\n- autoRotationEnabled (bool): Optional. Key auto rotation opt-in flag."}
{"id": "res_sql_managed-instance_key", "source": "res\\sql\\managed-instance\\key\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Key' (Parent Chain: Sql > Managed Instance).\nResource Type Path: sql\\managed-instance\\key\nModule ID: br/public:res/sql/managed-instance/key:0.4.0\nParameters:\n- name (string): Required. The name of the key. Must follow the [<keyVaultName>_<keyName>_<keyVersion>] pattern.\n- managedInstanceName (string): Conditional. The name of the parent SQL managed instance. Required if the template is used in a standalone deployment.\n- serverKeyType (string): Optional. The encryption protector type like \"ServiceManaged\", \"AzureKeyVault\".\n- uri (string): Optional. The URI of the key. If the ServerKeyType is AzureKeyVault, then either the URI or the keyVaultName/keyName combination is required."}
{"id": "res_sql_managed-instance_security-alert-policy", "source": "res\\sql\\managed-instance\\security-alert-policy\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Security Alert Policy' (Parent Chain: Sql > Managed Instance).\nResource Type Path: sql\\managed-instance\\security-alert-policy\nModule ID: br/public:res/sql/managed-instance/security-alert-policy:0.4.0\nParameters:\n- name (string): Required. The name of the security alert policy.\n- managedInstanceName (string): Conditional. The name of the parent SQL managed instance. Required if the template is used in a standalone deployment.\n- state (string): Optional. Enables advanced data security features, like recuring vulnerability assesment scans and ATP. If enabled, storage account must be provided.\n- emailAccountAdmins (bool): Optional. Specifies that the schedule scan notification will be is sent to the subscription administrators.\n- emailAddresses (array): Optional. Specifies an array of e-mail addresses to which the alert is sent.\n- retentionDays (int): Optional. Specifies the number of days to keep in the Threat Detection audit logs.\n- disabledAlerts (array): Optional. Specifies an array of alerts that are disabled.\n- storageAccountResourceId (string): Conditional. A blob storage to hold all Threat Detection audit logs. Required if state is 'Enabled'."}
{"id": "res_sql_managed-instance_vulnerability-assessment", "source": "res\\sql\\managed-instance\\vulnerability-assessment\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Vulnerability Assessment' (Parent Chain: Sql > Managed Instance).\nResource Type Path: sql\\managed-instance\\vulnerability-assessment\nModule ID: br/public:res/sql/managed-instance/vulnerability-assessment:0.4.0\nParameters:\n- name (string): Required. The name of the vulnerability assessment.\n- managedInstanceName (string): Conditional. The name of the parent SQL managed instance. Required if the template is used in a standalone deployment.\n- recurringScans (object): Optional. The recurring scans configuration.\n- storageAccountResourceId (string): Required. A blob storage to hold the scan results.\n- useStorageAccountAccessKey (bool): Optional. Use Access Key to access the storage account. The storage account cannot be behind a firewall or virtual network. If an access key is not used, the SQL MI system assigned managed identity must be assigned the Storage Blob Data Contributor role on the storage account.\n- createStorageRoleAssignment (bool): Optional. Create the Storage Blob Data Contributor role assignment on the storage account. Note, the role assignment must not already exist on the storage account."}
{"id": "res_sql_server", "source": "res\\sql\\server\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Server' (Parent Chain: Sql).\nResource Type Path: sql\\server\nModule ID: br/public:res/sql/server:0.20.0\nParameters:\n- administratorLogin (string): Conditional. The administrator username for the server. Required if no `administrators` object for AAD authentication is provided.\n- administratorLoginPassword (securestring): Conditional. The administrator login password. Required if no `administrators` object for AAD authentication is provided.\n- location (string): Optional. Location for all resources.\n- name (string): Required. The name of the server.\n- managedIdentities (N/A): Optional. The managed identity definition for this resource.\n- primaryUserAssignedIdentityResourceId (string): Conditional. The resource ID of a user assigned identity to be used by default. Required if \"userAssignedIdentities\" is not empty.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- tags (object): Optional. Tags of the resource.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- databases (array): Optional. The databases to create in the server.\n- elasticPools (array): Optional. The Elastic Pools to create in the server.\n- firewallRules (array): Optional. The firewall rules to create in the server.\n- virtualNetworkRules (array): Optional. The virtual network rules to create in the server.\n- securityAlertPolicies (array): Optional. The security alert policies to create in the server.\n- keys (array): Optional. The keys to configure.\n- customerManagedKey (N/A): Optional. The customer managed key definition for server TDE.\n- administrators (N/A): Conditional. The Azure Active Directory (AAD) administrator authentication. Required if no `administratorLogin` & `administratorLoginPassword` is provided.\n- federatedClientId (string): Optional. The Client id used for cross tenant CMK scenario.\n- minimalTlsVersion (string): Optional. Minimal TLS version allowed.\n- isIPv6Enabled (string): Optional. Whether or not to enable IPv6 support for this server.\n- privateEndpoints (array): Optional. Configuration details for private endpoints. For security reasons, it is recommended to use private endpoints whenever possible.\n- publicNetworkAccess (string): Optional. Whether or not public network access is allowed for this resource. For security reasons it should be disabled. If not specified, it will be disabled by default if private endpoints are set and neither firewall rules nor virtual network rules are set.\n- restrictOutboundNetworkAccess (string): Optional. Whether or not to restrict outbound network access for this server.\n- connectionPolicy (string): Optional. SQL logical server connection policy.\n- vulnerabilityAssessmentsObj (N/A): Optional. The vulnerability assessment configuration.\n- auditSettings (N/A): Optional. The audit settings configuration. If you want to disable auditing, set the parmaeter to an empty object.\n- secretsExportConfiguration (N/A): Optional. Key vault reference and secret settings for the module's secrets export.\n- failoverGroups (array): Optional. The failover groups configuration."}
{"id": "res_sql_server_auditing-setting", "source": "res\\sql\\server\\auditing-setting\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Auditing Setting' (Parent Chain: Sql > Server).\nResource Type Path: sql\\server\\auditing-setting\nModule ID: br/public:res/sql/server/auditing-setting:0.20.0\nParameters:\n- name (string): Required. The name of the audit settings.\n- serverName (string): Conditional. The Name of SQL Server. Required if the template is used in a standalone deployment.\n- state (string): Optional. Specifies the state of the audit. If state is Enabled, storageEndpoint or isAzureMonitorTargetEnabled are required.\n- auditActionsAndGroups (array): Optional. Specifies the Actions-Groups and Actions to audit.\n- isAzureMonitorTargetEnabled (bool): Optional. Specifies whether audit events are sent to Azure Monitor.\n- isDevopsAuditEnabled (bool): Optional. Specifies the state of devops audit. If state is Enabled, devops logs will be sent to Azure Monitor.\n- isManagedIdentityInUse (bool): Optional. Specifies whether Managed Identity is used to access blob storage.\n- isStorageSecondaryKeyInUse (bool): Optional. Specifies whether storageAccountAccessKey value is the storage's secondary key.\n- queueDelayMs (int): Optional. Specifies the amount of time in milliseconds that can elapse before audit actions are forced to be processed.\n- retentionDays (int): Optional. Specifies the number of days to keep in the audit logs in the storage account.\n- storageAccountResourceId (string): Optional. A blob storage to hold the auditing storage account."}
{"id": "res_sql_server_database", "source": "res\\sql\\server\\database\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Database' (Parent Chain: Sql > Server).\nResource Type Path: sql\\server\\database\nModule ID: br/public:res/sql/server/database:0.1.0\nParameters:\n- name (string): Required. The name of the database.\n- serverName (string): Conditional. The name of the parent SQL Server. Required if the template is used in a standalone deployment.\n- sku (N/A): Optional. The database SKU.\n- autoPauseDelay (int): Optional. Time in minutes after which database is automatically paused. A value of -1 means that automatic pause is disabled.\n- availabilityZone (int): Required. If set to 1, 2 or 3, the availability zone is hardcoded to that value. If set to -1, no zone is defined. Note that the availability zone numbers here are the logical availability zone in your Azure subscription. Different subscriptions might have a different mapping of the physical zone and logical zone. To understand more, please refer to [Physical and logical availability zones](https://learn.microsoft.com/en-us/azure/reliability/availability-zones-overview?tabs=azure-cli#physical-and-logical-availability-zones).\n- catalogCollation (string): Optional. Collation of the metadata catalog.\n- collation (string): Optional. The collation of the database.\n- createMode (string): Optional. Specifies the mode of database creation.\n- elasticPoolResourceId (string): Optional. The resource ID of the elastic pool containing this database.\n- federatedClientId (string): Optional. The Client id used for cross tenant per database CMK scenario.\n- freeLimitExhaustionBehavior (string): Optional. Specifies the behavior when monthly free limits are exhausted for the free database.\n- highAvailabilityReplicaCount (int): Optional. The number of readonly secondary replicas associated with the database.\n- isLedgerOn (bool): Optional. Whether or not this database is a ledger database, which means all tables in the database are ledger tables. Note: the value of this property cannot be changed after the database has been created.\n- licenseType (string): Optional. The license type to apply for this database.\n- longTermRetentionBackupResourceId (string): Optional. The resource identifier of the long term retention backup associated with create operation of this database.\n- maintenanceConfigurationId (string): Optional. Maintenance configuration ID assigned to the database. This configuration defines the period when the maintenance updates will occur.\n- manualCutover (bool): Optional. Whether or not customer controlled manual cutover needs to be done during Update Database operation to Hyperscale tier.\n- maxSizeBytes (int): Optional. The max size of the database expressed in bytes.\n- minCapacity (string): Optional. Minimal capacity that database will always have allocated.\n- performCutover (bool): Optional. To trigger customer controlled manual cutover during the wait state while Scaling operation is in progress.\n- preferredEnclaveType (string): Optional. Type of enclave requested on the database i.e. Default or VBS enclaves.\n- readScale (string): Optional. The state of read-only routing.\n- recoverableDatabaseResourceId (string): Optional. The resource identifier of the recoverable database associated with create operation of this database.\n- recoveryServicesRecoveryPointResourceId (string): Optional. The resource identifier of the recovery point associated with create operation of this database.\n- requestedBackupStorageRedundancy (string): Optional. The storage account type to be used to store backups for this database.\n- restorableDroppedDatabaseResourceId (string): Optional. The resource identifier of the restorable dropped database associated with create operation of this database.\n- restorePointInTime (string): Optional. Point in time (ISO8601 format) of the source database to restore when createMode set to Restore or PointInTimeRestore.\n- sampleName (string): Optional. The name of the sample schema to apply when creating this database.\n- secondaryType (string): Optional. The secondary type of the database if it is a secondary.\n- sourceDatabaseDeletionDate (string): Optional. The time that the database was deleted when restoring a deleted database.\n- sourceDatabaseResourceId (string): Optional. The resource identifier of the source database associated with create operation of this database.\n- sourceResourceId (string): Optional. The resource identifier of the source associated with the create operation of this database.\n- useFreeLimit (bool): Optional. Whether or not the database uses free monthly limits. Allowed on one database in a subscription.\n- zoneRedundant (bool): Optional. Whether or not this database is zone redundant.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- tags (object): Optional. Tags of the resource.\n- location (string): Optional. Location for all resources.\n- lock (N/A): Optional. The lock settings of the databse.\n- diagnosticSettings (array): Optional. The diagnostic settings of the service.\n- backupShortTermRetentionPolicy (N/A): Optional. The short term backup retention policy to create for the database.\n- backupLongTermRetentionPolicy (N/A): Optional. The long term backup retention policy to create for the database.\n- managedIdentities (N/A): Optional. The managed identity definition for this resource.\n- customerManagedKey (N/A): Optional. The customer managed key definition for database TDE."}
{"id": "res_sql_server_database_backup-long-term-retention-policy", "source": "res\\sql\\server\\database\\backup-long-term-retention-policy\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Backup Long Term Retention Policy' (Parent Chain: Sql > Server > Database).\nResource Type Path: sql\\server\\database\\backup-long-term-retention-policy\nModule ID: br/public:res/sql/server/database/backup-long-term-retention-policy:0.1.0\nParameters:\n- serverName (string): Required. The name of the parent SQL Server.\n- databaseName (string): Required. The name of the parent database.\n- monthlyRetention (string): Optional. Monthly retention in ISO 8601 duration format.\n- weeklyRetention (string): Optional. Weekly retention in ISO 8601 duration format.\n- weekOfYear (int): Optional. Week of year backup to keep for yearly retention.\n- yearlyRetention (string): Optional. Yearly retention in ISO 8601 duration format."}
{"id": "res_sql_server_database_backup-short-term-retention-policy", "source": "res\\sql\\server\\database\\backup-short-term-retention-policy\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Backup Short Term Retention Policy' (Parent Chain: Sql > Server > Database).\nResource Type Path: sql\\server\\database\\backup-short-term-retention-policy\nModule ID: br/public:res/sql/server/database/backup-short-term-retention-policy:0.1.0\nParameters:\n- serverName (string): Required. The name of the parent SQL Server.\n- databaseName (string): Required. The name of the parent database.\n- diffBackupIntervalInHours (int): Optional. Differential backup interval in hours. For Hyperscal tiers this value will be ignored.\n- retentionDays (int): Optional. Poin-in-time retention in days."}
{"id": "res_sql_server_elastic-pool", "source": "res\\sql\\server\\elastic-pool\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Elastic Pool' (Parent Chain: Sql > Server).\nResource Type Path: sql\\server\\elastic-pool\nModule ID: br/public:res/sql/server/elastic-pool:0.20.0\nParameters:\n- name (string): Required. The name of the Elastic Pool.\n- serverName (string): Conditional. The name of the parent SQL Server. Required if the template is used in a standalone deployment.\n- tags (object): Optional. Tags of the resource.\n- location (string): Optional. Location for all resources.\n- lock (N/A): Optional. The lock settings of the elastic pool.\n- sku (N/A): Optional. The elastic pool SKU.\n- autoPauseDelay (int): Optional. Time in minutes after which elastic pool is automatically paused. A value of -1 means that automatic pause is disabled.\n- availabilityZone (int): Required. If set to 1, 2 or 3, the availability zone is hardcoded to that value. If set to -1, no zone is defined. Note that the availability zone numbers here are the logical availability zone in your Azure subscription. Different subscriptions might have a different mapping of the physical zone and logical zone. To understand more, please refer to [Physical and logical availability zones](https://learn.microsoft.com/en-us/azure/reliability/availability-zones-overview?tabs=azure-cli#physical-and-logical-availability-zones).\n- highAvailabilityReplicaCount (int): Optional. The number of secondary replicas associated with the elastic pool that are used to provide high availability. Applicable only to Hyperscale elastic pools.\n- licenseType (string): Optional. The license type to apply for this elastic pool.\n- maintenanceConfigurationId (string): Optional. Maintenance configuration resource ID assigned to the elastic pool. This configuration defines the period when the maintenance updates will will occur.\n- maxSizeBytes (int): Optional. The storage limit for the database elastic pool in bytes.\n- minCapacity (int): Optional. Minimal capacity that serverless pool will not shrink below, if not paused.\n- perDatabaseSettings (N/A): Optional. The per database settings for the elastic pool.\n- preferredEnclaveType (string): Optional. Type of enclave requested on the elastic pool.\n- zoneRedundant (bool): Optional. Whether or not this elastic pool is zone redundant, which means the replicas of this elastic pool will be spread across multiple availability zones.\n- roleAssignments (array): Optional. Array of role assignments to create."}
{"id": "res_sql_server_encryption-protector", "source": "res\\sql\\server\\encryption-protector\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Encryption Protector' (Parent Chain: Sql > Server).\nResource Type Path: sql\\server\\encryption-protector\nModule ID: br/public:res/sql/server/encryption-protector:0.20.0\nParameters:\n- sqlServerName (string): Conditional. The name of the sql server. Required if the template is used in a standalone deployment.\n- serverKeyName (string): Required. The name of the server key.\n- autoRotationEnabled (bool): Optional. Key auto rotation opt-in flag.\n- serverKeyType (string): Optional. The encryption protector type."}
{"id": "res_sql_server_failover-group", "source": "res\\sql\\server\\failover-group\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Failover Group' (Parent Chain: Sql > Server).\nResource Type Path: sql\\server\\failover-group\nModule ID: br/public:res/sql/server/failover-group:0.20.0\nParameters:\n- name (string): Required. The name of the failover group.\n- serverName (string): Conditional. The Name of SQL Server. Required if the template is used in a standalone deployment.\n- databases (array): Required. List of databases in the failover group.\n- partnerServerResourceIds (array): Required. List of the partner server Resource Ids for the failover group.\n- readOnlyEndpoint (N/A): Optional. Read-only endpoint of the failover group instance.\n- readWriteEndpoint (N/A): Required. Read-write endpoint of the failover group instance.\n- secondaryType (string): Required. Databases secondary type on partner server.\n- tags (object): Optional. Tags of the resource."}
{"id": "res_sql_server_firewall-rule", "source": "res\\sql\\server\\firewall-rule\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Firewall Rule' (Parent Chain: Sql > Server).\nResource Type Path: sql\\server\\firewall-rule\nModule ID: br/public:res/sql/server/firewall-rule:0.20.0\nParameters:\n- name (string): Required. The name of the Server Firewall Rule.\n- endIpAddress (string): Optional. The end IP address of the firewall rule. Must be IPv4 format. Must be greater than or equal to startIpAddress. Use value '0.0.0.0' for all Azure-internal IP addresses.\n- startIpAddress (string): Optional. The start IP address of the firewall rule. Must be IPv4 format. Use value '0.0.0.0' for all Azure-internal IP addresses.\n- serverName (string): Conditional. The name of the parent SQL Server. Required if the template is used in a standalone deployment."}
{"id": "res_sql_server_key", "source": "res\\sql\\server\\key\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Key' (Parent Chain: Sql > Server).\nResource Type Path: sql\\server\\key\nModule ID: br/public:res/sql/server/key:0.20.0\nParameters:\n- name (string): Optional. The name of the key. Must follow the [<keyVaultName>_<keyName>_<keyVersion>] pattern.\n- serverName (string): Conditional. The name of the parent SQL server. Required if the template is used in a standalone deployment.\n- serverKeyType (string): Optional. The server key type.\n- uri (string): Optional. The URI of the server key. If the ServerKeyType is AzureKeyVault, then the URI is required. The AKV URI is required to be in this format: 'https://YourVaultName.azure.net/keys/YourKeyName/YourKeyVersion'."}
{"id": "res_sql_server_security-alert-policy", "source": "res\\sql\\server\\security-alert-policy\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Security Alert Policy' (Parent Chain: Sql > Server).\nResource Type Path: sql\\server\\security-alert-policy\nModule ID: br/public:res/sql/server/security-alert-policy:0.20.0\nParameters:\n- name (string): Required. The name of the Security Alert Policy.\n- disabledAlerts (array): Optional. Alerts to disable.\n- emailAccountAdmins (bool): Optional. Specifies that the alert is sent to the account administrators.\n- emailAddresses (array): Optional. Specifies an array of email addresses to which the alert is sent.\n- retentionDays (int): Optional. Specifies the number of days to keep in the Threat Detection audit logs.\n- state (string): Optional. Specifies the state of the policy, whether it is enabled or disabled or a policy has not been applied yet on the specific database.\n- storageAccountAccessKey (securestring): Optional. Specifies the identifier key of the Threat Detection audit storage account.\n- storageEndpoint (string): Optional. Specifies the blob storage endpoint. This blob storage will hold all Threat Detection audit logs.\n- serverName (string): Conditional. The name of the parent SQL Server. Required if the template is used in a standalone deployment."}
{"id": "res_sql_server_virtual-network-rule", "source": "res\\sql\\server\\virtual-network-rule\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Virtual Network Rule' (Parent Chain: Sql > Server).\nResource Type Path: sql\\server\\virtual-network-rule\nModule ID: br/public:res/sql/server/virtual-network-rule:0.20.0\nParameters:\n- name (string): Required. The name of the Server Virtual Network Rule.\n- ignoreMissingVnetServiceEndpoint (bool): Optional. Allow creating a firewall rule before the virtual network has vnet service endpoint enabled.\n- virtualNetworkSubnetResourceId (string): Required. The resource ID of the virtual network subnet.\n- serverName (string): Conditional. The name of the parent SQL Server. Required if the template is used in a standalone deployment."}
{"id": "res_sql_server_vulnerability-assessment", "source": "res\\sql\\server\\vulnerability-assessment\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Vulnerability Assessment' (Parent Chain: Sql > Server).\nResource Type Path: sql\\server\\vulnerability-assessment\nModule ID: br/public:res/sql/server/vulnerability-assessment:0.20.0\nParameters:\n- name (string): Required. The name of the vulnerability assessment.\n- serverName (string): Conditional. The Name of SQL Server. Required if the template is used in a standalone deployment.\n- recurringScans (N/A): Optional. The recurring scans settings.\n- storageAccountResourceId (string): Required. A blob storage to hold the scan results.\n- useStorageAccountAccessKey (bool): Optional. Use Access Key to access the storage account. The storage account cannot be behind a firewall or virtual network. If an access key is not used, the SQL Server system assigned managed identity must be assigned the Storage Blob Data Contributor role on the storage account.\n- createStorageRoleAssignment (bool): Optional. Create the Storage Blob Data Contributor role assignment on the storage account. Note, the role assignment must not already exist on the storage account."}
{"id": "res_storage_storage-account", "source": "res\\storage\\storage-account\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Storage Account' (Parent Chain: Storage).\nResource Type Path: storage\\storage-account\nModule ID: br/public:res/storage/storage-account:0.27.0\nParameters:\n- name (string): Required. Name of the Storage Account. Must be lower-case.\n- location (string): Optional. Location for all resources.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- managedIdentities (N/A): Optional. The managed identity definition for this resource.\n- kind (string): Optional. Type of Storage Account to create.\n- skuName (string): Optional. Storage Account Sku Name - note: certain V2 SKUs require the use of: kind = FileStorage.\n- accessTier (string): Conditional. Required if the Storage Account kind is set to BlobStorage. The access tier is used for billing. The \"Premium\" access tier is the default value for premium block blobs storage account type and it cannot be changed for the premium block blobs storage account type.\n- largeFileSharesState (string): Optional. Allow large file shares if set to 'Enabled'. It cannot be disabled once it is enabled. Only supported on locally redundant and zone redundant file shares. It cannot be set on FileStorage storage accounts (storage accounts for premium file shares).\n- azureFilesIdentityBasedAuthentication (object): Optional. Provides the identity based authentication settings for Azure Files.\n- defaultToOAuthAuthentication (bool): Optional. A boolean flag which indicates whether the default authentication is OAuth or not.\n- allowSharedKeyAccess (bool): Optional. Indicates whether the storage account permits requests to be authorized with the account access key via Shared Key. If false, then all requests, including shared access signatures, must be authorized with Azure Active Directory (Azure AD). The default value is null, which is equivalent to true.\n- privateEndpoints (array): Optional. Configuration details for private endpoints. For security reasons, it is recommended to use private endpoints whenever possible.\n- managementPolicyRules (array): Optional. The Storage Account ManagementPolicies Rules.\n- networkAcls (N/A): Optional. Networks ACLs, this value contains IPs to whitelist and/or Subnet information. If in use, bypass needs to be supplied. For security reasons, it is recommended to set the DefaultAction Deny.\n- requireInfrastructureEncryption (bool): Optional. A Boolean indicating whether or not the service applies a secondary layer of encryption with platform managed keys for data at rest. For security reasons, it is recommended to set it to true.\n- allowCrossTenantReplication (bool): Optional. Allow or disallow cross AAD tenant object replication.\n- customDomainName (string): Optional. Sets the custom domain name assigned to the storage account. Name is the CNAME source.\n- customDomainUseSubDomainName (bool): Optional. Indicates whether indirect CName validation is enabled. This should only be set on updates.\n- dnsEndpointType (string): Optional. Allows you to specify the type of endpoint. Set this to AzureDNSZone to create a large number of accounts in a single subscription, which creates accounts in an Azure DNS Zone and the endpoint URL will have an alphanumeric DNS Zone identifier.\n- blobServices (N/A): Optional. Blob service and containers to deploy.\n- fileServices (object): Optional. File service and shares to deploy.\n- queueServices (object): Optional. Queue service and queues to create.\n- tableServices (object): Optional. Table service and tables to create.\n- allowBlobPublicAccess (bool): Optional. Indicates whether public access is enabled for all blobs or containers in the storage account. For security reasons, it is recommended to set it to false.\n- minimumTlsVersion (string): Optional. Set the minimum TLS version on request to storage. The TLS versions 1.0 and 1.1 are deprecated and not supported anymore.\n- enableHierarchicalNamespace (bool): Conditional. If true, enables Hierarchical Namespace for the storage account. Required if enableSftp or enableNfsV3 is set to true.\n- enableSftp (bool): Optional. If true, enables Secure File Transfer Protocol for the storage account. Requires enableHierarchicalNamespace to be true.\n- localUsers (array): Optional. Local users to deploy for SFTP authentication.\n- isLocalUserEnabled (bool): Optional. Enables local users feature, if set to true.\n- enableNfsV3 (bool): Optional. If true, enables NFS 3.0 support for the storage account. Requires enableHierarchicalNamespace to be true.\n- diagnosticSettings (array): Optional. The diagnostic settings of the service.\n- lock (N/A): Optional. The lock settings of the service.\n- tags (object): Optional. Tags of the resource.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- allowedCopyScope (string): Optional. Restrict copy to and from Storage Accounts within an AAD tenant or with Private Links to the same VNet.\n- publicNetworkAccess (string): Optional. Whether or not public network access is allowed for this resource. For security reasons it should be disabled. If not specified, it will be disabled by default if private endpoints are set and networkAcls are not set.\n- supportsHttpsTrafficOnly (bool): Optional. Allows HTTPS traffic only to storage service if sets to true.\n- customerManagedKey (N/A): Optional. The customer managed key definition.\n- sasExpirationPeriod (string): Optional. The SAS expiration period. DD.HH:MM:SS.\n- sasExpirationAction (string): Optional. The SAS expiration action. Allowed values are Block and Log.\n- keyType (string): Optional. The keyType to use with Queue & Table services.\n- secretsExportConfiguration (N/A): Optional. Key vault reference and secret settings for the module's secrets export.\n- immutableStorageWithVersioning (object): Optional. The property is immutable and can only be set to true at the account creation time. When set to true, it enables object level immutability for all the new containers in the account by default. Cannot be enabled for ADLS Gen2 storage accounts."}
{"id": "res_storage_storage-account_blob-service", "source": "res\\storage\\storage-account\\blob-service\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Blob Service' (Parent Chain: Storage > Storage Account).\nResource Type Path: storage\\storage-account\\blob-service\nModule ID: br/public:res/storage/storage-account/blob-service:0.27.0\nParameters:\n- storageAccountName (string): Conditional. The name of the parent Storage Account. Required if the template is used in a standalone deployment.\n- automaticSnapshotPolicyEnabled (bool): Optional. Automatic Snapshot is enabled if set to true.\n- changeFeedEnabled (bool): Optional. The blob service properties for change feed events. Indicates whether change feed event logging is enabled for the Blob service.\n- changeFeedRetentionInDays (int): Optional. Indicates whether change feed event logging is enabled for the Blob service. Indicates the duration of changeFeed retention in days. If left blank, it indicates an infinite retention of the change feed.\n- containerDeleteRetentionPolicyEnabled (bool): Optional. The blob service properties for container soft delete. Indicates whether DeleteRetentionPolicy is enabled.\n- containerDeleteRetentionPolicyDays (int): Optional. Indicates the number of days that the deleted item should be retained.\n- containerDeleteRetentionPolicyAllowPermanentDelete (bool): Optional. This property when set to true allows deletion of the soft deleted blob versions and snapshots. This property cannot be used with blob restore policy. This property only applies to blob service and does not apply to containers or file share.\n- corsRules (array): Optional. The List of CORS rules. You can include up to five CorsRule elements in the request.\n- defaultServiceVersion (string): Optional. Indicates the default version to use for requests to the Blob service if an incoming request's version is not specified. Possible values include version 2008-10-27 and all more recent versions.\n- deleteRetentionPolicyEnabled (bool): Optional. The blob service properties for blob soft delete.\n- deleteRetentionPolicyDays (int): Optional. Indicates the number of days that the deleted blob should be retained.\n- deleteRetentionPolicyAllowPermanentDelete (bool): Optional. This property when set to true allows deletion of the soft deleted blob versions and snapshots. This property cannot be used with blob restore policy. This property only applies to blob service and does not apply to containers or file share.\n- isVersioningEnabled (bool): Optional. Use versioning to automatically maintain previous versions of your blobs. Cannot be enabled for ADLS Gen2 storage accounts.\n- lastAccessTimeTrackingPolicyEnabled (bool): Optional. The blob service property to configure last access time based tracking policy. When set to true last access time based tracking is enabled.\n- restorePolicyEnabled (bool): Optional. The blob service properties for blob restore policy. If point-in-time restore is enabled, then versioning, change feed, and blob soft delete must also be enabled.\n- restorePolicyDays (int): Optional. How long this blob can be restored. It should be less than DeleteRetentionPolicy days.\n- containers (array): Optional. Blob containers to create.\n- diagnosticSettings (array): Optional. The diagnostic settings of the service."}
{"id": "res_storage_storage-account_blob-service_container", "source": "res\\storage\\storage-account\\blob-service\\container\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Container' (Parent Chain: Storage > Storage Account > Blob Service).\nResource Type Path: storage\\storage-account\\blob-service\\container\nModule ID: br/public:res/storage/storage-account/blob-service/container:0.3.0\nParameters:\n- storageAccountName (string): Conditional. The name of the parent Storage Account. Required if the template is used in a standalone deployment.\n- blobServiceName (string): Optional. The name of the parent Blob Service. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the Storage Container to deploy.\n- defaultEncryptionScope (string): Optional. Default the container to use specified encryption scope for all writes.\n- denyEncryptionScopeOverride (bool): Optional. Block override of encryption scope from the container default.\n- enableNfsV3AllSquash (bool): Optional. Enable NFSv3 all squash on blob container.\n- enableNfsV3RootSquash (bool): Optional. Enable NFSv3 root squash on blob container.\n- immutableStorageWithVersioningEnabled (bool): Optional. This is an immutable property, when set to true it enables object level immutability at the container level. The property is immutable and can only be set to true at the container creation time. Existing containers must undergo a migration process.\n- immutabilityPolicy (N/A): Optional. Configure immutability policy.\n- metadata (object): Optional. A name-value pair to associate with the container as metadata.\n- publicAccess (string): Optional. Specifies whether data in the container may be accessed publicly and the level of access.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- roleAssignments (array): Optional. Array of role assignments to create."}
{"id": "res_storage_storage-account_blob-service_container_immutability-policy", "source": "res\\storage\\storage-account\\blob-service\\container\\immutability-policy\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Immutability Policy' (Parent Chain: Storage > Storage Account > Blob Service > Container).\nResource Type Path: storage\\storage-account\\blob-service\\container\\immutability-policy\nModule ID: br/public:res/storage/storage-account/blob-service/container/immutability-policy:0.3.0\nParameters:\n- storageAccountName (string): Conditional. The name of the parent Storage Account. Required if the template is used in a standalone deployment.\n- containerName (string): Conditional. The name of the parent container to apply the policy to. Required if the template is used in a standalone deployment.\n- immutabilityPeriodSinceCreationInDays (int): Optional. The immutability period for the blobs in the container since the policy creation, in days.\n- allowProtectedAppendWrites (bool): Optional. This property can only be changed for unlocked time-based retention policies. When enabled, new blocks can be written to an append blob while maintaining immutability protection and compliance. Only new blocks can be added and any existing blocks cannot be modified or deleted. This property cannot be changed with ExtendImmutabilityPolicy API. The \"allowProtectedAppendWrites\" and \"allowProtectedAppendWritesAll\" properties are mutually exclusive.\n- allowProtectedAppendWritesAll (bool): Optional. This property can only be changed for unlocked time-based retention policies. When enabled, new blocks can be written to both \"Append and Block Blobs\" while maintaining immutability protection and compliance. Only new blocks can be added and any existing blocks cannot be modified or deleted. This property cannot be changed with ExtendImmutabilityPolicy API. The \"allowProtectedAppendWrites\" and \"allowProtectedAppendWritesAll\" properties are mutually exclusive."}
{"id": "res_storage_storage-account_file-service", "source": "res\\storage\\storage-account\\file-service\\main.bicep", "content_to_embed": "Recommended AVM Module for 'File Service' (Parent Chain: Storage > Storage Account).\nResource Type Path: storage\\storage-account\\file-service\nModule ID: br/public:res/storage/storage-account/file-service:0.27.0\nParameters:\n- storageAccountName (string): Conditional. The name of the parent Storage Account. Required if the template is used in a standalone deployment.\n- name (string): Optional. The name of the file service.\n- protocolSettings (object): Optional. Protocol settings for file service.\n- shareDeleteRetentionPolicy (object): Optional. The service properties for soft delete.\n- corsRules (array): Optional. The List of CORS rules. You can include up to five CorsRule elements in the request.\n- diagnosticSettings (array): Optional. The diagnostic settings of the service.\n- shares (array): Optional. File shares to create."}
{"id": "res_storage_storage-account_file-service_share", "source": "res\\storage\\storage-account\\file-service\\share\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Share' (Parent Chain: Storage > Storage Account > File Service).\nResource Type Path: storage\\storage-account\\file-service\\share\nModule ID: br/public:res/storage/storage-account/file-service/share:0.1.0\nParameters:\n- storageAccountName (string): Conditional. The name of the parent Storage Account. Required if the template is used in a standalone deployment.\n- fileServicesName (string): Conditional. The name of the parent file service. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the file share to create.\n- accessTier (string): Conditional. Access tier for specific share. Required if the Storage Account kind is set to FileStorage (should be set to \"Premium\"). GpV2 account can choose between TransactionOptimized (default), Hot, and Cool.\n- shareQuota (int): Optional. The maximum size of the share, in gigabytes. Must be greater than 0, and less than or equal to 5120 (5TB). For Large File Shares, the maximum size is 102400 (100TB).\n- enabledProtocols (string): Optional. The authentication protocol that is used for the file share. Can only be specified when creating a share.\n- rootSquash (string): Optional. Permissions for NFS file shares are enforced by the client OS rather than the Azure Files service. Toggling the root squash behavior reduces the rights of the root user for NFS shares.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- roleAssignments (array): Optional. Array of role assignments to create."}
{"id": "res_storage_storage-account_local-user", "source": "res\\storage\\storage-account\\local-user\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Local User' (Parent Chain: Storage > Storage Account).\nResource Type Path: storage\\storage-account\\local-user\nModule ID: br/public:res/storage/storage-account/local-user:0.27.0\nParameters:\n- storageAccountName (string): Conditional. The name of the parent Storage Account. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the local user used for SFTP Authentication.\n- hasSharedKey (bool): Optional. Indicates whether shared key exists. Set it to false to remove existing shared key.\n- hasSshKey (bool): Required. Indicates whether SSH key exists. Set it to false to remove existing SSH key.\n- hasSshPassword (bool): Required. Indicates whether SSH password exists. Set it to false to remove existing SSH password.\n- homeDirectory (string): Optional. The local user home directory.\n- permissionScopes (array): Required. The permission scopes of the local user.\n- sshAuthorizedKeys (array): Optional. The local user SSH authorized keys for SFTP."}
{"id": "res_storage_storage-account_management-policy", "source": "res\\storage\\storage-account\\management-policy\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Management Policy' (Parent Chain: Storage > Storage Account).\nResource Type Path: storage\\storage-account\\management-policy\nModule ID: br/public:res/storage/storage-account/management-policy:0.27.0\nParameters:\n- storageAccountName (string): Conditional. The name of the parent Storage Account. Required if the template is used in a standalone deployment.\n- rules (array): Required. The Storage Account ManagementPolicies Rules."}
{"id": "res_storage_storage-account_queue-service", "source": "res\\storage\\storage-account\\queue-service\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Queue Service' (Parent Chain: Storage > Storage Account).\nResource Type Path: storage\\storage-account\\queue-service\nModule ID: br/public:res/storage/storage-account/queue-service:0.27.0\nParameters:\n- storageAccountName (string): Conditional. The name of the parent Storage Account. Required if the template is used in a standalone deployment.\n- queues (array): Optional. Queues to create.\n- corsRules (array): Optional. The List of CORS rules. You can include up to five CorsRule elements in the request.\n- diagnosticSettings (array): Optional. The diagnostic settings of the service."}
{"id": "res_storage_storage-account_queue-service_queue", "source": "res\\storage\\storage-account\\queue-service\\queue\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Queue' (Parent Chain: Storage > Storage Account > Queue Service).\nResource Type Path: storage\\storage-account\\queue-service\\queue\nModule ID: br/public:res/storage/storage-account/queue-service/queue:0.27.0\nParameters:\n- storageAccountName (string): Conditional. The name of the parent Storage Account. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the storage queue to deploy.\n- metadata (object): Optional. A name-value pair that represents queue metadata.\n- roleAssignments (array): Optional. Array of role assignments to create."}
{"id": "res_storage_storage-account_table-service", "source": "res\\storage\\storage-account\\table-service\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Table Service' (Parent Chain: Storage > Storage Account).\nResource Type Path: storage\\storage-account\\table-service\nModule ID: br/public:res/storage/storage-account/table-service:0.27.0\nParameters:\n- storageAccountName (string): Conditional. The name of the parent Storage Account. Required if the template is used in a standalone deployment.\n- tables (array): Optional. tables to create.\n- corsRules (array): Optional. The List of CORS rules. You can include up to five CorsRule elements in the request.\n- diagnosticSettings (array): Optional. The diagnostic settings of the service."}
{"id": "res_storage_storage-account_table-service_table", "source": "res\\storage\\storage-account\\table-service\\table\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Table' (Parent Chain: Storage > Storage Account > Table Service).\nResource Type Path: storage\\storage-account\\table-service\\table\nModule ID: br/public:res/storage/storage-account/table-service/table:0.27.0\nParameters:\n- storageAccountName (string): Conditional. The name of the parent Storage Account. Required if the template is used in a standalone deployment.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- name (string): Required. Name of the table."}
{"id": "res_synapse_private-link-hub", "source": "res\\synapse\\private-link-hub\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Private Link Hub' (Parent Chain: Synapse).\nResource Type Path: synapse\\private-link-hub\nModule ID: br/public:res/synapse/private-link-hub:0.6.0\nParameters:\n- name (string): Required. The name of the Private Link Hub.\n- location (string): Optional. The geo-location where the resource lives.\n- tags (object): Optional. Tags of the resource.\n- lock (N/A): Optional. The lock settings of the service.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- privateEndpoints (array): Optional. Configuration details for private endpoints. For security reasons, it is recommended to use private endpoints whenever possible."}
{"id": "res_synapse_workspace", "source": "res\\synapse\\workspace\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Workspace' (Parent Chain: Synapse).\nResource Type Path: synapse\\workspace\nModule ID: br/public:res/synapse/workspace:0.14.0\nParameters:\n- name (string): Required. The name of the Synapse Workspace.\n- location (string): Optional. The geo-location where the resource lives.\n- tags (object): Optional. Tags of the resource.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- azureADOnlyAuthentication (bool): Optional. Enable or Disable AzureADOnlyAuthentication on All Workspace sub-resource.\n- initialWorkspaceAdminObjectID (string): Optional. AAD object ID of initial workspace admin.\n- defaultDataLakeStorageAccountResourceId (string): Required. Resource ID of the default ADLS Gen2 storage account.\n- defaultDataLakeStorageFilesystem (string): Required. The default ADLS Gen2 file system.\n- defaultDataLakeStorageCreateManagedPrivateEndpoint (bool): Optional. Create managed private endpoint to the default storage account or not. If Yes is selected, a managed private endpoint connection request is sent to the workspace's primary Data Lake Storage Gen2 account for Spark pools to access data. This must be approved by an owner of the storage account.\n- administrator (N/A): Optional. The Entra ID administrator for the synapse workspace.\n- customerManagedKey (N/A): Optional. The customer managed key definition.\n- encryptionActivateWorkspace (bool): Optional. Activate workspace by adding the system managed identity in the KeyVault containing the customer managed key and activating the workspace.\n- managedResourceGroupName (string): Optional. Workspace managed resource group. The resource group name uniquely identifies the resource group within the user subscriptionId. The resource group name must be no longer than 90 characters long, and must be alphanumeric characters (Char.IsLetterOrDigit()) and '-', '_', '(', ')' and'.'. Note that the name cannot end with '.'.\n- managedVirtualNetwork (bool): Optional. Enable this to ensure that connection from your workspace to your data sources use Azure Private Links. You can create managed private endpoints to your data sources.\n- integrationRuntimes (array): Optional. The Integration Runtimes to create.\n- allowedAadTenantIdsForLinking (array): Optional. Allowed AAD Tenant IDs For Linking.\n- linkedAccessCheckOnTargetResource (bool): Optional. Linked Access Check On Target Resource.\n- preventDataExfiltration (bool): Optional. Prevent Data Exfiltration.\n- publicNetworkAccess (string): Optional. Enable or Disable public network access to workspace.\n- firewallRules (array): Optional. List of firewall rules to be created in the workspace.\n- bigDataPools (array): Optional. List of Big Data Pools to be created in the workspace.\n- sqlPools (array): Optional. List of SQL Pools to be created in the workspace.\n- purviewResourceId (string): Optional. Purview Resource ID.\n- sqlAdministratorLogin (string): Required. Login for administrator access to the workspace's SQL pools.\n- sqlAdministratorLoginPassword (securestring): Optional. Password for administrator access to the workspace's SQL pools. If you don't provide a password, one will be automatically generated. You can change the password later.\n- accountUrl (string): Optional. The account URL of the data lake storage account.\n- workspaceRepositoryConfiguration (object): Optional. Git integration settings.\n- managedIdentities (N/A): Optional. The managed identity definition for this resource.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- privateEndpoints (array): Optional. Configuration details for private endpoints. For security reasons, it is recommended to use private endpoints whenever possible.\n- diagnosticSettings (array): Optional. The diagnostic settings of the service."}
{"id": "res_synapse_workspace_administrator", "source": "res\\synapse\\workspace\\administrator\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Administrator' (Parent Chain: Synapse > Workspace).\nResource Type Path: synapse\\workspace\\administrator\nModule ID: br/public:res/synapse/workspace/administrator:0.14.0\nParameters:\n- workspaceName (string): Conditional. The name of the parent Synapse Workspace. Required if the template is used in a standalone deployment.\n- administratorType (string): Required. Workspace active directory administrator type.\n- login (securestring): Required. Login of the workspace active directory administrator.\n- sid (securestring): Required. Object ID of the workspace active directory administrator.\n- tenantId (string): Optional. Tenant ID of the workspace active directory administrator."}
{"id": "res_synapse_workspace_big-data-pool", "source": "res\\synapse\\workspace\\big-data-pool\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Big Data Pool' (Parent Chain: Synapse > Workspace).\nResource Type Path: synapse\\workspace\\big-data-pool\nModule ID: br/public:res/synapse/workspace/big-data-pool:0.14.0\nParameters:\n- workspaceName (string): Conditional. The name of the parent Synapse Workspace. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the Big Data Pool.\n- location (string): Optional. The geo-location where the resource lives.\n- nodeSizeFamily (string): Optional. The kind of nodes that the Big Data pool provides.\n- nodeSize (string): Required. The level of compute power that each node in the Big Data pool has.\n- autoScale (N/A): Optional. Auto-scaling properties.\n- nodeCount (int): Optional. The number of nodes in the Big Data pool if Auto-scaling is disabled.\n- dynamicExecutorAllocation (N/A): Optional. Dynamic Executor Allocation.\n- autoPauseDelayInMinutes (int): Optional. Synapse workspace Big Data Pools Auto-pausing delay in minutes (5-10080). Disabled if value not provided.\n- sparkVersion (string): Optional. The Apache Spark version.\n- sparkConfigProperties (N/A): Optional. Spark configuration file to specify additional properties.\n- sessionLevelPackagesEnabled (bool): Optional. Whether session level packages enabled. Disabled if value not provided.\n- cacheSize (int): Optional. The cache size.\n- defaultSparkLogFolder (string): Optional. The default folder where Spark logs will be written.\n- autotuneEnabled (bool): Optional. Whether Auto-tune is Enabled or not. Disabled if value not provided.\n- computeIsolationEnabled (bool): Optional. Whether Compute Isolation is enabled or not. Disabled if value not provided.\n- sparkEventsFolder (string): Optional. The Spark events folder.\n- diagnosticSettings (array): Optional. The diagnostic settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- lock (N/A): Optional. The lock settings of the service.\n- tags (object): Optional. Tags of the resource."}
{"id": "res_synapse_workspace_firewall-rules", "source": "res\\synapse\\workspace\\firewall-rules\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Firewall Rules' (Parent Chain: Synapse > Workspace).\nResource Type Path: synapse\\workspace\\firewall-rules\nModule ID: br/public:res/synapse/workspace/firewall-rules:0.14.0\nParameters:\n- workspaceName (string): Conditional. The name of the parent Synapse Workspace. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the firewall rule.\n- startIpAddress (string): Required. The start IP address of the firewall rule. Must be IPv4 format.\n- endIpAddress (string): Required. The end IP address of the firewall rule. Must be IPv4 format. Must be greater than or equal to startIpAddress."}
{"id": "res_synapse_workspace_integration-runtime", "source": "res\\synapse\\workspace\\integration-runtime\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Integration Runtime' (Parent Chain: Synapse > Workspace).\nResource Type Path: synapse\\workspace\\integration-runtime\nModule ID: br/public:res/synapse/workspace/integration-runtime:0.14.0\nParameters:\n- workspaceName (string): Conditional. The name of the parent Synapse Workspace. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the Integration Runtime.\n- type (string): Required. The type of Integration Runtime.\n- typeProperties (object): Conditional. Integration Runtime type properties. Required if type is \"Managed\"."}
{"id": "res_synapse_workspace_key", "source": "res\\synapse\\workspace\\key\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Key' (Parent Chain: Synapse > Workspace).\nResource Type Path: synapse\\workspace\\key\nModule ID: br/public:res/synapse/workspace/key:0.14.0\nParameters:\n- name (string): Required. The name of the Synapse Workspaces Key.\n- workspaceName (string): Conditional. The name of the parent Synapse Workspace. Required if the template is used in a standalone deployment.\n- isActiveCMK (bool): Required. Used to activate the workspace after a customer managed key is provided.\n- keyVaultResourceId (string): Required. The resource ID of a key vault to reference a customer managed key for encryption from."}
{"id": "res_synapse_workspace_sql-pool", "source": "res\\synapse\\workspace\\sql-pool\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Sql Pool' (Parent Chain: Synapse > Workspace).\nResource Type Path: synapse\\workspace\\sql-pool\nModule ID: br/public:res/synapse/workspace/sql-pool:0.14.0\nParameters:\n- workspaceName (string): Conditional. The name of the parent Synapse Workspace. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the SQL Pool.\n- location (string): Optional. The geo-location where the resource lives.\n- collation (string): Optional. The collation of the SQL pool.\n- maxSizeBytes (int): Optional. The max size of the SQL pool in bytes.\n- sku (string): Optional. The performance level of the SQL pool.\n- restorePointInTime (string): Optional. The restore point in time to restore from (ISO8601 format).\n- recoverableDatabaseResourceId (string): Optional. The recoverable database resource ID to restore from.\n- storageAccountType (string): Optional. The storage account type to use for the SQL pool.\n- transparentDataEncryption (string): Optional. Enable database transparent data encryption.\n- diagnosticSettings (array): Optional. The diagnostic settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- lock (N/A): Optional. The lock settings of the service.\n- tags (object): Optional. Tags of the resource."}
{"id": "res_virtual-machine-images_image-template", "source": "res\\virtual-machine-images\\image-template\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Image Template' (Parent Chain: Virtual Machine Images).\nResource Type Path: virtual-machine-images\\image-template\nModule ID: br/public:res/virtual-machine-images/image-template:0.6.0\nParameters:\n- name (string): Required. The name prefix of the Image Template to be built by the Azure Image Builder service.\n- location (string): Optional. Location for all resources.\n- buildTimeoutInMinutes (int): Optional. The image build timeout in minutes. 0 means the default 240 minutes.\n- vmSize (string): Optional. Specifies the size for the VM.\n- osDiskSizeGB (int): Optional. Specifies the size of OS disk.\n- imageSource (object): Required. Image source definition in object format.\n- customizationSteps (array): Optional. Customization steps to be run when building the VM image.\n- stagingResourceGroupResourceId (string): Optional. Resource ID of the staging resource group in the same subscription and location as the image template that will be used to build the image.</p>If this field is empty, a resource group with a random name will be created.</p>If the resource group specified in this field doesn't exist, it will be created with the same name.</p>If the resource group specified exists, it must be empty and in the same region as the image template.</p>The resource group created will be deleted during template deletion if this field is empty or the resource group specified doesn't exist,</p>but if the resource group specified exists the resources created in the resource group will be deleted during template deletion and the resource group itself will remain.\n- lock (N/A): Optional. The lock settings of the service.\n- tags (object): Optional. Tags of the resource.\n- baseTime (string): Generated. Do not provide a value! This date is used to generate a unique image template name.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- distributions (array): Required. The distribution targets where the image output needs to go to.\n- vmUserAssignedIdentities (array): Optional. List of User-Assigned Identities associated to the Build VM for accessing Azure resources such as Key Vaults from your customizer scripts. Be aware, the user assigned identities specified in the 'managedIdentities' parameter must have the 'Managed Identity Operator' role assignment on all the user assigned identities specified in this parameter for Azure Image Builder to be able to associate them to the build VM.\n- managedIdentities (N/A): Required. The managed identity definition for this resource.\n- validationProcess (N/A): Optional. Configuration options and list of validations to be performed on the resulting image.\n- optimizeVmBoot (string): Optional. The optimize property can be enabled while creating a VM image and allows VM optimization to improve image creation time.\n- autoRunState (string): Optional. Indicates whether or not to automatically run the image template build on template creation or update.\n- errorHandlingOnCustomizerError (string): Optional. If there is a customizer error and this field is set to 'cleanup', the build VM and associated network resources will be cleaned up. This is the default behavior. If there is a customizer error and this field is set to 'abort', the build VM will be preserved.\n- errorHandlingOnValidationError (string): Optional. If there is a validation error and this field is set to 'cleanup', the build VM and associated network resources will be cleaned up. If there is a validation error and this field is set to 'abort', the build VM will be preserved. This is the default behavior.\n- managedResourceTags (object): Optional. Tags that will be applied to the resource group and/or resources created by the service.\n- vnetConfig (N/A): Optional. Optional configuration of the virtual network to use to deploy the build VM and validation VM in. Omit if no specific virtual network needs to be used."}
{"id": "res_web_connection", "source": "res\\web\\connection\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Connection' (Parent Chain: Web).\nResource Type Path: web\\connection\nModule ID: br/public:res/web/connection:0.4.0\nParameters:\n- name (string): Required. Connection name for connection. It can change depending on the resource.\n- location (string): Optional. Location of the deployment.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- api (object): Optional. Specific values for some API connections.\n- customParameterValues (object): Optional. Dictionary of custom parameter values for specific connections.\n- displayName (string): Required. Display name connection. Example: `blobconnection` when using blobs. It can change depending on the resource.\n- nonSecretParameterValues (object): Optional. Dictionary of nonsecret parameter values.\n- parameterValues (secureObject): Optional. Connection strings or access keys for connection. Example: `accountName` and `accessKey` when using blobs. It can change depending on the resource.\n- parameterValueSet (object): Optional. Additional parameter value set used for authentication settings.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- statuses (array): Optional. The status of the connection.\n- lock (N/A): Optional. The lock settings of the service.\n- tags (object): Optional. Tags of the resource.\n- testLinks (array): Optional. Links to test the API connection."}
{"id": "res_web_hosting-environment", "source": "res\\web\\hosting-environment\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Hosting Environment' (Parent Chain: Web).\nResource Type Path: web\\hosting-environment\nModule ID: br/public:res/web/hosting-environment:0.4.0\nParameters:\n- name (string): Required. Name of the resource to create.\n- location (string): Optional. Location for all Resources.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- tags (object): Optional. Tags of the resource.\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- kind (string): Optional. Kind of resource.\n- clusterSettings (array): Optional. Custom settings for changing the behavior of the App Service Environment.\n- customDnsSuffix (string): Optional. Enable the default custom domain suffix to use for all sites deployed on the ASE. If provided, then customDnsSuffixCertificateUrl and customDnsSuffixKeyVaultReferenceIdentity are required.\n- customDnsSuffixCertificateUrl (string): Optional. The URL referencing the Azure Key Vault certificate secret that should be used as the default SSL/TLS certificate for sites with the custom domain suffix. Required if customDnsSuffix is not empty.\n- customDnsSuffixKeyVaultReferenceIdentity (string): Optional. The user-assigned identity to use for resolving the key vault certificate reference. If not specified, the system-assigned ASE identity will be used if available. Required if customDnsSuffix is not empty.\n- dedicatedHostCount (int): Optional. The Dedicated Host Count. If `zoneRedundant` is false, and you want physical hardware isolation enabled, set to 2. Otherwise 0.\n- dnsSuffix (string): Optional. DNS suffix of the App Service Environment.\n- frontEndScaleFactor (int): Optional. Scale factor for frontends.\n- internalLoadBalancingMode (string): Optional. Specifies which endpoints to serve internally in the Virtual Network for the App Service Environment. - None, Web, Publishing, Web,Publishing. \"None\" Exposes the ASE-hosted apps on an internet-accessible IP address.\n- networkConfiguration (object): Optional. Properties to configure additional networking features.\n- upgradePreference (string): Optional. Specify preference for when and how the planned maintenance is applied.\n- subnetResourceId (string): Required. ResourceId for the subnet.\n- zoneRedundant (bool): Optional. Switch to make the App Service Environment zone redundant. If enabled, the minimum App Service plan instance count will be three, otherwise 1. If enabled, the `dedicatedHostCount` must be set to `-1`.\n- managedIdentities (N/A): Optional. The managed identity definition for this resource.\n- diagnosticSettings (array): Optional. The diagnostic settings of the service."}
{"id": "res_web_hosting-environment_configuration--customdnssuffix", "source": "res\\web\\hosting-environment\\configuration--customdnssuffix\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Configuration Customdnssuffix' (Parent Chain: Web > Hosting Environment).\nResource Type Path: web\\hosting-environment\\configuration--customdnssuffix\nModule ID: br/public:res/web/hosting-environment/configuration--customdnssuffix:0.4.0\nParameters:\n- hostingEnvironmentName (string): Conditional. The name of the parent Hosting Environment. Required if the template is used in a standalone deployment.\n- dnsSuffix (string): Required. Enable the default custom domain suffix to use for all sites deployed on the ASE.\n- certificateUrl (string): Required. The URL referencing the Azure Key Vault certificate secret that should be used as the default SSL/TLS certificate for sites with the custom domain suffix.\n- keyVaultReferenceIdentity (string): Required. The user-assigned identity to use for resolving the key vault certificate reference. If not specified, the system-assigned ASE identity will be used if available."}
{"id": "res_web_serverfarm", "source": "res\\web\\serverfarm\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Serverfarm' (Parent Chain: Web).\nResource Type Path: web\\serverfarm\nModule ID: br/public:res/web/serverfarm:0.5.0\nParameters:\n- name (string): Required. Name of the app service plan.\n- skuName (string): Optional. The name of the SKU will Determine the tier, size, family of the App Service Plan. This defaults to P1v3 to leverage availability zones.\n- skuCapacity (int): Optional. Number of workers associated with the App Service Plan. This defaults to 3, to leverage availability zones.\n- location (string): Optional. Location for all resources.\n- kind (string): Optional. Kind of server OS.\n- reserved (bool): Conditional. Defaults to false when creating Windows/app App Service Plan. Required if creating a Linux App Service Plan and must be set to true.\n- appServiceEnvironmentResourceId (string): Optional. The Resource ID of the App Service Environment to use for the App Service Plan.\n- workerTierName (string): Optional. Target worker tier assigned to the App Service plan.\n- perSiteScaling (bool): Optional. If true, apps assigned to this App Service plan can be scaled independently. If false, apps assigned to this App Service plan will scale to all instances of the plan.\n- elasticScaleEnabled (bool): Optional. Enable/Disable ElasticScaleEnabled App Service Plan.\n- maximumElasticWorkerCount (int): Optional. Maximum number of total workers allowed for this ElasticScaleEnabled App Service Plan.\n- targetWorkerCount (int): Optional. Scaling worker count.\n- targetWorkerSize (int): Optional. The instance size of the hosting plan (small, medium, or large).\n- zoneRedundant (bool): Optional. Zone Redundant server farms can only be used on Premium or ElasticPremium SKU tiers within ZRS Supported regions (https://learn.microsoft.com/en-us/azure/storage/common/redundancy-regions-zrs).\n- lock (N/A): Optional. The lock settings of the service.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- tags (object): Optional. Tags of the resource.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- diagnosticSettings (array): Optional. The diagnostic settings of the service."}
{"id": "res_web_site", "source": "res\\web\\site\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Site' (Parent Chain: Web).\nResource Type Path: web\\site\nModule ID: br/public:res/web/site:0.19.0\nParameters:\n- name (string): Required. Name of the site.\n- location (string): Optional. Location for all Resources.\n- kind (string): Required. Type of site to deploy.\n- serverFarmResourceId (string): Required. The resource ID of the app service plan to use for the site. Set as empty string when using a managed environment id for container apps.\n- managedEnvironmentResourceId (string): Optional. Azure Resource Manager ID of the customers selected Managed Environment on which to host this app.\n- httpsOnly (bool): Optional. Configures a site to accept only HTTPS requests. Issues redirect for HTTP requests.\n- clientAffinityEnabled (bool): Optional. If client affinity is enabled.\n- clientAffinityProxyEnabled (bool): Optional. To enable client affinity; false to stop sending session affinity cookies, which route client requests in the same session to the same instance. Default is true.\n- clientAffinityPartitioningEnabled (bool): Optional. To enable client affinity partitioning using CHIPS cookies, this will add the partitioned property to the affinity cookies; false to stop sending partitioned affinity cookies. Default is false.\n- appServiceEnvironmentResourceId (string): Optional. The resource ID of the app service environment to use for this resource.\n- managedIdentities (N/A): Optional. The managed identity definition for this resource.\n- keyVaultAccessIdentityResourceId (string): Optional. The resource ID of the assigned identity to be used to access a key vault with.\n- storageAccountRequired (bool): Optional. Checks if Customer provided storage account is required.\n- virtualNetworkSubnetResourceId (string): Optional. Azure Resource Manager ID of the Virtual network and subnet to be joined by Regional VNET Integration. This must be of the form /subscriptions/{subscriptionName}/resourceGroups/{resourceGroupName}/providers/Microsoft.Network/virtualNetworks/{vnetName}/subnets/{subnetName}.\n- scmSiteAlsoStopped (bool): Optional. Stop SCM (KUDU) site when the app is stopped.\n- siteConfig (object): Optional. The site config object. The defaults are set to the following values: alwaysOn: true, minTlsVersion: '1.2', ftpsState: 'FtpsOnly'.\n- outboundVnetRouting (object): Optional. The outbound VNET routing configuration for the site.\n- configs (array): Optional. The web site config.\n- functionAppConfig (object): Optional. The Function App configuration object.\n- extensions (array): Optional. The extensions configuration.\n- lock (N/A): Optional. The lock settings of the service.\n- privateEndpoints (array): Optional. Configuration details for private endpoints. For security reasons, it is recommended to use private endpoints whenever possible.\n- slots (array): Optional. Configuration for deployment slots for an app.\n- tags (object): Optional. Tags of the resource.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- diagnosticSettings (array): Optional. The diagnostic settings of the service.\n- clientCertEnabled (bool): Optional. To enable client certificate authentication (TLS mutual authentication).\n- clientCertExclusionPaths (string): Optional. Client certificate authentication comma-separated exclusion paths.\n- clientCertMode (string): Optional. This composes with ClientCertEnabled setting.\n- ClientCertEnabled=false means ClientCert is ignored.\n- ClientCertEnabled=true and ClientCertMode=Required means ClientCert is required.\n- ClientCertEnabled=true and ClientCertMode=Optional means ClientCert is optional or accepted.\n\n- cloningInfo (object): Optional. If specified during app creation, the app is cloned from a source app.\n- containerSize (int): Optional. Size of the function container.\n- dailyMemoryTimeQuota (int): Optional. Maximum allowed daily memory-time quota (applicable on dynamic apps only).\n- enabled (bool): Optional. Setting this value to false disables the app (takes the app offline).\n- hostNameSslStates (array): Optional. Hostname SSL states are used to manage the SSL bindings for app's hostnames.\n- hyperV (bool): Optional. Hyper-V sandbox.\n- redundancyMode (string): Optional. Site redundancy mode.\n- basicPublishingCredentialsPolicies (array): Optional. The site publishing credential policy names which are associated with the sites.\n- hybridConnectionRelays (array): Optional. Names of hybrid connection relays to connect app with.\n- publicNetworkAccess (string): Optional. Whether or not public network access is allowed for this resource. For security reasons it should be disabled. If not specified, it will be disabled by default if private endpoints are set.\n- e2eEncryptionEnabled (bool): Optional. End to End Encryption Setting.\n- dnsConfiguration (object): Optional. Property to configure various DNS related settings for a site.\n- autoGeneratedDomainNameLabelScope (string): Optional. Specifies the scope of uniqueness for the default hostname during resource creation."}
{"id": "res_web_site_basic-publishing-credentials-policy", "source": "res\\web\\site\\basic-publishing-credentials-policy\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Basic Publishing Credentials Policy' (Parent Chain: Web > Site).\nResource Type Path: web\\site\\basic-publishing-credentials-policy\nModule ID: br/public:res/web/site/basic-publishing-credentials-policy:0.19.0\nParameters:\n- name (string): Required. The name of the resource.\n- allow (bool): Optional. Set to true to enable or false to disable a publishing method.\n- webAppName (string): Conditional. The name of the parent web site. Required if the template is used in a standalone deployment.\n- location (string): Optional. Location for all Resources."}
{"id": "res_web_site_config", "source": "res\\web\\site\\config\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Config' (Parent Chain: Web > Site).\nResource Type Path: web\\site\\config\nModule ID: br/public:res/web/site/config:0.1.0\nParameters:\n- appName (string): Conditional. The name of the parent site resource. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the config.\n- properties (object): Optional. The properties of the config. Note: This parameter is highly dependent on the config type, defined by its name.\n- storageAccountUseIdentityAuthentication (bool): Optional. If the provided storage account requires Identity based authentication ('allowSharedKeyAccess' is set to false). When set to true, the minimum role assignment required for the App Service Managed Identity to the storage account is 'Storage Blob Data Owner'.\n- storageAccountResourceId (string): Optional. Required if app of kind functionapp. Resource ID of the storage account to manage triggers and logging function executions.\n- applicationInsightResourceId (string): Optional. Resource ID of the application insight to leverage for this resource.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- currentAppSettings (object): Optional. The current app settings."}
{"id": "res_web_site_extension", "source": "res\\web\\site\\extension\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Extension' (Parent Chain: Web > Site).\nResource Type Path: web\\site\\extension\nModule ID: br/public:res/web/site/extension:0.19.0\nParameters:\n- appName (string): Required. The name of the parent site resource.\n- name (string): Optional. The name of the extension.\n- kind (string): Optional. The kind of extension.\n- properties (object): Optional. Sets the properties."}
{"id": "res_web_site_hybrid-connection-namespace_relay", "source": "res\\web\\site\\hybrid-connection-namespace\\relay\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Relay' (Parent Chain: Web > Site > Hybrid Connection Namespace).\nResource Type Path: web\\site\\hybrid-connection-namespace\\relay\nModule ID: br/public:res/web/site/hybrid-connection-namespace/relay:0.19.0\nParameters:\n- hybridConnectionResourceId (string): Required. The resource ID of the relay namespace hybrid connection.\n- appName (string): Conditional. The name of the parent web site. Required if the template is used in a standalone deployment.\n- sendKeyName (string): Optional. Name of the authorization rule send key to use."}
{"id": "res_web_site_slot", "source": "res\\web\\site\\slot\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Slot' (Parent Chain: Web > Site).\nResource Type Path: web\\site\\slot\nModule ID: br/public:res/web/site/slot:0.1.0\nParameters:\n- name (string): Required. Name of the slot.\n- appName (string): Conditional. The name of the parent site resource. Required if the template is used in a standalone deployment.\n- location (string): Optional. Location for all Resources.\n- kind (string): Required. Type of site to deploy.\n- serverFarmResourceId (string): Optional. The resource ID of the app service plan to use for the slot.\n- managedEnvironmentResourceId (string): Optional. Azure Resource Manager ID of the customers selected Managed Environment on which to host this app.\n- httpsOnly (bool): Optional. Configures a slot to accept only HTTPS requests. Issues redirect for HTTP requests.\n- clientAffinityEnabled (bool): Optional. If client affinity is enabled.\n- clientAffinityProxyEnabled (bool): Optional. To enable client affinity; false to stop sending session affinity cookies, which route client requests in the same session to the same instance. Default is true.\n- clientAffinityPartitioningEnabled (bool): Optional. To enable client affinity partitioning using CHIPS cookies, this will add the partitioned property to the affinity cookies; false to stop sending partitioned affinity cookies. Default is false.\n- appServiceEnvironmentResourceId (string): Optional. The resource ID of the app service environment to use for this resource.\n- managedIdentities (N/A): Optional. The managed identity definition for this resource.\n- keyVaultAccessIdentityResourceId (string): Optional. The resource ID of the assigned identity to be used to access a key vault with.\n- storageAccountRequired (bool): Optional. Checks if Customer provided storage account is required.\n- virtualNetworkSubnetResourceId (string): Optional. Azure Resource Manager ID of the Virtual network and subnet to be joined by Regional VNET Integration. This must be of the form /subscriptions/{subscriptionName}/resourceGroups/{resourceGroupName}/providers/Microsoft.Network/virtualNetworks/{vnetName}/subnets/{subnetName}.\n- siteConfig (object): Optional. The site config object.\n- functionAppConfig (object): Optional. The Function App config object.\n- configs (array): Optional. The web site config.\n- extensions (array): Optional. The extensions configuration.\n- lock (N/A): Optional. The lock settings of the service.\n- privateEndpoints (array): Optional. Configuration details for private endpoints.\n- tags (object): Optional. Tags of the resource.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- diagnosticSettings (array): Optional. The diagnostic settings of the service.\n- clientCertEnabled (bool): Optional. To enable client certificate authentication (TLS mutual authentication).\n- clientCertExclusionPaths (string): Optional. Client certificate authentication comma-separated exclusion paths.\n- clientCertMode (string): Optional. This composes with ClientCertEnabled setting.</p>- ClientCertEnabled: false means ClientCert is ignored.</p>- ClientCertEnabled: true and ClientCertMode: Required means ClientCert is required.</p>- ClientCertEnabled: true and ClientCertMode: Optional means ClientCert is optional or accepted.\n- cloningInfo (object): Optional. If specified during app creation, the app is cloned from a source app.\n- containerSize (int): Optional. Size of the function container.\n- customDomainVerificationId (string): Optional. Unique identifier that verifies the custom domains assigned to the app. Customer will add this ID to a txt record for verification.\n- dailyMemoryTimeQuota (int): Optional. Maximum allowed daily memory-time quota (applicable on dynamic apps only).\n- enabled (bool): Optional. Setting this value to false disables the app (takes the app offline).\n- hostNameSslStates (array): Optional. Hostname SSL states are used to manage the SSL bindings for app's hostnames.\n- hyperV (bool): Optional. Hyper-V sandbox.\n- publicNetworkAccess (string): Optional. Allow or block all public traffic.\n- redundancyMode (string): Optional. Site redundancy mode.\n- basicPublishingCredentialsPolicies (array): Optional. The site publishing credential policy names which are associated with the site slot.\n- outboundVnetRouting (object): Optional. The outbound VNET routing configuration for the site.\n- hybridConnectionRelays (array): Optional. Names of hybrid connection relays to connect app with.\n- dnsConfiguration (object): Optional. Property to configure various DNS related settings for a site.\n- autoGeneratedDomainNameLabelScope (string): Optional. Specifies the scope of uniqueness for the default hostname during resource creation.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module."}
{"id": "res_web_site_slot_basic-publishing-credentials-policy", "source": "res\\web\\site\\slot\\basic-publishing-credentials-policy\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Basic Publishing Credentials Policy' (Parent Chain: Web > Site > Slot).\nResource Type Path: web\\site\\slot\\basic-publishing-credentials-policy\nModule ID: br/public:res/web/site/slot/basic-publishing-credentials-policy:0.1.0\nParameters:\n- name (string): Required. The name of the resource.\n- allow (bool): Optional. Set to true to enable or false to disable a publishing method.\n- appName (string): Conditional. The name of the parent web site. Required if the template is used in a standalone deployment.\n- slotName (string): Conditional. The name of the parent web site slot. Required if the template is used in a standalone deployment.\n- location (string): Optional. Location for all Resources."}
{"id": "res_web_site_slot_config", "source": "res\\web\\site\\slot\\config\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Config' (Parent Chain: Web > Site > Slot).\nResource Type Path: web\\site\\slot\\config\nModule ID: br/public:res/web/site/slot/config:0.1.0\nParameters:\n- appName (string): Conditional. The name of the parent site resource. Required if the template is used in a standalone deployment.\n- slotName (string): Conditional. The name of the parent web site slot. Required if the template is used in a standalone deployment.\n- name (string): Required. The name of the config.\n- properties (object): Optional. The properties of the config. Note: This parameter is highly dependent on the config type, defined by its name.\n- currentAppSettings (object): Optional. The current app settings.\n- storageAccountUseIdentityAuthentication (bool): Optional. If the provided storage account requires Identity based authentication ('allowSharedKeyAccess' is set to false). When set to true, the minimum role assignment required for the App Service Managed Identity to the storage account is 'Storage Blob Data Owner'.\n- storageAccountResourceId (string): Optional. Required if app of kind functionapp. Resource ID of the storage account to manage triggers and logging function executions.\n- applicationInsightResourceId (string): Optional. Resource ID of the application insight to leverage for this resource."}
{"id": "res_web_site_slot_extension", "source": "res\\web\\site\\slot\\extension\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Extension' (Parent Chain: Web > Site > Slot).\nResource Type Path: web\\site\\slot\\extension\nModule ID: br/public:res/web/site/slot/extension:0.1.0\nParameters:\n- appName (string): Conditional. The name of the parent site resource. Required if the template is used in a standalone deployment.\n- slotName (string): Conditional. The name of the parent web site slot. Required if the template is used in a standalone deployment.\n- name (string): Optional. The name of the extension.\n- kind (string): Optional. The kind of extension.\n- properties (object): Optional. Sets the properties."}
{"id": "res_web_site_slot_hybrid-connection-namespace_relay", "source": "res\\web\\site\\slot\\hybrid-connection-namespace\\relay\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Relay' (Parent Chain: Web > Site > Slot > Hybrid Connection Namespace).\nResource Type Path: web\\site\\slot\\hybrid-connection-namespace\\relay\nModule ID: br/public:res/web/site/slot/hybrid-connection-namespace/relay:0.1.0\nParameters:\n- hybridConnectionResourceId (string): Required. The resource ID of the relay namespace hybrid connection.\n- slotName (string): Conditional. The name of the site slot. Required if the template is used in a standalone deployment.\n- appName (string): Conditional. The name of the parent web site. Required if the template is used in a standalone deployment.\n- sendKeyName (string): Optional. Name of the authorization rule send key to use."}
{"id": "res_web_static-site", "source": "res\\web\\static-site\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Static Site' (Parent Chain: Web).\nResource Type Path: web\\static-site\nModule ID: br/public:res/web/static-site:0.9.0\nParameters:\n- name (string): Required. The name of the static site.\n- sku (string): Optional. The service tier and name of the resource SKU.\n- allowConfigFileUpdates (bool): Optional. False if config file is locked for this static web app; otherwise, true.\n- location (string): Optional. Location for all resources.\n- stagingEnvironmentPolicy (string): Optional. State indicating whether staging environments are allowed or not allowed for a static web app.\n- enterpriseGradeCdnStatus (string): Optional. State indicating the status of the enterprise grade CDN serving traffic to the static web app.\n- buildProperties (object): Optional. Build properties for the static site.\n- templateProperties (object): Optional. Template Options for the static site.\n- provider (string): Optional. The provider that submitted the last deployment to the primary environment of the static site.\n- repositoryToken (securestring): Optional. The Personal Access Token for accessing the GitHub repository.\n- repositoryUrl (string): Optional. The name of the GitHub repository.\n- branch (string): Optional. The branch name of the GitHub repository.\n- managedIdentities (N/A): Optional. The managed identity definition for this resource.\n- lock (N/A): Optional. The lock settings of the service.\n- privateEndpoints (array): Optional. Configuration details for private endpoints. For security reasons, it is recommended to use private endpoints whenever possible. Note, requires the 'sku' to be 'Standard'. Supplying the `privateDnsZoneGroup` configuration will allow the private endpoint to point to an already existing zone group. If not provided and `createPrivateDnsZone` being enabled, it will create and use the newly created zone group.\n- tags (object): Optional. Tags of the resource.\n- enableTelemetry (bool): Optional. Enable/Disable usage telemetry for module.\n- roleAssignments (array): Optional. Array of role assignments to create.\n- linkedBackend (object): Optional. Object with \"resourceId\" and \"location\" of the a user defined function app.\n- appSettings (object): Optional. Static site app settings.\n- functionAppSettings (object): Optional. Function app settings.\n- customDomains (array): Optional. The custom domains associated with this static site. The deployment will fail as long as the validation records are not present.\n- validationMethod (string): Optional. Custom domain validation method. If not specified, automatically determined based on domain structure.\n- publicNetworkAccess (string): Optional. Whether or not public network access is allowed for this resource. For security reasons it should be disabled. If not specified, it will be disabled by default if private endpoints are set.\n- createPrivateDnsZone (string): Optional. Due the nature of Azure Static Apps, a partition ID is added to the app URL upon creation. Enabling the creation of the private DNS Zone will provision a DNS Zone with the correct partition ID, this is required for private endpoint connectivity to be enabled. You can choose to disable this option and create your own private DNS Zone by leveraging the output of the partitionId within this module. Default is `Enabled`, However the Private DNS Zone will only be created following if a `privateEndpoint` configuration is supplied.\n- virtualNetworkResourceId (string): Conditional. The Virtual Network Resource Id to use for the private DNS Zone Vnet Link. Required if `createPrivateDnsZone` is set to `Enabled` and a Private Endpoint Configuration is supplied."}
{"id": "res_web_static-site_config", "source": "res\\web\\static-site\\config\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Config' (Parent Chain: Web > Static Site).\nResource Type Path: web\\static-site\\config\nModule ID: br/public:res/web/static-site/config:0.9.0\nParameters:\n- kind (string): Required. Type of settings to apply.\n- properties (object): Required. App settings.\n- staticSiteName (string): Conditional. The name of the parent Static Web App. Required if the template is used in a standalone deployment."}
{"id": "res_web_static-site_custom-domain", "source": "res\\web\\static-site\\custom-domain\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Custom Domain' (Parent Chain: Web > Static Site).\nResource Type Path: web\\static-site\\custom-domain\nModule ID: br/public:res/web/static-site/custom-domain:0.9.0\nParameters:\n- name (string): Required. The custom domain name.\n- staticSiteName (string): Conditional. The name of the parent Static Web App. Required if the template is used in a standalone deployment.\n- validationMethod (string): Optional. Validation method for adding a custom domain."}
{"id": "res_web_static-site_linked-backend", "source": "res\\web\\static-site\\linked-backend\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Linked Backend' (Parent Chain: Web > Static Site).\nResource Type Path: web\\static-site\\linked-backend\nModule ID: br/public:res/web/static-site/linked-backend:0.9.0\nParameters:\n- backendResourceId (string): Required. The resource ID of the backend linked to the static site.\n- region (string): Optional. The region of the backend linked to the static site.\n- staticSiteName (string): Conditional. The name of the parent Static Web App. Required if the template is used in a standalone deployment.\n- name (string): Optional. Name of the backend to link to the static site."}
{"id": "ptn_ptn_aca-lza_hosting-environment", "source": "ptn\\aca-lza\\hosting-environment\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Hosting Environment' (Parent Chain: Aca Lza).\nResource Type Path: aca-lza\\hosting-environment\nModule ID: br/public:ptn/aca-lza/hosting-environment:0.6.0\nDescription: This module deploys an Azure Container Apps deployment aligned with the cloud adoption framework."}
{"id": "ptn_ptn_aca-lza_hosting-environment", "source": "ptn\\aca-lza\\hosting-environment\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Hosting Environment' (Parent Chain: Aca Lza).\nResource Type Path: aca-lza\\hosting-environment\nModule ID: br/public:ptn/aca-lza/hosting-environment:0.6.0\nDescription: Pattern module for 'hosting-environment'"}
{"id": "ptn_ptn_ai-ml_ai-foundry", "source": "ptn\\ai-ml\\ai-foundry\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Ai Foundry' (Parent Chain: Ai Ml).\nResource Type Path: ai-ml\\ai-foundry\nModule ID: br/public:ptn/ai-ml/ai-foundry:0.5.0\nDescription: Pattern module for 'ai-foundry'"}
{"id": "ptn_ptn_ai-ml_ai-foundry_modules_project", "source": "ptn\\ai-ml\\ai-foundry\\modules\\project\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Project' (Parent Chain: Ai Ml > Ai Foundry > Modules).\nResource Type Path: ai-ml\\ai-foundry\\modules\\project\nModule ID: br/public:ptn/ai-ml/ai-foundry/modules/project:0.1.0\nDescription: Pattern module for 'project'"}
{"id": "ptn_ptn_ai-platform_baseline", "source": "ptn\\ai-platform\\baseline\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Baseline' (Parent Chain: Ai Platform).\nResource Type Path: ai-platform\\baseline\nModule ID: br/public:ptn/ai-platform/baseline:0.7.0\nDescription: 'Default'"}
{"id": "ptn_ptn_alz_ama", "source": "ptn\\alz\\ama\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Ama' (Parent Chain: Alz).\nResource Type Path: alz\\ama\nModule ID: br/public:ptn/alz/ama:0.1.0\nDescription: Pattern module for 'ama'"}
{"id": "ptn_ptn_alz_empty", "source": "ptn\\alz\\empty\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Empty' (Parent Chain: Alz).\nResource Type Path: alz\\empty\nModule ID: br/public:ptn/alz/empty:0.3.0\nDescription: Pattern module for 'empty'"}
{"id": "ptn_ptn_app_container-job-toolkit", "source": "ptn\\app\\container-job-toolkit\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Container Job Toolkit' (Parent Chain: App).\nResource Type Path: app\\container-job-toolkit\nModule ID: br/public:ptn/app/container-job-toolkit:0.1.0\nDescription: Pattern module for 'container-job-toolkit'"}
{"id": "ptn_ptn_app_iaas-vm-cosmosdb-tier4", "source": "ptn\\app\\iaas-vm-cosmosdb-tier4\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Iaas Vm Cosmosdb Tier4' (Parent Chain: App).\nResource Type Path: app\\iaas-vm-cosmosdb-tier4\nModule ID: br/public:ptn/app/iaas-vm-cosmosdb-tier4:0.1.0\nDescription: Pattern module for 'iaas-vm-cosmosdb-tier4'"}
{"id": "ptn_ptn_app_paas-ase-cosmosdb-tier4", "source": "ptn\\app\\paas-ase-cosmosdb-tier4\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Paas Ase Cosmosdb Tier4' (Parent Chain: App).\nResource Type Path: app\\paas-ase-cosmosdb-tier4\nModule ID: br/public:ptn/app/paas-ase-cosmosdb-tier4:0.1.0\nDescription: Pattern module for 'paas-ase-cosmosdb-tier4'"}
{"id": "ptn_ptn_app-service-lza_hosting-environment", "source": "ptn\\app-service-lza\\hosting-environment\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Hosting Environment' (Parent Chain: App Service Lza).\nResource Type Path: app-service-lza\\hosting-environment\nModule ID: br/public:ptn/app-service-lza/hosting-environment:0.1.0\nDescription: Pattern module for 'hosting-environment'"}
{"id": "ptn_ptn_authorization_pim-role-assignment", "source": "ptn\\authorization\\pim-role-assignment\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Pim Role Assignment' (Parent Chain: Authorization).\nResource Type Path: authorization\\pim-role-assignment\nModule ID: br/public:ptn/authorization/pim-role-assignment:0.1.0\nDescription: Pattern module for 'pim-role-assignment'"}
{"id": "ptn_ptn_authorization_policy-assignment", "source": "ptn\\authorization\\policy-assignment\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Policy Assignment' (Parent Chain: Authorization).\nResource Type Path: authorization\\policy-assignment\nModule ID: br/public:ptn/authorization/policy-assignment:0.5.0\nDescription: '[Description] Policy Assignment at the management group scope'"}
{"id": "ptn_ptn_authorization_policy-exemption", "source": "ptn\\authorization\\policy-exemption\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Policy Exemption' (Parent Chain: Authorization).\nResource Type Path: authorization\\policy-exemption\nModule ID: br/public:ptn/authorization/policy-exemption:0.1.0\nDescription: '[Description] Policy Exemption at the management group scope'"}
{"id": "ptn_ptn_authorization_resource-role-assignment", "source": "ptn\\authorization\\resource-role-assignment\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Resource Role Assignment' (Parent Chain: Authorization).\nResource Type Path: authorization\\resource-role-assignment\nModule ID: br/public:ptn/authorization/resource-role-assignment:0.1.0\nDescription: 'Assign Storage Blob Data Reader role to the managed identity on the storage account.'"}
{"id": "ptn_ptn_authorization_role-assignment", "source": "ptn\\authorization\\role-assignment\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Role Assignment' (Parent Chain: Authorization).\nResource Type Path: authorization\\role-assignment\nModule ID: br/public:ptn/authorization/role-assignment:0.2.0\nDescription: 'Role Assignment (management group scope)'"}
{"id": "ptn_ptn_authorization_role-definition", "source": "ptn\\authorization\\role-definition\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Role Definition' (Parent Chain: Authorization).\nResource Type Path: authorization\\role-definition\nModule ID: br/public:ptn/authorization/role-definition:0.1.0\nDescription: '<description>'"}
{"id": "ptn_ptn_azd_acr-container-app", "source": "ptn\\azd\\acr-container-app\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Acr Container App' (Parent Chain: Azd).\nResource Type Path: azd\\acr-container-app\nModule ID: br/public:ptn/azd/acr-container-app:0.2.0\nDescription: Pattern module for 'acr-container-app'"}
{"id": "ptn_ptn_azd_aks", "source": "ptn\\azd\\aks\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Aks' (Parent Chain: Azd).\nResource Type Path: azd\\aks\nModule ID: br/public:ptn/azd/aks:0.2.0\nDescription: Pattern module for 'aks'"}
{"id": "ptn_ptn_azd_aks-automatic-cluster", "source": "ptn\\azd\\aks-automatic-cluster\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Aks Automatic Cluster' (Parent Chain: Azd).\nResource Type Path: azd\\aks-automatic-cluster\nModule ID: br/public:ptn/azd/aks-automatic-cluster:0.2.0\nDescription: Pattern module for 'aks-automatic-cluster'"}
{"id": "ptn_ptn_azd_apim-api", "source": "ptn\\azd\\apim-api\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Apim Api' (Parent Chain: Azd).\nResource Type Path: azd\\apim-api\nModule ID: br/public:ptn/azd/apim-api:0.1.0\nDescription: 'api description'"}
{"id": "ptn_ptn_azd_container-app-upsert", "source": "ptn\\azd\\container-app-upsert\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Container App Upsert' (Parent Chain: Azd).\nResource Type Path: azd\\container-app-upsert\nModule ID: br/public:ptn/azd/container-app-upsert:0.2.0\nDescription: Pattern module for 'container-app-upsert'"}
{"id": "ptn_ptn_azd_container-apps-stack", "source": "ptn\\azd\\container-apps-stack\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Container Apps Stack' (Parent Chain: Azd).\nResource Type Path: azd\\container-apps-stack\nModule ID: br/public:ptn/azd/container-apps-stack:0.2.0\nDescription: Pattern module for 'container-apps-stack'"}
{"id": "ptn_ptn_azd_insights-dashboard", "source": "ptn\\azd\\insights-dashboard\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Insights Dashboard' (Parent Chain: Azd).\nResource Type Path: azd\\insights-dashboard\nModule ID: br/public:ptn/azd/insights-dashboard:0.1.0\nDescription: Pattern module for 'insights-dashboard'"}
{"id": "ptn_ptn_azd_monitoring", "source": "ptn\\azd\\monitoring\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Monitoring' (Parent Chain: Azd).\nResource Type Path: azd\\monitoring\nModule ID: br/public:ptn/azd/monitoring:0.2.0\nDescription: Pattern module for 'monitoring'"}
{"id": "ptn_ptn_data_private-analytical-workspace", "source": "ptn\\data\\private-analytical-workspace\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Private Analytical Workspace' (Parent Chain: Data).\nResource Type Path: data\\private-analytical-workspace\nModule ID: br/public:ptn/data/private-analytical-workspace:0.1.0\nDescription: Pattern module for 'private-analytical-workspace'"}
{"id": "ptn_ptn_deployment-script_import-image-to-acr", "source": "ptn\\deployment-script\\import-image-to-acr\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Import Image To Acr' (Parent Chain: Deployment Script).\nResource Type Path: deployment-script\\import-image-to-acr\nModule ID: br/public:ptn/deployment-script/import-image-to-acr:0.4.0\nDescription: Pattern module for 'import-image-to-acr'"}
{"id": "ptn_ptn_dev-ops_cicd-agents-and-runners", "source": "ptn\\dev-ops\\cicd-agents-and-runners\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Cicd Agents And Runners' (Parent Chain: Dev Ops).\nResource Type Path: dev-ops\\cicd-agents-and-runners\nModule ID: br/public:ptn/dev-ops/cicd-agents-and-runners:0.3.0\nDescription: Pattern module for 'cicd-agents-and-runners'"}
{"id": "ptn_ptn_finops-toolkit_finops-hub", "source": "ptn\\finops-toolkit\\finops-hub\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Finops Hub' (Parent Chain: Finops Toolkit).\nResource Type Path: finops-toolkit\\finops-hub\nModule ID: br/public:ptn/finops-toolkit/finops-hub:0.1.0\nDescription: Pattern module for 'finops-hub'"}
{"id": "ptn_ptn_lz_sub-vending", "source": "ptn\\lz\\sub-vending\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Sub Vending' (Parent Chain: Lz).\nResource Type Path: lz\\sub-vending\nModule ID: br/public:ptn/lz/sub-vending:0.4.0\nDescription: 'Allow HTTPS'"}
{"id": "ptn_ptn_mgmt-groups_subscription-placement", "source": "ptn\\mgmt-groups\\subscription-placement\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Subscription Placement' (Parent Chain: Mgmt Groups).\nResource Type Path: mgmt-groups\\subscription-placement\nModule ID: br/public:ptn/mgmt-groups/subscription-placement:0.3.0\nDescription: Pattern module for 'subscription-placement'"}
{"id": "ptn_ptn_network_hub-networking", "source": "ptn\\network\\hub-networking\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Hub Networking' (Parent Chain: Network).\nResource Type Path: network\\hub-networking\nModule ID: br/public:ptn/network/hub-networking:0.5.0\nDescription: Pattern module for 'hub-networking'"}
{"id": "ptn_ptn_network_private-link-private-dns-zones", "source": "ptn\\network\\private-link-private-dns-zones\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Private Link Private Dns Zones' (Parent Chain: Network).\nResource Type Path: network\\private-link-private-dns-zones\nModule ID: br/public:ptn/network/private-link-private-dns-zones:0.7.0\nDescription: Pattern module for 'private-link-private-dns-zones'"}
{"id": "ptn_ptn_policy-insights_remediation", "source": "ptn\\policy-insights\\remediation\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Remediation' (Parent Chain: Policy Insights).\nResource Type Path: policy-insights\\remediation\nModule ID: br/public:ptn/policy-insights/remediation:0.2.0\nDescription: Pattern module for 'remediation'"}
{"id": "ptn_ptn_sa_build-your-own-copilot", "source": "ptn\\sa\\build-your-own-copilot\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Build Your Own Copilot' (Parent Chain: Sa).\nResource Type Path: sa\\build-your-own-copilot\nModule ID: br/public:ptn/sa/build-your-own-copilot:0.1.0\nDescription: Pattern module for 'build-your-own-copilot'"}
{"id": "ptn_ptn_sa_chat-with-your-data", "source": "ptn\\sa\\chat-with-your-data\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Chat With Your Data' (Parent Chain: Sa).\nResource Type Path: sa\\chat-with-your-data\nModule ID: br/public:ptn/sa/chat-with-your-data:0.1.0\nDescription: Pattern module for 'chat-with-your-data'"}
{"id": "ptn_ptn_sa_content-processing", "source": "ptn\\sa\\content-processing\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Content Processing' (Parent Chain: Sa).\nResource Type Path: sa\\content-processing\nModule ID: br/public:ptn/sa/content-processing:0.1.0\nDescription: Pattern module for 'content-processing'"}
{"id": "ptn_ptn_sa_conversation-knowledge-mining", "source": "ptn\\sa\\conversation-knowledge-mining\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Conversation Knowledge Mining' (Parent Chain: Sa).\nResource Type Path: sa\\conversation-knowledge-mining\nModule ID: br/public:ptn/sa/conversation-knowledge-mining:0.1.0\nDescription: Pattern module for 'conversation-knowledge-mining'"}
{"id": "ptn_ptn_sa_document-knowledge-mining", "source": "ptn\\sa\\document-knowledge-mining\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Document Knowledge Mining' (Parent Chain: Sa).\nResource Type Path: sa\\document-knowledge-mining\nModule ID: br/public:ptn/sa/document-knowledge-mining:0.1.0\nDescription: Pattern module for 'document-knowledge-mining'"}
{"id": "ptn_ptn_sa_modernize-your-code", "source": "ptn\\sa\\modernize-your-code\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Modernize Your Code' (Parent Chain: Sa).\nResource Type Path: sa\\modernize-your-code\nModule ID: br/public:ptn/sa/modernize-your-code:0.1.0\nDescription: Pattern module for 'modernize-your-code'"}
{"id": "ptn_ptn_sa_modernize-your-code_modules_ai-services", "source": "ptn\\sa\\modernize-your-code\\modules\\ai-services\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Ai Services' (Parent Chain: Sa > Modernize Your Code > Modules).\nResource Type Path: sa\\modernize-your-code\\modules\\ai-services\nModule ID: br/public:ptn/sa/modernize-your-code/modules/ai-services:0.1.0\nDescription: Pattern module for 'ai-services'"}
{"id": "ptn_ptn_sa_modernize-your-code_modules_network", "source": "ptn\\sa\\modernize-your-code\\modules\\network\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Network' (Parent Chain: Sa > Modernize Your Code > Modules).\nResource Type Path: sa\\modernize-your-code\\modules\\network\nModule ID: br/public:ptn/sa/modernize-your-code/modules/network:0.1.0\nDescription: Pattern module for 'network'"}
{"id": "ptn_ptn_sa_multi-agent-custom-automation-engine", "source": "ptn\\sa\\multi-agent-custom-automation-engine\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Multi Agent Custom Automation Engine' (Parent Chain: Sa).\nResource Type Path: sa\\multi-agent-custom-automation-engine\nModule ID: br/public:ptn/sa/multi-agent-custom-automation-engine:0.1.0\nDescription: Pattern module for 'multi-agent-custom-automation-engine'"}
{"id": "ptn_ptn_security_security-center", "source": "ptn\\security\\security-center\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Security Center' (Parent Chain: Security).\nResource Type Path: security\\security-center\nModule ID: br/public:ptn/security/security-center:0.1.0\nDescription: Pattern module for 'security-center'"}
{"id": "ptn_ptn_subscription_service-health-alerts", "source": "ptn\\subscription\\service-health-alerts\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Service Health Alerts' (Parent Chain: Subscription).\nResource Type Path: subscription\\service-health-alerts\nModule ID: br/public:ptn/subscription/service-health-alerts:0.1.0\nDescription: 'Service Health Incident'"}
{"id": "ptn_ptn_virtual-machine-images_azure-image-builder", "source": "ptn\\virtual-machine-images\\azure-image-builder\\main.bicep", "content_to_embed": "Recommended AVM Module for 'Azure Image Builder' (Parent Chain: Virtual Machine Images).\nResource Type Path: virtual-machine-images\\azure-image-builder\nModule ID: br/public:ptn/virtual-machine-images/azure-image-builder:0.2.0\nDescription: Pattern module for 'azure-image-builder'"}
{"id": "avm_ptn_aca-lza_hosting-environment_example_1", "source": "avm/ptn/aca-lza/hosting-environment/README.md", "content_to_embed": "Recommended AVM Module for Container Apps Landing Zone Accelerator: Using only defaults. - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: AcaLza/HostingEnvironment\nModule ID: br/public:avm/ptn/aca-lza/hosting-environment:0.6\nParameters:\nparams: {\n    // Required parameters\n    applicationGatewayCertificateKeyName: '<applicationGatewayCertificateKeyName>'\n    deploymentSubnetAddressPrefix: '10.1.4.0/24'\n    enableApplicationInsights: true\n    enableDaprInstrumentation: false\n    spokeApplicationGatewaySubnetAddressPrefix: '10.1.3.0/24'\n    spokeInfraSubnetAddressPrefix: '10.1.0.0/23'\n    spokePrivateEndpointsSubnetAddressPrefix: '10.1.2.0/27'\n    spokeVNetAddressPrefixes: [\n      '10.1.0.0/21'\n    ]\n    vmAdminPassword: '<vmAdminPassword>'\n    vmJumpBoxSubnetAddressPrefix: '10.1.2.32/27'\n    vmSize: 'Standard_B1s'\n    // Non-required parameters\n    location: '<location>'\n    tags: {\n      environment: 'test'\n    }\n    vmAuthenticationType: 'sshPublicKey'\n    vmJumpboxOSType: 'linux'\n    workloadName: 'camin'\n  }", "bicep": "module hostingEnvironment 'br/public:avm/ptn/aca-lza/hosting-environment:0.6' = {\n  name: 'hostingEnvironmentDeployment'\n  params: {\n    // Required parameters\n    applicationGatewayCertificateKeyName: '<applicationGatewayCertificateKeyName>'\n    deploymentSubnetAddressPrefix: '10.1.4.0/24'\n    enableApplicationInsights: true\n    enableDaprInstrumentation: false\n    spokeApplicationGatewaySubnetAddressPrefix: '10.1.3.0/24'\n    spokeInfraSubnetAddressPrefix: '10.1.0.0/23'\n    spokePrivateEndpointsSubnetAddressPrefix: '10.1.2.0/27'\n    spokeVNetAddressPrefixes: [\n      '10.1.0.0/21'\n    ]\n    vmAdminPassword: '<vmAdminPassword>'\n    vmJumpBoxSubnetAddressPrefix: '10.1.2.32/27'\n    vmSize: 'Standard_B1s'\n    // Non-required parameters\n    location: '<location>'\n    tags: {\n      environment: 'test'\n    }\n    vmAuthenticationType: 'sshPublicKey'\n    vmJumpboxOSType: 'linux'\n    workloadName: 'camin'\n  }\n}"}
{"id": "avm_ptn_aca-lza_hosting-environment_example_2", "source": "avm/ptn/aca-lza/hosting-environment/README.md", "content_to_embed": "Recommended AVM Module for Container Apps Landing Zone Accelerator: Using a hub and spoke deployment. - This instance deploys the module including a Hub to peer to.\nResource Type Path: AcaLza/HostingEnvironment\nModule ID: br/public:avm/ptn/aca-lza/hosting-environment:0.6\nParameters:\nparams: {\n    // Required parameters\n    applicationGatewayCertificateKeyName: '<applicationGatewayCertificateKeyName>'\n    deploymentSubnetAddressPrefix: '10.1.4.0/24'\n    enableApplicationInsights: true\n    enableDaprInstrumentation: false\n    spokeApplicationGatewaySubnetAddressPrefix: '10.1.3.0/24'\n    spokeInfraSubnetAddressPrefix: '10.1.0.0/23'\n    spokePrivateEndpointsSubnetAddressPrefix: '10.1.2.0/27'\n    spokeVNetAddressPrefixes: [\n      '10.1.0.0/21'\n    ]\n    vmAdminPassword: '<vmAdminPassword>'\n    vmJumpBoxSubnetAddressPrefix: '10.1.2.32/27'\n    vmSize: 'Standard_B1s'\n    // Non-required parameters\n    deployZoneRedundantResources: true\n    enableDdosProtection: true\n    environment: 'dev'\n    exposeContainerAppsWith: 'applicationGateway'\n    hubVirtualNetworkResourceId: '<hubVirtualNetworkResourceId>'\n    location: '<location>'\n    networkApplianceIpAddress: '<networkApplianceIpAddress>'\n    storageAccountType: 'Premium_LRS'\n    tags: {\n      environment: 'test'\n    }\n    vmAuthenticationType: 'sshPublicKey'\n    vmJumpboxOSType: 'linux'\n    workloadName: 'cahub'\n  }", "bicep": "module hostingEnvironment 'br/public:avm/ptn/aca-lza/hosting-environment:0.6' = {\n  name: 'hostingEnvironmentDeployment'\n  params: {\n    // Required parameters\n    applicationGatewayCertificateKeyName: '<applicationGatewayCertificateKeyName>'\n    deploymentSubnetAddressPrefix: '10.1.4.0/24'\n    enableApplicationInsights: true\n    enableDaprInstrumentation: false\n    spokeApplicationGatewaySubnetAddressPrefix: '10.1.3.0/24'\n    spokeInfraSubnetAddressPrefix: '10.1.0.0/23'\n    spokePrivateEndpointsSubnetAddressPrefix: '10.1.2.0/27'\n    spokeVNetAddressPrefixes: [\n      '10.1.0.0/21'\n    ]\n    vmAdminPassword: '<vmAdminPassword>'\n    vmJumpBoxSubnetAddressPrefix: '10.1.2.32/27'\n    vmSize: 'Standard_B1s'\n    // Non-required parameters\n    deployZoneRedundantResources: true\n    enableDdosProtection: true\n    environment: 'dev'\n    exposeContainerAppsWith: 'applicationGateway'\n    hubVirtualNetworkResourceId: '<hubVirtualNetworkResourceId>'\n    location: '<location>'\n    networkApplianceIpAddress: '<networkApplianceIpAddress>'\n    storageAccountType: 'Premium_LRS'\n    tags: {\n      environment: 'test'\n    }\n    vmAuthenticationType: 'sshPublicKey'\n    vmJumpboxOSType: 'linux'\n    workloadName: 'cahub'\n  }\n}"}
{"id": "avm_ptn_aca-lza_hosting-environment_example_3", "source": "avm/ptn/aca-lza/hosting-environment/README.md", "content_to_embed": "Recommended AVM Module for Container Apps Landing Zone Accelerator: Using all the available options in WAF aligned values. - This instance deploys the module with the all the available parameters in WAF aligned values.\nResource Type Path: AcaLza/HostingEnvironment\nModule ID: br/public:avm/ptn/aca-lza/hosting-environment:0.6\nParameters:\nparams: {\n    // Required parameters\n    applicationGatewayCertificateKeyName: 'appgwcert'\n    deploymentSubnetAddressPrefix: '10.1.4.0/24'\n    enableApplicationInsights: true\n    enableDaprInstrumentation: false\n    spokeApplicationGatewaySubnetAddressPrefix: '10.1.3.0/24'\n    spokeInfraSubnetAddressPrefix: '10.1.0.0/23'\n    spokePrivateEndpointsSubnetAddressPrefix: '10.1.2.0/27'\n    spokeVNetAddressPrefixes: [\n      '10.1.0.0/21'\n    ]\n    vmAdminPassword: '<vmAdminPassword>'\n    vmJumpBoxSubnetAddressPrefix: '10.1.2.32/27'\n    vmSize: 'Standard_B1s'\n    // Non-required parameters\n    deployZoneRedundantResources: true\n    enableDdosProtection: true\n    environment: 'dev'\n    exposeContainerAppsWith: 'applicationGateway'\n    location: '<location>'\n    storageAccountType: 'Premium_LRS'\n    tags: {\n      environment: 'test'\n    }\n    vmAuthenticationType: 'sshPublicKey'\n    vmJumpboxOSType: 'linux'\n    workloadName: 'cawaf'\n  }", "bicep": "module hostingEnvironment 'br/public:avm/ptn/aca-lza/hosting-environment:0.6' = {\n  name: 'hostingEnvironmentDeployment'\n  params: {\n    // Required parameters\n    applicationGatewayCertificateKeyName: 'appgwcert'\n    deploymentSubnetAddressPrefix: '10.1.4.0/24'\n    enableApplicationInsights: true\n    enableDaprInstrumentation: false\n    spokeApplicationGatewaySubnetAddressPrefix: '10.1.3.0/24'\n    spokeInfraSubnetAddressPrefix: '10.1.0.0/23'\n    spokePrivateEndpointsSubnetAddressPrefix: '10.1.2.0/27'\n    spokeVNetAddressPrefixes: [\n      '10.1.0.0/21'\n    ]\n    vmAdminPassword: '<vmAdminPassword>'\n    vmJumpBoxSubnetAddressPrefix: '10.1.2.32/27'\n    vmSize: 'Standard_B1s'\n    // Non-required parameters\n    deployZoneRedundantResources: true\n    enableDdosProtection: true\n    environment: 'dev'\n    exposeContainerAppsWith: 'applicationGateway'\n    location: '<location>'\n    storageAccountType: 'Premium_LRS'\n    tags: {\n      environment: 'test'\n    }\n    vmAuthenticationType: 'sshPublicKey'\n    vmJumpboxOSType: 'linux'\n    workloadName: 'cawaf'\n  }\n}"}
{"id": "avm_ptn_ai-ml_ai-foundry_example_1", "source": "avm/ptn/ai-ml/ai-foundry/README.md", "content_to_embed": "Recommended AVM Module for ai-foundry: Using only defaults - Creates an AI Foundry account and project with Basic services.\nResource Type Path: AiMl/AiFoundry\nModule ID: br/public:avm/ptn/ai-ml/ai-foundry:0.6\nParameters:\nparams: {\n    // Required parameters\n    baseName: '<baseName>'\n    // Non-required parameters\n    aiModelDeployments: [\n      {\n        model: {\n          format: 'OpenAI'\n          name: 'gpt-4o'\n          version: '2024-11-20'\n        }\n        name: 'gpt-4o'\n        sku: {\n          capacity: 1\n          name: 'Standard'\n        }\n      }\n    ]\n  }", "bicep": "module aiFoundry 'br/public:avm/ptn/ai-ml/ai-foundry:0.6' = {\n  name: 'aiFoundryDeployment'\n  params: {\n    // Required parameters\n    baseName: '<baseName>'\n    // Non-required parameters\n    aiModelDeployments: [\n      {\n        model: {\n          format: 'OpenAI'\n          name: 'gpt-4o'\n          version: '2024-11-20'\n        }\n        name: 'gpt-4o'\n        sku: {\n          capacity: 1\n          name: 'Standard'\n        }\n      }\n    ]\n  }\n}"}
{"id": "avm_ptn_ai-ml_ai-foundry_example_2", "source": "avm/ptn/ai-ml/ai-foundry/README.md", "content_to_embed": "Recommended AVM Module for ai-foundry: Create with Associated Resources - Creates an AI Foundry account and project with Standard Agent Services.\nResource Type Path: AiMl/AiFoundry\nModule ID: br/public:avm/ptn/ai-ml/ai-foundry:0.6\nParameters:\nparams: {\n    // Required parameters\n    baseName: '<baseName>'\n    // Non-required parameters\n    aiFoundryConfiguration: {\n      createCapabilityHosts: true\n    }\n    aiModelDeployments: [\n      {\n        model: {\n          format: 'OpenAI'\n          name: 'gpt-4o'\n          version: '2024-11-20'\n        }\n        name: 'gpt-4o'\n        sku: {\n          capacity: 1\n          name: 'Standard'\n        }\n      }\n    ]\n    includeAssociatedResources: true\n  }", "bicep": "module aiFoundry 'br/public:avm/ptn/ai-ml/ai-foundry:0.6' = {\n  name: 'aiFoundryDeployment'\n  params: {\n    // Required parameters\n    baseName: '<baseName>'\n    // Non-required parameters\n    aiFoundryConfiguration: {\n      createCapabilityHosts: true\n    }\n    aiModelDeployments: [\n      {\n        model: {\n          format: 'OpenAI'\n          name: 'gpt-4o'\n          version: '2024-11-20'\n        }\n        name: 'gpt-4o'\n        sku: {\n          capacity: 1\n          name: 'Standard'\n        }\n      }\n    ]\n    includeAssociatedResources: true\n  }\n}"}
{"id": "avm_ptn_ai-ml_ai-foundry_example_3", "source": "avm/ptn/ai-ml/ai-foundry/README.md", "content_to_embed": "Recommended AVM Module for ai-foundry: Bring Your Own Resources - Creates an AI Foundry account and project and provides option to bring your own resources created elsewhere.\nResource Type Path: AiMl/AiFoundry\nModule ID: br/public:avm/ptn/ai-ml/ai-foundry:0.6\nParameters:\nparams: {\n    // Required parameters\n    baseName: '<baseName>'\n    // Non-required parameters\n    aiFoundryConfiguration: {\n      createCapabilityHosts: true\n    }\n    aiModelDeployments: [\n      {\n        model: {\n          format: 'OpenAI'\n          name: 'gpt-4o'\n          version: '2024-11-20'\n        }\n        name: 'gpt-4o'\n        sku: {\n          capacity: 1\n          name: 'Standard'\n        }\n      }\n    ]\n    aiSearchConfiguration: {\n      existingResourceId: '<existingResourceId>'\n    }\n    cosmosDbConfiguration: {\n      existingResourceId: '<existingResourceId>'\n    }\n    includeAssociatedResources: true\n    keyVaultConfiguration: {\n      existingResourceId: '<existingResourceId>'\n    }\n    storageAccountConfiguration: {\n      existingResourceId: '<existingResourceId>'\n    }\n  }", "bicep": "module aiFoundry 'br/public:avm/ptn/ai-ml/ai-foundry:0.6' = {\n  name: 'aiFoundryDeployment'\n  params: {\n    // Required parameters\n    baseName: '<baseName>'\n    // Non-required parameters\n    aiFoundryConfiguration: {\n      createCapabilityHosts: true\n    }\n    aiModelDeployments: [\n      {\n        model: {\n          format: 'OpenAI'\n          name: 'gpt-4o'\n          version: '2024-11-20'\n        }\n        name: 'gpt-4o'\n        sku: {\n          capacity: 1\n          name: 'Standard'\n        }\n      }\n    ]\n    aiSearchConfiguration: {\n      existingResourceId: '<existingResourceId>'\n    }\n    cosmosDbConfiguration: {\n      existingResourceId: '<existingResourceId>'\n    }\n    includeAssociatedResources: true\n    keyVaultConfiguration: {\n      existingResourceId: '<existingResourceId>'\n    }\n    storageAccountConfiguration: {\n      existingResourceId: '<existingResourceId>'\n    }\n  }\n}"}
{"id": "avm_ptn_ai-ml_ai-foundry_example_4", "source": "avm/ptn/ai-ml/ai-foundry/README.md", "content_to_embed": "Recommended AVM Module for ai-foundry: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: AiMl/AiFoundry\nModule ID: br/public:avm/ptn/ai-ml/ai-foundry:0.6\nParameters:\nparams: {\n    // Required parameters\n    baseName: '<baseName>'\n    // Non-required parameters\n    aiFoundryConfiguration: {\n      accountName: '<accountName>'\n      allowProjectManagement: true\n      createCapabilityHosts: true\n      disableLocalAuth: true\n      location: '<location>'\n      networking: {\n        agentServiceSubnetResourceId: '<agentServiceSubnetResourceId>'\n        aiServicesPrivateDnsZoneResourceId: '<aiServicesPrivateDnsZoneResourceId>'\n        cognitiveServicesPrivateDnsZoneResourceId: '<cognitiveServicesPrivateDnsZoneResourceId>'\n        openAiPrivateDnsZoneResourceId: '<openAiPrivateDnsZoneResourceId>'\n      }\n      project: {\n        desc: 'This is a custom project for testing.'\n        displayName: '<displayName>'\n        name: '<name>'\n      }\n      roleAssignments: [\n        {\n          principalId: '<principalId>'\n          principalType: 'ServicePrincipal'\n          roleDefinitionIdOrName: 'Cognitive Services OpenAI User'\n        }\n      ]\n      sku: 'S0'\n    }\n    aiModelDeployments: [\n      {\n        model: {\n          format: 'OpenAI'\n          name: 'gpt-4o'\n          version: '2024-11-20'\n        }\n        name: 'gpt-4o'\n        sku: {\n          capacity: 1\n          name: 'Standard'\n        }\n      }\n    ]\n    aiSearchConfiguration: {\n      name: '<name>'\n      privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n      roleAssignments: [\n        {\n          principalId: '<principalId>'\n          principalType: 'ServicePrincipal'\n          roleDefinitionIdOrName: 'Search Index Data Contributor'\n        }\n      ]\n    }\n    baseUniqueName: '<baseUniqueName>'\n    cosmosDbConfiguration: {\n      name: '<name>'\n      privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n      roleAssignments: [\n        {\n          principalId: '<principalId>'\n          principalType: 'ServicePrincipal'\n          roleDefinitionIdOrName: 'Cosmos DB Account Reader Role'\n        }\n      ]\n    }\n    includeAssociatedResources: true\n    keyVaultConfiguration: {\n      name: '<name>'\n      privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n      roleAssignments: [\n        {\n          principalId: '<principalId>'\n          principalType: 'ServicePrincipal'\n          roleDefinitionIdOrName: 'Key Vault Secrets User'\n        }\n      ]\n    }\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: '<name>'\n    }\n    privateEndpointSubnetResourceId: '<privateEndpointSubnetResourceId>'\n    storageAccountConfiguration: {\n      blobPrivateDnsZoneResourceId: '<blobPrivateDnsZoneResourceId>'\n      name: '<name>'\n      roleAssignments: [\n        {\n          principalId: '<principalId>'\n          principalType: 'ServicePrincipal'\n          roleDefinitionIdOrName: 'Storage Blob Data Contributor'\n        }\n      ]\n    }\n    tags: {\n      Environment: 'Example'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module aiFoundry 'br/public:avm/ptn/ai-ml/ai-foundry:0.6' = {\n  name: 'aiFoundryDeployment'\n  params: {\n    // Required parameters\n    baseName: '<baseName>'\n    // Non-required parameters\n    aiFoundryConfiguration: {\n      accountName: '<accountName>'\n      allowProjectManagement: true\n      createCapabilityHosts: true\n      disableLocalAuth: true\n      location: '<location>'\n      networking: {\n        agentServiceSubnetResourceId: '<agentServiceSubnetResourceId>'\n        aiServicesPrivateDnsZoneResourceId: '<aiServicesPrivateDnsZoneResourceId>'\n        cognitiveServicesPrivateDnsZoneResourceId: '<cognitiveServicesPrivateDnsZoneResourceId>'\n        openAiPrivateDnsZoneResourceId: '<openAiPrivateDnsZoneResourceId>'\n      }\n      project: {\n        desc: 'This is a custom project for testing.'\n        displayName: '<displayName>'\n        name: '<name>'\n      }\n      roleAssignments: [\n        {\n          principalId: '<principalId>'\n          principalType: 'ServicePrincipal'\n          roleDefinitionIdOrName: 'Cognitive Services OpenAI User'\n        }\n      ]\n      sku: 'S0'\n    }\n    aiModelDeployments: [\n      {\n        model: {\n          format: 'OpenAI'\n          name: 'gpt-4o'\n          version: '2024-11-20'\n        }\n        name: 'gpt-4o'\n        sku: {\n          capacity: 1\n          name: 'Standard'\n        }\n      }\n    ]\n    aiSearchConfiguration: {\n      name: '<name>'\n      privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n      roleAssignments: [\n        {\n          principalId: '<principalId>'\n          principalType: 'ServicePrincipal'\n          roleDefinitionIdOrName: 'Search Index Data Contributor'\n        }\n      ]\n    }\n    baseUniqueName: '<baseUniqueName>'\n    cosmosDbConfiguration: {\n      name: '<name>'\n      privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n      roleAssignments: [\n        {\n          principalId: '<principalId>'\n          principalType: 'ServicePrincipal'\n          roleDefinitionIdOrName: 'Cosmos DB Account Reader Role'\n        }\n      ]\n    }\n    includeAssociatedResources: true\n    keyVaultConfiguration: {\n      name: '<name>'\n      privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n      roleAssignments: [\n        {\n          principalId: '<principalId>'\n          principalType: 'ServicePrincipal'\n          roleDefinitionIdOrName: 'Key Vault Secrets User'\n        }\n      ]\n    }\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: '<name>'\n    }\n    privateEndpointSubnetResourceId: '<privateEndpointSubnetResourceId>'\n    storageAccountConfiguration: {\n      blobPrivateDnsZoneResourceId: '<blobPrivateDnsZoneResourceId>'\n      name: '<name>'\n      roleAssignments: [\n        {\n          principalId: '<principalId>'\n          principalType: 'ServicePrincipal'\n          roleDefinitionIdOrName: 'Storage Blob Data Contributor'\n        }\n      ]\n    }\n    tags: {\n      Environment: 'Example'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_ptn_ai-ml_ai-foundry_example_5", "source": "avm/ptn/ai-ml/ai-foundry/README.md", "content_to_embed": "Recommended AVM Module for ai-foundry: WAF-aligned - Creates an AI Foundry account and project with Standard Agent Services with private networking.\nResource Type Path: AiMl/AiFoundry\nModule ID: br/public:avm/ptn/ai-ml/ai-foundry:0.6\nParameters:\nparams: {\n    // Required parameters\n    baseName: '<baseName>'\n    // Non-required parameters\n    aiFoundryConfiguration: {\n      createCapabilityHosts: true\n      networking: {\n        agentServiceSubnetResourceId: '<agentServiceSubnetResourceId>'\n        aiServicesPrivateDnsZoneResourceId: '<aiServicesPrivateDnsZoneResourceId>'\n        cognitiveServicesPrivateDnsZoneResourceId: '<cognitiveServicesPrivateDnsZoneResourceId>'\n        openAiPrivateDnsZoneResourceId: '<openAiPrivateDnsZoneResourceId>'\n      }\n    }\n    aiModelDeployments: [\n      {\n        model: {\n          format: 'OpenAI'\n          name: 'gpt-4o'\n          version: '2024-11-20'\n        }\n        name: 'gpt-4o'\n        sku: {\n          capacity: 1\n          name: 'Standard'\n        }\n      }\n    ]\n    aiSearchConfiguration: {\n      privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n    }\n    cosmosDbConfiguration: {\n      privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n    }\n    includeAssociatedResources: true\n    keyVaultConfiguration: {\n      privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n    }\n    privateEndpointSubnetResourceId: '<privateEndpointSubnetResourceId>'\n    storageAccountConfiguration: {\n      blobPrivateDnsZoneResourceId: '<blobPrivateDnsZoneResourceId>'\n    }\n  }", "bicep": "module aiFoundry 'br/public:avm/ptn/ai-ml/ai-foundry:0.6' = {\n  name: 'aiFoundryDeployment'\n  params: {\n    // Required parameters\n    baseName: '<baseName>'\n    // Non-required parameters\n    aiFoundryConfiguration: {\n      createCapabilityHosts: true\n      networking: {\n        agentServiceSubnetResourceId: '<agentServiceSubnetResourceId>'\n        aiServicesPrivateDnsZoneResourceId: '<aiServicesPrivateDnsZoneResourceId>'\n        cognitiveServicesPrivateDnsZoneResourceId: '<cognitiveServicesPrivateDnsZoneResourceId>'\n        openAiPrivateDnsZoneResourceId: '<openAiPrivateDnsZoneResourceId>'\n      }\n    }\n    aiModelDeployments: [\n      {\n        model: {\n          format: 'OpenAI'\n          name: 'gpt-4o'\n          version: '2024-11-20'\n        }\n        name: 'gpt-4o'\n        sku: {\n          capacity: 1\n          name: 'Standard'\n        }\n      }\n    ]\n    aiSearchConfiguration: {\n      privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n    }\n    cosmosDbConfiguration: {\n      privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n    }\n    includeAssociatedResources: true\n    keyVaultConfiguration: {\n      privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n    }\n    privateEndpointSubnetResourceId: '<privateEndpointSubnetResourceId>'\n    storageAccountConfiguration: {\n      blobPrivateDnsZoneResourceId: '<blobPrivateDnsZoneResourceId>'\n    }\n  }\n}"}
{"id": "avm_ptn_ai-platform_baseline_example_1", "source": "avm/ptn/ai-platform/baseline/README.md", "content_to_embed": "Recommended AVM Module for AI Platform Baseline: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: AiPlatform/Baseline\nModule ID: br/public:avm/ptn/ai-platform/baseline:0.7\nParameters:\nparams: {\n    // Required parameters\n    name: '<name>'\n    // Non-required parameters\n    virtualMachineConfiguration: {\n      adminPassword: '<adminPassword>'\n      adminUsername: 'localAdminUser'\n    }\n  }", "bicep": "module baseline 'br/public:avm/ptn/ai-platform/baseline:0.7' = {\n  name: 'baselineDeployment'\n  params: {\n    // Required parameters\n    name: '<name>'\n    // Non-required parameters\n    virtualMachineConfiguration: {\n      adminPassword: '<adminPassword>'\n      adminUsername: 'localAdminUser'\n    }\n  }\n}"}
{"id": "avm_ptn_ai-platform_baseline_example_2", "source": "avm/ptn/ai-platform/baseline/README.md", "content_to_embed": "Recommended AVM Module for AI Platform Baseline: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: AiPlatform/Baseline\nModule ID: br/public:avm/ptn/ai-platform/baseline:0.7\nParameters:\nparams: {\n    // Required parameters\n    name: 'aipbmax'\n    // Non-required parameters\n    applicationInsightsConfiguration: {\n      name: 'appi-aipbmax'\n    }\n    bastionConfiguration: {\n      disableCopyPaste: true\n      enabled: true\n      enableFileCopy: true\n      enableIpConnect: true\n      enableKerberos: true\n      enableShareableLink: true\n      name: 'bas-aipbmax'\n      networkSecurityGroupResourceId: '<networkSecurityGroupResourceId>'\n      scaleUnits: 3\n      sku: 'Standard'\n      subnetAddressPrefix: '10.1.1.0/26'\n    }\n    containerRegistryConfiguration: {\n      name: 'craipbmax'\n      trustPolicyStatus: 'disabled'\n    }\n    keyVaultConfiguration: {\n      enablePurgeProtection: false\n      name: '<name>'\n    }\n    logAnalyticsConfiguration: {\n      name: 'log-aipbmax'\n    }\n    managedIdentityName: '<managedIdentityName>'\n    storageAccountConfiguration: {\n      allowSharedKeyAccess: true\n      name: 'staipbmax'\n      sku: 'Standard_GRS'\n    }\n    virtualMachineConfiguration: {\n      adminPassword: '<adminPassword>'\n      adminUsername: 'localAdminUser'\n      enableAadLoginExtension: true\n      enableAzureMonitorAgent: true\n      enabled: true\n      encryptionAtHost: false\n      imageReference: {\n        offer: 'dsvm-win-2022'\n        publisher: 'microsoft-dsvm'\n        sku: 'winserver-2022'\n        version: 'latest'\n      }\n      maintenanceConfigurationResourceId: '<maintenanceConfigurationResourceId>'\n      name: '<name>'\n      nicConfigurationConfiguration: {\n        ipConfigName: 'ipcfg-aipbmax'\n        name: 'nic-aipbmax'\n        networkSecurityGroupResourceId: '<networkSecurityGroupResourceId>'\n        privateIPAllocationMethod: 'Dynamic'\n      }\n      osDisk: {\n        caching: 'ReadOnly'\n        createOption: 'FromImage'\n        deleteOption: 'Delete'\n        diskSizeGB: 256\n        managedDisk: {\n          storageAccountType: 'Standard_LRS'\n        }\n        name: 'disk-aipbmax'\n      }\n      patchMode: 'AutomaticByPlatform'\n      size: 'Standard_DS1_v2'\n      zone: 0\n    }\n    virtualNetworkConfiguration: {\n      addressPrefix: '10.1.0.0/16'\n      enabled: true\n      name: 'vnet-aipbmax'\n      subnet: {\n        addressPrefix: '10.1.0.0/24'\n        name: 'snet-aipbmax'\n        networkSecurityGroupResourceId: '<networkSecurityGroupResourceId>'\n      }\n    }\n    workspaceConfiguration: {\n      computes: [\n        {\n          computeType: 'ComputeInstance'\n          description: 'Default'\n          location: '<location>'\n          name: '<name>'\n          properties: {\n            vmSize: 'STANDARD_DS11_V2'\n          }\n          sku: 'Standard'\n        }\n      ]\n      name: 'hub-aipbmax'\n      networkIsolationMode: 'AllowOnlyApprovedOutbound'\n      networkOutboundRules: {\n        rule1: {\n          category: 'UserDefined'\n          destination: 'pypi.org'\n          type: 'FQDN'\n        }\n      }\n      projectName: 'project-aipbmax'\n    }\n  }", "bicep": "module baseline 'br/public:avm/ptn/ai-platform/baseline:0.7' = {\n  name: 'baselineDeployment'\n  params: {\n    // Required parameters\n    name: 'aipbmax'\n    // Non-required parameters\n    applicationInsightsConfiguration: {\n      name: 'appi-aipbmax'\n    }\n    bastionConfiguration: {\n      disableCopyPaste: true\n      enabled: true\n      enableFileCopy: true\n      enableIpConnect: true\n      enableKerberos: true\n      enableShareableLink: true\n      name: 'bas-aipbmax'\n      networkSecurityGroupResourceId: '<networkSecurityGroupResourceId>'\n      scaleUnits: 3\n      sku: 'Standard'\n      subnetAddressPrefix: '10.1.1.0/26'\n    }\n    containerRegistryConfiguration: {\n      name: 'craipbmax'\n      trustPolicyStatus: 'disabled'\n    }\n    keyVaultConfiguration: {\n      enablePurgeProtection: false\n      name: '<name>'\n    }\n    logAnalyticsConfiguration: {\n      name: 'log-aipbmax'\n    }\n    managedIdentityName: '<managedIdentityName>'\n    storageAccountConfiguration: {\n      allowSharedKeyAccess: true\n      name: 'staipbmax'\n      sku: 'Standard_GRS'\n    }\n    virtualMachineConfiguration: {\n      adminPassword: '<adminPassword>'\n      adminUsername: 'localAdminUser'\n      enableAadLoginExtension: true\n      enableAzureMonitorAgent: true\n      enabled: true\n      encryptionAtHost: false\n      imageReference: {\n        offer: 'dsvm-win-2022'\n        publisher: 'microsoft-dsvm'\n        sku: 'winserver-2022'\n        version: 'latest'\n      }\n      maintenanceConfigurationResourceId: '<maintenanceConfigurationResourceId>'\n      name: '<name>'\n      nicConfigurationConfiguration: {\n        ipConfigName: 'ipcfg-aipbmax'\n        name: 'nic-aipbmax'\n        networkSecurityGroupResourceId: '<networkSecurityGroupResourceId>'\n        privateIPAllocationMethod: 'Dynamic'\n      }\n      osDisk: {\n        caching: 'ReadOnly'\n        createOption: 'FromImage'\n        deleteOption: 'Delete'\n        diskSizeGB: 256\n        managedDisk: {\n          storageAccountType: 'Standard_LRS'\n        }\n        name: 'disk-aipbmax'\n      }\n      patchMode: 'AutomaticByPlatform'\n      size: 'Standard_DS1_v2'\n      zone: 0\n    }\n    virtualNetworkConfiguration: {\n      addressPrefix: '10.1.0.0/16'\n      enabled: true\n      name: 'vnet-aipbmax'\n      subnet: {\n        addressPrefix: '10.1.0.0/24'\n        name: 'snet-aipbmax'\n        networkSecurityGroupResourceId: '<networkSecurityGroupResourceId>'\n      }\n    }\n    workspaceConfiguration: {\n      computes: [\n        {\n          computeType: 'ComputeInstance'\n          description: 'Default'\n          location: '<location>'\n          name: '<name>'\n          properties: {\n            vmSize: 'STANDARD_DS11_V2'\n          }\n          sku: 'Standard'\n        }\n      ]\n      name: 'hub-aipbmax'\n      networkIsolationMode: 'AllowOnlyApprovedOutbound'\n      networkOutboundRules: {\n        rule1: {\n          category: 'UserDefined'\n          destination: 'pypi.org'\n          type: 'FQDN'\n        }\n      }\n      projectName: 'project-aipbmax'\n    }\n  }\n}"}
{"id": "avm_ptn_ai-platform_baseline_example_3", "source": "avm/ptn/ai-platform/baseline/README.md", "content_to_embed": "Recommended AVM Module for AI Platform Baseline: Without virtual machine - This instance deploys the module with a virtual network, but no virtual machine or Azure Bastion host.\nResource Type Path: AiPlatform/Baseline\nModule ID: br/public:avm/ptn/ai-platform/baseline:0.7\nParameters:\nparams: {\n    // Required parameters\n    name: '<name>'\n    // Non-required parameters\n    bastionConfiguration: {\n      enabled: false\n    }\n    virtualMachineConfiguration: {\n      enabled: false\n    }\n  }", "bicep": "module baseline 'br/public:avm/ptn/ai-platform/baseline:0.7' = {\n  name: 'baselineDeployment'\n  params: {\n    // Required parameters\n    name: '<name>'\n    // Non-required parameters\n    bastionConfiguration: {\n      enabled: false\n    }\n    virtualMachineConfiguration: {\n      enabled: false\n    }\n  }\n}"}
{"id": "avm_ptn_ai-platform_baseline_example_4", "source": "avm/ptn/ai-platform/baseline/README.md", "content_to_embed": "Recommended AVM Module for AI Platform Baseline: Without virtual network - This instance deploys the module without a virtual network, virtual machine or Azure Bastion host.\nResource Type Path: AiPlatform/Baseline\nModule ID: br/public:avm/ptn/ai-platform/baseline:0.7\nParameters:\nparams: {\n    // Required parameters\n    name: '<name>'\n    // Non-required parameters\n    virtualNetworkConfiguration: {\n      enabled: false\n    }\n  }", "bicep": "module baseline 'br/public:avm/ptn/ai-platform/baseline:0.7' = {\n  name: 'baselineDeployment'\n  params: {\n    // Required parameters\n    name: '<name>'\n    // Non-required parameters\n    virtualNetworkConfiguration: {\n      enabled: false\n    }\n  }\n}"}
{"id": "avm_ptn_ai-platform_baseline_example_5", "source": "avm/ptn/ai-platform/baseline/README.md", "content_to_embed": "Recommended AVM Module for AI Platform Baseline: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: AiPlatform/Baseline\nModule ID: br/public:avm/ptn/ai-platform/baseline:0.7\nParameters:\nparams: {\n    // Required parameters\n    name: '<name>'\n    // Non-required parameters\n    managedIdentityName: '<managedIdentityName>'\n    tags: {\n      Env: 'test'\n      'hidden-title': 'This is visible in the resource name'\n    }\n    virtualMachineConfiguration: {\n      adminPassword: '<adminPassword>'\n      adminUsername: 'localAdminUser'\n      enableAadLoginExtension: true\n      enableAzureMonitorAgent: true\n      maintenanceConfigurationResourceId: '<maintenanceConfigurationResourceId>'\n      patchMode: 'AutomaticByPlatform'\n      zone: 1\n    }\n    workspaceConfiguration: {\n      networkIsolationMode: 'AllowOnlyApprovedOutbound'\n      networkOutboundRules: {\n        rule: {\n          category: 'UserDefined'\n          destination: {\n            serviceResourceId: '<serviceResourceId>'\n            subresourceTarget: 'blob'\n          }\n          type: 'PrivateEndpoint'\n        }\n      }\n    }\n  }", "bicep": "module baseline 'br/public:avm/ptn/ai-platform/baseline:0.7' = {\n  name: 'baselineDeployment'\n  params: {\n    // Required parameters\n    name: '<name>'\n    // Non-required parameters\n    managedIdentityName: '<managedIdentityName>'\n    tags: {\n      Env: 'test'\n      'hidden-title': 'This is visible in the resource name'\n    }\n    virtualMachineConfiguration: {\n      adminPassword: '<adminPassword>'\n      adminUsername: 'localAdminUser'\n      enableAadLoginExtension: true\n      enableAzureMonitorAgent: true\n      maintenanceConfigurationResourceId: '<maintenanceConfigurationResourceId>'\n      patchMode: 'AutomaticByPlatform'\n      zone: 1\n    }\n    workspaceConfiguration: {\n      networkIsolationMode: 'AllowOnlyApprovedOutbound'\n      networkOutboundRules: {\n        rule: {\n          category: 'UserDefined'\n          destination: {\n            serviceResourceId: '<serviceResourceId>'\n            subresourceTarget: 'blob'\n          }\n          type: 'PrivateEndpoint'\n        }\n      }\n    }\n  }\n}"}
{"id": "avm_ptn_alz_ama_example_1", "source": "avm/ptn/alz/ama/README.md", "content_to_embed": "Recommended AVM Module for avm/ptn/alz/ama: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Alz/Ama\nModule ID: br/public:avm/ptn/alz/ama:0.1\nParameters:\nparams: {\n    // Required parameters\n    dataCollectionRuleChangeTrackingName: 'alz-ama-dcr-ct-alzamamin'\n    dataCollectionRuleMDFCSQLName: 'alz-ama-dcr-mdfc-sql-alzamamin'\n    dataCollectionRuleVMInsightsName: 'alz-ama-dcr-vm-insights-alzamamin'\n    logAnalyticsWorkspaceResourceId: '<logAnalyticsWorkspaceResourceId>'\n    userAssignedIdentityName: 'alz-ama-identity-alzamamin'\n  }", "bicep": "module ama 'br/public:avm/ptn/alz/ama:0.1' = {\n  name: 'amaDeployment'\n  params: {\n    // Required parameters\n    dataCollectionRuleChangeTrackingName: 'alz-ama-dcr-ct-alzamamin'\n    dataCollectionRuleMDFCSQLName: 'alz-ama-dcr-mdfc-sql-alzamamin'\n    dataCollectionRuleVMInsightsName: 'alz-ama-dcr-vm-insights-alzamamin'\n    logAnalyticsWorkspaceResourceId: '<logAnalyticsWorkspaceResourceId>'\n    userAssignedIdentityName: 'alz-ama-identity-alzamamin'\n  }\n}"}
{"id": "avm_ptn_alz_ama_example_2", "source": "avm/ptn/alz/ama/README.md", "content_to_embed": "Recommended AVM Module for avm/ptn/alz/ama: Using maximum parameters - This instance deploys the module with the maximum set of required parameters.\nResource Type Path: Alz/Ama\nModule ID: br/public:avm/ptn/alz/ama:0.1\nParameters:\nparams: {\n    // Required parameters\n    dataCollectionRuleChangeTrackingName: 'alz-ama-dcr-ct-alzamamax'\n    dataCollectionRuleMDFCSQLName: 'alz-ama-dcr-mdfc-sql-alzamamax'\n    dataCollectionRuleVMInsightsName: 'alz-ama-dcr-vm-insights-alzamamax'\n    logAnalyticsWorkspaceResourceId: '<logAnalyticsWorkspaceResourceId>'\n    userAssignedIdentityName: 'alz-ama-identity-alzamamax'\n    // Non-required parameters\n    location: '<location>'\n    lockConfig: {\n      kind: 'CanNotDelete'\n      name: 'lock-alzamamax'\n    }\n    tags: {\n      Env: 'test'\n      'hidden-title': 'This is visible in the resource name'\n    }\n  }", "bicep": "module ama 'br/public:avm/ptn/alz/ama:0.1' = {\n  name: 'amaDeployment'\n  params: {\n    // Required parameters\n    dataCollectionRuleChangeTrackingName: 'alz-ama-dcr-ct-alzamamax'\n    dataCollectionRuleMDFCSQLName: 'alz-ama-dcr-mdfc-sql-alzamamax'\n    dataCollectionRuleVMInsightsName: 'alz-ama-dcr-vm-insights-alzamamax'\n    logAnalyticsWorkspaceResourceId: '<logAnalyticsWorkspaceResourceId>'\n    userAssignedIdentityName: 'alz-ama-identity-alzamamax'\n    // Non-required parameters\n    location: '<location>'\n    lockConfig: {\n      kind: 'CanNotDelete'\n      name: 'lock-alzamamax'\n    }\n    tags: {\n      Env: 'test'\n      'hidden-title': 'This is visible in the resource name'\n    }\n  }\n}"}
{"id": "avm_ptn_alz_empty_example_1", "source": "avm/ptn/alz/empty/README.md", "content_to_embed": "Recommended AVM Module for avm/ptn/alz/empty: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Alz/Empty\nModule ID: br/public:avm/ptn/alz/empty:0.3\nParameters:\nparams: {\n    managementGroupName: 'mg-test-alzempmin'\n  }", "bicep": "module empty 'br/public:avm/ptn/alz/empty:0.3' = {\n  name: 'emptyDeployment'\n  params: {\n    managementGroupName: 'mg-test-alzempmin'\n  }\n}"}
{"id": "avm_ptn_alz_empty_example_2", "source": "avm/ptn/alz/empty/README.md", "content_to_embed": "Recommended AVM Module for avm/ptn/alz/empty: Using all parameters possible - This instance deploys the module with the maximum set of parameters possible.\nResource Type Path: Alz/Empty\nModule ID: br/public:avm/ptn/alz/empty:0.3\nParameters:\nparams: {\n    // Required parameters\n    managementGroupName: 'mg-test-alzempmax'\n    // Non-required parameters\n    createOrUpdateManagementGroup: true\n    managementGroupCustomPolicyDefinitions: '<managementGroupCustomPolicyDefinitions>'\n    managementGroupCustomPolicySetDefinitions: '<managementGroupCustomPolicySetDefinitions>'\n    managementGroupCustomRoleDefinitions: '<managementGroupCustomRoleDefinitions>'\n    managementGroupDisplayName: 'AVM ALZ PTN Empty Max Test'\n    managementGroupDoNotEnforcePolicyAssignments: [\n      'diag-activity-log-lz'\n    ]\n    managementGroupExcludedPolicyAssignments: [\n      'allowed-vm-skus-root'\n    ]\n    managementGroupPolicyAssignments: [\n      {\n        definitionVersion: '1.*.*'\n        displayName: 'Allowed virtual machine size SKUs'\n        enforcementMode: 'Default'\n        identity: 'None'\n        name: 'allowed-vm-skus-root'\n        parameters: {\n          listOfAllowedSKUs: {\n            value: [\n              'Standard_D2_v5'\n              'Standard_E8_v5'\n            ]\n          }\n        }\n        policyDefinitionId: '/providers/Microsoft.Authorization/policyDefinitions/cccc23c7-8427-4f53-ad12-b6a63eb452b3'\n      }\n      {\n        additionalManagementGroupsIDsToAssignRbacTo: [\n          '<name>'\n        ]\n        displayName: 'Configure Azure Activity logs to stream to specified Log Analytics workspace'\n        enforcementMode: 'Default'\n        identity: 'SystemAssigned'\n        name: 'diag-activity-log-lz'\n        parameters: {\n          logAnalytics: {\n            value: '/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg-landing-zones/providers/Microsoft.OperationalInsights/workspaces/la-landing-zones'\n          }\n        }\n        policyDefinitionId: '/providers/Microsoft.Authorization/policyDefinitions/2465583e-4e78-4c15-b6be-a36cbc7c8b0f'\n        roleDefinitionIds: [\n          '/providers/microsoft.authorization/roleDefinitions/749f88d5-cbae-40b8-bcfc-e573ddc772fa'\n          '/providers/microsoft.authorization/roleDefinitions/92aaf0da-9dab-42b6-94a3-d43ce8d16293'\n        ]\n      }\n      {\n        displayName: 'Tag checking'\n        enforcementMode: 'Default'\n        identity: 'None'\n        name: 'tags-policy'\n        parameterOverrides: {\n          effect: {\n            value: 'Audit'\n          }\n        }\n        parameters: {\n          effect: {\n            value: 'Disabled'\n          }\n          tagName: {\n            value: 'costCenter'\n          }\n        }\n        policyDefinitionId: '/providers/Microsoft.Management/managementGroups/mg-test-alzempmax/providers/Microsoft.Authorization/policySetDefinitions/custom-tags-policy-set-definition-1'\n      }\n    ]\n    managementGroupRoleAssignments: '<managementGroupRoleAssignments>'\n  }", "bicep": "module empty 'br/public:avm/ptn/alz/empty:0.3' = {\n  name: 'emptyDeployment'\n  params: {\n    // Required parameters\n    managementGroupName: 'mg-test-alzempmax'\n    // Non-required parameters\n    createOrUpdateManagementGroup: true\n    managementGroupCustomPolicyDefinitions: '<managementGroupCustomPolicyDefinitions>'\n    managementGroupCustomPolicySetDefinitions: '<managementGroupCustomPolicySetDefinitions>'\n    managementGroupCustomRoleDefinitions: '<managementGroupCustomRoleDefinitions>'\n    managementGroupDisplayName: 'AVM ALZ PTN Empty Max Test'\n    managementGroupDoNotEnforcePolicyAssignments: [\n      'diag-activity-log-lz'\n    ]\n    managementGroupExcludedPolicyAssignments: [\n      'allowed-vm-skus-root'\n    ]\n    managementGroupPolicyAssignments: [\n      {\n        definitionVersion: '1.*.*'\n        displayName: 'Allowed virtual machine size SKUs'\n        enforcementMode: 'Default'\n        identity: 'None'\n        name: 'allowed-vm-skus-root'\n        parameters: {\n          listOfAllowedSKUs: {\n            value: [\n              'Standard_D2_v5'\n              'Standard_E8_v5'\n            ]\n          }\n        }\n        policyDefinitionId: '/providers/Microsoft.Authorization/policyDefinitions/cccc23c7-8427-4f53-ad12-b6a63eb452b3'\n      }\n      {\n        additionalManagementGroupsIDsToAssignRbacTo: [\n          '<name>'\n        ]\n        displayName: 'Configure Azure Activity logs to stream to specified Log Analytics workspace'\n        enforcementMode: 'Default'\n        identity: 'SystemAssigned'\n        name: 'diag-activity-log-lz'\n        parameters: {\n          logAnalytics: {\n            value: '/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg-landing-zones/providers/Microsoft.OperationalInsights/workspaces/la-landing-zones'\n          }\n        }\n        policyDefinitionId: '/providers/Microsoft.Authorization/policyDefinitions/2465583e-4e78-4c15-b6be-a36cbc7c8b0f'\n        roleDefinitionIds: [\n          '/providers/microsoft.authorization/roleDefinitions/749f88d5-cbae-40b8-bcfc-e573ddc772fa'\n          '/providers/microsoft.authorization/roleDefinitions/92aaf0da-9dab-42b6-94a3-d43ce8d16293'\n        ]\n      }\n      {\n        displayName: 'Tag checking'\n        enforcementMode: 'Default'\n        identity: 'None'\n        name: 'tags-policy'\n        parameterOverrides: {\n          effect: {\n            value: 'Audit'\n          }\n        }\n        parameters: {\n          effect: {\n            value: 'Disabled'\n          }\n          tagName: {\n            value: 'costCenter'\n          }\n        }\n        policyDefinitionId: '/providers/Microsoft.Management/managementGroups/mg-test-alzempmax/providers/Microsoft.Authorization/policySetDefinitions/custom-tags-policy-set-definition-1'\n      }\n    ]\n    managementGroupRoleAssignments: '<managementGroupRoleAssignments>'\n  }\n}"}
{"id": "avm_ptn_app_container-job-toolkit_example_1", "source": "avm/ptn/app/container-job-toolkit/README.md", "content_to_embed": "Recommended AVM Module for Container job toolkit: Using only defaults - This instance deploys the module with the minimum set of required parameters in a consumption plan.\nResource Type Path: App/ContainerJobToolkit\nModule ID: br/public:avm/ptn/app/container-job-toolkit:0.1\nParameters:\nparams: {\n    // Required parameters\n    containerImageSource: 'mcr.microsoft.com/k8se/quickstart-jobs:latest'\n    name: 'acjmin001'\n    // Non-required parameters\n    location: '<location>'\n    logAnalyticsWorkspaceResourceId: '<logAnalyticsWorkspaceResourceId>'\n    overwriteExistingImage: true\n  }", "bicep": "module containerJobToolkit 'br/public:avm/ptn/app/container-job-toolkit:0.1' = {\n  name: 'containerJobToolkitDeployment'\n  params: {\n    // Required parameters\n    containerImageSource: 'mcr.microsoft.com/k8se/quickstart-jobs:latest'\n    name: 'acjmin001'\n    // Non-required parameters\n    location: '<location>'\n    logAnalyticsWorkspaceResourceId: '<logAnalyticsWorkspaceResourceId>'\n    overwriteExistingImage: true\n  }\n}"}
{"id": "avm_ptn_app_container-job-toolkit_example_2", "source": "avm/ptn/app/container-job-toolkit/README.md", "content_to_embed": "Recommended AVM Module for Container job toolkit: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: App/ContainerJobToolkit\nModule ID: br/public:avm/ptn/app/container-job-toolkit:0.1\nParameters:\nparams: {\n    // Required parameters\n    containerImageSource: 'mcr.microsoft.com/k8se/quickstart-jobs:latest'\n    name: 'acjmax001'\n    // Non-required parameters\n    addressPrefix: '192.168.0.0/16'\n    appInsightsConnectionString: '<appInsightsConnectionString>'\n    cpu: '2'\n    cronExpression: '0 * * * *'\n    customNetworkSecurityGroups: [\n      {\n        name: 'nsg1'\n        properties: {\n          access: 'Allow'\n          destinationAddressPrefix: '192.168.0.0/16'\n          destinationPortRange: '80'\n          direction: 'Outbound'\n          priority: 300\n          protocol: 'Tcp'\n          sourceAddressPrefixes: [\n            '10.10.10.0/24'\n          ]\n          sourcePortRange: '*'\n        }\n      }\n    ]\n    deployDnsZoneContainerRegistry: false\n    deployDnsZoneKeyVault: false\n    deployInVnet: true\n    environmentVariables: [\n      {\n        name: 'key1'\n        value: 'value1'\n      }\n      {\n        name: 'key2'\n        secretRef: 'secretkey1'\n      }\n    ]\n    keyVaultName: '<keyVaultName>'\n    keyVaultRoleAssignments: [\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Key Vault Secrets Officer'\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'None'\n      name: 'No lock for testing'\n    }\n    logAnalyticsWorkspaceResourceId: '<logAnalyticsWorkspaceResourceId>'\n    managedIdentityName: 'acjmaxmi'\n    managedIdentityResourceId: '<managedIdentityResourceId>'\n    memory: '8Gi'\n    newContainerImageName: 'application/frontend:latest'\n    overwriteExistingImage: true\n    registryRoleAssignments: [\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'AcrImageSigner'\n      }\n    ]\n    secrets: [\n      {\n        identity: '<identity>'\n        keyVaultUrl: '<keyVaultUrl>'\n        name: 'secretkey1'\n      }\n    ]\n    tags: {\n      environment: 'test'\n    }\n    workloadProfileName: 'CAW01'\n    workloadProfiles: [\n      {\n        maximumCount: 1\n        minimumCount: 0\n        name: 'CAW01'\n        workloadProfileType: 'D4'\n      }\n    ]\n  }", "bicep": "module containerJobToolkit 'br/public:avm/ptn/app/container-job-toolkit:0.1' = {\n  name: 'containerJobToolkitDeployment'\n  params: {\n    // Required parameters\n    containerImageSource: 'mcr.microsoft.com/k8se/quickstart-jobs:latest'\n    name: 'acjmax001'\n    // Non-required parameters\n    addressPrefix: '192.168.0.0/16'\n    appInsightsConnectionString: '<appInsightsConnectionString>'\n    cpu: '2'\n    cronExpression: '0 * * * *'\n    customNetworkSecurityGroups: [\n      {\n        name: 'nsg1'\n        properties: {\n          access: 'Allow'\n          destinationAddressPrefix: '192.168.0.0/16'\n          destinationPortRange: '80'\n          direction: 'Outbound'\n          priority: 300\n          protocol: 'Tcp'\n          sourceAddressPrefixes: [\n            '10.10.10.0/24'\n          ]\n          sourcePortRange: '*'\n        }\n      }\n    ]\n    deployDnsZoneContainerRegistry: false\n    deployDnsZoneKeyVault: false\n    deployInVnet: true\n    environmentVariables: [\n      {\n        name: 'key1'\n        value: 'value1'\n      }\n      {\n        name: 'key2'\n        secretRef: 'secretkey1'\n      }\n    ]\n    keyVaultName: '<keyVaultName>'\n    keyVaultRoleAssignments: [\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Key Vault Secrets Officer'\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'None'\n      name: 'No lock for testing'\n    }\n    logAnalyticsWorkspaceResourceId: '<logAnalyticsWorkspaceResourceId>'\n    managedIdentityName: 'acjmaxmi'\n    managedIdentityResourceId: '<managedIdentityResourceId>'\n    memory: '8Gi'\n    newContainerImageName: 'application/frontend:latest'\n    overwriteExistingImage: true\n    registryRoleAssignments: [\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'AcrImageSigner'\n      }\n    ]\n    secrets: [\n      {\n        identity: '<identity>'\n        keyVaultUrl: '<keyVaultUrl>'\n        name: 'secretkey1'\n      }\n    ]\n    tags: {\n      environment: 'test'\n    }\n    workloadProfileName: 'CAW01'\n    workloadProfiles: [\n      {\n        maximumCount: 1\n        minimumCount: 0\n        name: 'CAW01'\n        workloadProfileType: 'D4'\n      }\n    ]\n  }\n}"}
{"id": "avm_ptn_app_container-job-toolkit_example_3", "source": "avm/ptn/app/container-job-toolkit/README.md", "content_to_embed": "Recommended AVM Module for Container job toolkit: Align to WAF - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: App/ContainerJobToolkit\nModule ID: br/public:avm/ptn/app/container-job-toolkit:0.1\nParameters:\nparams: {\n    // Required parameters\n    containerImageSource: 'mcr.microsoft.com/k8se/quickstart-jobs:latest'\n    name: 'acjwaf001'\n    // Non-required parameters\n    appInsightsConnectionString: '<appInsightsConnectionString>'\n    deployInVnet: true\n    location: '<location>'\n    logAnalyticsWorkspaceResourceId: '<logAnalyticsWorkspaceResourceId>'\n    managedIdentityResourceId: '<managedIdentityResourceId>'\n    overwriteExistingImage: true\n    tags: {\n      Env: 'test'\n      'hidden-title': 'This is visible in the resource name'\n    }\n    workloadProfileName: 'CAW01'\n    workloadProfiles: [\n      {\n        maximumCount: 6\n        minimumCount: 3\n        name: 'CAW01'\n        workloadProfileType: 'D4'\n      }\n    ]\n  }", "bicep": "module containerJobToolkit 'br/public:avm/ptn/app/container-job-toolkit:0.1' = {\n  name: 'containerJobToolkitDeployment'\n  params: {\n    // Required parameters\n    containerImageSource: 'mcr.microsoft.com/k8se/quickstart-jobs:latest'\n    name: 'acjwaf001'\n    // Non-required parameters\n    appInsightsConnectionString: '<appInsightsConnectionString>'\n    deployInVnet: true\n    location: '<location>'\n    logAnalyticsWorkspaceResourceId: '<logAnalyticsWorkspaceResourceId>'\n    managedIdentityResourceId: '<managedIdentityResourceId>'\n    overwriteExistingImage: true\n    tags: {\n      Env: 'test'\n      'hidden-title': 'This is visible in the resource name'\n    }\n    workloadProfileName: 'CAW01'\n    workloadProfiles: [\n      {\n        maximumCount: 6\n        minimumCount: 3\n        name: 'CAW01'\n        workloadProfileType: 'D4'\n      }\n    ]\n  }\n}"}
{"id": "avm_ptn_app_iaas-vm-cosmosdb-tier4_example_1", "source": "avm/ptn/app/iaas-vm-cosmosdb-tier4/README.md", "content_to_embed": "Recommended AVM Module for IaaS VM with CosmosDB Tier 4: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: App/IaasVmCosmosdbTier4\nModule ID: br/public:avm/ptn/app/iaas-vm-cosmosdb-tier4:0.1\nParameters:\nparams: {\n    name: '<name>'\n  }", "bicep": "module iaasVmCosmosdbTier4 'br/public:avm/ptn/app/iaas-vm-cosmosdb-tier4:0.1' = {\n  name: 'iaasVmCosmosdbTier4Deployment'\n  params: {\n    name: '<name>'\n  }\n}"}
{"id": "avm_ptn_app_paas-ase-cosmosdb-tier4_example_1", "source": "avm/ptn/app/paas-ase-cosmosdb-tier4/README.md", "content_to_embed": "Recommended AVM Module for PaaS ASE with CosmosDB Tier 4: WAF-aligned - This instance deploys the module with WAF aligned settings.\nResource Type Path: App/PaasAseCosmosdbTier4\nModule ID: br/public:avm/ptn/app/paas-ase-cosmosdb-tier4:0.1\nParameters:\nparams: {\n    // Required parameters\n    name: 'apactwaf001'\n    // Non-required parameters\n    defaultSubnetAddressPrefix: '192.168.250.0/24'\n    privateEndpointSubnetAddressPrefix: '192.168.251.0/24'\n    suffix: 'waf'\n    tags: {\n      Environment: 'Test'\n      Module: 'avm/ptn/app/paas-ase-cosmosdb-tier4'\n      Purpose: 'WAF-Aligned-Testing'\n    }\n    vNetAddressPrefix: '192.168.250.0/23'\n  }", "bicep": "module paasAseCosmosdbTier4 'br/public:avm/ptn/app/paas-ase-cosmosdb-tier4:0.1' = {\n  name: 'paasAseCosmosdbTier4Deployment'\n  params: {\n    // Required parameters\n    name: 'apactwaf001'\n    // Non-required parameters\n    defaultSubnetAddressPrefix: '192.168.250.0/24'\n    privateEndpointSubnetAddressPrefix: '192.168.251.0/24'\n    suffix: 'waf'\n    tags: {\n      Environment: 'Test'\n      Module: 'avm/ptn/app/paas-ase-cosmosdb-tier4'\n      Purpose: 'WAF-Aligned-Testing'\n    }\n    vNetAddressPrefix: '192.168.250.0/23'\n  }\n}"}
{"id": "avm_ptn_app-service-lza_hosting-environment_example_1", "source": "avm/ptn/app-service-lza/hosting-environment/README.md", "content_to_embed": "Recommended AVM Module for App Service Landing Zone Accelerator: Using only defaults. - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: AppServiceLza/HostingEnvironment\nModule ID: br/public:avm/ptn/app-service-lza/hosting-environment:0.1\nParameters:\nparams: {\n    adminPassword: '<adminPassword>'\n    adminUsername: 'azureuser'\n    location: '<location>'\n    vmSize: 'Standard_D2s_v4'\n    workloadName: '<workloadName>'\n  }", "bicep": "module hostingEnvironment 'br/public:avm/ptn/app-service-lza/hosting-environment:0.1' = {\n  name: 'hostingEnvironmentDeployment'\n  params: {\n    adminPassword: '<adminPassword>'\n    adminUsername: 'azureuser'\n    location: '<location>'\n    vmSize: 'Standard_D2s_v4'\n    workloadName: '<workloadName>'\n  }\n}"}
{"id": "avm_ptn_app-service-lza_hosting-environment_example_2", "source": "avm/ptn/app-service-lza/hosting-environment/README.md", "content_to_embed": "Recommended AVM Module for App Service Landing Zone Accelerator: WAF-aligned - This instance deploys the module with WAF aligned settings.\nResource Type Path: AppServiceLza/HostingEnvironment\nModule ID: br/public:avm/ptn/app-service-lza/hosting-environment:0.1\nParameters:\nparams: {\n    adminPassword: '<adminPassword>'\n    adminUsername: 'azureuser'\n    appserviceDiagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        logCategoriesAndGroups: [\n          {\n            categoryGroup: 'allLogs'\n          }\n        ]\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    aseDiagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        logCategoriesAndGroups: [\n          {\n            categoryGroup: 'allLogs'\n          }\n        ]\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    enableEgressLockdown: true\n    frontDoorDiagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        logCategoriesAndGroups: [\n          {\n            category: 'FrontdoorAccessLog'\n          }\n          {\n            category: 'FrontdoorWebApplicationFirewallLog'\n          }\n        ]\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    location: '<location>'\n    servicePlanDiagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    tags: {\n      environment: 'test'\n    }\n    vmSize: 'Standard_D2s_v4'\n    workloadName: '<workloadName>'\n  }", "bicep": "module hostingEnvironment 'br/public:avm/ptn/app-service-lza/hosting-environment:0.1' = {\n  name: 'hostingEnvironmentDeployment'\n  params: {\n    adminPassword: '<adminPassword>'\n    adminUsername: 'azureuser'\n    appserviceDiagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        logCategoriesAndGroups: [\n          {\n            categoryGroup: 'allLogs'\n          }\n        ]\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    aseDiagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        logCategoriesAndGroups: [\n          {\n            categoryGroup: 'allLogs'\n          }\n        ]\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    enableEgressLockdown: true\n    frontDoorDiagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        logCategoriesAndGroups: [\n          {\n            category: 'FrontdoorAccessLog'\n          }\n          {\n            category: 'FrontdoorWebApplicationFirewallLog'\n          }\n        ]\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    location: '<location>'\n    servicePlanDiagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    tags: {\n      environment: 'test'\n    }\n    vmSize: 'Standard_D2s_v4'\n    workloadName: '<workloadName>'\n  }\n}"}
{"id": "avm_ptn_authorization_pim-role-assignment_example_1", "source": "avm/ptn/authorization/pim-role-assignment/README.md", "content_to_embed": "Recommended AVM Module for PIM Role Assignments (All scopes): PIM Eligible Role Assignments (Management Group scope) - This module deploys a PIM Eligible Role Assignment at a Management Group scope using minimal parameters.\nResource Type Path: Authorization/PimRoleAssignment\nModule ID: br/public:avm/ptn/authorization/pim-role-assignment:0.1\nParameters:\nparams: {\n    // Required parameters\n    pimRoleAssignmentType: {\n      roleAssignmentType: 'Eligible'\n      scheduleInfo: {\n        duration: 'PT4H'\n        durationType: 'AfterDuration'\n        startTime: '<startTime>'\n      }\n    }\n    principalId: '<principalId>'\n    requestType: 'AdminAssign'\n    roleDefinitionIdOrName: 'Role Based Access Control Administrator'\n    // Non-required parameters\n    justification: 'AVM test'\n    location: '<location>'\n  }", "bicep": "module pimRoleAssignment 'br/public:avm/ptn/authorization/pim-role-assignment:0.1' = {\n  name: 'pimRoleAssignmentDeployment'\n  params: {\n    // Required parameters\n    pimRoleAssignmentType: {\n      roleAssignmentType: 'Eligible'\n      scheduleInfo: {\n        duration: 'PT4H'\n        durationType: 'AfterDuration'\n        startTime: '<startTime>'\n      }\n    }\n    principalId: '<principalId>'\n    requestType: 'AdminAssign'\n    roleDefinitionIdOrName: 'Role Based Access Control Administrator'\n    // Non-required parameters\n    justification: 'AVM test'\n    location: '<location>'\n  }\n}"}
{"id": "avm_ptn_authorization_pim-role-assignment_example_2", "source": "avm/ptn/authorization/pim-role-assignment/README.md", "content_to_embed": "Recommended AVM Module for PIM Role Assignments (All scopes): PIM Active Role Assignments (Resource Group) - This module deploys a PIM Active Role Assignment at a Resource Group scope using common parameters.\nResource Type Path: Authorization/PimRoleAssignment\nModule ID: br/public:avm/ptn/authorization/pim-role-assignment:0.1\nParameters:\nparams: {\n    // Required parameters\n    pimRoleAssignmentType: {\n      roleAssignmentType: 'Active'\n      scheduleInfo: {\n        durationType: 'AfterDateTime'\n        endDateTime: '<endDateTime>'\n        startTime: '<startTime>'\n      }\n    }\n    principalId: '<principalId>'\n    requestType: 'AdminAssign'\n    roleDefinitionIdOrName: '/providers/Microsoft.Authorization/roleDefinitions/f58310d9-a9f6-439a-9e8d-f62e7b41a168'\n    // Non-required parameters\n    justification: 'AVM test'\n    location: '<location>'\n    resourceGroupName: '<resourceGroupName>'\n    subscriptionId: '<subscriptionId>'\n    ticketInfo: {\n      ticketNumber: '32423'\n      ticketSystem: 'system12'\n    }\n  }", "bicep": "module pimRoleAssignment 'br/public:avm/ptn/authorization/pim-role-assignment:0.1' = {\n  name: 'pimRoleAssignmentDeployment'\n  params: {\n    // Required parameters\n    pimRoleAssignmentType: {\n      roleAssignmentType: 'Active'\n      scheduleInfo: {\n        durationType: 'AfterDateTime'\n        endDateTime: '<endDateTime>'\n        startTime: '<startTime>'\n      }\n    }\n    principalId: '<principalId>'\n    requestType: 'AdminAssign'\n    roleDefinitionIdOrName: '/providers/Microsoft.Authorization/roleDefinitions/f58310d9-a9f6-439a-9e8d-f62e7b41a168'\n    // Non-required parameters\n    justification: 'AVM test'\n    location: '<location>'\n    resourceGroupName: '<resourceGroupName>'\n    subscriptionId: '<subscriptionId>'\n    ticketInfo: {\n      ticketNumber: '32423'\n      ticketSystem: 'system12'\n    }\n  }\n}"}
{"id": "avm_ptn_authorization_pim-role-assignment_example_3", "source": "avm/ptn/authorization/pim-role-assignment/README.md", "content_to_embed": "Recommended AVM Module for PIM Role Assignments (All scopes): PIM Active permanent Role Assignments (Subscription scope) - This module deploys a PIM permanent Role Assignment at a Subscription scope using minimal parameters.\nResource Type Path: Authorization/PimRoleAssignment\nModule ID: br/public:avm/ptn/authorization/pim-role-assignment:0.1\nParameters:\nparams: {\n    // Required parameters\n    pimRoleAssignmentType: {\n      roleAssignmentType: 'Active'\n      scheduleInfo: {\n        durationType: 'NoExpiration'\n      }\n    }\n    principalId: '<principalId>'\n    requestType: 'AdminAssign'\n    roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n    // Non-required parameters\n    justification: 'AVM test'\n    subscriptionId: '<subscriptionId>'\n  }", "bicep": "module pimRoleAssignment 'br/public:avm/ptn/authorization/pim-role-assignment:0.1' = {\n  name: 'pimRoleAssignmentDeployment'\n  params: {\n    // Required parameters\n    pimRoleAssignmentType: {\n      roleAssignmentType: 'Active'\n      scheduleInfo: {\n        durationType: 'NoExpiration'\n      }\n    }\n    principalId: '<principalId>'\n    requestType: 'AdminAssign'\n    roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n    // Non-required parameters\n    justification: 'AVM test'\n    subscriptionId: '<subscriptionId>'\n  }\n}"}
{"id": "avm_ptn_authorization_policy-assignment_example_1", "source": "avm/ptn/authorization/policy-assignment/README.md", "content_to_embed": "Recommended AVM Module for Policy Assignments (All scopes): Policy Assignments (Management Group scope) - This module deploys a Policy Assignment at a Management Group scope using minimal parameters.\nResource Type Path: Authorization/PolicyAssignment\nModule ID: br/public:avm/ptn/authorization/policy-assignment:0.5\nParameters:\nparams: {\n    // Required parameters\n    name: 'apamgmin001'\n    policyDefinitionId: '/providers/Microsoft.Authorization/policyDefinitions/06a78e20-9358-41c9-923c-fb736d382a4d'\n    // Non-required parameters\n    location: '<location>'\n    metadata: {\n      assignedBy: 'Bicep'\n    }\n  }", "bicep": "module policyAssignment 'br/public:avm/ptn/authorization/policy-assignment:0.5' = {\n  name: 'policyAssignmentDeployment'\n  params: {\n    // Required parameters\n    name: 'apamgmin001'\n    policyDefinitionId: '/providers/Microsoft.Authorization/policyDefinitions/06a78e20-9358-41c9-923c-fb736d382a4d'\n    // Non-required parameters\n    location: '<location>'\n    metadata: {\n      assignedBy: 'Bicep'\n    }\n  }\n}"}
{"id": "avm_ptn_authorization_policy-assignment_example_2", "source": "avm/ptn/authorization/policy-assignment/README.md", "content_to_embed": "Recommended AVM Module for Policy Assignments (All scopes): Policy Assignments (Management Group scope) - This module deploys a Policy Assignment at a Management Group scope using common parameters.\nResource Type Path: Authorization/PolicyAssignment\nModule ID: br/public:avm/ptn/authorization/policy-assignment:0.5\nParameters:\nparams: {\n    // Required parameters\n    name: 'apamgmax001'\n    policyDefinitionId: '/providers/Microsoft.Authorization/policySetDefinitions/39a366e6-fdde-4f41-bbf8-3757f46d1611'\n    // Non-required parameters\n    additionalManagementGroupsIDsToAssignRbacTo: [\n      '<name>'\n    ]\n    additionalResourceGroupResourceIDsToAssignRbacTo: [\n      '<resourceId>'\n    ]\n    additionalSubscriptionIDsToAssignRbacTo: [\n      '<subscriptionId>'\n    ]\n    definitionVersion: '1.*.*-preview'\n    description: '[Description] Policy Assignment at the management group scope'\n    displayName: '[Display Name] Policy Assignment at the management group scope'\n    enforcementMode: 'DoNotEnforce'\n    identity: 'SystemAssigned'\n    location: '<location>'\n    managementGroupId: '<managementGroupId>'\n    metadata: {\n      assignedBy: 'Bicep'\n      category: 'Security'\n      version: '1.0'\n    }\n    nonComplianceMessages: [\n      {\n        message: 'Violated Policy Assignment - This is a Non Compliance Message'\n      }\n    ]\n    notScopes: [\n      '<resourceId>'\n    ]\n    overrides: [\n      {\n        kind: 'policyEffect'\n        selectors: [\n          {\n            in: [\n              'ASC_DeployAzureDefenderForSqlAdvancedThreatProtectionWindowsAgent'\n              'ASC_DeployAzureDefenderForSqlVulnerabilityAssessmentWindowsAgent'\n            ]\n            kind: 'policyDefinitionReferenceId'\n          }\n        ]\n        value: 'Disabled'\n      }\n    ]\n    parameterOverrides: {\n      effect: {\n        value: 'Disabled'\n      }\n    }\n    parameters: {\n      effect: {\n        value: 'DeployIfNotExists'\n      }\n      enableCollectionOfSqlQueriesForSecurityResearch: {\n        value: false\n      }\n    }\n    resourceSelectors: [\n      {\n        name: 'resourceSelector-test'\n        selectors: [\n          {\n            in: [\n              'Microsoft.Compute/virtualMachines'\n            ]\n            kind: 'resourceType'\n          }\n          {\n            in: [\n              'westeurope'\n            ]\n            kind: 'resourceLocation'\n          }\n        ]\n      }\n    ]\n    roleDefinitionIds: [\n      '/providers/microsoft.authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c'\n    ]\n  }", "bicep": "module policyAssignment 'br/public:avm/ptn/authorization/policy-assignment:0.5' = {\n  name: 'policyAssignmentDeployment'\n  params: {\n    // Required parameters\n    name: 'apamgmax001'\n    policyDefinitionId: '/providers/Microsoft.Authorization/policySetDefinitions/39a366e6-fdde-4f41-bbf8-3757f46d1611'\n    // Non-required parameters\n    additionalManagementGroupsIDsToAssignRbacTo: [\n      '<name>'\n    ]\n    additionalResourceGroupResourceIDsToAssignRbacTo: [\n      '<resourceId>'\n    ]\n    additionalSubscriptionIDsToAssignRbacTo: [\n      '<subscriptionId>'\n    ]\n    definitionVersion: '1.*.*-preview'\n    description: '[Description] Policy Assignment at the management group scope'\n    displayName: '[Display Name] Policy Assignment at the management group scope'\n    enforcementMode: 'DoNotEnforce'\n    identity: 'SystemAssigned'\n    location: '<location>'\n    managementGroupId: '<managementGroupId>'\n    metadata: {\n      assignedBy: 'Bicep'\n      category: 'Security'\n      version: '1.0'\n    }\n    nonComplianceMessages: [\n      {\n        message: 'Violated Policy Assignment - This is a Non Compliance Message'\n      }\n    ]\n    notScopes: [\n      '<resourceId>'\n    ]\n    overrides: [\n      {\n        kind: 'policyEffect'\n        selectors: [\n          {\n            in: [\n              'ASC_DeployAzureDefenderForSqlAdvancedThreatProtectionWindowsAgent'\n              'ASC_DeployAzureDefenderForSqlVulnerabilityAssessmentWindowsAgent'\n            ]\n            kind: 'policyDefinitionReferenceId'\n          }\n        ]\n        value: 'Disabled'\n      }\n    ]\n    parameterOverrides: {\n      effect: {\n        value: 'Disabled'\n      }\n    }\n    parameters: {\n      effect: {\n        value: 'DeployIfNotExists'\n      }\n      enableCollectionOfSqlQueriesForSecurityResearch: {\n        value: false\n      }\n    }\n    resourceSelectors: [\n      {\n        name: 'resourceSelector-test'\n        selectors: [\n          {\n            in: [\n              'Microsoft.Compute/virtualMachines'\n            ]\n            kind: 'resourceType'\n          }\n          {\n            in: [\n              'westeurope'\n            ]\n            kind: 'resourceLocation'\n          }\n        ]\n      }\n    ]\n    roleDefinitionIds: [\n      '/providers/microsoft.authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c'\n    ]\n  }\n}"}
{"id": "avm_ptn_authorization_policy-assignment_example_3", "source": "avm/ptn/authorization/policy-assignment/README.md", "content_to_embed": "Recommended AVM Module for Policy Assignments (All scopes): Policy Assignments (Resource Group) - This module deploys a Policy Assignment at a Resource Group scope using minimal parameters.\nResource Type Path: Authorization/PolicyAssignment\nModule ID: br/public:avm/ptn/authorization/policy-assignment:0.5\nParameters:\nparams: {\n    // Required parameters\n    name: 'apargmin001'\n    policyDefinitionId: '/providers/Microsoft.Authorization/policyDefinitions/06a78e20-9358-41c9-923c-fb736d382a4d'\n    // Non-required parameters\n    location: '<location>'\n    metadata: {\n      assignedBy: 'Bicep'\n    }\n    resourceGroupName: '<resourceGroupName>'\n    subscriptionId: '<subscriptionId>'\n  }", "bicep": "module policyAssignment 'br/public:avm/ptn/authorization/policy-assignment:0.5' = {\n  name: 'policyAssignmentDeployment'\n  params: {\n    // Required parameters\n    name: 'apargmin001'\n    policyDefinitionId: '/providers/Microsoft.Authorization/policyDefinitions/06a78e20-9358-41c9-923c-fb736d382a4d'\n    // Non-required parameters\n    location: '<location>'\n    metadata: {\n      assignedBy: 'Bicep'\n    }\n    resourceGroupName: '<resourceGroupName>'\n    subscriptionId: '<subscriptionId>'\n  }\n}"}
{"id": "avm_ptn_authorization_policy-assignment_example_4", "source": "avm/ptn/authorization/policy-assignment/README.md", "content_to_embed": "Recommended AVM Module for Policy Assignments (All scopes): Policy Assignments (Resource Group) - This module deploys a Policy Assignment at a Resource Group scope using common parameters.\nResource Type Path: Authorization/PolicyAssignment\nModule ID: br/public:avm/ptn/authorization/policy-assignment:0.5\nParameters:\nparams: {\n    // Required parameters\n    name: 'apargmax001'\n    policyDefinitionId: '/providers/Microsoft.Authorization/policySetDefinitions/39a366e6-fdde-4f41-bbf8-3757f46d1611'\n    // Non-required parameters\n    definitionVersion: '1.*.*-preview'\n    description: '[Description] Policy Assignment at the resource group scope'\n    displayName: '[Display Name] Policy Assignment at the resource group scope'\n    enforcementMode: 'DoNotEnforce'\n    identity: 'UserAssigned'\n    location: '<location>'\n    metadata: {\n      assignedBy: 'Bicep'\n      category: 'Security'\n      version: '1.0'\n    }\n    nonComplianceMessages: [\n      {\n        message: 'Violated Policy Assignment - This is a Non Compliance Message'\n      }\n    ]\n    notScopes: [\n      '<keyVaultResourceId>'\n    ]\n    overrides: [\n      {\n        kind: 'policyEffect'\n        selectors: [\n          {\n            in: [\n              'ASC_DeployAzureDefenderForSqlAdvancedThreatProtectionWindowsAgent'\n              'ASC_DeployAzureDefenderForSqlVulnerabilityAssessmentWindowsAgent'\n            ]\n            kind: 'policyDefinitionReferenceId'\n          }\n        ]\n        value: 'Disabled'\n      }\n    ]\n    parameterOverrides: {\n      effect: {\n        value: 'Disabled'\n      }\n    }\n    parameters: {\n      effect: {\n        value: 'DeployIfNotExists'\n      }\n      enableCollectionOfSqlQueriesForSecurityResearch: {\n        value: false\n      }\n    }\n    resourceGroupName: '<resourceGroupName>'\n    resourceSelectors: [\n      {\n        name: 'resourceSelector-test'\n        selectors: [\n          {\n            in: [\n              'Microsoft.Compute/virtualMachines'\n            ]\n            kind: 'resourceType'\n          }\n          {\n            in: [\n              'westeurope'\n            ]\n            kind: 'resourceLocation'\n          }\n        ]\n      }\n    ]\n    roleDefinitionIds: [\n      '/providers/microsoft.authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c'\n    ]\n    subscriptionId: '<subscriptionId>'\n    userAssignedIdentityId: '<userAssignedIdentityId>'\n  }", "bicep": "module policyAssignment 'br/public:avm/ptn/authorization/policy-assignment:0.5' = {\n  name: 'policyAssignmentDeployment'\n  params: {\n    // Required parameters\n    name: 'apargmax001'\n    policyDefinitionId: '/providers/Microsoft.Authorization/policySetDefinitions/39a366e6-fdde-4f41-bbf8-3757f46d1611'\n    // Non-required parameters\n    definitionVersion: '1.*.*-preview'\n    description: '[Description] Policy Assignment at the resource group scope'\n    displayName: '[Display Name] Policy Assignment at the resource group scope'\n    enforcementMode: 'DoNotEnforce'\n    identity: 'UserAssigned'\n    location: '<location>'\n    metadata: {\n      assignedBy: 'Bicep'\n      category: 'Security'\n      version: '1.0'\n    }\n    nonComplianceMessages: [\n      {\n        message: 'Violated Policy Assignment - This is a Non Compliance Message'\n      }\n    ]\n    notScopes: [\n      '<keyVaultResourceId>'\n    ]\n    overrides: [\n      {\n        kind: 'policyEffect'\n        selectors: [\n          {\n            in: [\n              'ASC_DeployAzureDefenderForSqlAdvancedThreatProtectionWindowsAgent'\n              'ASC_DeployAzureDefenderForSqlVulnerabilityAssessmentWindowsAgent'\n            ]\n            kind: 'policyDefinitionReferenceId'\n          }\n        ]\n        value: 'Disabled'\n      }\n    ]\n    parameterOverrides: {\n      effect: {\n        value: 'Disabled'\n      }\n    }\n    parameters: {\n      effect: {\n        value: 'DeployIfNotExists'\n      }\n      enableCollectionOfSqlQueriesForSecurityResearch: {\n        value: false\n      }\n    }\n    resourceGroupName: '<resourceGroupName>'\n    resourceSelectors: [\n      {\n        name: 'resourceSelector-test'\n        selectors: [\n          {\n            in: [\n              'Microsoft.Compute/virtualMachines'\n            ]\n            kind: 'resourceType'\n          }\n          {\n            in: [\n              'westeurope'\n            ]\n            kind: 'resourceLocation'\n          }\n        ]\n      }\n    ]\n    roleDefinitionIds: [\n      '/providers/microsoft.authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c'\n    ]\n    subscriptionId: '<subscriptionId>'\n    userAssignedIdentityId: '<userAssignedIdentityId>'\n  }\n}"}
{"id": "avm_ptn_authorization_policy-assignment_example_5", "source": "avm/ptn/authorization/policy-assignment/README.md", "content_to_embed": "Recommended AVM Module for Policy Assignments (All scopes): Policy Assignments (Subscription) - This module deploys a Policy Assignment at a Subscription scope using common parameters.\nResource Type Path: Authorization/PolicyAssignment\nModule ID: br/public:avm/ptn/authorization/policy-assignment:0.5\nParameters:\nparams: {\n    // Required parameters\n    name: 'apasubmin001'\n    policyDefinitionId: '/providers/Microsoft.Authorization/policyDefinitions/06a78e20-9358-41c9-923c-fb736d382a4d'\n    // Non-required parameters\n    location: '<location>'\n    metadata: {\n      assignedBy: 'Bicep'\n      category: 'Security'\n      version: '1.0'\n    }\n    subscriptionId: '<subscriptionId>'\n  }", "bicep": "module policyAssignment 'br/public:avm/ptn/authorization/policy-assignment:0.5' = {\n  name: 'policyAssignmentDeployment'\n  params: {\n    // Required parameters\n    name: 'apasubmin001'\n    policyDefinitionId: '/providers/Microsoft.Authorization/policyDefinitions/06a78e20-9358-41c9-923c-fb736d382a4d'\n    // Non-required parameters\n    location: '<location>'\n    metadata: {\n      assignedBy: 'Bicep'\n      category: 'Security'\n      version: '1.0'\n    }\n    subscriptionId: '<subscriptionId>'\n  }\n}"}
{"id": "avm_ptn_authorization_policy-assignment_example_6", "source": "avm/ptn/authorization/policy-assignment/README.md", "content_to_embed": "Recommended AVM Module for Policy Assignments (All scopes): Policy Assignments (Subscription) - This module deploys a Policy Assignment at a Subscription scope using common parameters.\nResource Type Path: Authorization/PolicyAssignment\nModule ID: br/public:avm/ptn/authorization/policy-assignment:0.5\nParameters:\nparams: {\n    // Required parameters\n    name: 'apasubmax001'\n    policyDefinitionId: '/providers/Microsoft.Authorization/policySetDefinitions/39a366e6-fdde-4f41-bbf8-3757f46d1611'\n    // Non-required parameters\n    definitionVersion: '1.*.*-preview'\n    description: '[Description] Policy Assignment at the subscription scope'\n    displayName: '[Display Name] Policy Assignment at the subscription scope'\n    enforcementMode: 'DoNotEnforce'\n    identity: 'UserAssigned'\n    location: '<location>'\n    metadata: {\n      assignedBy: 'Bicep'\n      category: 'Security'\n      version: '1.0'\n    }\n    nonComplianceMessages: [\n      {\n        message: 'Violated Policy Assignment - This is a Non Compliance Message'\n      }\n    ]\n    notScopes: [\n      '/subscriptions/<value>/resourceGroups/validation-rg'\n    ]\n    overrides: [\n      {\n        kind: 'policyEffect'\n        selectors: [\n          {\n            in: [\n              'ASC_DeployAzureDefenderForSqlAdvancedThreatProtectionWindowsAgent'\n              'ASC_DeployAzureDefenderForSqlVulnerabilityAssessmentWindowsAgent'\n            ]\n            kind: 'policyDefinitionReferenceId'\n          }\n        ]\n        value: 'Disabled'\n      }\n    ]\n    parameterOverrides: {\n      effect: {\n        value: 'Disabled'\n      }\n    }\n    parameters: {\n      effect: {\n        value: 'DeployIfNotExists'\n      }\n      enableCollectionOfSqlQueriesForSecurityResearch: {\n        value: false\n      }\n    }\n    resourceSelectors: [\n      {\n        name: 'resourceSelector-test'\n        selectors: [\n          {\n            in: [\n              'Microsoft.Compute/virtualMachines'\n            ]\n            kind: 'resourceType'\n          }\n          {\n            in: [\n              'westeurope'\n            ]\n            kind: 'resourceLocation'\n          }\n        ]\n      }\n    ]\n    roleDefinitionIds: [\n      '/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c'\n    ]\n    subscriptionId: '<subscriptionId>'\n    userAssignedIdentityId: '<userAssignedIdentityId>'\n  }", "bicep": "module policyAssignment 'br/public:avm/ptn/authorization/policy-assignment:0.5' = {\n  name: 'policyAssignmentDeployment'\n  params: {\n    // Required parameters\n    name: 'apasubmax001'\n    policyDefinitionId: '/providers/Microsoft.Authorization/policySetDefinitions/39a366e6-fdde-4f41-bbf8-3757f46d1611'\n    // Non-required parameters\n    definitionVersion: '1.*.*-preview'\n    description: '[Description] Policy Assignment at the subscription scope'\n    displayName: '[Display Name] Policy Assignment at the subscription scope'\n    enforcementMode: 'DoNotEnforce'\n    identity: 'UserAssigned'\n    location: '<location>'\n    metadata: {\n      assignedBy: 'Bicep'\n      category: 'Security'\n      version: '1.0'\n    }\n    nonComplianceMessages: [\n      {\n        message: 'Violated Policy Assignment - This is a Non Compliance Message'\n      }\n    ]\n    notScopes: [\n      '/subscriptions/<value>/resourceGroups/validation-rg'\n    ]\n    overrides: [\n      {\n        kind: 'policyEffect'\n        selectors: [\n          {\n            in: [\n              'ASC_DeployAzureDefenderForSqlAdvancedThreatProtectionWindowsAgent'\n              'ASC_DeployAzureDefenderForSqlVulnerabilityAssessmentWindowsAgent'\n            ]\n            kind: 'policyDefinitionReferenceId'\n          }\n        ]\n        value: 'Disabled'\n      }\n    ]\n    parameterOverrides: {\n      effect: {\n        value: 'Disabled'\n      }\n    }\n    parameters: {\n      effect: {\n        value: 'DeployIfNotExists'\n      }\n      enableCollectionOfSqlQueriesForSecurityResearch: {\n        value: false\n      }\n    }\n    resourceSelectors: [\n      {\n        name: 'resourceSelector-test'\n        selectors: [\n          {\n            in: [\n              'Microsoft.Compute/virtualMachines'\n            ]\n            kind: 'resourceType'\n          }\n          {\n            in: [\n              'westeurope'\n            ]\n            kind: 'resourceLocation'\n          }\n        ]\n      }\n    ]\n    roleDefinitionIds: [\n      '/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c'\n    ]\n    subscriptionId: '<subscriptionId>'\n    userAssignedIdentityId: '<userAssignedIdentityId>'\n  }\n}"}
{"id": "avm_ptn_authorization_policy-exemption_example_1", "source": "avm/ptn/authorization/policy-exemption/README.md", "content_to_embed": "Recommended AVM Module for Policy Exemptions (All scopes): Policy Exemptions (Management Group scope) - This module deploys a Policy Exemption at a Management Group scope using minimal parameters.\nResource Type Path: Authorization/PolicyExemption\nModule ID: br/public:avm/ptn/authorization/policy-exemption:0.1\nParameters:\nparams: {\n    // Required parameters\n    exemptionCategory: 'Mitigated'\n    name: 'apemgmin001'\n    policyAssignmentId: '<policyAssignmentId>'\n  }", "bicep": "module policyExemption 'br/public:avm/ptn/authorization/policy-exemption:0.1' = {\n  name: 'policyExemptionDeployment'\n  params: {\n    // Required parameters\n    exemptionCategory: 'Mitigated'\n    name: 'apemgmin001'\n    policyAssignmentId: '<policyAssignmentId>'\n  }\n}"}
{"id": "avm_ptn_authorization_policy-exemption_example_2", "source": "avm/ptn/authorization/policy-exemption/README.md", "content_to_embed": "Recommended AVM Module for Policy Exemptions (All scopes): Policy Exemptions (Management Group scope) - This module deploys a Policy Exemption at a Management Group scope using common parameters.\nResource Type Path: Authorization/PolicyExemption\nModule ID: br/public:avm/ptn/authorization/policy-exemption:0.1\nParameters:\nparams: {\n    // Required parameters\n    exemptionCategory: 'Mitigated'\n    name: 'apemgmax001'\n    policyAssignmentId: '<policyAssignmentId>'\n    // Non-required parameters\n    assignmentScopeValidation: 'Default'\n    description: '[Description] Policy Exemption at the management group scope'\n    displayName: '[DisplayName] Policy Exemption at the management group scope'\n    enableTelemetry: true\n    location: '<location>'\n    managementGroupId: '<managementGroupId>'\n    metadata: {\n      assignedBy: 'Bicep'\n      category: 'Security'\n    }\n    resourceSelectors: [\n      {\n        name: 'resourceSelector-test'\n        selectors: [\n          {\n            in: [\n              'Microsoft.Compute/virtualMachines'\n            ]\n            kind: 'resourceType'\n          }\n          {\n            in: [\n              'westeurope'\n            ]\n            kind: 'resourceLocation'\n          }\n        ]\n      }\n    ]\n  }", "bicep": "module policyExemption 'br/public:avm/ptn/authorization/policy-exemption:0.1' = {\n  name: 'policyExemptionDeployment'\n  params: {\n    // Required parameters\n    exemptionCategory: 'Mitigated'\n    name: 'apemgmax001'\n    policyAssignmentId: '<policyAssignmentId>'\n    // Non-required parameters\n    assignmentScopeValidation: 'Default'\n    description: '[Description] Policy Exemption at the management group scope'\n    displayName: '[DisplayName] Policy Exemption at the management group scope'\n    enableTelemetry: true\n    location: '<location>'\n    managementGroupId: '<managementGroupId>'\n    metadata: {\n      assignedBy: 'Bicep'\n      category: 'Security'\n    }\n    resourceSelectors: [\n      {\n        name: 'resourceSelector-test'\n        selectors: [\n          {\n            in: [\n              'Microsoft.Compute/virtualMachines'\n            ]\n            kind: 'resourceType'\n          }\n          {\n            in: [\n              'westeurope'\n            ]\n            kind: 'resourceLocation'\n          }\n        ]\n      }\n    ]\n  }\n}"}
{"id": "avm_ptn_authorization_policy-exemption_example_3", "source": "avm/ptn/authorization/policy-exemption/README.md", "content_to_embed": "Recommended AVM Module for Policy Exemptions (All scopes): Policy Exemption (Resource Group) - This module deploys a Policy Exemption at a Resource Group scope using minimal parameters.\nResource Type Path: Authorization/PolicyExemption\nModule ID: br/public:avm/ptn/authorization/policy-exemption:0.1\nParameters:\nparams: {\n    // Required parameters\n    exemptionCategory: 'Mitigated'\n    name: 'apergmin001'\n    policyAssignmentId: '<policyAssignmentId>'\n    // Non-required parameters\n    resourceGroupName: '<resourceGroupName>'\n    subscriptionId: '<subscriptionId>'\n  }", "bicep": "module policyExemption 'br/public:avm/ptn/authorization/policy-exemption:0.1' = {\n  name: 'policyExemptionDeployment'\n  params: {\n    // Required parameters\n    exemptionCategory: 'Mitigated'\n    name: 'apergmin001'\n    policyAssignmentId: '<policyAssignmentId>'\n    // Non-required parameters\n    resourceGroupName: '<resourceGroupName>'\n    subscriptionId: '<subscriptionId>'\n  }\n}"}
{"id": "avm_ptn_authorization_policy-exemption_example_4", "source": "avm/ptn/authorization/policy-exemption/README.md", "content_to_embed": "Recommended AVM Module for Policy Exemptions (All scopes): Policy Exemption (Resource Group) - This module deploys a Policy Exemption at a Resource Group scope using common parameters.\nResource Type Path: Authorization/PolicyExemption\nModule ID: br/public:avm/ptn/authorization/policy-exemption:0.1\nParameters:\nparams: {\n    // Required parameters\n    exemptionCategory: 'Mitigated'\n    name: 'apergmax001'\n    policyAssignmentId: '<policyAssignmentId>'\n    // Non-required parameters\n    assignmentScopeValidation: 'Default'\n    description: '[Description] Policy Exemption at the management group scope'\n    displayName: '[DisplayName] Policy Exemption at the management group scope'\n    enableTelemetry: true\n    location: '<location>'\n    metadata: {\n      assignedBy: 'Bicep'\n      category: 'Security'\n    }\n    resourceGroupName: '<resourceGroupName>'\n    resourceSelectors: [\n      {\n        name: 'resourceSelector-test'\n        selectors: [\n          {\n            in: [\n              'Microsoft.Compute/virtualMachines'\n            ]\n            kind: 'resourceType'\n          }\n          {\n            in: [\n              'westeurope'\n            ]\n            kind: 'resourceLocation'\n          }\n        ]\n      }\n    ]\n    subscriptionId: '<subscriptionId>'\n  }", "bicep": "module policyExemption 'br/public:avm/ptn/authorization/policy-exemption:0.1' = {\n  name: 'policyExemptionDeployment'\n  params: {\n    // Required parameters\n    exemptionCategory: 'Mitigated'\n    name: 'apergmax001'\n    policyAssignmentId: '<policyAssignmentId>'\n    // Non-required parameters\n    assignmentScopeValidation: 'Default'\n    description: '[Description] Policy Exemption at the management group scope'\n    displayName: '[DisplayName] Policy Exemption at the management group scope'\n    enableTelemetry: true\n    location: '<location>'\n    metadata: {\n      assignedBy: 'Bicep'\n      category: 'Security'\n    }\n    resourceGroupName: '<resourceGroupName>'\n    resourceSelectors: [\n      {\n        name: 'resourceSelector-test'\n        selectors: [\n          {\n            in: [\n              'Microsoft.Compute/virtualMachines'\n            ]\n            kind: 'resourceType'\n          }\n          {\n            in: [\n              'westeurope'\n            ]\n            kind: 'resourceLocation'\n          }\n        ]\n      }\n    ]\n    subscriptionId: '<subscriptionId>'\n  }\n}"}
{"id": "avm_ptn_authorization_policy-exemption_example_5", "source": "avm/ptn/authorization/policy-exemption/README.md", "content_to_embed": "Recommended AVM Module for Policy Exemptions (All scopes): Policy Exemption (Subscription) - This module deploys a Policy Exemption at a Subscription scope using minimal parameters.\nResource Type Path: Authorization/PolicyExemption\nModule ID: br/public:avm/ptn/authorization/policy-exemption:0.1\nParameters:\nparams: {\n    // Required parameters\n    exemptionCategory: 'Mitigated'\n    name: 'apesubmin001'\n    policyAssignmentId: '<policyAssignmentId>'\n    // Non-required parameters\n    subscriptionId: '<subscriptionId>'\n  }", "bicep": "module policyExemption 'br/public:avm/ptn/authorization/policy-exemption:0.1' = {\n  name: 'policyExemptionDeployment'\n  params: {\n    // Required parameters\n    exemptionCategory: 'Mitigated'\n    name: 'apesubmin001'\n    policyAssignmentId: '<policyAssignmentId>'\n    // Non-required parameters\n    subscriptionId: '<subscriptionId>'\n  }\n}"}
{"id": "avm_ptn_authorization_policy-exemption_example_6", "source": "avm/ptn/authorization/policy-exemption/README.md", "content_to_embed": "Recommended AVM Module for Policy Exemptions (All scopes): Policy Exemption (Subscription) - This module deploys a Policy Exemption at a Subscription scope using common parameters.\nResource Type Path: Authorization/PolicyExemption\nModule ID: br/public:avm/ptn/authorization/policy-exemption:0.1\nParameters:\nparams: {\n    // Required parameters\n    exemptionCategory: 'Mitigated'\n    name: 'apesubmax001'\n    policyAssignmentId: '<policyAssignmentId>'\n    // Non-required parameters\n    assignmentScopeValidation: 'Default'\n    description: '[Description] Policy Exemption at the management group scope'\n    displayName: '[DisplayName] Policy Exemption at the management group scope'\n    enableTelemetry: true\n    location: '<location>'\n    metadata: {\n      assignedBy: 'Bicep'\n      category: 'Security'\n    }\n    resourceSelectors: [\n      {\n        name: 'resourceSelector-test'\n        selectors: [\n          {\n            in: [\n              'Microsoft.Compute/virtualMachines'\n            ]\n            kind: 'resourceType'\n          }\n          {\n            in: [\n              'westeurope'\n            ]\n            kind: 'resourceLocation'\n          }\n        ]\n      }\n    ]\n    subscriptionId: '<subscriptionId>'\n  }", "bicep": "module policyExemption 'br/public:avm/ptn/authorization/policy-exemption:0.1' = {\n  name: 'policyExemptionDeployment'\n  params: {\n    // Required parameters\n    exemptionCategory: 'Mitigated'\n    name: 'apesubmax001'\n    policyAssignmentId: '<policyAssignmentId>'\n    // Non-required parameters\n    assignmentScopeValidation: 'Default'\n    description: '[Description] Policy Exemption at the management group scope'\n    displayName: '[DisplayName] Policy Exemption at the management group scope'\n    enableTelemetry: true\n    location: '<location>'\n    metadata: {\n      assignedBy: 'Bicep'\n      category: 'Security'\n    }\n    resourceSelectors: [\n      {\n        name: 'resourceSelector-test'\n        selectors: [\n          {\n            in: [\n              'Microsoft.Compute/virtualMachines'\n            ]\n            kind: 'resourceType'\n          }\n          {\n            in: [\n              'westeurope'\n            ]\n            kind: 'resourceLocation'\n          }\n        ]\n      }\n    ]\n    subscriptionId: '<subscriptionId>'\n  }\n}"}
{"id": "avm_ptn_authorization_resource-role-assignment_example_1", "source": "avm/ptn/authorization/resource-role-assignment/README.md", "content_to_embed": "Recommended AVM Module for Resource-scoped role assignment: Resource Role Assignments - This module deploys a Resource Role Assignment using all parameters.\nResource Type Path: Authorization/ResourceRoleAssignment\nModule ID: br/public:avm/ptn/authorization/resource-role-assignment:0.1\nParameters:\nparams: {\n    // Required parameters\n    principalId: '<principalId>'\n    resourceId: '<resourceId>'\n    roleDefinitionId: '2a2b9908-6ea1-4ae2-8e65-a410df84e7d1'\n    // Non-required parameters\n    description: 'Assign Storage Blob Data Reader role to the managed identity on the storage account.'\n    principalType: 'ServicePrincipal'\n    roleName: 'Storage Blob Data Reader'\n  }", "bicep": "module resourceRoleAssignment 'br/public:avm/ptn/authorization/resource-role-assignment:0.1' = {\n  name: 'resourceRoleAssignmentDeployment'\n  params: {\n    // Required parameters\n    principalId: '<principalId>'\n    resourceId: '<resourceId>'\n    roleDefinitionId: '2a2b9908-6ea1-4ae2-8e65-a410df84e7d1'\n    // Non-required parameters\n    description: 'Assign Storage Blob Data Reader role to the managed identity on the storage account.'\n    principalType: 'ServicePrincipal'\n    roleName: 'Storage Blob Data Reader'\n  }\n}"}
{"id": "avm_ptn_authorization_resource-role-assignment_example_2", "source": "avm/ptn/authorization/resource-role-assignment/README.md", "content_to_embed": "Recommended AVM Module for Resource-scoped role assignment: Resource Role Assignments - This module deploys a Resource Role Assignment using minimal parameters.\nResource Type Path: Authorization/ResourceRoleAssignment\nModule ID: br/public:avm/ptn/authorization/resource-role-assignment:0.1\nParameters:\nparams: {\n    // Required parameters\n    principalId: '<principalId>'\n    resourceId: '<resourceId>'\n    roleDefinitionId: '2a2b9908-6ea1-4ae2-8e65-a410df84e7d1'\n    // Non-required parameters\n    principalType: 'ServicePrincipal'\n  }", "bicep": "module resourceRoleAssignment 'br/public:avm/ptn/authorization/resource-role-assignment:0.1' = {\n  name: 'resourceRoleAssignmentDeployment'\n  params: {\n    // Required parameters\n    principalId: '<principalId>'\n    resourceId: '<resourceId>'\n    roleDefinitionId: '2a2b9908-6ea1-4ae2-8e65-a410df84e7d1'\n    // Non-required parameters\n    principalType: 'ServicePrincipal'\n  }\n}"}
{"id": "avm_ptn_authorization_role-assignment_example_1", "source": "avm/ptn/authorization/role-assignment/README.md", "content_to_embed": "Recommended AVM Module for Role Assignments (All scopes): Role Assignments (Management Group scope) - This module deploys a Role Assignment at a Management Group scope using minimal parameters.\nResource Type Path: Authorization/RoleAssignment\nModule ID: br/public:avm/ptn/authorization/role-assignment:0.2\nParameters:\nparams: {\n    // Required parameters\n    principalId: '<principalId>'\n    roleDefinitionIdOrName: 'Resource Policy Contributor'\n    // Non-required parameters\n    location: '<location>'\n    principalType: 'ServicePrincipal'\n  }", "bicep": "module roleAssignment 'br/public:avm/ptn/authorization/role-assignment:0.2' = {\n  name: 'roleAssignmentDeployment'\n  params: {\n    // Required parameters\n    principalId: '<principalId>'\n    roleDefinitionIdOrName: 'Resource Policy Contributor'\n    // Non-required parameters\n    location: '<location>'\n    principalType: 'ServicePrincipal'\n  }\n}"}
{"id": "avm_ptn_authorization_role-assignment_example_2", "source": "avm/ptn/authorization/role-assignment/README.md", "content_to_embed": "Recommended AVM Module for Role Assignments (All scopes): Role Assignments (Management Group scope) - This module deploys a Role Assignment at a Management Group scope using common parameters.\nResource Type Path: Authorization/RoleAssignment\nModule ID: br/public:avm/ptn/authorization/role-assignment:0.2\nParameters:\nparams: {\n    // Required parameters\n    principalId: '<principalId>'\n    roleDefinitionIdOrName: 'Management Group Reader'\n    // Non-required parameters\n    description: 'Role Assignment (management group scope)'\n    location: '<location>'\n    managementGroupId: '<managementGroupId>'\n    principalType: 'ServicePrincipal'\n  }", "bicep": "module roleAssignment 'br/public:avm/ptn/authorization/role-assignment:0.2' = {\n  name: 'roleAssignmentDeployment'\n  params: {\n    // Required parameters\n    principalId: '<principalId>'\n    roleDefinitionIdOrName: 'Management Group Reader'\n    // Non-required parameters\n    description: 'Role Assignment (management group scope)'\n    location: '<location>'\n    managementGroupId: '<managementGroupId>'\n    principalType: 'ServicePrincipal'\n  }\n}"}
{"id": "avm_ptn_authorization_role-assignment_example_3", "source": "avm/ptn/authorization/role-assignment/README.md", "content_to_embed": "Recommended AVM Module for Role Assignments (All scopes): Role Assignments (Resource Group scope) - This module deploys a Role Assignment at a Resource Group scope using minimal parameters.\nResource Type Path: Authorization/RoleAssignment\nModule ID: br/public:avm/ptn/authorization/role-assignment:0.2\nParameters:\nparams: {\n    // Required parameters\n    principalId: '<principalId>'\n    roleDefinitionIdOrName: '/providers/Microsoft.Authorization/roleDefinitions/c2f4ef07-c644-48eb-af81-4b1b4947fb11'\n    // Non-required parameters\n    location: '<location>'\n    principalType: 'ServicePrincipal'\n    resourceGroupName: '<resourceGroupName>'\n    subscriptionId: '<subscriptionId>'\n  }", "bicep": "module roleAssignment 'br/public:avm/ptn/authorization/role-assignment:0.2' = {\n  name: 'roleAssignmentDeployment'\n  params: {\n    // Required parameters\n    principalId: '<principalId>'\n    roleDefinitionIdOrName: '/providers/Microsoft.Authorization/roleDefinitions/c2f4ef07-c644-48eb-af81-4b1b4947fb11'\n    // Non-required parameters\n    location: '<location>'\n    principalType: 'ServicePrincipal'\n    resourceGroupName: '<resourceGroupName>'\n    subscriptionId: '<subscriptionId>'\n  }\n}"}
{"id": "avm_ptn_authorization_role-assignment_example_4", "source": "avm/ptn/authorization/role-assignment/README.md", "content_to_embed": "Recommended AVM Module for Role Assignments (All scopes): Role Assignments (Resource Group) - This module deploys a Role Assignment at a Resource Group scope using common parameters.\nResource Type Path: Authorization/RoleAssignment\nModule ID: br/public:avm/ptn/authorization/role-assignment:0.2\nParameters:\nparams: {\n    // Required parameters\n    principalId: '<principalId>'\n    roleDefinitionIdOrName: 'Reader'\n    // Non-required parameters\n    description: 'Role Assignment (resource group scope)'\n    location: '<location>'\n    principalType: 'ServicePrincipal'\n    resourceGroupName: '<resourceGroupName>'\n    subscriptionId: '<subscriptionId>'\n  }", "bicep": "module roleAssignment 'br/public:avm/ptn/authorization/role-assignment:0.2' = {\n  name: 'roleAssignmentDeployment'\n  params: {\n    // Required parameters\n    principalId: '<principalId>'\n    roleDefinitionIdOrName: 'Reader'\n    // Non-required parameters\n    description: 'Role Assignment (resource group scope)'\n    location: '<location>'\n    principalType: 'ServicePrincipal'\n    resourceGroupName: '<resourceGroupName>'\n    subscriptionId: '<subscriptionId>'\n  }\n}"}
{"id": "avm_ptn_authorization_role-assignment_example_5", "source": "avm/ptn/authorization/role-assignment/README.md", "content_to_embed": "Recommended AVM Module for Role Assignments (All scopes): Role Assignments (Subscription scope) - This module deploys a Role Assignment at a Subscription scope using minimal parameters.\nResource Type Path: Authorization/RoleAssignment\nModule ID: br/public:avm/ptn/authorization/role-assignment:0.2\nParameters:\nparams: {\n    // Required parameters\n    principalId: '<principalId>'\n    roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n    // Non-required parameters\n    location: '<location>'\n    principalType: 'ServicePrincipal'\n    subscriptionId: '<subscriptionId>'\n  }", "bicep": "module roleAssignment 'br/public:avm/ptn/authorization/role-assignment:0.2' = {\n  name: 'roleAssignmentDeployment'\n  params: {\n    // Required parameters\n    principalId: '<principalId>'\n    roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n    // Non-required parameters\n    location: '<location>'\n    principalType: 'ServicePrincipal'\n    subscriptionId: '<subscriptionId>'\n  }\n}"}
{"id": "avm_ptn_authorization_role-assignment_example_6", "source": "avm/ptn/authorization/role-assignment/README.md", "content_to_embed": "Recommended AVM Module for Role Assignments (All scopes): Role Assignments (Subscription scope) - This module deploys a Role Assignment at a Subscription scope using common parameters.\nResource Type Path: Authorization/RoleAssignment\nModule ID: br/public:avm/ptn/authorization/role-assignment:0.2\nParameters:\nparams: {\n    // Required parameters\n    principalId: '<principalId>'\n    roleDefinitionIdOrName: 'Reader'\n    // Non-required parameters\n    description: 'Role Assignment (subscription scope)'\n    location: '<location>'\n    principalType: 'ServicePrincipal'\n    subscriptionId: '<subscriptionId>'\n  }", "bicep": "module roleAssignment 'br/public:avm/ptn/authorization/role-assignment:0.2' = {\n  name: 'roleAssignmentDeployment'\n  params: {\n    // Required parameters\n    principalId: '<principalId>'\n    roleDefinitionIdOrName: 'Reader'\n    // Non-required parameters\n    description: 'Role Assignment (subscription scope)'\n    location: '<location>'\n    principalType: 'ServicePrincipal'\n    subscriptionId: '<subscriptionId>'\n  }\n}"}
{"id": "avm_ptn_authorization_role-definition_example_1", "source": "avm/ptn/authorization/role-definition/README.md", "content_to_embed": "Recommended AVM Module for avm/ptn/authorization/role-definition: Role Definition (Management Group scope) - Required Parameters - This module deploys a Role Definition at a Management Group scope using minimal parameters.\nResource Type Path: Authorization/RoleDefinition\nModule ID: br/public:avm/ptn/authorization/role-definition:0.1\nParameters:\nparams: {\n    // Required parameters\n    name: 'rbac-custom-role-reader'\n    // Non-required parameters\n    actions: [\n      '*/read'\n    ]\n    location: '<location>'\n  }", "bicep": "module roleDefinition 'br/public:avm/ptn/authorization/role-definition:0.1' = {\n  name: 'roleDefinitionDeployment'\n  params: {\n    // Required parameters\n    name: 'rbac-custom-role-reader'\n    // Non-required parameters\n    actions: [\n      '*/read'\n    ]\n    location: '<location>'\n  }\n}"}
{"id": "avm_ptn_authorization_role-definition_example_2", "source": "avm/ptn/authorization/role-definition/README.md", "content_to_embed": "Recommended AVM Module for avm/ptn/authorization/role-definition: Role Definition (Management Group scope) - Using loadJsonContent - This module deploys a Role Definition at a Management Group scope using loadJsonContent to load a custom role definition stored in a JSON file.\nResource Type Path: Authorization/RoleDefinition\nModule ID: br/public:avm/ptn/authorization/role-definition:0.1\nParameters:\nparams: {\n    // Required parameters\n    name: '<name>'\n    // Non-required parameters\n    actions: '<actions>'\n    dataActions: '<dataActions>'\n    description: '<description>'\n    location: '<location>'\n    notActions: '<notActions>'\n    notDataActions: '<notDataActions>'\n    roleName: '<roleName>'\n  }", "bicep": "module roleDefinition 'br/public:avm/ptn/authorization/role-definition:0.1' = {\n  name: 'roleDefinitionDeployment'\n  params: {\n    // Required parameters\n    name: '<name>'\n    // Non-required parameters\n    actions: '<actions>'\n    dataActions: '<dataActions>'\n    description: '<description>'\n    location: '<location>'\n    notActions: '<notActions>'\n    notDataActions: '<notDataActions>'\n    roleName: '<roleName>'\n  }\n}"}
{"id": "avm_ptn_azd_acr-container-app_example_1", "source": "avm/ptn/azd/acr-container-app/README.md", "content_to_embed": "Recommended AVM Module for Azd ACR Linked Container App: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Azd/AcrContainerApp\nModule ID: br/public:avm/ptn/azd/acr-container-app:0.2\nParameters:\nparams: {\n    // Required parameters\n    containerAppsEnvironmentName: '<containerAppsEnvironmentName>'\n    name: 'acamin001'\n    // Non-required parameters\n    location: '<location>'\n  }", "bicep": "module acrContainerApp 'br/public:avm/ptn/azd/acr-container-app:0.2' = {\n  name: 'acrContainerAppDeployment'\n  params: {\n    // Required parameters\n    containerAppsEnvironmentName: '<containerAppsEnvironmentName>'\n    name: 'acamin001'\n    // Non-required parameters\n    location: '<location>'\n  }\n}"}
{"id": "avm_ptn_azd_acr-container-app_example_2", "source": "avm/ptn/azd/acr-container-app/README.md", "content_to_embed": "Recommended AVM Module for Azd ACR Linked Container App: Using probes - This instance deploys the module with container probes.\nResource Type Path: Azd/AcrContainerApp\nModule ID: br/public:avm/ptn/azd/acr-container-app:0.2\nParameters:\nparams: {\n    // Required parameters\n    containerAppsEnvironmentName: '<containerAppsEnvironmentName>'\n    name: 'acaprb001'\n    // Non-required parameters\n    containerProbes: [\n      {\n        httpGet: {\n          httpHeaders: [\n            {\n              name: 'Custom-Header'\n              value: 'Awesome'\n            }\n          ]\n          path: '/health'\n          port: 8080\n        }\n        initialDelaySeconds: 3\n        periodSeconds: 3\n        type: 'Liveness'\n      }\n    ]\n    location: '<location>'\n  }", "bicep": "module acrContainerApp 'br/public:avm/ptn/azd/acr-container-app:0.2' = {\n  name: 'acrContainerAppDeployment'\n  params: {\n    // Required parameters\n    containerAppsEnvironmentName: '<containerAppsEnvironmentName>'\n    name: 'acaprb001'\n    // Non-required parameters\n    containerProbes: [\n      {\n        httpGet: {\n          httpHeaders: [\n            {\n              name: 'Custom-Header'\n              value: 'Awesome'\n            }\n          ]\n          path: '/health'\n          port: 8080\n        }\n        initialDelaySeconds: 3\n        periodSeconds: 3\n        type: 'Liveness'\n      }\n    ]\n    location: '<location>'\n  }\n}"}
{"id": "avm_ptn_azd_aks_example_1", "source": "avm/ptn/azd/aks/README.md", "content_to_embed": "Recommended AVM Module for Azd AKS: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Azd/Aks\nModule ID: br/public:avm/ptn/azd/aks:0.2\nParameters:\nparams: {\n    // Required parameters\n    containerRegistryName: '<containerRegistryName>'\n    keyVaultName: '<keyVaultName>'\n    monitoringWorkspaceResourceId: '<monitoringWorkspaceResourceId>'\n    name: '<name>'\n    principalId: '<principalId>'\n    // Non-required parameters\n    aadProfile: {\n      aadProfileEnableAzureRBAC: true\n      aadProfileManaged: true\n    }\n    principalType: 'ServicePrincipal'\n  }", "bicep": "module aks 'br/public:avm/ptn/azd/aks:0.2' = {\n  name: 'aksDeployment'\n  params: {\n    // Required parameters\n    containerRegistryName: '<containerRegistryName>'\n    keyVaultName: '<keyVaultName>'\n    monitoringWorkspaceResourceId: '<monitoringWorkspaceResourceId>'\n    name: '<name>'\n    principalId: '<principalId>'\n    // Non-required parameters\n    aadProfile: {\n      aadProfileEnableAzureRBAC: true\n      aadProfileManaged: true\n    }\n    principalType: 'ServicePrincipal'\n  }\n}"}
{"id": "avm_ptn_azd_aks_example_2", "source": "avm/ptn/azd/aks/README.md", "content_to_embed": "Recommended AVM Module for Azd AKS: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Azd/Aks\nModule ID: br/public:avm/ptn/azd/aks:0.2\nParameters:\nparams: {\n    // Required parameters\n    containerRegistryName: '<containerRegistryName>'\n    keyVaultName: '<keyVaultName>'\n    monitoringWorkspaceResourceId: '<monitoringWorkspaceResourceId>'\n    name: '<name>'\n    principalId: '<principalId>'\n    // Non-required parameters\n    aadProfile: '<aadProfile>'\n    acrSku: 'Basic'\n    agentPoolConfig: [\n      {\n        maxPods: 30\n        maxSurge: '33%'\n        mode: 'User'\n        name: 'npuserpool'\n        osType: 'Linux'\n        type: 'VirtualMachineScaleSets'\n        vmSize: 'Standard_DS2_v2'\n      }\n    ]\n    agentPoolSize: 'Standard'\n    aksClusterRoleAssignmentName: '<aksClusterRoleAssignmentName>'\n    containerRegistryRoleName: '<containerRegistryRoleName>'\n    disableLocalAccounts: false\n    dnsPrefix: 'dep-dns-paamax'\n    location: '<location>'\n    principalType: 'ServicePrincipal'\n    skuTier: 'Free'\n    systemPoolConfig: [\n      {\n        availabilityZones: [\n          1\n          2\n          3\n        ]\n        count: 3\n        enableAutoScaling: true\n        maxCount: 5\n        minCount: 3\n        mode: 'System'\n        name: 'npsystem'\n        vmSize: 'Standard_DS2_v2'\n      }\n    ]\n    webApplicationRoutingEnabled: true\n  }", "bicep": "module aks 'br/public:avm/ptn/azd/aks:0.2' = {\n  name: 'aksDeployment'\n  params: {\n    // Required parameters\n    containerRegistryName: '<containerRegistryName>'\n    keyVaultName: '<keyVaultName>'\n    monitoringWorkspaceResourceId: '<monitoringWorkspaceResourceId>'\n    name: '<name>'\n    principalId: '<principalId>'\n    // Non-required parameters\n    aadProfile: '<aadProfile>'\n    acrSku: 'Basic'\n    agentPoolConfig: [\n      {\n        maxPods: 30\n        maxSurge: '33%'\n        mode: 'User'\n        name: 'npuserpool'\n        osType: 'Linux'\n        type: 'VirtualMachineScaleSets'\n        vmSize: 'Standard_DS2_v2'\n      }\n    ]\n    agentPoolSize: 'Standard'\n    aksClusterRoleAssignmentName: '<aksClusterRoleAssignmentName>'\n    containerRegistryRoleName: '<containerRegistryRoleName>'\n    disableLocalAccounts: false\n    dnsPrefix: 'dep-dns-paamax'\n    location: '<location>'\n    principalType: 'ServicePrincipal'\n    skuTier: 'Free'\n    systemPoolConfig: [\n      {\n        availabilityZones: [\n          1\n          2\n          3\n        ]\n        count: 3\n        enableAutoScaling: true\n        maxCount: 5\n        minCount: 3\n        mode: 'System'\n        name: 'npsystem'\n        vmSize: 'Standard_DS2_v2'\n      }\n    ]\n    webApplicationRoutingEnabled: true\n  }\n}"}
{"id": "avm_ptn_azd_aks-automatic-cluster_example_1", "source": "avm/ptn/azd/aks-automatic-cluster/README.md", "content_to_embed": "Recommended AVM Module for Azd AKS Automatic Cluster: Using only defaults and use AKS Automatic mode - This instance deploys the module with the set of automatic parameters.\nResource Type Path: Azd/AksAutomaticCluster\nModule ID: br/public:avm/ptn/azd/aks-automatic-cluster:0.2\nParameters:\nparams: {\n    // Required parameters\n    name: 'csautomin001'\n    // Non-required parameters\n    aadProfile: {\n      aadProfileEnableAzureRBAC: true\n      aadProfileManaged: true\n    }\n    location: '<location>'\n  }", "bicep": "module aksAutomaticCluster 'br/public:avm/ptn/azd/aks-automatic-cluster:0.2' = {\n  name: 'aksAutomaticClusterDeployment'\n  params: {\n    // Required parameters\n    name: 'csautomin001'\n    // Non-required parameters\n    aadProfile: {\n      aadProfileEnableAzureRBAC: true\n      aadProfileManaged: true\n    }\n    location: '<location>'\n  }\n}"}
{"id": "avm_ptn_azd_apim-api_example_1", "source": "avm/ptn/azd/apim-api/README.md", "content_to_embed": "Recommended AVM Module for avm/ptn/azd/apim-api: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Azd/ApimApi\nModule ID: br/public:avm/ptn/azd/apim-api:0.1\nParameters:\nparams: {\n    // Required parameters\n    apiBackendUrl: '<apiBackendUrl>'\n    apiDescription: 'api description'\n    apiDisplayName: 'apd-aapmin'\n    apiName: 'an-aapmin001'\n    apiPath: 'apipath-aapmin'\n    name: '<name>'\n    webFrontendUrl: '<webFrontendUrl>'\n    // Non-required parameters\n    location: '<location>'\n  }", "bicep": "module apimApi 'br/public:avm/ptn/azd/apim-api:0.1' = {\n  name: 'apimApiDeployment'\n  params: {\n    // Required parameters\n    apiBackendUrl: '<apiBackendUrl>'\n    apiDescription: 'api description'\n    apiDisplayName: 'apd-aapmin'\n    apiName: 'an-aapmin001'\n    apiPath: 'apipath-aapmin'\n    name: '<name>'\n    webFrontendUrl: '<webFrontendUrl>'\n    // Non-required parameters\n    location: '<location>'\n  }\n}"}
{"id": "avm_ptn_azd_container-app-upsert_example_1", "source": "avm/ptn/azd/container-app-upsert/README.md", "content_to_embed": "Recommended AVM Module for Azd Container App Upsert: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Azd/ContainerAppUpsert\nModule ID: br/public:avm/ptn/azd/container-app-upsert:0.2\nParameters:\nparams: {\n    // Required parameters\n    containerAppsEnvironmentName: '<containerAppsEnvironmentName>'\n    name: 'acaumin001'\n    // Non-required parameters\n    location: '<location>'\n  }", "bicep": "module containerAppUpsert 'br/public:avm/ptn/azd/container-app-upsert:0.2' = {\n  name: 'containerAppUpsertDeployment'\n  params: {\n    // Required parameters\n    containerAppsEnvironmentName: '<containerAppsEnvironmentName>'\n    name: 'acaumin001'\n    // Non-required parameters\n    location: '<location>'\n  }\n}"}
{"id": "avm_ptn_azd_container-app-upsert_example_2", "source": "avm/ptn/azd/container-app-upsert/README.md", "content_to_embed": "Recommended AVM Module for Azd Container App Upsert: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Azd/ContainerAppUpsert\nModule ID: br/public:avm/ptn/azd/container-app-upsert:0.2\nParameters:\nparams: {\n    // Required parameters\n    containerAppsEnvironmentName: '<containerAppsEnvironmentName>'\n    name: '<name>'\n    // Non-required parameters\n    containerProbes: [\n      {\n        httpGet: {\n          httpHeaders: [\n            {\n              name: 'Custom-Header'\n              value: 'Awesome'\n            }\n          ]\n          path: '/health'\n          port: 8080\n        }\n        initialDelaySeconds: 3\n        periodSeconds: 3\n        type: 'Liveness'\n      }\n    ]\n    containerRegistryName: '<containerRegistryName>'\n    daprEnabled: true\n    env: [\n      {\n        name: 'ContainerAppStoredSecretName'\n        secretRef: 'containerappstoredsecret'\n      }\n      {\n        name: 'ContainerAppKeyVaultStoredSecretName'\n        secretRef: 'keyvaultstoredsecret'\n      }\n    ]\n    exists: true\n    identityName: '<identityName>'\n    identityPrincipalId: '<identityPrincipalId>'\n    identityType: 'UserAssigned'\n    location: '<location>'\n    secrets: [\n      {\n        name: 'containerappstoredsecret'\n        value: '<value>'\n      }\n      {\n        identity: '<identity>'\n        keyVaultUrl: '<keyVaultUrl>'\n        name: 'keyvaultstoredsecret'\n      }\n    ]\n    tags: {\n      Env: 'test'\n      'hidden-title': 'This is visible in the resource name'\n    }\n    userAssignedIdentityResourceId: '<userAssignedIdentityResourceId>'\n  }", "bicep": "module containerAppUpsert 'br/public:avm/ptn/azd/container-app-upsert:0.2' = {\n  name: 'containerAppUpsertDeployment'\n  params: {\n    // Required parameters\n    containerAppsEnvironmentName: '<containerAppsEnvironmentName>'\n    name: '<name>'\n    // Non-required parameters\n    containerProbes: [\n      {\n        httpGet: {\n          httpHeaders: [\n            {\n              name: 'Custom-Header'\n              value: 'Awesome'\n            }\n          ]\n          path: '/health'\n          port: 8080\n        }\n        initialDelaySeconds: 3\n        periodSeconds: 3\n        type: 'Liveness'\n      }\n    ]\n    containerRegistryName: '<containerRegistryName>'\n    daprEnabled: true\n    env: [\n      {\n        name: 'ContainerAppStoredSecretName'\n        secretRef: 'containerappstoredsecret'\n      }\n      {\n        name: 'ContainerAppKeyVaultStoredSecretName'\n        secretRef: 'keyvaultstoredsecret'\n      }\n    ]\n    exists: true\n    identityName: '<identityName>'\n    identityPrincipalId: '<identityPrincipalId>'\n    identityType: 'UserAssigned'\n    location: '<location>'\n    secrets: [\n      {\n        name: 'containerappstoredsecret'\n        value: '<value>'\n      }\n      {\n        identity: '<identity>'\n        keyVaultUrl: '<keyVaultUrl>'\n        name: 'keyvaultstoredsecret'\n      }\n    ]\n    tags: {\n      Env: 'test'\n      'hidden-title': 'This is visible in the resource name'\n    }\n    userAssignedIdentityResourceId: '<userAssignedIdentityResourceId>'\n  }\n}"}
{"id": "avm_ptn_azd_container-apps-stack_example_1", "source": "avm/ptn/azd/container-apps-stack/README.md", "content_to_embed": "Recommended AVM Module for avm/ptn/azd/container-apps-stack: With zoneRedundant enabled - This instance deploys the module with zoneRedundant enabled.\nResource Type Path: Azd/ContainerAppsStack\nModule ID: br/public:avm/ptn/azd/container-apps-stack:0.3\nParameters:\nparams: {\n    // Required parameters\n    containerAppsEnvironmentName: 'acaszrcae001'\n    containerRegistryName: 'acaszrcr001'\n    logAnalyticsWorkspaceName: '<logAnalyticsWorkspaceName>'\n    // Non-required parameters\n    acrSku: 'Standard'\n    dockerBridgeCidr: '172.16.0.1/28'\n    infrastructureResourceGroupName: '<infrastructureResourceGroupName>'\n    infrastructureSubnetResourceId: '<infrastructureSubnetResourceId>'\n    internal: true\n    location: '<location>'\n    platformReservedCidr: '172.17.17.0/24'\n    platformReservedDnsIP: '172.17.17.17'\n    workloadProfiles: [\n      {\n        maximumCount: 3\n        minimumCount: 0\n        name: 'CAW01'\n        workloadProfileType: 'D4'\n      }\n    ]\n    zoneRedundant: true\n  }", "bicep": "module containerAppsStack 'br/public:avm/ptn/azd/container-apps-stack:0.3' = {\n  name: 'containerAppsStackDeployment'\n  params: {\n    // Required parameters\n    containerAppsEnvironmentName: 'acaszrcae001'\n    containerRegistryName: 'acaszrcr001'\n    logAnalyticsWorkspaceName: '<logAnalyticsWorkspaceName>'\n    // Non-required parameters\n    acrSku: 'Standard'\n    dockerBridgeCidr: '172.16.0.1/28'\n    infrastructureResourceGroupName: '<infrastructureResourceGroupName>'\n    infrastructureSubnetResourceId: '<infrastructureSubnetResourceId>'\n    internal: true\n    location: '<location>'\n    platformReservedCidr: '172.17.17.0/24'\n    platformReservedDnsIP: '172.17.17.17'\n    workloadProfiles: [\n      {\n        maximumCount: 3\n        minimumCount: 0\n        name: 'CAW01'\n        workloadProfileType: 'D4'\n      }\n    ]\n    zoneRedundant: true\n  }\n}"}
{"id": "avm_ptn_azd_insights-dashboard_example_1", "source": "avm/ptn/azd/insights-dashboard/README.md", "content_to_embed": "Recommended AVM Module for Application Insights Components: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Azd/InsightsDashboard\nModule ID: br/public:avm/ptn/azd/insights-dashboard:0.1\nParameters:\nparams: {\n    // Required parameters\n    logAnalyticsWorkspaceResourceId: '<logAnalyticsWorkspaceResourceId>'\n    name: 'aidmin001'\n    // Non-required parameters\n    location: '<location>'\n  }", "bicep": "module insightsDashboard 'br/public:avm/ptn/azd/insights-dashboard:0.1' = {\n  name: 'insightsDashboardDeployment'\n  params: {\n    // Required parameters\n    logAnalyticsWorkspaceResourceId: '<logAnalyticsWorkspaceResourceId>'\n    name: 'aidmin001'\n    // Non-required parameters\n    location: '<location>'\n  }\n}"}
{"id": "avm_ptn_azd_insights-dashboard_example_2", "source": "avm/ptn/azd/insights-dashboard/README.md", "content_to_embed": "Recommended AVM Module for Application Insights Components: Using large parameter set - This instance deploys the module using large parameters.\nResource Type Path: Azd/InsightsDashboard\nModule ID: br/public:avm/ptn/azd/insights-dashboard:0.1\nParameters:\nparams: {\n    // Required parameters\n    logAnalyticsWorkspaceResourceId: '<logAnalyticsWorkspaceResourceId>'\n    name: 'icmax001'\n    // Non-required parameters\n    applicationType: 'web'\n    dashboardName: 'icmaxdb001'\n    kind: 'web'\n    location: '<location>'\n  }", "bicep": "module insightsDashboard 'br/public:avm/ptn/azd/insights-dashboard:0.1' = {\n  name: 'insightsDashboardDeployment'\n  params: {\n    // Required parameters\n    logAnalyticsWorkspaceResourceId: '<logAnalyticsWorkspaceResourceId>'\n    name: 'icmax001'\n    // Non-required parameters\n    applicationType: 'web'\n    dashboardName: 'icmaxdb001'\n    kind: 'web'\n    location: '<location>'\n  }\n}"}
{"id": "avm_ptn_azd_ml-ai-environment_example_1", "source": "avm/ptn/azd/ml-ai-environment/README.md", "content_to_embed": "Recommended AVM Module for Azd Azure Machine Learning Environment: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Azd/MlAiEnvironment\nModule ID: br/public:avm/ptn/azd/ml-ai-environment:0.1\nParameters:\nparams: {\n    // Required parameters\n    cognitiveServicesName: 'maemincs001'\n    hubName: 'maeminhub001'\n    keyVaultName: 'maeminkv01'\n    openAiConnectionName: 'maeminai001-connection'\n    projectName: 'maeminpro001'\n    searchConnectionName: 'maeminsearch001-connection'\n    storageAccountName: 'maeminsa001'\n    userAssignedtName: 'maeminua001'\n    // Non-required parameters\n    location: '<location>'\n  }", "bicep": "module mlAiEnvironment 'br/public:avm/ptn/azd/ml-ai-environment:0.1' = {\n  name: 'mlAiEnvironmentDeployment'\n  params: {\n    // Required parameters\n    cognitiveServicesName: 'maemincs001'\n    hubName: 'maeminhub001'\n    keyVaultName: 'maeminkv01'\n    openAiConnectionName: 'maeminai001-connection'\n    projectName: 'maeminpro001'\n    searchConnectionName: 'maeminsearch001-connection'\n    storageAccountName: 'maeminsa001'\n    userAssignedtName: 'maeminua001'\n    // Non-required parameters\n    location: '<location>'\n  }\n}"}
{"id": "avm_ptn_azd_ml-ai-environment_example_2", "source": "avm/ptn/azd/ml-ai-environment/README.md", "content_to_embed": "Recommended AVM Module for Azd Azure Machine Learning Environment: Using large parameter set - This instance deploys the module using large parameters.\nResource Type Path: Azd/MlAiEnvironment\nModule ID: br/public:avm/ptn/azd/ml-ai-environment:0.1\nParameters:\nparams: {\n    // Required parameters\n    cognitiveServicesName: 'maemaxcs001'\n    hubName: 'maemaxhub001'\n    keyVaultName: 'maemaxkv002'\n    openAiConnectionName: 'maemaxai001-connection'\n    projectName: 'maemaxpro001'\n    searchConnectionName: 'maemaxsearch001-connection'\n    storageAccountName: 'maemaxsta001'\n    userAssignedtName: 'maemaxua001'\n    // Non-required parameters\n    applicationInsightsName: 'maemaxappin001'\n    cognitiveServicesDeployments: [\n      {\n        model: {\n          format: 'OpenAI'\n          name: 'gpt-35-turbo'\n          version: '0613'\n        }\n        name: 'gpt-35-turbo'\n        sku: {\n          capacity: 20\n          name: 'Standard'\n        }\n      }\n    ]\n    containerRegistryName: 'maemaxcr001'\n    location: '<location>'\n    logAnalyticsName: 'maemaxla001'\n    searchServiceName: 'maemaxsearch001'\n  }", "bicep": "module mlAiEnvironment 'br/public:avm/ptn/azd/ml-ai-environment:0.1' = {\n  name: 'mlAiEnvironmentDeployment'\n  params: {\n    // Required parameters\n    cognitiveServicesName: 'maemaxcs001'\n    hubName: 'maemaxhub001'\n    keyVaultName: 'maemaxkv002'\n    openAiConnectionName: 'maemaxai001-connection'\n    projectName: 'maemaxpro001'\n    searchConnectionName: 'maemaxsearch001-connection'\n    storageAccountName: 'maemaxsta001'\n    userAssignedtName: 'maemaxua001'\n    // Non-required parameters\n    applicationInsightsName: 'maemaxappin001'\n    cognitiveServicesDeployments: [\n      {\n        model: {\n          format: 'OpenAI'\n          name: 'gpt-35-turbo'\n          version: '0613'\n        }\n        name: 'gpt-35-turbo'\n        sku: {\n          capacity: 20\n          name: 'Standard'\n        }\n      }\n    ]\n    containerRegistryName: 'maemaxcr001'\n    location: '<location>'\n    logAnalyticsName: 'maemaxla001'\n    searchServiceName: 'maemaxsearch001'\n  }\n}"}
{"id": "avm_ptn_azd_ml-hub-dependencies_example_1", "source": "avm/ptn/azd/ml-hub-dependencies/README.md", "content_to_embed": "Recommended AVM Module for Azd Azure Machine Learning Dependencies: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Azd/MlHubDependencies\nModule ID: br/public:avm/ptn/azd/ml-hub-dependencies:0.2\nParameters:\nparams: {\n    // Required parameters\n    cognitiveServicesName: 'cog07hubdmin'\n    keyVaultName: 'key07hubdmin'\n    storageAccountName: 'st07hubdmin'\n  }", "bicep": "module mlHubDependencies 'br/public:avm/ptn/azd/ml-hub-dependencies:0.2' = {\n  name: 'mlHubDependenciesDeployment'\n  params: {\n    // Required parameters\n    cognitiveServicesName: 'cog07hubdmin'\n    keyVaultName: 'key07hubdmin'\n    storageAccountName: 'st07hubdmin'\n  }\n}"}
{"id": "avm_ptn_azd_ml-hub-dependencies_example_2", "source": "avm/ptn/azd/ml-hub-dependencies/README.md", "content_to_embed": "Recommended AVM Module for Azd Azure Machine Learning Dependencies: Using large parameter set - This instance deploys the module using large parameters.\nResource Type Path: Azd/MlHubDependencies\nModule ID: br/public:avm/ptn/azd/ml-hub-dependencies:0.2\nParameters:\nparams: {\n    // Required parameters\n    cognitiveServicesName: 'cs08mhdpmax'\n    keyVaultName: 'kv08mhdpmax'\n    storageAccountName: 'sa08mhdpmax'\n    // Non-required parameters\n    applicationInsightsDashboardName: 'aid08mhdpmax'\n    applicationInsightsName: 'ai08mhdpmax'\n    containerRegistryName: 'cr08mhdpmax'\n    logAnalyticsName: 'log08mhdpmax'\n    searchServiceName: 'sea08mhdpmax'\n  }", "bicep": "module mlHubDependencies 'br/public:avm/ptn/azd/ml-hub-dependencies:0.2' = {\n  name: 'mlHubDependenciesDeployment'\n  params: {\n    // Required parameters\n    cognitiveServicesName: 'cs08mhdpmax'\n    keyVaultName: 'kv08mhdpmax'\n    storageAccountName: 'sa08mhdpmax'\n    // Non-required parameters\n    applicationInsightsDashboardName: 'aid08mhdpmax'\n    applicationInsightsName: 'ai08mhdpmax'\n    containerRegistryName: 'cr08mhdpmax'\n    logAnalyticsName: 'log08mhdpmax'\n    searchServiceName: 'sea08mhdpmax'\n  }\n}"}
{"id": "avm_ptn_azd_ml-project_example_1", "source": "avm/ptn/azd/ml-project/README.md", "content_to_embed": "Recommended AVM Module for Azd Machine Learning workspace: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Azd/MlProject\nModule ID: br/public:avm/ptn/azd/ml-project:0.1\nParameters:\nparams: {\n    // Required parameters\n    hubResourceId: '<hubResourceId>'\n    keyVaultName: '<keyVaultName>'\n    name: 'mlpmin001'\n    userAssignedName: 'mlpminuai001'\n    // Non-required parameters\n    location: '<location>'\n  }", "bicep": "module mlProject 'br/public:avm/ptn/azd/ml-project:0.1' = {\n  name: 'mlProjectDeployment'\n  params: {\n    // Required parameters\n    hubResourceId: '<hubResourceId>'\n    keyVaultName: '<keyVaultName>'\n    name: 'mlpmin001'\n    userAssignedName: 'mlpminuai001'\n    // Non-required parameters\n    location: '<location>'\n  }\n}"}
{"id": "avm_ptn_azd_monitoring_example_1", "source": "avm/ptn/azd/monitoring/README.md", "content_to_embed": "Recommended AVM Module for Azd Azure Monitoring: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Azd/Monitoring\nModule ID: br/public:avm/ptn/azd/monitoring:0.2\nParameters:\nparams: {\n    // Required parameters\n    applicationInsightsName: '<applicationInsightsName>'\n    logAnalyticsName: '<logAnalyticsName>'\n    // Non-required parameters\n    location: '<location>'\n  }", "bicep": "module monitoring 'br/public:avm/ptn/azd/monitoring:0.2' = {\n  name: 'monitoringDeployment'\n  params: {\n    // Required parameters\n    applicationInsightsName: '<applicationInsightsName>'\n    logAnalyticsName: '<logAnalyticsName>'\n    // Non-required parameters\n    location: '<location>'\n  }\n}"}
{"id": "avm_ptn_data_private-analytical-workspace_example_1", "source": "avm/ptn/data/private-analytical-workspace/README.md", "content_to_embed": "Recommended AVM Module for private-analytical-workspace: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Data/PrivateAnalyticalWorkspace\nModule ID: br/public:avm/ptn/data/private-analytical-workspace:0.1\nParameters:\nparams: {\n    // Required parameters\n    name: 'dpawmin002'\n    // Non-required parameters\n    advancedOptions: {\n      keyVault: {\n        enablePurgeProtection: false\n      }\n    }\n  }", "bicep": "module privateAnalyticalWorkspace 'br/public:avm/ptn/data/private-analytical-workspace:0.1' = {\n  name: 'privateAnalyticalWorkspaceDeployment'\n  params: {\n    // Required parameters\n    name: 'dpawmin002'\n    // Non-required parameters\n    advancedOptions: {\n      keyVault: {\n        enablePurgeProtection: false\n      }\n    }\n  }\n}"}
{"id": "avm_ptn_data_private-analytical-workspace_example_2", "source": "avm/ptn/data/private-analytical-workspace/README.md", "content_to_embed": "Recommended AVM Module for private-analytical-workspace: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Data/PrivateAnalyticalWorkspace\nModule ID: br/public:avm/ptn/data/private-analytical-workspace:0.1\nParameters:\nparams: {\n    // Required parameters\n    name: 'dpawmax002'\n    // Non-required parameters\n    advancedOptions: {\n      keyVault: {\n        createMode: 'default'\n        enablePurgeProtection: false\n        enableSoftDelete: false\n        sku: 'standard'\n        softDeleteRetentionInDays: 7\n      }\n      logAnalyticsWorkspace: {\n        dailyQuotaGb: 1\n        dataRetention: 35\n      }\n      networkAcls: {\n        ipRules: [\n          '104.43.16.94'\n        ]\n      }\n    }\n    enableDatabricks: true\n    location: '<location>'\n    tags: {\n      CostCenter: '123459876'\n      Owner: 'Contoso MAX Team'\n    }\n  }", "bicep": "module privateAnalyticalWorkspace 'br/public:avm/ptn/data/private-analytical-workspace:0.1' = {\n  name: 'privateAnalyticalWorkspaceDeployment'\n  params: {\n    // Required parameters\n    name: 'dpawmax002'\n    // Non-required parameters\n    advancedOptions: {\n      keyVault: {\n        createMode: 'default'\n        enablePurgeProtection: false\n        enableSoftDelete: false\n        sku: 'standard'\n        softDeleteRetentionInDays: 7\n      }\n      logAnalyticsWorkspace: {\n        dailyQuotaGb: 1\n        dataRetention: 35\n      }\n      networkAcls: {\n        ipRules: [\n          '104.43.16.94'\n        ]\n      }\n    }\n    enableDatabricks: true\n    location: '<location>'\n    tags: {\n      CostCenter: '123459876'\n      Owner: 'Contoso MAX Team'\n    }\n  }\n}"}
{"id": "avm_ptn_data_private-analytical-workspace_example_3", "source": "avm/ptn/data/private-analytical-workspace/README.md", "content_to_embed": "Recommended AVM Module for private-analytical-workspace: Minimal Deployment - fully private - Isolated network deployment (Minimalistic) - fully private.\nResource Type Path: Data/PrivateAnalyticalWorkspace\nModule ID: br/public:avm/ptn/data/private-analytical-workspace:0.1\nParameters:\nparams: {\n    // Required parameters\n    name: 'dpawminpriv002'\n    // Non-required parameters\n    advancedOptions: {\n      keyVault: {\n        enablePurgeProtection: false\n      }\n    }\n    enableDatabricks: false\n    tags: {\n      CostCenter: '123-456-789'\n      Owner: 'Contoso'\n    }\n  }", "bicep": "module privateAnalyticalWorkspace 'br/public:avm/ptn/data/private-analytical-workspace:0.1' = {\n  name: 'privateAnalyticalWorkspaceDeployment'\n  params: {\n    // Required parameters\n    name: 'dpawminpriv002'\n    // Non-required parameters\n    advancedOptions: {\n      keyVault: {\n        enablePurgeProtection: false\n      }\n    }\n    enableDatabricks: false\n    tags: {\n      CostCenter: '123-456-789'\n      Owner: 'Contoso'\n    }\n  }\n}"}
{"id": "avm_ptn_data_private-analytical-workspace_example_4", "source": "avm/ptn/data/private-analytical-workspace/README.md", "content_to_embed": "Recommended AVM Module for private-analytical-workspace: Minimal Deployment - allowed IP address - Isolated network deployment (Minimalistic) - allowed IP address.\nResource Type Path: Data/PrivateAnalyticalWorkspace\nModule ID: br/public:avm/ptn/data/private-analytical-workspace:0.1\nParameters:\nparams: {\n    // Required parameters\n    name: 'dpawminpu002'\n    // Non-required parameters\n    advancedOptions: {\n      keyVault: {\n        enablePurgeProtection: false\n      }\n      networkAcls: {\n        ipRules: [\n          '104.43.16.94'\n        ]\n      }\n    }\n    enableDatabricks: false\n    tags: {\n      CostCenter: '123-456-789'\n      Owner: 'Contoso'\n    }\n  }", "bicep": "module privateAnalyticalWorkspace 'br/public:avm/ptn/data/private-analytical-workspace:0.1' = {\n  name: 'privateAnalyticalWorkspaceDeployment'\n  params: {\n    // Required parameters\n    name: 'dpawminpu002'\n    // Non-required parameters\n    advancedOptions: {\n      keyVault: {\n        enablePurgeProtection: false\n      }\n      networkAcls: {\n        ipRules: [\n          '104.43.16.94'\n        ]\n      }\n    }\n    enableDatabricks: false\n    tags: {\n      CostCenter: '123-456-789'\n      Owner: 'Contoso'\n    }\n  }\n}"}
{"id": "avm_ptn_data_private-analytical-workspace_example_5", "source": "avm/ptn/data/private-analytical-workspace/README.md", "content_to_embed": "Recommended AVM Module for private-analytical-workspace: Use Case 1 - fully private - Isolated network deployment - fully private.\nResource Type Path: Data/PrivateAnalyticalWorkspace\nModule ID: br/public:avm/ptn/data/private-analytical-workspace:0.1\nParameters:\nparams: {\n    // Required parameters\n    name: 'dpawu1pr002'\n    // Non-required parameters\n    advancedOptions: {\n      keyVault: {\n        enablePurgeProtection: false\n      }\n    }\n    enableDatabricks: true\n    tags: {\n      CostCenter: '123-456-789'\n      Owner: 'Contoso'\n    }\n  }", "bicep": "module privateAnalyticalWorkspace 'br/public:avm/ptn/data/private-analytical-workspace:0.1' = {\n  name: 'privateAnalyticalWorkspaceDeployment'\n  params: {\n    // Required parameters\n    name: 'dpawu1pr002'\n    // Non-required parameters\n    advancedOptions: {\n      keyVault: {\n        enablePurgeProtection: false\n      }\n    }\n    enableDatabricks: true\n    tags: {\n      CostCenter: '123-456-789'\n      Owner: 'Contoso'\n    }\n  }\n}"}
{"id": "avm_ptn_data_private-analytical-workspace_example_6", "source": "avm/ptn/data/private-analytical-workspace/README.md", "content_to_embed": "Recommended AVM Module for private-analytical-workspace: Use Case 1 - allowed IP address - Isolated network deployment - allowed IP address.\nResource Type Path: Data/PrivateAnalyticalWorkspace\nModule ID: br/public:avm/ptn/data/private-analytical-workspace:0.1\nParameters:\nparams: {\n    // Required parameters\n    name: 'dpawu1pu002'\n    // Non-required parameters\n    advancedOptions: {\n      keyVault: {\n        enablePurgeProtection: false\n      }\n      networkAcls: {\n        ipRules: [\n          '104.43.16.94'\n        ]\n      }\n    }\n    enableDatabricks: true\n    tags: {\n      CostCenter: '123-456-789'\n      Owner: 'Contoso'\n    }\n  }", "bicep": "module privateAnalyticalWorkspace 'br/public:avm/ptn/data/private-analytical-workspace:0.1' = {\n  name: 'privateAnalyticalWorkspaceDeployment'\n  params: {\n    // Required parameters\n    name: 'dpawu1pu002'\n    // Non-required parameters\n    advancedOptions: {\n      keyVault: {\n        enablePurgeProtection: false\n      }\n      networkAcls: {\n        ipRules: [\n          '104.43.16.94'\n        ]\n      }\n    }\n    enableDatabricks: true\n    tags: {\n      CostCenter: '123-456-789'\n      Owner: 'Contoso'\n    }\n  }\n}"}
{"id": "avm_ptn_data_private-analytical-workspace_example_7", "source": "avm/ptn/data/private-analytical-workspace/README.md", "content_to_embed": "Recommended AVM Module for private-analytical-workspace: Use Case 2 - fully private - Deployment in an Existing, Enterprise-Specific Virtual Network - fully private.\nResource Type Path: Data/PrivateAnalyticalWorkspace\nModule ID: br/public:avm/ptn/data/private-analytical-workspace:0.1\nParameters:\nparams: {\n    // Required parameters\n    name: 'dpawu2pr002'\n    // Non-required parameters\n    advancedOptions: {\n      databricks: {\n        subnetNameBackend: '<subnetNameBackend>'\n        subnetNameFrontend: '<subnetNameFrontend>'\n      }\n      keyVault: {\n        enablePurgeProtection: false\n      }\n      virtualNetwork: {\n        subnetNamePrivateLink: '<subnetNamePrivateLink>'\n      }\n    }\n    enableDatabricks: true\n    tags: {\n      CostCenter: '123-456-789'\n      Owner: 'Contoso'\n    }\n    virtualNetworkResourceId: '<virtualNetworkResourceId>'\n  }", "bicep": "module privateAnalyticalWorkspace 'br/public:avm/ptn/data/private-analytical-workspace:0.1' = {\n  name: 'privateAnalyticalWorkspaceDeployment'\n  params: {\n    // Required parameters\n    name: 'dpawu2pr002'\n    // Non-required parameters\n    advancedOptions: {\n      databricks: {\n        subnetNameBackend: '<subnetNameBackend>'\n        subnetNameFrontend: '<subnetNameFrontend>'\n      }\n      keyVault: {\n        enablePurgeProtection: false\n      }\n      virtualNetwork: {\n        subnetNamePrivateLink: '<subnetNamePrivateLink>'\n      }\n    }\n    enableDatabricks: true\n    tags: {\n      CostCenter: '123-456-789'\n      Owner: 'Contoso'\n    }\n    virtualNetworkResourceId: '<virtualNetworkResourceId>'\n  }\n}"}
{"id": "avm_ptn_data_private-analytical-workspace_example_8", "source": "avm/ptn/data/private-analytical-workspace/README.md", "content_to_embed": "Recommended AVM Module for private-analytical-workspace: Use Case 2 - allowed IP address - Deployment in an Existing, Enterprise-Specific Virtual Network - allowed IP address.\nResource Type Path: Data/PrivateAnalyticalWorkspace\nModule ID: br/public:avm/ptn/data/private-analytical-workspace:0.1\nParameters:\nparams: {\n    // Required parameters\n    name: 'dpawu2pu002'\n    // Non-required parameters\n    advancedOptions: {\n      databricks: {\n        subnetNameBackend: '<subnetNameBackend>'\n        subnetNameFrontend: '<subnetNameFrontend>'\n      }\n      keyVault: {\n        enablePurgeProtection: false\n      }\n      networkAcls: {\n        ipRules: [\n          '104.43.16.94'\n        ]\n      }\n      virtualNetwork: {\n        subnetNamePrivateLink: '<subnetNamePrivateLink>'\n      }\n    }\n    enableDatabricks: true\n    tags: {\n      CostCenter: '123-456-789'\n      Owner: 'Contoso'\n    }\n    virtualNetworkResourceId: '<virtualNetworkResourceId>'\n  }", "bicep": "module privateAnalyticalWorkspace 'br/public:avm/ptn/data/private-analytical-workspace:0.1' = {\n  name: 'privateAnalyticalWorkspaceDeployment'\n  params: {\n    // Required parameters\n    name: 'dpawu2pu002'\n    // Non-required parameters\n    advancedOptions: {\n      databricks: {\n        subnetNameBackend: '<subnetNameBackend>'\n        subnetNameFrontend: '<subnetNameFrontend>'\n      }\n      keyVault: {\n        enablePurgeProtection: false\n      }\n      networkAcls: {\n        ipRules: [\n          '104.43.16.94'\n        ]\n      }\n      virtualNetwork: {\n        subnetNamePrivateLink: '<subnetNamePrivateLink>'\n      }\n    }\n    enableDatabricks: true\n    tags: {\n      CostCenter: '123-456-789'\n      Owner: 'Contoso'\n    }\n    virtualNetworkResourceId: '<virtualNetworkResourceId>'\n  }\n}"}
{"id": "avm_ptn_data_private-analytical-workspace_example_9", "source": "avm/ptn/data/private-analytical-workspace/README.md", "content_to_embed": "Recommended AVM Module for private-analytical-workspace: Use Case 3 - fully private - Integration with existing core Infrastructure - fully private.\nResource Type Path: Data/PrivateAnalyticalWorkspace\nModule ID: br/public:avm/ptn/data/private-analytical-workspace:0.1\nParameters:\nparams: {\n    // Required parameters\n    name: 'dpawu3pr002'\n    // Non-required parameters\n    advancedOptions: {\n      databricks: {\n        subnetNameBackend: '<subnetNameBackend>'\n        subnetNameFrontend: '<subnetNameFrontend>'\n      }\n      keyVault: {\n        enablePurgeProtection: false\n      }\n      virtualNetwork: {\n        subnetNamePrivateLink: '<subnetNamePrivateLink>'\n      }\n    }\n    enableDatabricks: true\n    keyVaultResourceId: '<keyVaultResourceId>'\n    logAnalyticsWorkspaceResourceId: '<logAnalyticsWorkspaceResourceId>'\n    tags: {\n      CostCenter: '123-456-789'\n      Owner: 'Contoso'\n    }\n    virtualNetworkResourceId: '<virtualNetworkResourceId>'\n  }", "bicep": "module privateAnalyticalWorkspace 'br/public:avm/ptn/data/private-analytical-workspace:0.1' = {\n  name: 'privateAnalyticalWorkspaceDeployment'\n  params: {\n    // Required parameters\n    name: 'dpawu3pr002'\n    // Non-required parameters\n    advancedOptions: {\n      databricks: {\n        subnetNameBackend: '<subnetNameBackend>'\n        subnetNameFrontend: '<subnetNameFrontend>'\n      }\n      keyVault: {\n        enablePurgeProtection: false\n      }\n      virtualNetwork: {\n        subnetNamePrivateLink: '<subnetNamePrivateLink>'\n      }\n    }\n    enableDatabricks: true\n    keyVaultResourceId: '<keyVaultResourceId>'\n    logAnalyticsWorkspaceResourceId: '<logAnalyticsWorkspaceResourceId>'\n    tags: {\n      CostCenter: '123-456-789'\n      Owner: 'Contoso'\n    }\n    virtualNetworkResourceId: '<virtualNetworkResourceId>'\n  }\n}"}
{"id": "avm_ptn_data_private-analytical-workspace_example_10", "source": "avm/ptn/data/private-analytical-workspace/README.md", "content_to_embed": "Recommended AVM Module for private-analytical-workspace: Use Case 3 - allowed IP address - Integration with existing core Infrastructure - allowed IP address.\nResource Type Path: Data/PrivateAnalyticalWorkspace\nModule ID: br/public:avm/ptn/data/private-analytical-workspace:0.1\nParameters:\nparams: {\n    // Required parameters\n    name: 'dpawu3p002'\n    // Non-required parameters\n    advancedOptions: {\n      databricks: {\n        subnetNameBackend: '<subnetNameBackend>'\n        subnetNameFrontend: '<subnetNameFrontend>'\n      }\n      networkAcls: {\n        ipRules: [\n          '104.43.16.94'\n        ]\n      }\n      virtualNetwork: {\n        subnetNamePrivateLink: '<subnetNamePrivateLink>'\n      }\n    }\n    enableDatabricks: true\n    keyVaultResourceId: '<keyVaultResourceId>'\n    logAnalyticsWorkspaceResourceId: '<logAnalyticsWorkspaceResourceId>'\n    tags: {\n      CostCenter: '123-456-789'\n      Owner: 'Contoso'\n    }\n    virtualNetworkResourceId: '<virtualNetworkResourceId>'\n  }", "bicep": "module privateAnalyticalWorkspace 'br/public:avm/ptn/data/private-analytical-workspace:0.1' = {\n  name: 'privateAnalyticalWorkspaceDeployment'\n  params: {\n    // Required parameters\n    name: 'dpawu3p002'\n    // Non-required parameters\n    advancedOptions: {\n      databricks: {\n        subnetNameBackend: '<subnetNameBackend>'\n        subnetNameFrontend: '<subnetNameFrontend>'\n      }\n      networkAcls: {\n        ipRules: [\n          '104.43.16.94'\n        ]\n      }\n      virtualNetwork: {\n        subnetNamePrivateLink: '<subnetNamePrivateLink>'\n      }\n    }\n    enableDatabricks: true\n    keyVaultResourceId: '<keyVaultResourceId>'\n    logAnalyticsWorkspaceResourceId: '<logAnalyticsWorkspaceResourceId>'\n    tags: {\n      CostCenter: '123-456-789'\n      Owner: 'Contoso'\n    }\n    virtualNetworkResourceId: '<virtualNetworkResourceId>'\n  }\n}"}
{"id": "avm_ptn_data_private-analytical-workspace_example_11", "source": "avm/ptn/data/private-analytical-workspace/README.md", "content_to_embed": "Recommended AVM Module for private-analytical-workspace: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Data/PrivateAnalyticalWorkspace\nModule ID: br/public:avm/ptn/data/private-analytical-workspace:0.1\nParameters:\nparams: {\n    // Required parameters\n    name: 'dpawwaf002'\n    // Non-required parameters\n    advancedOptions: {\n      keyVault: {\n        createMode: 'default'\n        enablePurgeProtection: false\n        enableSoftDelete: true\n        sku: 'standard'\n        softDeleteRetentionInDays: 90\n      }\n      logAnalyticsWorkspace: {\n        dailyQuotaGb: 1\n        dataRetention: 35\n      }\n    }\n    enableDatabricks: true\n    enableTelemetry: true\n    location: '<location>'\n    tags: {\n      CostCenter: '123-456-789'\n      'hidden-title': 'This is visible in the resource name'\n      Owner: 'Contoso'\n    }\n  }", "bicep": "module privateAnalyticalWorkspace 'br/public:avm/ptn/data/private-analytical-workspace:0.1' = {\n  name: 'privateAnalyticalWorkspaceDeployment'\n  params: {\n    // Required parameters\n    name: 'dpawwaf002'\n    // Non-required parameters\n    advancedOptions: {\n      keyVault: {\n        createMode: 'default'\n        enablePurgeProtection: false\n        enableSoftDelete: true\n        sku: 'standard'\n        softDeleteRetentionInDays: 90\n      }\n      logAnalyticsWorkspace: {\n        dailyQuotaGb: 1\n        dataRetention: 35\n      }\n    }\n    enableDatabricks: true\n    enableTelemetry: true\n    location: '<location>'\n    tags: {\n      CostCenter: '123-456-789'\n      'hidden-title': 'This is visible in the resource name'\n      Owner: 'Contoso'\n    }\n  }\n}"}
{"id": "avm_ptn_deployment-script_import-image-to-acr_example_1", "source": "avm/ptn/deployment-script/import-image-to-acr/README.md", "content_to_embed": "Recommended AVM Module for import-image-to-acr: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: DeploymentScript/ImportImageToAcr\nModule ID: br/public:avm/ptn/deployment-script/import-image-to-acr:0.4\nParameters:\nparams: {\n    // Required parameters\n    acrName: '<acrName>'\n    image: 'mcr.microsoft.com/k8se/quickstart-jobs:latest'\n    name: 'dsiitamin001'\n    // Non-required parameters\n    location: '<location>'\n    overwriteExistingImage: true\n  }", "bicep": "module importImageToAcr 'br/public:avm/ptn/deployment-script/import-image-to-acr:0.4' = {\n  name: 'importImageToAcrDeployment'\n  params: {\n    // Required parameters\n    acrName: '<acrName>'\n    image: 'mcr.microsoft.com/k8se/quickstart-jobs:latest'\n    name: 'dsiitamin001'\n    // Non-required parameters\n    location: '<location>'\n    overwriteExistingImage: true\n  }\n}"}
{"id": "avm_ptn_deployment-script_import-image-to-acr_example_2", "source": "avm/ptn/deployment-script/import-image-to-acr/README.md", "content_to_embed": "Recommended AVM Module for import-image-to-acr: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: DeploymentScript/ImportImageToAcr\nModule ID: br/public:avm/ptn/deployment-script/import-image-to-acr:0.4\nParameters:\nparams: {\n    // Required parameters\n    acrName: '<acrName>'\n    image: 'mcr.microsoft.com/k8se/quickstart-jobs:latest'\n    name: 'dsiitamax001'\n    // Non-required parameters\n    assignRbacRole: true\n    cleanupPreference: 'OnExpiration'\n    location: '<location>'\n    managedIdentities: '<managedIdentities>'\n    newImageName: 'application/your-image-name:tag'\n    overwriteExistingImage: true\n    sourceRegistryPassword: '<sourceRegistryPassword>'\n    sourceRegistryUsername: 'username'\n    storageAccountResourceId: '<storageAccountResourceId>'\n    subnetResourceIds: '<subnetResourceIds>'\n    tags: {\n      Env: 'test'\n      'hidden-title': 'This is visible in the resource name'\n    }\n  }", "bicep": "module importImageToAcr 'br/public:avm/ptn/deployment-script/import-image-to-acr:0.4' = {\n  name: 'importImageToAcrDeployment'\n  params: {\n    // Required parameters\n    acrName: '<acrName>'\n    image: 'mcr.microsoft.com/k8se/quickstart-jobs:latest'\n    name: 'dsiitamax001'\n    // Non-required parameters\n    assignRbacRole: true\n    cleanupPreference: 'OnExpiration'\n    location: '<location>'\n    managedIdentities: '<managedIdentities>'\n    newImageName: 'application/your-image-name:tag'\n    overwriteExistingImage: true\n    sourceRegistryPassword: '<sourceRegistryPassword>'\n    sourceRegistryUsername: 'username'\n    storageAccountResourceId: '<storageAccountResourceId>'\n    subnetResourceIds: '<subnetResourceIds>'\n    tags: {\n      Env: 'test'\n      'hidden-title': 'This is visible in the resource name'\n    }\n  }\n}"}
{"id": "avm_ptn_deployment-script_import-image-to-acr_example_3", "source": "avm/ptn/deployment-script/import-image-to-acr/README.md", "content_to_embed": "Recommended AVM Module for import-image-to-acr: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: DeploymentScript/ImportImageToAcr\nModule ID: br/public:avm/ptn/deployment-script/import-image-to-acr:0.4\nParameters:\nparams: {\n    // Required parameters\n    acrName: '<acrName>'\n    image: 'mcr.microsoft.com/k8se/quickstart-jobs:latest'\n    name: 'dsiitawaf001'\n    // Non-required parameters\n    location: '<location>'\n    managedIdentities: '<managedIdentities>'\n    overwriteExistingImage: true\n  }", "bicep": "module importImageToAcr 'br/public:avm/ptn/deployment-script/import-image-to-acr:0.4' = {\n  name: 'importImageToAcrDeployment'\n  params: {\n    // Required parameters\n    acrName: '<acrName>'\n    image: 'mcr.microsoft.com/k8se/quickstart-jobs:latest'\n    name: 'dsiitawaf001'\n    // Non-required parameters\n    location: '<location>'\n    managedIdentities: '<managedIdentities>'\n    overwriteExistingImage: true\n  }\n}"}
{"id": "avm_ptn_dev-ops_cicd-agents-and-runners_example_1", "source": "avm/ptn/dev-ops/cicd-agents-and-runners/README.md", "content_to_embed": "Recommended AVM Module for CI CD Agents and Runners: Using only defaults for Azure DevOps self-hosted agents using both Azure Container Instances and Azure Container Apps. - This instance deploys the module with the minimum set of required parameters for Azure DevOps self-hosted agents in Azure Container Instances and Azure Container Apps.\nResource Type Path: DevOps/CicdAgentsAndRunners\nModule ID: br/public:avm/ptn/dev-ops/cicd-agents-and-runners:0.3\nParameters:\nparams: {\n    // Required parameters\n    computeTypes: [\n      'azure-container-app'\n      'azure-container-instance'\n    ]\n    namingPrefix: '<namingPrefix>'\n    networkingConfiguration: {\n      addressSpace: '10.0.0.0/16'\n      networkType: 'createNew'\n      virtualNetworkName: 'vnet-aca'\n    }\n    selfHostedConfig: {\n      agentsPoolName: 'agents-pool'\n      devOpsOrganization: 'azureDevOpsOrganization'\n      personalAccessToken: '<personalAccessToken>'\n      selfHostedType: 'azuredevops'\n    }\n    // Non-required parameters\n    location: '<location>'\n    privateNetworking: false\n  }", "bicep": "module cicdAgentsAndRunners 'br/public:avm/ptn/dev-ops/cicd-agents-and-runners:0.3' = {\n  name: 'cicdAgentsAndRunnersDeployment'\n  params: {\n    // Required parameters\n    computeTypes: [\n      'azure-container-app'\n      'azure-container-instance'\n    ]\n    namingPrefix: '<namingPrefix>'\n    networkingConfiguration: {\n      addressSpace: '10.0.0.0/16'\n      networkType: 'createNew'\n      virtualNetworkName: 'vnet-aca'\n    }\n    selfHostedConfig: {\n      agentsPoolName: 'agents-pool'\n      devOpsOrganization: 'azureDevOpsOrganization'\n      personalAccessToken: '<personalAccessToken>'\n      selfHostedType: 'azuredevops'\n    }\n    // Non-required parameters\n    location: '<location>'\n    privateNetworking: false\n  }\n}"}
{"id": "avm_ptn_dev-ops_cicd-agents-and-runners_example_2", "source": "avm/ptn/dev-ops/cicd-agents-and-runners/README.md", "content_to_embed": "Recommended AVM Module for CI CD Agents and Runners: Using only defaults for Azure DevOps self-hosted agents using Azure Container Instances. - This instance deploys the module with the minimum set of required parameters for Azure DevOps self-hosted agents in Azure Container Instances.\nResource Type Path: DevOps/CicdAgentsAndRunners\nModule ID: br/public:avm/ptn/dev-ops/cicd-agents-and-runners:0.3\nParameters:\nparams: {\n    // Required parameters\n    computeTypes: [\n      'azure-container-instance'\n    ]\n    namingPrefix: '<namingPrefix>'\n    networkingConfiguration: {\n      addressSpace: '10.0.0.0/16'\n      networkType: 'createNew'\n      virtualNetworkName: 'vnet-aci'\n    }\n    selfHostedConfig: {\n      agentsPoolName: 'aci-pool'\n      devOpsOrganization: 'azureDevOpsOrganization'\n      personalAccessToken: '<personalAccessToken>'\n      selfHostedType: 'azuredevops'\n    }\n    // Non-required parameters\n    location: '<location>'\n    logAnalyticsReplicationRegion: 'westus2'\n    privateNetworking: false\n  }", "bicep": "module cicdAgentsAndRunners 'br/public:avm/ptn/dev-ops/cicd-agents-and-runners:0.3' = {\n  name: 'cicdAgentsAndRunnersDeployment'\n  params: {\n    // Required parameters\n    computeTypes: [\n      'azure-container-instance'\n    ]\n    namingPrefix: '<namingPrefix>'\n    networkingConfiguration: {\n      addressSpace: '10.0.0.0/16'\n      networkType: 'createNew'\n      virtualNetworkName: 'vnet-aci'\n    }\n    selfHostedConfig: {\n      agentsPoolName: 'aci-pool'\n      devOpsOrganization: 'azureDevOpsOrganization'\n      personalAccessToken: '<personalAccessToken>'\n      selfHostedType: 'azuredevops'\n    }\n    // Non-required parameters\n    location: '<location>'\n    logAnalyticsReplicationRegion: 'westus2'\n    privateNetworking: false\n  }\n}"}
{"id": "avm_ptn_dev-ops_cicd-agents-and-runners_example_3", "source": "avm/ptn/dev-ops/cicd-agents-and-runners/README.md", "content_to_embed": "Recommended AVM Module for CI CD Agents and Runners: Using only defaults for GitHub self-hosted runners using Azure Container Apps. - This instance deploys the module with the minimum set of required parameters for GitHub self-hosted runners in Azure Container Apps.\nResource Type Path: DevOps/CicdAgentsAndRunners\nModule ID: br/public:avm/ptn/dev-ops/cicd-agents-and-runners:0.3\nParameters:\nparams: {\n    // Required parameters\n    computeTypes: [\n      'azure-container-app'\n    ]\n    namingPrefix: '<namingPrefix>'\n    networkingConfiguration: {\n      addressSpace: '10.0.0.0/16'\n      networkType: 'createNew'\n      virtualNetworkName: 'vnet-aca'\n    }\n    selfHostedConfig: {\n      azureContainerAppTarget: {\n        resources: {\n          cpu: '1'\n          memory: '2Gi'\n        }\n      }\n      githubOrganization: 'githHubOrganization'\n      githubRepository: 'dummyRepo'\n      personalAccessToken: '<personalAccessToken>'\n      selfHostedType: 'github'\n    }\n    // Non-required parameters\n    location: '<location>'\n    logAnalyticsReplicationRegion: 'westus2'\n    privateNetworking: false\n  }", "bicep": "module cicdAgentsAndRunners 'br/public:avm/ptn/dev-ops/cicd-agents-and-runners:0.3' = {\n  name: 'cicdAgentsAndRunnersDeployment'\n  params: {\n    // Required parameters\n    computeTypes: [\n      'azure-container-app'\n    ]\n    namingPrefix: '<namingPrefix>'\n    networkingConfiguration: {\n      addressSpace: '10.0.0.0/16'\n      networkType: 'createNew'\n      virtualNetworkName: 'vnet-aca'\n    }\n    selfHostedConfig: {\n      azureContainerAppTarget: {\n        resources: {\n          cpu: '1'\n          memory: '2Gi'\n        }\n      }\n      githubOrganization: 'githHubOrganization'\n      githubRepository: 'dummyRepo'\n      personalAccessToken: '<personalAccessToken>'\n      selfHostedType: 'github'\n    }\n    // Non-required parameters\n    location: '<location>'\n    logAnalyticsReplicationRegion: 'westus2'\n    privateNetworking: false\n  }\n}"}
{"id": "avm_ptn_dev-ops_cicd-agents-and-runners_example_4", "source": "avm/ptn/dev-ops/cicd-agents-and-runners/README.md", "content_to_embed": "Recommended AVM Module for CI CD Agents and Runners: Using large parameter set for Azure DevOps self-hosted agents using Azure Container Apps. - This instance deploys the module with most of its features enabled for Azure DevOps self-hosted agents using Azure Container Apps.\nResource Type Path: DevOps/CicdAgentsAndRunners\nModule ID: br/public:avm/ptn/dev-ops/cicd-agents-and-runners:0.3\nParameters:\nparams: {\n    // Required parameters\n    computeTypes: [\n      'azure-container-app'\n    ]\n    namingPrefix: '<namingPrefix>'\n    networkingConfiguration: {\n      addressSpace: '10.0.0.0/16'\n      containerAppSubnetAddressPrefix: '10.0.1.0/24'\n      containerAppSubnetName: 'acaSubnet'\n      networkType: 'createNew'\n      virtualNetworkName: 'vnet-aca'\n    }\n    selfHostedConfig: {\n      agentNamePrefix: '<agentNamePrefix>'\n      agentsPoolName: 'aca-pool'\n      azureContainerAppTarget: {\n        resources: {\n          cpu: '1'\n          memory: '2Gi'\n        }\n      }\n      devOpsOrganization: 'azureDevOpsOrganization'\n      personalAccessToken: '<personalAccessToken>'\n      placeHolderAgentName: 'acaPlaceHolderAgent'\n      selfHostedType: 'azuredevops'\n      targetPipelinesQueueLength: '1'\n    }\n    // Non-required parameters\n    location: '<location>'\n    privateNetworking: false\n  }", "bicep": "module cicdAgentsAndRunners 'br/public:avm/ptn/dev-ops/cicd-agents-and-runners:0.3' = {\n  name: 'cicdAgentsAndRunnersDeployment'\n  params: {\n    // Required parameters\n    computeTypes: [\n      'azure-container-app'\n    ]\n    namingPrefix: '<namingPrefix>'\n    networkingConfiguration: {\n      addressSpace: '10.0.0.0/16'\n      containerAppSubnetAddressPrefix: '10.0.1.0/24'\n      containerAppSubnetName: 'acaSubnet'\n      networkType: 'createNew'\n      virtualNetworkName: 'vnet-aca'\n    }\n    selfHostedConfig: {\n      agentNamePrefix: '<agentNamePrefix>'\n      agentsPoolName: 'aca-pool'\n      azureContainerAppTarget: {\n        resources: {\n          cpu: '1'\n          memory: '2Gi'\n        }\n      }\n      devOpsOrganization: 'azureDevOpsOrganization'\n      personalAccessToken: '<personalAccessToken>'\n      placeHolderAgentName: 'acaPlaceHolderAgent'\n      selfHostedType: 'azuredevops'\n      targetPipelinesQueueLength: '1'\n    }\n    // Non-required parameters\n    location: '<location>'\n    privateNetworking: false\n  }\n}"}
{"id": "avm_ptn_dev-ops_cicd-agents-and-runners_example_5", "source": "avm/ptn/dev-ops/cicd-agents-and-runners/README.md", "content_to_embed": "Recommended AVM Module for CI CD Agents and Runners: Using large parameter set for GitHub self-hosted runners using Azure Container Instances. - This instance deploys the module with most of its features enabled for GitHub self-hosted runners using Azure Container Instances.\nResource Type Path: DevOps/CicdAgentsAndRunners\nModule ID: br/public:avm/ptn/dev-ops/cicd-agents-and-runners:0.3\nParameters:\nparams: {\n    // Required parameters\n    computeTypes: [\n      'azure-container-instance'\n    ]\n    namingPrefix: '<namingPrefix>'\n    networkingConfiguration: {\n      addressSpace: '10.0.0.0/16'\n      containerInstanceSubnetAddressPrefix: '10.0.1.0/24'\n      containerInstanceSubnetName: 'aci-subnet'\n      networkType: 'createNew'\n      virtualNetworkName: 'vnet-aci'\n    }\n    selfHostedConfig: {\n      azureContainerInstanceTarget: {\n        cpu: 1\n        memoryInGB: '2'\n        numberOfInstances: 3\n        sku: 'Standard'\n      }\n      ephemeral: true\n      githubOrganization: 'githHubOrganization'\n      githubRepository: 'dummyRepo'\n      personalAccessToken: '<personalAccessToken>'\n      runnerNamePrefix: '<runnerNamePrefix>'\n      runnerScope: 'repo'\n      selfHostedType: 'github'\n      targetWorkflowQueueLength: '1'\n    }\n    // Non-required parameters\n    location: '<location>'\n    privateNetworking: false\n  }", "bicep": "module cicdAgentsAndRunners 'br/public:avm/ptn/dev-ops/cicd-agents-and-runners:0.3' = {\n  name: 'cicdAgentsAndRunnersDeployment'\n  params: {\n    // Required parameters\n    computeTypes: [\n      'azure-container-instance'\n    ]\n    namingPrefix: '<namingPrefix>'\n    networkingConfiguration: {\n      addressSpace: '10.0.0.0/16'\n      containerInstanceSubnetAddressPrefix: '10.0.1.0/24'\n      containerInstanceSubnetName: 'aci-subnet'\n      networkType: 'createNew'\n      virtualNetworkName: 'vnet-aci'\n    }\n    selfHostedConfig: {\n      azureContainerInstanceTarget: {\n        cpu: 1\n        memoryInGB: '2'\n        numberOfInstances: 3\n        sku: 'Standard'\n      }\n      ephemeral: true\n      githubOrganization: 'githHubOrganization'\n      githubRepository: 'dummyRepo'\n      personalAccessToken: '<personalAccessToken>'\n      runnerNamePrefix: '<runnerNamePrefix>'\n      runnerScope: 'repo'\n      selfHostedType: 'github'\n      targetWorkflowQueueLength: '1'\n    }\n    // Non-required parameters\n    location: '<location>'\n    privateNetworking: false\n  }\n}"}
{"id": "avm_ptn_dev-ops_cicd-agents-and-runners_example_6", "source": "avm/ptn/dev-ops/cicd-agents-and-runners/README.md", "content_to_embed": "Recommended AVM Module for CI CD Agents and Runners: Deploys GitHub self-hosted runners using Azure Container Apps for a GitHub organization scope. - This instance deploys the module with the minimum set of required parameters for GitHub self-hosted runners in Azure Container Apps for a GitHub organization scope.\nResource Type Path: DevOps/CicdAgentsAndRunners\nModule ID: br/public:avm/ptn/dev-ops/cicd-agents-and-runners:0.3\nParameters:\nparams: {\n    // Required parameters\n    computeTypes: [\n      'azure-container-app'\n    ]\n    namingPrefix: '<namingPrefix>'\n    networkingConfiguration: {\n      addressSpace: '10.0.0.0/16'\n      networkType: 'createNew'\n      virtualNetworkName: 'vnet-aca'\n    }\n    selfHostedConfig: {\n      githubOrganization: 'githHubOrganization'\n      personalAccessToken: '<personalAccessToken>'\n      runnerScope: 'org'\n      selfHostedType: 'github'\n    }\n    // Non-required parameters\n    location: '<location>'\n    privateNetworking: false\n  }", "bicep": "module cicdAgentsAndRunners 'br/public:avm/ptn/dev-ops/cicd-agents-and-runners:0.3' = {\n  name: 'cicdAgentsAndRunnersDeployment'\n  params: {\n    // Required parameters\n    computeTypes: [\n      'azure-container-app'\n    ]\n    namingPrefix: '<namingPrefix>'\n    networkingConfiguration: {\n      addressSpace: '10.0.0.0/16'\n      networkType: 'createNew'\n      virtualNetworkName: 'vnet-aca'\n    }\n    selfHostedConfig: {\n      githubOrganization: 'githHubOrganization'\n      personalAccessToken: '<personalAccessToken>'\n      runnerScope: 'org'\n      selfHostedType: 'github'\n    }\n    // Non-required parameters\n    location: '<location>'\n    privateNetworking: false\n  }\n}"}
{"id": "avm_ptn_dev-ops_cicd-agents-and-runners_example_7", "source": "avm/ptn/dev-ops/cicd-agents-and-runners/README.md", "content_to_embed": "Recommended AVM Module for CI CD Agents and Runners: Using only defaults for Azure DevOps self-hosted agents using Private networking in an existing vnet. - This instance deploys the module with the minimum set of required parameters Azure DevOps self-hosted agents using Private networking in Azure Container Instances in an existing vnet.\nResource Type Path: DevOps/CicdAgentsAndRunners\nModule ID: br/public:avm/ptn/dev-ops/cicd-agents-and-runners:0.3\nParameters:\nparams: {\n    // Required parameters\n    computeTypes: [\n      'azure-container-instance'\n    ]\n    namingPrefix: '<namingPrefix>'\n    networkingConfiguration: {\n      acrDeploymentScriptSubnetName: 'acr-deployment-script-subnet'\n      computeNetworking: {\n        computeNetworkType: 'azureContainerInstance'\n        containerInstanceSubnetName: 'aci-subnet'\n      }\n      containerRegistryPrivateDnsZoneResourceId: '<containerRegistryPrivateDnsZoneResourceId>'\n      containerRegistryPrivateEndpointSubnetName: 'acr-subnet'\n      natGatewayPublicIpAddressResourceId: '<natGatewayPublicIpAddressResourceId>'\n      natGatewayResourceId: '<natGatewayResourceId>'\n      networkType: 'useExisting'\n      virtualNetworkResourceId: '<virtualNetworkResourceId>'\n    }\n    selfHostedConfig: {\n      agentNamePrefix: '<agentNamePrefix>'\n      agentsPoolName: 'aci-pool'\n      azureContainerInstanceTarget: {\n        numberOfInstances: 2\n      }\n      devOpsOrganization: 'azureDevOpsOrganization'\n      personalAccessToken: '<personalAccessToken>'\n      selfHostedType: 'azuredevops'\n    }\n    // Non-required parameters\n    location: '<location>'\n    privateNetworking: true\n  }", "bicep": "module cicdAgentsAndRunners 'br/public:avm/ptn/dev-ops/cicd-agents-and-runners:0.3' = {\n  name: 'cicdAgentsAndRunnersDeployment'\n  params: {\n    // Required parameters\n    computeTypes: [\n      'azure-container-instance'\n    ]\n    namingPrefix: '<namingPrefix>'\n    networkingConfiguration: {\n      acrDeploymentScriptSubnetName: 'acr-deployment-script-subnet'\n      computeNetworking: {\n        computeNetworkType: 'azureContainerInstance'\n        containerInstanceSubnetName: 'aci-subnet'\n      }\n      containerRegistryPrivateDnsZoneResourceId: '<containerRegistryPrivateDnsZoneResourceId>'\n      containerRegistryPrivateEndpointSubnetName: 'acr-subnet'\n      natGatewayPublicIpAddressResourceId: '<natGatewayPublicIpAddressResourceId>'\n      natGatewayResourceId: '<natGatewayResourceId>'\n      networkType: 'useExisting'\n      virtualNetworkResourceId: '<virtualNetworkResourceId>'\n    }\n    selfHostedConfig: {\n      agentNamePrefix: '<agentNamePrefix>'\n      agentsPoolName: 'aci-pool'\n      azureContainerInstanceTarget: {\n        numberOfInstances: 2\n      }\n      devOpsOrganization: 'azureDevOpsOrganization'\n      personalAccessToken: '<personalAccessToken>'\n      selfHostedType: 'azuredevops'\n    }\n    // Non-required parameters\n    location: '<location>'\n    privateNetworking: true\n  }\n}"}
{"id": "avm_ptn_dev-ops_cicd-agents-and-runners_example_8", "source": "avm/ptn/dev-ops/cicd-agents-and-runners/README.md", "content_to_embed": "Recommended AVM Module for CI CD Agents and Runners: Using only defaults for GitHub self-hosted runners using Private networking in an existing vnet. - This instance deploys the module with the minimum set of required parameters GitHub self-hosted runners using Private networking in Azure Container Apps in an existing vnet.\nResource Type Path: DevOps/CicdAgentsAndRunners\nModule ID: br/public:avm/ptn/dev-ops/cicd-agents-and-runners:0.3\nParameters:\nparams: {\n    // Required parameters\n    computeTypes: [\n      'azure-container-instance'\n    ]\n    namingPrefix: '<namingPrefix>'\n    networkingConfiguration: {\n      acrDeploymentScriptSubnetName: 'acr-ds-subnet'\n      computeNetworking: {\n        computeNetworkType: 'azureContainerApp'\n        containerAppDeploymentScriptSubnetName: 'aca-ds-subnet'\n        containerAppSubnetName: 'aca-subnet'\n        containerInstanceSubnetName: 'aci-subnet'\n      }\n      containerRegistryPrivateDnsZoneResourceId: '<containerRegistryPrivateDnsZoneResourceId>'\n      containerRegistryPrivateEndpointSubnetName: 'acr-subnet'\n      deploymentScriptPrivateDnsZoneResourceId: '<deploymentScriptPrivateDnsZoneResourceId>'\n      natGatewayPublicIpAddressResourceId: '<natGatewayPublicIpAddressResourceId>'\n      natGatewayResourceId: '<natGatewayResourceId>'\n      networkType: 'useExisting'\n      virtualNetworkResourceId: '<virtualNetworkResourceId>'\n    }\n    selfHostedConfig: {\n      githubOrganization: 'githHubOrganization'\n      githubRepository: 'dummyRepo'\n      personalAccessToken: '<personalAccessToken>'\n      selfHostedType: 'github'\n    }\n    // Non-required parameters\n    location: '<location>'\n    privateNetworking: true\n  }", "bicep": "module cicdAgentsAndRunners 'br/public:avm/ptn/dev-ops/cicd-agents-and-runners:0.3' = {\n  name: 'cicdAgentsAndRunnersDeployment'\n  params: {\n    // Required parameters\n    computeTypes: [\n      'azure-container-instance'\n    ]\n    namingPrefix: '<namingPrefix>'\n    networkingConfiguration: {\n      acrDeploymentScriptSubnetName: 'acr-ds-subnet'\n      computeNetworking: {\n        computeNetworkType: 'azureContainerApp'\n        containerAppDeploymentScriptSubnetName: 'aca-ds-subnet'\n        containerAppSubnetName: 'aca-subnet'\n        containerInstanceSubnetName: 'aci-subnet'\n      }\n      containerRegistryPrivateDnsZoneResourceId: '<containerRegistryPrivateDnsZoneResourceId>'\n      containerRegistryPrivateEndpointSubnetName: 'acr-subnet'\n      deploymentScriptPrivateDnsZoneResourceId: '<deploymentScriptPrivateDnsZoneResourceId>'\n      natGatewayPublicIpAddressResourceId: '<natGatewayPublicIpAddressResourceId>'\n      natGatewayResourceId: '<natGatewayResourceId>'\n      networkType: 'useExisting'\n      virtualNetworkResourceId: '<virtualNetworkResourceId>'\n    }\n    selfHostedConfig: {\n      githubOrganization: 'githHubOrganization'\n      githubRepository: 'dummyRepo'\n      personalAccessToken: '<personalAccessToken>'\n      selfHostedType: 'github'\n    }\n    // Non-required parameters\n    location: '<location>'\n    privateNetworking: true\n  }\n}"}
{"id": "avm_ptn_dev-ops_cicd-agents-and-runners_example_9", "source": "avm/ptn/dev-ops/cicd-agents-and-runners/README.md", "content_to_embed": "Recommended AVM Module for CI CD Agents and Runners: Using only defaults for GitHub self-hosted runners using Private networking. - This instance deploys the module with the minimum set of required parameters GitHub self-hosted runners using Private networking in Azure Container Instances.\nResource Type Path: DevOps/CicdAgentsAndRunners\nModule ID: br/public:avm/ptn/dev-ops/cicd-agents-and-runners:0.3\nParameters:\nparams: {\n    // Required parameters\n    computeTypes: [\n      'azure-container-instance'\n    ]\n    namingPrefix: '<namingPrefix>'\n    networkingConfiguration: {\n      addressSpace: '10.0.0.0/16'\n      networkType: 'createNew'\n      virtualNetworkName: 'vnet-aci'\n    }\n    selfHostedConfig: {\n      githubOrganization: 'githHubOrganization'\n      githubRepository: 'dummyRepo'\n      personalAccessToken: '<personalAccessToken>'\n      selfHostedType: 'github'\n    }\n    // Non-required parameters\n    location: '<location>'\n    privateNetworking: true\n  }", "bicep": "module cicdAgentsAndRunners 'br/public:avm/ptn/dev-ops/cicd-agents-and-runners:0.3' = {\n  name: 'cicdAgentsAndRunnersDeployment'\n  params: {\n    // Required parameters\n    computeTypes: [\n      'azure-container-instance'\n    ]\n    namingPrefix: '<namingPrefix>'\n    networkingConfiguration: {\n      addressSpace: '10.0.0.0/16'\n      networkType: 'createNew'\n      virtualNetworkName: 'vnet-aci'\n    }\n    selfHostedConfig: {\n      githubOrganization: 'githHubOrganization'\n      githubRepository: 'dummyRepo'\n      personalAccessToken: '<personalAccessToken>'\n      selfHostedType: 'github'\n    }\n    // Non-required parameters\n    location: '<location>'\n    privateNetworking: true\n  }\n}"}
{"id": "avm_ptn_finops-toolkit_finops-hub_example_1", "source": "avm/ptn/finops-toolkit/finops-hub/README.md", "content_to_embed": "Recommended AVM Module for Finops-hub: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: FinopsToolkit/FinopsHub\nModule ID: br/public:avm/ptn/finops-toolkit/finops-hub:0.1\nParameters:\nparams: {\n    // Required parameters\n    hubName: 'finops-hub-finmin'\n    // Non-required parameters\n    location: '<location>'\n  }", "bicep": "module finopsHub 'br/public:avm/ptn/finops-toolkit/finops-hub:0.1' = {\n  name: 'finopsHubDeployment'\n  params: {\n    // Required parameters\n    hubName: 'finops-hub-finmin'\n    // Non-required parameters\n    location: '<location>'\n  }\n}"}
{"id": "avm_ptn_lz_sub-vending_example_1", "source": "avm/ptn/lz/sub-vending/README.md", "content_to_embed": "Recommended AVM Module for Sub-vending: Multiple virtual networks. - This instance deploys a subscription with a multiple virtual networks.\nResource Type Path: Lz/SubVending\nModule ID: br/public:avm/ptn/lz/sub-vending:0.4\nParameters:\nparams: {\n    additionalVirtualNetworks: [\n      {\n        addressPrefixes: [\n          '10.120.0.0/16'\n        ]\n        location: '<location>'\n        name: '<name>'\n        resourceGroupLockEnabled: false\n        resourceGroupName: '<resourceGroupName>'\n        subnets: [\n          {\n            addressPrefix: '10.120.1.0/24'\n            name: 'subnet1'\n            networkSecurityGroup: {\n              location: '<location>'\n              name: '<name>'\n              securityRules: [\n                {\n                  name: 'Allow-HTTPS'\n                  properties: {\n                    access: 'Allow'\n                    description: 'Allow HTTPS'\n                    destinationAddressPrefix: '*'\n                    destinationPortRange: '443'\n                    direction: 'Inbound'\n                    priority: 100\n                    protocol: 'Tcp'\n                    sourceAddressPrefix: '*'\n                    sourcePortRange: '*'\n                  }\n                }\n              ]\n            }\n          }\n        ]\n      }\n      {\n        addressPrefixes: [\n          '10.90.0.0/16'\n        ]\n        deployNatGateway: true\n        location: '<location>'\n        name: '<name>'\n        natGatewayConfiguration: {\n          name: '<name>'\n        }\n        peerToHubNetwork: false\n        resourceGroupLockEnabled: false\n        resourceGroupName: '<resourceGroupName>'\n        subnets: [\n          {\n            addressPrefix: '10.90.1.0/24'\n            associateWithNatGateway: true\n            name: 'data-subnet'\n            routeTableName: '<routeTableName>'\n          }\n        ]\n      }\n    ]\n    peerAllVirtualNetworks: true\n    resourceProviders: {}\n    routeTables: [\n      {\n        location: '<location>'\n        name: '<name>'\n        routes: [\n          {\n            name: 'route1'\n            properties: {\n              addressPrefix: '0.0.0.0/0'\n              nextHopType: 'None'\n            }\n          }\n        ]\n      }\n    ]\n    routeTablesResourceGroupName: '<routeTablesResourceGroupName>'\n    subscriptionAliasEnabled: true\n    subscriptionAliasName: '<subscriptionAliasName>'\n    subscriptionBillingScope: '<subscriptionBillingScope>'\n    subscriptionDisplayName: '<subscriptionDisplayName>'\n    subscriptionManagementGroupAssociationEnabled: true\n    subscriptionManagementGroupId: 'bicep-lz-vending-automation-child'\n    subscriptionTags: {\n      namePrefix: '<namePrefix>'\n      serviceShort: '<serviceShort>'\n    }\n    subscriptionWorkload: 'Production'\n    virtualNetworkAddressSpace: [\n      '10.110.0.0/16'\n    ]\n    virtualNetworkEnabled: true\n    virtualNetworkLocation: '<virtualNetworkLocation>'\n    virtualNetworkName: '<virtualNetworkName>'\n    virtualNetworkResourceGroupLockEnabled: false\n    virtualNetworkResourceGroupName: '<virtualNetworkResourceGroupName>'\n    virtualNetworkSubnets: [\n      {\n        addressPrefix: '10.110.1.0/24'\n        name: 'app-subnet'\n        routeTableName: '<routeTableName>'\n      }\n    ]\n  }", "bicep": "module subVending 'br/public:avm/ptn/lz/sub-vending:0.4' = {\n  name: 'subVendingDeployment'\n  params: {\n    additionalVirtualNetworks: [\n      {\n        addressPrefixes: [\n          '10.120.0.0/16'\n        ]\n        location: '<location>'\n        name: '<name>'\n        resourceGroupLockEnabled: false\n        resourceGroupName: '<resourceGroupName>'\n        subnets: [\n          {\n            addressPrefix: '10.120.1.0/24'\n            name: 'subnet1'\n            networkSecurityGroup: {\n              location: '<location>'\n              name: '<name>'\n              securityRules: [\n                {\n                  name: 'Allow-HTTPS'\n                  properties: {\n                    access: 'Allow'\n                    description: 'Allow HTTPS'\n                    destinationAddressPrefix: '*'\n                    destinationPortRange: '443'\n                    direction: 'Inbound'\n                    priority: 100\n                    protocol: 'Tcp'\n                    sourceAddressPrefix: '*'\n                    sourcePortRange: '*'\n                  }\n                }\n              ]\n            }\n          }\n        ]\n      }\n      {\n        addressPrefixes: [\n          '10.90.0.0/16'\n        ]\n        deployNatGateway: true\n        location: '<location>'\n        name: '<name>'\n        natGatewayConfiguration: {\n          name: '<name>'\n        }\n        peerToHubNetwork: false\n        resourceGroupLockEnabled: false\n        resourceGroupName: '<resourceGroupName>'\n        subnets: [\n          {\n            addressPrefix: '10.90.1.0/24'\n            associateWithNatGateway: true\n            name: 'data-subnet'\n            routeTableName: '<routeTableName>'\n          }\n        ]\n      }\n    ]\n    peerAllVirtualNetworks: true\n    resourceProviders: {}\n    routeTables: [\n      {\n        location: '<location>'\n        name: '<name>'\n        routes: [\n          {\n            name: 'route1'\n            properties: {\n              addressPrefix: '0.0.0.0/0'\n              nextHopType: 'None'\n            }\n          }\n        ]\n      }\n    ]\n    routeTablesResourceGroupName: '<routeTablesResourceGroupName>'\n    subscriptionAliasEnabled: true\n    subscriptionAliasName: '<subscriptionAliasName>'\n    subscriptionBillingScope: '<subscriptionBillingScope>'\n    subscriptionDisplayName: '<subscriptionDisplayName>'\n    subscriptionManagementGroupAssociationEnabled: true\n    subscriptionManagementGroupId: 'bicep-lz-vending-automation-child'\n    subscriptionTags: {\n      namePrefix: '<namePrefix>'\n      serviceShort: '<serviceShort>'\n    }\n    subscriptionWorkload: 'Production'\n    virtualNetworkAddressSpace: [\n      '10.110.0.0/16'\n    ]\n    virtualNetworkEnabled: true\n    virtualNetworkLocation: '<virtualNetworkLocation>'\n    virtualNetworkName: '<virtualNetworkName>'\n    virtualNetworkResourceGroupLockEnabled: false\n    virtualNetworkResourceGroupName: '<virtualNetworkResourceGroupName>'\n    virtualNetworkSubnets: [\n      {\n        addressPrefix: '10.110.1.0/24'\n        name: 'app-subnet'\n        routeTableName: '<routeTableName>'\n      }\n    ]\n  }\n}"}
{"id": "avm_ptn_lz_sub-vending_example_2", "source": "avm/ptn/lz/sub-vending/README.md", "content_to_embed": "Recommended AVM Module for Sub-vending: Deploy subscription with Bastion. - This instance deploys a subscription with a bastion host.\nResource Type Path: Lz/SubVending\nModule ID: br/public:avm/ptn/lz/sub-vending:0.4\nParameters:\nparams: {\n    resourceProviders: {}\n    subscriptionAliasEnabled: true\n    subscriptionAliasName: '<subscriptionAliasName>'\n    subscriptionBillingScope: '<subscriptionBillingScope>'\n    subscriptionDisplayName: '<subscriptionDisplayName>'\n    subscriptionManagementGroupAssociationEnabled: true\n    subscriptionManagementGroupId: 'bicep-lz-vending-automation-child'\n    subscriptionTags: {\n      namePrefix: '<namePrefix>'\n      serviceShort: '<serviceShort>'\n    }\n    subscriptionWorkload: 'Production'\n    virtualNetworkAddressSpace: [\n      '10.130.0.0/16'\n    ]\n    virtualNetworkBastionConfiguration: {\n      bastionSku: 'Standard'\n      name: '<name>'\n    }\n    virtualNetworkDeployBastion: true\n    virtualNetworkEnabled: true\n    virtualNetworkLocation: '<virtualNetworkLocation>'\n    virtualNetworkName: '<virtualNetworkName>'\n    virtualNetworkResourceGroupLockEnabled: false\n    virtualNetworkResourceGroupName: '<virtualNetworkResourceGroupName>'\n    virtualNetworkSubnets: [\n      {\n        addressPrefix: '10.130.1.0/24'\n        name: 'Subnet1'\n      }\n      {\n        addressPrefix: '10.130.0.0/26'\n        name: 'AzureBastionSubnet'\n      }\n    ]\n  }", "bicep": "module subVending 'br/public:avm/ptn/lz/sub-vending:0.4' = {\n  name: 'subVendingDeployment'\n  params: {\n    resourceProviders: {}\n    subscriptionAliasEnabled: true\n    subscriptionAliasName: '<subscriptionAliasName>'\n    subscriptionBillingScope: '<subscriptionBillingScope>'\n    subscriptionDisplayName: '<subscriptionDisplayName>'\n    subscriptionManagementGroupAssociationEnabled: true\n    subscriptionManagementGroupId: 'bicep-lz-vending-automation-child'\n    subscriptionTags: {\n      namePrefix: '<namePrefix>'\n      serviceShort: '<serviceShort>'\n    }\n    subscriptionWorkload: 'Production'\n    virtualNetworkAddressSpace: [\n      '10.130.0.0/16'\n    ]\n    virtualNetworkBastionConfiguration: {\n      bastionSku: 'Standard'\n      name: '<name>'\n    }\n    virtualNetworkDeployBastion: true\n    virtualNetworkEnabled: true\n    virtualNetworkLocation: '<virtualNetworkLocation>'\n    virtualNetworkName: '<virtualNetworkName>'\n    virtualNetworkResourceGroupLockEnabled: false\n    virtualNetworkResourceGroupName: '<virtualNetworkResourceGroupName>'\n    virtualNetworkSubnets: [\n      {\n        addressPrefix: '10.130.1.0/24'\n        name: 'Subnet1'\n      }\n      {\n        addressPrefix: '10.130.0.0/26'\n        name: 'AzureBastionSubnet'\n      }\n    ]\n  }\n}"}
{"id": "avm_ptn_lz_sub-vending_example_3", "source": "avm/ptn/lz/sub-vending/README.md", "content_to_embed": "Recommended AVM Module for Sub-vending: Using only defaults. - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Lz/SubVending\nModule ID: br/public:avm/ptn/lz/sub-vending:0.4\nParameters:\nparams: {\n    resourceProviders: {}\n    subscriptionAliasEnabled: true\n    subscriptionAliasName: '<subscriptionAliasName>'\n    subscriptionBillingScope: '<subscriptionBillingScope>'\n    subscriptionDisplayName: '<subscriptionDisplayName>'\n    subscriptionManagementGroupAssociationEnabled: true\n    subscriptionManagementGroupId: 'bicep-lz-vending-automation-child'\n    subscriptionTags: {\n      namePrefix: '<namePrefix>'\n      serviceShort: '<serviceShort>'\n    }\n    subscriptionWorkload: 'Production'\n  }", "bicep": "module subVending 'br/public:avm/ptn/lz/sub-vending:0.4' = {\n  name: 'subVendingDeployment'\n  params: {\n    resourceProviders: {}\n    subscriptionAliasEnabled: true\n    subscriptionAliasName: '<subscriptionAliasName>'\n    subscriptionBillingScope: '<subscriptionBillingScope>'\n    subscriptionDisplayName: '<subscriptionDisplayName>'\n    subscriptionManagementGroupAssociationEnabled: true\n    subscriptionManagementGroupId: 'bicep-lz-vending-automation-child'\n    subscriptionTags: {\n      namePrefix: '<namePrefix>'\n      serviceShort: '<serviceShort>'\n    }\n    subscriptionWorkload: 'Production'\n  }\n}"}
{"id": "avm_ptn_lz_sub-vending_example_4", "source": "avm/ptn/lz/sub-vending/README.md", "content_to_embed": "Recommended AVM Module for Sub-vending: Hub and spoke topology. - This instance deploys a subscription with a hub-spoke network topology.\nResource Type Path: Lz/SubVending\nModule ID: br/public:avm/ptn/lz/sub-vending:0.4\nParameters:\nparams: {\n    deploymentScriptLocation: '<deploymentScriptLocation>'\n    deploymentScriptManagedIdentityName: '<deploymentScriptManagedIdentityName>'\n    deploymentScriptName: 'ds-ssahs'\n    deploymentScriptNetworkSecurityGroupName: '<deploymentScriptNetworkSecurityGroupName>'\n    deploymentScriptResourceGroupName: '<deploymentScriptResourceGroupName>'\n    deploymentScriptStorageAccountName: '<deploymentScriptStorageAccountName>'\n    deploymentScriptVirtualNetworkName: '<deploymentScriptVirtualNetworkName>'\n    hubNetworkResourceId: '<hubNetworkResourceId>'\n    resourceProviders: {\n      'Microsoft.AVS': [\n        'AzureServicesVm'\n      ]\n      'Microsoft.HybridCompute': [\n        'ArcServerPrivateLinkPreview'\n      ]\n      'Microsoft.Network': []\n    }\n    roleAssignmentEnabled: true\n    roleAssignments: [\n      {\n        definition: '/providers/Microsoft.Authorization/roleDefinitions/4d97b98b-1d4f-4787-a291-c67834d212e7'\n        description: 'Network contributor role'\n        principalId: '<principalId>'\n        principalType: 'User'\n        relativeScope: '<relativeScope>'\n      }\n    ]\n    subscriptionAliasEnabled: true\n    subscriptionAliasName: '<subscriptionAliasName>'\n    subscriptionBillingScope: '<subscriptionBillingScope>'\n    subscriptionDisplayName: '<subscriptionDisplayName>'\n    subscriptionManagementGroupAssociationEnabled: true\n    subscriptionManagementGroupId: 'bicep-lz-vending-automation-child'\n    subscriptionTags: {\n      namePrefix: '<namePrefix>'\n      serviceShort: '<serviceShort>'\n    }\n    subscriptionWorkload: 'Production'\n    virtualNetworkAddressSpace: [\n      '10.110.0.0/16'\n    ]\n    virtualNetworkEnabled: true\n    virtualNetworkLocation: '<virtualNetworkLocation>'\n    virtualNetworkName: '<virtualNetworkName>'\n    virtualNetworkPeeringEnabled: true\n    virtualNetworkResourceGroupLockEnabled: false\n    virtualNetworkResourceGroupName: '<virtualNetworkResourceGroupName>'\n    virtualNetworkSubnets: [\n      {\n        addressPrefix: '10.110.1.0/24'\n        name: 'Subnet1'\n        networkSecurityGroup: {\n          location: '<location>'\n          name: '<name>'\n          securityRules: [\n            {\n              name: 'Allow-HTTPS'\n              properties: {\n                access: 'Allow'\n                description: 'Allow HTTPS'\n                destinationAddressPrefix: '*'\n                destinationPortRange: '443'\n                direction: 'Inbound'\n                priority: 100\n                protocol: 'Tcp'\n                sourceAddressPrefix: '*'\n                sourcePortRange: '*'\n              }\n            }\n          ]\n        }\n      }\n    ]\n    virtualNetworkUseRemoteGateways: false\n  }", "bicep": "module subVending 'br/public:avm/ptn/lz/sub-vending:0.4' = {\n  name: 'subVendingDeployment'\n  params: {\n    deploymentScriptLocation: '<deploymentScriptLocation>'\n    deploymentScriptManagedIdentityName: '<deploymentScriptManagedIdentityName>'\n    deploymentScriptName: 'ds-ssahs'\n    deploymentScriptNetworkSecurityGroupName: '<deploymentScriptNetworkSecurityGroupName>'\n    deploymentScriptResourceGroupName: '<deploymentScriptResourceGroupName>'\n    deploymentScriptStorageAccountName: '<deploymentScriptStorageAccountName>'\n    deploymentScriptVirtualNetworkName: '<deploymentScriptVirtualNetworkName>'\n    hubNetworkResourceId: '<hubNetworkResourceId>'\n    resourceProviders: {\n      'Microsoft.AVS': [\n        'AzureServicesVm'\n      ]\n      'Microsoft.HybridCompute': [\n        'ArcServerPrivateLinkPreview'\n      ]\n      'Microsoft.Network': []\n    }\n    roleAssignmentEnabled: true\n    roleAssignments: [\n      {\n        definition: '/providers/Microsoft.Authorization/roleDefinitions/4d97b98b-1d4f-4787-a291-c67834d212e7'\n        description: 'Network contributor role'\n        principalId: '<principalId>'\n        principalType: 'User'\n        relativeScope: '<relativeScope>'\n      }\n    ]\n    subscriptionAliasEnabled: true\n    subscriptionAliasName: '<subscriptionAliasName>'\n    subscriptionBillingScope: '<subscriptionBillingScope>'\n    subscriptionDisplayName: '<subscriptionDisplayName>'\n    subscriptionManagementGroupAssociationEnabled: true\n    subscriptionManagementGroupId: 'bicep-lz-vending-automation-child'\n    subscriptionTags: {\n      namePrefix: '<namePrefix>'\n      serviceShort: '<serviceShort>'\n    }\n    subscriptionWorkload: 'Production'\n    virtualNetworkAddressSpace: [\n      '10.110.0.0/16'\n    ]\n    virtualNetworkEnabled: true\n    virtualNetworkLocation: '<virtualNetworkLocation>'\n    virtualNetworkName: '<virtualNetworkName>'\n    virtualNetworkPeeringEnabled: true\n    virtualNetworkResourceGroupLockEnabled: false\n    virtualNetworkResourceGroupName: '<virtualNetworkResourceGroupName>'\n    virtualNetworkSubnets: [\n      {\n        addressPrefix: '10.110.1.0/24'\n        name: 'Subnet1'\n        networkSecurityGroup: {\n          location: '<location>'\n          name: '<name>'\n          securityRules: [\n            {\n              name: 'Allow-HTTPS'\n              properties: {\n                access: 'Allow'\n                description: 'Allow HTTPS'\n                destinationAddressPrefix: '*'\n                destinationPortRange: '443'\n                direction: 'Inbound'\n                priority: 100\n                protocol: 'Tcp'\n                sourceAddressPrefix: '*'\n                sourcePortRange: '*'\n              }\n            }\n          ]\n        }\n      }\n    ]\n    virtualNetworkUseRemoteGateways: false\n  }\n}"}
{"id": "avm_ptn_lz_sub-vending_example_5", "source": "avm/ptn/lz/sub-vending/README.md", "content_to_embed": "Recommended AVM Module for Sub-vending: Hub and spoke topology with NAT gateway. - This instance deploys a subscription with a hub-spoke network topology with NAT gateway.\nResource Type Path: Lz/SubVending\nModule ID: br/public:avm/ptn/lz/sub-vending:0.4\nParameters:\nparams: {\n    resourceProviders: {\n      'Microsoft.Network': []\n    }\n    roleAssignmentEnabled: true\n    roleAssignments: [\n      {\n        definition: '/providers/Microsoft.Authorization/roleDefinitions/4d97b98b-1d4f-4787-a291-c67834d212e7'\n        principalId: '<principalId>'\n        principalType: 'User'\n        relativeScope: '<relativeScope>'\n      }\n    ]\n    subscriptionAliasEnabled: true\n    subscriptionAliasName: '<subscriptionAliasName>'\n    subscriptionBillingScope: '<subscriptionBillingScope>'\n    subscriptionDisplayName: '<subscriptionDisplayName>'\n    subscriptionManagementGroupAssociationEnabled: true\n    subscriptionManagementGroupId: 'bicep-lz-vending-automation-child'\n    subscriptionTags: {\n      namePrefix: '<namePrefix>'\n      serviceShort: '<serviceShort>'\n    }\n    subscriptionWorkload: 'Production'\n    virtualNetworkAddressSpace: [\n      '10.120.0.0/16'\n    ]\n    virtualNetworkDeployNatGateway: true\n    virtualNetworkEnabled: true\n    virtualNetworkLocation: '<virtualNetworkLocation>'\n    virtualNetworkName: '<virtualNetworkName>'\n    virtualNetworkNatGatewayConfiguration: {\n      name: '<name>'\n      publicIPAddressProperties: [\n        {\n          name: '<name>'\n          zones: [\n            1\n            2\n            3\n          ]\n        }\n      ]\n    }\n    virtualNetworkResourceGroupLockEnabled: false\n    virtualNetworkResourceGroupName: '<virtualNetworkResourceGroupName>'\n    virtualNetworkSubnets: [\n      {\n        addressPrefix: '10.120.1.0/24'\n        associateWithNatGateway: true\n        name: 'Subnet1'\n      }\n    ]\n  }", "bicep": "module subVending 'br/public:avm/ptn/lz/sub-vending:0.4' = {\n  name: 'subVendingDeployment'\n  params: {\n    resourceProviders: {\n      'Microsoft.Network': []\n    }\n    roleAssignmentEnabled: true\n    roleAssignments: [\n      {\n        definition: '/providers/Microsoft.Authorization/roleDefinitions/4d97b98b-1d4f-4787-a291-c67834d212e7'\n        principalId: '<principalId>'\n        principalType: 'User'\n        relativeScope: '<relativeScope>'\n      }\n    ]\n    subscriptionAliasEnabled: true\n    subscriptionAliasName: '<subscriptionAliasName>'\n    subscriptionBillingScope: '<subscriptionBillingScope>'\n    subscriptionDisplayName: '<subscriptionDisplayName>'\n    subscriptionManagementGroupAssociationEnabled: true\n    subscriptionManagementGroupId: 'bicep-lz-vending-automation-child'\n    subscriptionTags: {\n      namePrefix: '<namePrefix>'\n      serviceShort: '<serviceShort>'\n    }\n    subscriptionWorkload: 'Production'\n    virtualNetworkAddressSpace: [\n      '10.120.0.0/16'\n    ]\n    virtualNetworkDeployNatGateway: true\n    virtualNetworkEnabled: true\n    virtualNetworkLocation: '<virtualNetworkLocation>'\n    virtualNetworkName: '<virtualNetworkName>'\n    virtualNetworkNatGatewayConfiguration: {\n      name: '<name>'\n      publicIPAddressProperties: [\n        {\n          name: '<name>'\n          zones: [\n            1\n            2\n            3\n          ]\n        }\n      ]\n    }\n    virtualNetworkResourceGroupLockEnabled: false\n    virtualNetworkResourceGroupName: '<virtualNetworkResourceGroupName>'\n    virtualNetworkSubnets: [\n      {\n        addressPrefix: '10.120.1.0/24'\n        associateWithNatGateway: true\n        name: 'Subnet1'\n      }\n    ]\n  }\n}"}
{"id": "avm_ptn_lz_sub-vending_example_6", "source": "avm/ptn/lz/sub-vending/README.md", "content_to_embed": "Recommended AVM Module for Sub-vending: Using PIM Active Role assignments. - This instance deploys the module with PIM Active Role assignments.\nResource Type Path: Lz/SubVending\nModule ID: br/public:avm/ptn/lz/sub-vending:0.4\nParameters:\nparams: {\n    pimRoleAssignments: [\n      {\n        definition: '/providers/Microsoft.Authorization/roleDefinitions/f58310d9-a9f6-439a-9e8d-f62e7b41a168'\n        justification: 'This is a justification from an AVM test.'\n        principalId: '<principalId>'\n        relativeScope: '<relativeScope>'\n        requestType: 'AdminAssign'\n        roleAssignmentType: 'Active'\n        scheduleInfo: {\n          duration: 'PT4H'\n          durationType: 'AfterDuration'\n          startTime: '<startTime>'\n        }\n      }\n    ]\n    resourceProviders: {\n      'Microsoft.Network': []\n    }\n    roleAssignmentEnabled: true\n    subscriptionAliasEnabled: true\n    subscriptionAliasName: '<subscriptionAliasName>'\n    subscriptionBillingScope: '<subscriptionBillingScope>'\n    subscriptionDisplayName: '<subscriptionDisplayName>'\n    subscriptionManagementGroupAssociationEnabled: true\n    subscriptionManagementGroupId: 'bicep-lz-vending-automation-child'\n    subscriptionTags: {\n      namePrefix: '<namePrefix>'\n      serviceShort: '<serviceShort>'\n    }\n    subscriptionWorkload: 'Production'\n    virtualNetworkAddressSpace: [\n      '10.140.0.0/16'\n    ]\n    virtualNetworkEnabled: true\n    virtualNetworkLocation: '<virtualNetworkLocation>'\n    virtualNetworkName: '<virtualNetworkName>'\n    virtualNetworkResourceGroupLockEnabled: false\n    virtualNetworkResourceGroupName: '<virtualNetworkResourceGroupName>'\n  }", "bicep": "module subVending 'br/public:avm/ptn/lz/sub-vending:0.4' = {\n  name: 'subVendingDeployment'\n  params: {\n    pimRoleAssignments: [\n      {\n        definition: '/providers/Microsoft.Authorization/roleDefinitions/f58310d9-a9f6-439a-9e8d-f62e7b41a168'\n        justification: 'This is a justification from an AVM test.'\n        principalId: '<principalId>'\n        relativeScope: '<relativeScope>'\n        requestType: 'AdminAssign'\n        roleAssignmentType: 'Active'\n        scheduleInfo: {\n          duration: 'PT4H'\n          durationType: 'AfterDuration'\n          startTime: '<startTime>'\n        }\n      }\n    ]\n    resourceProviders: {\n      'Microsoft.Network': []\n    }\n    roleAssignmentEnabled: true\n    subscriptionAliasEnabled: true\n    subscriptionAliasName: '<subscriptionAliasName>'\n    subscriptionBillingScope: '<subscriptionBillingScope>'\n    subscriptionDisplayName: '<subscriptionDisplayName>'\n    subscriptionManagementGroupAssociationEnabled: true\n    subscriptionManagementGroupId: 'bicep-lz-vending-automation-child'\n    subscriptionTags: {\n      namePrefix: '<namePrefix>'\n      serviceShort: '<serviceShort>'\n    }\n    subscriptionWorkload: 'Production'\n    virtualNetworkAddressSpace: [\n      '10.140.0.0/16'\n    ]\n    virtualNetworkEnabled: true\n    virtualNetworkLocation: '<virtualNetworkLocation>'\n    virtualNetworkName: '<virtualNetworkName>'\n    virtualNetworkResourceGroupLockEnabled: false\n    virtualNetworkResourceGroupName: '<virtualNetworkResourceGroupName>'\n  }\n}"}
{"id": "avm_ptn_lz_sub-vending_example_7", "source": "avm/ptn/lz/sub-vending/README.md", "content_to_embed": "Recommended AVM Module for Sub-vending: Using PIM Eligible Role assignments. - This instance deploys the module with PIM Eligible Role assignments.\nResource Type Path: Lz/SubVending\nModule ID: br/public:avm/ptn/lz/sub-vending:0.4\nParameters:\nparams: {\n    pimRoleAssignments: [\n      {\n        definition: '/providers/Microsoft.Authorization/roleDefinitions/f58310d9-a9f6-439a-9e8d-f62e7b41a168'\n        justification: 'This is a justification from an AVM test.'\n        principalId: '<principalId>'\n        relativeScope: ''\n        requestType: 'AdminUpdate'\n        roleAssignmentType: 'Eligible'\n        scheduleInfo: {\n          duration: 'PT4H'\n          durationType: 'AfterDuration'\n          startTime: '<startTime>'\n        }\n      }\n    ]\n    resourceProviders: {}\n    roleAssignmentEnabled: true\n    subscriptionAliasEnabled: true\n    subscriptionAliasName: '<subscriptionAliasName>'\n    subscriptionBillingScope: '<subscriptionBillingScope>'\n    subscriptionDisplayName: '<subscriptionDisplayName>'\n    subscriptionManagementGroupAssociationEnabled: true\n    subscriptionManagementGroupId: 'bicep-lz-vending-automation-child'\n    subscriptionTags: {\n      namePrefix: '<namePrefix>'\n      serviceShort: '<serviceShort>'\n    }\n    subscriptionWorkload: 'Production'\n    virtualNetworkEnabled: true\n    virtualNetworkLocation: '<virtualNetworkLocation>'\n    virtualNetworkName: '<virtualNetworkName>'\n    virtualNetworkResourceGroupName: '<virtualNetworkResourceGroupName>'\n  }", "bicep": "module subVending 'br/public:avm/ptn/lz/sub-vending:0.4' = {\n  name: 'subVendingDeployment'\n  params: {\n    pimRoleAssignments: [\n      {\n        definition: '/providers/Microsoft.Authorization/roleDefinitions/f58310d9-a9f6-439a-9e8d-f62e7b41a168'\n        justification: 'This is a justification from an AVM test.'\n        principalId: '<principalId>'\n        relativeScope: ''\n        requestType: 'AdminUpdate'\n        roleAssignmentType: 'Eligible'\n        scheduleInfo: {\n          duration: 'PT4H'\n          durationType: 'AfterDuration'\n          startTime: '<startTime>'\n        }\n      }\n    ]\n    resourceProviders: {}\n    roleAssignmentEnabled: true\n    subscriptionAliasEnabled: true\n    subscriptionAliasName: '<subscriptionAliasName>'\n    subscriptionBillingScope: '<subscriptionBillingScope>'\n    subscriptionDisplayName: '<subscriptionDisplayName>'\n    subscriptionManagementGroupAssociationEnabled: true\n    subscriptionManagementGroupId: 'bicep-lz-vending-automation-child'\n    subscriptionTags: {\n      namePrefix: '<namePrefix>'\n      serviceShort: '<serviceShort>'\n    }\n    subscriptionWorkload: 'Production'\n    virtualNetworkEnabled: true\n    virtualNetworkLocation: '<virtualNetworkLocation>'\n    virtualNetworkName: '<virtualNetworkName>'\n    virtualNetworkResourceGroupName: '<virtualNetworkResourceGroupName>'\n  }\n}"}
{"id": "avm_ptn_lz_sub-vending_example_8", "source": "avm/ptn/lz/sub-vending/README.md", "content_to_embed": "Recommended AVM Module for Sub-vending: Using RBAC conditions. - This instance deploys the module with RBAC conditions for the role assignments.\nResource Type Path: Lz/SubVending\nModule ID: br/public:avm/ptn/lz/sub-vending:0.4\nParameters:\nparams: {\n    resourceProviders: {}\n    roleAssignmentEnabled: true\n    roleAssignments: [\n      {\n        definition: '/providers/Microsoft.Authorization/roleDefinitions/f58310d9-a9f6-439a-9e8d-f62e7b41a168'\n        principalId: '<principalId>'\n        principalType: 'User'\n        relativeScope: ''\n        roleAssignmentCondition: {\n          roleConditionType: {\n            principleTypesToAssign: [\n              'Group'\n              'ServicePrincipal'\n            ]\n            rolesToAssign: [\n              'b24988ac-6180-42a0-ab88-20f7382dd24c'\n            ]\n            templateName: 'constrainRolesAndPrincipalTypes'\n          }\n        }\n      }\n    ]\n    subscriptionAliasEnabled: true\n    subscriptionAliasName: '<subscriptionAliasName>'\n    subscriptionBillingScope: '<subscriptionBillingScope>'\n    subscriptionDisplayName: '<subscriptionDisplayName>'\n    subscriptionManagementGroupAssociationEnabled: true\n    subscriptionManagementGroupId: 'bicep-lz-vending-automation-child'\n    subscriptionTags: {\n      namePrefix: '<namePrefix>'\n      serviceShort: '<serviceShort>'\n    }\n    subscriptionWorkload: 'Production'\n  }", "bicep": "module subVending 'br/public:avm/ptn/lz/sub-vending:0.4' = {\n  name: 'subVendingDeployment'\n  params: {\n    resourceProviders: {}\n    roleAssignmentEnabled: true\n    roleAssignments: [\n      {\n        definition: '/providers/Microsoft.Authorization/roleDefinitions/f58310d9-a9f6-439a-9e8d-f62e7b41a168'\n        principalId: '<principalId>'\n        principalType: 'User'\n        relativeScope: ''\n        roleAssignmentCondition: {\n          roleConditionType: {\n            principleTypesToAssign: [\n              'Group'\n              'ServicePrincipal'\n            ]\n            rolesToAssign: [\n              'b24988ac-6180-42a0-ab88-20f7382dd24c'\n            ]\n            templateName: 'constrainRolesAndPrincipalTypes'\n          }\n        }\n      }\n    ]\n    subscriptionAliasEnabled: true\n    subscriptionAliasName: '<subscriptionAliasName>'\n    subscriptionBillingScope: '<subscriptionBillingScope>'\n    subscriptionDisplayName: '<subscriptionDisplayName>'\n    subscriptionManagementGroupAssociationEnabled: true\n    subscriptionManagementGroupId: 'bicep-lz-vending-automation-child'\n    subscriptionTags: {\n      namePrefix: '<namePrefix>'\n      serviceShort: '<serviceShort>'\n    }\n    subscriptionWorkload: 'Production'\n  }\n}"}
{"id": "avm_ptn_lz_sub-vending_example_9", "source": "avm/ptn/lz/sub-vending/README.md", "content_to_embed": "Recommended AVM Module for Sub-vending: Using standalone NSG deployment. - This instance deploys the module to test standalone NSG deployments.\nResource Type Path: Lz/SubVending\nModule ID: br/public:avm/ptn/lz/sub-vending:0.4\nParameters:\nparams: {\n    networkSecurityGroupResourceGroupName: '<networkSecurityGroupResourceGroupName>'\n    networkSecurityGroups: [\n      {\n        location: '<location>'\n        name: '<name>'\n        securityRules: [\n          {\n            name: 'Allow-HTTP-Inbound'\n            properties: {\n              access: 'Allow'\n              destinationAddressPrefix: '*'\n              destinationPortRange: '80'\n              direction: 'Inbound'\n              priority: 100\n              protocol: 'Tcp'\n              sourceAddressPrefix: '*'\n              sourcePortRange: '*'\n            }\n          }\n          {\n            name: 'Allow-HTTPS-Inbound'\n            properties: {\n              access: 'Allow'\n              destinationAddressPrefix: '*'\n              destinationPortRange: '443'\n              direction: 'Inbound'\n              priority: 110\n              protocol: 'Tcp'\n              sourceAddressPrefix: '*'\n              sourcePortRange: '*'\n            }\n          }\n        ]\n      }\n    ]\n    resourceProviders: {}\n    subscriptionAliasEnabled: true\n    subscriptionAliasName: '<subscriptionAliasName>'\n    subscriptionBillingScope: '<subscriptionBillingScope>'\n    subscriptionDisplayName: '<subscriptionDisplayName>'\n    subscriptionManagementGroupAssociationEnabled: true\n    subscriptionManagementGroupId: 'bicep-lz-vending-automation-child'\n    subscriptionTags: {\n      namePrefix: '<namePrefix>'\n      serviceShort: '<serviceShort>'\n    }\n    subscriptionWorkload: 'Production'\n  }", "bicep": "module subVending 'br/public:avm/ptn/lz/sub-vending:0.4' = {\n  name: 'subVendingDeployment'\n  params: {\n    networkSecurityGroupResourceGroupName: '<networkSecurityGroupResourceGroupName>'\n    networkSecurityGroups: [\n      {\n        location: '<location>'\n        name: '<name>'\n        securityRules: [\n          {\n            name: 'Allow-HTTP-Inbound'\n            properties: {\n              access: 'Allow'\n              destinationAddressPrefix: '*'\n              destinationPortRange: '80'\n              direction: 'Inbound'\n              priority: 100\n              protocol: 'Tcp'\n              sourceAddressPrefix: '*'\n              sourcePortRange: '*'\n            }\n          }\n          {\n            name: 'Allow-HTTPS-Inbound'\n            properties: {\n              access: 'Allow'\n              destinationAddressPrefix: '*'\n              destinationPortRange: '443'\n              direction: 'Inbound'\n              priority: 110\n              protocol: 'Tcp'\n              sourceAddressPrefix: '*'\n              sourcePortRange: '*'\n            }\n          }\n        ]\n      }\n    ]\n    resourceProviders: {}\n    subscriptionAliasEnabled: true\n    subscriptionAliasName: '<subscriptionAliasName>'\n    subscriptionBillingScope: '<subscriptionBillingScope>'\n    subscriptionDisplayName: '<subscriptionDisplayName>'\n    subscriptionManagementGroupAssociationEnabled: true\n    subscriptionManagementGroupId: 'bicep-lz-vending-automation-child'\n    subscriptionTags: {\n      namePrefix: '<namePrefix>'\n      serviceShort: '<serviceShort>'\n    }\n    subscriptionWorkload: 'Production'\n  }\n}"}
{"id": "avm_ptn_lz_sub-vending_example_10", "source": "avm/ptn/lz/sub-vending/README.md", "content_to_embed": "Recommended AVM Module for Sub-vending: Using user-assigned managed identities. - This instance deploys the module with user-assigned managed identities.\nResource Type Path: Lz/SubVending\nModule ID: br/public:avm/ptn/lz/sub-vending:0.4\nParameters:\nparams: {\n    resourceProviders: {}\n    roleAssignmentEnabled: true\n    subscriptionAliasEnabled: true\n    subscriptionAliasName: '<subscriptionAliasName>'\n    subscriptionBillingScope: '<subscriptionBillingScope>'\n    subscriptionDisplayName: '<subscriptionDisplayName>'\n    subscriptionManagementGroupAssociationEnabled: true\n    subscriptionManagementGroupId: 'bicep-lz-vending-automation-child'\n    subscriptionTags: {\n      namePrefix: '<namePrefix>'\n      serviceShort: '<serviceShort>'\n    }\n    subscriptionWorkload: 'Production'\n    userAssignedIdentitiesResourceGroupLockEnabled: false\n    userAssignedIdentityResourceGroupName: 'rg-identity-ssmsi'\n    userAssignedManagedIdentities: [\n      {\n        federatedIdentityCredentials: [\n          {\n            audiences: [\n              'api://AzureADTokenExchange'\n            ]\n            issuer: 'https://token.actions.githubusercontent.com'\n            name: '<name>'\n            subject: 'repo:githubOrganization/sampleRepository:ref:refs/heads/main'\n          }\n        ]\n        location: '<location>'\n        name: 'test-identity-ssmsi'\n        roleAssignments: [\n          {\n            definition: '/providers/Microsoft.Authorization/roleDefinitions/9980e02c-c2be-4d73-94e8-173b1dc7cf3c'\n            description: 'Virtual Machine Contributor'\n            relativeScope: ''\n          }\n          {\n            definition: '/providers/Microsoft.Authorization/roleDefinitions/602da2ba-a5c2-41da-b01d-5360126ab525'\n            description: 'Virtual Machine Local User Login'\n            relativeScope: '<relativeScope>'\n          }\n        ]\n      }\n    ]\n    virtualNetworkAddressSpace: [\n      '10.110.0.0/16'\n    ]\n    virtualNetworkEnabled: true\n    virtualNetworkLocation: '<virtualNetworkLocation>'\n    virtualNetworkName: '<virtualNetworkName>'\n    virtualNetworkResourceGroupLockEnabled: false\n    virtualNetworkResourceGroupName: '<virtualNetworkResourceGroupName>'\n  }", "bicep": "module subVending 'br/public:avm/ptn/lz/sub-vending:0.4' = {\n  name: 'subVendingDeployment'\n  params: {\n    resourceProviders: {}\n    roleAssignmentEnabled: true\n    subscriptionAliasEnabled: true\n    subscriptionAliasName: '<subscriptionAliasName>'\n    subscriptionBillingScope: '<subscriptionBillingScope>'\n    subscriptionDisplayName: '<subscriptionDisplayName>'\n    subscriptionManagementGroupAssociationEnabled: true\n    subscriptionManagementGroupId: 'bicep-lz-vending-automation-child'\n    subscriptionTags: {\n      namePrefix: '<namePrefix>'\n      serviceShort: '<serviceShort>'\n    }\n    subscriptionWorkload: 'Production'\n    userAssignedIdentitiesResourceGroupLockEnabled: false\n    userAssignedIdentityResourceGroupName: 'rg-identity-ssmsi'\n    userAssignedManagedIdentities: [\n      {\n        federatedIdentityCredentials: [\n          {\n            audiences: [\n              'api://AzureADTokenExchange'\n            ]\n            issuer: 'https://token.actions.githubusercontent.com'\n            name: '<name>'\n            subject: 'repo:githubOrganization/sampleRepository:ref:refs/heads/main'\n          }\n        ]\n        location: '<location>'\n        name: 'test-identity-ssmsi'\n        roleAssignments: [\n          {\n            definition: '/providers/Microsoft.Authorization/roleDefinitions/9980e02c-c2be-4d73-94e8-173b1dc7cf3c'\n            description: 'Virtual Machine Contributor'\n            relativeScope: ''\n          }\n          {\n            definition: '/providers/Microsoft.Authorization/roleDefinitions/602da2ba-a5c2-41da-b01d-5360126ab525'\n            description: 'Virtual Machine Local User Login'\n            relativeScope: '<relativeScope>'\n          }\n        ]\n      }\n    ]\n    virtualNetworkAddressSpace: [\n      '10.110.0.0/16'\n    ]\n    virtualNetworkEnabled: true\n    virtualNetworkLocation: '<virtualNetworkLocation>'\n    virtualNetworkName: '<virtualNetworkName>'\n    virtualNetworkResourceGroupLockEnabled: false\n    virtualNetworkResourceGroupName: '<virtualNetworkResourceGroupName>'\n  }\n}"}
{"id": "avm_ptn_lz_sub-vending_example_11", "source": "avm/ptn/lz/sub-vending/README.md", "content_to_embed": "Recommended AVM Module for Sub-vending: Vwan topology. - This instance deploys a subscription with a vwan network topology.\nResource Type Path: Lz/SubVending\nModule ID: br/public:avm/ptn/lz/sub-vending:0.4\nParameters:\nparams: {\n    deploymentScriptLocation: '<deploymentScriptLocation>'\n    deploymentScriptManagedIdentityName: '<deploymentScriptManagedIdentityName>'\n    deploymentScriptName: 'ds-ssawan'\n    deploymentScriptNetworkSecurityGroupName: '<deploymentScriptNetworkSecurityGroupName>'\n    deploymentScriptResourceGroupName: '<deploymentScriptResourceGroupName>'\n    deploymentScriptStorageAccountName: '<deploymentScriptStorageAccountName>'\n    deploymentScriptVirtualNetworkName: '<deploymentScriptVirtualNetworkName>'\n    hubNetworkResourceId: '<hubNetworkResourceId>'\n    resourceProviders: {}\n    roleAssignmentEnabled: true\n    roleAssignments: [\n      {\n        definition: '/providers/Microsoft.Authorization/roleDefinitions/4d97b98b-1d4f-4787-a291-c67834d212e7'\n        description: 'Network contributor role'\n        principalId: '<principalId>'\n        relativeScope: '<relativeScope>'\n      }\n    ]\n    subscriptionAliasEnabled: true\n    subscriptionAliasName: '<subscriptionAliasName>'\n    subscriptionBillingScope: '<subscriptionBillingScope>'\n    subscriptionDisplayName: '<subscriptionDisplayName>'\n    subscriptionManagementGroupAssociationEnabled: true\n    subscriptionManagementGroupId: 'bicep-lz-vending-automation-child'\n    subscriptionTags: {\n      namePrefix: '<namePrefix>'\n      serviceShort: '<serviceShort>'\n    }\n    subscriptionWorkload: 'Production'\n    virtualNetworkAddressSpace: [\n      '10.210.0.0/16'\n    ]\n    virtualNetworkEnabled: true\n    virtualNetworkLocation: '<virtualNetworkLocation>'\n    virtualNetworkName: '<virtualNetworkName>'\n    virtualNetworkPeeringEnabled: true\n    virtualNetworkResourceGroupLockEnabled: false\n    virtualNetworkResourceGroupName: '<virtualNetworkResourceGroupName>'\n  }", "bicep": "module subVending 'br/public:avm/ptn/lz/sub-vending:0.4' = {\n  name: 'subVendingDeployment'\n  params: {\n    deploymentScriptLocation: '<deploymentScriptLocation>'\n    deploymentScriptManagedIdentityName: '<deploymentScriptManagedIdentityName>'\n    deploymentScriptName: 'ds-ssawan'\n    deploymentScriptNetworkSecurityGroupName: '<deploymentScriptNetworkSecurityGroupName>'\n    deploymentScriptResourceGroupName: '<deploymentScriptResourceGroupName>'\n    deploymentScriptStorageAccountName: '<deploymentScriptStorageAccountName>'\n    deploymentScriptVirtualNetworkName: '<deploymentScriptVirtualNetworkName>'\n    hubNetworkResourceId: '<hubNetworkResourceId>'\n    resourceProviders: {}\n    roleAssignmentEnabled: true\n    roleAssignments: [\n      {\n        definition: '/providers/Microsoft.Authorization/roleDefinitions/4d97b98b-1d4f-4787-a291-c67834d212e7'\n        description: 'Network contributor role'\n        principalId: '<principalId>'\n        relativeScope: '<relativeScope>'\n      }\n    ]\n    subscriptionAliasEnabled: true\n    subscriptionAliasName: '<subscriptionAliasName>'\n    subscriptionBillingScope: '<subscriptionBillingScope>'\n    subscriptionDisplayName: '<subscriptionDisplayName>'\n    subscriptionManagementGroupAssociationEnabled: true\n    subscriptionManagementGroupId: 'bicep-lz-vending-automation-child'\n    subscriptionTags: {\n      namePrefix: '<namePrefix>'\n      serviceShort: '<serviceShort>'\n    }\n    subscriptionWorkload: 'Production'\n    virtualNetworkAddressSpace: [\n      '10.210.0.0/16'\n    ]\n    virtualNetworkEnabled: true\n    virtualNetworkLocation: '<virtualNetworkLocation>'\n    virtualNetworkName: '<virtualNetworkName>'\n    virtualNetworkPeeringEnabled: true\n    virtualNetworkResourceGroupLockEnabled: false\n    virtualNetworkResourceGroupName: '<virtualNetworkResourceGroupName>'\n  }\n}"}
{"id": "avm_ptn_mgmt-groups_subscription-placement_example_1", "source": "avm/ptn/mgmt-groups/subscription-placement/README.md", "content_to_embed": "Recommended AVM Module for subscription-placement: Using only defaults. - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: MgmtGroups/SubscriptionPlacement\nModule ID: br/public:avm/ptn/mgmt-groups/subscription-placement:0.3\nParameters:\nparams: {\n    parSubscriptionPlacement: [\n      {\n        disableSubscriptionPlacement: false\n        managementGroupId: '<managementGroupId>'\n        subscriptionIds: [\n          ''\n          '<subVendingSubscriptionId>'\n        ]\n      }\n      {\n        disableSubscriptionPlacement: true\n        managementGroupId: '<managementGroupId>'\n        subscriptionIds: [\n          '<subVendingSubscriptionId>'\n        ]\n      }\n    ]\n  }", "bicep": "module subscriptionPlacement 'br/public:avm/ptn/mgmt-groups/subscription-placement:0.3' = {\n  name: 'subscriptionPlacementDeployment'\n  params: {\n    parSubscriptionPlacement: [\n      {\n        disableSubscriptionPlacement: false\n        managementGroupId: '<managementGroupId>'\n        subscriptionIds: [\n          ''\n          '<subVendingSubscriptionId>'\n        ]\n      }\n      {\n        disableSubscriptionPlacement: true\n        managementGroupId: '<managementGroupId>'\n        subscriptionIds: [\n          '<subVendingSubscriptionId>'\n        ]\n      }\n    ]\n  }\n}"}
{"id": "avm_ptn_network_hub-networking_example_1", "source": "avm/ptn/network/hub-networking/README.md", "content_to_embed": "Recommended AVM Module for Hub Networking: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Network/HubNetworking\nModule ID: br/public:avm/ptn/network/hub-networking:0.5\nParameters:\nparams: {\n\n  }", "bicep": "module hubNetworking 'br/public:avm/ptn/network/hub-networking:0.5' = {\n  name: 'hubNetworkingDeployment'\n  params: {\n\n  }\n}"}
{"id": "avm_ptn_network_hub-networking_example_2", "source": "avm/ptn/network/hub-networking/README.md", "content_to_embed": "Recommended AVM Module for Hub Networking: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Network/HubNetworking\nModule ID: br/public:avm/ptn/network/hub-networking:0.5\nParameters:\nparams: {\n    hubVirtualNetworks: {\n      hub1: {\n        addressPrefixes: '<addressPrefixes>'\n        azureFirewallSettings: {\n          azureSkuTier: 'Standard'\n          diagnosticSettings: [\n            {\n              eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n              eventHubName: '<eventHubName>'\n              metricCategories: [\n                {\n                  category: 'AllMetrics'\n                }\n              ]\n              name: 'customSetting'\n              storageAccountResourceId: '<storageAccountResourceId>'\n              workspaceResourceId: '<workspaceResourceId>'\n            }\n          ]\n          location: '<location>'\n          publicIPAddressObject: {\n            name: 'hub1-waf-pip'\n          }\n          threatIntelMode: 'Alert'\n          zones: [\n            1\n            2\n            3\n          ]\n        }\n        bastionHost: {\n          bastionHostName: 'bastion-hub1'\n          disableCopyPaste: true\n          enableFileCopy: false\n          enableIpConnect: false\n          enableShareableLink: false\n          scaleUnits: 2\n          skuName: 'Standard'\n        }\n        diagnosticSettings: [\n          {\n            eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n            eventHubName: '<eventHubName>'\n            metricCategories: [\n              {\n                category: 'AllMetrics'\n              }\n            ]\n            name: 'customSetting'\n            storageAccountResourceId: '<storageAccountResourceId>'\n            workspaceResourceId: '<workspaceResourceId>'\n          }\n        ]\n        dnsServers: [\n          '10.0.1.4'\n          '10.0.1.5'\n        ]\n        enableAzureFirewall: true\n        enableBastion: true\n        enablePeering: false\n        flowTimeoutInMinutes: 30\n        location: '<location>'\n        lock: {\n          kind: 'CanNotDelete'\n          name: 'hub1Lock'\n        }\n        peeringSettings: [\n          {\n            allowForwardedTraffic: true\n            allowGatewayTransit: false\n            allowVirtualNetworkAccess: true\n            remoteVirtualNetworkName: 'hub2'\n            useRemoteGateways: false\n          }\n        ]\n        routes: [\n          {\n            name: 'defaultRoute'\n            properties: {\n              addressPrefix: '0.0.0.0/0'\n              nextHopType: 'Internet'\n            }\n          }\n        ]\n        subnets: [\n          {\n            addressPrefix: '<addressPrefix>'\n            name: 'GatewaySubnet'\n          }\n          {\n            addressPrefix: '<addressPrefix>'\n            name: 'AzureFirewallSubnet'\n          }\n          {\n            addressPrefix: '<addressPrefix>'\n            name: 'AzureBastionSubnet'\n          }\n          {\n            addressPrefix: '<addressPrefix>'\n            delegation: 'Microsoft.Network/dnsResolvers'\n            name: 'DNSResolver'\n          }\n        ]\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n        vnetEncryption: false\n        vnetEncryptionEnforcement: 'AllowUnencrypted'\n      }\n      hub2: {\n        addressPrefixes: '<addressPrefixes>'\n        azureFirewallSettings: {\n          azureSkuTier: 'Standard'\n          location: '<location>'\n          publicIPAddressObject: {\n            name: 'hub2-waf-pip'\n          }\n          threatIntelMode: 'Alert'\n          zones: [\n            1\n            2\n            3\n          ]\n        }\n        bastionHost: {\n          disableCopyPaste: true\n          enableFileCopy: false\n          enableIpConnect: false\n          enableShareableLink: false\n          scaleUnits: 2\n          skuName: 'Standard'\n        }\n        enableAzureFirewall: true\n        enableBastion: true\n        enablePeering: false\n        flowTimeoutInMinutes: 10\n        location: '<location>'\n        lock: {\n          kind: 'CanNotDelete'\n          name: 'hub2Lock'\n        }\n        peeringSettings: [\n          {\n            allowForwardedTraffic: true\n            allowGatewayTransit: false\n            allowVirtualNetworkAccess: true\n            remoteVirtualNetworkName: 'hub1'\n            useRemoteGateways: false\n          }\n        ]\n        routes: [\n          {\n            name: 'defaultRoute'\n            properties: {\n              addressPrefix: '0.0.0.0/0'\n              nextHopType: 'Internet'\n            }\n          }\n        ]\n        subnets: [\n          {\n            addressPrefix: '<addressPrefix>'\n            name: 'GatewaySubnet'\n          }\n          {\n            addressPrefix: '<addressPrefix>'\n            name: 'AzureFirewallSubnet'\n          }\n          {\n            addressPrefix: '<addressPrefix>'\n            name: 'AzureBastionSubnet'\n          }\n        ]\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n        vnetEncryption: false\n        vnetEncryptionEnforcement: 'AllowUnencrypted'\n      }\n    }\n    location: '<location>'\n  }", "bicep": "module hubNetworking 'br/public:avm/ptn/network/hub-networking:0.5' = {\n  name: 'hubNetworkingDeployment'\n  params: {\n    hubVirtualNetworks: {\n      hub1: {\n        addressPrefixes: '<addressPrefixes>'\n        azureFirewallSettings: {\n          azureSkuTier: 'Standard'\n          diagnosticSettings: [\n            {\n              eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n              eventHubName: '<eventHubName>'\n              metricCategories: [\n                {\n                  category: 'AllMetrics'\n                }\n              ]\n              name: 'customSetting'\n              storageAccountResourceId: '<storageAccountResourceId>'\n              workspaceResourceId: '<workspaceResourceId>'\n            }\n          ]\n          location: '<location>'\n          publicIPAddressObject: {\n            name: 'hub1-waf-pip'\n          }\n          threatIntelMode: 'Alert'\n          zones: [\n            1\n            2\n            3\n          ]\n        }\n        bastionHost: {\n          bastionHostName: 'bastion-hub1'\n          disableCopyPaste: true\n          enableFileCopy: false\n          enableIpConnect: false\n          enableShareableLink: false\n          scaleUnits: 2\n          skuName: 'Standard'\n        }\n        diagnosticSettings: [\n          {\n            eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n            eventHubName: '<eventHubName>'\n            metricCategories: [\n              {\n                category: 'AllMetrics'\n              }\n            ]\n            name: 'customSetting'\n            storageAccountResourceId: '<storageAccountResourceId>'\n            workspaceResourceId: '<workspaceResourceId>'\n          }\n        ]\n        dnsServers: [\n          '10.0.1.4'\n          '10.0.1.5'\n        ]\n        enableAzureFirewall: true\n        enableBastion: true\n        enablePeering: false\n        flowTimeoutInMinutes: 30\n        location: '<location>'\n        lock: {\n          kind: 'CanNotDelete'\n          name: 'hub1Lock'\n        }\n        peeringSettings: [\n          {\n            allowForwardedTraffic: true\n            allowGatewayTransit: false\n            allowVirtualNetworkAccess: true\n            remoteVirtualNetworkName: 'hub2'\n            useRemoteGateways: false\n          }\n        ]\n        routes: [\n          {\n            name: 'defaultRoute'\n            properties: {\n              addressPrefix: '0.0.0.0/0'\n              nextHopType: 'Internet'\n            }\n          }\n        ]\n        subnets: [\n          {\n            addressPrefix: '<addressPrefix>'\n            name: 'GatewaySubnet'\n          }\n          {\n            addressPrefix: '<addressPrefix>'\n            name: 'AzureFirewallSubnet'\n          }\n          {\n            addressPrefix: '<addressPrefix>'\n            name: 'AzureBastionSubnet'\n          }\n          {\n            addressPrefix: '<addressPrefix>'\n            delegation: 'Microsoft.Network/dnsResolvers'\n            name: 'DNSResolver'\n          }\n        ]\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n        vnetEncryption: false\n        vnetEncryptionEnforcement: 'AllowUnencrypted'\n      }\n      hub2: {\n        addressPrefixes: '<addressPrefixes>'\n        azureFirewallSettings: {\n          azureSkuTier: 'Standard'\n          location: '<location>'\n          publicIPAddressObject: {\n            name: 'hub2-waf-pip'\n          }\n          threatIntelMode: 'Alert'\n          zones: [\n            1\n            2\n            3\n          ]\n        }\n        bastionHost: {\n          disableCopyPaste: true\n          enableFileCopy: false\n          enableIpConnect: false\n          enableShareableLink: false\n          scaleUnits: 2\n          skuName: 'Standard'\n        }\n        enableAzureFirewall: true\n        enableBastion: true\n        enablePeering: false\n        flowTimeoutInMinutes: 10\n        location: '<location>'\n        lock: {\n          kind: 'CanNotDelete'\n          name: 'hub2Lock'\n        }\n        peeringSettings: [\n          {\n            allowForwardedTraffic: true\n            allowGatewayTransit: false\n            allowVirtualNetworkAccess: true\n            remoteVirtualNetworkName: 'hub1'\n            useRemoteGateways: false\n          }\n        ]\n        routes: [\n          {\n            name: 'defaultRoute'\n            properties: {\n              addressPrefix: '0.0.0.0/0'\n              nextHopType: 'Internet'\n            }\n          }\n        ]\n        subnets: [\n          {\n            addressPrefix: '<addressPrefix>'\n            name: 'GatewaySubnet'\n          }\n          {\n            addressPrefix: '<addressPrefix>'\n            name: 'AzureFirewallSubnet'\n          }\n          {\n            addressPrefix: '<addressPrefix>'\n            name: 'AzureBastionSubnet'\n          }\n        ]\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n        vnetEncryption: false\n        vnetEncryptionEnforcement: 'AllowUnencrypted'\n      }\n    }\n    location: '<location>'\n  }\n}"}
{"id": "avm_ptn_network_hub-networking_example_3", "source": "avm/ptn/network/hub-networking/README.md", "content_to_embed": "Recommended AVM Module for Hub Networking: No Addons - This instance deploys the module with no add-ons (Firewall / Bastion) enabled.\nResource Type Path: Network/HubNetworking\nModule ID: br/public:avm/ptn/network/hub-networking:0.5\nParameters:\nparams: {\n    hubVirtualNetworks: {\n      hub1: {\n        addressPrefixes: '<addressPrefixes>'\n        diagnosticSettings: [\n          {\n            eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n            eventHubName: '<eventHubName>'\n            metricCategories: [\n              {\n                category: 'AllMetrics'\n              }\n            ]\n            name: 'customSetting'\n            storageAccountResourceId: '<storageAccountResourceId>'\n            workspaceResourceId: '<workspaceResourceId>'\n          }\n        ]\n        dnsServers: [\n          '10.0.1.6'\n          '10.0.1.7'\n        ]\n        enableAzureFirewall: false\n        enableBastion: false\n        enablePeering: false\n        flowTimeoutInMinutes: 30\n        location: '<location>'\n        routes: [\n          {\n            name: 'defaultRoute'\n            properties: {\n              addressPrefix: '0.0.0.0/0'\n              nextHopType: 'Internet'\n            }\n          }\n        ]\n        subnets: [\n          {\n            addressPrefix: '<addressPrefix>'\n            name: 'GatewaySubnet'\n          }\n          {\n            addressPrefix: '<addressPrefix>'\n            name: 'AzureFirewallSubnet'\n          }\n          {\n            addressPrefix: '<addressPrefix>'\n            name: 'AzureBastionSubnet'\n          }\n        ]\n        vnetEncryption: false\n        vnetEncryptionEnforcement: 'AllowUnencrypted'\n      }\n    }\n    location: '<location>'\n  }", "bicep": "module hubNetworking 'br/public:avm/ptn/network/hub-networking:0.5' = {\n  name: 'hubNetworkingDeployment'\n  params: {\n    hubVirtualNetworks: {\n      hub1: {\n        addressPrefixes: '<addressPrefixes>'\n        diagnosticSettings: [\n          {\n            eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n            eventHubName: '<eventHubName>'\n            metricCategories: [\n              {\n                category: 'AllMetrics'\n              }\n            ]\n            name: 'customSetting'\n            storageAccountResourceId: '<storageAccountResourceId>'\n            workspaceResourceId: '<workspaceResourceId>'\n          }\n        ]\n        dnsServers: [\n          '10.0.1.6'\n          '10.0.1.7'\n        ]\n        enableAzureFirewall: false\n        enableBastion: false\n        enablePeering: false\n        flowTimeoutInMinutes: 30\n        location: '<location>'\n        routes: [\n          {\n            name: 'defaultRoute'\n            properties: {\n              addressPrefix: '0.0.0.0/0'\n              nextHopType: 'Internet'\n            }\n          }\n        ]\n        subnets: [\n          {\n            addressPrefix: '<addressPrefix>'\n            name: 'GatewaySubnet'\n          }\n          {\n            addressPrefix: '<addressPrefix>'\n            name: 'AzureFirewallSubnet'\n          }\n          {\n            addressPrefix: '<addressPrefix>'\n            name: 'AzureBastionSubnet'\n          }\n        ]\n        vnetEncryption: false\n        vnetEncryptionEnforcement: 'AllowUnencrypted'\n      }\n    }\n    location: '<location>'\n  }\n}"}
{"id": "avm_ptn_network_hub-networking_example_4", "source": "avm/ptn/network/hub-networking/README.md", "content_to_embed": "Recommended AVM Module for Hub Networking: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Network/HubNetworking\nModule ID: br/public:avm/ptn/network/hub-networking:0.5\nParameters:\nparams: {\n    hubVirtualNetworks: {\n      hub1: {\n        addressPrefixes: '<addressPrefixes>'\n        azureFirewallSettings: {\n          azureSkuTier: 'Standard'\n          diagnosticSettings: [\n            {\n              eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n              eventHubName: '<eventHubName>'\n              storageAccountResourceId: '<storageAccountResourceId>'\n              workspaceResourceId: '<workspaceResourceId>'\n            }\n          ]\n          location: '<location>'\n          publicIPAddressObject: {\n            name: 'hub1PublicIp'\n          }\n          threatIntelMode: 'Deny'\n          zones: [\n            1\n            2\n            3\n          ]\n        }\n        bastionHost: {\n          disableCopyPaste: true\n          enableFileCopy: false\n          enableIpConnect: false\n          enableShareableLink: false\n          scaleUnits: 2\n          skuName: 'Standard'\n        }\n        diagnosticSettings: [\n          {\n            eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n            eventHubName: '<eventHubName>'\n            metricCategories: [\n              {\n                category: 'AllMetrics'\n              }\n            ]\n            name: 'customSetting'\n            storageAccountResourceId: '<storageAccountResourceId>'\n            workspaceResourceId: '<workspaceResourceId>'\n          }\n        ]\n        dnsServers: [\n          '10.0.1.6'\n          '10.0.1.7'\n        ]\n        enableAzureFirewall: true\n        enableBastion: true\n        enablePeering: false\n        flowTimeoutInMinutes: 30\n        location: '<location>'\n        routes: [\n          {\n            name: 'defaultRoute'\n            properties: {\n              addressPrefix: '0.0.0.0/0'\n              nextHopType: 'Internet'\n            }\n          }\n        ]\n        subnets: [\n          {\n            addressPrefix: '<addressPrefix>'\n            name: 'GatewaySubnet'\n          }\n          {\n            addressPrefix: '<addressPrefix>'\n            name: 'AzureFirewallSubnet'\n          }\n          {\n            addressPrefix: '<addressPrefix>'\n            name: 'AzureBastionSubnet'\n          }\n        ]\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n        vnetEncryption: false\n        vnetEncryptionEnforcement: 'AllowUnencrypted'\n      }\n    }\n    location: '<location>'\n  }", "bicep": "module hubNetworking 'br/public:avm/ptn/network/hub-networking:0.5' = {\n  name: 'hubNetworkingDeployment'\n  params: {\n    hubVirtualNetworks: {\n      hub1: {\n        addressPrefixes: '<addressPrefixes>'\n        azureFirewallSettings: {\n          azureSkuTier: 'Standard'\n          diagnosticSettings: [\n            {\n              eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n              eventHubName: '<eventHubName>'\n              storageAccountResourceId: '<storageAccountResourceId>'\n              workspaceResourceId: '<workspaceResourceId>'\n            }\n          ]\n          location: '<location>'\n          publicIPAddressObject: {\n            name: 'hub1PublicIp'\n          }\n          threatIntelMode: 'Deny'\n          zones: [\n            1\n            2\n            3\n          ]\n        }\n        bastionHost: {\n          disableCopyPaste: true\n          enableFileCopy: false\n          enableIpConnect: false\n          enableShareableLink: false\n          scaleUnits: 2\n          skuName: 'Standard'\n        }\n        diagnosticSettings: [\n          {\n            eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n            eventHubName: '<eventHubName>'\n            metricCategories: [\n              {\n                category: 'AllMetrics'\n              }\n            ]\n            name: 'customSetting'\n            storageAccountResourceId: '<storageAccountResourceId>'\n            workspaceResourceId: '<workspaceResourceId>'\n          }\n        ]\n        dnsServers: [\n          '10.0.1.6'\n          '10.0.1.7'\n        ]\n        enableAzureFirewall: true\n        enableBastion: true\n        enablePeering: false\n        flowTimeoutInMinutes: 30\n        location: '<location>'\n        routes: [\n          {\n            name: 'defaultRoute'\n            properties: {\n              addressPrefix: '0.0.0.0/0'\n              nextHopType: 'Internet'\n            }\n          }\n        ]\n        subnets: [\n          {\n            addressPrefix: '<addressPrefix>'\n            name: 'GatewaySubnet'\n          }\n          {\n            addressPrefix: '<addressPrefix>'\n            name: 'AzureFirewallSubnet'\n          }\n          {\n            addressPrefix: '<addressPrefix>'\n            name: 'AzureBastionSubnet'\n          }\n        ]\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n        vnetEncryption: false\n        vnetEncryptionEnforcement: 'AllowUnencrypted'\n      }\n    }\n    location: '<location>'\n  }\n}"}
{"id": "avm_ptn_network_private-link-private-dns-zones_example_1", "source": "avm/ptn/network/private-link-private-dns-zones/README.md", "content_to_embed": "Recommended AVM Module for avm/ptn/network/private-link-private-dns-zones: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Network/PrivateLinkPrivateDnsZones\nModule ID: br/public:avm/ptn/network/private-link-private-dns-zones:0.7\nParameters:\nparams: {\n\n  }", "bicep": "module privateLinkPrivateDnsZones 'br/public:avm/ptn/network/private-link-private-dns-zones:0.7' = {\n  name: 'privateLinkPrivateDnsZonesDeployment'\n  params: {\n\n  }\n}"}
{"id": "avm_ptn_network_private-link-private-dns-zones_example_2", "source": "avm/ptn/network/private-link-private-dns-zones/README.md", "content_to_embed": "Recommended AVM Module for avm/ptn/network/private-link-private-dns-zones: Exclude specific zones from defaults - This instance deploys and excludes 3 zones from the default set of zones using the parameter `privateLinkPrivateDnsZonesToExclude`. The default set of zones is defined in the module in the parameter `privateLinkPrivateDnsZones`.\nResource Type Path: Network/PrivateLinkPrivateDnsZones\nModule ID: br/public:avm/ptn/network/private-link-private-dns-zones:0.7\nParameters:\nparams: {\n    privateLinkPrivateDnsZonesToExclude: [\n      'privatelink.{regionCode}.backup.windowsazure.com'\n      'privatelink.{regionName}.azmk8s.io'\n      'privatelink.monitor.azure.com'\n    ]\n  }", "bicep": "module privateLinkPrivateDnsZones 'br/public:avm/ptn/network/private-link-private-dns-zones:0.7' = {\n  name: 'privateLinkPrivateDnsZonesDeployment'\n  params: {\n    privateLinkPrivateDnsZonesToExclude: [\n      'privatelink.{regionCode}.backup.windowsazure.com'\n      'privatelink.{regionName}.azmk8s.io'\n      'privatelink.monitor.azure.com'\n    ]\n  }\n}"}
{"id": "avm_ptn_network_private-link-private-dns-zones_example_3", "source": "avm/ptn/network/private-link-private-dns-zones/README.md", "content_to_embed": "Recommended AVM Module for avm/ptn/network/private-link-private-dns-zones: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Network/PrivateLinkPrivateDnsZones\nModule ID: br/public:avm/ptn/network/private-link-private-dns-zones:0.7\nParameters:\nparams: {\n    additionalPrivateLinkPrivateDnsZonesToInclude: [\n      'privatelink.3.azurestaticapps.net'\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'pdnsZonesLock'\n    }\n    privateLinkPrivateDnsZones: [\n      'privatelink.{regionCode}.backup.windowsazure.com'\n      'privatelink.{regionName}.azmk8s.io'\n      'privatelink.api.azureml.ms'\n      'privatelink.notebooks.azure.net'\n    ]\n    privateLinkPrivateDnsZonesToExclude: [\n      'privatelink.{regionCode}.backup.windowsazure.com'\n      'privatelink.api.azureml.ms'\n    ]\n    tags: {\n      Environment: 'Example'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    virtualNetworkLinks: [\n      {\n        name: 'vnet2-link-custom-name'\n        registrationEnabled: false\n        resolutionPolicy: 'NxDomainRedirect'\n        tags: {\n          Environment: 'Example'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n        virtualNetworkResourceId: '<virtualNetworkResourceId>'\n      }\n    ]\n    virtualNetworkResourceIdsToLinkTo: [\n      '<vnet1ResourceId>'\n    ]\n  }", "bicep": "module privateLinkPrivateDnsZones 'br/public:avm/ptn/network/private-link-private-dns-zones:0.7' = {\n  name: 'privateLinkPrivateDnsZonesDeployment'\n  params: {\n    additionalPrivateLinkPrivateDnsZonesToInclude: [\n      'privatelink.3.azurestaticapps.net'\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'pdnsZonesLock'\n    }\n    privateLinkPrivateDnsZones: [\n      'privatelink.{regionCode}.backup.windowsazure.com'\n      'privatelink.{regionName}.azmk8s.io'\n      'privatelink.api.azureml.ms'\n      'privatelink.notebooks.azure.net'\n    ]\n    privateLinkPrivateDnsZonesToExclude: [\n      'privatelink.{regionCode}.backup.windowsazure.com'\n      'privatelink.api.azureml.ms'\n    ]\n    tags: {\n      Environment: 'Example'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    virtualNetworkLinks: [\n      {\n        name: 'vnet2-link-custom-name'\n        registrationEnabled: false\n        resolutionPolicy: 'NxDomainRedirect'\n        tags: {\n          Environment: 'Example'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n        virtualNetworkResourceId: '<virtualNetworkResourceId>'\n      }\n    ]\n    virtualNetworkResourceIdsToLinkTo: [\n      '<vnet1ResourceId>'\n    ]\n  }\n}"}
{"id": "avm_ptn_network_private-link-private-dns-zones_example_4", "source": "avm/ptn/network/private-link-private-dns-zones/README.md", "content_to_embed": "Recommended AVM Module for avm/ptn/network/private-link-private-dns-zones: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Well-Architected Framework.\nResource Type Path: Network/PrivateLinkPrivateDnsZones\nModule ID: br/public:avm/ptn/network/private-link-private-dns-zones:0.7\nParameters:\nparams: {\n    virtualNetworkLinks: [\n      {\n        registrationEnabled: false\n        virtualNetworkResourceId: '<virtualNetworkResourceId>'\n      }\n    ]\n  }", "bicep": "module privateLinkPrivateDnsZones 'br/public:avm/ptn/network/private-link-private-dns-zones:0.7' = {\n  name: 'privateLinkPrivateDnsZonesDeployment'\n  params: {\n    virtualNetworkLinks: [\n      {\n        registrationEnabled: false\n        virtualNetworkResourceId: '<virtualNetworkResourceId>'\n      }\n    ]\n  }\n}"}
{"id": "avm_ptn_policy-insights_remediation_example_1", "source": "avm/ptn/policy-insights/remediation/README.md", "content_to_embed": "Recommended AVM Module for Policy Insights Remediations: Policy Remediation (Management Group scope - defaults) - This module runs a Policy remediation task at Management Group scope using minimal parameters.\nResource Type Path: PolicyInsights/Remediation\nModule ID: br/public:avm/ptn/policy-insights/remediation:0.2\nParameters:\nparams: {\n    // Required parameters\n    name: 'pirmgmin001'\n    policyAssignmentId: '<policyAssignmentId>'\n    // Non-required parameters\n    location: '<location>'\n    policyDefinitionReferenceId: 'Prerequisite_DeployExtensionWindows'\n  }", "bicep": "module remediation 'br/public:avm/ptn/policy-insights/remediation:0.2' = {\n  name: 'remediationDeployment'\n  params: {\n    // Required parameters\n    name: 'pirmgmin001'\n    policyAssignmentId: '<policyAssignmentId>'\n    // Non-required parameters\n    location: '<location>'\n    policyDefinitionReferenceId: 'Prerequisite_DeployExtensionWindows'\n  }\n}"}
{"id": "avm_ptn_policy-insights_remediation_example_2", "source": "avm/ptn/policy-insights/remediation/README.md", "content_to_embed": "Recommended AVM Module for Policy Insights Remediations: Policy Remediation (Management Group scope - max) - This module runs a Policy remediation task at Management Group scope using common parameters.\nResource Type Path: PolicyInsights/Remediation\nModule ID: br/public:avm/ptn/policy-insights/remediation:0.2\nParameters:\nparams: {\n    // Required parameters\n    name: 'pirmgmax001'\n    policyAssignmentId: '<policyAssignmentId>'\n    // Non-required parameters\n    failureThresholdPercentage: '0.5'\n    filtersLocations: []\n    filtersResourceIds: []\n    location: '<location>'\n    parallelDeployments: 1\n    policyDefinitionReferenceId: 'Prerequisite_DeployExtensionWindows'\n    resourceCount: 10\n  }", "bicep": "module remediation 'br/public:avm/ptn/policy-insights/remediation:0.2' = {\n  name: 'remediationDeployment'\n  params: {\n    // Required parameters\n    name: 'pirmgmax001'\n    policyAssignmentId: '<policyAssignmentId>'\n    // Non-required parameters\n    failureThresholdPercentage: '0.5'\n    filtersLocations: []\n    filtersResourceIds: []\n    location: '<location>'\n    parallelDeployments: 1\n    policyDefinitionReferenceId: 'Prerequisite_DeployExtensionWindows'\n    resourceCount: 10\n  }\n}"}
{"id": "avm_ptn_policy-insights_remediation_example_3", "source": "avm/ptn/policy-insights/remediation/README.md", "content_to_embed": "Recommended AVM Module for Policy Insights Remediations: Policy Remediation (Resource Group scope - defaults) - This module runs a Policy remediation task at Resource Group scope using minimal parameters.\nResource Type Path: PolicyInsights/Remediation\nModule ID: br/public:avm/ptn/policy-insights/remediation:0.2\nParameters:\nparams: {\n    // Required parameters\n    name: 'pirrgmin001'\n    policyAssignmentId: '<policyAssignmentId>'\n    // Non-required parameters\n    location: '<location>'\n    policyDefinitionReferenceId: 'Prerequisite_DeployExtensionWindows'\n    resourceGroupName: '<resourceGroupName>'\n    subscriptionId: '<subscriptionId>'\n  }", "bicep": "module remediation 'br/public:avm/ptn/policy-insights/remediation:0.2' = {\n  name: 'remediationDeployment'\n  params: {\n    // Required parameters\n    name: 'pirrgmin001'\n    policyAssignmentId: '<policyAssignmentId>'\n    // Non-required parameters\n    location: '<location>'\n    policyDefinitionReferenceId: 'Prerequisite_DeployExtensionWindows'\n    resourceGroupName: '<resourceGroupName>'\n    subscriptionId: '<subscriptionId>'\n  }\n}"}
{"id": "avm_ptn_policy-insights_remediation_example_4", "source": "avm/ptn/policy-insights/remediation/README.md", "content_to_embed": "Recommended AVM Module for Policy Insights Remediations: Policy Remediation (Resource Group scope - max) - This module runs a Policy remediation task at Resource Group scope using common parameters.\nResource Type Path: PolicyInsights/Remediation\nModule ID: br/public:avm/ptn/policy-insights/remediation:0.2\nParameters:\nparams: {\n    // Required parameters\n    name: 'pirrgmax001'\n    policyAssignmentId: '<policyAssignmentId>'\n    // Non-required parameters\n    failureThresholdPercentage: '0.5'\n    filtersLocations: []\n    filtersResourceIds: []\n    location: '<location>'\n    parallelDeployments: 1\n    policyDefinitionReferenceId: 'Prerequisite_DeployExtensionWindows'\n    resourceCount: 10\n    resourceDiscoveryMode: 'ReEvaluateCompliance'\n    resourceGroupName: '<resourceGroupName>'\n    subscriptionId: '<subscriptionId>'\n  }", "bicep": "module remediation 'br/public:avm/ptn/policy-insights/remediation:0.2' = {\n  name: 'remediationDeployment'\n  params: {\n    // Required parameters\n    name: 'pirrgmax001'\n    policyAssignmentId: '<policyAssignmentId>'\n    // Non-required parameters\n    failureThresholdPercentage: '0.5'\n    filtersLocations: []\n    filtersResourceIds: []\n    location: '<location>'\n    parallelDeployments: 1\n    policyDefinitionReferenceId: 'Prerequisite_DeployExtensionWindows'\n    resourceCount: 10\n    resourceDiscoveryMode: 'ReEvaluateCompliance'\n    resourceGroupName: '<resourceGroupName>'\n    subscriptionId: '<subscriptionId>'\n  }\n}"}
{"id": "avm_ptn_policy-insights_remediation_example_5", "source": "avm/ptn/policy-insights/remediation/README.md", "content_to_embed": "Recommended AVM Module for Policy Insights Remediations: Policy Remediation (Subscription scope - defaults) - This module runs a Policy remediation task at subscription scope using minimal parameters.\nResource Type Path: PolicyInsights/Remediation\nModule ID: br/public:avm/ptn/policy-insights/remediation:0.2\nParameters:\nparams: {\n    // Required parameters\n    name: 'pirsubmin001'\n    policyAssignmentId: '<policyAssignmentId>'\n    // Non-required parameters\n    location: '<location>'\n    policyDefinitionReferenceId: 'Prerequisite_DeployExtensionWindows'\n    subscriptionId: '<subscriptionId>'\n  }", "bicep": "module remediation 'br/public:avm/ptn/policy-insights/remediation:0.2' = {\n  name: 'remediationDeployment'\n  params: {\n    // Required parameters\n    name: 'pirsubmin001'\n    policyAssignmentId: '<policyAssignmentId>'\n    // Non-required parameters\n    location: '<location>'\n    policyDefinitionReferenceId: 'Prerequisite_DeployExtensionWindows'\n    subscriptionId: '<subscriptionId>'\n  }\n}"}
{"id": "avm_ptn_policy-insights_remediation_example_6", "source": "avm/ptn/policy-insights/remediation/README.md", "content_to_embed": "Recommended AVM Module for Policy Insights Remediations: Policy Remediation (Subscription scope - max) - This module runs a Policy remediation task at subscription scope using common parameters.\nResource Type Path: PolicyInsights/Remediation\nModule ID: br/public:avm/ptn/policy-insights/remediation:0.2\nParameters:\nparams: {\n    // Required parameters\n    name: 'pirsubmax001'\n    policyAssignmentId: '<policyAssignmentId>'\n    // Non-required parameters\n    failureThresholdPercentage: '0.5'\n    filtersLocations: []\n    filtersResourceIds: []\n    location: '<location>'\n    parallelDeployments: 1\n    policyDefinitionReferenceId: 'Prerequisite_DeployExtensionWindows'\n    resourceCount: 10\n    resourceDiscoveryMode: 'ReEvaluateCompliance'\n    subscriptionId: '<subscriptionId>'\n  }", "bicep": "module remediation 'br/public:avm/ptn/policy-insights/remediation:0.2' = {\n  name: 'remediationDeployment'\n  params: {\n    // Required parameters\n    name: 'pirsubmax001'\n    policyAssignmentId: '<policyAssignmentId>'\n    // Non-required parameters\n    failureThresholdPercentage: '0.5'\n    filtersLocations: []\n    filtersResourceIds: []\n    location: '<location>'\n    parallelDeployments: 1\n    policyDefinitionReferenceId: 'Prerequisite_DeployExtensionWindows'\n    resourceCount: 10\n    resourceDiscoveryMode: 'ReEvaluateCompliance'\n    subscriptionId: '<subscriptionId>'\n  }\n}"}
{"id": "avm_ptn_sa_build-your-own-copilot_example_1", "source": "avm/ptn/sa/build-your-own-copilot/README.md", "content_to_embed": "Recommended AVM Module for Build-your-own-copilot-Solution-Accelerator: Sandbox configuration with default parameter values - This instance deploys the Build Your Own Copilot Solution Accelerator using only the required parameters. Optional parameters will take the default values, which are designed for Sandbox environments.\nResource Type Path: Sa/BuildYourOwnCopilot\nModule ID: br/public:avm/ptn/sa/build-your-own-copilot:0.1\nParameters:\nparams: {\n    // Required parameters\n    azureAiServiceLocation: '<azureAiServiceLocation>'\n    enableMonitoring: false\n    enablePrivateNetworking: false\n    enablePurgeProtection: false\n    enableRedundancy: false\n    enableScalability: false\n    // Non-required parameters\n    enableTelemetry: true\n  }", "bicep": "module buildYourOwnCopilot 'br/public:avm/ptn/sa/build-your-own-copilot:0.1' = {\n  name: 'buildYourOwnCopilotDeployment'\n  params: {\n    // Required parameters\n    azureAiServiceLocation: '<azureAiServiceLocation>'\n    enableMonitoring: false\n    enablePrivateNetworking: false\n    enablePurgeProtection: false\n    enableRedundancy: false\n    enableScalability: false\n    // Non-required parameters\n    enableTelemetry: true\n  }\n}"}
{"id": "avm_ptn_sa_build-your-own-copilot_example_2", "source": "avm/ptn/sa/build-your-own-copilot/README.md", "content_to_embed": "Recommended AVM Module for Build-your-own-copilot-Solution-Accelerator: Waf-aligned configuration with default parameter values - This instance deploys the Build Your Own Copilot Solution Accelerator\nResource Type Path: Sa/BuildYourOwnCopilot\nModule ID: br/public:avm/ptn/sa/build-your-own-copilot:0.1\nParameters:\nparams: {\n    // Required parameters\n    azureAiServiceLocation: '<azureAiServiceLocation>'\n    enableMonitoring: true\n    enablePrivateNetworking: true\n    enablePurgeProtection: true\n    enableRedundancy: true\n    enableScalability: true\n    // Non-required parameters\n    enableTelemetry: true\n    vmAdminPassword: '<vmAdminPassword>'\n    vmAdminUsername: 'adminuser'\n  }", "bicep": "module buildYourOwnCopilot 'br/public:avm/ptn/sa/build-your-own-copilot:0.1' = {\n  name: 'buildYourOwnCopilotDeployment'\n  params: {\n    // Required parameters\n    azureAiServiceLocation: '<azureAiServiceLocation>'\n    enableMonitoring: true\n    enablePrivateNetworking: true\n    enablePurgeProtection: true\n    enableRedundancy: true\n    enableScalability: true\n    // Non-required parameters\n    enableTelemetry: true\n    vmAdminPassword: '<vmAdminPassword>'\n    vmAdminUsername: 'adminuser'\n  }\n}"}
{"id": "avm_ptn_sa_chat-with-your-data_example_1", "source": "avm/ptn/sa/chat-with-your-data/README.md", "content_to_embed": "Recommended AVM Module for Chat-with-your-data-Solution-Accelerator: Sandbox With Azure Cosmos DB - This deploys the sandbox configuration for Chat with your data Solution Accelerator with database as Azure Cosmos DB.\nResource Type Path: Sa/ChatWithYourData\nModule ID: br/public:avm/ptn/sa/chat-with-your-data:0.1\nParameters:\nparams: {\n    databaseType: 'CosmosDB'\n    location: '<location>'\n    solutionName: '<solutionName>'\n  }", "bicep": "module chatWithYourData 'br/public:avm/ptn/sa/chat-with-your-data:0.1' = {\n  name: 'chatWithYourDataDeployment'\n  params: {\n    databaseType: 'CosmosDB'\n    location: '<location>'\n    solutionName: '<solutionName>'\n  }\n}"}
{"id": "avm_ptn_sa_chat-with-your-data_example_2", "source": "avm/ptn/sa/chat-with-your-data/README.md", "content_to_embed": "Recommended AVM Module for Chat-with-your-data-Solution-Accelerator: Sandbox With Azure Database for PostgreSQL flexible servers - This deploys the sandbox configuration for Chat with your data Solution Accelerator with database as Azure Database for PostgreSQL flexible servers.\nResource Type Path: Sa/ChatWithYourData\nModule ID: br/public:avm/ptn/sa/chat-with-your-data:0.1\nParameters:\nparams: {\n    location: '<location>'\n    solutionName: '<solutionName>'\n  }", "bicep": "module chatWithYourData 'br/public:avm/ptn/sa/chat-with-your-data:0.1' = {\n  name: 'chatWithYourDataDeployment'\n  params: {\n    location: '<location>'\n    solutionName: '<solutionName>'\n  }\n}"}
{"id": "avm_ptn_sa_chat-with-your-data_example_3", "source": "avm/ptn/sa/chat-with-your-data/README.md", "content_to_embed": "Recommended AVM Module for Chat-with-your-data-Solution-Accelerator: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework\nResource Type Path: Sa/ChatWithYourData\nModule ID: br/public:avm/ptn/sa/chat-with-your-data:0.1\nParameters:\nparams: {\n    enableMonitoring: true\n    enablePrivateNetworking: true\n    enableRedundancy: true\n    enableScalability: true\n    enableTelemetry: true\n    location: '<location>'\n    solutionName: '<solutionName>'\n    virtualMachineAdminPassword: '<virtualMachineAdminPassword>'\n    virtualMachineAdminUsername: 'adminuser'\n  }", "bicep": "module chatWithYourData 'br/public:avm/ptn/sa/chat-with-your-data:0.1' = {\n  name: 'chatWithYourDataDeployment'\n  params: {\n    enableMonitoring: true\n    enablePrivateNetworking: true\n    enableRedundancy: true\n    enableScalability: true\n    enableTelemetry: true\n    location: '<location>'\n    solutionName: '<solutionName>'\n    virtualMachineAdminPassword: '<virtualMachineAdminPassword>'\n    virtualMachineAdminUsername: 'adminuser'\n  }\n}"}
{"id": "avm_ptn_sa_content-processing_example_1", "source": "avm/ptn/sa/content-processing/README.md", "content_to_embed": "Recommended AVM Module for Content Processing Solution Accelerator: Waf-aligned configuration with default parameter values - This instance deploys the Content Processing Solution Accelerator\nResource Type Path: Sa/ContentProcessing\nModule ID: br/public:avm/ptn/sa/content-processing:0.1\nParameters:\nparams: {\n    // Required parameters\n    contentUnderstandingLocation: '<contentUnderstandingLocation>'\n    environmentName: 'scpeg'\n    gptDeploymentCapacity: 1\n    // Non-required parameters\n    enablePrivateNetworking: true\n    enableScaling: true\n    enableTelemetry: true\n  }", "bicep": "module contentProcessing 'br/public:avm/ptn/sa/content-processing:0.1' = {\n  name: 'contentProcessingDeployment'\n  params: {\n    // Required parameters\n    contentUnderstandingLocation: '<contentUnderstandingLocation>'\n    environmentName: 'scpeg'\n    gptDeploymentCapacity: 1\n    // Non-required parameters\n    enablePrivateNetworking: true\n    enableScaling: true\n    enableTelemetry: true\n  }\n}"}
{"id": "avm_ptn_sa_content-processing_example_2", "source": "avm/ptn/sa/content-processing/README.md", "content_to_embed": "Recommended AVM Module for Content Processing Solution Accelerator: Sandbox configuration with default parameter values - This instance deploys the Content Processing Solution Accelerator using only the required parameters. Optional parameters will take the default values, which are designed for Sandbox environments.\nResource Type Path: Sa/ContentProcessing\nModule ID: br/public:avm/ptn/sa/content-processing:0.1\nParameters:\nparams: {\n    // Required parameters\n    contentUnderstandingLocation: '<contentUnderstandingLocation>'\n    environmentName: 'scpmin'\n    gptDeploymentCapacity: 1\n    // Non-required parameters\n    enablePrivateNetworking: false\n  }", "bicep": "module contentProcessing 'br/public:avm/ptn/sa/content-processing:0.1' = {\n  name: 'contentProcessingDeployment'\n  params: {\n    // Required parameters\n    contentUnderstandingLocation: '<contentUnderstandingLocation>'\n    environmentName: 'scpmin'\n    gptDeploymentCapacity: 1\n    // Non-required parameters\n    enablePrivateNetworking: false\n  }\n}"}
{"id": "avm_ptn_sa_conversation-knowledge-mining_example_1", "source": "avm/ptn/sa/conversation-knowledge-mining/README.md", "content_to_embed": "Recommended AVM Module for Conversation Knowledge Mining Solution Accelerator: Sandbox configuration with default parameter values - This instance deploys the [Conversation Knowledge Mining Solution Accelerator](https://github.com/microsoft/Conversation-Knowledge-Mining-Solution-Accelerator) using only the required parameters. Optional parameters will take the default values, which are designed for Sandbox environments.\nResource Type Path: Sa/ConversationKnowledgeMining\nModule ID: br/public:avm/ptn/sa/conversation-knowledge-mining:0.1\nParameters:\nparams: {\n    solutionPrefix: 'sbxdft'\n  }", "bicep": "module conversationKnowledgeMining 'br/public:avm/ptn/sa/conversation-knowledge-mining:0.1' = {\n  name: 'conversationKnowledgeMiningDeployment'\n  params: {\n    solutionPrefix: 'sbxdft'\n  }\n}"}
{"id": "avm_ptn_sa_document-knowledge-mining_example_1", "source": "avm/ptn/sa/document-knowledge-mining/README.md", "content_to_embed": "Recommended AVM Module for Document Knowledge Mining Solution: Default configuration with enterprise-grade parameter values - This test deploys the Document Knowledge Mining Solution Accelerator using parameters that deploy the enterprise-grade configuration.\nResource Type Path: Sa/DocumentKnowledgeMining\nModule ID: br/public:avm/ptn/sa/document-knowledge-mining:0.1\nParameters:\nparams: {\n    // Required parameters\n    aiDeploymentsLocation: '<aiDeploymentsLocation>'\n    enableMonitoring: true\n    enablePrivateNetworking: true\n    enableRedundancy: true\n    enableScalability: true\n    // Non-required parameters\n    createdBy: 'AVM_Pipeline'\n    enableTelemetry: true\n    location: '<location>'\n    vmAdminPassword: '<vmAdminPassword>'\n    vmAdminUsername: 'adminuser'\n  }", "bicep": "module documentKnowledgeMining 'br/public:avm/ptn/sa/document-knowledge-mining:0.1' = {\n  name: 'documentKnowledgeMiningDeployment'\n  params: {\n    // Required parameters\n    aiDeploymentsLocation: '<aiDeploymentsLocation>'\n    enableMonitoring: true\n    enablePrivateNetworking: true\n    enableRedundancy: true\n    enableScalability: true\n    // Non-required parameters\n    createdBy: 'AVM_Pipeline'\n    enableTelemetry: true\n    location: '<location>'\n    vmAdminPassword: '<vmAdminPassword>'\n    vmAdminUsername: 'adminuser'\n  }\n}"}
{"id": "avm_ptn_sa_document-knowledge-mining_example_2", "source": "avm/ptn/sa/document-knowledge-mining/README.md", "content_to_embed": "Recommended AVM Module for Document Knowledge Mining Solution: Sandbox configuration with default parameter values - This test deploys the sandbox configuration for Document Knowledge Mining Solution Accelerator with default parameters.\nResource Type Path: Sa/DocumentKnowledgeMining\nModule ID: br/public:avm/ptn/sa/document-knowledge-mining:0.1\nParameters:\nparams: {\n    // Required parameters\n    aiDeploymentsLocation: '<aiDeploymentsLocation>'\n    enableMonitoring: false\n    enablePrivateNetworking: false\n    enableRedundancy: false\n    enableScalability: false\n    // Non-required parameters\n    createdBy: 'AVM_Pipeline'\n    enableTelemetry: true\n    location: '<location>'\n  }", "bicep": "module documentKnowledgeMining 'br/public:avm/ptn/sa/document-knowledge-mining:0.1' = {\n  name: 'documentKnowledgeMiningDeployment'\n  params: {\n    // Required parameters\n    aiDeploymentsLocation: '<aiDeploymentsLocation>'\n    enableMonitoring: false\n    enablePrivateNetworking: false\n    enableRedundancy: false\n    enableScalability: false\n    // Non-required parameters\n    createdBy: 'AVM_Pipeline'\n    enableTelemetry: true\n    location: '<location>'\n  }\n}"}
{"id": "avm_ptn_sa_modernize-your-code_example_1", "source": "avm/ptn/sa/modernize-your-code/README.md", "content_to_embed": "Recommended AVM Module for Modernize Your Code Solution Accelerator: Default configuration with enterprise-grade parameter values - This instance deploys the [Modernize Your Code Solution Accelerator](https://github.com/microsoft/Modernize-Your-Code-Solution-Accelerator) using parameters that deploy the enterprise-grade configuration.\nResource Type Path: Sa/ModernizeYourCode\nModule ID: br/public:avm/ptn/sa/modernize-your-code:0.1\nParameters:\nparams: {\n    // Required parameters\n    solutionName: 'samyceg001'\n    // Non-required parameters\n    azureAiServiceLocation: '<azureAiServiceLocation>'\n    enableMonitoring: true\n    enablePrivateNetworking: true\n    enableRedundancy: true\n    enableScaling: true\n    location: '<location>'\n    vmAdminPassword: '<vmAdminPassword>'\n    vmAdminUsername: 'adminuser'\n  }", "bicep": "module modernizeYourCode 'br/public:avm/ptn/sa/modernize-your-code:0.1' = {\n  name: 'modernizeYourCodeDeployment'\n  params: {\n    // Required parameters\n    solutionName: 'samyceg001'\n    // Non-required parameters\n    azureAiServiceLocation: '<azureAiServiceLocation>'\n    enableMonitoring: true\n    enablePrivateNetworking: true\n    enableRedundancy: true\n    enableScaling: true\n    location: '<location>'\n    vmAdminPassword: '<vmAdminPassword>'\n    vmAdminUsername: 'adminuser'\n  }\n}"}
{"id": "avm_ptn_sa_modernize-your-code_example_2", "source": "avm/ptn/sa/modernize-your-code/README.md", "content_to_embed": "Recommended AVM Module for Modernize Your Code Solution Accelerator: Sandbox configuration with default parameter values - This instance deploys the [Modernize Your Code Solution Accelerator](https://github.com/microsoft/Modernize-Your-Code-Solution-Accelerator) using only the required parameters. Optional parameters will take the default values, which are designed for Sandbox environments.\nResource Type Path: Sa/ModernizeYourCode\nModule ID: br/public:avm/ptn/sa/modernize-your-code:0.1\nParameters:\nparams: {\n    // Required parameters\n    solutionName: 'samycmin001'\n    // Non-required parameters\n    location: '<location>'\n  }", "bicep": "module modernizeYourCode 'br/public:avm/ptn/sa/modernize-your-code:0.1' = {\n  name: 'modernizeYourCodeDeployment'\n  params: {\n    // Required parameters\n    solutionName: 'samycmin001'\n    // Non-required parameters\n    location: '<location>'\n  }\n}"}
{"id": "avm_ptn_sa_multi-agent-custom-automation-engine_example_1", "source": "avm/ptn/sa/multi-agent-custom-automation-engine/README.md", "content_to_embed": "Recommended AVM Module for Multi-Agent Custom Automation Engine: Default configuration with WAF aligned parameter values - This instance deploys the [Multi-Agent Custom Automation Engine solution accelerator](https://github.com/microsoft/Multi-Agent-Custom-Automation-Engine-Solution-Accelerator) using parameters that deploy the [WAF aligned](https://learn.microsoft.com/azure/well-architected/) configuration.\nResource Type Path: Sa/MultiAgentCustomAutomationEngine\nModule ID: br/public:avm/ptn/sa/multi-agent-custom-automation-engine:0.1\nParameters:\nparams: {\n    enableMonitoring: true\n    enablePrivateNetworking: true\n    enableRedundancy: true\n    enableScalability: true\n    enableTelemetry: true\n    solutionPrefix: 'macaewaf'\n    virtualMachineAdminPassword: '<virtualMachineAdminPassword>'\n    virtualMachineAdminUsername: 'adminuser'\n  }", "bicep": "module multiAgentCustomAutomationEngine 'br/public:avm/ptn/sa/multi-agent-custom-automation-engine:0.1' = {\n  name: 'multiAgentCustomAutomationEngineDeployment'\n  params: {\n    enableMonitoring: true\n    enablePrivateNetworking: true\n    enableRedundancy: true\n    enableScalability: true\n    enableTelemetry: true\n    solutionPrefix: 'macaewaf'\n    virtualMachineAdminPassword: '<virtualMachineAdminPassword>'\n    virtualMachineAdminUsername: 'adminuser'\n  }\n}"}
{"id": "avm_ptn_sa_multi-agent-custom-automation-engine_example_2", "source": "avm/ptn/sa/multi-agent-custom-automation-engine/README.md", "content_to_embed": "Recommended AVM Module for Multi-Agent Custom Automation Engine: Default configuration with default parameter values - This instance deploys the [Multi-Agent Custom Automation Engine solution accelerator](https://github.com/microsoft/Multi-Agent-Custom-Automation-Engine-Solution-Accelerator) using only the required parameters. Optional parameters will take the default values, which are designed for Sandbox environments.\nResource Type Path: Sa/MultiAgentCustomAutomationEngine\nModule ID: br/public:avm/ptn/sa/multi-agent-custom-automation-engine:0.1\nParameters:\nparams: {\n    solutionPrefix: 'macaemin'\n  }", "bicep": "module multiAgentCustomAutomationEngine 'br/public:avm/ptn/sa/multi-agent-custom-automation-engine:0.1' = {\n  name: 'multiAgentCustomAutomationEngineDeployment'\n  params: {\n    solutionPrefix: 'macaemin'\n  }\n}"}
{"id": "avm_ptn_security_security-center_example_1", "source": "avm/ptn/security/security-center/README.md", "content_to_embed": "Recommended AVM Module for Azure Security Center (Defender for Cloud): Using default parameter set - This instance deploys the module with default parameters.\nResource Type Path: Security/SecurityCenter\nModule ID: br/public:avm/ptn/security/security-center:0.1\nParameters:\nparams: {\n    // Required parameters\n    scope: '<scope>'\n    workspaceResourceId: '<workspaceResourceId>'\n    // Non-required parameters\n    location: '<location>'\n  }", "bicep": "module securityCenter 'br/public:avm/ptn/security/security-center:0.1' = {\n  name: 'securityCenterDeployment'\n  params: {\n    // Required parameters\n    scope: '<scope>'\n    workspaceResourceId: '<workspaceResourceId>'\n    // Non-required parameters\n    location: '<location>'\n  }\n}"}
{"id": "avm_ptn_security_security-center_example_2", "source": "avm/ptn/security/security-center/README.md", "content_to_embed": "Recommended AVM Module for Azure Security Center (Defender for Cloud): Using default parameter set - This instance deploys the module with default parameters.\nResource Type Path: Security/SecurityCenter\nModule ID: br/public:avm/ptn/security/security-center:0.1\nParameters:\nparams: {\n    // Required parameters\n    scope: '<scope>'\n    workspaceResourceId: '<workspaceResourceId>'\n    // Non-required parameters\n    deviceSecurityGroupProperties: {}\n    ioTSecuritySolutionProperties: {}\n    location: '<location>'\n    securityContactProperties: {\n      alertNotifications: 'Off'\n      alertsToAdmins: 'Off'\n      email: 'foo@contoso.com'\n      phone: '+12345678'\n    }\n  }", "bicep": "module securityCenter 'br/public:avm/ptn/security/security-center:0.1' = {\n  name: 'securityCenterDeployment'\n  params: {\n    // Required parameters\n    scope: '<scope>'\n    workspaceResourceId: '<workspaceResourceId>'\n    // Non-required parameters\n    deviceSecurityGroupProperties: {}\n    ioTSecuritySolutionProperties: {}\n    location: '<location>'\n    securityContactProperties: {\n      alertNotifications: 'Off'\n      alertsToAdmins: 'Off'\n      email: 'foo@contoso.com'\n      phone: '+12345678'\n    }\n  }\n}"}
{"id": "avm_ptn_security_security-center_example_3", "source": "avm/ptn/security/security-center/README.md", "content_to_embed": "Recommended AVM Module for Azure Security Center (Defender for Cloud): WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Security/SecurityCenter\nModule ID: br/public:avm/ptn/security/security-center:0.1\nParameters:\nparams: {\n    // Required parameters\n    scope: '<scope>'\n    workspaceResourceId: '<workspaceResourceId>'\n    // Non-required parameters\n    location: '<location>'\n  }", "bicep": "module securityCenter 'br/public:avm/ptn/security/security-center:0.1' = {\n  name: 'securityCenterDeployment'\n  params: {\n    // Required parameters\n    scope: '<scope>'\n    workspaceResourceId: '<workspaceResourceId>'\n    // Non-required parameters\n    location: '<location>'\n  }\n}"}
{"id": "avm_ptn_subscription_service-health-alerts_example_1", "source": "avm/ptn/subscription/service-health-alerts/README.md", "content_to_embed": "Recommended AVM Module for Azure Service Health Alerts: Deploying multiple service health alerts. - This instance deploys the module with the maximum set of required parameters.\nResource Type Path: Subscription/ServiceHealthAlerts\nModule ID: br/public:avm/ptn/subscription/service-health-alerts:0.1\nParameters:\nparams: {\n    enableTelemetry: true\n    location: '<location>'\n    serviceHealthAlerts: [\n      {\n        actionGroup: {\n          armRoleReceivers: [\n            {\n              name: 'armRoleReceiverOwner-ashalt'\n              roleId: '8e3af657-a8ff-443c-a75c-2fe8c4bcb635'\n            }\n          ]\n          emailReceivers: [\n            {\n              emailAddress: 'admin@contoso.com'\n              name: 'emailReceiver-ashalt'\n            }\n          ]\n          enabled: true\n          name: 'actionGroup-ashalt'\n        }\n        alertDescription: 'Service Health Incident'\n        isEnabled: true\n        serviceHealthAlert: 'Service Health Incident'\n      }\n    ]\n    serviceHealthAlertsResourceGroupName: '<serviceHealthAlertsResourceGroupName>'\n    subscriptionId: '<subscriptionId>'\n  }", "bicep": "module serviceHealthAlerts 'br/public:avm/ptn/subscription/service-health-alerts:0.1' = {\n  name: 'serviceHealthAlertsDeployment'\n  params: {\n    enableTelemetry: true\n    location: '<location>'\n    serviceHealthAlerts: [\n      {\n        actionGroup: {\n          armRoleReceivers: [\n            {\n              name: 'armRoleReceiverOwner-ashalt'\n              roleId: '8e3af657-a8ff-443c-a75c-2fe8c4bcb635'\n            }\n          ]\n          emailReceivers: [\n            {\n              emailAddress: 'admin@contoso.com'\n              name: 'emailReceiver-ashalt'\n            }\n          ]\n          enabled: true\n          name: 'actionGroup-ashalt'\n        }\n        alertDescription: 'Service Health Incident'\n        isEnabled: true\n        serviceHealthAlert: 'Service Health Incident'\n      }\n    ]\n    serviceHealthAlertsResourceGroupName: '<serviceHealthAlertsResourceGroupName>'\n    subscriptionId: '<subscriptionId>'\n  }\n}"}
{"id": "avm_ptn_subscription_service-health-alerts_example_2", "source": "avm/ptn/subscription/service-health-alerts/README.md", "content_to_embed": "Recommended AVM Module for Azure Service Health Alerts: Using only defaults. - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Subscription/ServiceHealthAlerts\nModule ID: br/public:avm/ptn/subscription/service-health-alerts:0.1\nParameters:\nparams: {\n    enableTelemetry: true\n    location: '<location>'\n    serviceHealthAlertsResourceGroupName: 'dep-ash-ashmin-rg'\n    subscriptionId: '<subscriptionId>'\n  }", "bicep": "module serviceHealthAlerts 'br/public:avm/ptn/subscription/service-health-alerts:0.1' = {\n  name: 'serviceHealthAlertsDeployment'\n  params: {\n    enableTelemetry: true\n    location: '<location>'\n    serviceHealthAlertsResourceGroupName: 'dep-ash-ashmin-rg'\n    subscriptionId: '<subscriptionId>'\n  }\n}"}
{"id": "avm_ptn_subscription_service-health-alerts_example_3", "source": "avm/ptn/subscription/service-health-alerts/README.md", "content_to_embed": "Recommended AVM Module for Azure Service Health Alerts: Deploying multiple service health alerts with an existing action group. - This instance deploys the module with a reference to an existing action group.\nResource Type Path: Subscription/ServiceHealthAlerts\nModule ID: br/public:avm/ptn/subscription/service-health-alerts:0.1\nParameters:\nparams: {\n    location: '<location>'\n    serviceHealthAlerts: [\n      {\n        actionGroup: {\n          enabled: true\n          existingActionGroupResourceId: '<existingActionGroupResourceId>'\n        }\n        alertDescription: 'Service Health Advisory'\n        isEnabled: true\n        serviceHealthAlert: 'Service Health Advisory'\n      }\n      {\n        actionGroup: {\n          enabled: true\n          existingActionGroupResourceId: '<existingActionGroupResourceId>'\n        }\n        alertDescription: 'Service Health Incident'\n        isEnabled: true\n        serviceHealthAlert: 'Service Health Incident'\n      }\n    ]\n    serviceHealthAlertsResourceGroupName: '<serviceHealthAlertsResourceGroupName>'\n    subscriptionId: '<subscriptionId>'\n  }", "bicep": "module serviceHealthAlerts 'br/public:avm/ptn/subscription/service-health-alerts:0.1' = {\n  name: 'serviceHealthAlertsDeployment'\n  params: {\n    location: '<location>'\n    serviceHealthAlerts: [\n      {\n        actionGroup: {\n          enabled: true\n          existingActionGroupResourceId: '<existingActionGroupResourceId>'\n        }\n        alertDescription: 'Service Health Advisory'\n        isEnabled: true\n        serviceHealthAlert: 'Service Health Advisory'\n      }\n      {\n        actionGroup: {\n          enabled: true\n          existingActionGroupResourceId: '<existingActionGroupResourceId>'\n        }\n        alertDescription: 'Service Health Incident'\n        isEnabled: true\n        serviceHealthAlert: 'Service Health Incident'\n      }\n    ]\n    serviceHealthAlertsResourceGroupName: '<serviceHealthAlertsResourceGroupName>'\n    subscriptionId: '<subscriptionId>'\n  }\n}"}
{"id": "avm_ptn_virtual-machine-images_azure-image-builder_example_1", "source": "avm/ptn/virtual-machine-images/azure-image-builder/README.md", "content_to_embed": "Recommended AVM Module for Custom Images using Azure Image Builder: Using small parameter set - This instance deploys the module with min features enabled.\nResource Type Path: VirtualMachineImages/AzureImageBuilder\nModule ID: br/public:avm/ptn/virtual-machine-images/azure-image-builder:0.2\nParameters:\nparams: {\n    // Required parameters\n    computeGalleryImageDefinitionName: '<computeGalleryImageDefinitionName>'\n    computeGalleryImageDefinitions: [\n      {\n        hyperVGeneration: 'V2'\n        identifier: {\n          offer: 'devops_linux'\n          publisher: 'devops'\n          sku: 'devops_linux_az'\n        }\n        name: 'sid-linux'\n        osState: 'Generalized'\n        osType: 'Linux'\n      }\n    ]\n    computeGalleryName: 'galapvmiaibmin'\n    imageTemplateImageSource: {\n      offer: 'ubuntu-24_04-lts'\n      publisher: 'canonical'\n      sku: 'server'\n      type: 'PlatformImage'\n      version: 'latest'\n    }\n    // Non-required parameters\n    assetsStorageAccountName: 'stapvmiaibmin'\n    deploymentsToPerform: '<deploymentsToPerform>'\n    location: '<location>'\n    resourceGroupName: '<resourceGroupName>'\n  }", "bicep": "module azureImageBuilder 'br/public:avm/ptn/virtual-machine-images/azure-image-builder:0.2' = {\n  name: 'azureImageBuilderDeployment'\n  params: {\n    // Required parameters\n    computeGalleryImageDefinitionName: '<computeGalleryImageDefinitionName>'\n    computeGalleryImageDefinitions: [\n      {\n        hyperVGeneration: 'V2'\n        identifier: {\n          offer: 'devops_linux'\n          publisher: 'devops'\n          sku: 'devops_linux_az'\n        }\n        name: 'sid-linux'\n        osState: 'Generalized'\n        osType: 'Linux'\n      }\n    ]\n    computeGalleryName: 'galapvmiaibmin'\n    imageTemplateImageSource: {\n      offer: 'ubuntu-24_04-lts'\n      publisher: 'canonical'\n      sku: 'server'\n      type: 'PlatformImage'\n      version: 'latest'\n    }\n    // Non-required parameters\n    assetsStorageAccountName: 'stapvmiaibmin'\n    deploymentsToPerform: '<deploymentsToPerform>'\n    location: '<location>'\n    resourceGroupName: '<resourceGroupName>'\n  }\n}"}
{"id": "avm_ptn_virtual-machine-images_azure-image-builder_example_2", "source": "avm/ptn/virtual-machine-images/azure-image-builder/README.md", "content_to_embed": "Recommended AVM Module for Custom Images using Azure Image Builder: Deploying full solution for Linux - This instance deploys the module with the conditions set up to deploy all resource and build a Linux image.\nResource Type Path: VirtualMachineImages/AzureImageBuilder\nModule ID: br/public:avm/ptn/virtual-machine-images/azure-image-builder:0.2\nParameters:\nparams: {\n    // Required parameters\n    computeGalleryImageDefinitionName: '<computeGalleryImageDefinitionName>'\n    computeGalleryImageDefinitions: [\n      {\n        hyperVGeneration: 'V2'\n        identifier: {\n          offer: 'devops_linux'\n          publisher: 'devops'\n          sku: 'devops_linux_az'\n        }\n        name: '<name>'\n        osState: 'Generalized'\n        osType: 'Linux'\n      }\n    ]\n    computeGalleryName: 'galapvmiaibal'\n    imageTemplateImageSource: {\n      offer: '0001-com-ubuntu-server-jammy'\n      publisher: 'canonical'\n      sku: '22_04-lts-gen2'\n      type: 'PlatformImage'\n      version: 'latest'\n    }\n    // Non-required parameters\n    assetsStorageAccountContainerName: '<assetsStorageAccountContainerName>'\n    assetsStorageAccountName: '<assetsStorageAccountName>'\n    deploymentsToPerform: '<deploymentsToPerform>'\n    imageTemplateCustomizationSteps: [\n      {\n        name: 'PowerShell Core installation'\n        scriptUri: '<scriptUri>'\n        type: 'Shell'\n      }\n      {\n        destination: '<destination>'\n        name: '<name>'\n        sourceUri: '<sourceUri>'\n        type: 'File'\n      }\n      {\n        inline: [\n          'pwsh \\'<value>\\''\n        ]\n        name: 'Software installation'\n        type: 'Shell'\n      }\n    ]\n    location: '<location>'\n    resourceGroupName: '<resourceGroupName>'\n    storageAccountFilesToUpload: [\n      {\n        name: '<name>'\n        value: '<value>'\n      }\n      {\n        name: '<name>'\n        value: '<value>'\n      }\n    ]\n  }", "bicep": "module azureImageBuilder 'br/public:avm/ptn/virtual-machine-images/azure-image-builder:0.2' = {\n  name: 'azureImageBuilderDeployment'\n  params: {\n    // Required parameters\n    computeGalleryImageDefinitionName: '<computeGalleryImageDefinitionName>'\n    computeGalleryImageDefinitions: [\n      {\n        hyperVGeneration: 'V2'\n        identifier: {\n          offer: 'devops_linux'\n          publisher: 'devops'\n          sku: 'devops_linux_az'\n        }\n        name: '<name>'\n        osState: 'Generalized'\n        osType: 'Linux'\n      }\n    ]\n    computeGalleryName: 'galapvmiaibal'\n    imageTemplateImageSource: {\n      offer: '0001-com-ubuntu-server-jammy'\n      publisher: 'canonical'\n      sku: '22_04-lts-gen2'\n      type: 'PlatformImage'\n      version: 'latest'\n    }\n    // Non-required parameters\n    assetsStorageAccountContainerName: '<assetsStorageAccountContainerName>'\n    assetsStorageAccountName: '<assetsStorageAccountName>'\n    deploymentsToPerform: '<deploymentsToPerform>'\n    imageTemplateCustomizationSteps: [\n      {\n        name: 'PowerShell Core installation'\n        scriptUri: '<scriptUri>'\n        type: 'Shell'\n      }\n      {\n        destination: '<destination>'\n        name: '<name>'\n        sourceUri: '<sourceUri>'\n        type: 'File'\n      }\n      {\n        inline: [\n          'pwsh \\'<value>\\''\n        ]\n        name: 'Software installation'\n        type: 'Shell'\n      }\n    ]\n    location: '<location>'\n    resourceGroupName: '<resourceGroupName>'\n    storageAccountFilesToUpload: [\n      {\n        name: '<name>'\n        value: '<value>'\n      }\n      {\n        name: '<name>'\n        value: '<value>'\n      }\n    ]\n  }\n}"}
{"id": "avm_ptn_virtual-machine-images_azure-image-builder_example_3", "source": "avm/ptn/virtual-machine-images/azure-image-builder/README.md", "content_to_embed": "Recommended AVM Module for Custom Images using Azure Image Builder: Deploying full solution for Windows - This instance deploys the module with the conditions set up to deploy all resource and build a Windows image.\nResource Type Path: VirtualMachineImages/AzureImageBuilder\nModule ID: br/public:avm/ptn/virtual-machine-images/azure-image-builder:0.2\nParameters:\nparams: {\n    // Required parameters\n    computeGalleryImageDefinitionName: '<computeGalleryImageDefinitionName>'\n    computeGalleryImageDefinitions: [\n      {\n        hyperVGeneration: 'V2'\n        identifier: {\n          offer: 'devops_windows'\n          publisher: 'devops'\n          sku: 'devops_windows_az'\n        }\n        name: '<name>'\n        osState: 'Generalized'\n        osType: 'Windows'\n      }\n    ]\n    computeGalleryName: 'galapvmiaibaw'\n    imageTemplateImageSource: {\n      offer: 'Windows-11'\n      publisher: 'MicrosoftWindowsDesktop'\n      sku: 'win11-24h2-avd'\n      type: 'PlatformImage'\n      version: 'latest'\n    }\n    // Non-required parameters\n    assetsStorageAccountContainerName: '<assetsStorageAccountContainerName>'\n    assetsStorageAccountName: '<assetsStorageAccountName>'\n    deploymentsToPerform: '<deploymentsToPerform>'\n    imageTemplateCustomizationSteps: [\n      {\n        name: 'PowerShell Core installation'\n        scriptUri: '<scriptUri>'\n        type: 'PowerShell'\n      }\n      {\n        destination: '<destination>'\n        name: '<name>'\n        sourceUri: '<sourceUri>'\n        type: 'File'\n      }\n      {\n        inline: [\n          'pwsh \\'<value>\\''\n        ]\n        name: 'Software installation'\n        type: 'PowerShell'\n      }\n    ]\n    imageTemplateResourceGroupName: ''\n    location: '<location>'\n    resourceGroupName: '<resourceGroupName>'\n    storageAccountFilesToUpload: [\n      {\n        name: '<name>'\n        value: '<value>'\n      }\n      {\n        name: '<name>'\n        value: '<value>'\n      }\n    ]\n  }", "bicep": "module azureImageBuilder 'br/public:avm/ptn/virtual-machine-images/azure-image-builder:0.2' = {\n  name: 'azureImageBuilderDeployment'\n  params: {\n    // Required parameters\n    computeGalleryImageDefinitionName: '<computeGalleryImageDefinitionName>'\n    computeGalleryImageDefinitions: [\n      {\n        hyperVGeneration: 'V2'\n        identifier: {\n          offer: 'devops_windows'\n          publisher: 'devops'\n          sku: 'devops_windows_az'\n        }\n        name: '<name>'\n        osState: 'Generalized'\n        osType: 'Windows'\n      }\n    ]\n    computeGalleryName: 'galapvmiaibaw'\n    imageTemplateImageSource: {\n      offer: 'Windows-11'\n      publisher: 'MicrosoftWindowsDesktop'\n      sku: 'win11-24h2-avd'\n      type: 'PlatformImage'\n      version: 'latest'\n    }\n    // Non-required parameters\n    assetsStorageAccountContainerName: '<assetsStorageAccountContainerName>'\n    assetsStorageAccountName: '<assetsStorageAccountName>'\n    deploymentsToPerform: '<deploymentsToPerform>'\n    imageTemplateCustomizationSteps: [\n      {\n        name: 'PowerShell Core installation'\n        scriptUri: '<scriptUri>'\n        type: 'PowerShell'\n      }\n      {\n        destination: '<destination>'\n        name: '<name>'\n        sourceUri: '<sourceUri>'\n        type: 'File'\n      }\n      {\n        inline: [\n          'pwsh \\'<value>\\''\n        ]\n        name: 'Software installation'\n        type: 'PowerShell'\n      }\n    ]\n    imageTemplateResourceGroupName: ''\n    location: '<location>'\n    resourceGroupName: '<resourceGroupName>'\n    storageAccountFilesToUpload: [\n      {\n        name: '<name>'\n        value: '<value>'\n      }\n      {\n        name: '<name>'\n        value: '<value>'\n      }\n    ]\n  }\n}"}
{"id": "avm_ptn_virtual-machine-images_azure-image-builder_example_4", "source": "avm/ptn/virtual-machine-images/azure-image-builder/README.md", "content_to_embed": "Recommended AVM Module for Custom Images using Azure Image Builder: Deploying only the assets & image - This instance deploys the module with the conditions set up to only update the assets on the assets storage account and build the image, assuming all dependencies are setup.\nResource Type Path: VirtualMachineImages/AzureImageBuilder\nModule ID: br/public:avm/ptn/virtual-machine-images/azure-image-builder:0.2\nParameters:\nparams: {\n    // Required parameters\n    computeGalleryImageDefinitionName: '<computeGalleryImageDefinitionName>'\n    computeGalleryImageDefinitions: '<computeGalleryImageDefinitions>'\n    computeGalleryName: '<computeGalleryName>'\n    imageTemplateImageSource: {\n      offer: 'ubuntu-24_04-lts'\n      publisher: 'canonical'\n      sku: 'server'\n      type: 'PlatformImage'\n      version: 'latest'\n    }\n    // Non-required parameters\n    assetsStorageAccountContainerName: '<assetsStorageAccountContainerName>'\n    assetsStorageAccountName: '<assetsStorageAccountName>'\n    deploymentScriptManagedIdentityName: '<deploymentScriptManagedIdentityName>'\n    deploymentScriptStorageAccountName: '<deploymentScriptStorageAccountName>'\n    deploymentScriptSubnetName: '<deploymentScriptSubnetName>'\n    deploymentsToPerform: 'Only assets & image'\n    imageContainerInstanceSubnetName: '<imageContainerInstanceSubnetName>'\n    imageManagedIdentityName: '<imageManagedIdentityName>'\n    imageSubnetName: '<imageSubnetName>'\n    imageTemplateCustomizationSteps: [\n      {\n        name: 'Example script'\n        scriptUri: '<scriptUri>'\n        type: 'Shell'\n      }\n    ]\n    imageTemplateResourceGroupName: '<imageTemplateResourceGroupName>'\n    location: '<location>'\n    resourceGroupName: '<resourceGroupName>'\n    storageAccountFilesToUpload: [\n      {\n        name: '<name>'\n        value: '<value>'\n      }\n    ]\n    virtualNetworkName: '<virtualNetworkName>'\n  }", "bicep": "module azureImageBuilder 'br/public:avm/ptn/virtual-machine-images/azure-image-builder:0.2' = {\n  name: 'azureImageBuilderDeployment'\n  params: {\n    // Required parameters\n    computeGalleryImageDefinitionName: '<computeGalleryImageDefinitionName>'\n    computeGalleryImageDefinitions: '<computeGalleryImageDefinitions>'\n    computeGalleryName: '<computeGalleryName>'\n    imageTemplateImageSource: {\n      offer: 'ubuntu-24_04-lts'\n      publisher: 'canonical'\n      sku: 'server'\n      type: 'PlatformImage'\n      version: 'latest'\n    }\n    // Non-required parameters\n    assetsStorageAccountContainerName: '<assetsStorageAccountContainerName>'\n    assetsStorageAccountName: '<assetsStorageAccountName>'\n    deploymentScriptManagedIdentityName: '<deploymentScriptManagedIdentityName>'\n    deploymentScriptStorageAccountName: '<deploymentScriptStorageAccountName>'\n    deploymentScriptSubnetName: '<deploymentScriptSubnetName>'\n    deploymentsToPerform: 'Only assets & image'\n    imageContainerInstanceSubnetName: '<imageContainerInstanceSubnetName>'\n    imageManagedIdentityName: '<imageManagedIdentityName>'\n    imageSubnetName: '<imageSubnetName>'\n    imageTemplateCustomizationSteps: [\n      {\n        name: 'Example script'\n        scriptUri: '<scriptUri>'\n        type: 'Shell'\n      }\n    ]\n    imageTemplateResourceGroupName: '<imageTemplateResourceGroupName>'\n    location: '<location>'\n    resourceGroupName: '<resourceGroupName>'\n    storageAccountFilesToUpload: [\n      {\n        name: '<name>'\n        value: '<value>'\n      }\n    ]\n    virtualNetworkName: '<virtualNetworkName>'\n  }\n}"}
{"id": "avm_ptn_virtual-machine-images_azure-image-builder_example_5", "source": "avm/ptn/virtual-machine-images/azure-image-builder/README.md", "content_to_embed": "Recommended AVM Module for Custom Images using Azure Image Builder: Deploying only the base services - This instance deploys the module with the conditions set up to only deploy the base resources, that is everything but the image.\nResource Type Path: VirtualMachineImages/AzureImageBuilder\nModule ID: br/public:avm/ptn/virtual-machine-images/azure-image-builder:0.2\nParameters:\nparams: {\n    // Required parameters\n    computeGalleryImageDefinitionName: '<computeGalleryImageDefinitionName>'\n    computeGalleryImageDefinitions: [\n      {\n        hyperVGeneration: 'V2'\n        identifier: {\n          offer: 'devops_linux'\n          publisher: 'devops'\n          sku: 'devops_linux_az'\n        }\n        name: '<name>'\n        osState: 'Generalized'\n        osType: 'Linux'\n      }\n    ]\n    computeGalleryName: 'galapvmiaibob'\n    imageTemplateImageSource: {\n      offer: 'ubuntu-24_04-lts'\n      publisher: 'canonical'\n      sku: 'server'\n      type: 'PlatformImage'\n      version: 'latest'\n    }\n    // Non-required parameters\n    assetsStorageAccountName: 'stapvmiaibob'\n    deploymentsToPerform: 'Only base'\n    imageManagedIdentityName: 'msi-it-apvmiaibob'\n    location: '<location>'\n    resourceGroupName: '<resourceGroupName>'\n  }", "bicep": "module azureImageBuilder 'br/public:avm/ptn/virtual-machine-images/azure-image-builder:0.2' = {\n  name: 'azureImageBuilderDeployment'\n  params: {\n    // Required parameters\n    computeGalleryImageDefinitionName: '<computeGalleryImageDefinitionName>'\n    computeGalleryImageDefinitions: [\n      {\n        hyperVGeneration: 'V2'\n        identifier: {\n          offer: 'devops_linux'\n          publisher: 'devops'\n          sku: 'devops_linux_az'\n        }\n        name: '<name>'\n        osState: 'Generalized'\n        osType: 'Linux'\n      }\n    ]\n    computeGalleryName: 'galapvmiaibob'\n    imageTemplateImageSource: {\n      offer: 'ubuntu-24_04-lts'\n      publisher: 'canonical'\n      sku: 'server'\n      type: 'PlatformImage'\n      version: 'latest'\n    }\n    // Non-required parameters\n    assetsStorageAccountName: 'stapvmiaibob'\n    deploymentsToPerform: 'Only base'\n    imageManagedIdentityName: 'msi-it-apvmiaibob'\n    location: '<location>'\n    resourceGroupName: '<resourceGroupName>'\n  }\n}"}
{"id": "avm_ptn_virtual-machine-images_azure-image-builder_example_6", "source": "avm/ptn/virtual-machine-images/azure-image-builder/README.md", "content_to_embed": "Recommended AVM Module for Custom Images using Azure Image Builder: Deploying only the image - This instance deploys the module with the conditions set up to only deploy and bake the image, assuming all dependencies are setup.\nResource Type Path: VirtualMachineImages/AzureImageBuilder\nModule ID: br/public:avm/ptn/virtual-machine-images/azure-image-builder:0.2\nParameters:\nparams: {\n    // Required parameters\n    computeGalleryImageDefinitionName: '<computeGalleryImageDefinitionName>'\n    computeGalleryImageDefinitions: '<computeGalleryImageDefinitions>'\n    computeGalleryName: '<computeGalleryName>'\n    imageTemplateImageSource: {\n      offer: 'ubuntu-24_04-lts'\n      publisher: 'canonical'\n      sku: 'server'\n      type: 'PlatformImage'\n      version: 'latest'\n    }\n    // Non-required parameters\n    deploymentScriptManagedIdentityName: '<deploymentScriptManagedIdentityName>'\n    deploymentScriptStorageAccountName: '<deploymentScriptStorageAccountName>'\n    deploymentScriptSubnetName: '<deploymentScriptSubnetName>'\n    deploymentsToPerform: 'Only image'\n    imageContainerInstanceSubnetName: ''\n    imageManagedIdentityName: '<imageManagedIdentityName>'\n    imageSubnetName: '<imageSubnetName>'\n    imageTemplateCustomizationSteps: [\n      {\n        name: 'Example script'\n        scriptUri: '<scriptUri>'\n        type: 'Shell'\n      }\n    ]\n    imageTemplateResourceGroupName: '<imageTemplateResourceGroupName>'\n    location: '<location>'\n    resourceGroupName: '<resourceGroupName>'\n    virtualNetworkName: '<virtualNetworkName>'\n  }", "bicep": "module azureImageBuilder 'br/public:avm/ptn/virtual-machine-images/azure-image-builder:0.2' = {\n  name: 'azureImageBuilderDeployment'\n  params: {\n    // Required parameters\n    computeGalleryImageDefinitionName: '<computeGalleryImageDefinitionName>'\n    computeGalleryImageDefinitions: '<computeGalleryImageDefinitions>'\n    computeGalleryName: '<computeGalleryName>'\n    imageTemplateImageSource: {\n      offer: 'ubuntu-24_04-lts'\n      publisher: 'canonical'\n      sku: 'server'\n      type: 'PlatformImage'\n      version: 'latest'\n    }\n    // Non-required parameters\n    deploymentScriptManagedIdentityName: '<deploymentScriptManagedIdentityName>'\n    deploymentScriptStorageAccountName: '<deploymentScriptStorageAccountName>'\n    deploymentScriptSubnetName: '<deploymentScriptSubnetName>'\n    deploymentsToPerform: 'Only image'\n    imageContainerInstanceSubnetName: ''\n    imageManagedIdentityName: '<imageManagedIdentityName>'\n    imageSubnetName: '<imageSubnetName>'\n    imageTemplateCustomizationSteps: [\n      {\n        name: 'Example script'\n        scriptUri: '<scriptUri>'\n        type: 'Shell'\n      }\n    ]\n    imageTemplateResourceGroupName: '<imageTemplateResourceGroupName>'\n    location: '<location>'\n    resourceGroupName: '<resourceGroupName>'\n    virtualNetworkName: '<virtualNetworkName>'\n  }\n}"}
{"id": "avm_res_aad_domain-service_example_1", "source": "avm/res/aad/domain-service/README.md", "content_to_embed": "Recommended AVM Module for Microsoft Entra Domain Services: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.AAD/domainServices\nModule ID: br/public:avm/res/aad/domain-service:0.5\nParameters:\nparams: {\n    // Required parameters\n    domainName: 'onmicrosoft.com'\n    // Non-required parameters\n    additionalRecipients: [\n      '@noreply.github.com'\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        logCategoriesAndGroups: [\n          {\n            categoryGroup: 'allLogs'\n          }\n        ]\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    externalAccess: 'Enabled'\n    ldaps: 'Enabled'\n    location: '<location>'\n    lock: {\n      kind: 'None'\n      name: 'myCustomLockName'\n      notes: 'This is a custom lock for the deployment'\n    }\n    name: 'aaddswaf001'\n    pfxCertificate: '<pfxCertificate>'\n    pfxCertificatePassword: '<pfxCertificatePassword>'\n    replicaSets: [\n      {\n        location: '<location>'\n        subnetId: '<subnetId>'\n      }\n      {\n        location: '<location>'\n        subnetId: '<subnetId>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module domainService 'br/public:avm/res/aad/domain-service:0.5' = {\n  name: 'domainServiceDeployment'\n  params: {\n    // Required parameters\n    domainName: 'onmicrosoft.com'\n    // Non-required parameters\n    additionalRecipients: [\n      '@noreply.github.com'\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        logCategoriesAndGroups: [\n          {\n            categoryGroup: 'allLogs'\n          }\n        ]\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    externalAccess: 'Enabled'\n    ldaps: 'Enabled'\n    location: '<location>'\n    lock: {\n      kind: 'None'\n      name: 'myCustomLockName'\n      notes: 'This is a custom lock for the deployment'\n    }\n    name: 'aaddswaf001'\n    pfxCertificate: '<pfxCertificate>'\n    pfxCertificatePassword: '<pfxCertificatePassword>'\n    replicaSets: [\n      {\n        location: '<location>'\n        subnetId: '<subnetId>'\n      }\n      {\n        location: '<location>'\n        subnetId: '<subnetId>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_alerts-management_action-rule_example_1", "source": "avm/res/alerts-management/action-rule/README.md", "content_to_embed": "Recommended AVM Module for Action Rules: Using small parameter set - This instance deploys the module with min features enabled.\nResource Type Path: Microsoft.AlertsManagement/actionRules\nModule ID: br/public:avm/res/alerts-management/action-rule:0.2\nParameters:\nparams: {\n    // Required parameters\n    name: 'aprmin001'\n    // Non-required parameters\n    location: '<location>'\n  }", "bicep": "module actionRule 'br/public:avm/res/alerts-management/action-rule:0.2' = {\n  name: 'actionRuleDeployment'\n  params: {\n    // Required parameters\n    name: 'aprmin001'\n    // Non-required parameters\n    location: '<location>'\n  }\n}"}
{"id": "avm_res_alerts-management_action-rule_example_2", "source": "avm/res/alerts-management/action-rule/README.md", "content_to_embed": "Recommended AVM Module for Action Rules: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.AlertsManagement/actionRules\nModule ID: br/public:avm/res/alerts-management/action-rule:0.2\nParameters:\nparams: {\n    // Required parameters\n    name: 'aprmax001'\n    // Non-required parameters\n    actions: [\n      {\n        actionGroupIds: [\n          '<actionGroupResourceId>'\n        ]\n        actionType: 'AddActionGroups'\n      }\n    ]\n    aprDescription: 'Test deployment of the module with the max set of parameters.'\n    conditions: [\n      {\n        field: 'AlertContext'\n        operator: 'NotEquals'\n        values: [\n          'myAlertContext'\n        ]\n      }\n      {\n        field: 'AlertRuleId'\n        operator: 'Equals'\n        values: [\n          '<activityLogAlertResourceId>'\n        ]\n      }\n      {\n        field: 'AlertRuleName'\n        operator: 'Equals'\n        values: [\n          '<activityLogAlertResourceName>'\n        ]\n      }\n      {\n        field: 'Description'\n        operator: 'Contains'\n        values: [\n          'myAlertRuleDescription'\n        ]\n      }\n      {\n        field: 'MonitorService'\n        operator: 'Equals'\n        values: [\n          'ActivityLog Administrative'\n        ]\n      }\n      {\n        field: 'MonitorCondition'\n        operator: 'Equals'\n        values: [\n          'Fired'\n        ]\n      }\n      {\n        field: 'TargetResourceType'\n        operator: 'DoesNotContain'\n        values: [\n          'myAlertResourceType'\n        ]\n      }\n      {\n        field: 'TargetResource'\n        operator: 'Equals'\n        values: [\n          'myAlertResource1'\n          'myAlertResource2'\n        ]\n      }\n      {\n        field: 'TargetResourceGroup'\n        operator: 'Equals'\n        values: [\n          '<id>'\n        ]\n      }\n      {\n        field: 'Severity'\n        operator: 'Equals'\n        values: [\n          'Sev0'\n          'Sev1'\n          'Sev2'\n          'Sev3'\n          'Sev4'\n        ]\n      }\n      {\n        field: 'SignalType'\n        operator: 'Equals'\n        values: [\n          'Health'\n          'Log'\n          'Metric'\n          'Unknown'\n        ]\n      }\n    ]\n    enabled: true\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    roleAssignments: [\n      {\n        name: 'a66da6bc-b3ee-484e-9bdb-9294938bb327'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    schedule: {\n      effectiveFrom: '2026-01-01T00:00:00'\n      effectiveUntil: '2027-12-31T23:59:59'\n      timeZone: 'Eastern Standard Time'\n    }\n    scopes: [\n      '<id>'\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module actionRule 'br/public:avm/res/alerts-management/action-rule:0.2' = {\n  name: 'actionRuleDeployment'\n  params: {\n    // Required parameters\n    name: 'aprmax001'\n    // Non-required parameters\n    actions: [\n      {\n        actionGroupIds: [\n          '<actionGroupResourceId>'\n        ]\n        actionType: 'AddActionGroups'\n      }\n    ]\n    aprDescription: 'Test deployment of the module with the max set of parameters.'\n    conditions: [\n      {\n        field: 'AlertContext'\n        operator: 'NotEquals'\n        values: [\n          'myAlertContext'\n        ]\n      }\n      {\n        field: 'AlertRuleId'\n        operator: 'Equals'\n        values: [\n          '<activityLogAlertResourceId>'\n        ]\n      }\n      {\n        field: 'AlertRuleName'\n        operator: 'Equals'\n        values: [\n          '<activityLogAlertResourceName>'\n        ]\n      }\n      {\n        field: 'Description'\n        operator: 'Contains'\n        values: [\n          'myAlertRuleDescription'\n        ]\n      }\n      {\n        field: 'MonitorService'\n        operator: 'Equals'\n        values: [\n          'ActivityLog Administrative'\n        ]\n      }\n      {\n        field: 'MonitorCondition'\n        operator: 'Equals'\n        values: [\n          'Fired'\n        ]\n      }\n      {\n        field: 'TargetResourceType'\n        operator: 'DoesNotContain'\n        values: [\n          'myAlertResourceType'\n        ]\n      }\n      {\n        field: 'TargetResource'\n        operator: 'Equals'\n        values: [\n          'myAlertResource1'\n          'myAlertResource2'\n        ]\n      }\n      {\n        field: 'TargetResourceGroup'\n        operator: 'Equals'\n        values: [\n          '<id>'\n        ]\n      }\n      {\n        field: 'Severity'\n        operator: 'Equals'\n        values: [\n          'Sev0'\n          'Sev1'\n          'Sev2'\n          'Sev3'\n          'Sev4'\n        ]\n      }\n      {\n        field: 'SignalType'\n        operator: 'Equals'\n        values: [\n          'Health'\n          'Log'\n          'Metric'\n          'Unknown'\n        ]\n      }\n    ]\n    enabled: true\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    roleAssignments: [\n      {\n        name: 'a66da6bc-b3ee-484e-9bdb-9294938bb327'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    schedule: {\n      effectiveFrom: '2026-01-01T00:00:00'\n      effectiveUntil: '2027-12-31T23:59:59'\n      timeZone: 'Eastern Standard Time'\n    }\n    scopes: [\n      '<id>'\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_alerts-management_action-rule_example_3", "source": "avm/res/alerts-management/action-rule/README.md", "content_to_embed": "Recommended AVM Module for Action Rules: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.AlertsManagement/actionRules\nModule ID: br/public:avm/res/alerts-management/action-rule:0.2\nParameters:\nparams: {\n    // Required parameters\n    name: 'aprwaf001'\n    // Non-required parameters\n    actions: [\n      {\n        actionGroupIds: [\n          '<actionGroupResourceId>'\n        ]\n        actionType: 'AddActionGroups'\n      }\n    ]\n    aprDescription: 'Test deployment of the module with the waf aligned set of parameters.'\n    location: '<location>'\n    scopes: [\n      '<id>'\n    ]\n  }", "bicep": "module actionRule 'br/public:avm/res/alerts-management/action-rule:0.2' = {\n  name: 'actionRuleDeployment'\n  params: {\n    // Required parameters\n    name: 'aprwaf001'\n    // Non-required parameters\n    actions: [\n      {\n        actionGroupIds: [\n          '<actionGroupResourceId>'\n        ]\n        actionType: 'AddActionGroups'\n      }\n    ]\n    aprDescription: 'Test deployment of the module with the waf aligned set of parameters.'\n    location: '<location>'\n    scopes: [\n      '<id>'\n    ]\n  }\n}"}
{"id": "avm_res_analysis-services_server_example_1", "source": "avm/res/analysis-services/server/README.md", "content_to_embed": "Recommended AVM Module for Analysis Services Servers: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.AnalysisServices/servers\nModule ID: br/public:avm/res/analysis-services/server:0.3\nParameters:\nparams: {\n    // Required parameters\n    name: 'assmin'\n    // Non-required parameters\n    location: '<location>'\n  }", "bicep": "module server 'br/public:avm/res/analysis-services/server:0.3' = {\n  name: 'serverDeployment'\n  params: {\n    // Required parameters\n    name: 'assmin'\n    // Non-required parameters\n    location: '<location>'\n  }\n}"}
{"id": "avm_res_analysis-services_server_example_2", "source": "avm/res/analysis-services/server/README.md", "content_to_embed": "Recommended AVM Module for Analysis Services Servers: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.AnalysisServices/servers\nModule ID: br/public:avm/res/analysis-services/server:0.3\nParameters:\nparams: {\n    // Required parameters\n    name: 'assmax'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        logCategoriesAndGroups: [\n          {\n            category: 'Engine'\n          }\n          {\n            category: 'Service'\n          }\n        ]\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    firewallSettings: {\n      enablePowerBIService: true\n      firewallRules: [\n        {\n          firewallRuleName: 'AllowFromAll'\n          rangeEnd: '255.255.255.255'\n          rangeStart: '0.0.0.0'\n        }\n      ]\n    }\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    roleAssignments: [\n      {\n        name: '0a657697-dd80-427e-b1bc-7970ab74f937'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    skuCapacity: 1\n    skuName: 'S0'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module server 'br/public:avm/res/analysis-services/server:0.3' = {\n  name: 'serverDeployment'\n  params: {\n    // Required parameters\n    name: 'assmax'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        logCategoriesAndGroups: [\n          {\n            category: 'Engine'\n          }\n          {\n            category: 'Service'\n          }\n        ]\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    firewallSettings: {\n      enablePowerBIService: true\n      firewallRules: [\n        {\n          firewallRuleName: 'AllowFromAll'\n          rangeEnd: '255.255.255.255'\n          rangeStart: '0.0.0.0'\n        }\n      ]\n    }\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    roleAssignments: [\n      {\n        name: '0a657697-dd80-427e-b1bc-7970ab74f937'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    skuCapacity: 1\n    skuName: 'S0'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_analysis-services_server_example_3", "source": "avm/res/analysis-services/server/README.md", "content_to_embed": "Recommended AVM Module for Analysis Services Servers: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.AnalysisServices/servers\nModule ID: br/public:avm/res/analysis-services/server:0.3\nParameters:\nparams: {\n    // Required parameters\n    name: 'asswaf'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        logCategoriesAndGroups: [\n          {\n            category: 'Engine'\n          }\n          {\n            category: 'Service'\n          }\n        ]\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    firewallSettings: {\n      enablePowerBIService: true\n      firewallRules: [\n        {\n          firewallRuleName: 'AllowFromAll'\n          rangeEnd: '255.255.255.255'\n          rangeStart: '0.0.0.0'\n        }\n      ]\n    }\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    skuCapacity: 1\n    skuName: 'S0'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module server 'br/public:avm/res/analysis-services/server:0.3' = {\n  name: 'serverDeployment'\n  params: {\n    // Required parameters\n    name: 'asswaf'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        logCategoriesAndGroups: [\n          {\n            category: 'Engine'\n          }\n          {\n            category: 'Service'\n          }\n        ]\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    firewallSettings: {\n      enablePowerBIService: true\n      firewallRules: [\n        {\n          firewallRuleName: 'AllowFromAll'\n          rangeEnd: '255.255.255.255'\n          rangeStart: '0.0.0.0'\n        }\n      ]\n    }\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    skuCapacity: 1\n    skuName: 'S0'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_api-management_service_example_1", "source": "avm/res/api-management/service/README.md", "content_to_embed": "Recommended AVM Module for API Management Services: Deploying a Consumption SKU - This instance deploys the module using a Consumption SKU.\nResource Type Path: Microsoft.ApiManagement/service\nModule ID: br/public:avm/res/api-management/service:0.12\nParameters:\nparams: {\n    // Required parameters\n    name: 'apiscon001'\n    publisherEmail: 'apimgmt-noreply@mail.windowsazure.com'\n    publisherName: 'az-amorg-x-001'\n    // Non-required parameters\n    sku: 'Consumption'\n  }", "bicep": "module service 'br/public:avm/res/api-management/service:0.12' = {\n  name: 'serviceDeployment'\n  params: {\n    // Required parameters\n    name: 'apiscon001'\n    publisherEmail: 'apimgmt-noreply@mail.windowsazure.com'\n    publisherName: 'az-amorg-x-001'\n    // Non-required parameters\n    sku: 'Consumption'\n  }\n}"}
{"id": "avm_res_api-management_service_example_2", "source": "avm/res/api-management/service/README.md", "content_to_embed": "Recommended AVM Module for API Management Services: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.ApiManagement/service\nModule ID: br/public:avm/res/api-management/service:0.12\nParameters:\nparams: {\n    // Required parameters\n    name: 'apismin001'\n    publisherEmail: 'apimgmt-noreply@mail.windowsazure.com'\n    publisherName: 'az-amorg-x-001'\n  }", "bicep": "module service 'br/public:avm/res/api-management/service:0.12' = {\n  name: 'serviceDeployment'\n  params: {\n    // Required parameters\n    name: 'apismin001'\n    publisherEmail: 'apimgmt-noreply@mail.windowsazure.com'\n    publisherName: 'az-amorg-x-001'\n  }\n}"}
{"id": "avm_res_api-management_service_example_3", "source": "avm/res/api-management/service/README.md", "content_to_embed": "Recommended AVM Module for API Management Services: Deploying a Developer SKU - This instance deploys the module using a Developer SKU.\nResource Type Path: Microsoft.ApiManagement/service\nModule ID: br/public:avm/res/api-management/service:0.12\nParameters:\nparams: {\n    // Required parameters\n    name: 'apisdev001'\n    publisherEmail: 'apimgmt-noreply@mail.windowsazure.com'\n    publisherName: 'az-amorg-x-001'\n    // Non-required parameters\n    enableDeveloperPortal: true\n    sku: 'Developer'\n  }", "bicep": "module service 'br/public:avm/res/api-management/service:0.12' = {\n  name: 'serviceDeployment'\n  params: {\n    // Required parameters\n    name: 'apisdev001'\n    publisherEmail: 'apimgmt-noreply@mail.windowsazure.com'\n    publisherName: 'az-amorg-x-001'\n    // Non-required parameters\n    enableDeveloperPortal: true\n    sku: 'Developer'\n  }\n}"}
{"id": "avm_res_api-management_service_example_4", "source": "avm/res/api-management/service/README.md", "content_to_embed": "Recommended AVM Module for API Management Services: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.ApiManagement/service\nModule ID: br/public:avm/res/api-management/service:0.12\nParameters:\nparams: {\n    // Required parameters\n    name: 'apismax001'\n    publisherEmail: 'apimgmt-noreply@mail.windowsazure.com'\n    publisherName: 'az-amorg-x-001'\n    // Non-required parameters\n    additionalLocations: [\n      {\n        disableGateway: false\n        location: '<location>'\n        publicIpAddressResourceId: '<publicIpAddressResourceId>'\n        sku: {\n          capacity: 1\n          name: 'Premium'\n        }\n        virtualNetworkConfiguration: {\n          subnetResourceId: '<subnetResourceId>'\n        }\n      }\n    ]\n    apiDiagnostics: [\n      {\n        apiName: 'echo-api'\n        loggerName: 'logger'\n        metrics: true\n        name: 'applicationinsights'\n      }\n    ]\n    apis: [\n      {\n        apiVersionSetName: 'echo-version-set'\n        displayName: 'Echo API'\n        name: 'echo-api'\n        path: 'echo'\n        protocols: [\n          'http'\n          'https'\n        ]\n        serviceUrl: 'http://echoapi.cloudapp.net/api'\n      }\n    ]\n    apiVersionSets: [\n      {\n        description: 'echo-version-set'\n        displayName: 'echo-version-set'\n        name: 'echo-version-set'\n        versioningScheme: 'Segment'\n      }\n    ]\n    authorizationServers: [\n      {\n        authorizationEndpoint: '<authorizationEndpoint>'\n        clientId: 'apimclientid'\n        clientRegistrationEndpoint: 'http://localhost'\n        clientSecret: '<clientSecret>'\n        displayName: 'AuthServer1'\n        grantTypes: [\n          'authorizationCode'\n        ]\n        name: 'AuthServer1'\n        tokenEndpoint: '<tokenEndpoint>'\n      }\n    ]\n    backends: [\n      {\n        name: 'backend'\n        tls: {\n          validateCertificateChain: false\n          validateCertificateName: false\n        }\n        url: 'http://echoapi.cloudapp.net/api'\n      }\n    ]\n    caches: [\n      {\n        connectionString: 'connectionstringtest'\n        name: 'westeurope'\n        useFromLocation: 'westeurope'\n      }\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    identityProviders: [\n      {\n        allowedTenants: [\n          'mytenant.onmicrosoft.com'\n        ]\n        authority: '<authority>'\n        clientId: 'apimClientid'\n        clientLibrary: 'MSAL-2'\n        clientSecret: 'apimSlientSecret'\n        name: 'aad'\n        signInTenant: 'mytenant.onmicrosoft.com'\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    loggers: [\n      {\n        credentials: {\n          instrumentationKey: '<instrumentationKey>'\n        }\n        description: 'Logger to Azure Application Insights'\n        isBuffered: false\n        name: 'logger'\n        targetResourceId: '<targetResourceId>'\n        type: 'applicationInsights'\n      }\n    ]\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    namedValues: [\n      {\n        displayName: 'apimkey'\n        name: 'apimkey'\n        secret: true\n      }\n    ]\n    policies: [\n      {\n        format: 'xml'\n        value: '<policies> <inbound> <rate-limit-by-key calls=\\'250\\' renewal-period=\\'60\\' counter-key=\\'@(context.Request.IpAddress)\\' /> </inbound> <backend> <forward-request /> </backend> <outbound> </outbound> </policies>'\n      }\n    ]\n    portalsettings: [\n      {\n        name: 'signin'\n        properties: {\n          enabled: false\n        }\n      }\n      {\n        name: 'signup'\n        properties: {\n          enabled: false\n          termsOfService: {\n            consentRequired: false\n            enabled: false\n          }\n        }\n      }\n    ]\n    products: [\n      {\n        apis: [\n          'echo-api'\n        ]\n        approvalRequired: false\n        displayName: 'Starter'\n        groups: [\n          'developers'\n        ]\n        name: 'Starter'\n        subscriptionRequired: false\n      }\n    ]\n    publicIpAddressResourceId: '<publicIpAddressResourceId>'\n    publicNetworkAccess: 'Enabled'\n    roleAssignments: [\n      {\n        name: '6352c3e3-ac6b-43d5-ac43-1077ff373721'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    subnetResourceId: '<subnetResourceId>'\n    subscriptions: [\n      {\n        displayName: 'testArmSubscriptionAllApis'\n        name: 'testArmSubscriptionAllApis'\n        scope: '/apis'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    virtualNetworkType: 'Internal'\n  }", "bicep": "module service 'br/public:avm/res/api-management/service:0.12' = {\n  name: 'serviceDeployment'\n  params: {\n    // Required parameters\n    name: 'apismax001'\n    publisherEmail: 'apimgmt-noreply@mail.windowsazure.com'\n    publisherName: 'az-amorg-x-001'\n    // Non-required parameters\n    additionalLocations: [\n      {\n        disableGateway: false\n        location: '<location>'\n        publicIpAddressResourceId: '<publicIpAddressResourceId>'\n        sku: {\n          capacity: 1\n          name: 'Premium'\n        }\n        virtualNetworkConfiguration: {\n          subnetResourceId: '<subnetResourceId>'\n        }\n      }\n    ]\n    apiDiagnostics: [\n      {\n        apiName: 'echo-api'\n        loggerName: 'logger'\n        metrics: true\n        name: 'applicationinsights'\n      }\n    ]\n    apis: [\n      {\n        apiVersionSetName: 'echo-version-set'\n        displayName: 'Echo API'\n        name: 'echo-api'\n        path: 'echo'\n        protocols: [\n          'http'\n          'https'\n        ]\n        serviceUrl: 'http://echoapi.cloudapp.net/api'\n      }\n    ]\n    apiVersionSets: [\n      {\n        description: 'echo-version-set'\n        displayName: 'echo-version-set'\n        name: 'echo-version-set'\n        versioningScheme: 'Segment'\n      }\n    ]\n    authorizationServers: [\n      {\n        authorizationEndpoint: '<authorizationEndpoint>'\n        clientId: 'apimclientid'\n        clientRegistrationEndpoint: 'http://localhost'\n        clientSecret: '<clientSecret>'\n        displayName: 'AuthServer1'\n        grantTypes: [\n          'authorizationCode'\n        ]\n        name: 'AuthServer1'\n        tokenEndpoint: '<tokenEndpoint>'\n      }\n    ]\n    backends: [\n      {\n        name: 'backend'\n        tls: {\n          validateCertificateChain: false\n          validateCertificateName: false\n        }\n        url: 'http://echoapi.cloudapp.net/api'\n      }\n    ]\n    caches: [\n      {\n        connectionString: 'connectionstringtest'\n        name: 'westeurope'\n        useFromLocation: 'westeurope'\n      }\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    identityProviders: [\n      {\n        allowedTenants: [\n          'mytenant.onmicrosoft.com'\n        ]\n        authority: '<authority>'\n        clientId: 'apimClientid'\n        clientLibrary: 'MSAL-2'\n        clientSecret: 'apimSlientSecret'\n        name: 'aad'\n        signInTenant: 'mytenant.onmicrosoft.com'\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    loggers: [\n      {\n        credentials: {\n          instrumentationKey: '<instrumentationKey>'\n        }\n        description: 'Logger to Azure Application Insights'\n        isBuffered: false\n        name: 'logger'\n        targetResourceId: '<targetResourceId>'\n        type: 'applicationInsights'\n      }\n    ]\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    namedValues: [\n      {\n        displayName: 'apimkey'\n        name: 'apimkey'\n        secret: true\n      }\n    ]\n    policies: [\n      {\n        format: 'xml'\n        value: '<policies> <inbound> <rate-limit-by-key calls=\\'250\\' renewal-period=\\'60\\' counter-key=\\'@(context.Request.IpAddress)\\' /> </inbound> <backend> <forward-request /> </backend> <outbound> </outbound> </policies>'\n      }\n    ]\n    portalsettings: [\n      {\n        name: 'signin'\n        properties: {\n          enabled: false\n        }\n      }\n      {\n        name: 'signup'\n        properties: {\n          enabled: false\n          termsOfService: {\n            consentRequired: false\n            enabled: false\n          }\n        }\n      }\n    ]\n    products: [\n      {\n        apis: [\n          'echo-api'\n        ]\n        approvalRequired: false\n        displayName: 'Starter'\n        groups: [\n          'developers'\n        ]\n        name: 'Starter'\n        subscriptionRequired: false\n      }\n    ]\n    publicIpAddressResourceId: '<publicIpAddressResourceId>'\n    publicNetworkAccess: 'Enabled'\n    roleAssignments: [\n      {\n        name: '6352c3e3-ac6b-43d5-ac43-1077ff373721'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    subnetResourceId: '<subnetResourceId>'\n    subscriptions: [\n      {\n        displayName: 'testArmSubscriptionAllApis'\n        name: 'testArmSubscriptionAllApis'\n        scope: '/apis'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    virtualNetworkType: 'Internal'\n  }\n}"}
{"id": "avm_res_api-management_service_example_5", "source": "avm/res/api-management/service/README.md", "content_to_embed": "Recommended AVM Module for API Management Services: Deploying an APIM v2 sku - This instance deploys the module using a v2 SKU.\nResource Type Path: Microsoft.ApiManagement/service\nModule ID: br/public:avm/res/api-management/service:0.12\nParameters:\nparams: {\n    // Required parameters\n    name: 'apisv2s001'\n    publisherEmail: 'apimgmt-noreply@mail.windowsazure.com'\n    publisherName: 'az-amorg-x-001'\n    // Non-required parameters\n    enableDeveloperPortal: true\n    sku: 'BasicV2'\n  }", "bicep": "module service 'br/public:avm/res/api-management/service:0.12' = {\n  name: 'serviceDeployment'\n  params: {\n    // Required parameters\n    name: 'apisv2s001'\n    publisherEmail: 'apimgmt-noreply@mail.windowsazure.com'\n    publisherName: 'az-amorg-x-001'\n    // Non-required parameters\n    enableDeveloperPortal: true\n    sku: 'BasicV2'\n  }\n}"}
{"id": "avm_res_api-management_service_example_6", "source": "avm/res/api-management/service/README.md", "content_to_embed": "Recommended AVM Module for API Management Services: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.ApiManagement/service\nModule ID: br/public:avm/res/api-management/service:0.12\nParameters:\nparams: {\n    // Required parameters\n    name: 'apiswaf002'\n    publisherEmail: 'apimgmt-noreply@mail.windowsazure.com'\n    publisherName: 'az-amorg-x-001'\n    // Non-required parameters\n    additionalLocations: [\n      {\n        availabilityZones: [\n          1\n          2\n          3\n        ]\n        disableGateway: false\n        location: '<location>'\n        sku: {\n          capacity: 3\n          name: 'Premium'\n        }\n      }\n    ]\n    apis: [\n      {\n        apiVersionSetName: 'echo-version-set'\n        description: 'An echo API service'\n        displayName: 'Echo API'\n        name: 'echo-api'\n        path: 'echo'\n        protocols: [\n          'https'\n        ]\n        serviceUrl: 'https://echoapi.cloudapp.net/api'\n      }\n    ]\n    apiVersionSets: [\n      {\n        description: 'An echo API version set'\n        displayName: 'Echo version set'\n        name: 'echo-version-set'\n        versioningScheme: 'Segment'\n      }\n    ]\n    authorizationServers: [\n      {\n        authorizationEndpoint: '<authorizationEndpoint>'\n        clientId: 'apimClientid'\n        clientRegistrationEndpoint: 'https://localhost'\n        clientSecret: '<clientSecret>'\n        displayName: 'AuthServer1'\n        grantTypes: [\n          'authorizationCode'\n        ]\n        name: 'AuthServer1'\n        tokenEndpoint: '<tokenEndpoint>'\n      }\n    ]\n    backends: [\n      {\n        name: 'backend'\n        tls: {\n          validateCertificateChain: true\n          validateCertificateName: true\n        }\n        url: 'https://echoapi.cloudapp.net/api'\n      }\n    ]\n    caches: [\n      {\n        connectionString: 'connectionstringtest'\n        name: 'westeurope'\n        useFromLocation: 'westeurope'\n      }\n    ]\n    customProperties: {\n      'Microsoft.WindowsAzure.ApiManagement.Gateway.Protocols.Server.Http2': 'True'\n      'Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Backend.Protocols.Ssl30': 'False'\n      'Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Backend.Protocols.Tls10': 'False'\n      'Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Backend.Protocols.Tls11': 'False'\n      'Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Ciphers.TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA': 'False'\n      'Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Ciphers.TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA': 'False'\n      'Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Ciphers.TLS_RSA_WITH_AES_128_CBC_SHA': 'False'\n      'Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Ciphers.TLS_RSA_WITH_AES_128_CBC_SHA256': 'False'\n      'Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Ciphers.TLS_RSA_WITH_AES_128_GCM_SHA256': 'False'\n      'Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Ciphers.TLS_RSA_WITH_AES_256_CBC_SHA': 'False'\n      'Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Ciphers.TLS_RSA_WITH_AES_256_CBC_SHA256': 'False'\n      'Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Ciphers.TripleDes168': 'False'\n      'Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Protocols.Ssl30': 'False'\n      'Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Protocols.Tls10': 'False'\n      'Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Protocols.Tls11': 'False'\n    }\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    identityProviders: [\n      {\n        allowedTenants: [\n          'mytenant.onmicrosoft.com'\n        ]\n        authority: '<authority>'\n        clientId: 'apimClientid'\n        clientLibrary: 'MSAL-2'\n        clientSecret: '<clientSecret>'\n        name: 'aad'\n        signInTenant: 'mytenant.onmicrosoft.com'\n      }\n    ]\n    loggers: [\n      {\n        credentials: {\n          instrumentationKey: '<instrumentationKey>'\n        }\n        description: 'Logger to Azure Application Insights'\n        isBuffered: false\n        name: 'logger'\n        targetResourceId: '<targetResourceId>'\n        type: 'applicationInsights'\n      }\n    ]\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    namedValues: [\n      {\n        displayName: 'apimkey'\n        name: 'apimkey'\n        secret: true\n      }\n    ]\n    policies: [\n      {\n        format: 'xml'\n        value: '<policies> <inbound> <rate-limit-by-key calls=\\'250\\' renewal-period=\\'60\\' counter-key=\\'@(context.Request.IpAddress)\\' /> </inbound> <backend> <forward-request /> </backend> <outbound> </outbound> </policies>'\n      }\n    ]\n    portalsettings: [\n      {\n        name: 'signin'\n        properties: {\n          enabled: false\n        }\n      }\n      {\n        name: 'signup'\n        properties: {\n          enabled: false\n          termsOfService: {\n            consentRequired: false\n            enabled: false\n          }\n        }\n      }\n    ]\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    products: [\n      {\n        apis: [\n          'echo-api'\n        ]\n        approvalRequired: true\n        description: 'This is an echo API'\n        displayName: 'Echo API'\n        groups: [\n          'developers'\n        ]\n        name: 'Starter'\n        subscriptionRequired: true\n        terms: 'By accessing or using the services provided by Echo API through Azure API Management, you agree to be bound by these Terms of Use. These terms may be updated from time to time, and your continued use of the services constitutes acceptance of any changes.'\n      }\n    ]\n    publicNetworkAccess: '<publicNetworkAccess>'\n    subscriptions: [\n      {\n        displayName: 'testArmSubscriptionAllApis'\n        name: 'testArmSubscriptionAllApis'\n        scope: '/apis'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module service 'br/public:avm/res/api-management/service:0.12' = {\n  name: 'serviceDeployment'\n  params: {\n    // Required parameters\n    name: 'apiswaf002'\n    publisherEmail: 'apimgmt-noreply@mail.windowsazure.com'\n    publisherName: 'az-amorg-x-001'\n    // Non-required parameters\n    additionalLocations: [\n      {\n        availabilityZones: [\n          1\n          2\n          3\n        ]\n        disableGateway: false\n        location: '<location>'\n        sku: {\n          capacity: 3\n          name: 'Premium'\n        }\n      }\n    ]\n    apis: [\n      {\n        apiVersionSetName: 'echo-version-set'\n        description: 'An echo API service'\n        displayName: 'Echo API'\n        name: 'echo-api'\n        path: 'echo'\n        protocols: [\n          'https'\n        ]\n        serviceUrl: 'https://echoapi.cloudapp.net/api'\n      }\n    ]\n    apiVersionSets: [\n      {\n        description: 'An echo API version set'\n        displayName: 'Echo version set'\n        name: 'echo-version-set'\n        versioningScheme: 'Segment'\n      }\n    ]\n    authorizationServers: [\n      {\n        authorizationEndpoint: '<authorizationEndpoint>'\n        clientId: 'apimClientid'\n        clientRegistrationEndpoint: 'https://localhost'\n        clientSecret: '<clientSecret>'\n        displayName: 'AuthServer1'\n        grantTypes: [\n          'authorizationCode'\n        ]\n        name: 'AuthServer1'\n        tokenEndpoint: '<tokenEndpoint>'\n      }\n    ]\n    backends: [\n      {\n        name: 'backend'\n        tls: {\n          validateCertificateChain: true\n          validateCertificateName: true\n        }\n        url: 'https://echoapi.cloudapp.net/api'\n      }\n    ]\n    caches: [\n      {\n        connectionString: 'connectionstringtest'\n        name: 'westeurope'\n        useFromLocation: 'westeurope'\n      }\n    ]\n    customProperties: {\n      'Microsoft.WindowsAzure.ApiManagement.Gateway.Protocols.Server.Http2': 'True'\n      'Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Backend.Protocols.Ssl30': 'False'\n      'Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Backend.Protocols.Tls10': 'False'\n      'Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Backend.Protocols.Tls11': 'False'\n      'Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Ciphers.TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA': 'False'\n      'Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Ciphers.TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA': 'False'\n      'Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Ciphers.TLS_RSA_WITH_AES_128_CBC_SHA': 'False'\n      'Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Ciphers.TLS_RSA_WITH_AES_128_CBC_SHA256': 'False'\n      'Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Ciphers.TLS_RSA_WITH_AES_128_GCM_SHA256': 'False'\n      'Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Ciphers.TLS_RSA_WITH_AES_256_CBC_SHA': 'False'\n      'Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Ciphers.TLS_RSA_WITH_AES_256_CBC_SHA256': 'False'\n      'Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Ciphers.TripleDes168': 'False'\n      'Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Protocols.Ssl30': 'False'\n      'Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Protocols.Tls10': 'False'\n      'Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Protocols.Tls11': 'False'\n    }\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    identityProviders: [\n      {\n        allowedTenants: [\n          'mytenant.onmicrosoft.com'\n        ]\n        authority: '<authority>'\n        clientId: 'apimClientid'\n        clientLibrary: 'MSAL-2'\n        clientSecret: '<clientSecret>'\n        name: 'aad'\n        signInTenant: 'mytenant.onmicrosoft.com'\n      }\n    ]\n    loggers: [\n      {\n        credentials: {\n          instrumentationKey: '<instrumentationKey>'\n        }\n        description: 'Logger to Azure Application Insights'\n        isBuffered: false\n        name: 'logger'\n        targetResourceId: '<targetResourceId>'\n        type: 'applicationInsights'\n      }\n    ]\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    namedValues: [\n      {\n        displayName: 'apimkey'\n        name: 'apimkey'\n        secret: true\n      }\n    ]\n    policies: [\n      {\n        format: 'xml'\n        value: '<policies> <inbound> <rate-limit-by-key calls=\\'250\\' renewal-period=\\'60\\' counter-key=\\'@(context.Request.IpAddress)\\' /> </inbound> <backend> <forward-request /> </backend> <outbound> </outbound> </policies>'\n      }\n    ]\n    portalsettings: [\n      {\n        name: 'signin'\n        properties: {\n          enabled: false\n        }\n      }\n      {\n        name: 'signup'\n        properties: {\n          enabled: false\n          termsOfService: {\n            consentRequired: false\n            enabled: false\n          }\n        }\n      }\n    ]\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    products: [\n      {\n        apis: [\n          'echo-api'\n        ]\n        approvalRequired: true\n        description: 'This is an echo API'\n        displayName: 'Echo API'\n        groups: [\n          'developers'\n        ]\n        name: 'Starter'\n        subscriptionRequired: true\n        terms: 'By accessing or using the services provided by Echo API through Azure API Management, you agree to be bound by these Terms of Use. These terms may be updated from time to time, and your continued use of the services constitutes acceptance of any changes.'\n      }\n    ]\n    publicNetworkAccess: '<publicNetworkAccess>'\n    subscriptions: [\n      {\n        displayName: 'testArmSubscriptionAllApis'\n        name: 'testArmSubscriptionAllApis'\n        scope: '/apis'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_app_container-app_example_1", "source": "avm/res/app/container-app/README.md", "content_to_embed": "Recommended AVM Module for Container Apps: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.App/containerApps\nModule ID: br/public:avm/res/app/container-app:0.19\nParameters:\nparams: {\n    // Required parameters\n    containers: [\n      {\n        image: 'mcr.microsoft.com/k8se/quickstart:latest'\n        name: 'simple-hello-world-container'\n        resources: {\n          cpu: '<cpu>'\n          memory: '0.5Gi'\n        }\n      }\n    ]\n    environmentResourceId: '<environmentResourceId>'\n    name: 'acamin001'\n  }", "bicep": "module containerApp 'br/public:avm/res/app/container-app:0.19' = {\n  name: 'containerAppDeployment'\n  params: {\n    // Required parameters\n    containers: [\n      {\n        image: 'mcr.microsoft.com/k8se/quickstart:latest'\n        name: 'simple-hello-world-container'\n        resources: {\n          cpu: '<cpu>'\n          memory: '0.5Gi'\n        }\n      }\n    ]\n    environmentResourceId: '<environmentResourceId>'\n    name: 'acamin001'\n  }\n}"}
{"id": "avm_res_app_container-app_example_2", "source": "avm/res/app/container-app/README.md", "content_to_embed": "Recommended AVM Module for Container Apps: Without ingress enabled - This instance deploys the module with ingress traffic completely disabled.\nResource Type Path: Microsoft.App/containerApps\nModule ID: br/public:avm/res/app/container-app:0.19\nParameters:\nparams: {\n    // Required parameters\n    containers: [\n      {\n        image: 'mcr.microsoft.com/k8se/quickstart:latest'\n        name: 'simple-hello-world-container'\n        resources: {\n          cpu: '<cpu>'\n          memory: '0.5Gi'\n        }\n      }\n    ]\n    environmentResourceId: '<environmentResourceId>'\n    name: 'acapriv001'\n    // Non-required parameters\n    disableIngress: true\n  }", "bicep": "module containerApp 'br/public:avm/res/app/container-app:0.19' = {\n  name: 'containerAppDeployment'\n  params: {\n    // Required parameters\n    containers: [\n      {\n        image: 'mcr.microsoft.com/k8se/quickstart:latest'\n        name: 'simple-hello-world-container'\n        resources: {\n          cpu: '<cpu>'\n          memory: '0.5Gi'\n        }\n      }\n    ]\n    environmentResourceId: '<environmentResourceId>'\n    name: 'acapriv001'\n    // Non-required parameters\n    disableIngress: true\n  }\n}"}
{"id": "avm_res_app_container-app_example_3", "source": "avm/res/app/container-app/README.md", "content_to_embed": "Recommended AVM Module for Container Apps: Support for Azure Functions - This instance is configured to be able to host Azure Functions\nResource Type Path: Microsoft.App/containerApps\nModule ID: br/public:avm/res/app/container-app:0.19\nParameters:\nparams: {\n    // Required parameters\n    containers: [\n      {\n        image: 'mcr.microsoft.com/azure-functions/dotnet8-quickstart-demo:latest'\n        name: 'azure-function-container'\n        resources: {\n          cpu: '<cpu>'\n          memory: '0.5Gi'\n        }\n      }\n    ]\n    environmentResourceId: '<environmentResourceId>'\n    name: 'acafunc001'\n    // Non-required parameters\n    activeRevisionsMode: 'Single'\n    exposedPort: 0\n    ingressAllowInsecure: false\n    ingressTargetPort: 80\n    ingressTransport: 'auto'\n    kind: 'functionapp'\n    maxInactiveRevisions: 100\n    trafficLatestRevision: true\n    trafficWeight: 100\n  }", "bicep": "module containerApp 'br/public:avm/res/app/container-app:0.19' = {\n  name: 'containerAppDeployment'\n  params: {\n    // Required parameters\n    containers: [\n      {\n        image: 'mcr.microsoft.com/azure-functions/dotnet8-quickstart-demo:latest'\n        name: 'azure-function-container'\n        resources: {\n          cpu: '<cpu>'\n          memory: '0.5Gi'\n        }\n      }\n    ]\n    environmentResourceId: '<environmentResourceId>'\n    name: 'acafunc001'\n    // Non-required parameters\n    activeRevisionsMode: 'Single'\n    exposedPort: 0\n    ingressAllowInsecure: false\n    ingressTargetPort: 80\n    ingressTransport: 'auto'\n    kind: 'functionapp'\n    maxInactiveRevisions: 100\n    trafficLatestRevision: true\n    trafficWeight: 100\n  }\n}"}
{"id": "avm_res_app_container-app_example_4", "source": "avm/res/app/container-app/README.md", "content_to_embed": "Recommended AVM Module for Container Apps: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.App/containerApps\nModule ID: br/public:avm/res/app/container-app:0.19\nParameters:\nparams: {\n    // Required parameters\n    containers: [\n      {\n        env: [\n          {\n            name: 'ContainerAppStoredSecretName'\n            secretRef: 'containerappstoredsecret'\n          }\n          {\n            name: 'ContainerAppKeyVaultStoredSecretName'\n            secretRef: 'keyvaultstoredsecret'\n          }\n        ]\n        image: 'mcr.microsoft.com/k8se/quickstart:latest'\n        name: 'simple-hello-world-container'\n        probes: [\n          {\n            httpGet: {\n              httpHeaders: [\n                {\n                  name: 'Custom-Header'\n                  value: 'Awesome'\n                }\n              ]\n              path: '/health'\n              port: 8080\n            }\n            initialDelaySeconds: 3\n            periodSeconds: 3\n            type: 'Liveness'\n          }\n        ]\n        resources: {\n          cpu: '<cpu>'\n          memory: '0.5Gi'\n        }\n      }\n    ]\n    environmentResourceId: '<environmentResourceId>'\n    name: 'acamax001'\n    // Non-required parameters\n    activeRevisionsMode: 'Single'\n    authConfig: {\n      globalValidation: {\n        unauthenticatedClientAction: 'Return401'\n      }\n      httpSettings: {\n        requireHttps: true\n      }\n      platform: {\n        enabled: true\n      }\n    }\n    identitySettings: [\n      {\n        identity: '<identity>'\n        lifecycle: 'None'\n      }\n    ]\n    initContainersTemplate: [\n      {\n        image: 'mcr.microsoft.com/k8se/quickstart:latest'\n        name: 'init-container'\n        resources: {\n          cpu: '<cpu>'\n          memory: '0.5Gi'\n        }\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    roleAssignments: [\n      {\n        name: 'e9bac1ee-aebe-4513-9337-49e87a7be05e'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    runtime: {\n      java: {\n        enableMetrics: true\n      }\n    }\n    scaleSettings: {\n      cooldownPeriod: 500\n      maxReplicas: 11\n      minReplicas: 4\n      pollingInterval: 45\n    }\n    secrets: [\n      {\n        name: 'containerappstoredsecret'\n        value: '<value>'\n      }\n      {\n        identity: '<identity>'\n        keyVaultUrl: '<keyVaultUrl>'\n        name: 'keyvaultstoredsecret'\n      }\n    ]\n    service: {\n      type: 'Web'\n    }\n    tags: {\n      Env: 'test'\n      'hidden-title': 'This is visible in the resource name'\n    }\n  }", "bicep": "module containerApp 'br/public:avm/res/app/container-app:0.19' = {\n  name: 'containerAppDeployment'\n  params: {\n    // Required parameters\n    containers: [\n      {\n        env: [\n          {\n            name: 'ContainerAppStoredSecretName'\n            secretRef: 'containerappstoredsecret'\n          }\n          {\n            name: 'ContainerAppKeyVaultStoredSecretName'\n            secretRef: 'keyvaultstoredsecret'\n          }\n        ]\n        image: 'mcr.microsoft.com/k8se/quickstart:latest'\n        name: 'simple-hello-world-container'\n        probes: [\n          {\n            httpGet: {\n              httpHeaders: [\n                {\n                  name: 'Custom-Header'\n                  value: 'Awesome'\n                }\n              ]\n              path: '/health'\n              port: 8080\n            }\n            initialDelaySeconds: 3\n            periodSeconds: 3\n            type: 'Liveness'\n          }\n        ]\n        resources: {\n          cpu: '<cpu>'\n          memory: '0.5Gi'\n        }\n      }\n    ]\n    environmentResourceId: '<environmentResourceId>'\n    name: 'acamax001'\n    // Non-required parameters\n    activeRevisionsMode: 'Single'\n    authConfig: {\n      globalValidation: {\n        unauthenticatedClientAction: 'Return401'\n      }\n      httpSettings: {\n        requireHttps: true\n      }\n      platform: {\n        enabled: true\n      }\n    }\n    identitySettings: [\n      {\n        identity: '<identity>'\n        lifecycle: 'None'\n      }\n    ]\n    initContainersTemplate: [\n      {\n        image: 'mcr.microsoft.com/k8se/quickstart:latest'\n        name: 'init-container'\n        resources: {\n          cpu: '<cpu>'\n          memory: '0.5Gi'\n        }\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    roleAssignments: [\n      {\n        name: 'e9bac1ee-aebe-4513-9337-49e87a7be05e'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    runtime: {\n      java: {\n        enableMetrics: true\n      }\n    }\n    scaleSettings: {\n      cooldownPeriod: 500\n      maxReplicas: 11\n      minReplicas: 4\n      pollingInterval: 45\n    }\n    secrets: [\n      {\n        name: 'containerappstoredsecret'\n        value: '<value>'\n      }\n      {\n        identity: '<identity>'\n        keyVaultUrl: '<keyVaultUrl>'\n        name: 'keyvaultstoredsecret'\n      }\n    ]\n    service: {\n      type: 'Web'\n    }\n    tags: {\n      Env: 'test'\n      'hidden-title': 'This is visible in the resource name'\n    }\n  }\n}"}
{"id": "avm_res_app_container-app_example_5", "source": "avm/res/app/container-app/README.md", "content_to_embed": "Recommended AVM Module for Container Apps: VNet integrated container app deployment - This instance deploys the container app in a managed environment with a virtual network using TCP ingress.\nResource Type Path: Microsoft.App/containerApps\nModule ID: br/public:avm/res/app/container-app:0.19\nParameters:\nparams: {\n    // Required parameters\n    containers: [\n      {\n        image: 'mcr.microsoft.com/k8se/quickstart:latest'\n        name: 'simple-hello-world-container'\n        resources: {\n          cpu: '<cpu>'\n          memory: '0.5Gi'\n        }\n      }\n    ]\n    environmentResourceId: '<environmentResourceId>'\n    name: 'acavnet001'\n    // Non-required parameters\n    additionalPortMappings: [\n      {\n        exposedPort: 8080\n        external: false\n        targetPort: 8080\n      }\n    ]\n    ingressAllowInsecure: false\n    ingressExternal: false\n    ingressTargetPort: 80\n    ingressTransport: 'tcp'\n  }", "bicep": "module containerApp 'br/public:avm/res/app/container-app:0.19' = {\n  name: 'containerAppDeployment'\n  params: {\n    // Required parameters\n    containers: [\n      {\n        image: 'mcr.microsoft.com/k8se/quickstart:latest'\n        name: 'simple-hello-world-container'\n        resources: {\n          cpu: '<cpu>'\n          memory: '0.5Gi'\n        }\n      }\n    ]\n    environmentResourceId: '<environmentResourceId>'\n    name: 'acavnet001'\n    // Non-required parameters\n    additionalPortMappings: [\n      {\n        exposedPort: 8080\n        external: false\n        targetPort: 8080\n      }\n    ]\n    ingressAllowInsecure: false\n    ingressExternal: false\n    ingressTargetPort: 80\n    ingressTransport: 'tcp'\n  }\n}"}
{"id": "avm_res_app_container-app_example_6", "source": "avm/res/app/container-app/README.md", "content_to_embed": "Recommended AVM Module for Container Apps: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.App/containerApps\nModule ID: br/public:avm/res/app/container-app:0.19\nParameters:\nparams: {\n    // Required parameters\n    containers: [\n      {\n        image: 'mcr.microsoft.com/k8se/quickstart:latest'\n        name: 'simple-hello-world-container'\n        probes: [\n          {\n            httpGet: {\n              httpHeaders: [\n                {\n                  name: 'Custom-Header'\n                  value: 'Awesome'\n                }\n              ]\n              path: '/health'\n              port: 8080\n            }\n            initialDelaySeconds: 3\n            periodSeconds: 3\n            type: 'Liveness'\n          }\n        ]\n        resources: {\n          cpu: '<cpu>'\n          memory: '0.5Gi'\n        }\n      }\n    ]\n    environmentResourceId: '<environmentResourceId>'\n    name: 'acawaf001'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        logCategoriesAndGroups: []\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    ingressAllowInsecure: false\n    ingressExternal: false\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    tags: {\n      Env: 'test'\n      'hidden-title': 'This is visible in the resource name'\n    }\n  }", "bicep": "module containerApp 'br/public:avm/res/app/container-app:0.19' = {\n  name: 'containerAppDeployment'\n  params: {\n    // Required parameters\n    containers: [\n      {\n        image: 'mcr.microsoft.com/k8se/quickstart:latest'\n        name: 'simple-hello-world-container'\n        probes: [\n          {\n            httpGet: {\n              httpHeaders: [\n                {\n                  name: 'Custom-Header'\n                  value: 'Awesome'\n                }\n              ]\n              path: '/health'\n              port: 8080\n            }\n            initialDelaySeconds: 3\n            periodSeconds: 3\n            type: 'Liveness'\n          }\n        ]\n        resources: {\n          cpu: '<cpu>'\n          memory: '0.5Gi'\n        }\n      }\n    ]\n    environmentResourceId: '<environmentResourceId>'\n    name: 'acawaf001'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        logCategoriesAndGroups: []\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    ingressAllowInsecure: false\n    ingressExternal: false\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    tags: {\n      Env: 'test'\n      'hidden-title': 'This is visible in the resource name'\n    }\n  }\n}"}
{"id": "avm_res_app_job_example_1", "source": "avm/res/app/job/README.md", "content_to_embed": "Recommended AVM Module for Container App Jobs: Using a consumption plan - This instance deploys the module to a Container Apps Environment with a consumption plan.\nResource Type Path: Microsoft.App/jobs\nModule ID: br/public:avm/res/app/job:0.7\nParameters:\nparams: {\n    // Required parameters\n    containers: [\n      {\n        image: 'mcr.microsoft.com/azuredocs/containerapps-helloworld:latest'\n        name: 'simple-hello-world-container'\n      }\n    ]\n    environmentResourceId: '<environmentResourceId>'\n    name: 'ajcon001'\n    triggerType: 'Manual'\n    // Non-required parameters\n    location: '<location>'\n    manualTriggerConfig: {}\n  }", "bicep": "module job 'br/public:avm/res/app/job:0.7' = {\n  name: 'jobDeployment'\n  params: {\n    // Required parameters\n    containers: [\n      {\n        image: 'mcr.microsoft.com/azuredocs/containerapps-helloworld:latest'\n        name: 'simple-hello-world-container'\n      }\n    ]\n    environmentResourceId: '<environmentResourceId>'\n    name: 'ajcon001'\n    triggerType: 'Manual'\n    // Non-required parameters\n    location: '<location>'\n    manualTriggerConfig: {}\n  }\n}"}
{"id": "avm_res_app_job_example_2", "source": "avm/res/app/job/README.md", "content_to_embed": "Recommended AVM Module for Container App Jobs: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.App/jobs\nModule ID: br/public:avm/res/app/job:0.7\nParameters:\nparams: {\n    // Required parameters\n    containers: [\n      {\n        image: 'mcr.microsoft.com/azuredocs/containerapps-helloworld:latest'\n        name: 'simple-hello-world-container'\n        resources: {\n          cpu: '0.25'\n          memory: '0.5Gi'\n        }\n      }\n    ]\n    environmentResourceId: '<environmentResourceId>'\n    name: 'ajmin001'\n    triggerType: 'Manual'\n    // Non-required parameters\n    location: '<location>'\n    manualTriggerConfig: {}\n  }", "bicep": "module job 'br/public:avm/res/app/job:0.7' = {\n  name: 'jobDeployment'\n  params: {\n    // Required parameters\n    containers: [\n      {\n        image: 'mcr.microsoft.com/azuredocs/containerapps-helloworld:latest'\n        name: 'simple-hello-world-container'\n        resources: {\n          cpu: '0.25'\n          memory: '0.5Gi'\n        }\n      }\n    ]\n    environmentResourceId: '<environmentResourceId>'\n    name: 'ajmin001'\n    triggerType: 'Manual'\n    // Non-required parameters\n    location: '<location>'\n    manualTriggerConfig: {}\n  }\n}"}
{"id": "avm_res_app_job_example_3", "source": "avm/res/app/job/README.md", "content_to_embed": "Recommended AVM Module for Container App Jobs: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.App/jobs\nModule ID: br/public:avm/res/app/job:0.7\nParameters:\nparams: {\n    // Required parameters\n    containers: [\n      {\n        env: [\n          {\n            name: 'AZURE_STORAGE_QUEUE_NAME'\n            value: '<value>'\n          }\n          {\n            name: 'AZURE_STORAGE_CONNECTION_STRING'\n            secretRef: 'connection-string'\n          }\n        ]\n        image: 'mcr.microsoft.com/azuredocs/containerapps-helloworld:latest'\n        name: 'simple-hello-world-container'\n        probes: [\n          {\n            httpGet: {\n              httpHeaders: [\n                {\n                  name: 'Custom-Header'\n                  value: 'Awesome'\n                }\n              ]\n              path: '/health'\n              port: 8080\n            }\n            initialDelaySeconds: 3\n            periodSeconds: 3\n            type: 'Liveness'\n          }\n        ]\n        resources: {\n          cpu: '1.25'\n          memory: '1.5Gi'\n        }\n        volumeMounts: [\n          {\n            mountPath: '/mnt/data'\n            volumeName: 'ajmaxemptydir'\n          }\n        ]\n      }\n      {\n        args: [\n          'arg1'\n          'arg2'\n        ]\n        command: [\n          '-c'\n          '/bin/bash'\n          'echo hello'\n          'sleep 100000'\n        ]\n        env: [\n          {\n            name: 'SOME_ENV_VAR'\n            value: 'some-value'\n          }\n        ]\n        image: 'mcr.microsoft.com/azuredocs/containerapps-helloworld:latest'\n        name: 'second-simple-container'\n      }\n    ]\n    environmentResourceId: '<environmentResourceId>'\n    name: 'ajmax001'\n    triggerType: 'Event'\n    // Non-required parameters\n    eventTriggerConfig: {\n      parallelism: 1\n      replicaCompletionCount: 1\n      scale: {\n        maxExecutions: 10\n        minExecutions: 1\n        pollingInterval: 55\n        rules: [\n          {\n            auth: [\n              {\n                secretRef: 'connection-string'\n                triggerParameter: 'connection'\n              }\n            ]\n            metadata: {\n              queueName: '<queueName>'\n              storageAccountResourceId: '<storageAccountResourceId>'\n            }\n            name: 'queue-connectionstring'\n            type: 'azure-queue'\n          }\n          {\n            auth: []\n            identity: '<identity>'\n            metadata: {\n              accountName: '<accountName>'\n              cloud: 'AzurePublicCloud'\n              queueLength: '2'\n              queueName: '<queueName>'\n            }\n            name: 'queue-identity-user'\n            type: 'azure-queue'\n          }\n          {\n            auth: []\n            identity: 'system'\n            metadata: {\n              accountName: '<accountName>'\n              cloud: 'AzurePublicCloud'\n              queueLength: '2'\n              queueName: '<queueName>'\n            }\n            name: 'queue-identity-system'\n            type: 'azure-queue'\n          }\n        ]\n      }\n    }\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    roleAssignments: [\n      {\n        name: 'be1bb251-6a44-49f7-8658-d836d0049fc4'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    secrets: [\n      {\n        name: 'connection-string'\n        value: '<value>'\n      }\n    ]\n    tags: {\n      Env: 'test'\n      'hidden-title': 'This is visible in the resource name'\n    }\n    volumes: [\n      {\n        name: 'ajmaxemptydir'\n        storageType: 'EmptyDir'\n      }\n    ]\n    workloadProfileName: '<workloadProfileName>'\n  }", "bicep": "module job 'br/public:avm/res/app/job:0.7' = {\n  name: 'jobDeployment'\n  params: {\n    // Required parameters\n    containers: [\n      {\n        env: [\n          {\n            name: 'AZURE_STORAGE_QUEUE_NAME'\n            value: '<value>'\n          }\n          {\n            name: 'AZURE_STORAGE_CONNECTION_STRING'\n            secretRef: 'connection-string'\n          }\n        ]\n        image: 'mcr.microsoft.com/azuredocs/containerapps-helloworld:latest'\n        name: 'simple-hello-world-container'\n        probes: [\n          {\n            httpGet: {\n              httpHeaders: [\n                {\n                  name: 'Custom-Header'\n                  value: 'Awesome'\n                }\n              ]\n              path: '/health'\n              port: 8080\n            }\n            initialDelaySeconds: 3\n            periodSeconds: 3\n            type: 'Liveness'\n          }\n        ]\n        resources: {\n          cpu: '1.25'\n          memory: '1.5Gi'\n        }\n        volumeMounts: [\n          {\n            mountPath: '/mnt/data'\n            volumeName: 'ajmaxemptydir'\n          }\n        ]\n      }\n      {\n        args: [\n          'arg1'\n          'arg2'\n        ]\n        command: [\n          '-c'\n          '/bin/bash'\n          'echo hello'\n          'sleep 100000'\n        ]\n        env: [\n          {\n            name: 'SOME_ENV_VAR'\n            value: 'some-value'\n          }\n        ]\n        image: 'mcr.microsoft.com/azuredocs/containerapps-helloworld:latest'\n        name: 'second-simple-container'\n      }\n    ]\n    environmentResourceId: '<environmentResourceId>'\n    name: 'ajmax001'\n    triggerType: 'Event'\n    // Non-required parameters\n    eventTriggerConfig: {\n      parallelism: 1\n      replicaCompletionCount: 1\n      scale: {\n        maxExecutions: 10\n        minExecutions: 1\n        pollingInterval: 55\n        rules: [\n          {\n            auth: [\n              {\n                secretRef: 'connection-string'\n                triggerParameter: 'connection'\n              }\n            ]\n            metadata: {\n              queueName: '<queueName>'\n              storageAccountResourceId: '<storageAccountResourceId>'\n            }\n            name: 'queue-connectionstring'\n            type: 'azure-queue'\n          }\n          {\n            auth: []\n            identity: '<identity>'\n            metadata: {\n              accountName: '<accountName>'\n              cloud: 'AzurePublicCloud'\n              queueLength: '2'\n              queueName: '<queueName>'\n            }\n            name: 'queue-identity-user'\n            type: 'azure-queue'\n          }\n          {\n            auth: []\n            identity: 'system'\n            metadata: {\n              accountName: '<accountName>'\n              cloud: 'AzurePublicCloud'\n              queueLength: '2'\n              queueName: '<queueName>'\n            }\n            name: 'queue-identity-system'\n            type: 'azure-queue'\n          }\n        ]\n      }\n    }\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    roleAssignments: [\n      {\n        name: 'be1bb251-6a44-49f7-8658-d836d0049fc4'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    secrets: [\n      {\n        name: 'connection-string'\n        value: '<value>'\n      }\n    ]\n    tags: {\n      Env: 'test'\n      'hidden-title': 'This is visible in the resource name'\n    }\n    volumes: [\n      {\n        name: 'ajmaxemptydir'\n        storageType: 'EmptyDir'\n      }\n    ]\n    workloadProfileName: '<workloadProfileName>'\n  }\n}"}
{"id": "avm_res_app_job_example_4", "source": "avm/res/app/job/README.md", "content_to_embed": "Recommended AVM Module for Container App Jobs: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.App/jobs\nModule ID: br/public:avm/res/app/job:0.7\nParameters:\nparams: {\n    // Required parameters\n    containers: [\n      {\n        image: 'mcr.microsoft.com/azuredocs/containerapps-helloworld:latest'\n        name: 'simple-hello-world-container'\n        probes: [\n          {\n            httpGet: {\n              httpHeaders: [\n                {\n                  name: 'Custom-Header'\n                  value: 'Awesome'\n                }\n              ]\n              path: '/health'\n              port: 8080\n            }\n            initialDelaySeconds: 3\n            periodSeconds: 3\n            type: 'Liveness'\n          }\n        ]\n        resources: {\n          cpu: '0.25'\n          memory: '0.5Gi'\n        }\n      }\n    ]\n    environmentResourceId: '<environmentResourceId>'\n    name: 'ajwaf001'\n    triggerType: 'Schedule'\n    // Non-required parameters\n    location: '<location>'\n    scheduleTriggerConfig: {\n      cronExpression: '0 0 * * *'\n    }\n    tags: {\n      Env: 'test'\n      'hidden-title': 'This is visible in the resource name'\n    }\n    workloadProfileName: '<workloadProfileName>'\n  }", "bicep": "module job 'br/public:avm/res/app/job:0.7' = {\n  name: 'jobDeployment'\n  params: {\n    // Required parameters\n    containers: [\n      {\n        image: 'mcr.microsoft.com/azuredocs/containerapps-helloworld:latest'\n        name: 'simple-hello-world-container'\n        probes: [\n          {\n            httpGet: {\n              httpHeaders: [\n                {\n                  name: 'Custom-Header'\n                  value: 'Awesome'\n                }\n              ]\n              path: '/health'\n              port: 8080\n            }\n            initialDelaySeconds: 3\n            periodSeconds: 3\n            type: 'Liveness'\n          }\n        ]\n        resources: {\n          cpu: '0.25'\n          memory: '0.5Gi'\n        }\n      }\n    ]\n    environmentResourceId: '<environmentResourceId>'\n    name: 'ajwaf001'\n    triggerType: 'Schedule'\n    // Non-required parameters\n    location: '<location>'\n    scheduleTriggerConfig: {\n      cronExpression: '0 0 * * *'\n    }\n    tags: {\n      Env: 'test'\n      'hidden-title': 'This is visible in the resource name'\n    }\n    workloadProfileName: '<workloadProfileName>'\n  }\n}"}
{"id": "avm_res_app_managed-environment_example_1", "source": "avm/res/app/managed-environment/README.md", "content_to_embed": "Recommended AVM Module for App ManagedEnvironments: No App Logging - This instance deploys the module to use Azure Monitor for logging.\nResource Type Path: Microsoft.App/managedEnvironments\nModule ID: br/public:avm/res/app/managed-environment:0.11\nParameters:\nparams: {\n    // Required parameters\n    name: 'ameamon001'\n    // Non-required parameters\n    appLogsConfiguration: {\n      destination: 'azure-monitor'\n    }\n    dockerBridgeCidr: '172.16.0.1/28'\n    infrastructureResourceGroupName: '<infrastructureResourceGroupName>'\n    infrastructureSubnetResourceId: '<infrastructureSubnetResourceId>'\n    internal: true\n    platformReservedCidr: '172.17.17.0/24'\n    platformReservedDnsIP: '172.17.17.17'\n    workloadProfiles: [\n      {\n        maximumCount: 3\n        minimumCount: 0\n        name: 'CAW01'\n        workloadProfileType: 'D4'\n      }\n    ]\n  }", "bicep": "module managedEnvironment 'br/public:avm/res/app/managed-environment:0.11' = {\n  name: 'managedEnvironmentDeployment'\n  params: {\n    // Required parameters\n    name: 'ameamon001'\n    // Non-required parameters\n    appLogsConfiguration: {\n      destination: 'azure-monitor'\n    }\n    dockerBridgeCidr: '172.16.0.1/28'\n    infrastructureResourceGroupName: '<infrastructureResourceGroupName>'\n    infrastructureSubnetResourceId: '<infrastructureSubnetResourceId>'\n    internal: true\n    platformReservedCidr: '172.17.17.0/24'\n    platformReservedDnsIP: '172.17.17.17'\n    workloadProfiles: [\n      {\n        maximumCount: 3\n        minimumCount: 0\n        name: 'CAW01'\n        workloadProfileType: 'D4'\n      }\n    ]\n  }\n}"}
{"id": "avm_res_app_managed-environment_example_2", "source": "avm/res/app/managed-environment/README.md", "content_to_embed": "Recommended AVM Module for App ManagedEnvironments: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.App/managedEnvironments\nModule ID: br/public:avm/res/app/managed-environment:0.11\nParameters:\nparams: {\n    // Required parameters\n    name: 'amemin001'\n    // Non-required parameters\n    dockerBridgeCidr: '172.16.0.1/28'\n    infrastructureResourceGroupName: '<infrastructureResourceGroupName>'\n    infrastructureSubnetResourceId: '<infrastructureSubnetResourceId>'\n    internal: true\n    platformReservedCidr: '172.17.17.0/24'\n    platformReservedDnsIP: '172.17.17.17'\n    workloadProfiles: [\n      {\n        maximumCount: 3\n        minimumCount: 0\n        name: 'CAW01'\n        workloadProfileType: 'D4'\n      }\n    ]\n  }", "bicep": "module managedEnvironment 'br/public:avm/res/app/managed-environment:0.11' = {\n  name: 'managedEnvironmentDeployment'\n  params: {\n    // Required parameters\n    name: 'amemin001'\n    // Non-required parameters\n    dockerBridgeCidr: '172.16.0.1/28'\n    infrastructureResourceGroupName: '<infrastructureResourceGroupName>'\n    infrastructureSubnetResourceId: '<infrastructureSubnetResourceId>'\n    internal: true\n    platformReservedCidr: '172.17.17.0/24'\n    platformReservedDnsIP: '172.17.17.17'\n    workloadProfiles: [\n      {\n        maximumCount: 3\n        minimumCount: 0\n        name: 'CAW01'\n        workloadProfileType: 'D4'\n      }\n    ]\n  }\n}"}
{"id": "avm_res_app_managed-environment_example_3", "source": "avm/res/app/managed-environment/README.md", "content_to_embed": "Recommended AVM Module for App ManagedEnvironments: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.App/managedEnvironments\nModule ID: br/public:avm/res/app/managed-environment:0.11\nParameters:\nparams: {\n    // Required parameters\n    name: 'amemax001'\n    // Non-required parameters\n    appInsightsConnectionString: '<appInsightsConnectionString>'\n    appLogsConfiguration: {\n      destination: 'log-analytics'\n      logAnalyticsConfiguration: {\n        customerId: '<customerId>'\n        sharedKey: '<sharedKey>'\n      }\n    }\n    certificate: {\n      certificateKeyVaultProperties: {\n        identityResourceId: '<identityResourceId>'\n        keyVaultUrl: '<keyVaultUrl>'\n      }\n      name: 'dep-cert-amemax'\n    }\n    dnsSuffix: 'contoso.com'\n    dockerBridgeCidr: '172.16.0.1/28'\n    infrastructureResourceGroupName: '<infrastructureResourceGroupName>'\n    infrastructureSubnetResourceId: '<infrastructureSubnetResourceId>'\n    internal: true\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    openTelemetryConfiguration: {\n      logsConfiguration: {\n        destinations: [\n          'appInsights'\n        ]\n      }\n      tracesConfiguration: {\n        destinations: [\n          'appInsights'\n        ]\n      }\n    }\n    peerTrafficEncryption: true\n    platformReservedCidr: '172.17.17.0/24'\n    platformReservedDnsIP: '172.17.17.17'\n    roleAssignments: [\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    storages: [\n      {\n        accessMode: 'ReadWrite'\n        kind: 'SMB'\n        shareName: 'smbfileshare'\n        storageAccountName: '<storageAccountName>'\n      }\n      {\n        accessMode: 'ReadWrite'\n        kind: 'NFS'\n        shareName: 'nfsfileshare'\n        storageAccountName: '<storageAccountName>'\n      }\n    ]\n    tags: {\n      Env: 'test'\n      'hidden-title': 'This is visible in the resource name'\n    }\n    workloadProfiles: [\n      {\n        maximumCount: 3\n        minimumCount: 0\n        name: 'CAW01'\n        workloadProfileType: 'D4'\n      }\n    ]\n  }", "bicep": "module managedEnvironment 'br/public:avm/res/app/managed-environment:0.11' = {\n  name: 'managedEnvironmentDeployment'\n  params: {\n    // Required parameters\n    name: 'amemax001'\n    // Non-required parameters\n    appInsightsConnectionString: '<appInsightsConnectionString>'\n    appLogsConfiguration: {\n      destination: 'log-analytics'\n      logAnalyticsConfiguration: {\n        customerId: '<customerId>'\n        sharedKey: '<sharedKey>'\n      }\n    }\n    certificate: {\n      certificateKeyVaultProperties: {\n        identityResourceId: '<identityResourceId>'\n        keyVaultUrl: '<keyVaultUrl>'\n      }\n      name: 'dep-cert-amemax'\n    }\n    dnsSuffix: 'contoso.com'\n    dockerBridgeCidr: '172.16.0.1/28'\n    infrastructureResourceGroupName: '<infrastructureResourceGroupName>'\n    infrastructureSubnetResourceId: '<infrastructureSubnetResourceId>'\n    internal: true\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    openTelemetryConfiguration: {\n      logsConfiguration: {\n        destinations: [\n          'appInsights'\n        ]\n      }\n      tracesConfiguration: {\n        destinations: [\n          'appInsights'\n        ]\n      }\n    }\n    peerTrafficEncryption: true\n    platformReservedCidr: '172.17.17.0/24'\n    platformReservedDnsIP: '172.17.17.17'\n    roleAssignments: [\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    storages: [\n      {\n        accessMode: 'ReadWrite'\n        kind: 'SMB'\n        shareName: 'smbfileshare'\n        storageAccountName: '<storageAccountName>'\n      }\n      {\n        accessMode: 'ReadWrite'\n        kind: 'NFS'\n        shareName: 'nfsfileshare'\n        storageAccountName: '<storageAccountName>'\n      }\n    ]\n    tags: {\n      Env: 'test'\n      'hidden-title': 'This is visible in the resource name'\n    }\n    workloadProfiles: [\n      {\n        maximumCount: 3\n        minimumCount: 0\n        name: 'CAW01'\n        workloadProfileType: 'D4'\n      }\n    ]\n  }\n}"}
{"id": "avm_res_app_managed-environment_example_4", "source": "avm/res/app/managed-environment/README.md", "content_to_embed": "Recommended AVM Module for App ManagedEnvironments: Enable public access - This instance deploys the module with public access enabled.\nResource Type Path: Microsoft.App/managedEnvironments\nModule ID: br/public:avm/res/app/managed-environment:0.11\nParameters:\nparams: {\n    // Required parameters\n    name: 'amepa001'\n    // Non-required parameters\n    appLogsConfiguration: {\n      destination: 'log-analytics'\n      logAnalyticsConfiguration: {\n        customerId: '<customerId>'\n        sharedKey: '<sharedKey>'\n      }\n    }\n    dockerBridgeCidr: '172.16.0.1/28'\n    infrastructureResourceGroupName: '<infrastructureResourceGroupName>'\n    infrastructureSubnetResourceId: '<infrastructureSubnetResourceId>'\n    location: '<location>'\n    platformReservedCidr: '172.17.17.0/24'\n    platformReservedDnsIP: '172.17.17.17'\n    publicNetworkAccess: 'Enabled'\n    workloadProfiles: [\n      {\n        maximumCount: 3\n        minimumCount: 0\n        name: 'CAW01'\n        workloadProfileType: 'D4'\n      }\n    ]\n  }", "bicep": "module managedEnvironment 'br/public:avm/res/app/managed-environment:0.11' = {\n  name: 'managedEnvironmentDeployment'\n  params: {\n    // Required parameters\n    name: 'amepa001'\n    // Non-required parameters\n    appLogsConfiguration: {\n      destination: 'log-analytics'\n      logAnalyticsConfiguration: {\n        customerId: '<customerId>'\n        sharedKey: '<sharedKey>'\n      }\n    }\n    dockerBridgeCidr: '172.16.0.1/28'\n    infrastructureResourceGroupName: '<infrastructureResourceGroupName>'\n    infrastructureSubnetResourceId: '<infrastructureSubnetResourceId>'\n    location: '<location>'\n    platformReservedCidr: '172.17.17.0/24'\n    platformReservedDnsIP: '172.17.17.17'\n    publicNetworkAccess: 'Enabled'\n    workloadProfiles: [\n      {\n        maximumCount: 3\n        minimumCount: 0\n        name: 'CAW01'\n        workloadProfileType: 'D4'\n      }\n    ]\n  }\n}"}
{"id": "avm_res_app_managed-environment_example_5", "source": "avm/res/app/managed-environment/README.md", "content_to_embed": "Recommended AVM Module for App ManagedEnvironments: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.App/managedEnvironments\nModule ID: br/public:avm/res/app/managed-environment:0.11\nParameters:\nparams: {\n    // Required parameters\n    name: 'amewaf001'\n    // Non-required parameters\n    appLogsConfiguration: {\n      destination: 'log-analytics'\n      logAnalyticsConfiguration: {\n        customerId: '<customerId>'\n        sharedKey: '<sharedKey>'\n      }\n    }\n    dockerBridgeCidr: '172.16.0.1/28'\n    infrastructureResourceGroupName: '<infrastructureResourceGroupName>'\n    infrastructureSubnetResourceId: '<infrastructureSubnetResourceId>'\n    internal: true\n    platformReservedCidr: '172.17.17.0/24'\n    platformReservedDnsIP: '172.17.17.17'\n    tags: {\n      Env: 'test'\n      'hidden-title': 'This is visible in the resource name'\n    }\n    workloadProfiles: [\n      {\n        maximumCount: 3\n        minimumCount: 0\n        name: 'CAW01'\n        workloadProfileType: 'D4'\n      }\n    ]\n  }", "bicep": "module managedEnvironment 'br/public:avm/res/app/managed-environment:0.11' = {\n  name: 'managedEnvironmentDeployment'\n  params: {\n    // Required parameters\n    name: 'amewaf001'\n    // Non-required parameters\n    appLogsConfiguration: {\n      destination: 'log-analytics'\n      logAnalyticsConfiguration: {\n        customerId: '<customerId>'\n        sharedKey: '<sharedKey>'\n      }\n    }\n    dockerBridgeCidr: '172.16.0.1/28'\n    infrastructureResourceGroupName: '<infrastructureResourceGroupName>'\n    infrastructureSubnetResourceId: '<infrastructureSubnetResourceId>'\n    internal: true\n    platformReservedCidr: '172.17.17.0/24'\n    platformReservedDnsIP: '172.17.17.17'\n    tags: {\n      Env: 'test'\n      'hidden-title': 'This is visible in the resource name'\n    }\n    workloadProfiles: [\n      {\n        maximumCount: 3\n        minimumCount: 0\n        name: 'CAW01'\n        workloadProfileType: 'D4'\n      }\n    ]\n  }\n}"}
{"id": "avm_res_app_session-pool_example_1", "source": "avm/res/app/session-pool/README.md", "content_to_embed": "Recommended AVM Module for Container App Session Pool: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.App/sessionPools\nModule ID: br/public:avm/res/app/session-pool:0.2\nParameters:\nparams: {\n    // Required parameters\n    containerType: 'PythonLTS'\n    name: 'aspmin001'\n    // Non-required parameters\n    location: '<location>'\n  }", "bicep": "module sessionPool 'br/public:avm/res/app/session-pool:0.2' = {\n  name: 'sessionPoolDeployment'\n  params: {\n    // Required parameters\n    containerType: 'PythonLTS'\n    name: 'aspmin001'\n    // Non-required parameters\n    location: '<location>'\n  }\n}"}
{"id": "avm_res_app_session-pool_example_2", "source": "avm/res/app/session-pool/README.md", "content_to_embed": "Recommended AVM Module for Container App Session Pool: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.App/sessionPools\nModule ID: br/public:avm/res/app/session-pool:0.2\nParameters:\nparams: {\n    // Required parameters\n    containerType: 'PythonLTS'\n    name: 'aspmax001'\n    // Non-required parameters\n    cooldownPeriodInSeconds: 350\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentitySettings: [\n      {\n        identity: '<identity>'\n        lifecycle: 'Main'\n      }\n    ]\n    maxConcurrentSessions: 6\n    poolManagementType: 'Dynamic'\n    readySessionInstances: 1\n    roleAssignments: [\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Azure ContainerApps Session Executor'\n      }\n    ]\n    sessionNetworkStatus: 'EgressDisabled'\n    tags: {\n      resourceType: 'Session Pool'\n    }\n  }", "bicep": "module sessionPool 'br/public:avm/res/app/session-pool:0.2' = {\n  name: 'sessionPoolDeployment'\n  params: {\n    // Required parameters\n    containerType: 'PythonLTS'\n    name: 'aspmax001'\n    // Non-required parameters\n    cooldownPeriodInSeconds: 350\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentitySettings: [\n      {\n        identity: '<identity>'\n        lifecycle: 'Main'\n      }\n    ]\n    maxConcurrentSessions: 6\n    poolManagementType: 'Dynamic'\n    readySessionInstances: 1\n    roleAssignments: [\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Azure ContainerApps Session Executor'\n      }\n    ]\n    sessionNetworkStatus: 'EgressDisabled'\n    tags: {\n      resourceType: 'Session Pool'\n    }\n  }\n}"}
{"id": "avm_res_app_session-pool_example_3", "source": "avm/res/app/session-pool/README.md", "content_to_embed": "Recommended AVM Module for Container App Session Pool: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.App/sessionPools\nModule ID: br/public:avm/res/app/session-pool:0.2\nParameters:\nparams: {\n    // Required parameters\n    containerType: 'PythonLTS'\n    name: 'aspwaf001'\n    // Non-required parameters\n    location: '<location>'\n    sessionNetworkStatus: 'EgressDisabled'\n    tags: {\n      resourceType: 'Session Pool'\n    }\n  }", "bicep": "module sessionPool 'br/public:avm/res/app/session-pool:0.2' = {\n  name: 'sessionPoolDeployment'\n  params: {\n    // Required parameters\n    containerType: 'PythonLTS'\n    name: 'aspwaf001'\n    // Non-required parameters\n    location: '<location>'\n    sessionNetworkStatus: 'EgressDisabled'\n    tags: {\n      resourceType: 'Session Pool'\n    }\n  }\n}"}
{"id": "avm_res_app-configuration_configuration-store_example_1", "source": "avm/res/app-configuration/configuration-store/README.md", "content_to_embed": "Recommended AVM Module for App Configuration Stores: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.AppConfiguration/configurationStores\nModule ID: br/public:avm/res/app-configuration/configuration-store:0.9\nParameters:\nparams: {\n    // Required parameters\n    name: 'accmin001'\n    // Non-required parameters\n    enablePurgeProtection: false\n  }", "bicep": "module configurationStore 'br/public:avm/res/app-configuration/configuration-store:0.9' = {\n  name: 'configurationStoreDeployment'\n  params: {\n    // Required parameters\n    name: 'accmin001'\n    // Non-required parameters\n    enablePurgeProtection: false\n  }\n}"}
{"id": "avm_res_app-configuration_configuration-store_example_2", "source": "avm/res/app-configuration/configuration-store/README.md", "content_to_embed": "Recommended AVM Module for App Configuration Stores: Using Customer-Managed-Keys with User-Assigned identity - This instance deploys the module using Customer-Managed-Keys using a User-Assigned Identity to access the Customer-Managed-Key secret.\nResource Type Path: Microsoft.AppConfiguration/configurationStores\nModule ID: br/public:avm/res/app-configuration/configuration-store:0.9\nParameters:\nparams: {\n    // Required parameters\n    name: 'accencr001'\n    // Non-required parameters\n    createMode: 'Default'\n    customerManagedKey: {\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n      userAssignedIdentityResourceId: '<userAssignedIdentityResourceId>'\n    }\n    disableLocalAuth: '<disableLocalAuth>'\n    enablePurgeProtection: false\n    keyValues: [\n      {\n        contentType: 'contentType'\n        name: 'keyName'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Reader'\n          }\n        ]\n        value: 'valueName'\n      }\n    ]\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    softDeleteRetentionInDays: 1\n  }", "bicep": "module configurationStore 'br/public:avm/res/app-configuration/configuration-store:0.9' = {\n  name: 'configurationStoreDeployment'\n  params: {\n    // Required parameters\n    name: 'accencr001'\n    // Non-required parameters\n    createMode: 'Default'\n    customerManagedKey: {\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n      userAssignedIdentityResourceId: '<userAssignedIdentityResourceId>'\n    }\n    disableLocalAuth: '<disableLocalAuth>'\n    enablePurgeProtection: false\n    keyValues: [\n      {\n        contentType: 'contentType'\n        name: 'keyName'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Reader'\n          }\n        ]\n        value: 'valueName'\n      }\n    ]\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    softDeleteRetentionInDays: 1\n  }\n}"}
{"id": "avm_res_app-configuration_configuration-store_example_3", "source": "avm/res/app-configuration/configuration-store/README.md", "content_to_embed": "Recommended AVM Module for App Configuration Stores: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.AppConfiguration/configurationStores\nModule ID: br/public:avm/res/app-configuration/configuration-store:0.9\nParameters:\nparams: {\n    // Required parameters\n    name: 'accmax001'\n    // Non-required parameters\n    createMode: 'Default'\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    disableLocalAuth: '<disableLocalAuth>'\n    enablePurgeProtection: false\n    keyValues: [\n      {\n        contentType: 'contentType'\n        name: 'keyName'\n        roleAssignments: [\n          {\n            name: '56e2c190-b31e-4518-84de-170b8a5c1b24'\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n        value: 'valueName'\n      }\n      {\n        name: 'keyName2'\n        value: 'valueName2'\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    replicaLocations: [\n      {\n        name: 'mycentralusreplica'\n        replicaLocation: 'centralus'\n      }\n      {\n        replicaLocation: 'westus'\n      }\n    ]\n    roleAssignments: [\n      {\n        name: '695044c2-3f1f-4843-970a-bed584b95a9a'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    softDeleteRetentionInDays: 1\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module configurationStore 'br/public:avm/res/app-configuration/configuration-store:0.9' = {\n  name: 'configurationStoreDeployment'\n  params: {\n    // Required parameters\n    name: 'accmax001'\n    // Non-required parameters\n    createMode: 'Default'\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    disableLocalAuth: '<disableLocalAuth>'\n    enablePurgeProtection: false\n    keyValues: [\n      {\n        contentType: 'contentType'\n        name: 'keyName'\n        roleAssignments: [\n          {\n            name: '56e2c190-b31e-4518-84de-170b8a5c1b24'\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n        value: 'valueName'\n      }\n      {\n        name: 'keyName2'\n        value: 'valueName2'\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    replicaLocations: [\n      {\n        name: 'mycentralusreplica'\n        replicaLocation: 'centralus'\n      }\n      {\n        replicaLocation: 'westus'\n      }\n    ]\n    roleAssignments: [\n      {\n        name: '695044c2-3f1f-4843-970a-bed584b95a9a'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    softDeleteRetentionInDays: 1\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_app-configuration_configuration-store_example_4", "source": "avm/res/app-configuration/configuration-store/README.md", "content_to_embed": "Recommended AVM Module for App Configuration Stores: Private endpoint-enabled deployment - This instance deploys the module with private endpoints.\nResource Type Path: Microsoft.AppConfiguration/configurationStores\nModule ID: br/public:avm/res/app-configuration/configuration-store:0.9\nParameters:\nparams: {\n    // Required parameters\n    name: 'accpe001'\n    // Non-required parameters\n    createMode: 'Default'\n    enablePurgeProtection: false\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    softDeleteRetentionInDays: 1\n  }", "bicep": "module configurationStore 'br/public:avm/res/app-configuration/configuration-store:0.9' = {\n  name: 'configurationStoreDeployment'\n  params: {\n    // Required parameters\n    name: 'accpe001'\n    // Non-required parameters\n    createMode: 'Default'\n    enablePurgeProtection: false\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    softDeleteRetentionInDays: 1\n  }\n}"}
{"id": "avm_res_app-configuration_configuration-store_example_5", "source": "avm/res/app-configuration/configuration-store/README.md", "content_to_embed": "Recommended AVM Module for App Configuration Stores: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.AppConfiguration/configurationStores\nModule ID: br/public:avm/res/app-configuration/configuration-store:0.9\nParameters:\nparams: {\n    // Required parameters\n    name: 'accwaf001'\n    // Non-required parameters\n    createMode: 'Default'\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    disableLocalAuth: '<disableLocalAuth>'\n    enablePurgeProtection: false\n    keyValues: [\n      {\n        contentType: 'contentType'\n        name: 'keyName'\n        value: 'valueName'\n      }\n    ]\n    replicaLocations: [\n      {\n        replicaLocation: 'centralus'\n      }\n      {\n        replicaLocation: 'westus'\n      }\n    ]\n    softDeleteRetentionInDays: 1\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module configurationStore 'br/public:avm/res/app-configuration/configuration-store:0.9' = {\n  name: 'configurationStoreDeployment'\n  params: {\n    // Required parameters\n    name: 'accwaf001'\n    // Non-required parameters\n    createMode: 'Default'\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    disableLocalAuth: '<disableLocalAuth>'\n    enablePurgeProtection: false\n    keyValues: [\n      {\n        contentType: 'contentType'\n        name: 'keyName'\n        value: 'valueName'\n      }\n    ]\n    replicaLocations: [\n      {\n        replicaLocation: 'centralus'\n      }\n      {\n        replicaLocation: 'westus'\n      }\n    ]\n    softDeleteRetentionInDays: 1\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_authorization_policy-assignment_mg-scope_example_1", "source": "avm/res/authorization/policy-assignment/mg-scope/README.md", "content_to_embed": "Recommended AVM Module for Policy Assignments (Management Group scope): Using only defaults (Management Group scope) - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Authorization/policyAssignments\nModule ID: br/public:avm/res/authorization/policy-assignment/mg-scope:0.1\nParameters:\nparams: {\n    // Required parameters\n    name: 'rapamgmin001'\n    policyDefinitionId: '/providers/Microsoft.Authorization/policyDefinitions/06a78e20-9358-41c9-923c-fb736d382a4d'\n    // Non-required parameters\n    metadata: {\n      assignedBy: 'Bicep'\n    }\n  }", "bicep": "module policyAssignment 'br/public:avm/res/authorization/policy-assignment/mg-scope:0.1' = {\n  name: 'policyAssignmentDeployment'\n  params: {\n    // Required parameters\n    name: 'rapamgmin001'\n    policyDefinitionId: '/providers/Microsoft.Authorization/policyDefinitions/06a78e20-9358-41c9-923c-fb736d382a4d'\n    // Non-required parameters\n    metadata: {\n      assignedBy: 'Bicep'\n    }\n  }\n}"}
{"id": "avm_res_authorization_policy-assignment_mg-scope_example_2", "source": "avm/res/authorization/policy-assignment/mg-scope/README.md", "content_to_embed": "Recommended AVM Module for Policy Assignments (Management Group scope): Policy Assignments (Management Group scope) - This module deploys a Policy Assignment at a Management Group scope using common parameters.\nResource Type Path: Microsoft.Authorization/policyAssignments\nModule ID: br/public:avm/res/authorization/policy-assignment/mg-scope:0.1\nParameters:\nparams: {\n    // Required parameters\n    name: 'rapamgmax001'\n    policyDefinitionId: '/providers/Microsoft.Authorization/policySetDefinitions/39a366e6-fdde-4f41-bbf8-3757f46d1611'\n    // Non-required parameters\n    additionalManagementGroupsIDsToAssignRbacTo: [\n      '<name>'\n    ]\n    additionalResourceGroupResourceIDsToAssignRbacTo: [\n      '<resourceId>'\n    ]\n    additionalSubscriptionIDsToAssignRbacTo: [\n      '<subscriptionId>'\n    ]\n    definitionVersion: '1.*.*-preview'\n    description: '[Description] Policy Assignment at the management group scope'\n    displayName: '[Display Name] Policy Assignment at the management group scope'\n    enforcementMode: 'DoNotEnforce'\n    location: '<location>'\n    managedIdentities: {\n      userAssignedResourceId: '<userAssignedResourceId>'\n    }\n    metadata: {\n      assignedBy: 'Bicep'\n      category: 'Security'\n      version: '1.0'\n    }\n    nonComplianceMessages: [\n      {\n        message: 'Violated Policy Assignment - This is a Non Compliance Message'\n      }\n    ]\n    notScopes: [\n      '<resourceId>'\n    ]\n    overrides: [\n      {\n        kind: 'policyEffect'\n        selectors: [\n          {\n            in: [\n              'ASC_DeployAzureDefenderForSqlAdvancedThreatProtectionWindowsAgent'\n              'ASC_DeployAzureDefenderForSqlVulnerabilityAssessmentWindowsAgent'\n            ]\n            kind: 'policyDefinitionReferenceId'\n          }\n        ]\n        value: 'Disabled'\n      }\n    ]\n    parameters: {\n      effect: {\n        value: 'DeployIfNotExists'\n      }\n      enableCollectionOfSqlQueriesForSecurityResearch: {\n        value: false\n      }\n    }\n    resourceSelectors: [\n      {\n        name: 'resourceSelector-test'\n        selectors: [\n          {\n            in: [\n              'Microsoft.Compute/virtualMachines'\n            ]\n            kind: 'resourceType'\n          }\n          {\n            in: [\n              'westeurope'\n            ]\n            kind: 'resourceLocation'\n          }\n        ]\n      }\n    ]\n    roleDefinitionIds: [\n      '/providers/microsoft.authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c'\n    ]\n  }", "bicep": "module policyAssignment 'br/public:avm/res/authorization/policy-assignment/mg-scope:0.1' = {\n  name: 'policyAssignmentDeployment'\n  params: {\n    // Required parameters\n    name: 'rapamgmax001'\n    policyDefinitionId: '/providers/Microsoft.Authorization/policySetDefinitions/39a366e6-fdde-4f41-bbf8-3757f46d1611'\n    // Non-required parameters\n    additionalManagementGroupsIDsToAssignRbacTo: [\n      '<name>'\n    ]\n    additionalResourceGroupResourceIDsToAssignRbacTo: [\n      '<resourceId>'\n    ]\n    additionalSubscriptionIDsToAssignRbacTo: [\n      '<subscriptionId>'\n    ]\n    definitionVersion: '1.*.*-preview'\n    description: '[Description] Policy Assignment at the management group scope'\n    displayName: '[Display Name] Policy Assignment at the management group scope'\n    enforcementMode: 'DoNotEnforce'\n    location: '<location>'\n    managedIdentities: {\n      userAssignedResourceId: '<userAssignedResourceId>'\n    }\n    metadata: {\n      assignedBy: 'Bicep'\n      category: 'Security'\n      version: '1.0'\n    }\n    nonComplianceMessages: [\n      {\n        message: 'Violated Policy Assignment - This is a Non Compliance Message'\n      }\n    ]\n    notScopes: [\n      '<resourceId>'\n    ]\n    overrides: [\n      {\n        kind: 'policyEffect'\n        selectors: [\n          {\n            in: [\n              'ASC_DeployAzureDefenderForSqlAdvancedThreatProtectionWindowsAgent'\n              'ASC_DeployAzureDefenderForSqlVulnerabilityAssessmentWindowsAgent'\n            ]\n            kind: 'policyDefinitionReferenceId'\n          }\n        ]\n        value: 'Disabled'\n      }\n    ]\n    parameters: {\n      effect: {\n        value: 'DeployIfNotExists'\n      }\n      enableCollectionOfSqlQueriesForSecurityResearch: {\n        value: false\n      }\n    }\n    resourceSelectors: [\n      {\n        name: 'resourceSelector-test'\n        selectors: [\n          {\n            in: [\n              'Microsoft.Compute/virtualMachines'\n            ]\n            kind: 'resourceType'\n          }\n          {\n            in: [\n              'westeurope'\n            ]\n            kind: 'resourceLocation'\n          }\n        ]\n      }\n    ]\n    roleDefinitionIds: [\n      '/providers/microsoft.authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c'\n    ]\n  }\n}"}
{"id": "avm_res_authorization_policy-assignment_mg-scope_example_3", "source": "avm/res/authorization/policy-assignment/mg-scope/README.md", "content_to_embed": "Recommended AVM Module for Policy Assignments (Management Group scope): WAF-aligned (Management Group scope) - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Authorization/policyAssignments\nModule ID: br/public:avm/res/authorization/policy-assignment/mg-scope:0.1\nParameters:\nparams: {\n    // Required parameters\n    name: 'rapamgwaf001'\n    policyDefinitionId: '/providers/Microsoft.Authorization/policyDefinitions/06a78e20-9358-41c9-923c-fb736d382a4d'\n    // Non-required parameters\n    additionalManagementGroupsIDsToAssignRbacTo: [\n      '<name>'\n    ]\n    metadata: {\n      assignedBy: 'Bicep'\n    }\n    roleDefinitionIds: [\n      '/providers/microsoft.authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c'\n    ]\n  }", "bicep": "module policyAssignment 'br/public:avm/res/authorization/policy-assignment/mg-scope:0.1' = {\n  name: 'policyAssignmentDeployment'\n  params: {\n    // Required parameters\n    name: 'rapamgwaf001'\n    policyDefinitionId: '/providers/Microsoft.Authorization/policyDefinitions/06a78e20-9358-41c9-923c-fb736d382a4d'\n    // Non-required parameters\n    additionalManagementGroupsIDsToAssignRbacTo: [\n      '<name>'\n    ]\n    metadata: {\n      assignedBy: 'Bicep'\n    }\n    roleDefinitionIds: [\n      '/providers/microsoft.authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c'\n    ]\n  }\n}"}
{"id": "avm_res_authorization_policy-assignment_rg-scope_example_1", "source": "avm/res/authorization/policy-assignment/rg-scope/README.md", "content_to_embed": "Recommended AVM Module for Policy Assignments (Resource Group scope): Using only defaults (Resource Group scope) - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Authorization/policyAssignments\nModule ID: br/public:avm/res/authorization/policy-assignment/rg-scope:0.1\nParameters:\nparams: {\n    // Required parameters\n    name: 'rapargmin001'\n    policyDefinitionId: '/providers/Microsoft.Authorization/policyDefinitions/06a78e20-9358-41c9-923c-fb736d382a4d'\n    // Non-required parameters\n    metadata: {\n      assignedBy: 'Bicep'\n    }\n  }", "bicep": "module policyAssignment 'br/public:avm/res/authorization/policy-assignment/rg-scope:0.1' = {\n  name: 'policyAssignmentDeployment'\n  params: {\n    // Required parameters\n    name: 'rapargmin001'\n    policyDefinitionId: '/providers/Microsoft.Authorization/policyDefinitions/06a78e20-9358-41c9-923c-fb736d382a4d'\n    // Non-required parameters\n    metadata: {\n      assignedBy: 'Bicep'\n    }\n  }\n}"}
{"id": "avm_res_authorization_policy-assignment_rg-scope_example_2", "source": "avm/res/authorization/policy-assignment/rg-scope/README.md", "content_to_embed": "Recommended AVM Module for Policy Assignments (Resource Group scope): Using large parameter set (Resource Group scope) - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Authorization/policyAssignments\nModule ID: br/public:avm/res/authorization/policy-assignment/rg-scope:0.1\nParameters:\nparams: {\n    // Required parameters\n    name: 'rapargmax001'\n    policyDefinitionId: '/providers/Microsoft.Authorization/policySetDefinitions/39a366e6-fdde-4f41-bbf8-3757f46d1611'\n    // Non-required parameters\n    additionalResourceGroupResourceIDsToAssignRbacTo: [\n      '<id>'\n    ]\n    definitionVersion: '1.*.*-preview'\n    description: '[Description] Policy Assignment at the subscription scope'\n    displayName: '[Display Name] Policy Assignment at the subscription scope'\n    enforcementMode: 'DoNotEnforce'\n    location: '<location>'\n    managedIdentities: {\n      userAssignedResourceId: '<userAssignedResourceId>'\n    }\n    metadata: {\n      assignedBy: 'Bicep'\n      category: 'Security'\n      version: '1.0'\n    }\n    nonComplianceMessages: [\n      {\n        message: 'Violated Policy Assignment - This is a Non Compliance Message'\n      }\n    ]\n    notScopes: [\n      '<value>/providers/Microsoft.Network/virtualNetworks/myVnet'\n    ]\n    overrides: [\n      {\n        kind: 'policyEffect'\n        selectors: [\n          {\n            in: [\n              'ASC_DeployAzureDefenderForSqlAdvancedThreatProtectionWindowsAgent'\n              'ASC_DeployAzureDefenderForSqlVulnerabilityAssessmentWindowsAgent'\n            ]\n            kind: 'policyDefinitionReferenceId'\n          }\n        ]\n        value: 'Disabled'\n      }\n    ]\n    parameters: {\n      effect: {\n        value: 'DeployIfNotExists'\n      }\n      enableCollectionOfSqlQueriesForSecurityResearch: {\n        value: false\n      }\n    }\n    resourceSelectors: [\n      {\n        name: 'resourceSelector-test'\n        selectors: [\n          {\n            in: [\n              'Microsoft.Compute/virtualMachines'\n            ]\n            kind: 'resourceType'\n          }\n          {\n            in: [\n              'westeurope'\n            ]\n            kind: 'resourceLocation'\n          }\n        ]\n      }\n    ]\n    roleDefinitionIds: [\n      '/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c'\n    ]\n  }", "bicep": "module policyAssignment 'br/public:avm/res/authorization/policy-assignment/rg-scope:0.1' = {\n  name: 'policyAssignmentDeployment'\n  params: {\n    // Required parameters\n    name: 'rapargmax001'\n    policyDefinitionId: '/providers/Microsoft.Authorization/policySetDefinitions/39a366e6-fdde-4f41-bbf8-3757f46d1611'\n    // Non-required parameters\n    additionalResourceGroupResourceIDsToAssignRbacTo: [\n      '<id>'\n    ]\n    definitionVersion: '1.*.*-preview'\n    description: '[Description] Policy Assignment at the subscription scope'\n    displayName: '[Display Name] Policy Assignment at the subscription scope'\n    enforcementMode: 'DoNotEnforce'\n    location: '<location>'\n    managedIdentities: {\n      userAssignedResourceId: '<userAssignedResourceId>'\n    }\n    metadata: {\n      assignedBy: 'Bicep'\n      category: 'Security'\n      version: '1.0'\n    }\n    nonComplianceMessages: [\n      {\n        message: 'Violated Policy Assignment - This is a Non Compliance Message'\n      }\n    ]\n    notScopes: [\n      '<value>/providers/Microsoft.Network/virtualNetworks/myVnet'\n    ]\n    overrides: [\n      {\n        kind: 'policyEffect'\n        selectors: [\n          {\n            in: [\n              'ASC_DeployAzureDefenderForSqlAdvancedThreatProtectionWindowsAgent'\n              'ASC_DeployAzureDefenderForSqlVulnerabilityAssessmentWindowsAgent'\n            ]\n            kind: 'policyDefinitionReferenceId'\n          }\n        ]\n        value: 'Disabled'\n      }\n    ]\n    parameters: {\n      effect: {\n        value: 'DeployIfNotExists'\n      }\n      enableCollectionOfSqlQueriesForSecurityResearch: {\n        value: false\n      }\n    }\n    resourceSelectors: [\n      {\n        name: 'resourceSelector-test'\n        selectors: [\n          {\n            in: [\n              'Microsoft.Compute/virtualMachines'\n            ]\n            kind: 'resourceType'\n          }\n          {\n            in: [\n              'westeurope'\n            ]\n            kind: 'resourceLocation'\n          }\n        ]\n      }\n    ]\n    roleDefinitionIds: [\n      '/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c'\n    ]\n  }\n}"}
{"id": "avm_res_authorization_policy-assignment_rg-scope_example_3", "source": "avm/res/authorization/policy-assignment/rg-scope/README.md", "content_to_embed": "Recommended AVM Module for Policy Assignments (Resource Group scope): WAF-aligned (Resource Group scope) - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Authorization/policyAssignments\nModule ID: br/public:avm/res/authorization/policy-assignment/rg-scope:0.1\nParameters:\nparams: {\n    // Required parameters\n    name: 'rapargwaf001'\n    policyDefinitionId: '/providers/Microsoft.Authorization/policyDefinitions/06a78e20-9358-41c9-923c-fb736d382a4d'\n    // Non-required parameters\n    additionalResourceGroupResourceIDsToAssignRbacTo: [\n      '<id>'\n    ]\n    metadata: {\n      assignedBy: 'Bicep'\n    }\n    roleDefinitionIds: [\n      '/providers/microsoft.authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c'\n    ]\n  }", "bicep": "module policyAssignment 'br/public:avm/res/authorization/policy-assignment/rg-scope:0.1' = {\n  name: 'policyAssignmentDeployment'\n  params: {\n    // Required parameters\n    name: 'rapargwaf001'\n    policyDefinitionId: '/providers/Microsoft.Authorization/policyDefinitions/06a78e20-9358-41c9-923c-fb736d382a4d'\n    // Non-required parameters\n    additionalResourceGroupResourceIDsToAssignRbacTo: [\n      '<id>'\n    ]\n    metadata: {\n      assignedBy: 'Bicep'\n    }\n    roleDefinitionIds: [\n      '/providers/microsoft.authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c'\n    ]\n  }\n}"}
{"id": "avm_res_authorization_policy-assignment_sub-scope_example_1", "source": "avm/res/authorization/policy-assignment/sub-scope/README.md", "content_to_embed": "Recommended AVM Module for Policy Assignments (Subscription scope): Using only defaults (Subscription scope) - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Authorization/policyAssignments\nModule ID: br/public:avm/res/authorization/policy-assignment/sub-scope:0.1\nParameters:\nparams: {\n    // Required parameters\n    name: 'rapasubmin001'\n    policyDefinitionId: '/providers/Microsoft.Authorization/policyDefinitions/06a78e20-9358-41c9-923c-fb736d382a4d'\n    // Non-required parameters\n    metadata: {\n      assignedBy: 'Bicep'\n    }\n  }", "bicep": "module policyAssignment 'br/public:avm/res/authorization/policy-assignment/sub-scope:0.1' = {\n  name: 'policyAssignmentDeployment'\n  params: {\n    // Required parameters\n    name: 'rapasubmin001'\n    policyDefinitionId: '/providers/Microsoft.Authorization/policyDefinitions/06a78e20-9358-41c9-923c-fb736d382a4d'\n    // Non-required parameters\n    metadata: {\n      assignedBy: 'Bicep'\n    }\n  }\n}"}
{"id": "avm_res_authorization_policy-assignment_sub-scope_example_2", "source": "avm/res/authorization/policy-assignment/sub-scope/README.md", "content_to_embed": "Recommended AVM Module for Policy Assignments (Subscription scope): Using large parameter set (Subscription scope) - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Authorization/policyAssignments\nModule ID: br/public:avm/res/authorization/policy-assignment/sub-scope:0.1\nParameters:\nparams: {\n    // Required parameters\n    name: 'rapasubmax001'\n    policyDefinitionId: '/providers/Microsoft.Authorization/policySetDefinitions/39a366e6-fdde-4f41-bbf8-3757f46d1611'\n    // Non-required parameters\n    additionalResourceGroupResourceIDsToAssignRbacTo: [\n      '<id>'\n    ]\n    additionalSubscriptionIDsToAssignRbacTo: [\n      '<subscriptionId>'\n    ]\n    definitionVersion: '1.*.*-preview'\n    description: '[Description] Policy Assignment at the subscription scope'\n    displayName: '[Display Name] Policy Assignment at the subscription scope'\n    enforcementMode: 'DoNotEnforce'\n    location: '<location>'\n    managedIdentities: {\n      userAssignedResourceId: '<userAssignedResourceId>'\n    }\n    metadata: {\n      assignedBy: 'Bicep'\n      category: 'Security'\n      version: '1.0'\n    }\n    nonComplianceMessages: [\n      {\n        message: 'Violated Policy Assignment - This is a Non Compliance Message'\n      }\n    ]\n    notScopes: [\n      '<id>'\n    ]\n    overrides: [\n      {\n        kind: 'policyEffect'\n        selectors: [\n          {\n            in: [\n              'ASC_DeployAzureDefenderForSqlAdvancedThreatProtectionWindowsAgent'\n              'ASC_DeployAzureDefenderForSqlVulnerabilityAssessmentWindowsAgent'\n            ]\n            kind: 'policyDefinitionReferenceId'\n          }\n        ]\n        value: 'Disabled'\n      }\n    ]\n    parameters: {\n      effect: {\n        value: 'DeployIfNotExists'\n      }\n      enableCollectionOfSqlQueriesForSecurityResearch: {\n        value: false\n      }\n    }\n    resourceSelectors: [\n      {\n        name: 'resourceSelector-test'\n        selectors: [\n          {\n            in: [\n              'Microsoft.Compute/virtualMachines'\n            ]\n            kind: 'resourceType'\n          }\n          {\n            in: [\n              'westeurope'\n            ]\n            kind: 'resourceLocation'\n          }\n        ]\n      }\n    ]\n    roleDefinitionIds: [\n      '/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c'\n    ]\n  }", "bicep": "module policyAssignment 'br/public:avm/res/authorization/policy-assignment/sub-scope:0.1' = {\n  name: 'policyAssignmentDeployment'\n  params: {\n    // Required parameters\n    name: 'rapasubmax001'\n    policyDefinitionId: '/providers/Microsoft.Authorization/policySetDefinitions/39a366e6-fdde-4f41-bbf8-3757f46d1611'\n    // Non-required parameters\n    additionalResourceGroupResourceIDsToAssignRbacTo: [\n      '<id>'\n    ]\n    additionalSubscriptionIDsToAssignRbacTo: [\n      '<subscriptionId>'\n    ]\n    definitionVersion: '1.*.*-preview'\n    description: '[Description] Policy Assignment at the subscription scope'\n    displayName: '[Display Name] Policy Assignment at the subscription scope'\n    enforcementMode: 'DoNotEnforce'\n    location: '<location>'\n    managedIdentities: {\n      userAssignedResourceId: '<userAssignedResourceId>'\n    }\n    metadata: {\n      assignedBy: 'Bicep'\n      category: 'Security'\n      version: '1.0'\n    }\n    nonComplianceMessages: [\n      {\n        message: 'Violated Policy Assignment - This is a Non Compliance Message'\n      }\n    ]\n    notScopes: [\n      '<id>'\n    ]\n    overrides: [\n      {\n        kind: 'policyEffect'\n        selectors: [\n          {\n            in: [\n              'ASC_DeployAzureDefenderForSqlAdvancedThreatProtectionWindowsAgent'\n              'ASC_DeployAzureDefenderForSqlVulnerabilityAssessmentWindowsAgent'\n            ]\n            kind: 'policyDefinitionReferenceId'\n          }\n        ]\n        value: 'Disabled'\n      }\n    ]\n    parameters: {\n      effect: {\n        value: 'DeployIfNotExists'\n      }\n      enableCollectionOfSqlQueriesForSecurityResearch: {\n        value: false\n      }\n    }\n    resourceSelectors: [\n      {\n        name: 'resourceSelector-test'\n        selectors: [\n          {\n            in: [\n              'Microsoft.Compute/virtualMachines'\n            ]\n            kind: 'resourceType'\n          }\n          {\n            in: [\n              'westeurope'\n            ]\n            kind: 'resourceLocation'\n          }\n        ]\n      }\n    ]\n    roleDefinitionIds: [\n      '/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c'\n    ]\n  }\n}"}
{"id": "avm_res_authorization_policy-assignment_sub-scope_example_3", "source": "avm/res/authorization/policy-assignment/sub-scope/README.md", "content_to_embed": "Recommended AVM Module for Policy Assignments (Subscription scope): Using only defaults (Subscription scope) - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Authorization/policyAssignments\nModule ID: br/public:avm/res/authorization/policy-assignment/sub-scope:0.1\nParameters:\nparams: {\n    // Required parameters\n    name: 'rapasubwaf001'\n    policyDefinitionId: '/providers/Microsoft.Authorization/policyDefinitions/06a78e20-9358-41c9-923c-fb736d382a4d'\n    // Non-required parameters\n    additionalSubscriptionIDsToAssignRbacTo: [\n      '<subscriptionId>'\n    ]\n    metadata: {\n      assignedBy: 'Bicep'\n    }\n    roleDefinitionIds: [\n      '/providers/microsoft.authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c'\n    ]\n  }", "bicep": "module policyAssignment 'br/public:avm/res/authorization/policy-assignment/sub-scope:0.1' = {\n  name: 'policyAssignmentDeployment'\n  params: {\n    // Required parameters\n    name: 'rapasubwaf001'\n    policyDefinitionId: '/providers/Microsoft.Authorization/policyDefinitions/06a78e20-9358-41c9-923c-fb736d382a4d'\n    // Non-required parameters\n    additionalSubscriptionIDsToAssignRbacTo: [\n      '<subscriptionId>'\n    ]\n    metadata: {\n      assignedBy: 'Bicep'\n    }\n    roleDefinitionIds: [\n      '/providers/microsoft.authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c'\n    ]\n  }\n}"}
{"id": "avm_res_authorization_role-assignment_mg-scope_example_1", "source": "avm/res/authorization/role-assignment/mg-scope/README.md", "content_to_embed": "Recommended AVM Module for Role Assignments (Management Group scope): Using only defaults (Management Group scope) - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Authorization/roleAssignments\nModule ID: br/public:avm/res/authorization/role-assignment/mg-scope:0.1\nParameters:\nparams: {\n    // Required parameters\n    principalId: '<principalId>'\n    roleDefinitionIdOrName: 'Resource Policy Contributor'\n    // Non-required parameters\n    location: '<location>'\n    principalType: 'ServicePrincipal'\n  }", "bicep": "module roleAssignment 'br/public:avm/res/authorization/role-assignment/mg-scope:0.1' = {\n  name: 'roleAssignmentDeployment'\n  params: {\n    // Required parameters\n    principalId: '<principalId>'\n    roleDefinitionIdOrName: 'Resource Policy Contributor'\n    // Non-required parameters\n    location: '<location>'\n    principalType: 'ServicePrincipal'\n  }\n}"}
{"id": "avm_res_authorization_role-assignment_mg-scope_example_2", "source": "avm/res/authorization/role-assignment/mg-scope/README.md", "content_to_embed": "Recommended AVM Module for Role Assignments (Management Group scope): Using large parameter set (Management Group scope) - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Authorization/roleAssignments\nModule ID: br/public:avm/res/authorization/role-assignment/mg-scope:0.1\nParameters:\nparams: {\n    // Required parameters\n    principalId: '<principalId>'\n    roleDefinitionIdOrName: 'Management Group Reader'\n    // Non-required parameters\n    description: 'Role Assignment (management group scope)'\n    location: '<location>'\n    managementGroupId: '<managementGroupId>'\n    principalType: 'ServicePrincipal'\n  }", "bicep": "module roleAssignment 'br/public:avm/res/authorization/role-assignment/mg-scope:0.1' = {\n  name: 'roleAssignmentDeployment'\n  params: {\n    // Required parameters\n    principalId: '<principalId>'\n    roleDefinitionIdOrName: 'Management Group Reader'\n    // Non-required parameters\n    description: 'Role Assignment (management group scope)'\n    location: '<location>'\n    managementGroupId: '<managementGroupId>'\n    principalType: 'ServicePrincipal'\n  }\n}"}
{"id": "avm_res_authorization_role-assignment_mg-scope_example_3", "source": "avm/res/authorization/role-assignment/mg-scope/README.md", "content_to_embed": "Recommended AVM Module for Role Assignments (Management Group scope): WAF-aligned (Management Group scope) - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Authorization/roleAssignments\nModule ID: br/public:avm/res/authorization/role-assignment/mg-scope:0.1\nParameters:\nparams: {\n    // Required parameters\n    principalId: '<principalId>'\n    roleDefinitionIdOrName: 'Resource Policy Contributor'\n    // Non-required parameters\n    location: '<location>'\n    principalType: 'ServicePrincipal'\n  }", "bicep": "module roleAssignment 'br/public:avm/res/authorization/role-assignment/mg-scope:0.1' = {\n  name: 'roleAssignmentDeployment'\n  params: {\n    // Required parameters\n    principalId: '<principalId>'\n    roleDefinitionIdOrName: 'Resource Policy Contributor'\n    // Non-required parameters\n    location: '<location>'\n    principalType: 'ServicePrincipal'\n  }\n}"}
{"id": "avm_res_authorization_role-assignment_rg-scope_example_1", "source": "avm/res/authorization/role-assignment/rg-scope/README.md", "content_to_embed": "Recommended AVM Module for Role Assignments (Resource Group scope): Using only defaults (Resource Group scope) - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Authorization/roleAssignments\nModule ID: br/public:avm/res/authorization/role-assignment/rg-scope:0.1\nParameters:\nparams: {\n    // Required parameters\n    principalId: '<principalId>'\n    roleDefinitionIdOrName: '/providers/Microsoft.Authorization/roleDefinitions/c2f4ef07-c644-48eb-af81-4b1b4947fb11'\n    // Non-required parameters\n    principalType: 'ServicePrincipal'\n  }", "bicep": "module roleAssignment 'br/public:avm/res/authorization/role-assignment/rg-scope:0.1' = {\n  name: 'roleAssignmentDeployment'\n  params: {\n    // Required parameters\n    principalId: '<principalId>'\n    roleDefinitionIdOrName: '/providers/Microsoft.Authorization/roleDefinitions/c2f4ef07-c644-48eb-af81-4b1b4947fb11'\n    // Non-required parameters\n    principalType: 'ServicePrincipal'\n  }\n}"}
{"id": "avm_res_authorization_role-assignment_rg-scope_example_2", "source": "avm/res/authorization/role-assignment/rg-scope/README.md", "content_to_embed": "Recommended AVM Module for Role Assignments (Resource Group scope): Using large parameter set (Resource Group scope) - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Authorization/roleAssignments\nModule ID: br/public:avm/res/authorization/role-assignment/rg-scope:0.1\nParameters:\nparams: {\n    // Required parameters\n    principalId: '<principalId>'\n    roleDefinitionIdOrName: 'Reader'\n    // Non-required parameters\n    description: 'Role Assignment (resource group scope)'\n    principalType: 'ServicePrincipal'\n  }", "bicep": "module roleAssignment 'br/public:avm/res/authorization/role-assignment/rg-scope:0.1' = {\n  name: 'roleAssignmentDeployment'\n  params: {\n    // Required parameters\n    principalId: '<principalId>'\n    roleDefinitionIdOrName: 'Reader'\n    // Non-required parameters\n    description: 'Role Assignment (resource group scope)'\n    principalType: 'ServicePrincipal'\n  }\n}"}
{"id": "avm_res_authorization_role-assignment_rg-scope_example_3", "source": "avm/res/authorization/role-assignment/rg-scope/README.md", "content_to_embed": "Recommended AVM Module for Role Assignments (Resource Group scope): WAF-aligned (Resource Group scope) - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Authorization/roleAssignments\nModule ID: br/public:avm/res/authorization/role-assignment/rg-scope:0.1\nParameters:\nparams: {\n    // Required parameters\n    principalId: '<principalId>'\n    roleDefinitionIdOrName: '/providers/Microsoft.Authorization/roleDefinitions/c2f4ef07-c644-48eb-af81-4b1b4947fb11'\n    // Non-required parameters\n    principalType: 'ServicePrincipal'\n  }", "bicep": "module roleAssignment 'br/public:avm/res/authorization/role-assignment/rg-scope:0.1' = {\n  name: 'roleAssignmentDeployment'\n  params: {\n    // Required parameters\n    principalId: '<principalId>'\n    roleDefinitionIdOrName: '/providers/Microsoft.Authorization/roleDefinitions/c2f4ef07-c644-48eb-af81-4b1b4947fb11'\n    // Non-required parameters\n    principalType: 'ServicePrincipal'\n  }\n}"}
{"id": "avm_res_authorization_role-assignment_sub-scope_example_1", "source": "avm/res/authorization/role-assignment/sub-scope/README.md", "content_to_embed": "Recommended AVM Module for Role Assignments (Subscription scope): Using only defaults (Subscription scope) - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Authorization/roleAssignments\nModule ID: br/public:avm/res/authorization/role-assignment/sub-scope:0.1\nParameters:\nparams: {\n    // Required parameters\n    principalId: '<principalId>'\n    roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n    // Non-required parameters\n    principalType: 'ServicePrincipal'\n  }", "bicep": "module roleAssignment 'br/public:avm/res/authorization/role-assignment/sub-scope:0.1' = {\n  name: 'roleAssignmentDeployment'\n  params: {\n    // Required parameters\n    principalId: '<principalId>'\n    roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n    // Non-required parameters\n    principalType: 'ServicePrincipal'\n  }\n}"}
{"id": "avm_res_authorization_role-assignment_sub-scope_example_2", "source": "avm/res/authorization/role-assignment/sub-scope/README.md", "content_to_embed": "Recommended AVM Module for Role Assignments (Subscription scope): Using large parameter set (Subscription scope) - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Authorization/roleAssignments\nModule ID: br/public:avm/res/authorization/role-assignment/sub-scope:0.1\nParameters:\nparams: {\n    // Required parameters\n    principalId: '<principalId>'\n    roleDefinitionIdOrName: 'Reader'\n    // Non-required parameters\n    description: 'Role Assignment (subscription scope)'\n    principalType: 'ServicePrincipal'\n  }", "bicep": "module roleAssignment 'br/public:avm/res/authorization/role-assignment/sub-scope:0.1' = {\n  name: 'roleAssignmentDeployment'\n  params: {\n    // Required parameters\n    principalId: '<principalId>'\n    roleDefinitionIdOrName: 'Reader'\n    // Non-required parameters\n    description: 'Role Assignment (subscription scope)'\n    principalType: 'ServicePrincipal'\n  }\n}"}
{"id": "avm_res_authorization_role-assignment_sub-scope_example_3", "source": "avm/res/authorization/role-assignment/sub-scope/README.md", "content_to_embed": "Recommended AVM Module for Role Assignments (Subscription scope): WAF-aligned (Subscription scope) - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Authorization/roleAssignments\nModule ID: br/public:avm/res/authorization/role-assignment/sub-scope:0.1\nParameters:\nparams: {\n    // Required parameters\n    principalId: '<principalId>'\n    roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n    // Non-required parameters\n    principalType: 'ServicePrincipal'\n  }", "bicep": "module roleAssignment 'br/public:avm/res/authorization/role-assignment/sub-scope:0.1' = {\n  name: 'roleAssignmentDeployment'\n  params: {\n    // Required parameters\n    principalId: '<principalId>'\n    roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n    // Non-required parameters\n    principalType: 'ServicePrincipal'\n  }\n}"}
{"id": "avm_res_automation_automation-account_example_1", "source": "avm/res/automation/automation-account/README.md", "content_to_embed": "Recommended AVM Module for Automation Accounts: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Automation/automationAccounts\nModule ID: br/public:avm/res/automation/automation-account:0.17\nParameters:\nparams: {\n    name: 'aamin001'\n  }", "bicep": "module automationAccount 'br/public:avm/res/automation/automation-account:0.17' = {\n  name: 'automationAccountDeployment'\n  params: {\n    name: 'aamin001'\n  }\n}"}
{"id": "avm_res_automation_automation-account_example_2", "source": "avm/res/automation/automation-account/README.md", "content_to_embed": "Recommended AVM Module for Automation Accounts: Using encryption with Customer-Managed-Key - This instance deploys the module using Customer-Managed-Keys using a User-Assigned Identity to access the Customer-Managed-Key secret.\nResource Type Path: Microsoft.Automation/automationAccounts\nModule ID: br/public:avm/res/automation/automation-account:0.17\nParameters:\nparams: {\n    // Required parameters\n    name: 'aaencr001'\n    // Non-required parameters\n    customerManagedKey: {\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n      userAssignedIdentityResourceId: '<userAssignedIdentityResourceId>'\n    }\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n  }", "bicep": "module automationAccount 'br/public:avm/res/automation/automation-account:0.17' = {\n  name: 'automationAccountDeployment'\n  params: {\n    // Required parameters\n    name: 'aaencr001'\n    // Non-required parameters\n    customerManagedKey: {\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n      userAssignedIdentityResourceId: '<userAssignedIdentityResourceId>'\n    }\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n  }\n}"}
{"id": "avm_res_automation_automation-account_example_3", "source": "avm/res/automation/automation-account/README.md", "content_to_embed": "Recommended AVM Module for Automation Accounts: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Automation/automationAccounts\nModule ID: br/public:avm/res/automation/automation-account:0.17\nParameters:\nparams: {\n    // Required parameters\n    name: 'aamax001'\n    // Non-required parameters\n    credentials: [\n      {\n        description: 'Description of Credential01'\n        name: 'Credential01'\n        password: '<password>'\n        userName: 'userName01'\n      }\n      {\n        name: 'Credential02'\n        password: '<password>'\n        userName: 'username02'\n      }\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    disableLocalAuth: true\n    gallerySolutions: [\n      {\n        name: '<name>'\n        plan: {\n          product: 'OMSGallery/Updates'\n          publisher: 'Microsoft'\n        }\n      }\n    ]\n    jobSchedules: [\n      {\n        runbookName: 'TestRunbook'\n        scheduleName: 'TestSchedule'\n      }\n    ]\n    linkedWorkspaceResourceId: '<linkedWorkspaceResourceId>'\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    modules: [\n      {\n        name: 'PSWindowsUpdate'\n        uri: 'https://www.powershellgallery.com/api/v2/package'\n        version: 'latest'\n      }\n    ]\n    powershell72Modules: [\n      {\n        name: 'powershell-yaml'\n        uri: 'https://www.powershellgallery.com/api/v2/package'\n        version: 'latest'\n      }\n    ]\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'Webhook'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'Webhook'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'DSCAndHybridWorker'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n    ]\n    python2Packages: [\n      {\n        name: 'pycx2-1.0.3-py2-none-any.whl'\n        uri: 'https://files.pythonhosted.org/packages/59/8c/40f66c4ac7564a68edd629a7836536af53d10b2d89f78c63e77cfcd9d460'\n        version: 'latest'\n      }\n    ]\n    python3Packages: [\n      {\n        name: 'geniz-0.0.1-py3-none-any.whl'\n        uri: 'https://files.pythonhosted.org/packages/8f/4b/c61bb7b176b34dd0c9ab0f3d821234c1e9f81f3ba5a609a1cf9032c852e7'\n        version: 'latest'\n      }\n    ]\n    roleAssignments: [\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    runbooks: [\n      {\n        description: 'Test runbook'\n        name: 'TestRunbook'\n        type: 'PowerShell'\n        uri: 'https://raw.githubusercontent.com/Azure/azure-quickstart-templates/master/quickstarts/microsoft.automation/101-automation/scripts/AzureAutomationTutorial.ps1'\n        version: '1.0.0.0'\n      }\n    ]\n    schedules: [\n      {\n        advancedSchedule: {}\n        expiryTime: '9999-12-31T13:00'\n        frequency: 'Hour'\n        interval: 12\n        name: 'TestSchedule'\n        startTime: ''\n        timeZone: 'Europe/Berlin'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    variables: [\n      {\n        description: 'TestStringDescription'\n        name: 'TestString'\n        value: '\\'TestString\\''\n      }\n      {\n        description: 'TestIntegerDescription'\n        name: 'TestInteger'\n        value: '500'\n      }\n      {\n        description: 'TestBooleanDescription'\n        name: 'TestBoolean'\n        value: 'false'\n      }\n      {\n        description: 'TestDateTimeDescription'\n        isEncrypted: false\n        name: 'TestDateTime'\n        value: '\\'\\\\/Date(1637934042656)\\\\/\\''\n      }\n      {\n        description: 'TestEncryptedDescription'\n        name: 'TestEncryptedVariable'\n        value: '\\'TestEncryptedValue\\''\n      }\n    ]\n    webhooks: [\n      {\n        expiryTime: '<expiryTime>'\n        name: 'TestWebhook'\n        parameters: {\n          param1: 'value1'\n          param2: 'value2'\n        }\n        runbookName: 'TestRunbook'\n      }\n    ]\n  }", "bicep": "module automationAccount 'br/public:avm/res/automation/automation-account:0.17' = {\n  name: 'automationAccountDeployment'\n  params: {\n    // Required parameters\n    name: 'aamax001'\n    // Non-required parameters\n    credentials: [\n      {\n        description: 'Description of Credential01'\n        name: 'Credential01'\n        password: '<password>'\n        userName: 'userName01'\n      }\n      {\n        name: 'Credential02'\n        password: '<password>'\n        userName: 'username02'\n      }\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    disableLocalAuth: true\n    gallerySolutions: [\n      {\n        name: '<name>'\n        plan: {\n          product: 'OMSGallery/Updates'\n          publisher: 'Microsoft'\n        }\n      }\n    ]\n    jobSchedules: [\n      {\n        runbookName: 'TestRunbook'\n        scheduleName: 'TestSchedule'\n      }\n    ]\n    linkedWorkspaceResourceId: '<linkedWorkspaceResourceId>'\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    modules: [\n      {\n        name: 'PSWindowsUpdate'\n        uri: 'https://www.powershellgallery.com/api/v2/package'\n        version: 'latest'\n      }\n    ]\n    powershell72Modules: [\n      {\n        name: 'powershell-yaml'\n        uri: 'https://www.powershellgallery.com/api/v2/package'\n        version: 'latest'\n      }\n    ]\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'Webhook'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'Webhook'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'DSCAndHybridWorker'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n    ]\n    python2Packages: [\n      {\n        name: 'pycx2-1.0.3-py2-none-any.whl'\n        uri: 'https://files.pythonhosted.org/packages/59/8c/40f66c4ac7564a68edd629a7836536af53d10b2d89f78c63e77cfcd9d460'\n        version: 'latest'\n      }\n    ]\n    python3Packages: [\n      {\n        name: 'geniz-0.0.1-py3-none-any.whl'\n        uri: 'https://files.pythonhosted.org/packages/8f/4b/c61bb7b176b34dd0c9ab0f3d821234c1e9f81f3ba5a609a1cf9032c852e7'\n        version: 'latest'\n      }\n    ]\n    roleAssignments: [\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    runbooks: [\n      {\n        description: 'Test runbook'\n        name: 'TestRunbook'\n        type: 'PowerShell'\n        uri: 'https://raw.githubusercontent.com/Azure/azure-quickstart-templates/master/quickstarts/microsoft.automation/101-automation/scripts/AzureAutomationTutorial.ps1'\n        version: '1.0.0.0'\n      }\n    ]\n    schedules: [\n      {\n        advancedSchedule: {}\n        expiryTime: '9999-12-31T13:00'\n        frequency: 'Hour'\n        interval: 12\n        name: 'TestSchedule'\n        startTime: ''\n        timeZone: 'Europe/Berlin'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    variables: [\n      {\n        description: 'TestStringDescription'\n        name: 'TestString'\n        value: '\\'TestString\\''\n      }\n      {\n        description: 'TestIntegerDescription'\n        name: 'TestInteger'\n        value: '500'\n      }\n      {\n        description: 'TestBooleanDescription'\n        name: 'TestBoolean'\n        value: 'false'\n      }\n      {\n        description: 'TestDateTimeDescription'\n        isEncrypted: false\n        name: 'TestDateTime'\n        value: '\\'\\\\/Date(1637934042656)\\\\/\\''\n      }\n      {\n        description: 'TestEncryptedDescription'\n        name: 'TestEncryptedVariable'\n        value: '\\'TestEncryptedValue\\''\n      }\n    ]\n    webhooks: [\n      {\n        expiryTime: '<expiryTime>'\n        name: 'TestWebhook'\n        parameters: {\n          param1: 'value1'\n          param2: 'value2'\n        }\n        runbookName: 'TestRunbook'\n      }\n    ]\n  }\n}"}
{"id": "avm_res_automation_automation-account_example_4", "source": "avm/res/automation/automation-account/README.md", "content_to_embed": "Recommended AVM Module for Automation Accounts: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Automation/automationAccounts\nModule ID: br/public:avm/res/automation/automation-account:0.17\nParameters:\nparams: {\n    // Required parameters\n    name: 'aawaf001'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    disableLocalAuth: true\n    gallerySolutions: [\n      {\n        name: '<name>'\n        plan: {\n          product: 'OMSGallery/Updates'\n        }\n      }\n    ]\n    jobSchedules: [\n      {\n        runbookName: 'TestRunbook'\n        scheduleName: 'TestSchedule'\n      }\n    ]\n    linkedWorkspaceResourceId: '<linkedWorkspaceResourceId>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    modules: [\n      {\n        name: 'PSWindowsUpdate'\n        uri: 'https://www.powershellgallery.com/api/v2/package'\n        version: 'latest'\n      }\n    ]\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'Webhook'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'DSCAndHybridWorker'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n    ]\n    runbooks: [\n      {\n        description: 'Test runbook'\n        name: 'TestRunbook'\n        type: 'PowerShell'\n        uri: 'https://raw.githubusercontent.com/Azure/azure-quickstart-templates/master/quickstarts/microsoft.automation/101-automation/scripts/AzureAutomationTutorial.ps1'\n        version: '1.0.0.0'\n      }\n    ]\n    schedules: [\n      {\n        advancedSchedule: {}\n        expiryTime: '9999-12-31T13:00'\n        frequency: 'Hour'\n        interval: 12\n        name: 'TestSchedule'\n        startTime: ''\n        timeZone: 'Europe/Berlin'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    variables: [\n      {\n        description: 'TestStringDescription'\n        name: 'TestString'\n        value: '\\'TestString\\''\n      }\n      {\n        description: 'TestIntegerDescription'\n        name: 'TestInteger'\n        value: '500'\n      }\n      {\n        description: 'TestBooleanDescription'\n        name: 'TestBoolean'\n        value: 'false'\n      }\n      {\n        description: 'TestDateTimeDescription'\n        name: 'TestDateTime'\n        value: '\\'\\\\/Date(1637934042656)\\\\/\\''\n      }\n      {\n        description: 'TestEncryptedDescription'\n        name: 'TestEncryptedVariable'\n        value: '\\'TestEncryptedValue\\''\n      }\n    ]\n  }", "bicep": "module automationAccount 'br/public:avm/res/automation/automation-account:0.17' = {\n  name: 'automationAccountDeployment'\n  params: {\n    // Required parameters\n    name: 'aawaf001'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    disableLocalAuth: true\n    gallerySolutions: [\n      {\n        name: '<name>'\n        plan: {\n          product: 'OMSGallery/Updates'\n        }\n      }\n    ]\n    jobSchedules: [\n      {\n        runbookName: 'TestRunbook'\n        scheduleName: 'TestSchedule'\n      }\n    ]\n    linkedWorkspaceResourceId: '<linkedWorkspaceResourceId>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    modules: [\n      {\n        name: 'PSWindowsUpdate'\n        uri: 'https://www.powershellgallery.com/api/v2/package'\n        version: 'latest'\n      }\n    ]\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'Webhook'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'DSCAndHybridWorker'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n    ]\n    runbooks: [\n      {\n        description: 'Test runbook'\n        name: 'TestRunbook'\n        type: 'PowerShell'\n        uri: 'https://raw.githubusercontent.com/Azure/azure-quickstart-templates/master/quickstarts/microsoft.automation/101-automation/scripts/AzureAutomationTutorial.ps1'\n        version: '1.0.0.0'\n      }\n    ]\n    schedules: [\n      {\n        advancedSchedule: {}\n        expiryTime: '9999-12-31T13:00'\n        frequency: 'Hour'\n        interval: 12\n        name: 'TestSchedule'\n        startTime: ''\n        timeZone: 'Europe/Berlin'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    variables: [\n      {\n        description: 'TestStringDescription'\n        name: 'TestString'\n        value: '\\'TestString\\''\n      }\n      {\n        description: 'TestIntegerDescription'\n        name: 'TestInteger'\n        value: '500'\n      }\n      {\n        description: 'TestBooleanDescription'\n        name: 'TestBoolean'\n        value: 'false'\n      }\n      {\n        description: 'TestDateTimeDescription'\n        name: 'TestDateTime'\n        value: '\\'\\\\/Date(1637934042656)\\\\/\\''\n      }\n      {\n        description: 'TestEncryptedDescription'\n        name: 'TestEncryptedVariable'\n        value: '\\'TestEncryptedValue\\''\n      }\n    ]\n  }\n}"}
{"id": "avm_res_azure-stack-hci_cluster_example_1", "source": "avm/res/azure-stack-hci/cluster/README.md", "content_to_embed": "Recommended AVM Module for Azure Stack HCI Cluster: Deploy Azure Stack HCI Cluster in Azure with a 2 node switched configuration - This test deploys an Azure VM to host a 2 node switched Azure Stack HCI cluster, validates the cluster configuration, and then deploys the cluster.\nResource Type Path: Microsoft.AzureStackHCI/clusters\nModule ID: br/public:avm/res/azure-stack-hci/cluster:0.2\nParameters:\nparams: {\n    // Required parameters\n    deploymentSettings: {\n      clusterNodeNames: '<clusterNodeNames>'\n      clusterWitnessStorageAccountName: '<clusterWitnessStorageAccountName>'\n      customLocationName: 'ashcmin-location'\n      defaultGateway: '192.168.1.1'\n      deploymentPrefix: '<deploymentPrefix>'\n      dnsServers: [\n        '192.168.1.254'\n      ]\n      domainFqdn: 'jumpstart.local'\n      domainOUPath: '<domainOUPath>'\n      enableStorageAutoIp: true\n      endingIPAddress: '192.168.1.65'\n      keyVaultName: '<keyVaultName>'\n      networkIntents: [\n        {\n          adapter: [\n            'FABRIC'\n            'FABRIC2'\n          ]\n          adapterPropertyOverrides: {\n            jumboPacket: '9014'\n            networkDirect: 'Disabled'\n            networkDirectTechnology: 'iWARP'\n          }\n          name: 'ManagementCompute'\n          overrideAdapterProperty: true\n          overrideQosPolicy: false\n          overrideVirtualSwitchConfiguration: false\n          qosPolicyOverrides: {\n            bandwidthPercentageSMB: '50'\n            priorityValue8021ActionCluster: '7'\n            priorityValue8021ActionSMB: '3'\n          }\n          trafficType: [\n            'Compute'\n            'Management'\n          ]\n          virtualSwitchConfigurationOverrides: {\n            enableIov: 'true'\n            loadBalancingAlgorithm: 'Dynamic'\n          }\n        }\n        {\n          adapter: [\n            'StorageA'\n            'StorageB'\n          ]\n          adapterPropertyOverrides: {\n            jumboPacket: '9014'\n            networkDirect: 'Disabled'\n            networkDirectTechnology: 'iWARP'\n          }\n          name: 'Storage'\n          overrideAdapterProperty: true\n          overrideQosPolicy: true\n          overrideVirtualSwitchConfiguration: false\n          qosPolicyOverrides: {\n            bandwidthPercentageSMB: '50'\n            priorityValue8021ActionCluster: '7'\n            priorityValue8021ActionSMB: '3'\n          }\n          trafficType: [\n            'Storage'\n          ]\n          virtualSwitchConfigurationOverrides: {\n            enableIov: 'true'\n            loadBalancingAlgorithm: 'Dynamic'\n          }\n        }\n      ]\n      startingIPAddress: '192.168.1.55'\n      storageConnectivitySwitchless: false\n      storageNetworks: [\n        {\n          adapterName: 'StorageA'\n          name: 'Storage1Network'\n          vlan: '711'\n        }\n        {\n          adapterName: 'StorageB'\n          name: 'Storage2Network'\n          vlan: '712'\n        }\n      ]\n      subnetMask: '255.255.255.0'\n    }\n    hciResourceProviderObjectId: '<hciResourceProviderObjectId>'\n    name: '<name>'\n    // Non-required parameters\n    deploymentUser: 'deployUser'\n    deploymentUserPassword: '<deploymentUserPassword>'\n    localAdminPassword: '<localAdminPassword>'\n    localAdminUser: 'Administrator'\n    servicePrincipalId: '<servicePrincipalId>'\n    servicePrincipalSecret: '<servicePrincipalSecret>'\n  }", "bicep": "module cluster 'br/public:avm/res/azure-stack-hci/cluster:0.2' = {\n  name: 'clusterDeployment'\n  params: {\n    // Required parameters\n    deploymentSettings: {\n      clusterNodeNames: '<clusterNodeNames>'\n      clusterWitnessStorageAccountName: '<clusterWitnessStorageAccountName>'\n      customLocationName: 'ashcmin-location'\n      defaultGateway: '192.168.1.1'\n      deploymentPrefix: '<deploymentPrefix>'\n      dnsServers: [\n        '192.168.1.254'\n      ]\n      domainFqdn: 'jumpstart.local'\n      domainOUPath: '<domainOUPath>'\n      enableStorageAutoIp: true\n      endingIPAddress: '192.168.1.65'\n      keyVaultName: '<keyVaultName>'\n      networkIntents: [\n        {\n          adapter: [\n            'FABRIC'\n            'FABRIC2'\n          ]\n          adapterPropertyOverrides: {\n            jumboPacket: '9014'\n            networkDirect: 'Disabled'\n            networkDirectTechnology: 'iWARP'\n          }\n          name: 'ManagementCompute'\n          overrideAdapterProperty: true\n          overrideQosPolicy: false\n          overrideVirtualSwitchConfiguration: false\n          qosPolicyOverrides: {\n            bandwidthPercentageSMB: '50'\n            priorityValue8021ActionCluster: '7'\n            priorityValue8021ActionSMB: '3'\n          }\n          trafficType: [\n            'Compute'\n            'Management'\n          ]\n          virtualSwitchConfigurationOverrides: {\n            enableIov: 'true'\n            loadBalancingAlgorithm: 'Dynamic'\n          }\n        }\n        {\n          adapter: [\n            'StorageA'\n            'StorageB'\n          ]\n          adapterPropertyOverrides: {\n            jumboPacket: '9014'\n            networkDirect: 'Disabled'\n            networkDirectTechnology: 'iWARP'\n          }\n          name: 'Storage'\n          overrideAdapterProperty: true\n          overrideQosPolicy: true\n          overrideVirtualSwitchConfiguration: false\n          qosPolicyOverrides: {\n            bandwidthPercentageSMB: '50'\n            priorityValue8021ActionCluster: '7'\n            priorityValue8021ActionSMB: '3'\n          }\n          trafficType: [\n            'Storage'\n          ]\n          virtualSwitchConfigurationOverrides: {\n            enableIov: 'true'\n            loadBalancingAlgorithm: 'Dynamic'\n          }\n        }\n      ]\n      startingIPAddress: '192.168.1.55'\n      storageConnectivitySwitchless: false\n      storageNetworks: [\n        {\n          adapterName: 'StorageA'\n          name: 'Storage1Network'\n          vlan: '711'\n        }\n        {\n          adapterName: 'StorageB'\n          name: 'Storage2Network'\n          vlan: '712'\n        }\n      ]\n      subnetMask: '255.255.255.0'\n    }\n    hciResourceProviderObjectId: '<hciResourceProviderObjectId>'\n    name: '<name>'\n    // Non-required parameters\n    deploymentUser: 'deployUser'\n    deploymentUserPassword: '<deploymentUserPassword>'\n    localAdminPassword: '<localAdminPassword>'\n    localAdminUser: 'Administrator'\n    servicePrincipalId: '<servicePrincipalId>'\n    servicePrincipalSecret: '<servicePrincipalSecret>'\n  }\n}"}
{"id": "avm_res_azure-stack-hci_cluster_example_2", "source": "avm/res/azure-stack-hci/cluster/README.md", "content_to_embed": "Recommended AVM Module for Azure Stack HCI Cluster: Deploy Azure Stack HCI Cluster in Azure with a 2 node switched configuration WAF aligned - This test deploys an Azure VM to host a 2 node switched Azure Stack HCI cluster, validates the cluster configuration, and then deploys the cluster WAF aligned.\nResource Type Path: Microsoft.AzureStackHCI/clusters\nModule ID: br/public:avm/res/azure-stack-hci/cluster:0.2\nParameters:\nparams: {\n    // Required parameters\n    deploymentSettings: {\n      bitlockerBootVolume: true\n      bitlockerDataVolumes: true\n      clusterNodeNames: '<clusterNodeNames>'\n      clusterWitnessStorageAccountName: '<clusterWitnessStorageAccountName>'\n      customLocationName: 'ashcwaf-location'\n      defaultGateway: '192.168.1.1'\n      deploymentPrefix: '<deploymentPrefix>'\n      dnsServers: [\n        '192.168.1.254'\n      ]\n      domainFqdn: 'jumpstart.local'\n      domainOUPath: '<domainOUPath>'\n      driftControlEnforced: true\n      enableStorageAutoIp: true\n      endingIPAddress: '192.168.1.65'\n      keyVaultName: '<keyVaultName>'\n      networkIntents: [\n        {\n          adapter: [\n            'FABRIC'\n            'FABRIC2'\n          ]\n          adapterPropertyOverrides: {\n            jumboPacket: '9014'\n            networkDirect: 'Disabled'\n            networkDirectTechnology: 'iWARP'\n          }\n          name: 'ManagementCompute'\n          overrideAdapterProperty: true\n          overrideQosPolicy: false\n          overrideVirtualSwitchConfiguration: false\n          qosPolicyOverrides: {\n            bandwidthPercentageSMB: '50'\n            priorityValue8021ActionCluster: '7'\n            priorityValue8021ActionSMB: '3'\n          }\n          trafficType: [\n            'Compute'\n            'Management'\n          ]\n          virtualSwitchConfigurationOverrides: {\n            enableIov: 'true'\n            loadBalancingAlgorithm: 'Dynamic'\n          }\n        }\n        {\n          adapter: [\n            'StorageA'\n            'StorageB'\n          ]\n          adapterPropertyOverrides: {\n            jumboPacket: '9014'\n            networkDirect: 'Disabled'\n            networkDirectTechnology: 'iWARP'\n          }\n          name: 'Storage'\n          overrideAdapterProperty: true\n          overrideQosPolicy: true\n          overrideVirtualSwitchConfiguration: false\n          qosPolicyOverrides: {\n            bandwidthPercentageSMB: '50'\n            priorityValue8021ActionCluster: '7'\n            priorityValue8021ActionSMB: '3'\n          }\n          trafficType: [\n            'Storage'\n          ]\n          virtualSwitchConfigurationOverrides: {\n            enableIov: 'true'\n            loadBalancingAlgorithm: 'Dynamic'\n          }\n        }\n      ]\n      sideChannelMitigationEnforced: true\n      smbClusterEncryption: true\n      smbSigningEnforced: true\n      startingIPAddress: '192.168.1.55'\n      storageConnectivitySwitchless: false\n      storageNetworks: [\n        {\n          adapterName: 'StorageA'\n          name: 'Storage1Network'\n          vlan: '711'\n        }\n        {\n          adapterName: 'StorageB'\n          name: 'Storage2Network'\n          vlan: '712'\n        }\n      ]\n      subnetMask: '255.255.255.0'\n    }\n    hciResourceProviderObjectId: '<hciResourceProviderObjectId>'\n    name: '<name>'\n    // Non-required parameters\n    deploymentUser: 'deployUser'\n    deploymentUserPassword: '<deploymentUserPassword>'\n    localAdminPassword: '<localAdminPassword>'\n    localAdminUser: 'Administrator'\n    servicePrincipalId: '<servicePrincipalId>'\n    servicePrincipalSecret: '<servicePrincipalSecret>'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module cluster 'br/public:avm/res/azure-stack-hci/cluster:0.2' = {\n  name: 'clusterDeployment'\n  params: {\n    // Required parameters\n    deploymentSettings: {\n      bitlockerBootVolume: true\n      bitlockerDataVolumes: true\n      clusterNodeNames: '<clusterNodeNames>'\n      clusterWitnessStorageAccountName: '<clusterWitnessStorageAccountName>'\n      customLocationName: 'ashcwaf-location'\n      defaultGateway: '192.168.1.1'\n      deploymentPrefix: '<deploymentPrefix>'\n      dnsServers: [\n        '192.168.1.254'\n      ]\n      domainFqdn: 'jumpstart.local'\n      domainOUPath: '<domainOUPath>'\n      driftControlEnforced: true\n      enableStorageAutoIp: true\n      endingIPAddress: '192.168.1.65'\n      keyVaultName: '<keyVaultName>'\n      networkIntents: [\n        {\n          adapter: [\n            'FABRIC'\n            'FABRIC2'\n          ]\n          adapterPropertyOverrides: {\n            jumboPacket: '9014'\n            networkDirect: 'Disabled'\n            networkDirectTechnology: 'iWARP'\n          }\n          name: 'ManagementCompute'\n          overrideAdapterProperty: true\n          overrideQosPolicy: false\n          overrideVirtualSwitchConfiguration: false\n          qosPolicyOverrides: {\n            bandwidthPercentageSMB: '50'\n            priorityValue8021ActionCluster: '7'\n            priorityValue8021ActionSMB: '3'\n          }\n          trafficType: [\n            'Compute'\n            'Management'\n          ]\n          virtualSwitchConfigurationOverrides: {\n            enableIov: 'true'\n            loadBalancingAlgorithm: 'Dynamic'\n          }\n        }\n        {\n          adapter: [\n            'StorageA'\n            'StorageB'\n          ]\n          adapterPropertyOverrides: {\n            jumboPacket: '9014'\n            networkDirect: 'Disabled'\n            networkDirectTechnology: 'iWARP'\n          }\n          name: 'Storage'\n          overrideAdapterProperty: true\n          overrideQosPolicy: true\n          overrideVirtualSwitchConfiguration: false\n          qosPolicyOverrides: {\n            bandwidthPercentageSMB: '50'\n            priorityValue8021ActionCluster: '7'\n            priorityValue8021ActionSMB: '3'\n          }\n          trafficType: [\n            'Storage'\n          ]\n          virtualSwitchConfigurationOverrides: {\n            enableIov: 'true'\n            loadBalancingAlgorithm: 'Dynamic'\n          }\n        }\n      ]\n      sideChannelMitigationEnforced: true\n      smbClusterEncryption: true\n      smbSigningEnforced: true\n      startingIPAddress: '192.168.1.55'\n      storageConnectivitySwitchless: false\n      storageNetworks: [\n        {\n          adapterName: 'StorageA'\n          name: 'Storage1Network'\n          vlan: '711'\n        }\n        {\n          adapterName: 'StorageB'\n          name: 'Storage2Network'\n          vlan: '712'\n        }\n      ]\n      subnetMask: '255.255.255.0'\n    }\n    hciResourceProviderObjectId: '<hciResourceProviderObjectId>'\n    name: '<name>'\n    // Non-required parameters\n    deploymentUser: 'deployUser'\n    deploymentUserPassword: '<deploymentUserPassword>'\n    localAdminPassword: '<localAdminPassword>'\n    localAdminUser: 'Administrator'\n    servicePrincipalId: '<servicePrincipalId>'\n    servicePrincipalSecret: '<servicePrincipalSecret>'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_azure-stack-hci_logical-network_example_1", "source": "avm/res/azure-stack-hci/logical-network/README.md", "content_to_embed": "Recommended AVM Module for Azure Stack HCI Logical Network: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.AzureStackHCI/logicalNetworks\nModule ID: br/public:avm/res/azure-stack-hci/logical-network:0.2\nParameters:\nparams: {\n    // Required parameters\n    customLocationResourceId: '<customLocationResourceId>'\n    name: 'ashlnminlogicalnetwork'\n    vmSwitchName: '<vmSwitchName>'\n  }", "bicep": "module logicalNetwork 'br/public:avm/res/azure-stack-hci/logical-network:0.2' = {\n  name: 'logicalNetworkDeployment'\n  params: {\n    // Required parameters\n    customLocationResourceId: '<customLocationResourceId>'\n    name: 'ashlnminlogicalnetwork'\n    vmSwitchName: '<vmSwitchName>'\n  }\n}"}
{"id": "avm_res_azure-stack-hci_logical-network_example_2", "source": "avm/res/azure-stack-hci/logical-network/README.md", "content_to_embed": "Recommended AVM Module for Azure Stack HCI Logical Network: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.AzureStackHCI/logicalNetworks\nModule ID: br/public:avm/res/azure-stack-hci/logical-network:0.2\nParameters:\nparams: {\n    // Required parameters\n    customLocationResourceId: '<customLocationResourceId>'\n    name: 'ashlnwaflogicalnetwork'\n    vmSwitchName: '<vmSwitchName>'\n    // Non-required parameters\n    addressPrefix: '192.168.1.0/24'\n    defaultGateway: '192.168.1.1'\n    dnsServers: [\n      '192.168.1.254'\n    ]\n    ipAllocationMethod: 'Static'\n    ipPools: [\n      {\n        end: '192.168.1.190'\n        start: '192.168.1.171'\n      }\n    ]\n    routeName: 'default'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    vlanId: '<vlanId>'\n  }", "bicep": "module logicalNetwork 'br/public:avm/res/azure-stack-hci/logical-network:0.2' = {\n  name: 'logicalNetworkDeployment'\n  params: {\n    // Required parameters\n    customLocationResourceId: '<customLocationResourceId>'\n    name: 'ashlnwaflogicalnetwork'\n    vmSwitchName: '<vmSwitchName>'\n    // Non-required parameters\n    addressPrefix: '192.168.1.0/24'\n    defaultGateway: '192.168.1.1'\n    dnsServers: [\n      '192.168.1.254'\n    ]\n    ipAllocationMethod: 'Static'\n    ipPools: [\n      {\n        end: '192.168.1.190'\n        start: '192.168.1.171'\n      }\n    ]\n    routeName: 'default'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    vlanId: '<vlanId>'\n  }\n}"}
{"id": "avm_res_azure-stack-hci_marketplace-gallery-image_example_1", "source": "avm/res/azure-stack-hci/marketplace-gallery-image/README.md", "content_to_embed": "Recommended AVM Module for Azure Stack HCI Marketplace Gallery Image: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.AzureStackHCI/marketplaceGalleryImages\nModule ID: br/public:avm/res/azure-stack-hci/marketplace-gallery-image:0.1\nParameters:\nparams: {\n    // Required parameters\n    customLocationResourceId: '<customLocationResourceId>'\n    identifier: {\n      offer: 'WindowsServer'\n      publisher: 'MicrosoftWindowsServer'\n      sku: '2022-datacenter-azure-edition'\n    }\n    name: 'ashmgiminmarketplaceimage'\n    osType: 'Windows'\n    version: {\n      name: '20348.2461.240510'\n    }\n  }", "bicep": "module marketplaceGalleryImage 'br/public:avm/res/azure-stack-hci/marketplace-gallery-image:0.1' = {\n  name: 'marketplaceGalleryImageDeployment'\n  params: {\n    // Required parameters\n    customLocationResourceId: '<customLocationResourceId>'\n    identifier: {\n      offer: 'WindowsServer'\n      publisher: 'MicrosoftWindowsServer'\n      sku: '2022-datacenter-azure-edition'\n    }\n    name: 'ashmgiminmarketplaceimage'\n    osType: 'Windows'\n    version: {\n      name: '20348.2461.240510'\n    }\n  }\n}"}
{"id": "avm_res_azure-stack-hci_marketplace-gallery-image_example_2", "source": "avm/res/azure-stack-hci/marketplace-gallery-image/README.md", "content_to_embed": "Recommended AVM Module for Azure Stack HCI Marketplace Gallery Image: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.AzureStackHCI/marketplaceGalleryImages\nModule ID: br/public:avm/res/azure-stack-hci/marketplace-gallery-image:0.1\nParameters:\nparams: {\n    // Required parameters\n    customLocationResourceId: '<customLocationResourceId>'\n    identifier: {\n      offer: 'WindowsServer'\n      publisher: 'MicrosoftWindowsServer'\n      sku: '2022-datacenter-azure-edition'\n    }\n    name: 'ashmgiwafmarketplaceimage'\n    osType: 'Windows'\n    version: {\n      name: '20348.2461.240510'\n    }\n    // Non-required parameters\n    cloudInitDataSource: 'Azure'\n    containerResourceId: '<containerResourceId>'\n    hyperVGeneration: 'V2'\n    tags: {\n      Environment: 'Test'\n      'hidden-title': 'This is visible in the resource name'\n      Purpose: 'MarketplaceGalleryImage'\n    }\n  }", "bicep": "module marketplaceGalleryImage 'br/public:avm/res/azure-stack-hci/marketplace-gallery-image:0.1' = {\n  name: 'marketplaceGalleryImageDeployment'\n  params: {\n    // Required parameters\n    customLocationResourceId: '<customLocationResourceId>'\n    identifier: {\n      offer: 'WindowsServer'\n      publisher: 'MicrosoftWindowsServer'\n      sku: '2022-datacenter-azure-edition'\n    }\n    name: 'ashmgiwafmarketplaceimage'\n    osType: 'Windows'\n    version: {\n      name: '20348.2461.240510'\n    }\n    // Non-required parameters\n    cloudInitDataSource: 'Azure'\n    containerResourceId: '<containerResourceId>'\n    hyperVGeneration: 'V2'\n    tags: {\n      Environment: 'Test'\n      'hidden-title': 'This is visible in the resource name'\n      Purpose: 'MarketplaceGalleryImage'\n    }\n  }\n}"}
{"id": "avm_res_azure-stack-hci_network-interface_example_1", "source": "avm/res/azure-stack-hci/network-interface/README.md", "content_to_embed": "Recommended AVM Module for Azure Stack HCI Network Interface: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.AzureStackHCI/networkInterfaces\nModule ID: br/public:avm/res/azure-stack-hci/network-interface:0.1\nParameters:\nparams: {\n    // Required parameters\n    customLocationResourceId: '<customLocationResourceId>'\n    ipConfigurations: [\n      {\n        properties: {\n          subnet: {\n            id: '<id>'\n          }\n        }\n      }\n    ]\n    name: 'ashniminnetworkinterface'\n  }", "bicep": "module networkInterface 'br/public:avm/res/azure-stack-hci/network-interface:0.1' = {\n  name: 'networkInterfaceDeployment'\n  params: {\n    // Required parameters\n    customLocationResourceId: '<customLocationResourceId>'\n    ipConfigurations: [\n      {\n        properties: {\n          subnet: {\n            id: '<id>'\n          }\n        }\n      }\n    ]\n    name: 'ashniminnetworkinterface'\n  }\n}"}
{"id": "avm_res_azure-stack-hci_network-interface_example_2", "source": "avm/res/azure-stack-hci/network-interface/README.md", "content_to_embed": "Recommended AVM Module for Azure Stack HCI Network Interface: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.AzureStackHCI/networkInterfaces\nModule ID: br/public:avm/res/azure-stack-hci/network-interface:0.1\nParameters:\nparams: {\n    // Required parameters\n    customLocationResourceId: '<customLocationResourceId>'\n    ipConfigurations: [\n      {\n        properties: {\n          subnet: {\n            id: '<id>'\n          }\n        }\n      }\n    ]\n    name: 'ashniwafnetworkinterface'\n    // Non-required parameters\n    dnsServers: [\n      '172.20.0.1'\n    ]\n    enableTelemetry: true\n    location: '<location>'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module networkInterface 'br/public:avm/res/azure-stack-hci/network-interface:0.1' = {\n  name: 'networkInterfaceDeployment'\n  params: {\n    // Required parameters\n    customLocationResourceId: '<customLocationResourceId>'\n    ipConfigurations: [\n      {\n        properties: {\n          subnet: {\n            id: '<id>'\n          }\n        }\n      }\n    ]\n    name: 'ashniwafnetworkinterface'\n    // Non-required parameters\n    dnsServers: [\n      '172.20.0.1'\n    ]\n    enableTelemetry: true\n    location: '<location>'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_azure-stack-hci_virtual-hard-disk_example_1", "source": "avm/res/azure-stack-hci/virtual-hard-disk/README.md", "content_to_embed": "Recommended AVM Module for Azure Stack HCI Virtual Hard Disk: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.AzureStackHCI/virtualHardDisks\nModule ID: br/public:avm/res/azure-stack-hci/virtual-hard-disk:0.1\nParameters:\nparams: {\n    // Required parameters\n    customLocationResourceId: '<customLocationResourceId>'\n    diskSizeGB: 4\n    dynamic: false\n    name: 'ashvdmin1'\n    // Non-required parameters\n    location: '<location>'\n  }", "bicep": "module virtualHardDisk 'br/public:avm/res/azure-stack-hci/virtual-hard-disk:0.1' = {\n  name: 'virtualHardDiskDeployment'\n  params: {\n    // Required parameters\n    customLocationResourceId: '<customLocationResourceId>'\n    diskSizeGB: 4\n    dynamic: false\n    name: 'ashvdmin1'\n    // Non-required parameters\n    location: '<location>'\n  }\n}"}
{"id": "avm_res_azure-stack-hci_virtual-hard-disk_example_2", "source": "avm/res/azure-stack-hci/virtual-hard-disk/README.md", "content_to_embed": "Recommended AVM Module for Azure Stack HCI Virtual Hard Disk: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.AzureStackHCI/virtualHardDisks\nModule ID: br/public:avm/res/azure-stack-hci/virtual-hard-disk:0.1\nParameters:\nparams: {\n    // Required parameters\n    customLocationResourceId: '<customLocationResourceId>'\n    diskSizeGB: 4\n    dynamic: true\n    name: 'ashvdmax1'\n    // Non-required parameters\n    containerId: '<containerId>'\n    enableTelemetry: true\n    location: '<location>'\n    roleAssignments: [\n      {\n        name: 'cbc3932a-1bee-4318-ae76-d70e1ba399c8'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module virtualHardDisk 'br/public:avm/res/azure-stack-hci/virtual-hard-disk:0.1' = {\n  name: 'virtualHardDiskDeployment'\n  params: {\n    // Required parameters\n    customLocationResourceId: '<customLocationResourceId>'\n    diskSizeGB: 4\n    dynamic: true\n    name: 'ashvdmax1'\n    // Non-required parameters\n    containerId: '<containerId>'\n    enableTelemetry: true\n    location: '<location>'\n    roleAssignments: [\n      {\n        name: 'cbc3932a-1bee-4318-ae76-d70e1ba399c8'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_azure-stack-hci_virtual-hard-disk_example_3", "source": "avm/res/azure-stack-hci/virtual-hard-disk/README.md", "content_to_embed": "Recommended AVM Module for Azure Stack HCI Virtual Hard Disk: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.AzureStackHCI/virtualHardDisks\nModule ID: br/public:avm/res/azure-stack-hci/virtual-hard-disk:0.1\nParameters:\nparams: {\n    // Required parameters\n    customLocationResourceId: '<customLocationResourceId>'\n    diskSizeGB: 4\n    dynamic: true\n    name: 'ashvdwaf1'\n    // Non-required parameters\n    location: '<location>'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module virtualHardDisk 'br/public:avm/res/azure-stack-hci/virtual-hard-disk:0.1' = {\n  name: 'virtualHardDiskDeployment'\n  params: {\n    // Required parameters\n    customLocationResourceId: '<customLocationResourceId>'\n    diskSizeGB: 4\n    dynamic: true\n    name: 'ashvdwaf1'\n    // Non-required parameters\n    location: '<location>'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_azure-stack-hci_virtual-machine-instance_example_1", "source": "avm/res/azure-stack-hci/virtual-machine-instance/README.md", "content_to_embed": "Recommended AVM Module for Azure Stack HCI Virtual Machine Instance: Using default config - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.AzureStackHCI/virtualMachineInstances\nModule ID: br/public:avm/res/azure-stack-hci/virtual-machine-instance:0.1\nParameters:\nparams: {\n    // Required parameters\n    customLocationResourceId: '<customLocationResourceId>'\n    hardwareProfile: {\n      memoryMB: 4096\n      processors: 2\n    }\n    name: '<name>'\n    networkProfile: {}\n    osProfile: {\n      adminPassword: '<adminPassword>'\n      adminUsername: 'Administrator'\n      computerName: 'ashvmiminvm'\n      linuxConfiguration: {}\n      windowsConfiguration: {\n        provisionVMAgent: true\n        provisionVMConfigAgent: true\n      }\n    }\n    storageProfile: {\n      imageReference: '<imageReference>'\n      osDisk: {\n        osType: 'Windows'\n      }\n    }\n  }", "bicep": "module virtualMachineInstance 'br/public:avm/res/azure-stack-hci/virtual-machine-instance:0.1' = {\n  name: 'virtualMachineInstanceDeployment'\n  params: {\n    // Required parameters\n    customLocationResourceId: '<customLocationResourceId>'\n    hardwareProfile: {\n      memoryMB: 4096\n      processors: 2\n    }\n    name: '<name>'\n    networkProfile: {}\n    osProfile: {\n      adminPassword: '<adminPassword>'\n      adminUsername: 'Administrator'\n      computerName: 'ashvmiminvm'\n      linuxConfiguration: {}\n      windowsConfiguration: {\n        provisionVMAgent: true\n        provisionVMConfigAgent: true\n      }\n    }\n    storageProfile: {\n      imageReference: '<imageReference>'\n      osDisk: {\n        osType: 'Windows'\n      }\n    }\n  }\n}"}
{"id": "avm_res_azure-stack-hci_virtual-machine-instance_example_2", "source": "avm/res/azure-stack-hci/virtual-machine-instance/README.md", "content_to_embed": "Recommended AVM Module for Azure Stack HCI Virtual Machine Instance: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.AzureStackHCI/virtualMachineInstances\nModule ID: br/public:avm/res/azure-stack-hci/virtual-machine-instance:0.1\nParameters:\nparams: {\n    // Required parameters\n    customLocationResourceId: '<customLocationResourceId>'\n    hardwareProfile: {\n      dynamicMemoryConfig: {\n        maximumMemoryMB: 8192\n        minimumMemoryMB: 512\n        targetMemoryBuffer: 20\n      }\n      memoryMB: 4096\n      processors: 2\n      vmSize: 'Custom'\n    }\n    name: '<name>'\n    networkProfile: {}\n    osProfile: {\n      adminPassword: '<adminPassword>'\n      adminUsername: 'Administrator'\n      computerName: 'ashvmiwafvm'\n      linuxConfiguration: {}\n      windowsConfiguration: {\n        enableAutomaticUpdates: true\n        provisionVMAgent: true\n        provisionVMConfigAgent: true\n      }\n    }\n    storageProfile: {\n      imageReference: '<imageReference>'\n      osDisk: {\n        osType: 'Windows'\n      }\n    }\n    // Non-required parameters\n    adminPassword: '<adminPassword>'\n    location: '<location>'\n  }", "bicep": "module virtualMachineInstance 'br/public:avm/res/azure-stack-hci/virtual-machine-instance:0.1' = {\n  name: 'virtualMachineInstanceDeployment'\n  params: {\n    // Required parameters\n    customLocationResourceId: '<customLocationResourceId>'\n    hardwareProfile: {\n      dynamicMemoryConfig: {\n        maximumMemoryMB: 8192\n        minimumMemoryMB: 512\n        targetMemoryBuffer: 20\n      }\n      memoryMB: 4096\n      processors: 2\n      vmSize: 'Custom'\n    }\n    name: '<name>'\n    networkProfile: {}\n    osProfile: {\n      adminPassword: '<adminPassword>'\n      adminUsername: 'Administrator'\n      computerName: 'ashvmiwafvm'\n      linuxConfiguration: {}\n      windowsConfiguration: {\n        enableAutomaticUpdates: true\n        provisionVMAgent: true\n        provisionVMConfigAgent: true\n      }\n    }\n    storageProfile: {\n      imageReference: '<imageReference>'\n      osDisk: {\n        osType: 'Windows'\n      }\n    }\n    // Non-required parameters\n    adminPassword: '<adminPassword>'\n    location: '<location>'\n  }\n}"}
{"id": "avm_res_batch_batch-account_example_1", "source": "avm/res/batch/batch-account/README.md", "content_to_embed": "Recommended AVM Module for Batch Accounts: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Batch/batchAccounts\nModule ID: br/public:avm/res/batch/batch-account:0.11\nParameters:\nparams: {\n    // Required parameters\n    name: 'bbamin001'\n    storageAccountResourceId: '<storageAccountResourceId>'\n  }", "bicep": "module batchAccount 'br/public:avm/res/batch/batch-account:0.11' = {\n  name: 'batchAccountDeployment'\n  params: {\n    // Required parameters\n    name: 'bbamin001'\n    storageAccountResourceId: '<storageAccountResourceId>'\n  }\n}"}
{"id": "avm_res_batch_batch-account_example_2", "source": "avm/res/batch/batch-account/README.md", "content_to_embed": "Recommended AVM Module for Batch Accounts: Using Customer-Managed-Keys with User-Assigned identity - This instance deploys the module using Customer-Managed-Keys using a User-Assigned Identity to access the Customer-Managed-Key secret.\nResource Type Path: Microsoft.Batch/batchAccounts\nModule ID: br/public:avm/res/batch/batch-account:0.11\nParameters:\nparams: {\n    // Required parameters\n    name: 'bbaencr001'\n    storageAccountResourceId: '<storageAccountResourceId>'\n    // Non-required parameters\n    customerManagedKey: {\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n    }\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    poolAllocationMode: 'BatchService'\n    storageAuthenticationMode: 'BatchAccountManagedIdentity'\n  }", "bicep": "module batchAccount 'br/public:avm/res/batch/batch-account:0.11' = {\n  name: 'batchAccountDeployment'\n  params: {\n    // Required parameters\n    name: 'bbaencr001'\n    storageAccountResourceId: '<storageAccountResourceId>'\n    // Non-required parameters\n    customerManagedKey: {\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n    }\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    poolAllocationMode: 'BatchService'\n    storageAuthenticationMode: 'BatchAccountManagedIdentity'\n  }\n}"}
{"id": "avm_res_batch_batch-account_example_3", "source": "avm/res/batch/batch-account/README.md", "content_to_embed": "Recommended AVM Module for Batch Accounts: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Batch/batchAccounts\nModule ID: br/public:avm/res/batch/batch-account:0.11\nParameters:\nparams: {\n    // Required parameters\n    name: 'bbamax001'\n    storageAccountResourceId: '<storageAccountResourceId>'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: true\n    }\n    networkProfile: {\n      accountAccess: {\n        allowedIpRules: [\n          '40.74.28.0/23'\n        ]\n        defaultAction: 'Deny'\n      }\n      nodeManagementAccess: {\n        allowedIpRules: [\n          '40.74.28.0/23'\n        ]\n      }\n    }\n    poolAllocationMode: 'BatchService'\n    privateEndpoints: [\n      {\n        customDnsConfigs: [\n          {\n            fqdn: 'abc.batch.com'\n            ipAddresses: [\n              '10.0.16.10'\n            ]\n          }\n        ]\n        ipConfigurations: [\n          {\n            name: 'myIPconfig'\n            properties: {\n              groupId: 'batchAccount'\n              memberName: 'batchAccount'\n              privateIPAddress: '10.0.16.10'\n            }\n          }\n        ]\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        roleAssignments: [\n          {\n            name: '9afa4fb3-2157-40db-aebb-039ce73c50ca'\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n        service: 'batchAccount'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'batchAccount'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'nodeManagement'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n    ]\n    roleAssignments: [\n      {\n        name: 'd57821b0-52b3-4a42-9799-533a9cdb7eec'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    storageAccessIdentityResourceId: '<storageAccessIdentityResourceId>'\n    storageAuthenticationMode: 'BatchAccountManagedIdentity'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module batchAccount 'br/public:avm/res/batch/batch-account:0.11' = {\n  name: 'batchAccountDeployment'\n  params: {\n    // Required parameters\n    name: 'bbamax001'\n    storageAccountResourceId: '<storageAccountResourceId>'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: true\n    }\n    networkProfile: {\n      accountAccess: {\n        allowedIpRules: [\n          '40.74.28.0/23'\n        ]\n        defaultAction: 'Deny'\n      }\n      nodeManagementAccess: {\n        allowedIpRules: [\n          '40.74.28.0/23'\n        ]\n      }\n    }\n    poolAllocationMode: 'BatchService'\n    privateEndpoints: [\n      {\n        customDnsConfigs: [\n          {\n            fqdn: 'abc.batch.com'\n            ipAddresses: [\n              '10.0.16.10'\n            ]\n          }\n        ]\n        ipConfigurations: [\n          {\n            name: 'myIPconfig'\n            properties: {\n              groupId: 'batchAccount'\n              memberName: 'batchAccount'\n              privateIPAddress: '10.0.16.10'\n            }\n          }\n        ]\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        roleAssignments: [\n          {\n            name: '9afa4fb3-2157-40db-aebb-039ce73c50ca'\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n        service: 'batchAccount'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'batchAccount'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'nodeManagement'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n    ]\n    roleAssignments: [\n      {\n        name: 'd57821b0-52b3-4a42-9799-533a9cdb7eec'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    storageAccessIdentityResourceId: '<storageAccessIdentityResourceId>'\n    storageAuthenticationMode: 'BatchAccountManagedIdentity'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_batch_batch-account_example_4", "source": "avm/res/batch/batch-account/README.md", "content_to_embed": "Recommended AVM Module for Batch Accounts: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Batch/batchAccounts\nModule ID: br/public:avm/res/batch/batch-account:0.11\nParameters:\nparams: {\n    // Required parameters\n    name: 'bbawaf001'\n    storageAccountResourceId: '<storageAccountResourceId>'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    managedIdentities: {\n      systemAssigned: true\n    }\n    poolAllocationMode: 'BatchService'\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'batchAccount'\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    storageAccessIdentityResourceId: '<storageAccessIdentityResourceId>'\n    storageAuthenticationMode: 'BatchAccountManagedIdentity'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module batchAccount 'br/public:avm/res/batch/batch-account:0.11' = {\n  name: 'batchAccountDeployment'\n  params: {\n    // Required parameters\n    name: 'bbawaf001'\n    storageAccountResourceId: '<storageAccountResourceId>'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    managedIdentities: {\n      systemAssigned: true\n    }\n    poolAllocationMode: 'BatchService'\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'batchAccount'\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    storageAccessIdentityResourceId: '<storageAccessIdentityResourceId>'\n    storageAuthenticationMode: 'BatchAccountManagedIdentity'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_cache_redis_example_1", "source": "avm/res/cache/redis/README.md", "content_to_embed": "Recommended AVM Module for Redis Cache: Using clustering configuration - This instance deploys the module with clustering enabled.\nResource Type Path: Microsoft.Cache/redis\nModule ID: br/public:avm/res/cache/redis:0.16\nParameters:\nparams: {\n    // Required parameters\n    name: 'crclst001'\n    // Non-required parameters\n    capacity: 3\n    location: '<location>'\n    replicasPerMaster: 1\n    replicasPerPrimary: 1\n    shardCount: 3\n    skuName: 'Premium'\n  }", "bicep": "module redis 'br/public:avm/res/cache/redis:0.16' = {\n  name: 'redisDeployment'\n  params: {\n    // Required parameters\n    name: 'crclst001'\n    // Non-required parameters\n    capacity: 3\n    location: '<location>'\n    replicasPerMaster: 1\n    replicasPerPrimary: 1\n    shardCount: 3\n    skuName: 'Premium'\n  }\n}"}
{"id": "avm_res_cache_redis_example_2", "source": "avm/res/cache/redis/README.md", "content_to_embed": "Recommended AVM Module for Redis Cache: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Cache/redis\nModule ID: br/public:avm/res/cache/redis:0.16\nParameters:\nparams: {\n    // Required parameters\n    name: 'crmin001'\n    // Non-required parameters\n    location: '<location>'\n  }", "bicep": "module redis 'br/public:avm/res/cache/redis:0.16' = {\n  name: 'redisDeployment'\n  params: {\n    // Required parameters\n    name: 'crmin001'\n    // Non-required parameters\n    location: '<location>'\n  }\n}"}
{"id": "avm_res_cache_redis_example_3", "source": "avm/res/cache/redis/README.md", "content_to_embed": "Recommended AVM Module for Redis Cache: Using EntraID authentication - This instance deploys the module with EntraID authentication.\nResource Type Path: Microsoft.Cache/redis\nModule ID: br/public:avm/res/cache/redis:0.16\nParameters:\nparams: {\n    // Required parameters\n    name: 'crentrid001'\n    // Non-required parameters\n    accessPolicies: [\n      {\n        name: 'Prefixed Contributor'\n        permissions: '+@read +set ~Az*'\n      }\n    ]\n    accessPolicyAssignments: [\n      {\n        accessPolicyName: 'Data Contributor'\n        objectId: '<objectId>'\n        objectIdAlias: '<objectIdAlias>'\n      }\n    ]\n    location: '<location>'\n    redisConfiguration: {\n      'aad-enabled': 'true'\n    }\n  }", "bicep": "module redis 'br/public:avm/res/cache/redis:0.16' = {\n  name: 'redisDeployment'\n  params: {\n    // Required parameters\n    name: 'crentrid001'\n    // Non-required parameters\n    accessPolicies: [\n      {\n        name: 'Prefixed Contributor'\n        permissions: '+@read +set ~Az*'\n      }\n    ]\n    accessPolicyAssignments: [\n      {\n        accessPolicyName: 'Data Contributor'\n        objectId: '<objectId>'\n        objectIdAlias: '<objectIdAlias>'\n      }\n    ]\n    location: '<location>'\n    redisConfiguration: {\n      'aad-enabled': 'true'\n    }\n  }\n}"}
{"id": "avm_res_cache_redis_example_4", "source": "avm/res/cache/redis/README.md", "content_to_embed": "Recommended AVM Module for Redis Cache: Deploying with a key vault reference to save secrets - This instance deploys the module saving all its secrets in a key vault.\nResource Type Path: Microsoft.Cache/redis\nModule ID: br/public:avm/res/cache/redis:0.16\nParameters:\nparams: {\n    // Required parameters\n    name: 'kvref'\n    // Non-required parameters\n    location: '<location>'\n    secretsExportConfiguration: {\n      keyVaultResourceId: '<keyVaultResourceId>'\n      primaryAccessKeyName: 'custom-primaryAccessKey-name'\n      primaryConnectionStringName: 'custom-primaryConnectionString-name'\n      primaryStackExchangeRedisConnectionStringName: 'custom-primaryStackExchangeRedisConnectionString-name'\n      secondaryAccessKeyName: 'custom-secondaryAccessKey-name'\n      secondaryConnectionStringName: 'custom-secondaryConnectionString-name'\n      secondaryStackExchangeRedisConnectionStringName: 'custom-secondaryStackExchangeRedisConnectionString-name'\n    }\n  }", "bicep": "module redis 'br/public:avm/res/cache/redis:0.16' = {\n  name: 'redisDeployment'\n  params: {\n    // Required parameters\n    name: 'kvref'\n    // Non-required parameters\n    location: '<location>'\n    secretsExportConfiguration: {\n      keyVaultResourceId: '<keyVaultResourceId>'\n      primaryAccessKeyName: 'custom-primaryAccessKey-name'\n      primaryConnectionStringName: 'custom-primaryConnectionString-name'\n      primaryStackExchangeRedisConnectionStringName: 'custom-primaryStackExchangeRedisConnectionString-name'\n      secondaryAccessKeyName: 'custom-secondaryAccessKey-name'\n      secondaryConnectionStringName: 'custom-secondaryConnectionString-name'\n      secondaryStackExchangeRedisConnectionStringName: 'custom-secondaryStackExchangeRedisConnectionString-name'\n    }\n  }\n}"}
{"id": "avm_res_cache_redis_example_5", "source": "avm/res/cache/redis/README.md", "content_to_embed": "Recommended AVM Module for Redis Cache: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Cache/redis\nModule ID: br/public:avm/res/cache/redis:0.16\nParameters:\nparams: {\n    // Required parameters\n    name: 'crmax001'\n    // Non-required parameters\n    availabilityZones: [\n      1\n      2\n    ]\n    capacity: 2\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    enableNonSslPort: true\n    firewallRules: [\n      {\n        endIP: '0.0.0.0'\n        name: 'AllowAllWindowsAzureIps'\n        startIP: '0.0.0.0'\n      }\n      {\n        endIP: '10.10.10.10'\n        name: 'testrule1'\n        startIP: '10.10.10.1'\n      }\n      {\n        endIP: '100.100.100.10'\n        name: 'testrule2'\n        startIP: '100.100.100.1'\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    minimumTlsVersion: '1.2'\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        roleAssignments: [\n          {\n            name: '8d6043f5-8a22-447f-bc31-23d23e09de6c'\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    redisVersion: '6'\n    roleAssignments: [\n      {\n        name: 'f20e5c94-a697-421e-8768-d576399dbd87'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    shardCount: 1\n    skuName: 'Premium'\n    tags: {\n      'hidden-title': 'This is visible in the resource name'\n      resourceType: 'Redis Cache'\n    }\n    zonalAllocationPolicy: 'UserDefined'\n    zoneRedundant: true\n  }", "bicep": "module redis 'br/public:avm/res/cache/redis:0.16' = {\n  name: 'redisDeployment'\n  params: {\n    // Required parameters\n    name: 'crmax001'\n    // Non-required parameters\n    availabilityZones: [\n      1\n      2\n    ]\n    capacity: 2\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    enableNonSslPort: true\n    firewallRules: [\n      {\n        endIP: '0.0.0.0'\n        name: 'AllowAllWindowsAzureIps'\n        startIP: '0.0.0.0'\n      }\n      {\n        endIP: '10.10.10.10'\n        name: 'testrule1'\n        startIP: '10.10.10.1'\n      }\n      {\n        endIP: '100.100.100.10'\n        name: 'testrule2'\n        startIP: '100.100.100.1'\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    minimumTlsVersion: '1.2'\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        roleAssignments: [\n          {\n            name: '8d6043f5-8a22-447f-bc31-23d23e09de6c'\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    redisVersion: '6'\n    roleAssignments: [\n      {\n        name: 'f20e5c94-a697-421e-8768-d576399dbd87'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    shardCount: 1\n    skuName: 'Premium'\n    tags: {\n      'hidden-title': 'This is visible in the resource name'\n      resourceType: 'Redis Cache'\n    }\n    zonalAllocationPolicy: 'UserDefined'\n    zoneRedundant: true\n  }\n}"}
{"id": "avm_res_cache_redis_example_6", "source": "avm/res/cache/redis/README.md", "content_to_embed": "Recommended AVM Module for Redis Cache: Passive Geo-Replicated Redis Cache - This instance deploys the module with geo-replication enabled.\nResource Type Path: Microsoft.Cache/redis\nModule ID: br/public:avm/res/cache/redis:0.16\nParameters:\nparams: {\n    // Required parameters\n    name: 'crpgeo001'\n    // Non-required parameters\n    capacity: 2\n    enableNonSslPort: true\n    geoReplicationObject: {\n      linkedRedisCacheLocation: '<linkedRedisCacheLocation>'\n      linkedRedisCacheResourceId: '<linkedRedisCacheResourceId>'\n      name: '<name>'\n    }\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    minimumTlsVersion: '1.2'\n    redisVersion: '6'\n    replicasPerMaster: 1\n    replicasPerPrimary: 1\n    shardCount: 1\n    skuName: 'Premium'\n    zoneRedundant: false\n  }", "bicep": "module redis 'br/public:avm/res/cache/redis:0.16' = {\n  name: 'redisDeployment'\n  params: {\n    // Required parameters\n    name: 'crpgeo001'\n    // Non-required parameters\n    capacity: 2\n    enableNonSslPort: true\n    geoReplicationObject: {\n      linkedRedisCacheLocation: '<linkedRedisCacheLocation>'\n      linkedRedisCacheResourceId: '<linkedRedisCacheResourceId>'\n      name: '<name>'\n    }\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    minimumTlsVersion: '1.2'\n    redisVersion: '6'\n    replicasPerMaster: 1\n    replicasPerPrimary: 1\n    shardCount: 1\n    skuName: 'Premium'\n    zoneRedundant: false\n  }\n}"}
{"id": "avm_res_cache_redis_example_7", "source": "avm/res/cache/redis/README.md", "content_to_embed": "Recommended AVM Module for Redis Cache: Using data persistence configuration - This instance deploys the module with data persistence enabled.\nResource Type Path: Microsoft.Cache/redis\nModule ID: br/public:avm/res/cache/redis:0.16\nParameters:\nparams: {\n    // Required parameters\n    name: 'crper001'\n    // Non-required parameters\n    location: '<location>'\n    redisConfiguration: {\n      'rdb-backup-enabled': 'true'\n      'rdb-backup-frequency': '60'\n      'rdb-backup-max-snapshot-count': '1'\n      'rdb-storage-connection-string': '<rdb-storage-connection-string>'\n    }\n    skuName: 'Premium'\n  }", "bicep": "module redis 'br/public:avm/res/cache/redis:0.16' = {\n  name: 'redisDeployment'\n  params: {\n    // Required parameters\n    name: 'crper001'\n    // Non-required parameters\n    location: '<location>'\n    redisConfiguration: {\n      'rdb-backup-enabled': 'true'\n      'rdb-backup-frequency': '60'\n      'rdb-backup-max-snapshot-count': '1'\n      'rdb-storage-connection-string': '<rdb-storage-connection-string>'\n    }\n    skuName: 'Premium'\n  }\n}"}
{"id": "avm_res_cache_redis_example_8", "source": "avm/res/cache/redis/README.md", "content_to_embed": "Recommended AVM Module for Redis Cache: Using custom Redis configuration - This instance deploys the module with custom Redis configuration.\nResource Type Path: Microsoft.Cache/redis\nModule ID: br/public:avm/res/cache/redis:0.16\nParameters:\nparams: {\n    // Required parameters\n    name: 'crcfg001'\n    // Non-required parameters\n    location: '<location>'\n    redisConfiguration: {\n      'maxfragmentationmemory-reserved': '50'\n      'maxmemory-delta': '50'\n      'maxmemory-policy': 'allkeys-lru'\n      'maxmemory-reserved': '50'\n    }\n  }", "bicep": "module redis 'br/public:avm/res/cache/redis:0.16' = {\n  name: 'redisDeployment'\n  params: {\n    // Required parameters\n    name: 'crcfg001'\n    // Non-required parameters\n    location: '<location>'\n    redisConfiguration: {\n      'maxfragmentationmemory-reserved': '50'\n      'maxmemory-delta': '50'\n      'maxmemory-policy': 'allkeys-lru'\n      'maxmemory-reserved': '50'\n    }\n  }\n}"}
{"id": "avm_res_cache_redis_example_9", "source": "avm/res/cache/redis/README.md", "content_to_embed": "Recommended AVM Module for Redis Cache: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Cache/redis\nModule ID: br/public:avm/res/cache/redis:0.16\nParameters:\nparams: {\n    // Required parameters\n    name: 'crwaf001'\n    // Non-required parameters\n    availabilityZones: [\n      1\n      2\n      3\n    ]\n    capacity: 2\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: true\n    }\n    minimumTlsVersion: '1.2'\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n    ]\n    redisVersion: '6'\n    replicasPerMaster: 3\n    replicasPerPrimary: 3\n    shardCount: 1\n    skuName: 'Premium'\n    tags: {\n      'hidden-title': 'This is visible in the resource name'\n      resourceType: 'Redis Cache'\n    }\n    zonalAllocationPolicy: 'UserDefined'\n    zoneRedundant: true\n  }", "bicep": "module redis 'br/public:avm/res/cache/redis:0.16' = {\n  name: 'redisDeployment'\n  params: {\n    // Required parameters\n    name: 'crwaf001'\n    // Non-required parameters\n    availabilityZones: [\n      1\n      2\n      3\n    ]\n    capacity: 2\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: true\n    }\n    minimumTlsVersion: '1.2'\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n    ]\n    redisVersion: '6'\n    replicasPerMaster: 3\n    replicasPerPrimary: 3\n    shardCount: 1\n    skuName: 'Premium'\n    tags: {\n      'hidden-title': 'This is visible in the resource name'\n      resourceType: 'Redis Cache'\n    }\n    zonalAllocationPolicy: 'UserDefined'\n    zoneRedundant: true\n  }\n}"}
{"id": "avm_res_cache_redis-enterprise_example_1", "source": "avm/res/cache/redis-enterprise/README.md", "content_to_embed": "Recommended AVM Module for Redis Enterprise and Azure Managed Redis: Active geo-replication - This instance deploys the module with active geo-replication enabled.\nResource Type Path: Microsoft.Cache/redisEnterprise\nModule ID: br/public:avm/res/cache/redis-enterprise:0.3\nParameters:\nparams: {\n    // Required parameters\n    name: 'creagr002'\n    // Non-required parameters\n    database: {\n      geoReplication: {\n        groupNickname: '<groupNickname>'\n        linkedDatabases: [\n          {\n            id: '<id>'\n          }\n          {\n            id: '<id>'\n          }\n        ]\n      }\n    }\n    location: '<location>'\n    skuName: 'Balanced_B10'\n  }", "bicep": "module redisEnterprise 'br/public:avm/res/cache/redis-enterprise:0.3' = {\n  name: 'redisEnterpriseDeployment'\n  params: {\n    // Required parameters\n    name: 'creagr002'\n    // Non-required parameters\n    database: {\n      geoReplication: {\n        groupNickname: '<groupNickname>'\n        linkedDatabases: [\n          {\n            id: '<id>'\n          }\n          {\n            id: '<id>'\n          }\n        ]\n      }\n    }\n    location: '<location>'\n    skuName: 'Balanced_B10'\n  }\n}"}
{"id": "avm_res_cache_redis-enterprise_example_2", "source": "avm/res/cache/redis-enterprise/README.md", "content_to_embed": "Recommended AVM Module for Redis Enterprise and Azure Managed Redis: Azure Managed Redis with Entra ID authentication - This instance deploys an Azure Managed Redis cache with Entra ID authentication.\nResource Type Path: Microsoft.Cache/redisEnterprise\nModule ID: br/public:avm/res/cache/redis-enterprise:0.3\nParameters:\nparams: {\n    // Required parameters\n    name: 'creaei001'\n    // Non-required parameters\n    database: {\n      accessKeysAuthentication: 'Disabled'\n      accessPolicyAssignments: [\n        {\n          name: 'assign1'\n          userObjectId: '<userObjectId>'\n        }\n      ]\n    }\n    location: '<location>'\n  }", "bicep": "module redisEnterprise 'br/public:avm/res/cache/redis-enterprise:0.3' = {\n  name: 'redisEnterpriseDeployment'\n  params: {\n    // Required parameters\n    name: 'creaei001'\n    // Non-required parameters\n    database: {\n      accessKeysAuthentication: 'Disabled'\n      accessPolicyAssignments: [\n        {\n          name: 'assign1'\n          userObjectId: '<userObjectId>'\n        }\n      ]\n    }\n    location: '<location>'\n  }\n}"}
{"id": "avm_res_cache_redis-enterprise_example_3", "source": "avm/res/cache/redis-enterprise/README.md", "content_to_embed": "Recommended AVM Module for Redis Enterprise and Azure Managed Redis: Azure Managed Redis with non-clustered policy (Preview) - This instance deploys an Azure Managed Redis cache in non-clustered mode (Preview).\nResource Type Path: Microsoft.Cache/redisEnterprise\nModule ID: br/public:avm/res/cache/redis-enterprise:0.3\nParameters:\nparams: {\n    // Required parameters\n    name: 'creanc001'\n    // Non-required parameters\n    database: {\n      clusteringPolicy: 'NoCluster'\n    }\n  }", "bicep": "module redisEnterprise 'br/public:avm/res/cache/redis-enterprise:0.3' = {\n  name: 'redisEnterpriseDeployment'\n  params: {\n    // Required parameters\n    name: 'creanc001'\n    // Non-required parameters\n    database: {\n      clusteringPolicy: 'NoCluster'\n    }\n  }\n}"}
{"id": "avm_res_cache_redis-enterprise_example_4", "source": "avm/res/cache/redis-enterprise/README.md", "content_to_embed": "Recommended AVM Module for Redis Enterprise and Azure Managed Redis: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Cache/redisEnterprise\nModule ID: br/public:avm/res/cache/redis-enterprise:0.3\nParameters:\nparams: {\n    name: 'cremin001'\n  }", "bicep": "module redisEnterprise 'br/public:avm/res/cache/redis-enterprise:0.3' = {\n  name: 'redisEnterpriseDeployment'\n  params: {\n    name: 'cremin001'\n  }\n}"}
{"id": "avm_res_cache_redis-enterprise_example_5", "source": "avm/res/cache/redis-enterprise/README.md", "content_to_embed": "Recommended AVM Module for Redis Enterprise and Azure Managed Redis: Deploying with a key vault reference to save secrets - This instance deploys the module saving all its secrets in a key vault.\nResource Type Path: Microsoft.Cache/redisEnterprise\nModule ID: br/public:avm/res/cache/redis-enterprise:0.3\nParameters:\nparams: {\n    // Required parameters\n    name: 'kvref'\n    // Non-required parameters\n    database: {\n      secretsExportConfiguration: {\n        keyVaultResourceId: '<keyVaultResourceId>'\n        primaryAccessKeyName: 'custom-primaryAccessKey-name'\n        primaryConnectionStringName: 'custom-primaryConnectionString-name'\n        primaryStackExchangeRedisConnectionStringName: 'custom-primaryStackExchangeRedisConnectionString-name'\n        secondaryAccessKeyName: 'custom-secondaryAccessKey-name'\n        secondaryConnectionStringName: 'custom-secondaryConnectionString-name'\n        secondaryStackExchangeRedisConnectionStringName: 'custom-secondaryStackExchangeRedisConnectionString-name'\n      }\n    }\n  }", "bicep": "module redisEnterprise 'br/public:avm/res/cache/redis-enterprise:0.3' = {\n  name: 'redisEnterpriseDeployment'\n  params: {\n    // Required parameters\n    name: 'kvref'\n    // Non-required parameters\n    database: {\n      secretsExportConfiguration: {\n        keyVaultResourceId: '<keyVaultResourceId>'\n        primaryAccessKeyName: 'custom-primaryAccessKey-name'\n        primaryConnectionStringName: 'custom-primaryConnectionString-name'\n        primaryStackExchangeRedisConnectionStringName: 'custom-primaryStackExchangeRedisConnectionString-name'\n        secondaryAccessKeyName: 'custom-secondaryAccessKey-name'\n        secondaryConnectionStringName: 'custom-secondaryConnectionString-name'\n        secondaryStackExchangeRedisConnectionStringName: 'custom-secondaryStackExchangeRedisConnectionString-name'\n      }\n    }\n  }\n}"}
{"id": "avm_res_cache_redis-enterprise_example_6", "source": "avm/res/cache/redis-enterprise/README.md", "content_to_embed": "Recommended AVM Module for Redis Enterprise and Azure Managed Redis: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Cache/redisEnterprise\nModule ID: br/public:avm/res/cache/redis-enterprise:0.3\nParameters:\nparams: {\n    // Required parameters\n    name: 'cremax001'\n    // Non-required parameters\n    availabilityZones: [\n      1\n      2\n      3\n    ]\n    database: {\n      clientProtocol: 'Plaintext'\n      clusteringPolicy: 'EnterpriseCluster'\n      deferUpgrade: 'Deferred'\n      diagnosticSettings: [\n        {\n          eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n          eventHubName: '<eventHubName>'\n          logCategoriesAndGroups: [\n            {\n              categoryGroup: 'allLogs'\n            }\n          ]\n          name: 'customSettingDatabase'\n          storageAccountResourceId: '<storageAccountResourceId>'\n          workspaceResourceId: '<workspaceResourceId>'\n        }\n      ]\n      evictionPolicy: 'NoEviction'\n      modules: [\n        {\n          name: 'RedisBloom'\n        }\n        {\n          name: 'RediSearch'\n        }\n      ]\n      persistence: {\n        frequency: '1s'\n        type: 'aof'\n      }\n    }\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSettingCluster'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    enableTelemetry: true\n    highAvailability: 'Disabled'\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    minimumTlsVersion: '1.2'\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n    ]\n    roleAssignments: [\n      {\n        name: '759769d2-fc52-4a92-a943-724e48927e0b'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    skuName: 'Balanced_B10'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module redisEnterprise 'br/public:avm/res/cache/redis-enterprise:0.3' = {\n  name: 'redisEnterpriseDeployment'\n  params: {\n    // Required parameters\n    name: 'cremax001'\n    // Non-required parameters\n    availabilityZones: [\n      1\n      2\n      3\n    ]\n    database: {\n      clientProtocol: 'Plaintext'\n      clusteringPolicy: 'EnterpriseCluster'\n      deferUpgrade: 'Deferred'\n      diagnosticSettings: [\n        {\n          eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n          eventHubName: '<eventHubName>'\n          logCategoriesAndGroups: [\n            {\n              categoryGroup: 'allLogs'\n            }\n          ]\n          name: 'customSettingDatabase'\n          storageAccountResourceId: '<storageAccountResourceId>'\n          workspaceResourceId: '<workspaceResourceId>'\n        }\n      ]\n      evictionPolicy: 'NoEviction'\n      modules: [\n        {\n          name: 'RedisBloom'\n        }\n        {\n          name: 'RediSearch'\n        }\n      ]\n      persistence: {\n        frequency: '1s'\n        type: 'aof'\n      }\n    }\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSettingCluster'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    enableTelemetry: true\n    highAvailability: 'Disabled'\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    minimumTlsVersion: '1.2'\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n    ]\n    roleAssignments: [\n      {\n        name: '759769d2-fc52-4a92-a943-724e48927e0b'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    skuName: 'Balanced_B10'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_cache_redis-enterprise_example_7", "source": "avm/res/cache/redis-enterprise/README.md", "content_to_embed": "Recommended AVM Module for Redis Enterprise and Azure Managed Redis: Using Customer-Managed-Keys with User-Assigned identity - This instance deploys the module using Customer-Managed-Keys using a User-Assigned Identity to access the Customer-Managed-Key secret.\nResource Type Path: Microsoft.Cache/redisEnterprise\nModule ID: br/public:avm/res/cache/redis-enterprise:0.3\nParameters:\nparams: {\n    // Required parameters\n    name: 'creuace001'\n    // Non-required parameters\n    customerManagedKey: {\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n      userAssignedIdentityResourceId: '<userAssignedIdentityResourceId>'\n    }\n    database: {\n      persistence: {\n        frequency: '6h'\n        type: 'rdb'\n      }\n    }\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n  }", "bicep": "module redisEnterprise 'br/public:avm/res/cache/redis-enterprise:0.3' = {\n  name: 'redisEnterpriseDeployment'\n  params: {\n    // Required parameters\n    name: 'creuace001'\n    // Non-required parameters\n    customerManagedKey: {\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n      userAssignedIdentityResourceId: '<userAssignedIdentityResourceId>'\n    }\n    database: {\n      persistence: {\n        frequency: '6h'\n        type: 'rdb'\n      }\n    }\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n  }\n}"}
{"id": "avm_res_cache_redis-enterprise_example_8", "source": "avm/res/cache/redis-enterprise/README.md", "content_to_embed": "Recommended AVM Module for Redis Enterprise and Azure Managed Redis: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Cache/redisEnterprise\nModule ID: br/public:avm/res/cache/redis-enterprise:0.3\nParameters:\nparams: {\n    // Required parameters\n    name: 'crewaf001'\n    // Non-required parameters\n    availabilityZones: [\n      1\n      2\n      3\n    ]\n    database: {\n      diagnosticSettings: [\n        {\n          eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n          eventHubName: '<eventHubName>'\n          logCategoriesAndGroups: [\n            {\n              categoryGroup: 'allLogs'\n            }\n          ]\n          name: 'customSettingDatabase'\n          storageAccountResourceId: '<storageAccountResourceId>'\n          workspaceResourceId: '<workspaceResourceId>'\n        }\n      ]\n      persistence: {\n        frequency: '1h'\n        type: 'rdb'\n      }\n    }\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSettingCluster'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n    ]\n    skuName: 'Balanced_B10'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module redisEnterprise 'br/public:avm/res/cache/redis-enterprise:0.3' = {\n  name: 'redisEnterpriseDeployment'\n  params: {\n    // Required parameters\n    name: 'crewaf001'\n    // Non-required parameters\n    availabilityZones: [\n      1\n      2\n      3\n    ]\n    database: {\n      diagnosticSettings: [\n        {\n          eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n          eventHubName: '<eventHubName>'\n          logCategoriesAndGroups: [\n            {\n              categoryGroup: 'allLogs'\n            }\n          ]\n          name: 'customSettingDatabase'\n          storageAccountResourceId: '<storageAccountResourceId>'\n          workspaceResourceId: '<workspaceResourceId>'\n        }\n      ]\n      persistence: {\n        frequency: '1h'\n        type: 'rdb'\n      }\n    }\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSettingCluster'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n    ]\n    skuName: 'Balanced_B10'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_cdn_profile_example_1", "source": "avm/res/cdn/profile/README.md", "content_to_embed": "Recommended AVM Module for CDN Profiles: As Azure Front Door Premium - This instance deploys the module as Azure Front Door Premium.\nResource Type Path: Microsoft.Cdn/profiles\nModule ID: br/public:avm/res/cdn/profile:0.16\nParameters:\nparams: {\n    // Required parameters\n    name: 'dep-test-afd-cdnpafdp'\n    sku: 'Premium_AzureFrontDoor'\n    // Non-required parameters\n    afdEndpoints: [\n      {\n        name: 'dep-test-afd-cdnpafdp-afd-endpoint'\n        routes: [\n          {\n            customDomainNames: [\n              'dep-test-cdnpafdp-custom-domain'\n            ]\n            name: 'dep-test-cdnpafdp-afd-route'\n            originGroupName: 'dep-test-cdnpafdp-origin-group'\n            ruleSets: [\n              'deptestcdnpafdpruleset'\n            ]\n          }\n        ]\n      }\n    ]\n    customDomains: [\n      {\n        certificateType: 'ManagedCertificate'\n        hostName: 'dep-test-cdnpafdp-custom-domain.azurewebsites.net'\n        name: 'dep-test-cdnpafdp-custom-domain'\n      }\n    ]\n    location: 'global'\n    originGroups: [\n      {\n        loadBalancingSettings: {\n          additionalLatencyInMilliseconds: 50\n          sampleSize: 4\n          successfulSamplesRequired: 3\n        }\n        name: 'dep-test-cdnpafdp-origin-group'\n        origins: [\n          {\n            hostName: 'dep-test-cdnpafdp-origin.azurewebsites.net'\n            name: 'dep-test-cdnpafdp-origin'\n          }\n        ]\n      }\n    ]\n    originResponseTimeoutSeconds: 60\n    ruleSets: [\n      {\n        name: 'deptestcdnpafdpruleset'\n        rules: [\n          {\n            actions: [\n              {\n                name: 'UrlRedirect'\n                parameters: {\n                  customHostname: 'dev-etradefd.trade.azure.defra.cloud'\n                  customPath: '/test123'\n                  destinationProtocol: 'Https'\n                  redirectType: 'PermanentRedirect'\n                  typeName: 'DeliveryRuleUrlRedirectActionParameters'\n                }\n              }\n            ]\n            name: 'deptestcdnpafdprule'\n            order: 1\n          }\n        ]\n      }\n    ]\n    securityPolicies: [\n      {\n        associations: [\n          {\n            domains: [\n              {\n                id: '<id>'\n              }\n            ]\n            patternsToMatch: [\n              '/*'\n            ]\n          }\n        ]\n        name: 'deptestcdnpafdpsecpol'\n        wafPolicyResourceId: '<wafPolicyResourceId>'\n      }\n    ]\n  }", "bicep": "module profile 'br/public:avm/res/cdn/profile:0.16' = {\n  name: 'profileDeployment'\n  params: {\n    // Required parameters\n    name: 'dep-test-afd-cdnpafdp'\n    sku: 'Premium_AzureFrontDoor'\n    // Non-required parameters\n    afdEndpoints: [\n      {\n        name: 'dep-test-afd-cdnpafdp-afd-endpoint'\n        routes: [\n          {\n            customDomainNames: [\n              'dep-test-cdnpafdp-custom-domain'\n            ]\n            name: 'dep-test-cdnpafdp-afd-route'\n            originGroupName: 'dep-test-cdnpafdp-origin-group'\n            ruleSets: [\n              'deptestcdnpafdpruleset'\n            ]\n          }\n        ]\n      }\n    ]\n    customDomains: [\n      {\n        certificateType: 'ManagedCertificate'\n        hostName: 'dep-test-cdnpafdp-custom-domain.azurewebsites.net'\n        name: 'dep-test-cdnpafdp-custom-domain'\n      }\n    ]\n    location: 'global'\n    originGroups: [\n      {\n        loadBalancingSettings: {\n          additionalLatencyInMilliseconds: 50\n          sampleSize: 4\n          successfulSamplesRequired: 3\n        }\n        name: 'dep-test-cdnpafdp-origin-group'\n        origins: [\n          {\n            hostName: 'dep-test-cdnpafdp-origin.azurewebsites.net'\n            name: 'dep-test-cdnpafdp-origin'\n          }\n        ]\n      }\n    ]\n    originResponseTimeoutSeconds: 60\n    ruleSets: [\n      {\n        name: 'deptestcdnpafdpruleset'\n        rules: [\n          {\n            actions: [\n              {\n                name: 'UrlRedirect'\n                parameters: {\n                  customHostname: 'dev-etradefd.trade.azure.defra.cloud'\n                  customPath: '/test123'\n                  destinationProtocol: 'Https'\n                  redirectType: 'PermanentRedirect'\n                  typeName: 'DeliveryRuleUrlRedirectActionParameters'\n                }\n              }\n            ]\n            name: 'deptestcdnpafdprule'\n            order: 1\n          }\n        ]\n      }\n    ]\n    securityPolicies: [\n      {\n        associations: [\n          {\n            domains: [\n              {\n                id: '<id>'\n              }\n            ]\n            patternsToMatch: [\n              '/*'\n            ]\n          }\n        ]\n        name: 'deptestcdnpafdpsecpol'\n        wafPolicyResourceId: '<wafPolicyResourceId>'\n      }\n    ]\n  }\n}"}
{"id": "avm_res_cdn_profile_example_2", "source": "avm/res/cdn/profile/README.md", "content_to_embed": "Recommended AVM Module for CDN Profiles: As Azure Front Door - This instance deploys the module as Azure Front Door.\nResource Type Path: Microsoft.Cdn/profiles\nModule ID: br/public:avm/res/cdn/profile:0.16\nParameters:\nparams: {\n    // Required parameters\n    name: 'dep-test-cdnpafd'\n    sku: 'Standard_AzureFrontDoor'\n    // Non-required parameters\n    afdEndpoints: [\n      {\n        name: 'dep-test-cdnpafd-afd-endpoint'\n        routes: [\n          {\n            customDomainNames: [\n              'dep-test-cdnpafd-custom-domain'\n            ]\n            name: 'dep-test-cdnpafd-afd-route'\n            originGroupName: 'dep-test-cdnpafd-origin-group'\n            ruleSets: [\n              'deptestcdnpafdruleset'\n            ]\n          }\n        ]\n      }\n    ]\n    customDomains: [\n      {\n        certificateType: 'ManagedCertificate'\n        hostName: 'dep-test-cdnpafd-custom-domain.azurewebsites.net'\n        name: 'dep-test-cdnpafd-custom-domain'\n      }\n      {\n        certificateType: 'ManagedCertificate'\n        cipherSuiteSetType: 'TLS12_2022'\n        hostName: 'dep-test2-cdnpafd-custom-domain.azurewebsites.net'\n        name: 'dep-test2-cdnpafd-custom-domain'\n      }\n      {\n        certificateType: 'ManagedCertificate'\n        cipherSuiteSetType: 'Customized'\n        customizedCipherSuiteSet: {\n          cipherSuiteSetForTls12: [\n            'DHE_RSA_AES128_GCM_SHA256'\n            'DHE_RSA_AES256_GCM_SHA384'\n          ]\n          cipherSuiteSetForTls13: [\n            'TLS_AES_128_GCM_SHA256'\n            'TLS_AES_256_GCM_SHA384'\n          ]\n        }\n        hostName: 'dep-test3-cdnpafd-custom-domain.azurewebsites.net'\n        name: 'dep-test3-cdnpafd-custom-domain'\n      }\n    ]\n    location: 'global'\n    managedIdentities: {\n      systemAssigned: true\n    }\n    originGroups: [\n      {\n        loadBalancingSettings: {\n          additionalLatencyInMilliseconds: 50\n          sampleSize: 4\n          successfulSamplesRequired: 3\n        }\n        name: 'dep-test-cdnpafd-origin-group'\n        origins: [\n          {\n            hostName: 'dep-test-cdnpafd-origin.azurewebsites.net'\n            name: 'dep-test-cdnpafd-origin'\n          }\n        ]\n      }\n    ]\n    originResponseTimeoutSeconds: 60\n    ruleSets: [\n      {\n        name: 'deptestcdnpafdruleset'\n        rules: [\n          {\n            actions: [\n              {\n                name: 'UrlRedirect'\n                parameters: {\n                  customHostname: 'dev-etradefd.trade.azure.defra.cloud'\n                  customPath: '/test123'\n                  destinationProtocol: 'Https'\n                  redirectType: 'PermanentRedirect'\n                  typeName: 'DeliveryRuleUrlRedirectActionParameters'\n                }\n              }\n            ]\n            name: 'deptestcdnpafdrule'\n            order: 1\n          }\n        ]\n      }\n    ]\n  }", "bicep": "module profile 'br/public:avm/res/cdn/profile:0.16' = {\n  name: 'profileDeployment'\n  params: {\n    // Required parameters\n    name: 'dep-test-cdnpafd'\n    sku: 'Standard_AzureFrontDoor'\n    // Non-required parameters\n    afdEndpoints: [\n      {\n        name: 'dep-test-cdnpafd-afd-endpoint'\n        routes: [\n          {\n            customDomainNames: [\n              'dep-test-cdnpafd-custom-domain'\n            ]\n            name: 'dep-test-cdnpafd-afd-route'\n            originGroupName: 'dep-test-cdnpafd-origin-group'\n            ruleSets: [\n              'deptestcdnpafdruleset'\n            ]\n          }\n        ]\n      }\n    ]\n    customDomains: [\n      {\n        certificateType: 'ManagedCertificate'\n        hostName: 'dep-test-cdnpafd-custom-domain.azurewebsites.net'\n        name: 'dep-test-cdnpafd-custom-domain'\n      }\n      {\n        certificateType: 'ManagedCertificate'\n        cipherSuiteSetType: 'TLS12_2022'\n        hostName: 'dep-test2-cdnpafd-custom-domain.azurewebsites.net'\n        name: 'dep-test2-cdnpafd-custom-domain'\n      }\n      {\n        certificateType: 'ManagedCertificate'\n        cipherSuiteSetType: 'Customized'\n        customizedCipherSuiteSet: {\n          cipherSuiteSetForTls12: [\n            'DHE_RSA_AES128_GCM_SHA256'\n            'DHE_RSA_AES256_GCM_SHA384'\n          ]\n          cipherSuiteSetForTls13: [\n            'TLS_AES_128_GCM_SHA256'\n            'TLS_AES_256_GCM_SHA384'\n          ]\n        }\n        hostName: 'dep-test3-cdnpafd-custom-domain.azurewebsites.net'\n        name: 'dep-test3-cdnpafd-custom-domain'\n      }\n    ]\n    location: 'global'\n    managedIdentities: {\n      systemAssigned: true\n    }\n    originGroups: [\n      {\n        loadBalancingSettings: {\n          additionalLatencyInMilliseconds: 50\n          sampleSize: 4\n          successfulSamplesRequired: 3\n        }\n        name: 'dep-test-cdnpafd-origin-group'\n        origins: [\n          {\n            hostName: 'dep-test-cdnpafd-origin.azurewebsites.net'\n            name: 'dep-test-cdnpafd-origin'\n          }\n        ]\n      }\n    ]\n    originResponseTimeoutSeconds: 60\n    ruleSets: [\n      {\n        name: 'deptestcdnpafdruleset'\n        rules: [\n          {\n            actions: [\n              {\n                name: 'UrlRedirect'\n                parameters: {\n                  customHostname: 'dev-etradefd.trade.azure.defra.cloud'\n                  customPath: '/test123'\n                  destinationProtocol: 'Https'\n                  redirectType: 'PermanentRedirect'\n                  typeName: 'DeliveryRuleUrlRedirectActionParameters'\n                }\n              }\n            ]\n            name: 'deptestcdnpafdrule'\n            order: 1\n          }\n        ]\n      }\n    ]\n  }\n}"}
{"id": "avm_res_cdn_profile_example_3", "source": "avm/res/cdn/profile/README.md", "content_to_embed": "Recommended AVM Module for CDN Profiles: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Cdn/profiles\nModule ID: br/public:avm/res/cdn/profile:0.16\nParameters:\nparams: {\n    // Required parameters\n    name: 'dep-test-cdnpmin'\n    sku: 'Standard_AzureFrontDoor'\n    // Non-required parameters\n    location: 'global'\n  }", "bicep": "module profile 'br/public:avm/res/cdn/profile:0.16' = {\n  name: 'profileDeployment'\n  params: {\n    // Required parameters\n    name: 'dep-test-cdnpmin'\n    sku: 'Standard_AzureFrontDoor'\n    // Non-required parameters\n    location: 'global'\n  }\n}"}
{"id": "avm_res_cdn_profile_example_4", "source": "avm/res/cdn/profile/README.md", "content_to_embed": "Recommended AVM Module for CDN Profiles: Using maximum parameter set - This instance deploys the module with all available features and parameters for Premium_AzureFrontDoor SKU.\nResource Type Path: Microsoft.Cdn/profiles\nModule ID: br/public:avm/res/cdn/profile:0.16\nParameters:\nparams: {\n    // Required parameters\n    name: 'dep-test-cdnpmax'\n    sku: 'Premium_AzureFrontDoor'\n    // Non-required parameters\n    afdEndpoints: [\n      {\n        autoGeneratedDomainNameLabelScope: 'TenantReuse'\n        enabledState: 'Enabled'\n        name: 'dep-test-cdnpmax-afd-endpoint-1'\n        routes: [\n          {\n            cacheConfiguration: {\n              compressionSettings: {\n                contentTypesToCompress: [\n                  'application/json'\n                  'text/css'\n                  'text/html'\n                ]\n                isCompressionEnabled: true\n              }\n              queryParameters: 'version,locale'\n              queryStringCachingBehavior: 'IncludeSpecifiedQueryStrings'\n            }\n            customDomainNames: [\n              'dep-test1-cdnpmax-custom-domain'\n            ]\n            enabledState: 'Enabled'\n            forwardingProtocol: 'MatchRequest'\n            httpsRedirect: 'Enabled'\n            linkToDefaultDomain: 'Enabled'\n            name: 'dep-test-cdnpmax-afd-route-1'\n            originGroupName: 'dep-test-cdnpmax-origin-group-1'\n            patternsToMatch: [\n              '/api/*'\n              '/health'\n            ]\n            ruleSets: [\n              'deptestcdnpmaxruleset1'\n            ]\n            supportedProtocols: [\n              'Http'\n              'Https'\n            ]\n          }\n        ]\n      }\n    ]\n    customDomains: [\n      {\n        certificateType: 'ManagedCertificate'\n        hostName: 'dep-test1-cdnpmax-custom-domain.azurewebsites.net'\n        minimumTlsVersion: 'TLS12'\n        name: 'dep-test1-cdnpmax-custom-domain'\n      }\n      {\n        certificateType: 'ManagedCertificate'\n        cipherSuiteSetType: 'TLS12_2022'\n        hostName: 'dep-test2-cdnpmax-custom-domain.azurewebsites.net'\n        minimumTlsVersion: 'TLS12'\n        name: 'dep-test2-cdnpmax-custom-domain'\n      }\n      {\n        certificateType: 'ManagedCertificate'\n        cipherSuiteSetType: 'Customized'\n        customizedCipherSuiteSet: {\n          cipherSuiteSetForTls13: [\n            'TLS_AES_128_GCM_SHA256'\n            'TLS_AES_256_GCM_SHA384'\n          ]\n        }\n        hostName: 'dep-test3-cdnpmax-custom-domain.azurewebsites.net'\n        minimumTlsVersion: 'TLS13'\n        name: 'dep-test3-cdnpmax-custom-domain'\n      }\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        logCategoriesAndGroups: [\n          {\n            categoryGroup: 'allLogs'\n            enabled: true\n          }\n        ]\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n            enabled: true\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    location: 'global'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n      notes: 'This resource cannot be deleted for security reasons.'\n    }\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    originGroups: [\n      {\n        healthProbeSettings: {\n          probeIntervalInSeconds: 120\n          probePath: '/health'\n          probeProtocol: 'Https'\n          probeRequestType: 'GET'\n        }\n        loadBalancingSettings: {\n          additionalLatencyInMilliseconds: 50\n          sampleSize: 4\n          successfulSamplesRequired: 3\n        }\n        name: 'dep-test-cdnpmax-origin-group-1'\n        origins: [\n          {\n            enabledState: 'Enabled'\n            enforceCertificateNameCheck: true\n            hostName: '<hostName>'\n            httpPort: 80\n            httpsPort: 443\n            name: 'dep-test-cdnpmax-origin-1'\n            priority: 1\n            weight: 1000\n          }\n        ]\n        sessionAffinityState: 'Enabled'\n        trafficRestorationTimeToHealedOrNewEndpointsInMinutes: 15\n      }\n      {\n        loadBalancingSettings: {\n          additionalLatencyInMilliseconds: 100\n          sampleSize: 6\n          successfulSamplesRequired: 4\n        }\n        name: 'dep-test-cdnpmax-origin-group-2'\n        origins: [\n          {\n            enabledState: 'Enabled'\n            enforceCertificateNameCheck: true\n            hostName: '<hostName>'\n            httpPort: 80\n            httpsPort: 443\n            name: 'dep-test-cdnpmax-origin-2'\n            priority: 1\n            weight: 1000\n          }\n        ]\n        sessionAffinityState: 'Disabled'\n        trafficRestorationTimeToHealedOrNewEndpointsInMinutes: 10\n      }\n    ]\n    originResponseTimeoutSeconds: 240\n    roleAssignments: [\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'CDN Profile Contributor'\n      }\n    ]\n    ruleSets: [\n      {\n        name: 'deptestcdnpmaxruleset1'\n        rules: [\n          {\n            actions: [\n              {\n                name: 'UrlRedirect'\n                parameters: {\n                  customHostname: 'api.example.com'\n                  customPath: '/v2/api/'\n                  destinationProtocol: 'Https'\n                  redirectType: 'PermanentRedirect'\n                  typeName: 'DeliveryRuleUrlRedirectActionParameters'\n                }\n              }\n            ]\n            conditions: []\n            matchProcessingBehavior: 'Continue'\n            name: 'deptestcdnpmaxrule1'\n            order: 1\n          }\n        ]\n      }\n    ]\n    tags: {\n      Application: 'CDN'\n      CostCenter: '12345'\n      Environment: 'Test'\n      Owner: 'TestTeam'\n    }\n  }", "bicep": "module profile 'br/public:avm/res/cdn/profile:0.16' = {\n  name: 'profileDeployment'\n  params: {\n    // Required parameters\n    name: 'dep-test-cdnpmax'\n    sku: 'Premium_AzureFrontDoor'\n    // Non-required parameters\n    afdEndpoints: [\n      {\n        autoGeneratedDomainNameLabelScope: 'TenantReuse'\n        enabledState: 'Enabled'\n        name: 'dep-test-cdnpmax-afd-endpoint-1'\n        routes: [\n          {\n            cacheConfiguration: {\n              compressionSettings: {\n                contentTypesToCompress: [\n                  'application/json'\n                  'text/css'\n                  'text/html'\n                ]\n                isCompressionEnabled: true\n              }\n              queryParameters: 'version,locale'\n              queryStringCachingBehavior: 'IncludeSpecifiedQueryStrings'\n            }\n            customDomainNames: [\n              'dep-test1-cdnpmax-custom-domain'\n            ]\n            enabledState: 'Enabled'\n            forwardingProtocol: 'MatchRequest'\n            httpsRedirect: 'Enabled'\n            linkToDefaultDomain: 'Enabled'\n            name: 'dep-test-cdnpmax-afd-route-1'\n            originGroupName: 'dep-test-cdnpmax-origin-group-1'\n            patternsToMatch: [\n              '/api/*'\n              '/health'\n            ]\n            ruleSets: [\n              'deptestcdnpmaxruleset1'\n            ]\n            supportedProtocols: [\n              'Http'\n              'Https'\n            ]\n          }\n        ]\n      }\n    ]\n    customDomains: [\n      {\n        certificateType: 'ManagedCertificate'\n        hostName: 'dep-test1-cdnpmax-custom-domain.azurewebsites.net'\n        minimumTlsVersion: 'TLS12'\n        name: 'dep-test1-cdnpmax-custom-domain'\n      }\n      {\n        certificateType: 'ManagedCertificate'\n        cipherSuiteSetType: 'TLS12_2022'\n        hostName: 'dep-test2-cdnpmax-custom-domain.azurewebsites.net'\n        minimumTlsVersion: 'TLS12'\n        name: 'dep-test2-cdnpmax-custom-domain'\n      }\n      {\n        certificateType: 'ManagedCertificate'\n        cipherSuiteSetType: 'Customized'\n        customizedCipherSuiteSet: {\n          cipherSuiteSetForTls13: [\n            'TLS_AES_128_GCM_SHA256'\n            'TLS_AES_256_GCM_SHA384'\n          ]\n        }\n        hostName: 'dep-test3-cdnpmax-custom-domain.azurewebsites.net'\n        minimumTlsVersion: 'TLS13'\n        name: 'dep-test3-cdnpmax-custom-domain'\n      }\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        logCategoriesAndGroups: [\n          {\n            categoryGroup: 'allLogs'\n            enabled: true\n          }\n        ]\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n            enabled: true\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    location: 'global'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n      notes: 'This resource cannot be deleted for security reasons.'\n    }\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    originGroups: [\n      {\n        healthProbeSettings: {\n          probeIntervalInSeconds: 120\n          probePath: '/health'\n          probeProtocol: 'Https'\n          probeRequestType: 'GET'\n        }\n        loadBalancingSettings: {\n          additionalLatencyInMilliseconds: 50\n          sampleSize: 4\n          successfulSamplesRequired: 3\n        }\n        name: 'dep-test-cdnpmax-origin-group-1'\n        origins: [\n          {\n            enabledState: 'Enabled'\n            enforceCertificateNameCheck: true\n            hostName: '<hostName>'\n            httpPort: 80\n            httpsPort: 443\n            name: 'dep-test-cdnpmax-origin-1'\n            priority: 1\n            weight: 1000\n          }\n        ]\n        sessionAffinityState: 'Enabled'\n        trafficRestorationTimeToHealedOrNewEndpointsInMinutes: 15\n      }\n      {\n        loadBalancingSettings: {\n          additionalLatencyInMilliseconds: 100\n          sampleSize: 6\n          successfulSamplesRequired: 4\n        }\n        name: 'dep-test-cdnpmax-origin-group-2'\n        origins: [\n          {\n            enabledState: 'Enabled'\n            enforceCertificateNameCheck: true\n            hostName: '<hostName>'\n            httpPort: 80\n            httpsPort: 443\n            name: 'dep-test-cdnpmax-origin-2'\n            priority: 1\n            weight: 1000\n          }\n        ]\n        sessionAffinityState: 'Disabled'\n        trafficRestorationTimeToHealedOrNewEndpointsInMinutes: 10\n      }\n    ]\n    originResponseTimeoutSeconds: 240\n    roleAssignments: [\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'CDN Profile Contributor'\n      }\n    ]\n    ruleSets: [\n      {\n        name: 'deptestcdnpmaxruleset1'\n        rules: [\n          {\n            actions: [\n              {\n                name: 'UrlRedirect'\n                parameters: {\n                  customHostname: 'api.example.com'\n                  customPath: '/v2/api/'\n                  destinationProtocol: 'Https'\n                  redirectType: 'PermanentRedirect'\n                  typeName: 'DeliveryRuleUrlRedirectActionParameters'\n                }\n              }\n            ]\n            conditions: []\n            matchProcessingBehavior: 'Continue'\n            name: 'deptestcdnpmaxrule1'\n            order: 1\n          }\n        ]\n      }\n    ]\n    tags: {\n      Application: 'CDN'\n      CostCenter: '12345'\n      Environment: 'Test'\n      Owner: 'TestTeam'\n    }\n  }\n}"}
{"id": "avm_res_cdn_profile_example_5", "source": "avm/res/cdn/profile/README.md", "content_to_embed": "Recommended AVM Module for CDN Profiles: WAF-aligned Premium AFD - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework using Premium_AzureFrontDoor SKU.\nResource Type Path: Microsoft.Cdn/profiles\nModule ID: br/public:avm/res/cdn/profile:0.16\nParameters:\nparams: {\n    // Required parameters\n    name: 'dep-waf-cdnpwaf'\n    sku: 'Premium_AzureFrontDoor'\n    // Non-required parameters\n    afdEndpoints: [\n      {\n        autoGeneratedDomainNameLabelScope: 'TenantReuse'\n        enabledState: 'Enabled'\n        name: 'dep-waf-primary-endpoint'\n        routes: [\n          {\n            cacheConfiguration: {\n              compressionSettings: {\n                contentTypesToCompress: [\n                  'application/json'\n                  'application/xml'\n                  'text/xml'\n                ]\n                isCompressionEnabled: true\n              }\n              queryParameters: 'timestamp,nonce'\n              queryStringCachingBehavior: 'IgnoreSpecifiedQueryStrings'\n            }\n            customDomainNames: [\n              'dep-waf-api-cdnpwaf-domain'\n            ]\n            enabledState: 'Enabled'\n            forwardingProtocol: 'HttpsOnly'\n            httpsRedirect: 'Enabled'\n            linkToDefaultDomain: 'Disabled'\n            name: 'dep-waf-api-route'\n            originGroupName: 'dep-waf-api-origin-group'\n            patternsToMatch: [\n              '/api/*'\n              '/v1/*'\n              '/v2/*'\n            ]\n            ruleSets: [\n              'depwafsecurityrulescdnpwaf'\n            ]\n            supportedProtocols: [\n              'Https'\n            ]\n          }\n        ]\n      }\n    ]\n    customDomains: [\n      {\n        certificateType: 'ManagedCertificate'\n        cipherSuiteSetType: 'TLS12_2023'\n        hostName: 'dep-waf-primary-cdnpwaf.example.com'\n        minimumTlsVersion: 'TLS12'\n        name: 'dep-waf-primary-cdnpwaf-domain'\n      }\n      {\n        certificateType: 'ManagedCertificate'\n        cipherSuiteSetType: 'Customized'\n        customizedCipherSuiteSet: {\n          cipherSuiteSetForTls13: [\n            'TLS_AES_128_GCM_SHA256'\n            'TLS_AES_256_GCM_SHA384'\n          ]\n        }\n        hostName: 'api-dep-waf-cdnpwaf.example.com'\n        minimumTlsVersion: 'TLS13'\n        name: 'dep-waf-api-cdnpwaf-domain'\n      }\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        logCategoriesAndGroups: [\n          {\n            categoryGroup: 'allLogs'\n            enabled: true\n          }\n        ]\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n            enabled: true\n          }\n        ]\n        name: 'waf-comprehensive-diagnostics'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    location: 'global'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'waf-protection-lock'\n      notes: 'WAF: Protected against accidental deletion for business continuity'\n    }\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    originGroups: [\n      {\n        healthProbeSettings: {\n          probeIntervalInSeconds: 15\n          probePath: '/api/health'\n          probeProtocol: 'Https'\n          probeRequestType: 'GET'\n        }\n        loadBalancingSettings: {\n          additionalLatencyInMilliseconds: 25\n          sampleSize: 6\n          successfulSamplesRequired: 4\n        }\n        name: 'dep-waf-api-origin-group'\n        origins: [\n          {\n            enabledState: 'Enabled'\n            enforceCertificateNameCheck: true\n            hostName: '<hostName>'\n            httpPort: 80\n            httpsPort: 443\n            name: 'dep-waf-api-origin'\n            originHostHeader: 'www.bing.com'\n            priority: 1\n            weight: 100\n          }\n          {\n            enabledState: 'Enabled'\n            enforceCertificateNameCheck: true\n            hostName: '<hostName>'\n            httpPort: 80\n            httpsPort: 443\n            name: 'dep-waf-api-origin-no-2'\n            originHostHeader: ''\n            priority: 2\n            weight: 200\n          }\n          {\n            enabledState: 'Enabled'\n            enforceCertificateNameCheck: true\n            hostName: '<hostName>'\n            httpPort: 80\n            httpsPort: 443\n            name: 'dep-waf-api-origin-no-3'\n            priority: 3\n            weight: 300\n          }\n        ]\n        sessionAffinityState: 'Disabled'\n        trafficRestorationTimeToHealedOrNewEndpointsInMinutes: 2\n      }\n    ]\n    originResponseTimeoutSeconds: 60\n    roleAssignments: [\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'CDN Profile Reader'\n      }\n    ]\n    ruleSets: [\n      {\n        name: 'depwafsecurityrulescdnpwaf'\n        rules: [\n          {\n            actions: [\n              {\n                name: 'UrlRedirect'\n                parameters: {\n                  destinationProtocol: 'Https'\n                  redirectType: 'PermanentRedirect'\n                  typeName: 'DeliveryRuleUrlRedirectActionParameters'\n                }\n              }\n            ]\n            conditions: [\n              {\n                name: 'RequestScheme'\n                parameters: {\n                  matchValues: [\n                    'HTTP'\n                  ]\n                  negateCondition: false\n                  operator: 'Equal'\n                  typeName: 'DeliveryRuleRequestSchemeConditionParameters'\n                }\n              }\n            ]\n            matchProcessingBehavior: 'Stop'\n            name: 'HTTPSRedirectRule'\n            order: 1\n          }\n          {\n            actions: [\n              {\n                name: 'ModifyResponseHeader'\n                parameters: {\n                  headerAction: 'Overwrite'\n                  headerName: 'Strict-Transport-Security'\n                  typeName: 'DeliveryRuleHeaderActionParameters'\n                  value: 'max-age=31536000; includeSubDomains; preload'\n                }\n              }\n              {\n                name: 'ModifyResponseHeader'\n                parameters: {\n                  headerAction: 'Overwrite'\n                  headerName: 'X-Content-Type-Options'\n                  typeName: 'DeliveryRuleHeaderActionParameters'\n                  value: 'nosniff'\n                }\n              }\n              {\n                name: 'ModifyResponseHeader'\n                parameters: {\n                  headerAction: 'Overwrite'\n                  headerName: 'X-Frame-Options'\n                  typeName: 'DeliveryRuleHeaderActionParameters'\n                  value: 'DENY'\n                }\n              }\n              {\n                name: 'ModifyResponseHeader'\n                parameters: {\n                  headerAction: 'Overwrite'\n                  headerName: 'X-XSS-Protection'\n                  typeName: 'DeliveryRuleHeaderActionParameters'\n                  value: '1; mode=block'\n                }\n              }\n              {\n                name: 'ModifyResponseHeader'\n                parameters: {\n                  headerAction: 'Overwrite'\n                  headerName: 'Referrer-Policy'\n                  typeName: 'DeliveryRuleHeaderActionParameters'\n                  value: 'strict-origin-when-cross-origin'\n                }\n              }\n            ]\n            conditions: [\n              {\n                name: 'RequestScheme'\n                parameters: {\n                  matchValues: [\n                    'HTTPS'\n                  ]\n                  negateCondition: false\n                  operator: 'Equal'\n                  typeName: 'DeliveryRuleRequestSchemeConditionParameters'\n                }\n              }\n            ]\n            matchProcessingBehavior: 'Continue'\n            name: 'SecurityHeadersRule'\n            order: 2\n          }\n          {\n            actions: [\n              {\n                name: 'ModifyResponseHeader'\n                parameters: {\n                  headerAction: 'Overwrite'\n                  headerName: 'X-RateLimit-Limit'\n                  typeName: 'DeliveryRuleHeaderActionParameters'\n                  value: '1000'\n                }\n              }\n            ]\n            conditions: [\n              {\n                name: 'RequestUri'\n                parameters: {\n                  matchValues: [\n                    '/api/'\n                  ]\n                  negateCondition: false\n                  operator: 'BeginsWith'\n                  transforms: [\n                    'Lowercase'\n                  ]\n                  typeName: 'DeliveryRuleRequestUriConditionParameters'\n                }\n              }\n            ]\n            matchProcessingBehavior: 'Continue'\n            name: 'APIRateLimitRule'\n            order: 3\n          }\n        ]\n      }\n    ]\n    tags: {\n      Application: 'CDN-WAF-Aligned'\n      BackupRequired: 'Yes'\n      BusinessUnit: 'Digital-Services'\n      CostCenter: 'IT-Infrastructure'\n      Criticality: 'High'\n      DataClassification: 'Internal'\n      Environment: 'Production'\n      MonitoringRequired: 'Yes'\n      Owner: 'Platform-Team'\n      'WAF-Pillar': 'All'\n    }\n  }", "bicep": "module profile 'br/public:avm/res/cdn/profile:0.16' = {\n  name: 'profileDeployment'\n  params: {\n    // Required parameters\n    name: 'dep-waf-cdnpwaf'\n    sku: 'Premium_AzureFrontDoor'\n    // Non-required parameters\n    afdEndpoints: [\n      {\n        autoGeneratedDomainNameLabelScope: 'TenantReuse'\n        enabledState: 'Enabled'\n        name: 'dep-waf-primary-endpoint'\n        routes: [\n          {\n            cacheConfiguration: {\n              compressionSettings: {\n                contentTypesToCompress: [\n                  'application/json'\n                  'application/xml'\n                  'text/xml'\n                ]\n                isCompressionEnabled: true\n              }\n              queryParameters: 'timestamp,nonce'\n              queryStringCachingBehavior: 'IgnoreSpecifiedQueryStrings'\n            }\n            customDomainNames: [\n              'dep-waf-api-cdnpwaf-domain'\n            ]\n            enabledState: 'Enabled'\n            forwardingProtocol: 'HttpsOnly'\n            httpsRedirect: 'Enabled'\n            linkToDefaultDomain: 'Disabled'\n            name: 'dep-waf-api-route'\n            originGroupName: 'dep-waf-api-origin-group'\n            patternsToMatch: [\n              '/api/*'\n              '/v1/*'\n              '/v2/*'\n            ]\n            ruleSets: [\n              'depwafsecurityrulescdnpwaf'\n            ]\n            supportedProtocols: [\n              'Https'\n            ]\n          }\n        ]\n      }\n    ]\n    customDomains: [\n      {\n        certificateType: 'ManagedCertificate'\n        cipherSuiteSetType: 'TLS12_2023'\n        hostName: 'dep-waf-primary-cdnpwaf.example.com'\n        minimumTlsVersion: 'TLS12'\n        name: 'dep-waf-primary-cdnpwaf-domain'\n      }\n      {\n        certificateType: 'ManagedCertificate'\n        cipherSuiteSetType: 'Customized'\n        customizedCipherSuiteSet: {\n          cipherSuiteSetForTls13: [\n            'TLS_AES_128_GCM_SHA256'\n            'TLS_AES_256_GCM_SHA384'\n          ]\n        }\n        hostName: 'api-dep-waf-cdnpwaf.example.com'\n        minimumTlsVersion: 'TLS13'\n        name: 'dep-waf-api-cdnpwaf-domain'\n      }\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        logCategoriesAndGroups: [\n          {\n            categoryGroup: 'allLogs'\n            enabled: true\n          }\n        ]\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n            enabled: true\n          }\n        ]\n        name: 'waf-comprehensive-diagnostics'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    location: 'global'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'waf-protection-lock'\n      notes: 'WAF: Protected against accidental deletion for business continuity'\n    }\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    originGroups: [\n      {\n        healthProbeSettings: {\n          probeIntervalInSeconds: 15\n          probePath: '/api/health'\n          probeProtocol: 'Https'\n          probeRequestType: 'GET'\n        }\n        loadBalancingSettings: {\n          additionalLatencyInMilliseconds: 25\n          sampleSize: 6\n          successfulSamplesRequired: 4\n        }\n        name: 'dep-waf-api-origin-group'\n        origins: [\n          {\n            enabledState: 'Enabled'\n            enforceCertificateNameCheck: true\n            hostName: '<hostName>'\n            httpPort: 80\n            httpsPort: 443\n            name: 'dep-waf-api-origin'\n            originHostHeader: 'www.bing.com'\n            priority: 1\n            weight: 100\n          }\n          {\n            enabledState: 'Enabled'\n            enforceCertificateNameCheck: true\n            hostName: '<hostName>'\n            httpPort: 80\n            httpsPort: 443\n            name: 'dep-waf-api-origin-no-2'\n            originHostHeader: ''\n            priority: 2\n            weight: 200\n          }\n          {\n            enabledState: 'Enabled'\n            enforceCertificateNameCheck: true\n            hostName: '<hostName>'\n            httpPort: 80\n            httpsPort: 443\n            name: 'dep-waf-api-origin-no-3'\n            priority: 3\n            weight: 300\n          }\n        ]\n        sessionAffinityState: 'Disabled'\n        trafficRestorationTimeToHealedOrNewEndpointsInMinutes: 2\n      }\n    ]\n    originResponseTimeoutSeconds: 60\n    roleAssignments: [\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'CDN Profile Reader'\n      }\n    ]\n    ruleSets: [\n      {\n        name: 'depwafsecurityrulescdnpwaf'\n        rules: [\n          {\n            actions: [\n              {\n                name: 'UrlRedirect'\n                parameters: {\n                  destinationProtocol: 'Https'\n                  redirectType: 'PermanentRedirect'\n                  typeName: 'DeliveryRuleUrlRedirectActionParameters'\n                }\n              }\n            ]\n            conditions: [\n              {\n                name: 'RequestScheme'\n                parameters: {\n                  matchValues: [\n                    'HTTP'\n                  ]\n                  negateCondition: false\n                  operator: 'Equal'\n                  typeName: 'DeliveryRuleRequestSchemeConditionParameters'\n                }\n              }\n            ]\n            matchProcessingBehavior: 'Stop'\n            name: 'HTTPSRedirectRule'\n            order: 1\n          }\n          {\n            actions: [\n              {\n                name: 'ModifyResponseHeader'\n                parameters: {\n                  headerAction: 'Overwrite'\n                  headerName: 'Strict-Transport-Security'\n                  typeName: 'DeliveryRuleHeaderActionParameters'\n                  value: 'max-age=31536000; includeSubDomains; preload'\n                }\n              }\n              {\n                name: 'ModifyResponseHeader'\n                parameters: {\n                  headerAction: 'Overwrite'\n                  headerName: 'X-Content-Type-Options'\n                  typeName: 'DeliveryRuleHeaderActionParameters'\n                  value: 'nosniff'\n                }\n              }\n              {\n                name: 'ModifyResponseHeader'\n                parameters: {\n                  headerAction: 'Overwrite'\n                  headerName: 'X-Frame-Options'\n                  typeName: 'DeliveryRuleHeaderActionParameters'\n                  value: 'DENY'\n                }\n              }\n              {\n                name: 'ModifyResponseHeader'\n                parameters: {\n                  headerAction: 'Overwrite'\n                  headerName: 'X-XSS-Protection'\n                  typeName: 'DeliveryRuleHeaderActionParameters'\n                  value: '1; mode=block'\n                }\n              }\n              {\n                name: 'ModifyResponseHeader'\n                parameters: {\n                  headerAction: 'Overwrite'\n                  headerName: 'Referrer-Policy'\n                  typeName: 'DeliveryRuleHeaderActionParameters'\n                  value: 'strict-origin-when-cross-origin'\n                }\n              }\n            ]\n            conditions: [\n              {\n                name: 'RequestScheme'\n                parameters: {\n                  matchValues: [\n                    'HTTPS'\n                  ]\n                  negateCondition: false\n                  operator: 'Equal'\n                  typeName: 'DeliveryRuleRequestSchemeConditionParameters'\n                }\n              }\n            ]\n            matchProcessingBehavior: 'Continue'\n            name: 'SecurityHeadersRule'\n            order: 2\n          }\n          {\n            actions: [\n              {\n                name: 'ModifyResponseHeader'\n                parameters: {\n                  headerAction: 'Overwrite'\n                  headerName: 'X-RateLimit-Limit'\n                  typeName: 'DeliveryRuleHeaderActionParameters'\n                  value: '1000'\n                }\n              }\n            ]\n            conditions: [\n              {\n                name: 'RequestUri'\n                parameters: {\n                  matchValues: [\n                    '/api/'\n                  ]\n                  negateCondition: false\n                  operator: 'BeginsWith'\n                  transforms: [\n                    'Lowercase'\n                  ]\n                  typeName: 'DeliveryRuleRequestUriConditionParameters'\n                }\n              }\n            ]\n            matchProcessingBehavior: 'Continue'\n            name: 'APIRateLimitRule'\n            order: 3\n          }\n        ]\n      }\n    ]\n    tags: {\n      Application: 'CDN-WAF-Aligned'\n      BackupRequired: 'Yes'\n      BusinessUnit: 'Digital-Services'\n      CostCenter: 'IT-Infrastructure'\n      Criticality: 'High'\n      DataClassification: 'Internal'\n      Environment: 'Production'\n      MonitoringRequired: 'Yes'\n      Owner: 'Platform-Team'\n      'WAF-Pillar': 'All'\n    }\n  }\n}"}
{"id": "avm_res_cognitive-services_account_example_1", "source": "avm/res/cognitive-services/account/README.md", "content_to_embed": "Recommended AVM Module for Cognitive Services: Using `AIServices` with `deployments` in parameter set, private endpoints, and network injection - This instance deploys the module with the AI model deployment feature, private endpoint, and network injection for agent service.\nResource Type Path: Microsoft.CognitiveServices/accounts\nModule ID: br/public:avm/res/cognitive-services/account:0.13\nParameters:\nparams: {\n    // Required parameters\n    kind: 'AIServices'\n    name: 'csadpa003'\n    // Non-required parameters\n    customSubDomainName: 'xcsadpaai'\n    deployments: [\n      {\n        model: {\n          format: 'OpenAI'\n          name: 'gpt-4o'\n          version: '2024-11-20'\n        }\n        name: 'gpt-4o'\n        sku: {\n          capacity: 10\n          name: 'Standard'\n        }\n      }\n    ]\n    location: '<location>'\n    networkInjections: {\n      scenario: 'agent'\n      subnetResourceId: '<subnetResourceId>'\n      useMicrosoftManagedNetwork: false\n    }\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    publicNetworkAccess: 'Disabled'\n  }", "bicep": "module account 'br/public:avm/res/cognitive-services/account:0.13' = {\n  name: 'accountDeployment'\n  params: {\n    // Required parameters\n    kind: 'AIServices'\n    name: 'csadpa003'\n    // Non-required parameters\n    customSubDomainName: 'xcsadpaai'\n    deployments: [\n      {\n        model: {\n          format: 'OpenAI'\n          name: 'gpt-4o'\n          version: '2024-11-20'\n        }\n        name: 'gpt-4o'\n        sku: {\n          capacity: 10\n          name: 'Standard'\n        }\n      }\n    ]\n    location: '<location>'\n    networkInjections: {\n      scenario: 'agent'\n      subnetResourceId: '<subnetResourceId>'\n      useMicrosoftManagedNetwork: false\n    }\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    publicNetworkAccess: 'Disabled'\n  }\n}"}
{"id": "avm_res_cognitive-services_account_example_2", "source": "avm/res/cognitive-services/account/README.md", "content_to_embed": "Recommended AVM Module for Cognitive Services: Using `AIServices` with `deployments` in parameter set and private endpoints - This instance deploys the module with the AI model deployment feature and private endpoint.\nResource Type Path: Microsoft.CognitiveServices/accounts\nModule ID: br/public:avm/res/cognitive-services/account:0.13\nParameters:\nparams: {\n    // Required parameters\n    kind: 'AIServices'\n    name: 'csadp003'\n    // Non-required parameters\n    customSubDomainName: 'xcsadpai'\n    deployments: [\n      {\n        model: {\n          format: 'OpenAI'\n          name: 'gpt-4o'\n          version: '2024-11-20'\n        }\n        name: 'gpt-4o'\n        sku: {\n          capacity: 10\n          name: 'Standard'\n        }\n      }\n    ]\n    location: '<location>'\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    publicNetworkAccess: 'Disabled'\n  }", "bicep": "module account 'br/public:avm/res/cognitive-services/account:0.13' = {\n  name: 'accountDeployment'\n  params: {\n    // Required parameters\n    kind: 'AIServices'\n    name: 'csadp003'\n    // Non-required parameters\n    customSubDomainName: 'xcsadpai'\n    deployments: [\n      {\n        model: {\n          format: 'OpenAI'\n          name: 'gpt-4o'\n          version: '2024-11-20'\n        }\n        name: 'gpt-4o'\n        sku: {\n          capacity: 10\n          name: 'Standard'\n        }\n      }\n    ]\n    location: '<location>'\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    publicNetworkAccess: 'Disabled'\n  }\n}"}
{"id": "avm_res_cognitive-services_account_example_3", "source": "avm/res/cognitive-services/account/README.md", "content_to_embed": "Recommended AVM Module for Cognitive Services: Using `AIServices` with `deployments` in parameter set - This instance deploys the module with the AI model deployment feature.\nResource Type Path: Microsoft.CognitiveServices/accounts\nModule ID: br/public:avm/res/cognitive-services/account:0.13\nParameters:\nparams: {\n    // Required parameters\n    kind: 'AIServices'\n    name: 'csad002'\n    // Non-required parameters\n    customSubDomainName: 'xcsadai'\n    deployments: [\n      {\n        model: {\n          format: 'OpenAI'\n          name: 'gpt-4o'\n          version: '2024-11-20'\n        }\n        name: 'gpt-4o'\n        sku: {\n          capacity: 10\n          name: 'Standard'\n        }\n      }\n    ]\n    location: '<location>'\n  }", "bicep": "module account 'br/public:avm/res/cognitive-services/account:0.13' = {\n  name: 'accountDeployment'\n  params: {\n    // Required parameters\n    kind: 'AIServices'\n    name: 'csad002'\n    // Non-required parameters\n    customSubDomainName: 'xcsadai'\n    deployments: [\n      {\n        model: {\n          format: 'OpenAI'\n          name: 'gpt-4o'\n          version: '2024-11-20'\n        }\n        name: 'gpt-4o'\n        sku: {\n          capacity: 10\n          name: 'Standard'\n        }\n      }\n    ]\n    location: '<location>'\n  }\n}"}
{"id": "avm_res_cognitive-services_account_example_4", "source": "avm/res/cognitive-services/account/README.md", "content_to_embed": "Recommended AVM Module for Cognitive Services: Storing keys of service in key vault - This instance deploys the module and stores its keys in a key vault.\nResource Type Path: Microsoft.CognitiveServices/accounts\nModule ID: br/public:avm/res/cognitive-services/account:0.13\nParameters:\nparams: {\n    // Required parameters\n    kind: 'SpeechServices'\n    name: 'csakv001'\n    // Non-required parameters\n    disableLocalAuth: false\n    location: '<location>'\n    secretsExportConfiguration: {\n      accessKey1Name: 'csakv001-accessKey1'\n      accessKey2Name: 'csakv001-accessKey2'\n      keyVaultResourceId: '<keyVaultResourceId>'\n    }\n  }", "bicep": "module account 'br/public:avm/res/cognitive-services/account:0.13' = {\n  name: 'accountDeployment'\n  params: {\n    // Required parameters\n    kind: 'SpeechServices'\n    name: 'csakv001'\n    // Non-required parameters\n    disableLocalAuth: false\n    location: '<location>'\n    secretsExportConfiguration: {\n      accessKey1Name: 'csakv001-accessKey1'\n      accessKey2Name: 'csakv001-accessKey2'\n      keyVaultResourceId: '<keyVaultResourceId>'\n    }\n  }\n}"}
{"id": "avm_res_cognitive-services_account_example_5", "source": "avm/res/cognitive-services/account/README.md", "content_to_embed": "Recommended AVM Module for Cognitive Services: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.CognitiveServices/accounts\nModule ID: br/public:avm/res/cognitive-services/account:0.13\nParameters:\nparams: {\n    // Required parameters\n    kind: 'SpeechServices'\n    name: 'csamin001'\n    // Non-required parameters\n    location: '<location>'\n  }", "bicep": "module account 'br/public:avm/res/cognitive-services/account:0.13' = {\n  name: 'accountDeployment'\n  params: {\n    // Required parameters\n    kind: 'SpeechServices'\n    name: 'csamin001'\n    // Non-required parameters\n    location: '<location>'\n  }\n}"}
{"id": "avm_res_cognitive-services_account_example_6", "source": "avm/res/cognitive-services/account/README.md", "content_to_embed": "Recommended AVM Module for Cognitive Services: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.CognitiveServices/accounts\nModule ID: br/public:avm/res/cognitive-services/account:0.13\nParameters:\nparams: {\n    // Required parameters\n    kind: 'AIServices'\n    name: 'csamax001'\n    // Non-required parameters\n    allowProjectManagement: false\n    customSubDomainName: 'xcsamax'\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        logCategoriesAndGroups: [\n          {\n            category: 'RequestResponse'\n          }\n          {\n            category: 'Audit'\n          }\n        ]\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    networkAcls: {\n      defaultAction: 'Deny'\n      ipRules: [\n        {\n          value: '40.74.28.0/23'\n        }\n      ]\n      virtualNetworkRules: [\n        {\n          id: '<id>'\n          ignoreMissingVnetServiceEndpoint: false\n        }\n      ]\n    }\n    networkInjections: {\n      scenario: 'agent'\n      subnetResourceId: '<subnetResourceId>'\n      useMicrosoftManagedNetwork: false\n    }\n    privateEndpoints: [\n      {\n        customDnsConfigs: [\n          {\n            fqdn: 'abc.account.com'\n            ipAddresses: [\n              '10.0.0.10'\n            ]\n          }\n        ]\n        ipConfigurations: [\n          {\n            name: 'myIPconfigDefault'\n            properties: {\n              groupId: 'account'\n              memberName: 'default'\n              privateIPAddress: '10.0.0.10'\n            }\n          }\n          {\n            name: 'myIPconfigSecondary'\n            properties: {\n              groupId: 'account'\n              memberName: 'secondary'\n              privateIPAddress: '10.0.0.11'\n            }\n          }\n          {\n            name: 'myIPconfigThird'\n            properties: {\n              groupId: 'account'\n              memberName: 'third'\n              privateIPAddress: '10.0.0.12'\n            }\n          }\n        ]\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    publicNetworkAccess: 'Disabled'\n    roleAssignments: [\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    sku: 'S0'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module account 'br/public:avm/res/cognitive-services/account:0.13' = {\n  name: 'accountDeployment'\n  params: {\n    // Required parameters\n    kind: 'AIServices'\n    name: 'csamax001'\n    // Non-required parameters\n    allowProjectManagement: false\n    customSubDomainName: 'xcsamax'\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        logCategoriesAndGroups: [\n          {\n            category: 'RequestResponse'\n          }\n          {\n            category: 'Audit'\n          }\n        ]\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    networkAcls: {\n      defaultAction: 'Deny'\n      ipRules: [\n        {\n          value: '40.74.28.0/23'\n        }\n      ]\n      virtualNetworkRules: [\n        {\n          id: '<id>'\n          ignoreMissingVnetServiceEndpoint: false\n        }\n      ]\n    }\n    networkInjections: {\n      scenario: 'agent'\n      subnetResourceId: '<subnetResourceId>'\n      useMicrosoftManagedNetwork: false\n    }\n    privateEndpoints: [\n      {\n        customDnsConfigs: [\n          {\n            fqdn: 'abc.account.com'\n            ipAddresses: [\n              '10.0.0.10'\n            ]\n          }\n        ]\n        ipConfigurations: [\n          {\n            name: 'myIPconfigDefault'\n            properties: {\n              groupId: 'account'\n              memberName: 'default'\n              privateIPAddress: '10.0.0.10'\n            }\n          }\n          {\n            name: 'myIPconfigSecondary'\n            properties: {\n              groupId: 'account'\n              memberName: 'secondary'\n              privateIPAddress: '10.0.0.11'\n            }\n          }\n          {\n            name: 'myIPconfigThird'\n            properties: {\n              groupId: 'account'\n              memberName: 'third'\n              privateIPAddress: '10.0.0.12'\n            }\n          }\n        ]\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    publicNetworkAccess: 'Disabled'\n    roleAssignments: [\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    sku: 'S0'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_cognitive-services_account_example_7", "source": "avm/res/cognitive-services/account/README.md", "content_to_embed": "Recommended AVM Module for Cognitive Services: Using `OpenAI` and `deployments` in parameter set with private endpoint - This instance deploys the module with the AI model deployment feature and private endpoint.\nResource Type Path: Microsoft.CognitiveServices/accounts\nModule ID: br/public:avm/res/cognitive-services/account:0.13\nParameters:\nparams: {\n    // Required parameters\n    kind: 'OpenAI'\n    name: 'csoai002'\n    // Non-required parameters\n    customSubDomainName: 'xcsoaiai'\n    deployments: [\n      {\n        model: {\n          format: 'OpenAI'\n          name: 'gpt-4o'\n          version: '2024-11-20'\n        }\n        name: 'gpt-4o'\n        sku: {\n          capacity: 10\n          name: 'Standard'\n        }\n      }\n    ]\n    location: '<location>'\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    publicNetworkAccess: 'Disabled'\n  }", "bicep": "module account 'br/public:avm/res/cognitive-services/account:0.13' = {\n  name: 'accountDeployment'\n  params: {\n    // Required parameters\n    kind: 'OpenAI'\n    name: 'csoai002'\n    // Non-required parameters\n    customSubDomainName: 'xcsoaiai'\n    deployments: [\n      {\n        model: {\n          format: 'OpenAI'\n          name: 'gpt-4o'\n          version: '2024-11-20'\n        }\n        name: 'gpt-4o'\n        sku: {\n          capacity: 10\n          name: 'Standard'\n        }\n      }\n    ]\n    location: '<location>'\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    publicNetworkAccess: 'Disabled'\n  }\n}"}
{"id": "avm_res_cognitive-services_account_example_8", "source": "avm/res/cognitive-services/account/README.md", "content_to_embed": "Recommended AVM Module for Cognitive Services: As Speech Service - This instance deploys the module as a Speech Service.\nResource Type Path: Microsoft.CognitiveServices/accounts\nModule ID: br/public:avm/res/cognitive-services/account:0.13\nParameters:\nparams: {\n    // Required parameters\n    kind: 'SpeechServices'\n    name: 'csaspeech001'\n    // Non-required parameters\n    customSubDomainName: 'speechdomain'\n    location: '<location>'\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n    ]\n    sku: 'S0'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module account 'br/public:avm/res/cognitive-services/account:0.13' = {\n  name: 'accountDeployment'\n  params: {\n    // Required parameters\n    kind: 'SpeechServices'\n    name: 'csaspeech001'\n    // Non-required parameters\n    customSubDomainName: 'speechdomain'\n    location: '<location>'\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n    ]\n    sku: 'S0'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_cognitive-services_account_example_9", "source": "avm/res/cognitive-services/account/README.md", "content_to_embed": "Recommended AVM Module for Cognitive Services: Using Customer-Managed-Keys with System-Assigned identity - This instance deploys the module using Customer-Managed-Keys using a System-Assigned Identity. This required the service to be deployed twice, once as a pre-requisite to create the System-Assigned Identity, and once to use it for accessing the Customer-Managed-Key secret.\nResource Type Path: Microsoft.CognitiveServices/accounts\nModule ID: br/public:avm/res/cognitive-services/account:0.13\nParameters:\nparams: {\n    // Required parameters\n    kind: 'SpeechServices'\n    name: '<name>'\n    // Non-required parameters\n    customerManagedKey: {\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n    }\n    location: '<location>'\n    managedIdentities: {\n      systemAssigned: true\n    }\n    publicNetworkAccess: 'Enabled'\n    restrictOutboundNetworkAccess: false\n    sku: 'S0'\n  }", "bicep": "module account 'br/public:avm/res/cognitive-services/account:0.13' = {\n  name: 'accountDeployment'\n  params: {\n    // Required parameters\n    kind: 'SpeechServices'\n    name: '<name>'\n    // Non-required parameters\n    customerManagedKey: {\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n    }\n    location: '<location>'\n    managedIdentities: {\n      systemAssigned: true\n    }\n    publicNetworkAccess: 'Enabled'\n    restrictOutboundNetworkAccess: false\n    sku: 'S0'\n  }\n}"}
{"id": "avm_res_cognitive-services_account_example_10", "source": "avm/res/cognitive-services/account/README.md", "content_to_embed": "Recommended AVM Module for Cognitive Services: Using Customer-Managed-Keys with User-Assigned identity - This instance deploys the module using Customer-Managed-Keys using a User-Assigned Identity to access the Customer-Managed-Key secret.\nResource Type Path: Microsoft.CognitiveServices/accounts\nModule ID: br/public:avm/res/cognitive-services/account:0.13\nParameters:\nparams: {\n    // Required parameters\n    kind: 'SpeechServices'\n    name: 'csaencr001'\n    // Non-required parameters\n    customerManagedKey: {\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n      userAssignedIdentityResourceId: '<userAssignedIdentityResourceId>'\n    }\n    location: '<location>'\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    publicNetworkAccess: 'Enabled'\n    restrictOutboundNetworkAccess: false\n    sku: 'S0'\n  }", "bicep": "module account 'br/public:avm/res/cognitive-services/account:0.13' = {\n  name: 'accountDeployment'\n  params: {\n    // Required parameters\n    kind: 'SpeechServices'\n    name: 'csaencr001'\n    // Non-required parameters\n    customerManagedKey: {\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n      userAssignedIdentityResourceId: '<userAssignedIdentityResourceId>'\n    }\n    location: '<location>'\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    publicNetworkAccess: 'Enabled'\n    restrictOutboundNetworkAccess: false\n    sku: 'S0'\n  }\n}"}
{"id": "avm_res_cognitive-services_account_example_11", "source": "avm/res/cognitive-services/account/README.md", "content_to_embed": "Recommended AVM Module for Cognitive Services: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.CognitiveServices/accounts\nModule ID: br/public:avm/res/cognitive-services/account:0.13\nParameters:\nparams: {\n    // Required parameters\n    kind: 'Face'\n    name: 'csawaf001'\n    // Non-required parameters\n    customSubDomainName: 'xcsawaf'\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: true\n    }\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n    ]\n    sku: 'S0'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module account 'br/public:avm/res/cognitive-services/account:0.13' = {\n  name: 'accountDeployment'\n  params: {\n    // Required parameters\n    kind: 'Face'\n    name: 'csawaf001'\n    // Non-required parameters\n    customSubDomainName: 'xcsawaf'\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: true\n    }\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n    ]\n    sku: 'S0'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_communication_communication-service_example_1", "source": "avm/res/communication/communication-service/README.md", "content_to_embed": "Recommended AVM Module for Communication Services: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Communication/communicationServices\nModule ID: br/public:avm/res/communication/communication-service:0.4\nParameters:\nparams: {\n    // Required parameters\n    dataLocation: 'Germany'\n    name: 'ccsmin001'\n    // Non-required parameters\n    location: 'global'\n  }", "bicep": "module communicationService 'br/public:avm/res/communication/communication-service:0.4' = {\n  name: 'communicationServiceDeployment'\n  params: {\n    // Required parameters\n    dataLocation: 'Germany'\n    name: 'ccsmin001'\n    // Non-required parameters\n    location: 'global'\n  }\n}"}
{"id": "avm_res_communication_communication-service_example_2", "source": "avm/res/communication/communication-service/README.md", "content_to_embed": "Recommended AVM Module for Communication Services: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Communication/communicationServices\nModule ID: br/public:avm/res/communication/communication-service:0.4\nParameters:\nparams: {\n    // Required parameters\n    dataLocation: 'Germany'\n    name: 'ccsmax001'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    linkedDomains: [\n      '<emailDomainResourceId>'\n    ]\n    location: 'global'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: false\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    roleAssignments: [\n      {\n        name: '9237b909-e8fb-4bb8-8194-34aae537cee2'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module communicationService 'br/public:avm/res/communication/communication-service:0.4' = {\n  name: 'communicationServiceDeployment'\n  params: {\n    // Required parameters\n    dataLocation: 'Germany'\n    name: 'ccsmax001'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    linkedDomains: [\n      '<emailDomainResourceId>'\n    ]\n    location: 'global'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: false\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    roleAssignments: [\n      {\n        name: '9237b909-e8fb-4bb8-8194-34aae537cee2'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_communication_communication-service_example_3", "source": "avm/res/communication/communication-service/README.md", "content_to_embed": "Recommended AVM Module for Communication Services: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Communication/communicationServices\nModule ID: br/public:avm/res/communication/communication-service:0.4\nParameters:\nparams: {\n    // Required parameters\n    dataLocation: 'Germany'\n    name: 'ccswaf001'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    location: 'global'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module communicationService 'br/public:avm/res/communication/communication-service:0.4' = {\n  name: 'communicationServiceDeployment'\n  params: {\n    // Required parameters\n    dataLocation: 'Germany'\n    name: 'ccswaf001'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    location: 'global'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_communication_email-service_example_1", "source": "avm/res/communication/email-service/README.md", "content_to_embed": "Recommended AVM Module for Email Services: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Communication/emailServices\nModule ID: br/public:avm/res/communication/email-service:0.4\nParameters:\nparams: {\n    // Required parameters\n    dataLocation: 'Europe'\n    name: 'cesmin001'\n  }", "bicep": "module emailService 'br/public:avm/res/communication/email-service:0.4' = {\n  name: 'emailServiceDeployment'\n  params: {\n    // Required parameters\n    dataLocation: 'Europe'\n    name: 'cesmin001'\n  }\n}"}
{"id": "avm_res_communication_email-service_example_2", "source": "avm/res/communication/email-service/README.md", "content_to_embed": "Recommended AVM Module for Email Services: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Communication/emailServices\nModule ID: br/public:avm/res/communication/email-service:0.4\nParameters:\nparams: {\n    // Required parameters\n    dataLocation: 'United States'\n    name: 'cesmax001'\n    // Non-required parameters\n    domains: [\n      {\n        domainManagement: 'AzureManaged'\n        lock: {\n          kind: 'CanNotDelete'\n          name: 'myCustomLockName'\n        }\n        name: 'AzureManagedDomain'\n        roleAssignments: [\n          {\n            name: '1a441bec-9c57-49d1-9a83-b7fd62901413'\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n        senderUsernames: [\n          {\n            displayName: 'Do Not Reply'\n            name: 'donotreply'\n            username: 'DoNotReply'\n          }\n          {\n            displayName: 'Customer Service'\n            name: 'customerservice'\n            username: 'CustomerService'\n          }\n        ]\n        tags: {\n          Role: 'DeploymentValidation'\n        }\n        userEngagementTracking: 'Enabled'\n      }\n    ]\n    location: 'global'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    roleAssignments: [\n      {\n        name: 'bdfa5270-8a55-466d-90d0-b5e96a90fadc'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module emailService 'br/public:avm/res/communication/email-service:0.4' = {\n  name: 'emailServiceDeployment'\n  params: {\n    // Required parameters\n    dataLocation: 'United States'\n    name: 'cesmax001'\n    // Non-required parameters\n    domains: [\n      {\n        domainManagement: 'AzureManaged'\n        lock: {\n          kind: 'CanNotDelete'\n          name: 'myCustomLockName'\n        }\n        name: 'AzureManagedDomain'\n        roleAssignments: [\n          {\n            name: '1a441bec-9c57-49d1-9a83-b7fd62901413'\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n        senderUsernames: [\n          {\n            displayName: 'Do Not Reply'\n            name: 'donotreply'\n            username: 'DoNotReply'\n          }\n          {\n            displayName: 'Customer Service'\n            name: 'customerservice'\n            username: 'CustomerService'\n          }\n        ]\n        tags: {\n          Role: 'DeploymentValidation'\n        }\n        userEngagementTracking: 'Enabled'\n      }\n    ]\n    location: 'global'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    roleAssignments: [\n      {\n        name: 'bdfa5270-8a55-466d-90d0-b5e96a90fadc'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_communication_email-service_example_3", "source": "avm/res/communication/email-service/README.md", "content_to_embed": "Recommended AVM Module for Email Services: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Communication/emailServices\nModule ID: br/public:avm/res/communication/email-service:0.4\nParameters:\nparams: {\n    // Required parameters\n    dataLocation: 'Germany'\n    name: 'ceswaf001'\n    // Non-required parameters\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module emailService 'br/public:avm/res/communication/email-service:0.4' = {\n  name: 'emailServiceDeployment'\n  params: {\n    // Required parameters\n    dataLocation: 'Germany'\n    name: 'ceswaf001'\n    // Non-required parameters\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_compute_availability-set_example_1", "source": "avm/res/compute/availability-set/README.md", "content_to_embed": "Recommended AVM Module for Availability Sets: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Compute/availabilitySets\nModule ID: br/public:avm/res/compute/availability-set:0.2\nParameters:\nparams: {\n    // Required parameters\n    name: 'casmin001'\n    // Non-required parameters\n    location: '<location>'\n  }", "bicep": "module availabilitySet 'br/public:avm/res/compute/availability-set:0.2' = {\n  name: 'availabilitySetDeployment'\n  params: {\n    // Required parameters\n    name: 'casmin001'\n    // Non-required parameters\n    location: '<location>'\n  }\n}"}
{"id": "avm_res_compute_availability-set_example_2", "source": "avm/res/compute/availability-set/README.md", "content_to_embed": "Recommended AVM Module for Availability Sets: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Compute/availabilitySets\nModule ID: br/public:avm/res/compute/availability-set:0.2\nParameters:\nparams: {\n    // Required parameters\n    name: 'casmax001'\n    // Non-required parameters\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    proximityPlacementGroupResourceId: '<proximityPlacementGroupResourceId>'\n    roleAssignments: [\n      {\n        name: 'd9d13442-232d-4861-9ab9-bad5e90c4f71'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    skuName: 'Aligned'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module availabilitySet 'br/public:avm/res/compute/availability-set:0.2' = {\n  name: 'availabilitySetDeployment'\n  params: {\n    // Required parameters\n    name: 'casmax001'\n    // Non-required parameters\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    proximityPlacementGroupResourceId: '<proximityPlacementGroupResourceId>'\n    roleAssignments: [\n      {\n        name: 'd9d13442-232d-4861-9ab9-bad5e90c4f71'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    skuName: 'Aligned'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_compute_availability-set_example_3", "source": "avm/res/compute/availability-set/README.md", "content_to_embed": "Recommended AVM Module for Availability Sets: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Compute/availabilitySets\nModule ID: br/public:avm/res/compute/availability-set:0.2\nParameters:\nparams: {\n    // Required parameters\n    name: 'caswaf001'\n    // Non-required parameters\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    proximityPlacementGroupResourceId: '<proximityPlacementGroupResourceId>'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module availabilitySet 'br/public:avm/res/compute/availability-set:0.2' = {\n  name: 'availabilitySetDeployment'\n  params: {\n    // Required parameters\n    name: 'caswaf001'\n    // Non-required parameters\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    proximityPlacementGroupResourceId: '<proximityPlacementGroupResourceId>'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_compute_disk_example_1", "source": "avm/res/compute/disk/README.md", "content_to_embed": "Recommended AVM Module for Compute Disks: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Compute/disks\nModule ID: br/public:avm/res/compute/disk:0.6\nParameters:\nparams: {\n    // Required parameters\n    availabilityZone: -1\n    name: 'cdmin-001'\n    sku: 'Standard_LRS'\n    // Non-required parameters\n    diskSizeGB: 1\n    location: '<location>'\n  }", "bicep": "module disk 'br/public:avm/res/compute/disk:0.6' = {\n  name: 'diskDeployment'\n  params: {\n    // Required parameters\n    availabilityZone: -1\n    name: 'cdmin-001'\n    sku: 'Standard_LRS'\n    // Non-required parameters\n    diskSizeGB: 1\n    location: '<location>'\n  }\n}"}
{"id": "avm_res_compute_disk_example_2", "source": "avm/res/compute/disk/README.md", "content_to_embed": "Recommended AVM Module for Compute Disks: Enabling encryption-at-rest via a Disk Encryption Set (DES) using Customer-Managed-Keys (CMK) and a User-Assigned Identity - This instance deploys the module with encryption-at-rest using a Disk Encryption Set (DES) secured by Customer-Managed Keys (CMK), and leveraging a User-Assigned Managed Identity to access the key.\nResource Type Path: Microsoft.Compute/disks\nModule ID: br/public:avm/res/compute/disk:0.6\nParameters:\nparams: {\n    // Required parameters\n    availabilityZone: -1\n    name: 'cdcmk001'\n    sku: 'Standard_LRS'\n    // Non-required parameters\n    diskEncryptionSetResourceId: '<diskEncryptionSetResourceId>'\n    diskSizeGB: 1\n  }", "bicep": "module disk 'br/public:avm/res/compute/disk:0.6' = {\n  name: 'diskDeployment'\n  params: {\n    // Required parameters\n    availabilityZone: -1\n    name: 'cdcmk001'\n    sku: 'Standard_LRS'\n    // Non-required parameters\n    diskEncryptionSetResourceId: '<diskEncryptionSetResourceId>'\n    diskSizeGB: 1\n  }\n}"}
{"id": "avm_res_compute_disk_example_3", "source": "avm/res/compute/disk/README.md", "content_to_embed": "Recommended AVM Module for Compute Disks: Using an image - This instance deploys the module with an image reference.\nResource Type Path: Microsoft.Compute/disks\nModule ID: br/public:avm/res/compute/disk:0.6\nParameters:\nparams: {\n    // Required parameters\n    availabilityZone: -1\n    name: 'cdimg001'\n    sku: 'Standard_LRS'\n    // Non-required parameters\n    createOption: 'FromImage'\n    imageReferenceId: '<imageReferenceId>'\n    location: '<location>'\n  }", "bicep": "module disk 'br/public:avm/res/compute/disk:0.6' = {\n  name: 'diskDeployment'\n  params: {\n    // Required parameters\n    availabilityZone: -1\n    name: 'cdimg001'\n    sku: 'Standard_LRS'\n    // Non-required parameters\n    createOption: 'FromImage'\n    imageReferenceId: '<imageReferenceId>'\n    location: '<location>'\n  }\n}"}
{"id": "avm_res_compute_disk_example_4", "source": "avm/res/compute/disk/README.md", "content_to_embed": "Recommended AVM Module for Compute Disks: Using an imported image - This instance deploys the module with a custom image that is imported from a VHD in a storage account.\nResource Type Path: Microsoft.Compute/disks\nModule ID: br/public:avm/res/compute/disk:0.6\nParameters:\nparams: {\n    // Required parameters\n    availabilityZone: -1\n    name: 'cdimp001'\n    sku: 'Standard_LRS'\n    // Non-required parameters\n    createOption: 'Import'\n    location: '<location>'\n    sourceUri: '<sourceUri>'\n    storageAccountId: '<storageAccountId>'\n  }", "bicep": "module disk 'br/public:avm/res/compute/disk:0.6' = {\n  name: 'diskDeployment'\n  params: {\n    // Required parameters\n    availabilityZone: -1\n    name: 'cdimp001'\n    sku: 'Standard_LRS'\n    // Non-required parameters\n    createOption: 'Import'\n    location: '<location>'\n    sourceUri: '<sourceUri>'\n    storageAccountId: '<storageAccountId>'\n  }\n}"}
{"id": "avm_res_compute_disk_example_5", "source": "avm/res/compute/disk/README.md", "content_to_embed": "Recommended AVM Module for Compute Disks: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Compute/disks\nModule ID: br/public:avm/res/compute/disk:0.6\nParameters:\nparams: {\n    // Required parameters\n    availabilityZone: 2\n    name: 'cdmax001'\n    sku: 'Premium_LRS'\n    // Non-required parameters\n    diskIOPSReadWrite: 500\n    diskMBpsReadWrite: 60\n    diskSizeGB: 128\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    logicalSectorSize: 512\n    osType: 'Windows'\n    publicNetworkAccess: 'Enabled'\n    roleAssignments: [\n      {\n        name: '89cc419c-8383-461d-9a70-5cfae4045a8d'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module disk 'br/public:avm/res/compute/disk:0.6' = {\n  name: 'diskDeployment'\n  params: {\n    // Required parameters\n    availabilityZone: 2\n    name: 'cdmax001'\n    sku: 'Premium_LRS'\n    // Non-required parameters\n    diskIOPSReadWrite: 500\n    diskMBpsReadWrite: 60\n    diskSizeGB: 128\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    logicalSectorSize: 512\n    osType: 'Windows'\n    publicNetworkAccess: 'Enabled'\n    roleAssignments: [\n      {\n        name: '89cc419c-8383-461d-9a70-5cfae4045a8d'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_compute_disk_example_6", "source": "avm/res/compute/disk/README.md", "content_to_embed": "Recommended AVM Module for Compute Disks: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Compute/disks\nModule ID: br/public:avm/res/compute/disk:0.6\nParameters:\nparams: {\n    // Required parameters\n    availabilityZone: 2\n    name: 'cdwaf001'\n    sku: 'Premium_LRS'\n    // Non-required parameters\n    diskIOPSReadWrite: 500\n    diskMBpsReadWrite: 60\n    diskSizeGB: 128\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    logicalSectorSize: 512\n    osType: 'Windows'\n    publicNetworkAccess: 'Enabled'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module disk 'br/public:avm/res/compute/disk:0.6' = {\n  name: 'diskDeployment'\n  params: {\n    // Required parameters\n    availabilityZone: 2\n    name: 'cdwaf001'\n    sku: 'Premium_LRS'\n    // Non-required parameters\n    diskIOPSReadWrite: 500\n    diskMBpsReadWrite: 60\n    diskSizeGB: 128\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    logicalSectorSize: 512\n    osType: 'Windows'\n    publicNetworkAccess: 'Enabled'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_compute_disk-encryption-set_example_1", "source": "avm/res/compute/disk-encryption-set/README.md", "content_to_embed": "Recommended AVM Module for Disk Encryption Sets: Using Key Vault with the Access Policy permission model - This instance uses a Key Vault with the Access Policy permission model. If no permissions on the Key Vault are set, the module attempts to add the permissions for you.\nResource Type Path: Microsoft.Compute/diskEncryptionSets\nModule ID: br/public:avm/res/compute/disk-encryption-set:0.5\nParameters:\nparams: {\n    // Required parameters\n    keyName: '<keyName>'\n    keyVaultResourceId: '<keyVaultResourceId>'\n    name: 'cdesap001'\n    // Non-required parameters\n    location: '<location>'\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    roleAssignments: [\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module diskEncryptionSet 'br/public:avm/res/compute/disk-encryption-set:0.5' = {\n  name: 'diskEncryptionSetDeployment'\n  params: {\n    // Required parameters\n    keyName: '<keyName>'\n    keyVaultResourceId: '<keyVaultResourceId>'\n    name: 'cdesap001'\n    // Non-required parameters\n    location: '<location>'\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    roleAssignments: [\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_compute_disk-encryption-set_example_2", "source": "avm/res/compute/disk-encryption-set/README.md", "content_to_embed": "Recommended AVM Module for Disk Encryption Sets: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Compute/diskEncryptionSets\nModule ID: br/public:avm/res/compute/disk-encryption-set:0.5\nParameters:\nparams: {\n    // Required parameters\n    keyName: '<keyName>'\n    keyVaultResourceId: '<keyVaultResourceId>'\n    name: 'cdesmin001'\n    // Non-required parameters\n    location: '<location>'\n  }", "bicep": "module diskEncryptionSet 'br/public:avm/res/compute/disk-encryption-set:0.5' = {\n  name: 'diskEncryptionSetDeployment'\n  params: {\n    // Required parameters\n    keyName: '<keyName>'\n    keyVaultResourceId: '<keyVaultResourceId>'\n    name: 'cdesmin001'\n    // Non-required parameters\n    location: '<location>'\n  }\n}"}
{"id": "avm_res_compute_disk-encryption-set_example_3", "source": "avm/res/compute/disk-encryption-set/README.md", "content_to_embed": "Recommended AVM Module for Disk Encryption Sets: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Compute/diskEncryptionSets\nModule ID: br/public:avm/res/compute/disk-encryption-set:0.5\nParameters:\nparams: {\n    // Required parameters\n    keyName: '<keyName>'\n    keyVaultResourceId: '<keyVaultResourceId>'\n    name: 'cdesmax001'\n    // Non-required parameters\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    roleAssignments: [\n      {\n        name: 'c331c327-6458-473a-9398-95b382c6f04f'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module diskEncryptionSet 'br/public:avm/res/compute/disk-encryption-set:0.5' = {\n  name: 'diskEncryptionSetDeployment'\n  params: {\n    // Required parameters\n    keyName: '<keyName>'\n    keyVaultResourceId: '<keyVaultResourceId>'\n    name: 'cdesmax001'\n    // Non-required parameters\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    roleAssignments: [\n      {\n        name: 'c331c327-6458-473a-9398-95b382c6f04f'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_compute_disk-encryption-set_example_4", "source": "avm/res/compute/disk-encryption-set/README.md", "content_to_embed": "Recommended AVM Module for Disk Encryption Sets: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Compute/diskEncryptionSets\nModule ID: br/public:avm/res/compute/disk-encryption-set:0.5\nParameters:\nparams: {\n    // Required parameters\n    keyName: '<keyName>'\n    keyVaultResourceId: '<keyVaultResourceId>'\n    name: 'cdeswaf001'\n    // Non-required parameters\n    location: '<location>'\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module diskEncryptionSet 'br/public:avm/res/compute/disk-encryption-set:0.5' = {\n  name: 'diskEncryptionSetDeployment'\n  params: {\n    // Required parameters\n    keyName: '<keyName>'\n    keyVaultResourceId: '<keyVaultResourceId>'\n    name: 'cdeswaf001'\n    // Non-required parameters\n    location: '<location>'\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_compute_gallery_example_1", "source": "avm/res/compute/gallery/README.md", "content_to_embed": "Recommended AVM Module for Azure Compute Galleries: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Compute/galleries\nModule ID: br/public:avm/res/compute/gallery:0.9\nParameters:\nparams: {\n    name: 'cgmin001'\n  }", "bicep": "module gallery 'br/public:avm/res/compute/gallery:0.9' = {\n  name: 'galleryDeployment'\n  params: {\n    name: 'cgmin001'\n  }\n}"}
{"id": "avm_res_compute_gallery_example_2", "source": "avm/res/compute/gallery/README.md", "content_to_embed": "Recommended AVM Module for Azure Compute Galleries: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Compute/galleries\nModule ID: br/public:avm/res/compute/gallery:0.9\nParameters:\nparams: {\n    // Required parameters\n    name: 'cgmax001'\n    // Non-required parameters\n    applications: [\n      {\n        name: 'cgmax-appd-001'\n        supportedOSType: 'Linux'\n      }\n      {\n        name: 'cgmax-appd-002'\n        roleAssignments: [\n          {\n            name: '4ef8d3d3-54be-4522-92c3-284977292d87'\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n        supportedOSType: 'Windows'\n      }\n    ]\n    description: 'This is a test deployment.'\n    images: [\n      {\n        allowUpdateImage: true\n        architecture: 'x64'\n        description: 'testDescription'\n        endOfLife: '2033-01-01'\n        eula: 'test Eula'\n        excludedDiskTypes: [\n          'Standard_LRS'\n        ]\n        hyperVGeneration: 'V1'\n        identifier: {\n          offer: 'WindowsServer'\n          publisher: 'MicrosoftWindowsServer'\n          sku: '2022-datacenter-azure-edition'\n        }\n        name: 'az-imgd-ws-001'\n        osState: 'Generalized'\n        osType: 'Windows'\n        privacyStatementUri: 'https://testPrivacyStatementUri.com'\n        purchasePlan: {\n          name: 'testPlanName1'\n          product: 'testProduct1'\n          publisher: 'testPublisher1'\n        }\n        releaseNoteUri: 'https://testReleaseNoteUri.com'\n      }\n      {\n        allowUpdateImage: false\n        hyperVGeneration: 'V2'\n        identifier: {\n          offer: 'WindowsServer'\n          publisher: 'MicrosoftWindowsServer'\n          sku: '2022-datacenter-azure-edition-hibernate'\n        }\n        isAcceleratedNetworkSupported: false\n        isHibernateSupported: true\n        memory: {\n          max: 16\n          min: 4\n        }\n        name: 'az-imgd-ws-002'\n        osState: 'Generalized'\n        osType: 'Windows'\n        vCPUs: {\n          max: 8\n          min: 2\n        }\n      }\n      {\n        hyperVGeneration: 'V2'\n        identifier: {\n          offer: 'WindowsDesktop'\n          publisher: 'MicrosoftWindowsDesktop'\n          sku: 'Win11-21H2'\n        }\n        memory: {\n          max: 16\n          min: 4\n        }\n        name: 'az-imgd-wdtl-003'\n        osState: 'Generalized'\n        osType: 'Windows'\n        purchasePlan: {\n          name: 'testPlanName'\n          product: 'testProduct'\n          publisher: 'testPublisher'\n        }\n        securityType: 'Standard'\n        vCPUs: {\n          max: 8\n          min: 2\n        }\n      }\n      {\n        diskControllerType: 'SCSI'\n        hyperVGeneration: 'V2'\n        identifier: {\n          offer: '0001-com-ubuntu-minimal-focal'\n          publisher: 'canonical'\n          sku: '22_04-lts-gen2'\n        }\n        isAcceleratedNetworkSupported: false\n        memory: {\n          max: 32\n          min: 4\n        }\n        name: 'az-imgd-us-004'\n        osState: 'Generalized'\n        osType: 'Linux'\n        vCPUs: {\n          max: 4\n          min: 1\n        }\n      }\n      {\n        diskControllerType: 'SCSI, NVMe'\n        hyperVGeneration: 'V2'\n        identifier: {\n          offer: '0001-com-ubuntu-minimal-focal'\n          publisher: 'canonical'\n          sku: '20_04-lts-gen2'\n        }\n        isAcceleratedNetworkSupported: true\n        memory: {\n          max: 32\n          min: 4\n        }\n        name: 'az-imgd-us-005'\n        osState: 'Generalized'\n        osType: 'Linux'\n        vCPUs: {\n          max: 4\n          min: 1\n        }\n      }\n      {\n        architecture: 'x64'\n        description: 'testDescription'\n        endOfLife: '2033-01-01'\n        eula: 'test Eula'\n        excludedDiskTypes: [\n          'Standard_LRS'\n        ]\n        hyperVGeneration: 'V2'\n        identifier: {\n          offer: '0001-com-ubuntu-server-focal'\n          publisher: 'canonical'\n          sku: '20_04-lts-gen2'\n        }\n        isAcceleratedNetworkSupported: false\n        isHibernateSupported: true\n        memory: {\n          max: 32\n          min: 4\n        }\n        name: 'az-imgd-us-006'\n        osState: 'Generalized'\n        osType: 'Linux'\n        privacyStatementUri: 'https://testPrivacyStatementUri.com'\n        purchasePlan: {\n          name: 'testPlanName'\n          product: 'testProduct'\n          publisher: 'testPublisher'\n        }\n        releaseNoteUri: 'https://testReleaseNoteUri.com'\n        securityType: 'TrustedLaunch'\n        vCPUs: {\n          max: 4\n          min: 1\n        }\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    roleAssignments: [\n      {\n        name: '3bd58a78-108d-4f87-b404-0a03e49303d8'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module gallery 'br/public:avm/res/compute/gallery:0.9' = {\n  name: 'galleryDeployment'\n  params: {\n    // Required parameters\n    name: 'cgmax001'\n    // Non-required parameters\n    applications: [\n      {\n        name: 'cgmax-appd-001'\n        supportedOSType: 'Linux'\n      }\n      {\n        name: 'cgmax-appd-002'\n        roleAssignments: [\n          {\n            name: '4ef8d3d3-54be-4522-92c3-284977292d87'\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n        supportedOSType: 'Windows'\n      }\n    ]\n    description: 'This is a test deployment.'\n    images: [\n      {\n        allowUpdateImage: true\n        architecture: 'x64'\n        description: 'testDescription'\n        endOfLife: '2033-01-01'\n        eula: 'test Eula'\n        excludedDiskTypes: [\n          'Standard_LRS'\n        ]\n        hyperVGeneration: 'V1'\n        identifier: {\n          offer: 'WindowsServer'\n          publisher: 'MicrosoftWindowsServer'\n          sku: '2022-datacenter-azure-edition'\n        }\n        name: 'az-imgd-ws-001'\n        osState: 'Generalized'\n        osType: 'Windows'\n        privacyStatementUri: 'https://testPrivacyStatementUri.com'\n        purchasePlan: {\n          name: 'testPlanName1'\n          product: 'testProduct1'\n          publisher: 'testPublisher1'\n        }\n        releaseNoteUri: 'https://testReleaseNoteUri.com'\n      }\n      {\n        allowUpdateImage: false\n        hyperVGeneration: 'V2'\n        identifier: {\n          offer: 'WindowsServer'\n          publisher: 'MicrosoftWindowsServer'\n          sku: '2022-datacenter-azure-edition-hibernate'\n        }\n        isAcceleratedNetworkSupported: false\n        isHibernateSupported: true\n        memory: {\n          max: 16\n          min: 4\n        }\n        name: 'az-imgd-ws-002'\n        osState: 'Generalized'\n        osType: 'Windows'\n        vCPUs: {\n          max: 8\n          min: 2\n        }\n      }\n      {\n        hyperVGeneration: 'V2'\n        identifier: {\n          offer: 'WindowsDesktop'\n          publisher: 'MicrosoftWindowsDesktop'\n          sku: 'Win11-21H2'\n        }\n        memory: {\n          max: 16\n          min: 4\n        }\n        name: 'az-imgd-wdtl-003'\n        osState: 'Generalized'\n        osType: 'Windows'\n        purchasePlan: {\n          name: 'testPlanName'\n          product: 'testProduct'\n          publisher: 'testPublisher'\n        }\n        securityType: 'Standard'\n        vCPUs: {\n          max: 8\n          min: 2\n        }\n      }\n      {\n        diskControllerType: 'SCSI'\n        hyperVGeneration: 'V2'\n        identifier: {\n          offer: '0001-com-ubuntu-minimal-focal'\n          publisher: 'canonical'\n          sku: '22_04-lts-gen2'\n        }\n        isAcceleratedNetworkSupported: false\n        memory: {\n          max: 32\n          min: 4\n        }\n        name: 'az-imgd-us-004'\n        osState: 'Generalized'\n        osType: 'Linux'\n        vCPUs: {\n          max: 4\n          min: 1\n        }\n      }\n      {\n        diskControllerType: 'SCSI, NVMe'\n        hyperVGeneration: 'V2'\n        identifier: {\n          offer: '0001-com-ubuntu-minimal-focal'\n          publisher: 'canonical'\n          sku: '20_04-lts-gen2'\n        }\n        isAcceleratedNetworkSupported: true\n        memory: {\n          max: 32\n          min: 4\n        }\n        name: 'az-imgd-us-005'\n        osState: 'Generalized'\n        osType: 'Linux'\n        vCPUs: {\n          max: 4\n          min: 1\n        }\n      }\n      {\n        architecture: 'x64'\n        description: 'testDescription'\n        endOfLife: '2033-01-01'\n        eula: 'test Eula'\n        excludedDiskTypes: [\n          'Standard_LRS'\n        ]\n        hyperVGeneration: 'V2'\n        identifier: {\n          offer: '0001-com-ubuntu-server-focal'\n          publisher: 'canonical'\n          sku: '20_04-lts-gen2'\n        }\n        isAcceleratedNetworkSupported: false\n        isHibernateSupported: true\n        memory: {\n          max: 32\n          min: 4\n        }\n        name: 'az-imgd-us-006'\n        osState: 'Generalized'\n        osType: 'Linux'\n        privacyStatementUri: 'https://testPrivacyStatementUri.com'\n        purchasePlan: {\n          name: 'testPlanName'\n          product: 'testProduct'\n          publisher: 'testPublisher'\n        }\n        releaseNoteUri: 'https://testReleaseNoteUri.com'\n        securityType: 'TrustedLaunch'\n        vCPUs: {\n          max: 4\n          min: 1\n        }\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    roleAssignments: [\n      {\n        name: '3bd58a78-108d-4f87-b404-0a03e49303d8'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_compute_gallery_example_3", "source": "avm/res/compute/gallery/README.md", "content_to_embed": "Recommended AVM Module for Azure Compute Galleries: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Compute/galleries\nModule ID: br/public:avm/res/compute/gallery:0.9\nParameters:\nparams: {\n    // Required parameters\n    name: 'cgwaf001'\n    // Non-required parameters\n    applications: [\n      {\n        name: 'cgwaf-appd-001'\n        supportedOSType: 'Windows'\n      }\n    ]\n    images: [\n      {\n        identifier: {\n          offer: 'WindowsServer'\n          publisher: 'MicrosoftWindowsServer'\n          sku: '2022-datacenter-azure-edition'\n        }\n        name: 'az-imgd-ws-001'\n        osState: 'Generalized'\n        osType: 'Windows'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module gallery 'br/public:avm/res/compute/gallery:0.9' = {\n  name: 'galleryDeployment'\n  params: {\n    // Required parameters\n    name: 'cgwaf001'\n    // Non-required parameters\n    applications: [\n      {\n        name: 'cgwaf-appd-001'\n        supportedOSType: 'Windows'\n      }\n    ]\n    images: [\n      {\n        identifier: {\n          offer: 'WindowsServer'\n          publisher: 'MicrosoftWindowsServer'\n          sku: '2022-datacenter-azure-edition'\n        }\n        name: 'az-imgd-ws-001'\n        osState: 'Generalized'\n        osType: 'Windows'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_compute_image_example_1", "source": "avm/res/compute/image/README.md", "content_to_embed": "Recommended AVM Module for Images: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Compute/images\nModule ID: br/public:avm/res/compute/image:0.3\nParameters:\nparams: {\n    // Required parameters\n    name: 'cimin001'\n    osAccountType: 'Standard_LRS'\n    osDiskBlobUri: '<osDiskBlobUri>'\n    osDiskCaching: 'ReadWrite'\n    osType: 'Windows'\n  }", "bicep": "module image 'br/public:avm/res/compute/image:0.3' = {\n  name: 'imageDeployment'\n  params: {\n    // Required parameters\n    name: 'cimin001'\n    osAccountType: 'Standard_LRS'\n    osDiskBlobUri: '<osDiskBlobUri>'\n    osDiskCaching: 'ReadWrite'\n    osType: 'Windows'\n  }\n}"}
{"id": "avm_res_compute_image_example_2", "source": "avm/res/compute/image/README.md", "content_to_embed": "Recommended AVM Module for Images: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Compute/images\nModule ID: br/public:avm/res/compute/image:0.3\nParameters:\nparams: {\n    // Required parameters\n    name: 'cimax001'\n    osAccountType: 'Premium_LRS'\n    osDiskBlobUri: '<osDiskBlobUri>'\n    osDiskCaching: 'ReadWrite'\n    osType: 'Windows'\n    // Non-required parameters\n    diskEncryptionSetResourceId: '<diskEncryptionSetResourceId>'\n    diskSizeGB: 128\n    hyperVGeneration: 'V1'\n    location: '<location>'\n    osState: 'Generalized'\n    roleAssignments: [\n      {\n        name: '2dfcdedd-220c-4b6b-b8bd-58e22e0c5434'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    zoneResilient: true\n  }", "bicep": "module image 'br/public:avm/res/compute/image:0.3' = {\n  name: 'imageDeployment'\n  params: {\n    // Required parameters\n    name: 'cimax001'\n    osAccountType: 'Premium_LRS'\n    osDiskBlobUri: '<osDiskBlobUri>'\n    osDiskCaching: 'ReadWrite'\n    osType: 'Windows'\n    // Non-required parameters\n    diskEncryptionSetResourceId: '<diskEncryptionSetResourceId>'\n    diskSizeGB: 128\n    hyperVGeneration: 'V1'\n    location: '<location>'\n    osState: 'Generalized'\n    roleAssignments: [\n      {\n        name: '2dfcdedd-220c-4b6b-b8bd-58e22e0c5434'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    zoneResilient: true\n  }\n}"}
{"id": "avm_res_compute_image_example_3", "source": "avm/res/compute/image/README.md", "content_to_embed": "Recommended AVM Module for Images: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Compute/images\nModule ID: br/public:avm/res/compute/image:0.3\nParameters:\nparams: {\n    // Required parameters\n    name: 'ciwaf001'\n    osAccountType: 'Premium_LRS'\n    osDiskBlobUri: '<osDiskBlobUri>'\n    osDiskCaching: 'ReadWrite'\n    osType: 'Windows'\n    // Non-required parameters\n    diskEncryptionSetResourceId: '<diskEncryptionSetResourceId>'\n    diskSizeGB: 128\n    hyperVGeneration: 'V1'\n    osState: 'Generalized'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    zoneResilient: true\n  }", "bicep": "module image 'br/public:avm/res/compute/image:0.3' = {\n  name: 'imageDeployment'\n  params: {\n    // Required parameters\n    name: 'ciwaf001'\n    osAccountType: 'Premium_LRS'\n    osDiskBlobUri: '<osDiskBlobUri>'\n    osDiskCaching: 'ReadWrite'\n    osType: 'Windows'\n    // Non-required parameters\n    diskEncryptionSetResourceId: '<diskEncryptionSetResourceId>'\n    diskSizeGB: 128\n    hyperVGeneration: 'V1'\n    osState: 'Generalized'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    zoneResilient: true\n  }\n}"}
{"id": "avm_res_compute_proximity-placement-group_example_1", "source": "avm/res/compute/proximity-placement-group/README.md", "content_to_embed": "Recommended AVM Module for Proximity Placement Groups: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Compute/proximityPlacementGroups\nModule ID: br/public:avm/res/compute/proximity-placement-group:0.4\nParameters:\nparams: {\n    // Required parameters\n    availabilityZone: -1\n    name: 'cppgmin001'\n    // Non-required parameters\n    location: '<location>'\n  }", "bicep": "module proximityPlacementGroup 'br/public:avm/res/compute/proximity-placement-group:0.4' = {\n  name: 'proximityPlacementGroupDeployment'\n  params: {\n    // Required parameters\n    availabilityZone: -1\n    name: 'cppgmin001'\n    // Non-required parameters\n    location: '<location>'\n  }\n}"}
{"id": "avm_res_compute_proximity-placement-group_example_2", "source": "avm/res/compute/proximity-placement-group/README.md", "content_to_embed": "Recommended AVM Module for Proximity Placement Groups: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Compute/proximityPlacementGroups\nModule ID: br/public:avm/res/compute/proximity-placement-group:0.4\nParameters:\nparams: {\n    // Required parameters\n    availabilityZone: 1\n    name: 'cppgmax001'\n    // Non-required parameters\n    colocationStatus: {\n      code: 'ColocationStatus/Aligned'\n      displayStatus: 'Aligned'\n      level: 'Info'\n      message: 'I\\'m a default error message'\n    }\n    intent: {\n      vmSizes: [\n        'Standard_B1ms'\n        'Standard_B4ms'\n      ]\n    }\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    roleAssignments: [\n      {\n        name: '9e0b6b99-ff4b-4c99-a2ce-3a2a1a880874'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      'hidden-title': 'This is visible in the resource name'\n      TagA: 'Would you kindly...'\n      TagB: 'Tags for sale'\n    }\n    type: 'Standard'\n  }", "bicep": "module proximityPlacementGroup 'br/public:avm/res/compute/proximity-placement-group:0.4' = {\n  name: 'proximityPlacementGroupDeployment'\n  params: {\n    // Required parameters\n    availabilityZone: 1\n    name: 'cppgmax001'\n    // Non-required parameters\n    colocationStatus: {\n      code: 'ColocationStatus/Aligned'\n      displayStatus: 'Aligned'\n      level: 'Info'\n      message: 'I\\'m a default error message'\n    }\n    intent: {\n      vmSizes: [\n        'Standard_B1ms'\n        'Standard_B4ms'\n      ]\n    }\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    roleAssignments: [\n      {\n        name: '9e0b6b99-ff4b-4c99-a2ce-3a2a1a880874'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      'hidden-title': 'This is visible in the resource name'\n      TagA: 'Would you kindly...'\n      TagB: 'Tags for sale'\n    }\n    type: 'Standard'\n  }\n}"}
{"id": "avm_res_compute_proximity-placement-group_example_3", "source": "avm/res/compute/proximity-placement-group/README.md", "content_to_embed": "Recommended AVM Module for Proximity Placement Groups: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Compute/proximityPlacementGroups\nModule ID: br/public:avm/res/compute/proximity-placement-group:0.4\nParameters:\nparams: {\n    // Required parameters\n    availabilityZone: 1\n    name: 'cppgwaf001'\n    // Non-required parameters\n    colocationStatus: {\n      code: 'ColocationStatus/Aligned'\n      displayStatus: 'Aligned'\n      level: 'Info'\n      message: 'I\\'m a default error message'\n    }\n    intent: {\n      vmSizes: [\n        'Standard_B1ms'\n        'Standard_B4ms'\n      ]\n    }\n    location: '<location>'\n    tags: {\n      'hidden-title': 'This is visible in the resource name'\n      TagA: 'Would you kindly...'\n      TagB: 'Tags for sale'\n    }\n    type: 'Standard'\n  }", "bicep": "module proximityPlacementGroup 'br/public:avm/res/compute/proximity-placement-group:0.4' = {\n  name: 'proximityPlacementGroupDeployment'\n  params: {\n    // Required parameters\n    availabilityZone: 1\n    name: 'cppgwaf001'\n    // Non-required parameters\n    colocationStatus: {\n      code: 'ColocationStatus/Aligned'\n      displayStatus: 'Aligned'\n      level: 'Info'\n      message: 'I\\'m a default error message'\n    }\n    intent: {\n      vmSizes: [\n        'Standard_B1ms'\n        'Standard_B4ms'\n      ]\n    }\n    location: '<location>'\n    tags: {\n      'hidden-title': 'This is visible in the resource name'\n      TagA: 'Would you kindly...'\n      TagB: 'Tags for sale'\n    }\n    type: 'Standard'\n  }\n}"}
{"id": "avm_res_compute_ssh-public-key_example_1", "source": "avm/res/compute/ssh-public-key/README.md", "content_to_embed": "Recommended AVM Module for Public SSH Keys: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Compute/sshPublicKeys\nModule ID: br/public:avm/res/compute/ssh-public-key:0.4\nParameters:\nparams: {\n    // Required parameters\n    name: 'cspkmin001'\n    // Non-required parameters\n    location: '<location>'\n  }", "bicep": "module sshPublicKey 'br/public:avm/res/compute/ssh-public-key:0.4' = {\n  name: 'sshPublicKeyDeployment'\n  params: {\n    // Required parameters\n    name: 'cspkmin001'\n    // Non-required parameters\n    location: '<location>'\n  }\n}"}
{"id": "avm_res_compute_ssh-public-key_example_2", "source": "avm/res/compute/ssh-public-key/README.md", "content_to_embed": "Recommended AVM Module for Public SSH Keys: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Compute/sshPublicKeys\nModule ID: br/public:avm/res/compute/ssh-public-key:0.4\nParameters:\nparams: {\n    // Required parameters\n    name: 'sshkey-cspkmax001'\n    // Non-required parameters\n    enableTelemetry: true\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'lock'\n    }\n    publicKey: '<publicKey>'\n    roleAssignments: [\n      {\n        name: '74ec0421-c3f4-46f2-acf0-b519fe6fcf1c'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module sshPublicKey 'br/public:avm/res/compute/ssh-public-key:0.4' = {\n  name: 'sshPublicKeyDeployment'\n  params: {\n    // Required parameters\n    name: 'sshkey-cspkmax001'\n    // Non-required parameters\n    enableTelemetry: true\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'lock'\n    }\n    publicKey: '<publicKey>'\n    roleAssignments: [\n      {\n        name: '74ec0421-c3f4-46f2-acf0-b519fe6fcf1c'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_compute_ssh-public-key_example_3", "source": "avm/res/compute/ssh-public-key/README.md", "content_to_embed": "Recommended AVM Module for Public SSH Keys: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Compute/sshPublicKeys\nModule ID: br/public:avm/res/compute/ssh-public-key:0.4\nParameters:\nparams: {\n    // Required parameters\n    name: 'sshkey-cspkwaf001'\n    // Non-required parameters\n    enableTelemetry: true\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'lock'\n    }\n    publicKey: '<publicKey>'\n    roleAssignments: [\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module sshPublicKey 'br/public:avm/res/compute/ssh-public-key:0.4' = {\n  name: 'sshPublicKeyDeployment'\n  params: {\n    // Required parameters\n    name: 'sshkey-cspkwaf001'\n    // Non-required parameters\n    enableTelemetry: true\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'lock'\n    }\n    publicKey: '<publicKey>'\n    roleAssignments: [\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_compute_virtual-machine_example_1", "source": "avm/res/compute/virtual-machine/README.md", "content_to_embed": "Recommended AVM Module for Virtual Machines: Using automanage for the VM. - This instance deploys the module with registering to an automation account.\nResource Type Path: Microsoft.Compute/virtualMachines\nModule ID: br/public:avm/res/compute/virtual-machine:0.20\nParameters:\nparams: {\n    // Required parameters\n    adminUsername: 'localAdminUser'\n    availabilityZone: -1\n    imageReference: {\n      offer: '0001-com-ubuntu-server-jammy'\n      publisher: 'Canonical'\n      sku: '22_04-lts-gen2'\n      version: 'latest'\n    }\n    name: 'cvmlinatmg'\n    nicConfigurations: [\n      {\n        ipConfigurations: [\n          {\n            name: 'ipconfig01'\n            pipConfiguration: {\n              publicIpNameSuffix: '-pip-01'\n              zones: [\n                1\n                2\n                3\n              ]\n            }\n            subnetResourceId: '<subnetResourceId>'\n          }\n        ]\n        nicSuffix: '-nic-01'\n      }\n    ]\n    osDisk: {\n      diskSizeGB: 128\n      managedDisk: {\n        storageAccountType: 'Premium_LRS'\n      }\n    }\n    osType: 'Linux'\n    vmSize: 'Standard_D2s_v3'\n    // Non-required parameters\n    configurationProfile: '/providers/Microsoft.Automanage/bestPractices/AzureBestPracticesProduction'\n    disablePasswordAuthentication: true\n    location: '<location>'\n    publicKeys: [\n      {\n        keyData: '<keyData>'\n        path: '/home/localAdminUser/.ssh/authorized_keys'\n      }\n    ]\n  }", "bicep": "module virtualMachine 'br/public:avm/res/compute/virtual-machine:0.20' = {\n  name: 'virtualMachineDeployment'\n  params: {\n    // Required parameters\n    adminUsername: 'localAdminUser'\n    availabilityZone: -1\n    imageReference: {\n      offer: '0001-com-ubuntu-server-jammy'\n      publisher: 'Canonical'\n      sku: '22_04-lts-gen2'\n      version: 'latest'\n    }\n    name: 'cvmlinatmg'\n    nicConfigurations: [\n      {\n        ipConfigurations: [\n          {\n            name: 'ipconfig01'\n            pipConfiguration: {\n              publicIpNameSuffix: '-pip-01'\n              zones: [\n                1\n                2\n                3\n              ]\n            }\n            subnetResourceId: '<subnetResourceId>'\n          }\n        ]\n        nicSuffix: '-nic-01'\n      }\n    ]\n    osDisk: {\n      diskSizeGB: 128\n      managedDisk: {\n        storageAccountType: 'Premium_LRS'\n      }\n    }\n    osType: 'Linux'\n    vmSize: 'Standard_D2s_v3'\n    // Non-required parameters\n    configurationProfile: '/providers/Microsoft.Automanage/bestPractices/AzureBestPracticesProduction'\n    disablePasswordAuthentication: true\n    location: '<location>'\n    publicKeys: [\n      {\n        keyData: '<keyData>'\n        path: '/home/localAdminUser/.ssh/authorized_keys'\n      }\n    ]\n  }\n}"}
{"id": "avm_res_compute_virtual-machine_example_2", "source": "avm/res/compute/virtual-machine/README.md", "content_to_embed": "Recommended AVM Module for Virtual Machines: Using only defaults for Linux - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Compute/virtualMachines\nModule ID: br/public:avm/res/compute/virtual-machine:0.20\nParameters:\nparams: {\n    // Required parameters\n    adminUsername: 'localAdminUser'\n    availabilityZone: -1\n    imageReference: {\n      offer: '0001-com-ubuntu-server-jammy'\n      publisher: 'Canonical'\n      sku: '22_04-lts-gen2'\n      version: 'latest'\n    }\n    name: 'cvmlinmin'\n    nicConfigurations: [\n      {\n        ipConfigurations: [\n          {\n            name: 'ipconfig01'\n            subnetResourceId: '<subnetResourceId>'\n          }\n        ]\n        nicSuffix: '-nic-01'\n      }\n    ]\n    osDisk: {\n      caching: 'ReadWrite'\n      diskSizeGB: 128\n      managedDisk: {\n        storageAccountType: 'Premium_LRS'\n      }\n    }\n    osType: 'Linux'\n    vmSize: 'Standard_D2s_v3'\n    // Non-required parameters\n    disablePasswordAuthentication: true\n    location: '<location>'\n    publicKeys: [\n      {\n        keyData: '<keyData>'\n        path: '/home/localAdminUser/.ssh/authorized_keys'\n      }\n    ]\n  }", "bicep": "module virtualMachine 'br/public:avm/res/compute/virtual-machine:0.20' = {\n  name: 'virtualMachineDeployment'\n  params: {\n    // Required parameters\n    adminUsername: 'localAdminUser'\n    availabilityZone: -1\n    imageReference: {\n      offer: '0001-com-ubuntu-server-jammy'\n      publisher: 'Canonical'\n      sku: '22_04-lts-gen2'\n      version: 'latest'\n    }\n    name: 'cvmlinmin'\n    nicConfigurations: [\n      {\n        ipConfigurations: [\n          {\n            name: 'ipconfig01'\n            subnetResourceId: '<subnetResourceId>'\n          }\n        ]\n        nicSuffix: '-nic-01'\n      }\n    ]\n    osDisk: {\n      caching: 'ReadWrite'\n      diskSizeGB: 128\n      managedDisk: {\n        storageAccountType: 'Premium_LRS'\n      }\n    }\n    osType: 'Linux'\n    vmSize: 'Standard_D2s_v3'\n    // Non-required parameters\n    disablePasswordAuthentication: true\n    location: '<location>'\n    publicKeys: [\n      {\n        keyData: '<keyData>'\n        path: '/home/localAdminUser/.ssh/authorized_keys'\n      }\n    ]\n  }\n}"}
{"id": "avm_res_compute_virtual-machine_example_3", "source": "avm/res/compute/virtual-machine/README.md", "content_to_embed": "Recommended AVM Module for Virtual Machines: Using large parameter set for Linux - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Compute/virtualMachines\nModule ID: br/public:avm/res/compute/virtual-machine:0.20\nParameters:\nparams: {\n    // Required parameters\n    adminUsername: 'localAdministrator'\n    availabilityZone: 1\n    imageReference: {\n      offer: '0001-com-ubuntu-server-focal'\n      publisher: 'Canonical'\n      sku: '<sku>'\n      version: 'latest'\n    }\n    name: 'cvmlimax'\n    nicConfigurations: [\n      {\n        deleteOption: 'Delete'\n        diagnosticSettings: [\n          {\n            eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n            eventHubName: '<eventHubName>'\n            metricCategories: [\n              {\n                category: 'AllMetrics'\n              }\n            ]\n            name: 'customSetting'\n            storageAccountResourceId: '<storageAccountResourceId>'\n            workspaceResourceId: '<workspaceResourceId>'\n          }\n        ]\n        ipConfigurations: [\n          {\n            applicationSecurityGroups: [\n              {\n                id: '<id>'\n              }\n            ]\n            diagnosticSettings: [\n              {\n                eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n                eventHubName: '<eventHubName>'\n                metricCategories: [\n                  {\n                    category: 'AllMetrics'\n                  }\n                ]\n                name: 'customSetting'\n                storageAccountResourceId: '<storageAccountResourceId>'\n                workspaceResourceId: '<workspaceResourceId>'\n              }\n            ]\n            loadBalancerBackendAddressPools: [\n              {\n                id: '<id>'\n              }\n            ]\n            name: 'ipconfig01'\n            pipConfiguration: {\n              availabilityZones: [\n                1\n                2\n                3\n              ]\n              diagnosticSettings: [\n                {\n                  workspaceResourceId: '<workspaceResourceId>'\n                }\n              ]\n              publicIpNameSuffix: '-pip-01'\n              roleAssignments: [\n                {\n                  name: '696e6067-3ddc-4b71-bf97-9caebeba441a'\n                  principalId: '<principalId>'\n                  principalType: 'ServicePrincipal'\n                  roleDefinitionIdOrName: 'Owner'\n                }\n                {\n                  principalId: '<principalId>'\n                  principalType: 'ServicePrincipal'\n                  roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n                }\n                {\n                  principalId: '<principalId>'\n                  principalType: 'ServicePrincipal'\n                  roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n                }\n              ]\n            }\n            subnetResourceId: '<subnetResourceId>'\n          }\n        ]\n        name: 'nic-test-01'\n        roleAssignments: [\n          {\n            name: 'ff72f58d-a3cf-42fd-9c27-c61906bdddfe'\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n      }\n    ]\n    osDisk: {\n      caching: 'ReadOnly'\n      createOption: 'FromImage'\n      deleteOption: 'Delete'\n      diskSizeGB: 128\n      managedDisk: {\n        storageAccountType: 'Premium_LRS'\n      }\n      name: 'osdisk01'\n    }\n    osType: 'Linux'\n    vmSize: 'Standard_D2s_v3'\n    // Non-required parameters\n    backupPolicyName: '<backupPolicyName>'\n    backupVaultName: '<backupVaultName>'\n    backupVaultResourceGroup: '<backupVaultResourceGroup>'\n    computerName: 'linvm1'\n    dataDisks: [\n      {\n        caching: 'ReadWrite'\n        createOption: 'Empty'\n        deleteOption: 'Delete'\n        diskSizeGB: 128\n        managedDisk: {\n          storageAccountType: 'Premium_LRS'\n        }\n        name: 'datadisk01'\n      }\n      {\n        caching: 'ReadWrite'\n        createOption: 'Empty'\n        deleteOption: 'Delete'\n        diskSizeGB: 128\n        managedDisk: {\n          storageAccountType: 'Premium_LRS'\n        }\n        name: 'datadisk02'\n      }\n    ]\n    disablePasswordAuthentication: true\n    enableAutomaticUpdates: true\n    encryptionAtHost: false\n    extensionAadJoinConfig: {\n      enabled: true\n      name: 'myAADLogin'\n      tags: {\n        Environment: 'Non-Prod'\n        'hidden-title': 'This is visible in the resource name'\n        Role: 'DeploymentValidation'\n      }\n    }\n    extensionAzureDiskEncryptionConfig: {\n      enabled: true\n      settings: {\n        EncryptionOperation: 'EnableEncryption'\n        KekVaultResourceId: '<KekVaultResourceId>'\n        KeyEncryptionAlgorithm: 'RSA-OAEP'\n        KeyEncryptionKeyURL: '<KeyEncryptionKeyURL>'\n        KeyVaultResourceId: '<KeyVaultResourceId>'\n        KeyVaultURL: '<KeyVaultURL>'\n        ResizeOSDisk: 'false'\n        VolumeType: 'All'\n      }\n      tags: {\n        Environment: 'Non-Prod'\n        'hidden-title': 'This is visible in the resource name'\n        Role: 'DeploymentValidation'\n      }\n    }\n    extensionCustomScriptConfig: {\n      name: 'myCustomScript'\n      protectedSettings: {\n        fileUris: [\n          '<storageAccountCSEFileUrl>'\n        ]\n        managedIdentityResourceId: '<managedIdentityResourceId>'\n      }\n      settings: {\n        commandToExecute: '<commandToExecute>'\n      }\n      tags: {\n        Environment: 'Non-Prod'\n        'hidden-title': 'This is visible in the resource name'\n        Role: 'DeploymentValidation'\n      }\n    }\n    extensionDependencyAgentConfig: {\n      enableAMA: true\n      enabled: true\n      name: 'myDependencyAgent'\n      tags: {\n        Environment: 'Non-Prod'\n        'hidden-title': 'This is visible in the resource name'\n        Role: 'DeploymentValidation'\n      }\n    }\n    extensionDSCConfig: {\n      enabled: false\n      name: 'myDesiredStateConfiguration'\n      tags: {\n        Environment: 'Non-Prod'\n        'hidden-title': 'This is visible in the resource name'\n        Role: 'DeploymentValidation'\n      }\n    }\n    extensionMonitoringAgentConfig: {\n      dataCollectionRuleAssociations: [\n        {\n          dataCollectionRuleResourceId: '<dataCollectionRuleResourceId>'\n          name: 'SendMetricsToLAW'\n        }\n      ]\n      enabled: true\n      name: 'myMonitoringAgent'\n      tags: {\n        Environment: 'Non-Prod'\n        'hidden-title': 'This is visible in the resource name'\n        Role: 'DeploymentValidation'\n      }\n    }\n    extensionNetworkWatcherAgentConfig: {\n      enabled: true\n      name: 'myNetworkWatcherAgent'\n      tags: {\n        Environment: 'Non-Prod'\n        'hidden-title': 'This is visible in the resource name'\n        Role: 'DeploymentValidation'\n      }\n    }\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    patchMode: 'AutomaticByPlatform'\n    publicKeys: [\n      {\n        keyData: '<keyData>'\n        path: '/home/localAdministrator/.ssh/authorized_keys'\n      }\n    ]\n    rebootSetting: 'IfRequired'\n    roleAssignments: [\n      {\n        name: 'eb01de52-d2be-4272-a7b9-13de6c399e27'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module virtualMachine 'br/public:avm/res/compute/virtual-machine:0.20' = {\n  name: 'virtualMachineDeployment'\n  params: {\n    // Required parameters\n    adminUsername: 'localAdministrator'\n    availabilityZone: 1\n    imageReference: {\n      offer: '0001-com-ubuntu-server-focal'\n      publisher: 'Canonical'\n      sku: '<sku>'\n      version: 'latest'\n    }\n    name: 'cvmlimax'\n    nicConfigurations: [\n      {\n        deleteOption: 'Delete'\n        diagnosticSettings: [\n          {\n            eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n            eventHubName: '<eventHubName>'\n            metricCategories: [\n              {\n                category: 'AllMetrics'\n              }\n            ]\n            name: 'customSetting'\n            storageAccountResourceId: '<storageAccountResourceId>'\n            workspaceResourceId: '<workspaceResourceId>'\n          }\n        ]\n        ipConfigurations: [\n          {\n            applicationSecurityGroups: [\n              {\n                id: '<id>'\n              }\n            ]\n            diagnosticSettings: [\n              {\n                eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n                eventHubName: '<eventHubName>'\n                metricCategories: [\n                  {\n                    category: 'AllMetrics'\n                  }\n                ]\n                name: 'customSetting'\n                storageAccountResourceId: '<storageAccountResourceId>'\n                workspaceResourceId: '<workspaceResourceId>'\n              }\n            ]\n            loadBalancerBackendAddressPools: [\n              {\n                id: '<id>'\n              }\n            ]\n            name: 'ipconfig01'\n            pipConfiguration: {\n              availabilityZones: [\n                1\n                2\n                3\n              ]\n              diagnosticSettings: [\n                {\n                  workspaceResourceId: '<workspaceResourceId>'\n                }\n              ]\n              publicIpNameSuffix: '-pip-01'\n              roleAssignments: [\n                {\n                  name: '696e6067-3ddc-4b71-bf97-9caebeba441a'\n                  principalId: '<principalId>'\n                  principalType: 'ServicePrincipal'\n                  roleDefinitionIdOrName: 'Owner'\n                }\n                {\n                  principalId: '<principalId>'\n                  principalType: 'ServicePrincipal'\n                  roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n                }\n                {\n                  principalId: '<principalId>'\n                  principalType: 'ServicePrincipal'\n                  roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n                }\n              ]\n            }\n            subnetResourceId: '<subnetResourceId>'\n          }\n        ]\n        name: 'nic-test-01'\n        roleAssignments: [\n          {\n            name: 'ff72f58d-a3cf-42fd-9c27-c61906bdddfe'\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n      }\n    ]\n    osDisk: {\n      caching: 'ReadOnly'\n      createOption: 'FromImage'\n      deleteOption: 'Delete'\n      diskSizeGB: 128\n      managedDisk: {\n        storageAccountType: 'Premium_LRS'\n      }\n      name: 'osdisk01'\n    }\n    osType: 'Linux'\n    vmSize: 'Standard_D2s_v3'\n    // Non-required parameters\n    backupPolicyName: '<backupPolicyName>'\n    backupVaultName: '<backupVaultName>'\n    backupVaultResourceGroup: '<backupVaultResourceGroup>'\n    computerName: 'linvm1'\n    dataDisks: [\n      {\n        caching: 'ReadWrite'\n        createOption: 'Empty'\n        deleteOption: 'Delete'\n        diskSizeGB: 128\n        managedDisk: {\n          storageAccountType: 'Premium_LRS'\n        }\n        name: 'datadisk01'\n      }\n      {\n        caching: 'ReadWrite'\n        createOption: 'Empty'\n        deleteOption: 'Delete'\n        diskSizeGB: 128\n        managedDisk: {\n          storageAccountType: 'Premium_LRS'\n        }\n        name: 'datadisk02'\n      }\n    ]\n    disablePasswordAuthentication: true\n    enableAutomaticUpdates: true\n    encryptionAtHost: false\n    extensionAadJoinConfig: {\n      enabled: true\n      name: 'myAADLogin'\n      tags: {\n        Environment: 'Non-Prod'\n        'hidden-title': 'This is visible in the resource name'\n        Role: 'DeploymentValidation'\n      }\n    }\n    extensionAzureDiskEncryptionConfig: {\n      enabled: true\n      settings: {\n        EncryptionOperation: 'EnableEncryption'\n        KekVaultResourceId: '<KekVaultResourceId>'\n        KeyEncryptionAlgorithm: 'RSA-OAEP'\n        KeyEncryptionKeyURL: '<KeyEncryptionKeyURL>'\n        KeyVaultResourceId: '<KeyVaultResourceId>'\n        KeyVaultURL: '<KeyVaultURL>'\n        ResizeOSDisk: 'false'\n        VolumeType: 'All'\n      }\n      tags: {\n        Environment: 'Non-Prod'\n        'hidden-title': 'This is visible in the resource name'\n        Role: 'DeploymentValidation'\n      }\n    }\n    extensionCustomScriptConfig: {\n      name: 'myCustomScript'\n      protectedSettings: {\n        fileUris: [\n          '<storageAccountCSEFileUrl>'\n        ]\n        managedIdentityResourceId: '<managedIdentityResourceId>'\n      }\n      settings: {\n        commandToExecute: '<commandToExecute>'\n      }\n      tags: {\n        Environment: 'Non-Prod'\n        'hidden-title': 'This is visible in the resource name'\n        Role: 'DeploymentValidation'\n      }\n    }\n    extensionDependencyAgentConfig: {\n      enableAMA: true\n      enabled: true\n      name: 'myDependencyAgent'\n      tags: {\n        Environment: 'Non-Prod'\n        'hidden-title': 'This is visible in the resource name'\n        Role: 'DeploymentValidation'\n      }\n    }\n    extensionDSCConfig: {\n      enabled: false\n      name: 'myDesiredStateConfiguration'\n      tags: {\n        Environment: 'Non-Prod'\n        'hidden-title': 'This is visible in the resource name'\n        Role: 'DeploymentValidation'\n      }\n    }\n    extensionMonitoringAgentConfig: {\n      dataCollectionRuleAssociations: [\n        {\n          dataCollectionRuleResourceId: '<dataCollectionRuleResourceId>'\n          name: 'SendMetricsToLAW'\n        }\n      ]\n      enabled: true\n      name: 'myMonitoringAgent'\n      tags: {\n        Environment: 'Non-Prod'\n        'hidden-title': 'This is visible in the resource name'\n        Role: 'DeploymentValidation'\n      }\n    }\n    extensionNetworkWatcherAgentConfig: {\n      enabled: true\n      name: 'myNetworkWatcherAgent'\n      tags: {\n        Environment: 'Non-Prod'\n        'hidden-title': 'This is visible in the resource name'\n        Role: 'DeploymentValidation'\n      }\n    }\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    patchMode: 'AutomaticByPlatform'\n    publicKeys: [\n      {\n        keyData: '<keyData>'\n        path: '/home/localAdministrator/.ssh/authorized_keys'\n      }\n    ]\n    rebootSetting: 'IfRequired'\n    roleAssignments: [\n      {\n        name: 'eb01de52-d2be-4272-a7b9-13de6c399e27'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_compute_virtual-machine_example_4", "source": "avm/res/compute/virtual-machine/README.md", "content_to_embed": "Recommended AVM Module for Virtual Machines: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Well-Architected Framework for Windows.\nResource Type Path: Microsoft.Compute/virtualMachines\nModule ID: br/public:avm/res/compute/virtual-machine:0.20\nParameters:\nparams: {\n    // Required parameters\n    adminUsername: 'VMAdmin'\n    availabilityZone: 2\n    imageReference: {\n      offer: 'WindowsServer'\n      publisher: 'MicrosoftWindowsServer'\n      sku: '2019-datacenter'\n      version: 'latest'\n    }\n    name: 'cvmwinwaf'\n    nicConfigurations: [\n      {\n        deleteOption: 'Delete'\n        diagnosticSettings: [\n          {\n            eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n            eventHubName: '<eventHubName>'\n            metricCategories: [\n              {\n                category: 'AllMetrics'\n              }\n            ]\n            name: 'customSetting'\n            storageAccountResourceId: '<storageAccountResourceId>'\n            workspaceResourceId: '<workspaceResourceId>'\n          }\n        ]\n        ipConfigurations: [\n          {\n            applicationSecurityGroups: [\n              {\n                id: '<id>'\n              }\n            ]\n            diagnosticSettings: [\n              {\n                eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n                eventHubName: '<eventHubName>'\n                metricCategories: [\n                  {\n                    category: 'AllMetrics'\n                  }\n                ]\n                name: 'customSetting'\n                storageAccountResourceId: '<storageAccountResourceId>'\n                workspaceResourceId: '<workspaceResourceId>'\n              }\n            ]\n            loadBalancerBackendAddressPools: [\n              {\n                id: '<id>'\n              }\n            ]\n            name: 'ipconfig01'\n            pipConfiguration: {\n              availabilityZones: [\n                1\n                2\n                3\n              ]\n              publicIpNameSuffix: '-pip-01'\n              roleAssignments: [\n                {\n                  principalId: '<principalId>'\n                  principalType: 'ServicePrincipal'\n                  roleDefinitionIdOrName: 'Reader'\n                }\n              ]\n            }\n            subnetResourceId: '<subnetResourceId>'\n          }\n        ]\n        nicSuffix: '-nic-01'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Reader'\n          }\n        ]\n      }\n    ]\n    osDisk: {\n      caching: 'ReadWrite'\n      createOption: 'FromImage'\n      deleteOption: 'Delete'\n      diskSizeGB: 128\n      managedDisk: {\n        storageAccountType: 'Premium_LRS'\n      }\n    }\n    osType: 'Windows'\n    vmSize: 'Standard_D2s_v3'\n    // Non-required parameters\n    adminPassword: '<adminPassword>'\n    backupPolicyName: '<backupPolicyName>'\n    backupVaultName: '<backupVaultName>'\n    backupVaultResourceGroup: '<backupVaultResourceGroup>'\n    bypassPlatformSafetyChecksOnUserSchedule: true\n    computerName: '<computerName>'\n    dataDisks: [\n      {\n        caching: 'ReadOnly'\n        createOption: 'Empty'\n        deleteOption: 'Delete'\n        diskSizeGB: 128\n        managedDisk: {\n          storageAccountType: 'Premium_LRS'\n        }\n      }\n      {\n        caching: 'ReadOnly'\n        createOption: 'Empty'\n        deleteOption: 'Delete'\n        diskSizeGB: 128\n        managedDisk: {\n          storageAccountType: 'Premium_LRS'\n        }\n      }\n    ]\n    enableAutomaticUpdates: true\n    encryptionAtHost: false\n    extensionAadJoinConfig: {\n      enabled: true\n      settings: {\n        mdmId: ''\n      }\n      tags: {\n        Environment: 'Non-Prod'\n        'hidden-title': 'This is visible in the resource name'\n        Role: 'DeploymentValidation'\n      }\n    }\n    extensionAntiMalwareConfig: {\n      enabled: true\n      settings: {\n        AntimalwareEnabled: 'true'\n        Exclusions: {\n          Extensions: '.ext1;.ext2'\n          Paths: 'c:\\\\excluded-path-1;c:\\\\excluded-path-2'\n          Processes: 'excludedproc1.exe;excludedproc2.exe'\n        }\n        RealtimeProtectionEnabled: 'true'\n        ScheduledScanSettings: {\n          day: '7'\n          isEnabled: 'true'\n          scanType: 'Quick'\n          time: '120'\n        }\n      }\n      tags: {\n        Environment: 'Non-Prod'\n        'hidden-title': 'This is visible in the resource name'\n        Role: 'DeploymentValidation'\n      }\n    }\n    extensionAzureDiskEncryptionConfig: {\n      enabled: true\n      settings: {\n        EncryptionOperation: 'EnableEncryption'\n        KekVaultResourceId: '<KekVaultResourceId>'\n        KeyEncryptionAlgorithm: 'RSA-OAEP'\n        KeyEncryptionKeyURL: '<KeyEncryptionKeyURL>'\n        KeyVaultResourceId: '<KeyVaultResourceId>'\n        KeyVaultURL: '<KeyVaultURL>'\n        ResizeOSDisk: 'false'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n        VolumeType: 'All'\n      }\n    }\n    extensionCustomScriptConfig: {\n      name: 'myCustomScript'\n      protectedSettings: {\n        fileUris: [\n          '<storageAccountCSEFileUrl>'\n        ]\n        managedIdentityResourceId: '<managedIdentityResourceId>'\n      }\n      settings: {\n        commandToExecute: '<commandToExecute>'\n      }\n      tags: {\n        Environment: 'Non-Prod'\n        'hidden-title': 'This is visible in the resource name'\n        Role: 'DeploymentValidation'\n      }\n    }\n    extensionDependencyAgentConfig: {\n      enableAMA: true\n      enabled: true\n      tags: {\n        Environment: 'Non-Prod'\n        'hidden-title': 'This is visible in the resource name'\n        Role: 'DeploymentValidation'\n      }\n    }\n    extensionDSCConfig: {\n      enabled: true\n      tags: {\n        Environment: 'Non-Prod'\n        'hidden-title': 'This is visible in the resource name'\n        Role: 'DeploymentValidation'\n      }\n    }\n    extensionMonitoringAgentConfig: {\n      dataCollectionRuleAssociations: [\n        {\n          dataCollectionRuleResourceId: '<dataCollectionRuleResourceId>'\n          name: 'SendMetricsToLAW'\n        }\n      ]\n      enabled: true\n      tags: {\n        Environment: 'Non-Prod'\n        'hidden-title': 'This is visible in the resource name'\n        Role: 'DeploymentValidation'\n      }\n    }\n    extensionNetworkWatcherAgentConfig: {\n      enabled: true\n      tags: {\n        Environment: 'Non-Prod'\n        'hidden-title': 'This is visible in the resource name'\n        Role: 'DeploymentValidation'\n      }\n    }\n    location: '<location>'\n    maintenanceConfigurationResourceId: '<maintenanceConfigurationResourceId>'\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    patchMode: 'AutomaticByPlatform'\n    proximityPlacementGroupResourceId: '<proximityPlacementGroupResourceId>'\n    roleAssignments: [\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module virtualMachine 'br/public:avm/res/compute/virtual-machine:0.20' = {\n  name: 'virtualMachineDeployment'\n  params: {\n    // Required parameters\n    adminUsername: 'VMAdmin'\n    availabilityZone: 2\n    imageReference: {\n      offer: 'WindowsServer'\n      publisher: 'MicrosoftWindowsServer'\n      sku: '2019-datacenter'\n      version: 'latest'\n    }\n    name: 'cvmwinwaf'\n    nicConfigurations: [\n      {\n        deleteOption: 'Delete'\n        diagnosticSettings: [\n          {\n            eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n            eventHubName: '<eventHubName>'\n            metricCategories: [\n              {\n                category: 'AllMetrics'\n              }\n            ]\n            name: 'customSetting'\n            storageAccountResourceId: '<storageAccountResourceId>'\n            workspaceResourceId: '<workspaceResourceId>'\n          }\n        ]\n        ipConfigurations: [\n          {\n            applicationSecurityGroups: [\n              {\n                id: '<id>'\n              }\n            ]\n            diagnosticSettings: [\n              {\n                eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n                eventHubName: '<eventHubName>'\n                metricCategories: [\n                  {\n                    category: 'AllMetrics'\n                  }\n                ]\n                name: 'customSetting'\n                storageAccountResourceId: '<storageAccountResourceId>'\n                workspaceResourceId: '<workspaceResourceId>'\n              }\n            ]\n            loadBalancerBackendAddressPools: [\n              {\n                id: '<id>'\n              }\n            ]\n            name: 'ipconfig01'\n            pipConfiguration: {\n              availabilityZones: [\n                1\n                2\n                3\n              ]\n              publicIpNameSuffix: '-pip-01'\n              roleAssignments: [\n                {\n                  principalId: '<principalId>'\n                  principalType: 'ServicePrincipal'\n                  roleDefinitionIdOrName: 'Reader'\n                }\n              ]\n            }\n            subnetResourceId: '<subnetResourceId>'\n          }\n        ]\n        nicSuffix: '-nic-01'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Reader'\n          }\n        ]\n      }\n    ]\n    osDisk: {\n      caching: 'ReadWrite'\n      createOption: 'FromImage'\n      deleteOption: 'Delete'\n      diskSizeGB: 128\n      managedDisk: {\n        storageAccountType: 'Premium_LRS'\n      }\n    }\n    osType: 'Windows'\n    vmSize: 'Standard_D2s_v3'\n    // Non-required parameters\n    adminPassword: '<adminPassword>'\n    backupPolicyName: '<backupPolicyName>'\n    backupVaultName: '<backupVaultName>'\n    backupVaultResourceGroup: '<backupVaultResourceGroup>'\n    bypassPlatformSafetyChecksOnUserSchedule: true\n    computerName: '<computerName>'\n    dataDisks: [\n      {\n        caching: 'ReadOnly'\n        createOption: 'Empty'\n        deleteOption: 'Delete'\n        diskSizeGB: 128\n        managedDisk: {\n          storageAccountType: 'Premium_LRS'\n        }\n      }\n      {\n        caching: 'ReadOnly'\n        createOption: 'Empty'\n        deleteOption: 'Delete'\n        diskSizeGB: 128\n        managedDisk: {\n          storageAccountType: 'Premium_LRS'\n        }\n      }\n    ]\n    enableAutomaticUpdates: true\n    encryptionAtHost: false\n    extensionAadJoinConfig: {\n      enabled: true\n      settings: {\n        mdmId: ''\n      }\n      tags: {\n        Environment: 'Non-Prod'\n        'hidden-title': 'This is visible in the resource name'\n        Role: 'DeploymentValidation'\n      }\n    }\n    extensionAntiMalwareConfig: {\n      enabled: true\n      settings: {\n        AntimalwareEnabled: 'true'\n        Exclusions: {\n          Extensions: '.ext1;.ext2'\n          Paths: 'c:\\\\excluded-path-1;c:\\\\excluded-path-2'\n          Processes: 'excludedproc1.exe;excludedproc2.exe'\n        }\n        RealtimeProtectionEnabled: 'true'\n        ScheduledScanSettings: {\n          day: '7'\n          isEnabled: 'true'\n          scanType: 'Quick'\n          time: '120'\n        }\n      }\n      tags: {\n        Environment: 'Non-Prod'\n        'hidden-title': 'This is visible in the resource name'\n        Role: 'DeploymentValidation'\n      }\n    }\n    extensionAzureDiskEncryptionConfig: {\n      enabled: true\n      settings: {\n        EncryptionOperation: 'EnableEncryption'\n        KekVaultResourceId: '<KekVaultResourceId>'\n        KeyEncryptionAlgorithm: 'RSA-OAEP'\n        KeyEncryptionKeyURL: '<KeyEncryptionKeyURL>'\n        KeyVaultResourceId: '<KeyVaultResourceId>'\n        KeyVaultURL: '<KeyVaultURL>'\n        ResizeOSDisk: 'false'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n        VolumeType: 'All'\n      }\n    }\n    extensionCustomScriptConfig: {\n      name: 'myCustomScript'\n      protectedSettings: {\n        fileUris: [\n          '<storageAccountCSEFileUrl>'\n        ]\n        managedIdentityResourceId: '<managedIdentityResourceId>'\n      }\n      settings: {\n        commandToExecute: '<commandToExecute>'\n      }\n      tags: {\n        Environment: 'Non-Prod'\n        'hidden-title': 'This is visible in the resource name'\n        Role: 'DeploymentValidation'\n      }\n    }\n    extensionDependencyAgentConfig: {\n      enableAMA: true\n      enabled: true\n      tags: {\n        Environment: 'Non-Prod'\n        'hidden-title': 'This is visible in the resource name'\n        Role: 'DeploymentValidation'\n      }\n    }\n    extensionDSCConfig: {\n      enabled: true\n      tags: {\n        Environment: 'Non-Prod'\n        'hidden-title': 'This is visible in the resource name'\n        Role: 'DeploymentValidation'\n      }\n    }\n    extensionMonitoringAgentConfig: {\n      dataCollectionRuleAssociations: [\n        {\n          dataCollectionRuleResourceId: '<dataCollectionRuleResourceId>'\n          name: 'SendMetricsToLAW'\n        }\n      ]\n      enabled: true\n      tags: {\n        Environment: 'Non-Prod'\n        'hidden-title': 'This is visible in the resource name'\n        Role: 'DeploymentValidation'\n      }\n    }\n    extensionNetworkWatcherAgentConfig: {\n      enabled: true\n      tags: {\n        Environment: 'Non-Prod'\n        'hidden-title': 'This is visible in the resource name'\n        Role: 'DeploymentValidation'\n      }\n    }\n    location: '<location>'\n    maintenanceConfigurationResourceId: '<maintenanceConfigurationResourceId>'\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    patchMode: 'AutomaticByPlatform'\n    proximityPlacementGroupResourceId: '<proximityPlacementGroupResourceId>'\n    roleAssignments: [\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_compute_virtual-machine_example_5", "source": "avm/res/compute/virtual-machine/README.md", "content_to_embed": "Recommended AVM Module for Virtual Machines: Using only defaults for Windows - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Compute/virtualMachines\nModule ID: br/public:avm/res/compute/virtual-machine:0.20\nParameters:\nparams: {\n    // Required parameters\n    adminUsername: 'localAdminUser'\n    availabilityZone: -1\n    imageReference: {\n      offer: 'WindowsServer'\n      publisher: 'MicrosoftWindowsServer'\n      sku: '2022-datacenter-azure-edition'\n      version: 'latest'\n    }\n    name: 'cvmwinmin'\n    nicConfigurations: [\n      {\n        ipConfigurations: [\n          {\n            name: 'ipconfig01'\n            subnetResourceId: '<subnetResourceId>'\n          }\n        ]\n        nicSuffix: '-nic-01'\n      }\n    ]\n    osDisk: {\n      caching: 'ReadWrite'\n      diskSizeGB: 128\n      managedDisk: {\n        storageAccountType: 'Premium_LRS'\n      }\n    }\n    osType: 'Windows'\n    vmSize: 'Standard_D2s_v3'\n    // Non-required parameters\n    adminPassword: '<adminPassword>'\n    location: '<location>'\n  }", "bicep": "module virtualMachine 'br/public:avm/res/compute/virtual-machine:0.20' = {\n  name: 'virtualMachineDeployment'\n  params: {\n    // Required parameters\n    adminUsername: 'localAdminUser'\n    availabilityZone: -1\n    imageReference: {\n      offer: 'WindowsServer'\n      publisher: 'MicrosoftWindowsServer'\n      sku: '2022-datacenter-azure-edition'\n      version: 'latest'\n    }\n    name: 'cvmwinmin'\n    nicConfigurations: [\n      {\n        ipConfigurations: [\n          {\n            name: 'ipconfig01'\n            subnetResourceId: '<subnetResourceId>'\n          }\n        ]\n        nicSuffix: '-nic-01'\n      }\n    ]\n    osDisk: {\n      caching: 'ReadWrite'\n      diskSizeGB: 128\n      managedDisk: {\n        storageAccountType: 'Premium_LRS'\n      }\n    }\n    osType: 'Windows'\n    vmSize: 'Standard_D2s_v3'\n    // Non-required parameters\n    adminPassword: '<adminPassword>'\n    location: '<location>'\n  }\n}"}
{"id": "avm_res_compute_virtual-machine_example_6", "source": "avm/res/compute/virtual-machine/README.md", "content_to_embed": "Recommended AVM Module for Virtual Machines: Deploying Windows VM with premium SSDv2 data disk and shared disk - This instance deploys the module with premium SSDv2 data disk and attachment of an existing shared disk.\nResource Type Path: Microsoft.Compute/virtualMachines\nModule ID: br/public:avm/res/compute/virtual-machine:0.20\nParameters:\nparams: {\n    // Required parameters\n    adminUsername: 'localAdminUser'\n    availabilityZone: 1\n    imageReference: {\n      offer: 'WindowsServer'\n      publisher: 'MicrosoftWindowsServer'\n      sku: '2022-datacenter-azure-edition'\n      version: 'latest'\n    }\n    name: 'cvmwindisk'\n    nicConfigurations: [\n      {\n        ipConfigurations: [\n          {\n            name: 'ipconfig01'\n            subnetResourceId: '<subnetResourceId>'\n          }\n        ]\n        nicSuffix: '-nic-01'\n      }\n    ]\n    osDisk: {\n      caching: 'ReadWrite'\n      diskSizeGB: 128\n      managedDisk: {\n        storageAccountType: 'Premium_LRS'\n      }\n    }\n    osType: 'Windows'\n    vmSize: 'Standard_D2s_v3'\n    // Non-required parameters\n    adminPassword: '<adminPassword>'\n    dataDisks: [\n      {\n        caching: 'None'\n        diskIOPSReadWrite: 3000\n        diskMBpsReadWrite: 125\n        diskSizeGB: 1024\n        managedDisk: {\n          storageAccountType: 'PremiumV2_LRS'\n        }\n      }\n      {\n        managedDisk: {\n          id: '<id>'\n        }\n      }\n    ]\n    location: '<location>'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module virtualMachine 'br/public:avm/res/compute/virtual-machine:0.20' = {\n  name: 'virtualMachineDeployment'\n  params: {\n    // Required parameters\n    adminUsername: 'localAdminUser'\n    availabilityZone: 1\n    imageReference: {\n      offer: 'WindowsServer'\n      publisher: 'MicrosoftWindowsServer'\n      sku: '2022-datacenter-azure-edition'\n      version: 'latest'\n    }\n    name: 'cvmwindisk'\n    nicConfigurations: [\n      {\n        ipConfigurations: [\n          {\n            name: 'ipconfig01'\n            subnetResourceId: '<subnetResourceId>'\n          }\n        ]\n        nicSuffix: '-nic-01'\n      }\n    ]\n    osDisk: {\n      caching: 'ReadWrite'\n      diskSizeGB: 128\n      managedDisk: {\n        storageAccountType: 'Premium_LRS'\n      }\n    }\n    osType: 'Windows'\n    vmSize: 'Standard_D2s_v3'\n    // Non-required parameters\n    adminPassword: '<adminPassword>'\n    dataDisks: [\n      {\n        caching: 'None'\n        diskIOPSReadWrite: 3000\n        diskMBpsReadWrite: 125\n        diskSizeGB: 1024\n        managedDisk: {\n          storageAccountType: 'PremiumV2_LRS'\n        }\n      }\n      {\n        managedDisk: {\n          id: '<id>'\n        }\n      }\n    ]\n    location: '<location>'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_compute_virtual-machine_example_7", "source": "avm/res/compute/virtual-machine/README.md", "content_to_embed": "Recommended AVM Module for Virtual Machines: Using guest configuration for Windows - This instance deploys the module with the a guest configuration.\nResource Type Path: Microsoft.Compute/virtualMachines\nModule ID: br/public:avm/res/compute/virtual-machine:0.20\nParameters:\nparams: {\n    // Required parameters\n    adminUsername: 'localAdminUser'\n    availabilityZone: -1\n    imageReference: {\n      offer: 'WindowsServer'\n      publisher: 'MicrosoftWindowsServer'\n      sku: '2022-datacenter-azure-edition'\n      version: 'latest'\n    }\n    name: 'cvmwingst'\n    nicConfigurations: [\n      {\n        ipConfigurations: [\n          {\n            name: 'ipconfig01'\n            pipConfiguration: {\n              publicIpNameSuffix: '-pip-01'\n              zones: []\n            }\n            subnetResourceId: '<subnetResourceId>'\n          }\n        ]\n        nicSuffix: '-nic-01'\n      }\n    ]\n    osDisk: {\n      caching: 'ReadWrite'\n      diskSizeGB: 128\n      managedDisk: {\n        storageAccountType: 'Premium_LRS'\n      }\n    }\n    osType: 'Windows'\n    vmSize: 'Standard_D2s_v3'\n    // Non-required parameters\n    adminPassword: '<adminPassword>'\n    extensionGuestConfigurationExtension: {\n      enabled: true\n    }\n    guestConfiguration: {\n      assignmentType: 'ApplyAndMonitor'\n      configurationParameter: [\n        {\n          name: 'Minimum Password Length;ExpectedValue'\n          value: '16'\n        }\n        {\n          name: 'Minimum Password Length;RemediateValue'\n          value: '16'\n        }\n        {\n          name: 'Maximum Password Age;ExpectedValue'\n          value: '75'\n        }\n        {\n          name: 'Maximum Password Age;RemediateValue'\n          value: '75'\n        }\n      ]\n      name: 'myAzureWindowsBaseline'\n      version: '1.*'\n    }\n    location: '<location>'\n    managedIdentities: {\n      systemAssigned: true\n    }\n  }", "bicep": "module virtualMachine 'br/public:avm/res/compute/virtual-machine:0.20' = {\n  name: 'virtualMachineDeployment'\n  params: {\n    // Required parameters\n    adminUsername: 'localAdminUser'\n    availabilityZone: -1\n    imageReference: {\n      offer: 'WindowsServer'\n      publisher: 'MicrosoftWindowsServer'\n      sku: '2022-datacenter-azure-edition'\n      version: 'latest'\n    }\n    name: 'cvmwingst'\n    nicConfigurations: [\n      {\n        ipConfigurations: [\n          {\n            name: 'ipconfig01'\n            pipConfiguration: {\n              publicIpNameSuffix: '-pip-01'\n              zones: []\n            }\n            subnetResourceId: '<subnetResourceId>'\n          }\n        ]\n        nicSuffix: '-nic-01'\n      }\n    ]\n    osDisk: {\n      caching: 'ReadWrite'\n      diskSizeGB: 128\n      managedDisk: {\n        storageAccountType: 'Premium_LRS'\n      }\n    }\n    osType: 'Windows'\n    vmSize: 'Standard_D2s_v3'\n    // Non-required parameters\n    adminPassword: '<adminPassword>'\n    extensionGuestConfigurationExtension: {\n      enabled: true\n    }\n    guestConfiguration: {\n      assignmentType: 'ApplyAndMonitor'\n      configurationParameter: [\n        {\n          name: 'Minimum Password Length;ExpectedValue'\n          value: '16'\n        }\n        {\n          name: 'Minimum Password Length;RemediateValue'\n          value: '16'\n        }\n        {\n          name: 'Maximum Password Age;ExpectedValue'\n          value: '75'\n        }\n        {\n          name: 'Maximum Password Age;RemediateValue'\n          value: '75'\n        }\n      ]\n      name: 'myAzureWindowsBaseline'\n      version: '1.*'\n    }\n    location: '<location>'\n    managedIdentities: {\n      systemAssigned: true\n    }\n  }\n}"}
{"id": "avm_res_compute_virtual-machine_example_8", "source": "avm/res/compute/virtual-machine/README.md", "content_to_embed": "Recommended AVM Module for Virtual Machines: Using a host pool to register the VM - This instance deploys the module and registers it in a host pool.\nResource Type Path: Microsoft.Compute/virtualMachines\nModule ID: br/public:avm/res/compute/virtual-machine:0.20\nParameters:\nparams: {\n    // Required parameters\n    adminUsername: 'localAdminUser'\n    availabilityZone: -1\n    imageReference: {\n      offer: 'WindowsServer'\n      publisher: 'MicrosoftWindowsServer'\n      sku: '2022-datacenter-azure-edition'\n      version: 'latest'\n    }\n    name: '<name>'\n    nicConfigurations: [\n      {\n        ipConfigurations: [\n          {\n            name: 'ipconfig01'\n            subnetResourceId: '<subnetResourceId>'\n          }\n        ]\n        nicSuffix: '-nic-01'\n      }\n    ]\n    osDisk: {\n      caching: 'ReadWrite'\n      diskSizeGB: 128\n      managedDisk: {\n        storageAccountType: 'Premium_LRS'\n      }\n    }\n    osType: 'Windows'\n    vmSize: 'Standard_D2s_v3'\n    // Non-required parameters\n    adminPassword: '<adminPassword>'\n    extensionAadJoinConfig: {\n      enabled: true\n      settings: {\n        mdmId: ''\n      }\n      tags: {\n        Environment: 'Non-Prod'\n        'hidden-title': 'This is visible in the resource name'\n        Role: 'DeploymentValidation'\n      }\n    }\n    extensionHostPoolRegistration: {\n      configurationFunction: 'Configuration.ps1\\\\AddSessionHost'\n      enabled: true\n      hostPoolName: '<hostPoolName>'\n      modulesUrl: '<modulesUrl>'\n      registrationInfoToken: '<registrationInfoToken>'\n      tags: {\n        Environment: 'Non-Prod'\n        'hidden-title': 'This is visible in the resource name'\n        Role: 'DeploymentValidation'\n      }\n    }\n    location: '<location>'\n    managedIdentities: {\n      systemAssigned: true\n    }\n  }", "bicep": "module virtualMachine 'br/public:avm/res/compute/virtual-machine:0.20' = {\n  name: 'virtualMachineDeployment'\n  params: {\n    // Required parameters\n    adminUsername: 'localAdminUser'\n    availabilityZone: -1\n    imageReference: {\n      offer: 'WindowsServer'\n      publisher: 'MicrosoftWindowsServer'\n      sku: '2022-datacenter-azure-edition'\n      version: 'latest'\n    }\n    name: '<name>'\n    nicConfigurations: [\n      {\n        ipConfigurations: [\n          {\n            name: 'ipconfig01'\n            subnetResourceId: '<subnetResourceId>'\n          }\n        ]\n        nicSuffix: '-nic-01'\n      }\n    ]\n    osDisk: {\n      caching: 'ReadWrite'\n      diskSizeGB: 128\n      managedDisk: {\n        storageAccountType: 'Premium_LRS'\n      }\n    }\n    osType: 'Windows'\n    vmSize: 'Standard_D2s_v3'\n    // Non-required parameters\n    adminPassword: '<adminPassword>'\n    extensionAadJoinConfig: {\n      enabled: true\n      settings: {\n        mdmId: ''\n      }\n      tags: {\n        Environment: 'Non-Prod'\n        'hidden-title': 'This is visible in the resource name'\n        Role: 'DeploymentValidation'\n      }\n    }\n    extensionHostPoolRegistration: {\n      configurationFunction: 'Configuration.ps1\\\\AddSessionHost'\n      enabled: true\n      hostPoolName: '<hostPoolName>'\n      modulesUrl: '<modulesUrl>'\n      registrationInfoToken: '<registrationInfoToken>'\n      tags: {\n        Environment: 'Non-Prod'\n        'hidden-title': 'This is visible in the resource name'\n        Role: 'DeploymentValidation'\n      }\n    }\n    location: '<location>'\n    managedIdentities: {\n      systemAssigned: true\n    }\n  }\n}"}
{"id": "avm_res_compute_virtual-machine_example_9", "source": "avm/res/compute/virtual-machine/README.md", "content_to_embed": "Recommended AVM Module for Virtual Machines: Using large parameter set for Windows - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Compute/virtualMachines\nModule ID: br/public:avm/res/compute/virtual-machine:0.20\nParameters:\nparams: {\n    // Required parameters\n    adminUsername: 'VMAdmin'\n    availabilityZone: 2\n    imageReference: {\n      offer: 'WindowsServer'\n      publisher: 'MicrosoftWindowsServer'\n      sku: '2019-datacenter'\n      version: 'latest'\n    }\n    name: 'cvmwinmax'\n    nicConfigurations: [\n      {\n        deleteOption: 'Delete'\n        diagnosticSettings: [\n          {\n            eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n            eventHubName: '<eventHubName>'\n            metricCategories: [\n              {\n                category: 'AllMetrics'\n              }\n            ]\n            name: 'customSetting'\n            storageAccountResourceId: '<storageAccountResourceId>'\n            workspaceResourceId: '<workspaceResourceId>'\n          }\n        ]\n        enableIPForwarding: true\n        ipConfigurations: [\n          {\n            applicationSecurityGroups: [\n              {\n                id: '<id>'\n              }\n            ]\n            diagnosticSettings: [\n              {\n                eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n                eventHubName: '<eventHubName>'\n                metricCategories: [\n                  {\n                    category: 'AllMetrics'\n                  }\n                ]\n                name: 'customSetting'\n                storageAccountResourceId: '<storageAccountResourceId>'\n                workspaceResourceId: '<workspaceResourceId>'\n              }\n            ]\n            loadBalancerBackendAddressPools: [\n              {\n                id: '<id>'\n              }\n            ]\n            name: 'ipconfig01'\n            pipConfiguration: {\n              diagnosticSettings: [\n                {\n                  workspaceResourceId: '<workspaceResourceId>'\n                }\n              ]\n              publicIPAddressResourceId: '<publicIPAddressResourceId>'\n              roleAssignments: [\n                {\n                  name: 'e962e7c1-261a-4afd-b5ad-17a640a0b7bc'\n                  principalId: '<principalId>'\n                  principalType: 'ServicePrincipal'\n                  roleDefinitionIdOrName: 'Owner'\n                }\n                {\n                  principalId: '<principalId>'\n                  principalType: 'ServicePrincipal'\n                  roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n                }\n                {\n                  principalId: '<principalId>'\n                  principalType: 'ServicePrincipal'\n                  roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n                }\n              ]\n            }\n            subnetResourceId: '<subnetResourceId>'\n          }\n        ]\n        name: 'nic-test-01'\n        roleAssignments: [\n          {\n            name: '95fc1cc2-05ed-4f5a-a22c-a6ca852df7e7'\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n      }\n    ]\n    osDisk: {\n      caching: 'ReadWrite'\n      createOption: 'FromImage'\n      deleteOption: 'Delete'\n      diskSizeGB: 128\n      managedDisk: {\n        storageAccountType: 'Premium_LRS'\n      }\n      name: 'osdisk01'\n    }\n    osType: 'Windows'\n    vmSize: 'Standard_D2s_v3'\n    // Non-required parameters\n    additionalUnattendContent: [\n      {\n        content: '<FirstLogonCommands><SynchronousCommand><CommandLine>cmd /c echo First logon command example > %temp%\\\\FirstLogonCommandOutput.txt</CommandLine><Description>Example FirstLogonCommand</Description><Order>1</Order></SynchronousCommand></FirstLogonCommands>'\n        settingName: 'FirstLogonCommands'\n      }\n    ]\n    adminPassword: '<adminPassword>'\n    autoShutdownConfig: {\n      dailyRecurrenceTime: '19:00'\n      notificationSettings: {\n        emailRecipient: 'test@contoso.com'\n        notificationLocale: 'en'\n        status: 'Enabled'\n        timeInMinutes: 30\n      }\n      status: 'Enabled'\n      timeZone: 'UTC'\n    }\n    backupPolicyName: '<backupPolicyName>'\n    backupVaultName: '<backupVaultName>'\n    backupVaultResourceGroup: '<backupVaultResourceGroup>'\n    computerName: '<computerName>'\n    dataDisks: [\n      {\n        caching: 'None'\n        createOption: 'Empty'\n        deleteOption: 'Delete'\n        diskSizeGB: 128\n        lun: 0\n        managedDisk: {\n          storageAccountType: 'Premium_LRS'\n        }\n        name: 'datadisk01'\n      }\n      {\n        caching: 'None'\n        createOption: 'Empty'\n        deleteOption: 'Delete'\n        diskSizeGB: 128\n        lun: 1\n        managedDisk: {\n          storageAccountType: 'Premium_LRS'\n        }\n        name: 'datadisk02'\n      }\n      {\n        lun: 2\n        managedDisk: {\n          id: '<id>'\n        }\n      }\n    ]\n    enableAutomaticUpdates: true\n    encryptionAtHost: false\n    extensionAadJoinConfig: {\n      enabled: true\n      name: 'myAADLogin'\n      settings: {\n        mdmId: ''\n      }\n      tags: {\n        Environment: 'Non-Prod'\n        'hidden-title': 'This is visible in the resource name'\n        Role: 'DeploymentValidation'\n      }\n    }\n    extensionAntiMalwareConfig: {\n      enabled: true\n      name: 'myMicrosoftAntiMalware'\n      settings: {\n        AntimalwareEnabled: 'true'\n        Exclusions: {\n          Extensions: '.ext1;.ext2'\n          Paths: 'c:\\\\excluded-path-1;c:\\\\excluded-path-2'\n          Processes: 'excludedproc1.exe;excludedproc2.exe'\n        }\n        RealtimeProtectionEnabled: 'true'\n        ScheduledScanSettings: {\n          day: '7'\n          isEnabled: 'true'\n          scanType: 'Quick'\n          time: '120'\n        }\n      }\n      tags: {\n        Environment: 'Non-Prod'\n        'hidden-title': 'This is visible in the resource name'\n        Role: 'DeploymentValidation'\n      }\n    }\n    extensionAzureDiskEncryptionConfig: {\n      enabled: true\n      name: 'myAzureDiskEncryption'\n      settings: {\n        EncryptionOperation: 'EnableEncryption'\n        KekVaultResourceId: '<KekVaultResourceId>'\n        KeyEncryptionAlgorithm: 'RSA-OAEP'\n        KeyEncryptionKeyURL: '<KeyEncryptionKeyURL>'\n        KeyVaultResourceId: '<KeyVaultResourceId>'\n        KeyVaultURL: '<KeyVaultURL>'\n        ResizeOSDisk: 'false'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n        VolumeType: 'All'\n      }\n    }\n    extensionCustomScriptConfig: {\n      name: 'myCustomScript'\n      protectedSettings: {\n        fileUris: [\n          '<value>'\n        ]\n      }\n      settings: {\n        commandToExecute: '<commandToExecute>'\n      }\n      tags: {\n        Environment: 'Non-Prod'\n        'hidden-title': 'This is visible in the resource name'\n        Role: 'DeploymentValidation'\n      }\n    }\n    extensionDependencyAgentConfig: {\n      enableAMA: true\n      enabled: true\n      name: 'myDependencyAgent'\n      tags: {\n        Environment: 'Non-Prod'\n        'hidden-title': 'This is visible in the resource name'\n        Role: 'DeploymentValidation'\n      }\n    }\n    extensionDSCConfig: {\n      enabled: true\n      name: 'myDesiredStateConfiguration'\n      tags: {\n        Environment: 'Non-Prod'\n        'hidden-title': 'This is visible in the resource name'\n        Role: 'DeploymentValidation'\n      }\n    }\n    extensionMonitoringAgentConfig: {\n      dataCollectionRuleAssociations: [\n        {\n          dataCollectionRuleResourceId: '<dataCollectionRuleResourceId>'\n          name: 'SendMetricsToLAW'\n        }\n      ]\n      enabled: true\n      name: 'myMonitoringAgent'\n      tags: {\n        Environment: 'Non-Prod'\n        'hidden-title': 'This is visible in the resource name'\n        Role: 'DeploymentValidation'\n      }\n    }\n    extensionNetworkWatcherAgentConfig: {\n      enabled: true\n      name: 'myNetworkWatcherAgent'\n      tags: {\n        Environment: 'Non-Prod'\n        'hidden-title': 'This is visible in the resource name'\n        Role: 'DeploymentValidation'\n      }\n    }\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    patchMode: 'AutomaticByPlatform'\n    proximityPlacementGroupResourceId: '<proximityPlacementGroupResourceId>'\n    rebootSetting: 'IfRequired'\n    roleAssignments: [\n      {\n        name: 'c70e8c48-6945-4607-9695-1098ba5a86ed'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module virtualMachine 'br/public:avm/res/compute/virtual-machine:0.20' = {\n  name: 'virtualMachineDeployment'\n  params: {\n    // Required parameters\n    adminUsername: 'VMAdmin'\n    availabilityZone: 2\n    imageReference: {\n      offer: 'WindowsServer'\n      publisher: 'MicrosoftWindowsServer'\n      sku: '2019-datacenter'\n      version: 'latest'\n    }\n    name: 'cvmwinmax'\n    nicConfigurations: [\n      {\n        deleteOption: 'Delete'\n        diagnosticSettings: [\n          {\n            eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n            eventHubName: '<eventHubName>'\n            metricCategories: [\n              {\n                category: 'AllMetrics'\n              }\n            ]\n            name: 'customSetting'\n            storageAccountResourceId: '<storageAccountResourceId>'\n            workspaceResourceId: '<workspaceResourceId>'\n          }\n        ]\n        enableIPForwarding: true\n        ipConfigurations: [\n          {\n            applicationSecurityGroups: [\n              {\n                id: '<id>'\n              }\n            ]\n            diagnosticSettings: [\n              {\n                eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n                eventHubName: '<eventHubName>'\n                metricCategories: [\n                  {\n                    category: 'AllMetrics'\n                  }\n                ]\n                name: 'customSetting'\n                storageAccountResourceId: '<storageAccountResourceId>'\n                workspaceResourceId: '<workspaceResourceId>'\n              }\n            ]\n            loadBalancerBackendAddressPools: [\n              {\n                id: '<id>'\n              }\n            ]\n            name: 'ipconfig01'\n            pipConfiguration: {\n              diagnosticSettings: [\n                {\n                  workspaceResourceId: '<workspaceResourceId>'\n                }\n              ]\n              publicIPAddressResourceId: '<publicIPAddressResourceId>'\n              roleAssignments: [\n                {\n                  name: 'e962e7c1-261a-4afd-b5ad-17a640a0b7bc'\n                  principalId: '<principalId>'\n                  principalType: 'ServicePrincipal'\n                  roleDefinitionIdOrName: 'Owner'\n                }\n                {\n                  principalId: '<principalId>'\n                  principalType: 'ServicePrincipal'\n                  roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n                }\n                {\n                  principalId: '<principalId>'\n                  principalType: 'ServicePrincipal'\n                  roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n                }\n              ]\n            }\n            subnetResourceId: '<subnetResourceId>'\n          }\n        ]\n        name: 'nic-test-01'\n        roleAssignments: [\n          {\n            name: '95fc1cc2-05ed-4f5a-a22c-a6ca852df7e7'\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n      }\n    ]\n    osDisk: {\n      caching: 'ReadWrite'\n      createOption: 'FromImage'\n      deleteOption: 'Delete'\n      diskSizeGB: 128\n      managedDisk: {\n        storageAccountType: 'Premium_LRS'\n      }\n      name: 'osdisk01'\n    }\n    osType: 'Windows'\n    vmSize: 'Standard_D2s_v3'\n    // Non-required parameters\n    additionalUnattendContent: [\n      {\n        content: '<FirstLogonCommands><SynchronousCommand><CommandLine>cmd /c echo First logon command example > %temp%\\\\FirstLogonCommandOutput.txt</CommandLine><Description>Example FirstLogonCommand</Description><Order>1</Order></SynchronousCommand></FirstLogonCommands>'\n        settingName: 'FirstLogonCommands'\n      }\n    ]\n    adminPassword: '<adminPassword>'\n    autoShutdownConfig: {\n      dailyRecurrenceTime: '19:00'\n      notificationSettings: {\n        emailRecipient: 'test@contoso.com'\n        notificationLocale: 'en'\n        status: 'Enabled'\n        timeInMinutes: 30\n      }\n      status: 'Enabled'\n      timeZone: 'UTC'\n    }\n    backupPolicyName: '<backupPolicyName>'\n    backupVaultName: '<backupVaultName>'\n    backupVaultResourceGroup: '<backupVaultResourceGroup>'\n    computerName: '<computerName>'\n    dataDisks: [\n      {\n        caching: 'None'\n        createOption: 'Empty'\n        deleteOption: 'Delete'\n        diskSizeGB: 128\n        lun: 0\n        managedDisk: {\n          storageAccountType: 'Premium_LRS'\n        }\n        name: 'datadisk01'\n      }\n      {\n        caching: 'None'\n        createOption: 'Empty'\n        deleteOption: 'Delete'\n        diskSizeGB: 128\n        lun: 1\n        managedDisk: {\n          storageAccountType: 'Premium_LRS'\n        }\n        name: 'datadisk02'\n      }\n      {\n        lun: 2\n        managedDisk: {\n          id: '<id>'\n        }\n      }\n    ]\n    enableAutomaticUpdates: true\n    encryptionAtHost: false\n    extensionAadJoinConfig: {\n      enabled: true\n      name: 'myAADLogin'\n      settings: {\n        mdmId: ''\n      }\n      tags: {\n        Environment: 'Non-Prod'\n        'hidden-title': 'This is visible in the resource name'\n        Role: 'DeploymentValidation'\n      }\n    }\n    extensionAntiMalwareConfig: {\n      enabled: true\n      name: 'myMicrosoftAntiMalware'\n      settings: {\n        AntimalwareEnabled: 'true'\n        Exclusions: {\n          Extensions: '.ext1;.ext2'\n          Paths: 'c:\\\\excluded-path-1;c:\\\\excluded-path-2'\n          Processes: 'excludedproc1.exe;excludedproc2.exe'\n        }\n        RealtimeProtectionEnabled: 'true'\n        ScheduledScanSettings: {\n          day: '7'\n          isEnabled: 'true'\n          scanType: 'Quick'\n          time: '120'\n        }\n      }\n      tags: {\n        Environment: 'Non-Prod'\n        'hidden-title': 'This is visible in the resource name'\n        Role: 'DeploymentValidation'\n      }\n    }\n    extensionAzureDiskEncryptionConfig: {\n      enabled: true\n      name: 'myAzureDiskEncryption'\n      settings: {\n        EncryptionOperation: 'EnableEncryption'\n        KekVaultResourceId: '<KekVaultResourceId>'\n        KeyEncryptionAlgorithm: 'RSA-OAEP'\n        KeyEncryptionKeyURL: '<KeyEncryptionKeyURL>'\n        KeyVaultResourceId: '<KeyVaultResourceId>'\n        KeyVaultURL: '<KeyVaultURL>'\n        ResizeOSDisk: 'false'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n        VolumeType: 'All'\n      }\n    }\n    extensionCustomScriptConfig: {\n      name: 'myCustomScript'\n      protectedSettings: {\n        fileUris: [\n          '<value>'\n        ]\n      }\n      settings: {\n        commandToExecute: '<commandToExecute>'\n      }\n      tags: {\n        Environment: 'Non-Prod'\n        'hidden-title': 'This is visible in the resource name'\n        Role: 'DeploymentValidation'\n      }\n    }\n    extensionDependencyAgentConfig: {\n      enableAMA: true\n      enabled: true\n      name: 'myDependencyAgent'\n      tags: {\n        Environment: 'Non-Prod'\n        'hidden-title': 'This is visible in the resource name'\n        Role: 'DeploymentValidation'\n      }\n    }\n    extensionDSCConfig: {\n      enabled: true\n      name: 'myDesiredStateConfiguration'\n      tags: {\n        Environment: 'Non-Prod'\n        'hidden-title': 'This is visible in the resource name'\n        Role: 'DeploymentValidation'\n      }\n    }\n    extensionMonitoringAgentConfig: {\n      dataCollectionRuleAssociations: [\n        {\n          dataCollectionRuleResourceId: '<dataCollectionRuleResourceId>'\n          name: 'SendMetricsToLAW'\n        }\n      ]\n      enabled: true\n      name: 'myMonitoringAgent'\n      tags: {\n        Environment: 'Non-Prod'\n        'hidden-title': 'This is visible in the resource name'\n        Role: 'DeploymentValidation'\n      }\n    }\n    extensionNetworkWatcherAgentConfig: {\n      enabled: true\n      name: 'myNetworkWatcherAgent'\n      tags: {\n        Environment: 'Non-Prod'\n        'hidden-title': 'This is visible in the resource name'\n        Role: 'DeploymentValidation'\n      }\n    }\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    patchMode: 'AutomaticByPlatform'\n    proximityPlacementGroupResourceId: '<proximityPlacementGroupResourceId>'\n    rebootSetting: 'IfRequired'\n    roleAssignments: [\n      {\n        name: 'c70e8c48-6945-4607-9695-1098ba5a86ed'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_compute_virtual-machine_example_10", "source": "avm/res/compute/virtual-machine/README.md", "content_to_embed": "Recommended AVM Module for Virtual Machines: Deploy a VM with nVidia graphic card - This instance deploys the module for a VM with dedicated nVidia graphic card.\nResource Type Path: Microsoft.Compute/virtualMachines\nModule ID: br/public:avm/res/compute/virtual-machine:0.20\nParameters:\nparams: {\n    // Required parameters\n    adminUsername: 'localAdminUser'\n    availabilityZone: -1\n    imageReference: {\n      offer: 'WindowsServer'\n      publisher: 'MicrosoftWindowsServer'\n      sku: '2022-datacenter-azure-edition'\n      version: 'latest'\n    }\n    name: 'cvmwinnv'\n    nicConfigurations: [\n      {\n        ipConfigurations: [\n          {\n            name: 'ipconfig01'\n            subnetResourceId: '<subnetResourceId>'\n          }\n        ]\n        nicSuffix: '-nic-01'\n      }\n    ]\n    osDisk: {\n      caching: 'ReadWrite'\n      diskSizeGB: 128\n      managedDisk: {\n        storageAccountType: 'Premium_LRS'\n      }\n    }\n    osType: 'Windows'\n    vmSize: 'Standard_NV6ads_A10_v5'\n    // Non-required parameters\n    adminPassword: '<adminPassword>'\n    extensionNvidiaGpuDriverWindows: {\n      enabled: true\n    }\n    hibernationEnabled: true\n    location: '<location>'\n  }", "bicep": "module virtualMachine 'br/public:avm/res/compute/virtual-machine:0.20' = {\n  name: 'virtualMachineDeployment'\n  params: {\n    // Required parameters\n    adminUsername: 'localAdminUser'\n    availabilityZone: -1\n    imageReference: {\n      offer: 'WindowsServer'\n      publisher: 'MicrosoftWindowsServer'\n      sku: '2022-datacenter-azure-edition'\n      version: 'latest'\n    }\n    name: 'cvmwinnv'\n    nicConfigurations: [\n      {\n        ipConfigurations: [\n          {\n            name: 'ipconfig01'\n            subnetResourceId: '<subnetResourceId>'\n          }\n        ]\n        nicSuffix: '-nic-01'\n      }\n    ]\n    osDisk: {\n      caching: 'ReadWrite'\n      diskSizeGB: 128\n      managedDisk: {\n        storageAccountType: 'Premium_LRS'\n      }\n    }\n    osType: 'Windows'\n    vmSize: 'Standard_NV6ads_A10_v5'\n    // Non-required parameters\n    adminPassword: '<adminPassword>'\n    extensionNvidiaGpuDriverWindows: {\n      enabled: true\n    }\n    hibernationEnabled: true\n    location: '<location>'\n  }\n}"}
{"id": "avm_res_compute_virtual-machine_example_11", "source": "avm/res/compute/virtual-machine/README.md", "content_to_embed": "Recommended AVM Module for Virtual Machines: Using disk encryption set for the VM. - This instance deploys the module with disk enryption set.\nResource Type Path: Microsoft.Compute/virtualMachines\nModule ID: br/public:avm/res/compute/virtual-machine:0.20\nParameters:\nparams: {\n    // Required parameters\n    adminUsername: 'VMAdministrator'\n    availabilityZone: -1\n    imageReference: {\n      offer: 'WindowsServer'\n      publisher: 'MicrosoftWindowsServer'\n      sku: '2019-datacenter'\n      version: 'latest'\n    }\n    name: 'cvmwincmk'\n    nicConfigurations: [\n      {\n        ipConfigurations: [\n          {\n            name: 'ipconfig01'\n            subnetResourceId: '<subnetResourceId>'\n          }\n        ]\n        nicSuffix: '-nic-01'\n      }\n    ]\n    osDisk: {\n      diskSizeGB: 128\n      managedDisk: {\n        diskEncryptionSetResourceId: '<diskEncryptionSetResourceId>'\n        storageAccountType: 'Premium_LRS'\n      }\n    }\n    osType: 'Windows'\n    vmSize: 'Standard_D2s_v3'\n    // Non-required parameters\n    adminPassword: '<adminPassword>'\n    dataDisks: [\n      {\n        diskSizeGB: 128\n        managedDisk: {\n          diskEncryptionSetResourceId: '<diskEncryptionSetResourceId>'\n          storageAccountType: 'Premium_LRS'\n        }\n      }\n    ]\n    location: '<location>'\n  }", "bicep": "module virtualMachine 'br/public:avm/res/compute/virtual-machine:0.20' = {\n  name: 'virtualMachineDeployment'\n  params: {\n    // Required parameters\n    adminUsername: 'VMAdministrator'\n    availabilityZone: -1\n    imageReference: {\n      offer: 'WindowsServer'\n      publisher: 'MicrosoftWindowsServer'\n      sku: '2019-datacenter'\n      version: 'latest'\n    }\n    name: 'cvmwincmk'\n    nicConfigurations: [\n      {\n        ipConfigurations: [\n          {\n            name: 'ipconfig01'\n            subnetResourceId: '<subnetResourceId>'\n          }\n        ]\n        nicSuffix: '-nic-01'\n      }\n    ]\n    osDisk: {\n      diskSizeGB: 128\n      managedDisk: {\n        diskEncryptionSetResourceId: '<diskEncryptionSetResourceId>'\n        storageAccountType: 'Premium_LRS'\n      }\n    }\n    osType: 'Windows'\n    vmSize: 'Standard_D2s_v3'\n    // Non-required parameters\n    adminPassword: '<adminPassword>'\n    dataDisks: [\n      {\n        diskSizeGB: 128\n        managedDisk: {\n          diskEncryptionSetResourceId: '<diskEncryptionSetResourceId>'\n          storageAccountType: 'Premium_LRS'\n        }\n      }\n    ]\n    location: '<location>'\n  }\n}"}
{"id": "avm_res_compute_virtual-machine_example_12", "source": "avm/res/compute/virtual-machine/README.md", "content_to_embed": "Recommended AVM Module for Virtual Machines: Adding the VM to a VMSS. - This instance deploys the module with the minimum set of required parameters and adds it to a VMSS.\nResource Type Path: Microsoft.Compute/virtualMachines\nModule ID: br/public:avm/res/compute/virtual-machine:0.20\nParameters:\nparams: {\n    // Required parameters\n    adminUsername: 'localAdminUser'\n    availabilityZone: -1\n    imageReference: {\n      offer: 'WindowsServer'\n      publisher: 'MicrosoftWindowsServer'\n      sku: '2022-datacenter-azure-edition'\n      version: 'latest'\n    }\n    name: 'cvmwinvmss'\n    nicConfigurations: [\n      {\n        ipConfigurations: [\n          {\n            name: 'ipconfig01'\n            subnetResourceId: '<subnetResourceId>'\n          }\n        ]\n        nicSuffix: '-nic-01'\n      }\n    ]\n    osDisk: {\n      caching: 'ReadWrite'\n      diskSizeGB: 128\n      managedDisk: {\n        storageAccountType: 'Premium_LRS'\n      }\n    }\n    osType: 'Windows'\n    vmSize: 'Standard_D2s_v3'\n    // Non-required parameters\n    adminPassword: '<adminPassword>'\n    location: '<location>'\n    virtualMachineScaleSetResourceId: '<virtualMachineScaleSetResourceId>'\n  }", "bicep": "module virtualMachine 'br/public:avm/res/compute/virtual-machine:0.20' = {\n  name: 'virtualMachineDeployment'\n  params: {\n    // Required parameters\n    adminUsername: 'localAdminUser'\n    availabilityZone: -1\n    imageReference: {\n      offer: 'WindowsServer'\n      publisher: 'MicrosoftWindowsServer'\n      sku: '2022-datacenter-azure-edition'\n      version: 'latest'\n    }\n    name: 'cvmwinvmss'\n    nicConfigurations: [\n      {\n        ipConfigurations: [\n          {\n            name: 'ipconfig01'\n            subnetResourceId: '<subnetResourceId>'\n          }\n        ]\n        nicSuffix: '-nic-01'\n      }\n    ]\n    osDisk: {\n      caching: 'ReadWrite'\n      diskSizeGB: 128\n      managedDisk: {\n        storageAccountType: 'Premium_LRS'\n      }\n    }\n    osType: 'Windows'\n    vmSize: 'Standard_D2s_v3'\n    // Non-required parameters\n    adminPassword: '<adminPassword>'\n    location: '<location>'\n    virtualMachineScaleSetResourceId: '<virtualMachineScaleSetResourceId>'\n  }\n}"}
{"id": "avm_res_compute_virtual-machine_example_13", "source": "avm/res/compute/virtual-machine/README.md", "content_to_embed": "Recommended AVM Module for Virtual Machines: Deploying Windows VM in a defined zone with a premium zrs data disk - This instance deploys the module with a premium zrs data disk.\nResource Type Path: Microsoft.Compute/virtualMachines\nModule ID: br/public:avm/res/compute/virtual-machine:0.20\nParameters:\nparams: {\n    // Required parameters\n    adminUsername: 'localAdminUser'\n    availabilityZone: 2\n    imageReference: {\n      offer: 'WindowsServer'\n      publisher: 'MicrosoftWindowsServer'\n      sku: '2022-datacenter-azure-edition'\n      version: 'latest'\n    }\n    name: 'cvmwinzrs'\n    nicConfigurations: [\n      {\n        ipConfigurations: [\n          {\n            name: 'ipconfig01'\n            subnetResourceId: '<subnetResourceId>'\n          }\n        ]\n        nicSuffix: '-nic-01'\n      }\n    ]\n    osDisk: {\n      caching: 'ReadWrite'\n      diskSizeGB: 128\n      managedDisk: {\n        storageAccountType: 'Premium_ZRS'\n      }\n    }\n    osType: 'Windows'\n    vmSize: 'Standard_D2s_v3'\n    // Non-required parameters\n    adminPassword: '<adminPassword>'\n    dataDisks: [\n      {\n        caching: 'None'\n        diskSizeGB: 1024\n        managedDisk: {\n          storageAccountType: 'Premium_ZRS'\n        }\n      }\n    ]\n    location: '<location>'\n  }", "bicep": "module virtualMachine 'br/public:avm/res/compute/virtual-machine:0.20' = {\n  name: 'virtualMachineDeployment'\n  params: {\n    // Required parameters\n    adminUsername: 'localAdminUser'\n    availabilityZone: 2\n    imageReference: {\n      offer: 'WindowsServer'\n      publisher: 'MicrosoftWindowsServer'\n      sku: '2022-datacenter-azure-edition'\n      version: 'latest'\n    }\n    name: 'cvmwinzrs'\n    nicConfigurations: [\n      {\n        ipConfigurations: [\n          {\n            name: 'ipconfig01'\n            subnetResourceId: '<subnetResourceId>'\n          }\n        ]\n        nicSuffix: '-nic-01'\n      }\n    ]\n    osDisk: {\n      caching: 'ReadWrite'\n      diskSizeGB: 128\n      managedDisk: {\n        storageAccountType: 'Premium_ZRS'\n      }\n    }\n    osType: 'Windows'\n    vmSize: 'Standard_D2s_v3'\n    // Non-required parameters\n    adminPassword: '<adminPassword>'\n    dataDisks: [\n      {\n        caching: 'None'\n        diskSizeGB: 1024\n        managedDisk: {\n          storageAccountType: 'Premium_ZRS'\n        }\n      }\n    ]\n    location: '<location>'\n  }\n}"}
{"id": "avm_res_compute_virtual-machine-scale-set_example_1", "source": "avm/res/compute/virtual-machine-scale-set/README.md", "content_to_embed": "Recommended AVM Module for Virtual Machine Scale Sets: Using only defaults for Linux - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Compute/virtualMachineScaleSets\nModule ID: br/public:avm/res/compute/virtual-machine-scale-set:0.11\nParameters:\nparams: {\n    // Required parameters\n    adminPassword: '<adminPassword>'\n    adminUsername: 'scaleSetAdmin'\n    imageReference: {\n      offer: '0001-com-ubuntu-server-jammy'\n      publisher: 'Canonical'\n      sku: '22_04-lts-gen2'\n      version: 'latest'\n    }\n    name: 'cvmsslinmin001'\n    nicConfigurations: [\n      {\n        ipConfigurations: [\n          {\n            name: 'ipconfig1'\n            properties: {\n              publicIPAddressConfiguration: {\n                name: 'pip-cvmsslinmin'\n              }\n              subnet: {\n                id: '<id>'\n              }\n            }\n          }\n        ]\n        nicSuffix: '-nic01'\n      }\n    ]\n    osDisk: {\n      createOption: 'fromImage'\n      diskSizeGB: 128\n      managedDisk: {\n        storageAccountType: 'Premium_LRS'\n      }\n    }\n    osType: 'Linux'\n    skuName: 'Standard_B12ms'\n    // Non-required parameters\n    disablePasswordAuthentication: true\n    publicKeys: [\n      {\n        keyData: '<keyData>'\n        path: '/home/scaleSetAdmin/.ssh/authorized_keys'\n      }\n    ]\n  }", "bicep": "module virtualMachineScaleSet 'br/public:avm/res/compute/virtual-machine-scale-set:0.11' = {\n  name: 'virtualMachineScaleSetDeployment'\n  params: {\n    // Required parameters\n    adminPassword: '<adminPassword>'\n    adminUsername: 'scaleSetAdmin'\n    imageReference: {\n      offer: '0001-com-ubuntu-server-jammy'\n      publisher: 'Canonical'\n      sku: '22_04-lts-gen2'\n      version: 'latest'\n    }\n    name: 'cvmsslinmin001'\n    nicConfigurations: [\n      {\n        ipConfigurations: [\n          {\n            name: 'ipconfig1'\n            properties: {\n              publicIPAddressConfiguration: {\n                name: 'pip-cvmsslinmin'\n              }\n              subnet: {\n                id: '<id>'\n              }\n            }\n          }\n        ]\n        nicSuffix: '-nic01'\n      }\n    ]\n    osDisk: {\n      createOption: 'fromImage'\n      diskSizeGB: 128\n      managedDisk: {\n        storageAccountType: 'Premium_LRS'\n      }\n    }\n    osType: 'Linux'\n    skuName: 'Standard_B12ms'\n    // Non-required parameters\n    disablePasswordAuthentication: true\n    publicKeys: [\n      {\n        keyData: '<keyData>'\n        path: '/home/scaleSetAdmin/.ssh/authorized_keys'\n      }\n    ]\n  }\n}"}
{"id": "avm_res_compute_virtual-machine-scale-set_example_2", "source": "avm/res/compute/virtual-machine-scale-set/README.md", "content_to_embed": "Recommended AVM Module for Virtual Machine Scale Sets: Deploys VMSS with health extension - This instance deploys the module with as Linux VMSS with health extension.\nResource Type Path: Microsoft.Compute/virtualMachineScaleSets\nModule ID: br/public:avm/res/compute/virtual-machine-scale-set:0.11\nParameters:\nparams: {\n    // Required parameters\n    adminPassword: '<adminPassword>'\n    adminUsername: 'scaleSetAdmin'\n    imageReference: {\n      offer: '0001-com-ubuntu-server-jammy'\n      publisher: 'Canonical'\n      sku: '22_04-lts-gen2'\n      version: 'latest'\n    }\n    name: 'cvmsslinhealth001'\n    nicConfigurations: [\n      {\n        ipConfigurations: [\n          {\n            name: 'ipconfig1'\n            properties: {\n              publicIPAddressConfiguration: {\n                name: 'pip-cvmsslinhealth'\n              }\n              subnet: {\n                id: '<id>'\n              }\n            }\n          }\n        ]\n        nicSuffix: '-nic01'\n      }\n    ]\n    osDisk: {\n      createOption: 'fromImage'\n      diskSizeGB: 128\n      managedDisk: {\n        storageAccountType: 'Premium_LRS'\n      }\n    }\n    osType: 'Linux'\n    skuName: 'Standard_B12ms'\n    // Non-required parameters\n    disablePasswordAuthentication: true\n    extensionHealthConfig: {\n      enabled: true\n      port: 22\n      protocol: 'tcp'\n    }\n    publicKeys: [\n      {\n        keyData: '<keyData>'\n        path: '/home/scaleSetAdmin/.ssh/authorized_keys'\n      }\n    ]\n  }", "bicep": "module virtualMachineScaleSet 'br/public:avm/res/compute/virtual-machine-scale-set:0.11' = {\n  name: 'virtualMachineScaleSetDeployment'\n  params: {\n    // Required parameters\n    adminPassword: '<adminPassword>'\n    adminUsername: 'scaleSetAdmin'\n    imageReference: {\n      offer: '0001-com-ubuntu-server-jammy'\n      publisher: 'Canonical'\n      sku: '22_04-lts-gen2'\n      version: 'latest'\n    }\n    name: 'cvmsslinhealth001'\n    nicConfigurations: [\n      {\n        ipConfigurations: [\n          {\n            name: 'ipconfig1'\n            properties: {\n              publicIPAddressConfiguration: {\n                name: 'pip-cvmsslinhealth'\n              }\n              subnet: {\n                id: '<id>'\n              }\n            }\n          }\n        ]\n        nicSuffix: '-nic01'\n      }\n    ]\n    osDisk: {\n      createOption: 'fromImage'\n      diskSizeGB: 128\n      managedDisk: {\n        storageAccountType: 'Premium_LRS'\n      }\n    }\n    osType: 'Linux'\n    skuName: 'Standard_B12ms'\n    // Non-required parameters\n    disablePasswordAuthentication: true\n    extensionHealthConfig: {\n      enabled: true\n      port: 22\n      protocol: 'tcp'\n    }\n    publicKeys: [\n      {\n        keyData: '<keyData>'\n        path: '/home/scaleSetAdmin/.ssh/authorized_keys'\n      }\n    ]\n  }\n}"}
{"id": "avm_res_compute_virtual-machine-scale-set_example_3", "source": "avm/res/compute/virtual-machine-scale-set/README.md", "content_to_embed": "Recommended AVM Module for Virtual Machine Scale Sets: Using large parameter set for Linux - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Compute/virtualMachineScaleSets\nModule ID: br/public:avm/res/compute/virtual-machine-scale-set:0.11\nParameters:\nparams: {\n    // Required parameters\n    adminPassword: '<adminPassword>'\n    adminUsername: 'scaleSetAdmin'\n    imageReference: {\n      offer: '0001-com-ubuntu-server-jammy'\n      publisher: 'Canonical'\n      sku: '22_04-lts-gen2'\n      version: 'latest'\n    }\n    name: 'cvmsslinmax001'\n    nicConfigurations: [\n      {\n        ipConfigurations: [\n          {\n            name: 'ipconfig1'\n            properties: {\n              publicIPAddressConfiguration: {\n                name: 'pip-cvmsslinmax'\n              }\n              subnet: {\n                id: '<id>'\n              }\n            }\n          }\n        ]\n        nicSuffix: '-nic01'\n      }\n    ]\n    osDisk: {\n      createOption: 'fromImage'\n      diskSizeGB: 128\n      managedDisk: {\n        storageAccountType: 'Premium_LRS'\n      }\n    }\n    osType: 'Linux'\n    skuName: 'Standard_B12ms'\n    // Non-required parameters\n    availabilityZones: [\n      2\n    ]\n    bootDiagnosticEnabled: true\n    bootDiagnosticStorageAccountName: '<bootDiagnosticStorageAccountName>'\n    dataDisks: [\n      {\n        caching: 'ReadOnly'\n        createOption: 'Empty'\n        diskSizeGB: 256\n        lun: 1\n        managedDisk: {\n          storageAccountType: 'Premium_LRS'\n        }\n      }\n      {\n        caching: 'ReadOnly'\n        createOption: 'Empty'\n        diskSizeGB: 128\n        lun: 2\n        managedDisk: {\n          storageAccountType: 'Premium_LRS'\n        }\n      }\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    disablePasswordAuthentication: true\n    encryptionAtHost: false\n    extensionAzureDiskEncryptionConfig: {\n      enabled: true\n      settings: {\n        EncryptionOperation: 'EnableEncryption'\n        KekVaultResourceId: '<KekVaultResourceId>'\n        KeyEncryptionAlgorithm: 'RSA-OAEP'\n        KeyEncryptionKeyURL: '<KeyEncryptionKeyURL>'\n        KeyVaultResourceId: '<KeyVaultResourceId>'\n        KeyVaultURL: '<KeyVaultURL>'\n        ResizeOSDisk: 'false'\n        VolumeType: 'All'\n      }\n    }\n    extensionCustomScriptConfig: {\n      protectedSettings: {\n        managedIdentityResourceId: '<managedIdentityResourceId>'\n      }\n      settings: {\n        commandToExecute: '<commandToExecute>'\n        fileUris: [\n          '<storageAccountCSEFileUrl>'\n        ]\n      }\n    }\n    extensionDependencyAgentConfig: {\n      enabled: true\n    }\n    extensionMonitoringAgentConfig: {\n      autoUpgradeMinorVersion: true\n      enabled: true\n    }\n    extensionNetworkWatcherAgentConfig: {\n      enabled: true\n    }\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: false\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    publicKeys: [\n      {\n        keyData: '<keyData>'\n        path: '/home/scaleSetAdmin/.ssh/authorized_keys'\n      }\n    ]\n    roleAssignments: [\n      {\n        name: '8abf72f9-e918-4adc-b20b-c783b8799065'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    scaleSetFaultDomain: 1\n    skuCapacity: 1\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    upgradePolicyMode: 'Manual'\n    vmNamePrefix: 'vmsslinvm'\n    vmPriority: 'Regular'\n  }", "bicep": "module virtualMachineScaleSet 'br/public:avm/res/compute/virtual-machine-scale-set:0.11' = {\n  name: 'virtualMachineScaleSetDeployment'\n  params: {\n    // Required parameters\n    adminPassword: '<adminPassword>'\n    adminUsername: 'scaleSetAdmin'\n    imageReference: {\n      offer: '0001-com-ubuntu-server-jammy'\n      publisher: 'Canonical'\n      sku: '22_04-lts-gen2'\n      version: 'latest'\n    }\n    name: 'cvmsslinmax001'\n    nicConfigurations: [\n      {\n        ipConfigurations: [\n          {\n            name: 'ipconfig1'\n            properties: {\n              publicIPAddressConfiguration: {\n                name: 'pip-cvmsslinmax'\n              }\n              subnet: {\n                id: '<id>'\n              }\n            }\n          }\n        ]\n        nicSuffix: '-nic01'\n      }\n    ]\n    osDisk: {\n      createOption: 'fromImage'\n      diskSizeGB: 128\n      managedDisk: {\n        storageAccountType: 'Premium_LRS'\n      }\n    }\n    osType: 'Linux'\n    skuName: 'Standard_B12ms'\n    // Non-required parameters\n    availabilityZones: [\n      2\n    ]\n    bootDiagnosticEnabled: true\n    bootDiagnosticStorageAccountName: '<bootDiagnosticStorageAccountName>'\n    dataDisks: [\n      {\n        caching: 'ReadOnly'\n        createOption: 'Empty'\n        diskSizeGB: 256\n        lun: 1\n        managedDisk: {\n          storageAccountType: 'Premium_LRS'\n        }\n      }\n      {\n        caching: 'ReadOnly'\n        createOption: 'Empty'\n        diskSizeGB: 128\n        lun: 2\n        managedDisk: {\n          storageAccountType: 'Premium_LRS'\n        }\n      }\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    disablePasswordAuthentication: true\n    encryptionAtHost: false\n    extensionAzureDiskEncryptionConfig: {\n      enabled: true\n      settings: {\n        EncryptionOperation: 'EnableEncryption'\n        KekVaultResourceId: '<KekVaultResourceId>'\n        KeyEncryptionAlgorithm: 'RSA-OAEP'\n        KeyEncryptionKeyURL: '<KeyEncryptionKeyURL>'\n        KeyVaultResourceId: '<KeyVaultResourceId>'\n        KeyVaultURL: '<KeyVaultURL>'\n        ResizeOSDisk: 'false'\n        VolumeType: 'All'\n      }\n    }\n    extensionCustomScriptConfig: {\n      protectedSettings: {\n        managedIdentityResourceId: '<managedIdentityResourceId>'\n      }\n      settings: {\n        commandToExecute: '<commandToExecute>'\n        fileUris: [\n          '<storageAccountCSEFileUrl>'\n        ]\n      }\n    }\n    extensionDependencyAgentConfig: {\n      enabled: true\n    }\n    extensionMonitoringAgentConfig: {\n      autoUpgradeMinorVersion: true\n      enabled: true\n    }\n    extensionNetworkWatcherAgentConfig: {\n      enabled: true\n    }\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: false\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    publicKeys: [\n      {\n        keyData: '<keyData>'\n        path: '/home/scaleSetAdmin/.ssh/authorized_keys'\n      }\n    ]\n    roleAssignments: [\n      {\n        name: '8abf72f9-e918-4adc-b20b-c783b8799065'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    scaleSetFaultDomain: 1\n    skuCapacity: 1\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    upgradePolicyMode: 'Manual'\n    vmNamePrefix: 'vmsslinvm'\n    vmPriority: 'Regular'\n  }\n}"}
{"id": "avm_res_compute_virtual-machine-scale-set_example_4", "source": "avm/res/compute/virtual-machine-scale-set/README.md", "content_to_embed": "Recommended AVM Module for Virtual Machine Scale Sets: Using disk encryption set for the VM. - This instance deploys the module with disk enryption set.\nResource Type Path: Microsoft.Compute/virtualMachineScaleSets\nModule ID: br/public:avm/res/compute/virtual-machine-scale-set:0.11\nParameters:\nparams: {\n    // Required parameters\n    adminPassword: '<adminPassword>'\n    adminUsername: 'scaleSetAdmin'\n    imageReference: {\n      offer: '0001-com-ubuntu-server-jammy'\n      publisher: 'Canonical'\n      sku: '22_04-lts-gen2'\n      version: 'latest'\n    }\n    name: 'cvmsslcmk001'\n    nicConfigurations: [\n      {\n        ipConfigurations: [\n          {\n            name: 'ipconfig1'\n            properties: {\n              publicIPAddressConfiguration: {\n                name: 'pip-cvmsslcmk'\n              }\n              subnet: {\n                id: '<id>'\n              }\n            }\n          }\n        ]\n        nicSuffix: '-nic01'\n      }\n    ]\n    osDisk: {\n      createOption: 'fromImage'\n      diskSizeGB: 128\n      managedDisk: {\n        diskEncryptionSet: {\n          id: '<id>'\n        }\n        storageAccountType: 'Premium_LRS'\n      }\n    }\n    osType: 'Linux'\n    skuName: 'Standard_B12ms'\n    // Non-required parameters\n    dataDisks: [\n      {\n        caching: 'ReadOnly'\n        createOption: 'Empty'\n        diskSizeGB: 128\n        lun: 1\n        managedDisk: {\n          diskEncryptionSet: {\n            id: '<id>'\n          }\n          storageAccountType: 'Premium_LRS'\n        }\n      }\n    ]\n    disablePasswordAuthentication: true\n    extensionMonitoringAgentConfig: {\n      autoUpgradeMinorVersion: true\n      enabled: true\n    }\n    publicKeys: [\n      {\n        keyData: '<keyData>'\n        path: '/home/scaleSetAdmin/.ssh/authorized_keys'\n      }\n    ]\n  }", "bicep": "module virtualMachineScaleSet 'br/public:avm/res/compute/virtual-machine-scale-set:0.11' = {\n  name: 'virtualMachineScaleSetDeployment'\n  params: {\n    // Required parameters\n    adminPassword: '<adminPassword>'\n    adminUsername: 'scaleSetAdmin'\n    imageReference: {\n      offer: '0001-com-ubuntu-server-jammy'\n      publisher: 'Canonical'\n      sku: '22_04-lts-gen2'\n      version: 'latest'\n    }\n    name: 'cvmsslcmk001'\n    nicConfigurations: [\n      {\n        ipConfigurations: [\n          {\n            name: 'ipconfig1'\n            properties: {\n              publicIPAddressConfiguration: {\n                name: 'pip-cvmsslcmk'\n              }\n              subnet: {\n                id: '<id>'\n              }\n            }\n          }\n        ]\n        nicSuffix: '-nic01'\n      }\n    ]\n    osDisk: {\n      createOption: 'fromImage'\n      diskSizeGB: 128\n      managedDisk: {\n        diskEncryptionSet: {\n          id: '<id>'\n        }\n        storageAccountType: 'Premium_LRS'\n      }\n    }\n    osType: 'Linux'\n    skuName: 'Standard_B12ms'\n    // Non-required parameters\n    dataDisks: [\n      {\n        caching: 'ReadOnly'\n        createOption: 'Empty'\n        diskSizeGB: 128\n        lun: 1\n        managedDisk: {\n          diskEncryptionSet: {\n            id: '<id>'\n          }\n          storageAccountType: 'Premium_LRS'\n        }\n      }\n    ]\n    disablePasswordAuthentication: true\n    extensionMonitoringAgentConfig: {\n      autoUpgradeMinorVersion: true\n      enabled: true\n    }\n    publicKeys: [\n      {\n        keyData: '<keyData>'\n        path: '/home/scaleSetAdmin/.ssh/authorized_keys'\n      }\n    ]\n  }\n}"}
{"id": "avm_res_compute_virtual-machine-scale-set_example_5", "source": "avm/res/compute/virtual-machine-scale-set/README.md", "content_to_embed": "Recommended AVM Module for Virtual Machine Scale Sets: Using only defaults for Windows - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Compute/virtualMachineScaleSets\nModule ID: br/public:avm/res/compute/virtual-machine-scale-set:0.11\nParameters:\nparams: {\n    // Required parameters\n    adminPassword: '<adminPassword>'\n    adminUsername: 'localAdminUser'\n    imageReference: {\n      offer: 'WindowsServer'\n      publisher: 'MicrosoftWindowsServer'\n      sku: '2022-datacenter-azure-edition'\n      version: 'latest'\n    }\n    name: 'cvmsswinmin001'\n    nicConfigurations: [\n      {\n        ipConfigurations: [\n          {\n            name: 'ipconfig1'\n            properties: {\n              publicIPAddressConfiguration: {\n                name: 'pip-cvmsswinmin'\n              }\n              subnet: {\n                id: '<id>'\n              }\n            }\n          }\n        ]\n        nicSuffix: '-nic01'\n      }\n    ]\n    osDisk: {\n      createOption: 'fromImage'\n      diskSizeGB: 128\n      managedDisk: {\n        storageAccountType: 'Premium_LRS'\n      }\n    }\n    osType: 'Windows'\n    skuName: 'Standard_B12ms'\n    // Non-required parameters\n    location: '<location>'\n  }", "bicep": "module virtualMachineScaleSet 'br/public:avm/res/compute/virtual-machine-scale-set:0.11' = {\n  name: 'virtualMachineScaleSetDeployment'\n  params: {\n    // Required parameters\n    adminPassword: '<adminPassword>'\n    adminUsername: 'localAdminUser'\n    imageReference: {\n      offer: 'WindowsServer'\n      publisher: 'MicrosoftWindowsServer'\n      sku: '2022-datacenter-azure-edition'\n      version: 'latest'\n    }\n    name: 'cvmsswinmin001'\n    nicConfigurations: [\n      {\n        ipConfigurations: [\n          {\n            name: 'ipconfig1'\n            properties: {\n              publicIPAddressConfiguration: {\n                name: 'pip-cvmsswinmin'\n              }\n              subnet: {\n                id: '<id>'\n              }\n            }\n          }\n        ]\n        nicSuffix: '-nic01'\n      }\n    ]\n    osDisk: {\n      createOption: 'fromImage'\n      diskSizeGB: 128\n      managedDisk: {\n        storageAccountType: 'Premium_LRS'\n      }\n    }\n    osType: 'Windows'\n    skuName: 'Standard_B12ms'\n    // Non-required parameters\n    location: '<location>'\n  }\n}"}
{"id": "avm_res_compute_virtual-machine-scale-set_example_6", "source": "avm/res/compute/virtual-machine-scale-set/README.md", "content_to_embed": "Recommended AVM Module for Virtual Machine Scale Sets: Using large parameter set for Windows - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Compute/virtualMachineScaleSets\nModule ID: br/public:avm/res/compute/virtual-machine-scale-set:0.11\nParameters:\nparams: {\n    // Required parameters\n    adminPassword: '<adminPassword>'\n    adminUsername: 'localAdminUser'\n    imageReference: {\n      offer: 'WindowsServer'\n      publisher: 'MicrosoftWindowsServer'\n      sku: '2022-datacenter-azure-edition'\n      version: 'latest'\n    }\n    name: 'cvmsswinmax001'\n    nicConfigurations: [\n      {\n        ipConfigurations: [\n          {\n            name: 'ipconfig1'\n            properties: {\n              publicIPAddressConfiguration: {\n                name: 'pip-cvmsswinmax'\n              }\n              subnet: {\n                id: '<id>'\n              }\n            }\n          }\n        ]\n        nicSuffix: '-nic01'\n      }\n    ]\n    osDisk: {\n      createOption: 'fromImage'\n      diskSizeGB: 128\n      managedDisk: {\n        storageAccountType: 'Premium_LRS'\n      }\n    }\n    osType: 'Windows'\n    skuName: 'Standard_B12ms'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    encryptionAtHost: false\n    extensionAntiMalwareConfig: {\n      enabled: true\n      settings: {\n        AntimalwareEnabled: true\n        Exclusions: {\n          Extensions: '.log;.ldf'\n          Paths: 'D:\\\\IISlogs;D:\\\\DatabaseLogs'\n          Processes: 'mssence.svc'\n        }\n        RealtimeProtectionEnabled: true\n        ScheduledScanSettings: {\n          day: '7'\n          isEnabled: 'true'\n          scanType: 'Quick'\n          time: '120'\n        }\n      }\n    }\n    extensionAzureDiskEncryptionConfig: {\n      enabled: true\n      settings: {\n        EncryptionOperation: 'EnableEncryption'\n        KekVaultResourceId: '<KekVaultResourceId>'\n        KeyEncryptionAlgorithm: 'RSA-OAEP'\n        KeyEncryptionKeyURL: '<KeyEncryptionKeyURL>'\n        KeyVaultResourceId: '<KeyVaultResourceId>'\n        KeyVaultURL: '<KeyVaultURL>'\n        ResizeOSDisk: 'false'\n        VolumeType: 'All'\n      }\n    }\n    extensionCustomScriptConfig: {\n      protectedSettings: {\n        managedIdentityResourceId: '<managedIdentityResourceId>'\n      }\n      settings: {\n        commandToExecute: '<commandToExecute>'\n        fileUris: [\n          '<storageAccountCSEFileUrl>'\n        ]\n      }\n    }\n    extensionDependencyAgentConfig: {\n      enabled: true\n    }\n    extensionDSCConfig: {\n      enabled: true\n    }\n    extensionHealthConfig: {\n      enabled: true\n      port: 80\n      protocol: 'http'\n      requestPath: '/'\n    }\n    extensionMonitoringAgentConfig: {\n      autoUpgradeMinorVersion: true\n      enabled: true\n    }\n    extensionNetworkWatcherAgentConfig: {\n      enabled: true\n    }\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: false\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    roleAssignments: [\n      {\n        name: '1910de8c-4dab-4189-96bb-2feb68350fb8'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    skuCapacity: 1\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    upgradePolicyMode: 'Manual'\n    vmNamePrefix: 'vmsswinvm'\n    vmPriority: 'Regular'\n  }", "bicep": "module virtualMachineScaleSet 'br/public:avm/res/compute/virtual-machine-scale-set:0.11' = {\n  name: 'virtualMachineScaleSetDeployment'\n  params: {\n    // Required parameters\n    adminPassword: '<adminPassword>'\n    adminUsername: 'localAdminUser'\n    imageReference: {\n      offer: 'WindowsServer'\n      publisher: 'MicrosoftWindowsServer'\n      sku: '2022-datacenter-azure-edition'\n      version: 'latest'\n    }\n    name: 'cvmsswinmax001'\n    nicConfigurations: [\n      {\n        ipConfigurations: [\n          {\n            name: 'ipconfig1'\n            properties: {\n              publicIPAddressConfiguration: {\n                name: 'pip-cvmsswinmax'\n              }\n              subnet: {\n                id: '<id>'\n              }\n            }\n          }\n        ]\n        nicSuffix: '-nic01'\n      }\n    ]\n    osDisk: {\n      createOption: 'fromImage'\n      diskSizeGB: 128\n      managedDisk: {\n        storageAccountType: 'Premium_LRS'\n      }\n    }\n    osType: 'Windows'\n    skuName: 'Standard_B12ms'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    encryptionAtHost: false\n    extensionAntiMalwareConfig: {\n      enabled: true\n      settings: {\n        AntimalwareEnabled: true\n        Exclusions: {\n          Extensions: '.log;.ldf'\n          Paths: 'D:\\\\IISlogs;D:\\\\DatabaseLogs'\n          Processes: 'mssence.svc'\n        }\n        RealtimeProtectionEnabled: true\n        ScheduledScanSettings: {\n          day: '7'\n          isEnabled: 'true'\n          scanType: 'Quick'\n          time: '120'\n        }\n      }\n    }\n    extensionAzureDiskEncryptionConfig: {\n      enabled: true\n      settings: {\n        EncryptionOperation: 'EnableEncryption'\n        KekVaultResourceId: '<KekVaultResourceId>'\n        KeyEncryptionAlgorithm: 'RSA-OAEP'\n        KeyEncryptionKeyURL: '<KeyEncryptionKeyURL>'\n        KeyVaultResourceId: '<KeyVaultResourceId>'\n        KeyVaultURL: '<KeyVaultURL>'\n        ResizeOSDisk: 'false'\n        VolumeType: 'All'\n      }\n    }\n    extensionCustomScriptConfig: {\n      protectedSettings: {\n        managedIdentityResourceId: '<managedIdentityResourceId>'\n      }\n      settings: {\n        commandToExecute: '<commandToExecute>'\n        fileUris: [\n          '<storageAccountCSEFileUrl>'\n        ]\n      }\n    }\n    extensionDependencyAgentConfig: {\n      enabled: true\n    }\n    extensionDSCConfig: {\n      enabled: true\n    }\n    extensionHealthConfig: {\n      enabled: true\n      port: 80\n      protocol: 'http'\n      requestPath: '/'\n    }\n    extensionMonitoringAgentConfig: {\n      autoUpgradeMinorVersion: true\n      enabled: true\n    }\n    extensionNetworkWatcherAgentConfig: {\n      enabled: true\n    }\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: false\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    roleAssignments: [\n      {\n        name: '1910de8c-4dab-4189-96bb-2feb68350fb8'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    skuCapacity: 1\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    upgradePolicyMode: 'Manual'\n    vmNamePrefix: 'vmsswinvm'\n    vmPriority: 'Regular'\n  }\n}"}
{"id": "avm_res_compute_virtual-machine-scale-set_example_7", "source": "avm/res/compute/virtual-machine-scale-set/README.md", "content_to_embed": "Recommended AVM Module for Virtual Machine Scale Sets: Deploying VMSS in uniform orchestration mode with Windows image. - This instance deploys the module with the minimum set of required parameters in uniform orchestration mode.\nResource Type Path: Microsoft.Compute/virtualMachineScaleSets\nModule ID: br/public:avm/res/compute/virtual-machine-scale-set:0.11\nParameters:\nparams: {\n    // Required parameters\n    adminPassword: '<adminPassword>'\n    adminUsername: 'localAdminUser'\n    imageReference: {\n      offer: 'WindowsServer'\n      publisher: 'MicrosoftWindowsServer'\n      sku: '2022-datacenter-azure-edition'\n      version: 'latest'\n    }\n    name: 'cvmsswinuni001'\n    nicConfigurations: [\n      {\n        ipConfigurations: [\n          {\n            name: 'ipconfig1'\n            properties: {\n              publicIPAddressConfiguration: {\n                name: 'pip-cvmsswinuni'\n              }\n              subnet: {\n                id: '<id>'\n              }\n            }\n          }\n        ]\n        nicSuffix: '-nic01'\n      }\n    ]\n    osDisk: {\n      createOption: 'fromImage'\n      diskSizeGB: 128\n      managedDisk: {\n        storageAccountType: 'Premium_LRS'\n      }\n    }\n    osType: 'Windows'\n    skuName: 'Standard_B12ms'\n    // Non-required parameters\n    orchestrationMode: 'Uniform'\n    patchMode: 'AutomaticByOS'\n  }", "bicep": "module virtualMachineScaleSet 'br/public:avm/res/compute/virtual-machine-scale-set:0.11' = {\n  name: 'virtualMachineScaleSetDeployment'\n  params: {\n    // Required parameters\n    adminPassword: '<adminPassword>'\n    adminUsername: 'localAdminUser'\n    imageReference: {\n      offer: 'WindowsServer'\n      publisher: 'MicrosoftWindowsServer'\n      sku: '2022-datacenter-azure-edition'\n      version: 'latest'\n    }\n    name: 'cvmsswinuni001'\n    nicConfigurations: [\n      {\n        ipConfigurations: [\n          {\n            name: 'ipconfig1'\n            properties: {\n              publicIPAddressConfiguration: {\n                name: 'pip-cvmsswinuni'\n              }\n              subnet: {\n                id: '<id>'\n              }\n            }\n          }\n        ]\n        nicSuffix: '-nic01'\n      }\n    ]\n    osDisk: {\n      createOption: 'fromImage'\n      diskSizeGB: 128\n      managedDisk: {\n        storageAccountType: 'Premium_LRS'\n      }\n    }\n    osType: 'Windows'\n    skuName: 'Standard_B12ms'\n    // Non-required parameters\n    orchestrationMode: 'Uniform'\n    patchMode: 'AutomaticByOS'\n  }\n}"}
{"id": "avm_res_compute_virtual-machine-scale-set_example_8", "source": "avm/res/compute/virtual-machine-scale-set/README.md", "content_to_embed": "Recommended AVM Module for Virtual Machine Scale Sets: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Well-Architected Framework for Windows.\nResource Type Path: Microsoft.Compute/virtualMachineScaleSets\nModule ID: br/public:avm/res/compute/virtual-machine-scale-set:0.11\nParameters:\nparams: {\n    // Required parameters\n    adminPassword: '<adminPassword>'\n    adminUsername: 'localAdminUser'\n    imageReference: {\n      offer: 'WindowsServer'\n      publisher: 'MicrosoftWindowsServer'\n      sku: '2022-datacenter-azure-edition'\n      version: 'latest'\n    }\n    name: 'cvmsswinwaf001'\n    nicConfigurations: [\n      {\n        ipConfigurations: [\n          {\n            name: 'ipconfig1'\n            properties: {\n              publicIPAddressConfiguration: {\n                name: 'pip-cvmsswinwaf'\n              }\n              subnet: {\n                id: '<id>'\n              }\n            }\n          }\n        ]\n        nicSuffix: '-nic01'\n      }\n    ]\n    osDisk: {\n      createOption: 'fromImage'\n      diskSizeGB: 128\n      managedDisk: {\n        storageAccountType: 'Premium_LRS'\n      }\n    }\n    osType: 'Windows'\n    skuName: 'Standard_B12ms'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    encryptionAtHost: false\n    extensionAntiMalwareConfig: {\n      enabled: true\n      settings: {\n        AntimalwareEnabled: true\n        Exclusions: {\n          Extensions: '.log;.ldf'\n          Paths: 'D:\\\\IISlogs;D:\\\\DatabaseLogs'\n          Processes: 'mssence.svc'\n        }\n        RealtimeProtectionEnabled: true\n        ScheduledScanSettings: {\n          day: '7'\n          isEnabled: 'true'\n          scanType: 'Quick'\n          time: '120'\n        }\n      }\n    }\n    extensionAzureDiskEncryptionConfig: {\n      enabled: true\n      settings: {\n        EncryptionOperation: 'EnableEncryption'\n        KekVaultResourceId: '<KekVaultResourceId>'\n        KeyEncryptionAlgorithm: 'RSA-OAEP'\n        KeyEncryptionKeyURL: '<KeyEncryptionKeyURL>'\n        KeyVaultResourceId: '<KeyVaultResourceId>'\n        KeyVaultURL: '<KeyVaultURL>'\n        ResizeOSDisk: 'false'\n        VolumeType: 'All'\n      }\n    }\n    extensionCustomScriptConfig: {\n      protectedSettings: {\n        managedIdentityResourceId: '<managedIdentityResourceId>'\n      }\n      settings: {\n        commandToExecute: '<commandToExecute>'\n        fileUris: [\n          '<storageAccountCSEFileUrl>'\n        ]\n      }\n    }\n    extensionDependencyAgentConfig: {\n      enabled: true\n    }\n    extensionDSCConfig: {\n      enabled: true\n    }\n    extensionMonitoringAgentConfig: {\n      autoUpgradeMinorVersion: true\n      enabled: true\n    }\n    extensionNetworkWatcherAgentConfig: {\n      enabled: true\n    }\n    location: '<location>'\n    managedIdentities: {\n      systemAssigned: false\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    skuCapacity: 1\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    upgradePolicyMode: 'Manual'\n    vmNamePrefix: 'vmsswinvm'\n    vmPriority: 'Regular'\n  }", "bicep": "module virtualMachineScaleSet 'br/public:avm/res/compute/virtual-machine-scale-set:0.11' = {\n  name: 'virtualMachineScaleSetDeployment'\n  params: {\n    // Required parameters\n    adminPassword: '<adminPassword>'\n    adminUsername: 'localAdminUser'\n    imageReference: {\n      offer: 'WindowsServer'\n      publisher: 'MicrosoftWindowsServer'\n      sku: '2022-datacenter-azure-edition'\n      version: 'latest'\n    }\n    name: 'cvmsswinwaf001'\n    nicConfigurations: [\n      {\n        ipConfigurations: [\n          {\n            name: 'ipconfig1'\n            properties: {\n              publicIPAddressConfiguration: {\n                name: 'pip-cvmsswinwaf'\n              }\n              subnet: {\n                id: '<id>'\n              }\n            }\n          }\n        ]\n        nicSuffix: '-nic01'\n      }\n    ]\n    osDisk: {\n      createOption: 'fromImage'\n      diskSizeGB: 128\n      managedDisk: {\n        storageAccountType: 'Premium_LRS'\n      }\n    }\n    osType: 'Windows'\n    skuName: 'Standard_B12ms'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    encryptionAtHost: false\n    extensionAntiMalwareConfig: {\n      enabled: true\n      settings: {\n        AntimalwareEnabled: true\n        Exclusions: {\n          Extensions: '.log;.ldf'\n          Paths: 'D:\\\\IISlogs;D:\\\\DatabaseLogs'\n          Processes: 'mssence.svc'\n        }\n        RealtimeProtectionEnabled: true\n        ScheduledScanSettings: {\n          day: '7'\n          isEnabled: 'true'\n          scanType: 'Quick'\n          time: '120'\n        }\n      }\n    }\n    extensionAzureDiskEncryptionConfig: {\n      enabled: true\n      settings: {\n        EncryptionOperation: 'EnableEncryption'\n        KekVaultResourceId: '<KekVaultResourceId>'\n        KeyEncryptionAlgorithm: 'RSA-OAEP'\n        KeyEncryptionKeyURL: '<KeyEncryptionKeyURL>'\n        KeyVaultResourceId: '<KeyVaultResourceId>'\n        KeyVaultURL: '<KeyVaultURL>'\n        ResizeOSDisk: 'false'\n        VolumeType: 'All'\n      }\n    }\n    extensionCustomScriptConfig: {\n      protectedSettings: {\n        managedIdentityResourceId: '<managedIdentityResourceId>'\n      }\n      settings: {\n        commandToExecute: '<commandToExecute>'\n        fileUris: [\n          '<storageAccountCSEFileUrl>'\n        ]\n      }\n    }\n    extensionDependencyAgentConfig: {\n      enabled: true\n    }\n    extensionDSCConfig: {\n      enabled: true\n    }\n    extensionMonitoringAgentConfig: {\n      autoUpgradeMinorVersion: true\n      enabled: true\n    }\n    extensionNetworkWatcherAgentConfig: {\n      enabled: true\n    }\n    location: '<location>'\n    managedIdentities: {\n      systemAssigned: false\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    skuCapacity: 1\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    upgradePolicyMode: 'Manual'\n    vmNamePrefix: 'vmsswinvm'\n    vmPriority: 'Regular'\n  }\n}"}
{"id": "avm_res_consumption_budget_mg-scope_example_1", "source": "avm/res/consumption/budget/mg-scope/README.md", "content_to_embed": "Recommended AVM Module for Consumption Budgets: Using only defaults (Management Group scope) - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Consumption/budgets\nModule ID: br/public:avm/res/consumption/budget/mg-scope:0.1\nParameters:\nparams: {\n    // Required parameters\n    amount: 500\n    name: 'rcbmgmin001'\n    // Non-required parameters\n    contactEmails: [\n      'dummy@contoso.com'\n    ]\n  }", "bicep": "module budget 'br/public:avm/res/consumption/budget/mg-scope:0.1' = {\n  name: 'budgetDeployment'\n  params: {\n    // Required parameters\n    amount: 500\n    name: 'rcbmgmin001'\n    // Non-required parameters\n    contactEmails: [\n      'dummy@contoso.com'\n    ]\n  }\n}"}
{"id": "avm_res_consumption_budget_mg-scope_example_2", "source": "avm/res/consumption/budget/mg-scope/README.md", "content_to_embed": "Recommended AVM Module for Consumption Budgets: Using large parameter set (Management Group scope) - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Consumption/budgets\nModule ID: br/public:avm/res/consumption/budget/mg-scope:0.1\nParameters:\nparams: {\n    // Required parameters\n    amount: 500\n    name: 'rcbmgmax001'\n    // Non-required parameters\n    contactEmails: [\n      'dummy@contoso.com'\n    ]\n    location: '<location>'\n    resourceGroupFilter: [\n      'rg-group1'\n      'rg-group2'\n    ]\n    thresholds: [\n      50\n      75\n      90\n      100\n      110\n    ]\n    thresholdType: 'Forecasted'\n  }", "bicep": "module budget 'br/public:avm/res/consumption/budget/mg-scope:0.1' = {\n  name: 'budgetDeployment'\n  params: {\n    // Required parameters\n    amount: 500\n    name: 'rcbmgmax001'\n    // Non-required parameters\n    contactEmails: [\n      'dummy@contoso.com'\n    ]\n    location: '<location>'\n    resourceGroupFilter: [\n      'rg-group1'\n      'rg-group2'\n    ]\n    thresholds: [\n      50\n      75\n      90\n      100\n      110\n    ]\n    thresholdType: 'Forecasted'\n  }\n}"}
{"id": "avm_res_consumption_budget_mg-scope_example_3", "source": "avm/res/consumption/budget/mg-scope/README.md", "content_to_embed": "Recommended AVM Module for Consumption Budgets: WAF-aligned (Management Group scope) - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Consumption/budgets\nModule ID: br/public:avm/res/consumption/budget/mg-scope:0.1\nParameters:\nparams: {\n    // Required parameters\n    amount: 500\n    name: 'rcbmgwaf001'\n    // Non-required parameters\n    contactEmails: [\n      'dummy@contoso.com'\n    ]\n  }", "bicep": "module budget 'br/public:avm/res/consumption/budget/mg-scope:0.1' = {\n  name: 'budgetDeployment'\n  params: {\n    // Required parameters\n    amount: 500\n    name: 'rcbmgwaf001'\n    // Non-required parameters\n    contactEmails: [\n      'dummy@contoso.com'\n    ]\n  }\n}"}
{"id": "avm_res_consumption_budget_rg-scope_example_1", "source": "avm/res/consumption/budget/rg-scope/README.md", "content_to_embed": "Recommended AVM Module for Consumption Budgets: Using only defaults (Resource Group scope) - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Consumption/budgets\nModule ID: br/public:avm/res/consumption/budget/rg-scope:0.1\nParameters:\nparams: {\n    // Required parameters\n    amount: 500\n    name: 'rcbrgmin001'\n    // Non-required parameters\n    contactEmails: [\n      'dummy@contoso.com'\n    ]\n  }", "bicep": "module budget 'br/public:avm/res/consumption/budget/rg-scope:0.1' = {\n  name: 'budgetDeployment'\n  params: {\n    // Required parameters\n    amount: 500\n    name: 'rcbrgmin001'\n    // Non-required parameters\n    contactEmails: [\n      'dummy@contoso.com'\n    ]\n  }\n}"}
{"id": "avm_res_consumption_budget_rg-scope_example_2", "source": "avm/res/consumption/budget/rg-scope/README.md", "content_to_embed": "Recommended AVM Module for Consumption Budgets: Using large parameter set (Resource Group scope) - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Consumption/budgets\nModule ID: br/public:avm/res/consumption/budget/rg-scope:0.1\nParameters:\nparams: {\n    // Required parameters\n    amount: 500\n    name: 'rcbrgmax001'\n    // Non-required parameters\n    contactEmails: [\n      'dummy@contoso.com'\n    ]\n    resourceGroupFilter: [\n      'rg-group1'\n      'rg-group2'\n    ]\n    thresholds: [\n      50\n      75\n      90\n      100\n      110\n    ]\n    thresholdType: 'Forecasted'\n  }", "bicep": "module budget 'br/public:avm/res/consumption/budget/rg-scope:0.1' = {\n  name: 'budgetDeployment'\n  params: {\n    // Required parameters\n    amount: 500\n    name: 'rcbrgmax001'\n    // Non-required parameters\n    contactEmails: [\n      'dummy@contoso.com'\n    ]\n    resourceGroupFilter: [\n      'rg-group1'\n      'rg-group2'\n    ]\n    thresholds: [\n      50\n      75\n      90\n      100\n      110\n    ]\n    thresholdType: 'Forecasted'\n  }\n}"}
{"id": "avm_res_consumption_budget_rg-scope_example_3", "source": "avm/res/consumption/budget/rg-scope/README.md", "content_to_embed": "Recommended AVM Module for Consumption Budgets: WAF-aligned (Resource Group scope) - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Consumption/budgets\nModule ID: br/public:avm/res/consumption/budget/rg-scope:0.1\nParameters:\nparams: {\n    // Required parameters\n    amount: 500\n    name: 'rcbrgmwaf001'\n    // Non-required parameters\n    contactEmails: [\n      'dummy@contoso.com'\n    ]\n  }", "bicep": "module budget 'br/public:avm/res/consumption/budget/rg-scope:0.1' = {\n  name: 'budgetDeployment'\n  params: {\n    // Required parameters\n    amount: 500\n    name: 'rcbrgmwaf001'\n    // Non-required parameters\n    contactEmails: [\n      'dummy@contoso.com'\n    ]\n  }\n}"}
{"id": "avm_res_consumption_budget_sub-scope_example_1", "source": "avm/res/consumption/budget/sub-scope/README.md", "content_to_embed": "Recommended AVM Module for Consumption Budgets: Using only defaults (Subscription scope) - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Consumption/budgets\nModule ID: br/public:avm/res/consumption/budget/sub-scope:0.1\nParameters:\nparams: {\n    // Required parameters\n    amount: 500\n    name: 'rcbsubmin001'\n    // Non-required parameters\n    contactEmails: [\n      'dummy@contoso.com'\n    ]\n  }", "bicep": "module budget 'br/public:avm/res/consumption/budget/sub-scope:0.1' = {\n  name: 'budgetDeployment'\n  params: {\n    // Required parameters\n    amount: 500\n    name: 'rcbsubmin001'\n    // Non-required parameters\n    contactEmails: [\n      'dummy@contoso.com'\n    ]\n  }\n}"}
{"id": "avm_res_consumption_budget_sub-scope_example_2", "source": "avm/res/consumption/budget/sub-scope/README.md", "content_to_embed": "Recommended AVM Module for Consumption Budgets: Using large parameter set (Subscription scope) - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Consumption/budgets\nModule ID: br/public:avm/res/consumption/budget/sub-scope:0.1\nParameters:\nparams: {\n    // Required parameters\n    amount: 500\n    name: 'rcbsubmax001'\n    // Non-required parameters\n    contactEmails: [\n      'dummy@contoso.com'\n    ]\n    location: '<location>'\n    resourceGroupFilter: [\n      'rg-group1'\n      'rg-group2'\n    ]\n    thresholds: [\n      50\n      75\n      90\n      100\n      110\n    ]\n    thresholdType: 'Forecasted'\n  }", "bicep": "module budget 'br/public:avm/res/consumption/budget/sub-scope:0.1' = {\n  name: 'budgetDeployment'\n  params: {\n    // Required parameters\n    amount: 500\n    name: 'rcbsubmax001'\n    // Non-required parameters\n    contactEmails: [\n      'dummy@contoso.com'\n    ]\n    location: '<location>'\n    resourceGroupFilter: [\n      'rg-group1'\n      'rg-group2'\n    ]\n    thresholds: [\n      50\n      75\n      90\n      100\n      110\n    ]\n    thresholdType: 'Forecasted'\n  }\n}"}
{"id": "avm_res_consumption_budget_sub-scope_example_3", "source": "avm/res/consumption/budget/sub-scope/README.md", "content_to_embed": "Recommended AVM Module for Consumption Budgets: WAF-aligned (Subscription scope) - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Consumption/budgets\nModule ID: br/public:avm/res/consumption/budget/sub-scope:0.1\nParameters:\nparams: {\n    // Required parameters\n    amount: 500\n    name: 'rcbsubwaf001'\n    // Non-required parameters\n    contactEmails: [\n      'dummy@contoso.com'\n    ]\n  }", "bicep": "module budget 'br/public:avm/res/consumption/budget/sub-scope:0.1' = {\n  name: 'budgetDeployment'\n  params: {\n    // Required parameters\n    amount: 500\n    name: 'rcbsubwaf001'\n    // Non-required parameters\n    contactEmails: [\n      'dummy@contoso.com'\n    ]\n  }\n}"}
{"id": "avm_res_container-instance_container-group_example_1", "source": "avm/res/container-instance/container-group/README.md", "content_to_embed": "Recommended AVM Module for Container Instances Container Groups: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.ContainerInstance/containerGroups\nModule ID: br/public:avm/res/container-instance/container-group:0.6\nParameters:\nparams: {\n    // Required parameters\n    availabilityZone: -1\n    containers: [\n      {\n        name: 'az-aci-x-001'\n        properties: {\n          image: 'mcr.microsoft.com/azuredocs/aci-helloworld'\n          ports: [\n            {\n              port: 443\n              protocol: 'Tcp'\n            }\n          ]\n          resources: {\n            requests: {\n              cpu: 2\n              memoryInGB: '2'\n            }\n          }\n        }\n      }\n    ]\n    name: 'cicgmin001'\n    // Non-required parameters\n    ipAddress: {\n      ports: [\n        {\n          port: 443\n          protocol: 'Tcp'\n        }\n      ]\n    }\n  }", "bicep": "module containerGroup 'br/public:avm/res/container-instance/container-group:0.6' = {\n  name: 'containerGroupDeployment'\n  params: {\n    // Required parameters\n    availabilityZone: -1\n    containers: [\n      {\n        name: 'az-aci-x-001'\n        properties: {\n          image: 'mcr.microsoft.com/azuredocs/aci-helloworld'\n          ports: [\n            {\n              port: 443\n              protocol: 'Tcp'\n            }\n          ]\n          resources: {\n            requests: {\n              cpu: 2\n              memoryInGB: '2'\n            }\n          }\n        }\n      }\n    ]\n    name: 'cicgmin001'\n    // Non-required parameters\n    ipAddress: {\n      ports: [\n        {\n          port: 443\n          protocol: 'Tcp'\n        }\n      ]\n    }\n  }\n}"}
{"id": "avm_res_container-instance_container-group_example_2", "source": "avm/res/container-instance/container-group/README.md", "content_to_embed": "Recommended AVM Module for Container Instances Container Groups: Using CMK - This instance deploys the module with a customer-managed key (CMK).\nResource Type Path: Microsoft.ContainerInstance/containerGroups\nModule ID: br/public:avm/res/container-instance/container-group:0.6\nParameters:\nparams: {\n    // Required parameters\n    availabilityZone: -1\n    containers: [\n      {\n        name: 'az-aci-x-001'\n        properties: {\n          command: []\n          environmentVariables: []\n          image: 'mcr.microsoft.com/azuredocs/aci-helloworld'\n          ports: [\n            {\n              port: 80\n              protocol: 'Tcp'\n            }\n            {\n              port: 443\n              protocol: 'Tcp'\n            }\n          ]\n          resources: {\n            requests: {\n              cpu: 2\n              memoryInGB: '2'\n            }\n          }\n        }\n      }\n      {\n        name: 'az-aci-x-002'\n        properties: {\n          command: []\n          environmentVariables: []\n          image: 'mcr.microsoft.com/azuredocs/aci-helloworld'\n          ports: [\n            {\n              port: 8080\n              protocol: 'Tcp'\n            }\n          ]\n          resources: {\n            requests: {\n              cpu: 2\n              memoryInGB: '2'\n            }\n          }\n        }\n      }\n    ]\n    name: 'cicenc001'\n    // Non-required parameters\n    customerManagedKey: {\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n      userAssignedIdentityResourceId: '<userAssignedIdentityResourceId>'\n    }\n    ipAddress: {\n      ports: [\n        {\n          port: 80\n          protocol: 'Tcp'\n        }\n        {\n          port: 443\n          protocol: 'Tcp'\n        }\n      ]\n    }\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n  }", "bicep": "module containerGroup 'br/public:avm/res/container-instance/container-group:0.6' = {\n  name: 'containerGroupDeployment'\n  params: {\n    // Required parameters\n    availabilityZone: -1\n    containers: [\n      {\n        name: 'az-aci-x-001'\n        properties: {\n          command: []\n          environmentVariables: []\n          image: 'mcr.microsoft.com/azuredocs/aci-helloworld'\n          ports: [\n            {\n              port: 80\n              protocol: 'Tcp'\n            }\n            {\n              port: 443\n              protocol: 'Tcp'\n            }\n          ]\n          resources: {\n            requests: {\n              cpu: 2\n              memoryInGB: '2'\n            }\n          }\n        }\n      }\n      {\n        name: 'az-aci-x-002'\n        properties: {\n          command: []\n          environmentVariables: []\n          image: 'mcr.microsoft.com/azuredocs/aci-helloworld'\n          ports: [\n            {\n              port: 8080\n              protocol: 'Tcp'\n            }\n          ]\n          resources: {\n            requests: {\n              cpu: 2\n              memoryInGB: '2'\n            }\n          }\n        }\n      }\n    ]\n    name: 'cicenc001'\n    // Non-required parameters\n    customerManagedKey: {\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n      userAssignedIdentityResourceId: '<userAssignedIdentityResourceId>'\n    }\n    ipAddress: {\n      ports: [\n        {\n          port: 80\n          protocol: 'Tcp'\n        }\n        {\n          port: 443\n          protocol: 'Tcp'\n        }\n      ]\n    }\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n  }\n}"}
{"id": "avm_res_container-instance_container-group_example_3", "source": "avm/res/container-instance/container-group/README.md", "content_to_embed": "Recommended AVM Module for Container Instances Container Groups: Using only defaults and low memory containers - This instance deploys the module with the minimum set of required parameters and with low memory.\nResource Type Path: Microsoft.ContainerInstance/containerGroups\nModule ID: br/public:avm/res/container-instance/container-group:0.6\nParameters:\nparams: {\n    // Required parameters\n    availabilityZone: -1\n    containers: [\n      {\n        name: 'az-aci-x-001'\n        properties: {\n          image: 'mcr.microsoft.com/azuredocs/aci-helloworld'\n          ports: [\n            {\n              port: 443\n              protocol: 'Tcp'\n            }\n          ]\n          resources: {\n            requests: {\n              cpu: 2\n              memoryInGB: '0.5'\n            }\n          }\n        }\n      }\n    ]\n    name: 'ciclow001'\n    // Non-required parameters\n    ipAddress: {\n      ports: [\n        {\n          port: 443\n          protocol: 'Tcp'\n        }\n      ]\n    }\n  }", "bicep": "module containerGroup 'br/public:avm/res/container-instance/container-group:0.6' = {\n  name: 'containerGroupDeployment'\n  params: {\n    // Required parameters\n    availabilityZone: -1\n    containers: [\n      {\n        name: 'az-aci-x-001'\n        properties: {\n          image: 'mcr.microsoft.com/azuredocs/aci-helloworld'\n          ports: [\n            {\n              port: 443\n              protocol: 'Tcp'\n            }\n          ]\n          resources: {\n            requests: {\n              cpu: 2\n              memoryInGB: '0.5'\n            }\n          }\n        }\n      }\n    ]\n    name: 'ciclow001'\n    // Non-required parameters\n    ipAddress: {\n      ports: [\n        {\n          port: 443\n          protocol: 'Tcp'\n        }\n      ]\n    }\n  }\n}"}
{"id": "avm_res_container-instance_container-group_example_4", "source": "avm/res/container-instance/container-group/README.md", "content_to_embed": "Recommended AVM Module for Container Instances Container Groups: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.ContainerInstance/containerGroups\nModule ID: br/public:avm/res/container-instance/container-group:0.6\nParameters:\nparams: {\n    // Required parameters\n    availabilityZone: '<availabilityZone>'\n    containers: [\n      {\n        name: '<name>'\n        properties: {\n          command: [\n            '-c'\n            '/bin/sh'\n            'node /usr/src/app/index.js & (sleep 10; touch /tmp/ready); wait'\n          ]\n          environmentVariables: [\n            {\n              name: 'CLIENT_ID'\n              value: 'TestClientId'\n            }\n            {\n              name: 'CLIENT_SECRET'\n              secureValue: 'TestSecret'\n            }\n          ]\n          image: 'mcr.microsoft.com/azuredocs/aci-helloworld'\n          ports: [\n            {\n              port: 80\n              protocol: 'Tcp'\n            }\n            {\n              port: 443\n              protocol: 'Tcp'\n            }\n          ]\n          readinessProbe: {\n            exec: {\n              command: [\n                '/tmp/ready'\n                'cat'\n              ]\n            }\n            failureThreshold: 3\n            initialDelaySeconds: 10\n            periodSeconds: 5\n          }\n          resources: {\n            limits: {\n              cpu: 4\n              memoryInGB: '4'\n            }\n            requests: {\n              cpu: 2\n              memoryInGB: '2'\n            }\n          }\n        }\n      }\n      {\n        name: '<name>'\n        properties: {\n          command: []\n          environmentVariables: []\n          image: 'mcr.microsoft.com/azuredocs/aci-helloworld'\n          ports: [\n            {\n              port: 8080\n              protocol: 'Tcp'\n            }\n          ]\n          resources: {\n            requests: {\n              cpu: 2\n              memoryInGB: '2'\n            }\n          }\n        }\n      }\n    ]\n    name: '<name>'\n    // Non-required parameters\n    ipAddress: {\n      ports: [\n        {\n          port: 80\n          protocol: 'Tcp'\n        }\n        {\n          port: 443\n          protocol: 'Tcp'\n        }\n      ]\n    }\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    logAnalytics: {\n      logType: 'ContainerInstanceLogs'\n      workspaceResourceId: '<workspaceResourceId>'\n    }\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module containerGroup 'br/public:avm/res/container-instance/container-group:0.6' = {\n  name: 'containerGroupDeployment'\n  params: {\n    // Required parameters\n    availabilityZone: '<availabilityZone>'\n    containers: [\n      {\n        name: '<name>'\n        properties: {\n          command: [\n            '-c'\n            '/bin/sh'\n            'node /usr/src/app/index.js & (sleep 10; touch /tmp/ready); wait'\n          ]\n          environmentVariables: [\n            {\n              name: 'CLIENT_ID'\n              value: 'TestClientId'\n            }\n            {\n              name: 'CLIENT_SECRET'\n              secureValue: 'TestSecret'\n            }\n          ]\n          image: 'mcr.microsoft.com/azuredocs/aci-helloworld'\n          ports: [\n            {\n              port: 80\n              protocol: 'Tcp'\n            }\n            {\n              port: 443\n              protocol: 'Tcp'\n            }\n          ]\n          readinessProbe: {\n            exec: {\n              command: [\n                '/tmp/ready'\n                'cat'\n              ]\n            }\n            failureThreshold: 3\n            initialDelaySeconds: 10\n            periodSeconds: 5\n          }\n          resources: {\n            limits: {\n              cpu: 4\n              memoryInGB: '4'\n            }\n            requests: {\n              cpu: 2\n              memoryInGB: '2'\n            }\n          }\n        }\n      }\n      {\n        name: '<name>'\n        properties: {\n          command: []\n          environmentVariables: []\n          image: 'mcr.microsoft.com/azuredocs/aci-helloworld'\n          ports: [\n            {\n              port: 8080\n              protocol: 'Tcp'\n            }\n          ]\n          resources: {\n            requests: {\n              cpu: 2\n              memoryInGB: '2'\n            }\n          }\n        }\n      }\n    ]\n    name: '<name>'\n    // Non-required parameters\n    ipAddress: {\n      ports: [\n        {\n          port: 80\n          protocol: 'Tcp'\n        }\n        {\n          port: 443\n          protocol: 'Tcp'\n        }\n      ]\n    }\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    logAnalytics: {\n      logType: 'ContainerInstanceLogs'\n      workspaceResourceId: '<workspaceResourceId>'\n    }\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_container-instance_container-group_example_5", "source": "avm/res/container-instance/container-group/README.md", "content_to_embed": "Recommended AVM Module for Container Instances Container Groups: Using private network - This instance deploys the module within a virtual network.\nResource Type Path: Microsoft.ContainerInstance/containerGroups\nModule ID: br/public:avm/res/container-instance/container-group:0.6\nParameters:\nparams: {\n    // Required parameters\n    availabilityZone: -1\n    containers: [\n      {\n        name: 'az-aci-x-001'\n        properties: {\n          command: []\n          environmentVariables: []\n          image: 'mcr.microsoft.com/azuredocs/aci-helloworld'\n          ports: [\n            {\n              port: 80\n              protocol: 'Tcp'\n            }\n            {\n              port: 443\n              protocol: 'Tcp'\n            }\n          ]\n          resources: {\n            requests: {\n              cpu: 2\n              memoryInGB: '4'\n            }\n          }\n        }\n      }\n      {\n        name: 'az-aci-x-002'\n        properties: {\n          command: []\n          environmentVariables: []\n          image: 'mcr.microsoft.com/azuredocs/aci-helloworld'\n          ports: [\n            {\n              port: 8080\n              protocol: 'Tcp'\n            }\n          ]\n          resources: {\n            requests: {\n              cpu: 2\n              memoryInGB: '2'\n            }\n          }\n        }\n      }\n    ]\n    name: 'cicgprivate001'\n    // Non-required parameters\n    ipAddress: {\n      ports: [\n        {\n          port: 80\n          protocol: 'Tcp'\n        }\n        {\n          port: 443\n          protocol: 'Tcp'\n        }\n        {\n          port: 8080\n          protocol: 'Tcp'\n        }\n      ]\n      type: 'Private'\n    }\n    subnets: [\n      {\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n  }", "bicep": "module containerGroup 'br/public:avm/res/container-instance/container-group:0.6' = {\n  name: 'containerGroupDeployment'\n  params: {\n    // Required parameters\n    availabilityZone: -1\n    containers: [\n      {\n        name: 'az-aci-x-001'\n        properties: {\n          command: []\n          environmentVariables: []\n          image: 'mcr.microsoft.com/azuredocs/aci-helloworld'\n          ports: [\n            {\n              port: 80\n              protocol: 'Tcp'\n            }\n            {\n              port: 443\n              protocol: 'Tcp'\n            }\n          ]\n          resources: {\n            requests: {\n              cpu: 2\n              memoryInGB: '4'\n            }\n          }\n        }\n      }\n      {\n        name: 'az-aci-x-002'\n        properties: {\n          command: []\n          environmentVariables: []\n          image: 'mcr.microsoft.com/azuredocs/aci-helloworld'\n          ports: [\n            {\n              port: 8080\n              protocol: 'Tcp'\n            }\n          ]\n          resources: {\n            requests: {\n              cpu: 2\n              memoryInGB: '2'\n            }\n          }\n        }\n      }\n    ]\n    name: 'cicgprivate001'\n    // Non-required parameters\n    ipAddress: {\n      ports: [\n        {\n          port: 80\n          protocol: 'Tcp'\n        }\n        {\n          port: 443\n          protocol: 'Tcp'\n        }\n        {\n          port: 8080\n          protocol: 'Tcp'\n        }\n      ]\n      type: 'Private'\n    }\n    subnets: [\n      {\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n  }\n}"}
{"id": "avm_res_container-instance_container-group_example_6", "source": "avm/res/container-instance/container-group/README.md", "content_to_embed": "Recommended AVM Module for Container Instances Container Groups: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.ContainerInstance/containerGroups\nModule ID: br/public:avm/res/container-instance/container-group:0.6\nParameters:\nparams: {\n    // Required parameters\n    availabilityZone: 1\n    containers: [\n      {\n        name: 'az-aci-x-001'\n        properties: {\n          command: []\n          environmentVariables: []\n          image: 'mcr.microsoft.com/azuredocs/aci-helloworld'\n          ports: [\n            {\n              port: 80\n              protocol: 'Tcp'\n            }\n            {\n              port: 443\n              protocol: 'Tcp'\n            }\n          ]\n          resources: {\n            requests: {\n              cpu: 2\n              memoryInGB: '2'\n            }\n          }\n        }\n      }\n      {\n        name: 'az-aci-x-002'\n        properties: {\n          command: []\n          environmentVariables: []\n          image: 'mcr.microsoft.com/azuredocs/aci-helloworld'\n          ports: [\n            {\n              port: 8080\n              protocol: 'Tcp'\n            }\n          ]\n          resources: {\n            requests: {\n              cpu: 2\n              memoryInGB: '2'\n            }\n          }\n        }\n      }\n    ]\n    name: 'cicgwaf001'\n    // Non-required parameters\n    ipAddress: {\n      ports: [\n        {\n          port: 80\n          protocol: 'Tcp'\n        }\n        {\n          port: 443\n          protocol: 'Tcp'\n        }\n      ]\n    }\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module containerGroup 'br/public:avm/res/container-instance/container-group:0.6' = {\n  name: 'containerGroupDeployment'\n  params: {\n    // Required parameters\n    availabilityZone: 1\n    containers: [\n      {\n        name: 'az-aci-x-001'\n        properties: {\n          command: []\n          environmentVariables: []\n          image: 'mcr.microsoft.com/azuredocs/aci-helloworld'\n          ports: [\n            {\n              port: 80\n              protocol: 'Tcp'\n            }\n            {\n              port: 443\n              protocol: 'Tcp'\n            }\n          ]\n          resources: {\n            requests: {\n              cpu: 2\n              memoryInGB: '2'\n            }\n          }\n        }\n      }\n      {\n        name: 'az-aci-x-002'\n        properties: {\n          command: []\n          environmentVariables: []\n          image: 'mcr.microsoft.com/azuredocs/aci-helloworld'\n          ports: [\n            {\n              port: 8080\n              protocol: 'Tcp'\n            }\n          ]\n          resources: {\n            requests: {\n              cpu: 2\n              memoryInGB: '2'\n            }\n          }\n        }\n      }\n    ]\n    name: 'cicgwaf001'\n    // Non-required parameters\n    ipAddress: {\n      ports: [\n        {\n          port: 80\n          protocol: 'Tcp'\n        }\n        {\n          port: 443\n          protocol: 'Tcp'\n        }\n      ]\n    }\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_container-registry_registry_example_1", "source": "avm/res/container-registry/registry/README.md", "content_to_embed": "Recommended AVM Module for Azure Container Registries (ACR): Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.ContainerRegistry/registries\nModule ID: br/public:avm/res/container-registry/registry:0.9\nParameters:\nparams: {\n    // Required parameters\n    name: 'crrmin001'\n    // Non-required parameters\n    acrSku: 'Standard'\n    location: '<location>'\n  }", "bicep": "module registry 'br/public:avm/res/container-registry/registry:0.9' = {\n  name: 'registryDeployment'\n  params: {\n    // Required parameters\n    name: 'crrmin001'\n    // Non-required parameters\n    acrSku: 'Standard'\n    location: '<location>'\n  }\n}"}
{"id": "avm_res_container-registry_registry_example_2", "source": "avm/res/container-registry/registry/README.md", "content_to_embed": "Recommended AVM Module for Azure Container Registries (ACR): Using encryption with Customer-Managed-Key - This instance deploys the module using Customer-Managed-Keys using a User-Assigned Identity to access the Customer-Managed-Key secret.\nResource Type Path: Microsoft.ContainerRegistry/registries\nModule ID: br/public:avm/res/container-registry/registry:0.9\nParameters:\nparams: {\n    // Required parameters\n    name: 'crrencr001'\n    // Non-required parameters\n    acrSku: 'Premium'\n    customerManagedKey: {\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n      userAssignedIdentityResourceId: '<userAssignedIdentityResourceId>'\n    }\n    location: '<location>'\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    publicNetworkAccess: 'Disabled'\n  }", "bicep": "module registry 'br/public:avm/res/container-registry/registry:0.9' = {\n  name: 'registryDeployment'\n  params: {\n    // Required parameters\n    name: 'crrencr001'\n    // Non-required parameters\n    acrSku: 'Premium'\n    customerManagedKey: {\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n      userAssignedIdentityResourceId: '<userAssignedIdentityResourceId>'\n    }\n    location: '<location>'\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    publicNetworkAccess: 'Disabled'\n  }\n}"}
{"id": "avm_res_container-registry_registry_example_3", "source": "avm/res/container-registry/registry/README.md", "content_to_embed": "Recommended AVM Module for Azure Container Registries (ACR): Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.ContainerRegistry/registries\nModule ID: br/public:avm/res/container-registry/registry:0.9\nParameters:\nparams: {\n    // Required parameters\n    name: 'crrmax001'\n    // Non-required parameters\n    acrAdminUserEnabled: false\n    acrSku: 'Premium'\n    azureADAuthenticationAsArmPolicyStatus: 'enabled'\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    exportPolicyStatus: 'enabled'\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    networkRuleSetIpRules: [\n      {\n        action: 'Allow'\n        value: '40.74.28.0/23'\n      }\n    ]\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    quarantinePolicyStatus: 'enabled'\n    replications: [\n      {\n        location: '<location>'\n        name: '<name>'\n      }\n    ]\n    roleAssignments: [\n      {\n        name: '8f8b1c39-827f-43e6-a457-98bb15b5dbdf'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    softDeletePolicyDays: 7\n    softDeletePolicyStatus: 'disabled'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    trustPolicyStatus: 'enabled'\n    webhooks: [\n      {\n        name: 'acrx001webhook'\n        serviceUri: 'https://www.contoso.com/webhook'\n      }\n    ]\n  }", "bicep": "module registry 'br/public:avm/res/container-registry/registry:0.9' = {\n  name: 'registryDeployment'\n  params: {\n    // Required parameters\n    name: 'crrmax001'\n    // Non-required parameters\n    acrAdminUserEnabled: false\n    acrSku: 'Premium'\n    azureADAuthenticationAsArmPolicyStatus: 'enabled'\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    exportPolicyStatus: 'enabled'\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    networkRuleSetIpRules: [\n      {\n        action: 'Allow'\n        value: '40.74.28.0/23'\n      }\n    ]\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    quarantinePolicyStatus: 'enabled'\n    replications: [\n      {\n        location: '<location>'\n        name: '<name>'\n      }\n    ]\n    roleAssignments: [\n      {\n        name: '8f8b1c39-827f-43e6-a457-98bb15b5dbdf'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    softDeletePolicyDays: 7\n    softDeletePolicyStatus: 'disabled'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    trustPolicyStatus: 'enabled'\n    webhooks: [\n      {\n        name: 'acrx001webhook'\n        serviceUri: 'https://www.contoso.com/webhook'\n      }\n    ]\n  }\n}"}
{"id": "avm_res_container-registry_registry_example_4", "source": "avm/res/container-registry/registry/README.md", "content_to_embed": "Recommended AVM Module for Azure Container Registries (ACR): Using `scopeMaps` in parameter set - This instance deploys the module with the scopeMaps feature.\nResource Type Path: Microsoft.ContainerRegistry/registries\nModule ID: br/public:avm/res/container-registry/registry:0.9\nParameters:\nparams: {\n    // Required parameters\n    name: 'crrs001'\n    // Non-required parameters\n    acrSku: 'Standard'\n    location: '<location>'\n    scopeMaps: [\n      {\n        actions: [\n          'repositories/*/content/read'\n        ]\n        description: 'This is a test for scopeMaps feature.'\n        name: 'testscopemap'\n      }\n    ]\n  }", "bicep": "module registry 'br/public:avm/res/container-registry/registry:0.9' = {\n  name: 'registryDeployment'\n  params: {\n    // Required parameters\n    name: 'crrs001'\n    // Non-required parameters\n    acrSku: 'Standard'\n    location: '<location>'\n    scopeMaps: [\n      {\n        actions: [\n          'repositories/*/content/read'\n        ]\n        description: 'This is a test for scopeMaps feature.'\n        name: 'testscopemap'\n      }\n    ]\n  }\n}"}
{"id": "avm_res_container-registry_registry_example_5", "source": "avm/res/container-registry/registry/README.md", "content_to_embed": "Recommended AVM Module for Azure Container Registries (ACR): WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.ContainerRegistry/registries\nModule ID: br/public:avm/res/container-registry/registry:0.9\nParameters:\nparams: {\n    // Required parameters\n    name: 'crrwaf001'\n    // Non-required parameters\n    acrAdminUserEnabled: false\n    acrSku: 'Premium'\n    azureADAuthenticationAsArmPolicyStatus: 'enabled'\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    exportPolicyStatus: 'enabled'\n    location: '<location>'\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    quarantinePolicyStatus: 'enabled'\n    replications: [\n      {\n        location: '<location>'\n        name: '<name>'\n      }\n    ]\n    softDeletePolicyDays: 7\n    softDeletePolicyStatus: 'disabled'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    trustPolicyStatus: 'enabled'\n  }", "bicep": "module registry 'br/public:avm/res/container-registry/registry:0.9' = {\n  name: 'registryDeployment'\n  params: {\n    // Required parameters\n    name: 'crrwaf001'\n    // Non-required parameters\n    acrAdminUserEnabled: false\n    acrSku: 'Premium'\n    azureADAuthenticationAsArmPolicyStatus: 'enabled'\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    exportPolicyStatus: 'enabled'\n    location: '<location>'\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    quarantinePolicyStatus: 'enabled'\n    replications: [\n      {\n        location: '<location>'\n        name: '<name>'\n      }\n    ]\n    softDeletePolicyDays: 7\n    softDeletePolicyStatus: 'disabled'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    trustPolicyStatus: 'enabled'\n  }\n}"}
{"id": "avm_res_container-service_managed-cluster_example_1", "source": "avm/res/container-service/managed-cluster/README.md", "content_to_embed": "Recommended AVM Module for Azure Kubernetes Service (AKS) Managed Clusters: Using only defaults and use AKS Automatic mode (PREVIEW) - This instance deploys the module with the set of automatic parameters.'\nResource Type Path: Microsoft.ContainerService/managedClusters\nModule ID: br/public:avm/res/container-service/managed-cluster:0.11\nParameters:\nparams: {\n    // Required parameters\n    name: 'csauto001'\n    primaryAgentPoolProfiles: [\n      {\n        count: 1\n        mode: 'System'\n        name: 'systempool'\n        vmSize: 'Standard_DS4_v2'\n      }\n    ]\n    // Non-required parameters\n    aadProfile: {\n      aadProfileEnableAzureRBAC: true\n      aadProfileManaged: true\n    }\n    autoNodeOsUpgradeProfileUpgradeChannel: 'NodeImage'\n    defaultIngressControllerType: 'Internal'\n    disableLocalAccounts: true\n    enableKeyvaultSecretsProvider: true\n    enableSecretRotation: true\n    kedaAddon: true\n    maintenanceConfigurations: [\n      {\n        maintenanceWindow: {\n          durationHours: 4\n          schedule: {\n            absoluteMonthly: '<absoluteMonthly>'\n            daily: '<daily>'\n            relativeMonthly: '<relativeMonthly>'\n            weekly: {\n              dayOfWeek: 'Sunday'\n              intervalWeeks: 1\n            }\n          }\n          startDate: '2024-07-03'\n          startTime: '00:00'\n          utcOffset: '+00:00'\n        }\n        name: 'aksManagedAutoUpgradeSchedule'\n      }\n    ]\n    managedIdentities: {\n      systemAssigned: true\n    }\n    nodeProvisioningProfileMode: 'Auto'\n    nodeResourceGroupProfile: {\n      restrictionLevel: 'ReadOnly'\n    }\n    outboundType: 'managedNATGateway'\n    publicNetworkAccess: 'Enabled'\n    skuName: 'Automatic'\n    vpaAddon: true\n    webApplicationRoutingEnabled: true\n  }", "bicep": "module managedCluster 'br/public:avm/res/container-service/managed-cluster:0.11' = {\n  name: 'managedClusterDeployment'\n  params: {\n    // Required parameters\n    name: 'csauto001'\n    primaryAgentPoolProfiles: [\n      {\n        count: 1\n        mode: 'System'\n        name: 'systempool'\n        vmSize: 'Standard_DS4_v2'\n      }\n    ]\n    // Non-required parameters\n    aadProfile: {\n      aadProfileEnableAzureRBAC: true\n      aadProfileManaged: true\n    }\n    autoNodeOsUpgradeProfileUpgradeChannel: 'NodeImage'\n    defaultIngressControllerType: 'Internal'\n    disableLocalAccounts: true\n    enableKeyvaultSecretsProvider: true\n    enableSecretRotation: true\n    kedaAddon: true\n    maintenanceConfigurations: [\n      {\n        maintenanceWindow: {\n          durationHours: 4\n          schedule: {\n            absoluteMonthly: '<absoluteMonthly>'\n            daily: '<daily>'\n            relativeMonthly: '<relativeMonthly>'\n            weekly: {\n              dayOfWeek: 'Sunday'\n              intervalWeeks: 1\n            }\n          }\n          startDate: '2024-07-03'\n          startTime: '00:00'\n          utcOffset: '+00:00'\n        }\n        name: 'aksManagedAutoUpgradeSchedule'\n      }\n    ]\n    managedIdentities: {\n      systemAssigned: true\n    }\n    nodeProvisioningProfileMode: 'Auto'\n    nodeResourceGroupProfile: {\n      restrictionLevel: 'ReadOnly'\n    }\n    outboundType: 'managedNATGateway'\n    publicNetworkAccess: 'Enabled'\n    skuName: 'Automatic'\n    vpaAddon: true\n    webApplicationRoutingEnabled: true\n  }\n}"}
{"id": "avm_res_container-service_managed-cluster_example_2", "source": "avm/res/container-service/managed-cluster/README.md", "content_to_embed": "Recommended AVM Module for Azure Kubernetes Service (AKS) Managed Clusters: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.ContainerService/managedClusters\nModule ID: br/public:avm/res/container-service/managed-cluster:0.11\nParameters:\nparams: {\n    // Required parameters\n    name: 'csmin001'\n    primaryAgentPoolProfiles: [\n      {\n        count: 3\n        mode: 'System'\n        name: 'systempool'\n        vmSize: 'Standard_DS4_v2'\n      }\n    ]\n    // Non-required parameters\n    aadProfile: {\n      aadProfileEnableAzureRBAC: true\n      aadProfileManaged: true\n    }\n    managedIdentities: {\n      systemAssigned: true\n    }\n  }", "bicep": "module managedCluster 'br/public:avm/res/container-service/managed-cluster:0.11' = {\n  name: 'managedClusterDeployment'\n  params: {\n    // Required parameters\n    name: 'csmin001'\n    primaryAgentPoolProfiles: [\n      {\n        count: 3\n        mode: 'System'\n        name: 'systempool'\n        vmSize: 'Standard_DS4_v2'\n      }\n    ]\n    // Non-required parameters\n    aadProfile: {\n      aadProfileEnableAzureRBAC: true\n      aadProfileManaged: true\n    }\n    managedIdentities: {\n      systemAssigned: true\n    }\n  }\n}"}
{"id": "avm_res_container-service_managed-cluster_example_3", "source": "avm/res/container-service/managed-cluster/README.md", "content_to_embed": "Recommended AVM Module for Azure Kubernetes Service (AKS) Managed Clusters: Enabling encryption via a Disk Encryption Set (DES) using Customer-Managed-Keys (CMK) and a User-Assigned Identity - This instance deploys the module with encryption-at-rest using a Disk Encryption Set (DES) secured by Customer-Managed Keys (CMK), and leveraging a User-Assigned Managed Identity to access the key.\nResource Type Path: Microsoft.ContainerService/managedClusters\nModule ID: br/public:avm/res/container-service/managed-cluster:0.11\nParameters:\nparams: {\n    // Required parameters\n    name: 'csmscmk001'\n    primaryAgentPoolProfiles: [\n      {\n        count: 3\n        mode: 'System'\n        name: 'systempool'\n        vmSize: 'Standard_DS4_v2'\n      }\n    ]\n    // Non-required parameters\n    aadProfile: {\n      aadProfileEnableAzureRBAC: true\n      aadProfileManaged: true\n    }\n    diskEncryptionSetResourceId: '<diskEncryptionSetResourceId>'\n    managedIdentities: {\n      systemAssigned: true\n    }\n  }", "bicep": "module managedCluster 'br/public:avm/res/container-service/managed-cluster:0.11' = {\n  name: 'managedClusterDeployment'\n  params: {\n    // Required parameters\n    name: 'csmscmk001'\n    primaryAgentPoolProfiles: [\n      {\n        count: 3\n        mode: 'System'\n        name: 'systempool'\n        vmSize: 'Standard_DS4_v2'\n      }\n    ]\n    // Non-required parameters\n    aadProfile: {\n      aadProfileEnableAzureRBAC: true\n      aadProfileManaged: true\n    }\n    diskEncryptionSetResourceId: '<diskEncryptionSetResourceId>'\n    managedIdentities: {\n      systemAssigned: true\n    }\n  }\n}"}
{"id": "avm_res_container-service_managed-cluster_example_4", "source": "avm/res/container-service/managed-cluster/README.md", "content_to_embed": "Recommended AVM Module for Azure Kubernetes Service (AKS) Managed Clusters: Using Istio Service Mesh add-on - This instance deploys the module with Istio Service Mesh add-on and plug a Certificate Authority from Key Vault.\nResource Type Path: Microsoft.ContainerService/managedClusters\nModule ID: br/public:avm/res/container-service/managed-cluster:0.11\nParameters:\nparams: {\n    // Required parameters\n    name: 'csist001'\n    primaryAgentPoolProfiles: [\n      {\n        count: 2\n        mode: 'System'\n        name: 'systempool'\n        vmSize: 'Standard_DS4_v2'\n      }\n    ]\n    // Non-required parameters\n    aadProfile: {\n      aadProfileEnableAzureRBAC: true\n      aadProfileManaged: true\n    }\n    enableKeyvaultSecretsProvider: true\n    enableSecretRotation: true\n    istioServiceMeshCertificateAuthority: {\n      certChainObjectName: '<certChainObjectName>'\n      certObjectName: '<certObjectName>'\n      keyObjectName: '<keyObjectName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n      rootCertObjectName: '<rootCertObjectName>'\n    }\n    istioServiceMeshEnabled: true\n    istioServiceMeshInternalIngressGatewayEnabled: true\n    istioServiceMeshRevisions: [\n      'asm-1-27'\n    ]\n    location: '<location>'\n    managedIdentities: {\n      systemAssigned: true\n    }\n  }", "bicep": "module managedCluster 'br/public:avm/res/container-service/managed-cluster:0.11' = {\n  name: 'managedClusterDeployment'\n  params: {\n    // Required parameters\n    name: 'csist001'\n    primaryAgentPoolProfiles: [\n      {\n        count: 2\n        mode: 'System'\n        name: 'systempool'\n        vmSize: 'Standard_DS4_v2'\n      }\n    ]\n    // Non-required parameters\n    aadProfile: {\n      aadProfileEnableAzureRBAC: true\n      aadProfileManaged: true\n    }\n    enableKeyvaultSecretsProvider: true\n    enableSecretRotation: true\n    istioServiceMeshCertificateAuthority: {\n      certChainObjectName: '<certChainObjectName>'\n      certObjectName: '<certObjectName>'\n      keyObjectName: '<keyObjectName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n      rootCertObjectName: '<rootCertObjectName>'\n    }\n    istioServiceMeshEnabled: true\n    istioServiceMeshInternalIngressGatewayEnabled: true\n    istioServiceMeshRevisions: [\n      'asm-1-27'\n    ]\n    location: '<location>'\n    managedIdentities: {\n      systemAssigned: true\n    }\n  }\n}"}
{"id": "avm_res_container-service_managed-cluster_example_5", "source": "avm/res/container-service/managed-cluster/README.md", "content_to_embed": "Recommended AVM Module for Azure Kubernetes Service (AKS) Managed Clusters: Using Kubenet Network Plugin. - This instance deploys the module with Kubenet network plugin .\nResource Type Path: Microsoft.ContainerService/managedClusters\nModule ID: br/public:avm/res/container-service/managed-cluster:0.11\nParameters:\nparams: {\n    // Required parameters\n    name: 'csmkube001'\n    primaryAgentPoolProfiles: [\n      {\n        availabilityZones: [\n          3\n        ]\n        count: 1\n        enableAutoScaling: true\n        maxCount: 3\n        maxPods: 30\n        minCount: 1\n        mode: 'System'\n        name: 'systempool'\n        nodeTaints: [\n          'CriticalAddonsOnly=true:NoSchedule'\n        ]\n        osDiskSizeGB: 0\n        osType: 'Linux'\n        type: 'VirtualMachineScaleSets'\n        vmSize: 'Standard_DS4_v2'\n      }\n    ]\n    // Non-required parameters\n    aadProfile: {\n      aadProfileEnableAzureRBAC: true\n      aadProfileManaged: true\n    }\n    agentPools: [\n      {\n        availabilityZones: [\n          3\n        ]\n        count: 2\n        enableAutoScaling: true\n        maxCount: 3\n        maxPods: 30\n        minCount: 1\n        minPods: 2\n        mode: 'User'\n        name: 'userpool1'\n        nodeLabels: {}\n        osDiskSizeGB: 128\n        osType: 'Linux'\n        scaleSetEvictionPolicy: 'Delete'\n        scaleSetPriority: 'Regular'\n        type: 'VirtualMachineScaleSets'\n        vmSize: 'Standard_DS4_v2'\n      }\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    networkPlugin: 'kubenet'\n    roleAssignments: [\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module managedCluster 'br/public:avm/res/container-service/managed-cluster:0.11' = {\n  name: 'managedClusterDeployment'\n  params: {\n    // Required parameters\n    name: 'csmkube001'\n    primaryAgentPoolProfiles: [\n      {\n        availabilityZones: [\n          3\n        ]\n        count: 1\n        enableAutoScaling: true\n        maxCount: 3\n        maxPods: 30\n        minCount: 1\n        mode: 'System'\n        name: 'systempool'\n        nodeTaints: [\n          'CriticalAddonsOnly=true:NoSchedule'\n        ]\n        osDiskSizeGB: 0\n        osType: 'Linux'\n        type: 'VirtualMachineScaleSets'\n        vmSize: 'Standard_DS4_v2'\n      }\n    ]\n    // Non-required parameters\n    aadProfile: {\n      aadProfileEnableAzureRBAC: true\n      aadProfileManaged: true\n    }\n    agentPools: [\n      {\n        availabilityZones: [\n          3\n        ]\n        count: 2\n        enableAutoScaling: true\n        maxCount: 3\n        maxPods: 30\n        minCount: 1\n        minPods: 2\n        mode: 'User'\n        name: 'userpool1'\n        nodeLabels: {}\n        osDiskSizeGB: 128\n        osType: 'Linux'\n        scaleSetEvictionPolicy: 'Delete'\n        scaleSetPriority: 'Regular'\n        type: 'VirtualMachineScaleSets'\n        vmSize: 'Standard_DS4_v2'\n      }\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    networkPlugin: 'kubenet'\n    roleAssignments: [\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_container-service_managed-cluster_example_6", "source": "avm/res/container-service/managed-cluster/README.md", "content_to_embed": "Recommended AVM Module for Azure Kubernetes Service (AKS) Managed Clusters: Using Private Cluster. - This instance deploys the module with a private cluster instance.\nResource Type Path: Microsoft.ContainerService/managedClusters\nModule ID: br/public:avm/res/container-service/managed-cluster:0.11\nParameters:\nparams: {\n    // Required parameters\n    name: 'csmpriv001'\n    primaryAgentPoolProfiles: [\n      {\n        availabilityZones: [\n          3\n        ]\n        count: 1\n        enableAutoScaling: true\n        maxCount: 3\n        maxPods: 30\n        minCount: 1\n        mode: 'System'\n        name: 'systempool'\n        nodeTaints: [\n          'CriticalAddonsOnly=true:NoSchedule'\n        ]\n        osDiskSizeGB: 0\n        osType: 'Linux'\n        type: 'VirtualMachineScaleSets'\n        vmSize: 'Standard_DS4_v2'\n        vnetSubnetResourceId: '<vnetSubnetResourceId>'\n      }\n    ]\n    // Non-required parameters\n    aadProfile: {\n      aadProfileEnableAzureRBAC: true\n      aadProfileManaged: true\n    }\n    agentPools: [\n      {\n        availabilityZones: [\n          3\n        ]\n        count: 2\n        enableAutoScaling: true\n        maxCount: 3\n        maxPods: 30\n        minCount: 1\n        minPods: 2\n        mode: 'User'\n        name: 'userpool1'\n        nodeLabels: {}\n        osDiskSizeGB: 128\n        osType: 'Linux'\n        scaleSetEvictionPolicy: 'Delete'\n        scaleSetPriority: 'Regular'\n        type: 'VirtualMachineScaleSets'\n        vmSize: 'Standard_DS4_v2'\n        vnetSubnetResourceId: '<vnetSubnetResourceId>'\n      }\n    ]\n    dnsServiceIP: '10.10.200.10'\n    enablePrivateCluster: true\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    networkPlugin: 'azure'\n    privateDNSZone: '<privateDNSZone>'\n    serviceCidr: '10.10.200.0/24'\n    skuTier: 'Standard'\n  }", "bicep": "module managedCluster 'br/public:avm/res/container-service/managed-cluster:0.11' = {\n  name: 'managedClusterDeployment'\n  params: {\n    // Required parameters\n    name: 'csmpriv001'\n    primaryAgentPoolProfiles: [\n      {\n        availabilityZones: [\n          3\n        ]\n        count: 1\n        enableAutoScaling: true\n        maxCount: 3\n        maxPods: 30\n        minCount: 1\n        mode: 'System'\n        name: 'systempool'\n        nodeTaints: [\n          'CriticalAddonsOnly=true:NoSchedule'\n        ]\n        osDiskSizeGB: 0\n        osType: 'Linux'\n        type: 'VirtualMachineScaleSets'\n        vmSize: 'Standard_DS4_v2'\n        vnetSubnetResourceId: '<vnetSubnetResourceId>'\n      }\n    ]\n    // Non-required parameters\n    aadProfile: {\n      aadProfileEnableAzureRBAC: true\n      aadProfileManaged: true\n    }\n    agentPools: [\n      {\n        availabilityZones: [\n          3\n        ]\n        count: 2\n        enableAutoScaling: true\n        maxCount: 3\n        maxPods: 30\n        minCount: 1\n        minPods: 2\n        mode: 'User'\n        name: 'userpool1'\n        nodeLabels: {}\n        osDiskSizeGB: 128\n        osType: 'Linux'\n        scaleSetEvictionPolicy: 'Delete'\n        scaleSetPriority: 'Regular'\n        type: 'VirtualMachineScaleSets'\n        vmSize: 'Standard_DS4_v2'\n        vnetSubnetResourceId: '<vnetSubnetResourceId>'\n      }\n    ]\n    dnsServiceIP: '10.10.200.10'\n    enablePrivateCluster: true\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    networkPlugin: 'azure'\n    privateDNSZone: '<privateDNSZone>'\n    serviceCidr: '10.10.200.0/24'\n    skuTier: 'Standard'\n  }\n}"}
{"id": "avm_res_container-service_managed-cluster_example_7", "source": "avm/res/container-service/managed-cluster/README.md", "content_to_embed": "Recommended AVM Module for Azure Kubernetes Service (AKS) Managed Clusters: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Well-Architected Framework.\nResource Type Path: Microsoft.ContainerService/managedClusters\nModule ID: br/public:avm/res/container-service/managed-cluster:0.11\nParameters:\nparams: {\n    // Required parameters\n    name: 'cswaf001'\n    primaryAgentPoolProfiles: [\n      {\n        availabilityZones: [\n          3\n        ]\n        count: 1\n        enableAutoScaling: true\n        maxCount: 3\n        maxPods: 50\n        minCount: 3\n        mode: 'System'\n        name: 'systempool'\n        nodeTaints: [\n          'CriticalAddonsOnly=true:NoSchedule'\n        ]\n        osDiskSizeGB: 0\n        osType: 'Linux'\n        type: 'VirtualMachineScaleSets'\n        vmSize: 'Standard_DS4_v2'\n        vnetSubnetResourceId: '<vnetSubnetResourceId>'\n      }\n    ]\n    // Non-required parameters\n    aadProfile: {\n      aadProfileEnableAzureRBAC: true\n      aadProfileManaged: true\n    }\n    agentPools: [\n      {\n        availabilityZones: [\n          3\n        ]\n        count: 2\n        enableAutoScaling: true\n        maxCount: 3\n        maxPods: 50\n        minCount: 3\n        minPods: 2\n        mode: 'User'\n        name: 'userpool1'\n        nodeLabels: {}\n        osDiskSizeGB: 60\n        osDiskType: 'Ephemeral'\n        osType: 'Linux'\n        scaleSetEvictionPolicy: 'Delete'\n        scaleSetPriority: 'Regular'\n        type: 'VirtualMachineScaleSets'\n        vmSize: 'Standard_DS4_v2'\n        vnetSubnetResourceId: '<vnetSubnetResourceId>'\n      }\n      {\n        availabilityZones: [\n          3\n        ]\n        count: 2\n        enableAutoScaling: true\n        maxCount: 3\n        maxPods: 50\n        minCount: 3\n        minPods: 2\n        mode: 'User'\n        name: 'userpool2'\n        nodeLabels: {}\n        osDiskSizeGB: 60\n        osDiskType: 'Ephemeral'\n        osType: 'Linux'\n        scaleSetEvictionPolicy: 'Delete'\n        scaleSetPriority: 'Regular'\n        type: 'VirtualMachineScaleSets'\n        vmSize: 'Standard_DS4_v2'\n      }\n    ]\n    autoNodeOsUpgradeProfileUpgradeChannel: 'Unmanaged'\n    autoUpgradeProfileUpgradeChannel: 'stable'\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        logCategoriesAndGroups: [\n          {\n            category: 'kube-apiserver'\n          }\n          {\n            category: 'kube-controller-manager'\n          }\n          {\n            category: 'kube-scheduler'\n          }\n          {\n            category: 'cluster-autoscaler'\n          }\n        ]\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    disableLocalAccounts: true\n    dnsServiceIP: '10.10.200.10'\n    enableAzureDefender: true\n    enablePrivateCluster: true\n    maintenanceConfigurations: [\n      {\n        maintenanceWindow: {\n          durationHours: 4\n          schedule: {\n            weekly: {\n              dayOfWeek: 'Sunday'\n              intervalWeeks: 1\n            }\n          }\n          startDate: '2024-07-15'\n          startTime: '00:00'\n          utcOffset: '+00:00'\n        }\n        name: 'aksManagedAutoUpgradeSchedule'\n      }\n      {\n        maintenanceWindow: {\n          durationHours: 4\n          schedule: {\n            weekly: {\n              dayOfWeek: 'Sunday'\n              intervalWeeks: 1\n            }\n          }\n          startDate: '2024-07-15'\n          startTime: '00:00'\n          utcOffset: '+00:00'\n        }\n        name: 'aksManagedNodeOSUpgradeSchedule'\n      }\n    ]\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    monitoringWorkspaceResourceId: '<monitoringWorkspaceResourceId>'\n    networkPlugin: 'azure'\n    networkPolicy: 'azure'\n    omsAgentEnabled: true\n    privateDNSZone: '<privateDNSZone>'\n    serviceCidr: '10.10.200.0/24'\n    skuTier: 'Standard'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module managedCluster 'br/public:avm/res/container-service/managed-cluster:0.11' = {\n  name: 'managedClusterDeployment'\n  params: {\n    // Required parameters\n    name: 'cswaf001'\n    primaryAgentPoolProfiles: [\n      {\n        availabilityZones: [\n          3\n        ]\n        count: 1\n        enableAutoScaling: true\n        maxCount: 3\n        maxPods: 50\n        minCount: 3\n        mode: 'System'\n        name: 'systempool'\n        nodeTaints: [\n          'CriticalAddonsOnly=true:NoSchedule'\n        ]\n        osDiskSizeGB: 0\n        osType: 'Linux'\n        type: 'VirtualMachineScaleSets'\n        vmSize: 'Standard_DS4_v2'\n        vnetSubnetResourceId: '<vnetSubnetResourceId>'\n      }\n    ]\n    // Non-required parameters\n    aadProfile: {\n      aadProfileEnableAzureRBAC: true\n      aadProfileManaged: true\n    }\n    agentPools: [\n      {\n        availabilityZones: [\n          3\n        ]\n        count: 2\n        enableAutoScaling: true\n        maxCount: 3\n        maxPods: 50\n        minCount: 3\n        minPods: 2\n        mode: 'User'\n        name: 'userpool1'\n        nodeLabels: {}\n        osDiskSizeGB: 60\n        osDiskType: 'Ephemeral'\n        osType: 'Linux'\n        scaleSetEvictionPolicy: 'Delete'\n        scaleSetPriority: 'Regular'\n        type: 'VirtualMachineScaleSets'\n        vmSize: 'Standard_DS4_v2'\n        vnetSubnetResourceId: '<vnetSubnetResourceId>'\n      }\n      {\n        availabilityZones: [\n          3\n        ]\n        count: 2\n        enableAutoScaling: true\n        maxCount: 3\n        maxPods: 50\n        minCount: 3\n        minPods: 2\n        mode: 'User'\n        name: 'userpool2'\n        nodeLabels: {}\n        osDiskSizeGB: 60\n        osDiskType: 'Ephemeral'\n        osType: 'Linux'\n        scaleSetEvictionPolicy: 'Delete'\n        scaleSetPriority: 'Regular'\n        type: 'VirtualMachineScaleSets'\n        vmSize: 'Standard_DS4_v2'\n      }\n    ]\n    autoNodeOsUpgradeProfileUpgradeChannel: 'Unmanaged'\n    autoUpgradeProfileUpgradeChannel: 'stable'\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        logCategoriesAndGroups: [\n          {\n            category: 'kube-apiserver'\n          }\n          {\n            category: 'kube-controller-manager'\n          }\n          {\n            category: 'kube-scheduler'\n          }\n          {\n            category: 'cluster-autoscaler'\n          }\n        ]\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    disableLocalAccounts: true\n    dnsServiceIP: '10.10.200.10'\n    enableAzureDefender: true\n    enablePrivateCluster: true\n    maintenanceConfigurations: [\n      {\n        maintenanceWindow: {\n          durationHours: 4\n          schedule: {\n            weekly: {\n              dayOfWeek: 'Sunday'\n              intervalWeeks: 1\n            }\n          }\n          startDate: '2024-07-15'\n          startTime: '00:00'\n          utcOffset: '+00:00'\n        }\n        name: 'aksManagedAutoUpgradeSchedule'\n      }\n      {\n        maintenanceWindow: {\n          durationHours: 4\n          schedule: {\n            weekly: {\n              dayOfWeek: 'Sunday'\n              intervalWeeks: 1\n            }\n          }\n          startDate: '2024-07-15'\n          startTime: '00:00'\n          utcOffset: '+00:00'\n        }\n        name: 'aksManagedNodeOSUpgradeSchedule'\n      }\n    ]\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    monitoringWorkspaceResourceId: '<monitoringWorkspaceResourceId>'\n    networkPlugin: 'azure'\n    networkPolicy: 'azure'\n    omsAgentEnabled: true\n    privateDNSZone: '<privateDNSZone>'\n    serviceCidr: '10.10.200.0/24'\n    skuTier: 'Standard'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_data-factory_factory_example_1", "source": "avm/res/data-factory/factory/README.md", "content_to_embed": "Recommended AVM Module for Data Factories: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.DataFactory/factories\nModule ID: br/public:avm/res/data-factory/factory:0.10\nParameters:\nparams: {\n    // Required parameters\n    name: 'dffmin001'\n    // Non-required parameters\n    location: '<location>'\n  }", "bicep": "module factory 'br/public:avm/res/data-factory/factory:0.10' = {\n  name: 'factoryDeployment'\n  params: {\n    // Required parameters\n    name: 'dffmin001'\n    // Non-required parameters\n    location: '<location>'\n  }\n}"}
{"id": "avm_res_data-factory_factory_example_2", "source": "avm/res/data-factory/factory/README.md", "content_to_embed": "Recommended AVM Module for Data Factories: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.DataFactory/factories\nModule ID: br/public:avm/res/data-factory/factory:0.10\nParameters:\nparams: {\n    // Required parameters\n    name: 'dffmax001'\n    // Non-required parameters\n    customerManagedKey: {\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n      userAssignedIdentityResourceId: '<userAssignedIdentityResourceId>'\n    }\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    gitConfigureLater: true\n    globalParameters: {\n      testParameter1: {\n        type: 'String'\n        value: 'testValue1'\n      }\n    }\n    integrationRuntimes: [\n      {\n        name: 'TestRuntime'\n        type: 'SelfHosted'\n      }\n      {\n        managedVirtualNetworkName: 'default'\n        name: 'IRvnetManaged'\n        type: 'Managed'\n        typeProperties: {\n          computeProperties: {\n            location: 'AutoResolve'\n          }\n        }\n      }\n    ]\n    linkedServices: [\n      {\n        name: 'SQLdbLinkedservice'\n        type: 'AzureSQLDatabase'\n        typeProperties: {\n          connectionString: '<connectionString>'\n        }\n      }\n      {\n        description: 'This is a description for the linked service using the IRvnetManaged integration runtime.'\n        integrationRuntimeName: 'IRvnetManaged'\n        name: 'LakeStoreLinkedservice'\n        parameters: {\n          storageAccountName: {\n            defaultValue: 'madeupstorageaccname'\n            type: 'String'\n          }\n        }\n        type: 'AzureBlobFS'\n        typeProperties: {\n          url: '<url>'\n        }\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    managedPrivateEndpoints: [\n      {\n        fqdns: [\n          '<storageAccountBlobEndpoint>'\n        ]\n        groupId: 'blob'\n        name: '<name>'\n        privateLinkResourceId: '<privateLinkResourceId>'\n      }\n    ]\n    managedVirtualNetworkName: 'default'\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'dataFactory'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          application: 'AVM'\n          'hidden-title': 'This is visible in the resource name'\n        }\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'portal'\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    roleAssignments: [\n      {\n        name: '12093237-f40a-4f36-868f-accbeebf540c'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module factory 'br/public:avm/res/data-factory/factory:0.10' = {\n  name: 'factoryDeployment'\n  params: {\n    // Required parameters\n    name: 'dffmax001'\n    // Non-required parameters\n    customerManagedKey: {\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n      userAssignedIdentityResourceId: '<userAssignedIdentityResourceId>'\n    }\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    gitConfigureLater: true\n    globalParameters: {\n      testParameter1: {\n        type: 'String'\n        value: 'testValue1'\n      }\n    }\n    integrationRuntimes: [\n      {\n        name: 'TestRuntime'\n        type: 'SelfHosted'\n      }\n      {\n        managedVirtualNetworkName: 'default'\n        name: 'IRvnetManaged'\n        type: 'Managed'\n        typeProperties: {\n          computeProperties: {\n            location: 'AutoResolve'\n          }\n        }\n      }\n    ]\n    linkedServices: [\n      {\n        name: 'SQLdbLinkedservice'\n        type: 'AzureSQLDatabase'\n        typeProperties: {\n          connectionString: '<connectionString>'\n        }\n      }\n      {\n        description: 'This is a description for the linked service using the IRvnetManaged integration runtime.'\n        integrationRuntimeName: 'IRvnetManaged'\n        name: 'LakeStoreLinkedservice'\n        parameters: {\n          storageAccountName: {\n            defaultValue: 'madeupstorageaccname'\n            type: 'String'\n          }\n        }\n        type: 'AzureBlobFS'\n        typeProperties: {\n          url: '<url>'\n        }\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    managedPrivateEndpoints: [\n      {\n        fqdns: [\n          '<storageAccountBlobEndpoint>'\n        ]\n        groupId: 'blob'\n        name: '<name>'\n        privateLinkResourceId: '<privateLinkResourceId>'\n      }\n    ]\n    managedVirtualNetworkName: 'default'\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'dataFactory'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          application: 'AVM'\n          'hidden-title': 'This is visible in the resource name'\n        }\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'portal'\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    roleAssignments: [\n      {\n        name: '12093237-f40a-4f36-868f-accbeebf540c'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_data-factory_factory_example_3", "source": "avm/res/data-factory/factory/README.md", "content_to_embed": "Recommended AVM Module for Data Factories: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.DataFactory/factories\nModule ID: br/public:avm/res/data-factory/factory:0.10\nParameters:\nparams: {\n    // Required parameters\n    name: 'dffwaf001'\n    // Non-required parameters\n    customerManagedKey: {\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n      userAssignedIdentityResourceId: '<userAssignedIdentityResourceId>'\n    }\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        logCategoriesAndGroups: [\n          {\n            categoryGroup: 'allLogs'\n          }\n        ]\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'waf-aligned-diagnostics'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    gitConfigureLater: true\n    integrationRuntimes: [\n      {\n        integrationRuntimeCustomDescription: 'WAF-aligned self-hosted integration runtime with enhanced security'\n        name: 'WafAlignedRuntime'\n        type: 'SelfHosted'\n      }\n    ]\n    location: '<location>'\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'dataFactory'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          Role: 'DeploymentValidation'\n        }\n      }\n    ]\n    publicNetworkAccess: 'Disabled'\n    tags: {\n      'Backup-Required': 'No'\n      'Compliance-Required': 'Yes'\n      'Cost-Center': 'IT-DataPlatform'\n      'Data-Classification': 'Internal'\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n      'WAF-Pillar': 'Security-Reliability-Cost-OperationalExcellence'\n    }\n  }", "bicep": "module factory 'br/public:avm/res/data-factory/factory:0.10' = {\n  name: 'factoryDeployment'\n  params: {\n    // Required parameters\n    name: 'dffwaf001'\n    // Non-required parameters\n    customerManagedKey: {\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n      userAssignedIdentityResourceId: '<userAssignedIdentityResourceId>'\n    }\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        logCategoriesAndGroups: [\n          {\n            categoryGroup: 'allLogs'\n          }\n        ]\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'waf-aligned-diagnostics'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    gitConfigureLater: true\n    integrationRuntimes: [\n      {\n        integrationRuntimeCustomDescription: 'WAF-aligned self-hosted integration runtime with enhanced security'\n        name: 'WafAlignedRuntime'\n        type: 'SelfHosted'\n      }\n    ]\n    location: '<location>'\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'dataFactory'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          Role: 'DeploymentValidation'\n        }\n      }\n    ]\n    publicNetworkAccess: 'Disabled'\n    tags: {\n      'Backup-Required': 'No'\n      'Compliance-Required': 'Yes'\n      'Cost-Center': 'IT-DataPlatform'\n      'Data-Classification': 'Internal'\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n      'WAF-Pillar': 'Security-Reliability-Cost-OperationalExcellence'\n    }\n  }\n}"}
{"id": "avm_res_data-protection_backup-vault_example_1", "source": "avm/res/data-protection/backup-vault/README.md", "content_to_embed": "Recommended AVM Module for Data Protection Backup Vaults: Using Customer-Managed-Keys with User-Assigned identity - This instance deploys the module using Customer-Managed-Keys using a User-Assigned Identity to access the Customer-Managed-Key secret. Please note that enabling CMK with User-Assigned Managed Identity in currently in preview.\nResource Type Path: Microsoft.DataProtection/backupVaults\nModule ID: br/public:avm/res/data-protection/backup-vault:0.12\nParameters:\nparams: {\n    // Required parameters\n    name: 'dpbvcmk001'\n    // Non-required parameters\n    azureMonitorAlertSettingsAlertsForAllJobFailures: 'Disabled'\n    backupPolicies: [\n      {\n        name: 'DefaultPolicy'\n        properties: {\n          datasourceTypes: [\n            'Microsoft.Compute/disks'\n          ]\n          objectType: 'BackupPolicy'\n          policyRules: [\n            {\n              backupParameters: {\n                backupType: 'Incremental'\n                objectType: 'AzureBackupParams'\n              }\n              dataStore: {\n                dataStoreType: 'OperationalStore'\n                objectType: 'DataStoreInfoBase'\n              }\n              name: 'BackupDaily'\n              objectType: 'AzureBackupRule'\n              trigger: {\n                objectType: 'ScheduleBasedTriggerContext'\n                schedule: {\n                  repeatingTimeIntervals: [\n                    'R/2022-05-31T23:30:00+01:00/P1D'\n                  ]\n                  timeZone: 'W. Europe Standard Time'\n                }\n                taggingCriteria: [\n                  {\n                    isDefault: true\n                    taggingPriority: 99\n                    tagInfo: {\n                      id: 'Default_'\n                      tagName: 'Default'\n                    }\n                  }\n                ]\n              }\n            }\n            {\n              isDefault: true\n              lifecycles: [\n                {\n                  deleteAfter: {\n                    duration: 'P7D'\n                    objectType: 'AbsoluteDeleteOption'\n                  }\n                  sourceDataStore: {\n                    dataStoreType: 'OperationalStore'\n                    objectType: 'DataStoreInfoBase'\n                  }\n                  targetDataStoreCopySettings: []\n                }\n              ]\n              name: 'Default'\n              objectType: 'AzureRetentionRule'\n            }\n          ]\n        }\n      }\n    ]\n    customerManagedKey: {\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n      userAssignedIdentityResourceId: '<userAssignedIdentityResourceId>'\n    }\n    immutabilitySettingState: 'Locked'\n    infrastructureEncryption: 'Enabled'\n    location: '<location>'\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    softDeleteSettings: {\n      retentionDurationInDays: 14\n      state: 'On'\n    }\n  }", "bicep": "module backupVault 'br/public:avm/res/data-protection/backup-vault:0.12' = {\n  name: 'backupVaultDeployment'\n  params: {\n    // Required parameters\n    name: 'dpbvcmk001'\n    // Non-required parameters\n    azureMonitorAlertSettingsAlertsForAllJobFailures: 'Disabled'\n    backupPolicies: [\n      {\n        name: 'DefaultPolicy'\n        properties: {\n          datasourceTypes: [\n            'Microsoft.Compute/disks'\n          ]\n          objectType: 'BackupPolicy'\n          policyRules: [\n            {\n              backupParameters: {\n                backupType: 'Incremental'\n                objectType: 'AzureBackupParams'\n              }\n              dataStore: {\n                dataStoreType: 'OperationalStore'\n                objectType: 'DataStoreInfoBase'\n              }\n              name: 'BackupDaily'\n              objectType: 'AzureBackupRule'\n              trigger: {\n                objectType: 'ScheduleBasedTriggerContext'\n                schedule: {\n                  repeatingTimeIntervals: [\n                    'R/2022-05-31T23:30:00+01:00/P1D'\n                  ]\n                  timeZone: 'W. Europe Standard Time'\n                }\n                taggingCriteria: [\n                  {\n                    isDefault: true\n                    taggingPriority: 99\n                    tagInfo: {\n                      id: 'Default_'\n                      tagName: 'Default'\n                    }\n                  }\n                ]\n              }\n            }\n            {\n              isDefault: true\n              lifecycles: [\n                {\n                  deleteAfter: {\n                    duration: 'P7D'\n                    objectType: 'AbsoluteDeleteOption'\n                  }\n                  sourceDataStore: {\n                    dataStoreType: 'OperationalStore'\n                    objectType: 'DataStoreInfoBase'\n                  }\n                  targetDataStoreCopySettings: []\n                }\n              ]\n              name: 'Default'\n              objectType: 'AzureRetentionRule'\n            }\n          ]\n        }\n      }\n    ]\n    customerManagedKey: {\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n      userAssignedIdentityResourceId: '<userAssignedIdentityResourceId>'\n    }\n    immutabilitySettingState: 'Locked'\n    infrastructureEncryption: 'Enabled'\n    location: '<location>'\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    softDeleteSettings: {\n      retentionDurationInDays: 14\n      state: 'On'\n    }\n  }\n}"}
{"id": "avm_res_data-protection_backup-vault_example_2", "source": "avm/res/data-protection/backup-vault/README.md", "content_to_embed": "Recommended AVM Module for Data Protection Backup Vaults: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.DataProtection/backupVaults\nModule ID: br/public:avm/res/data-protection/backup-vault:0.12\nParameters:\nparams: {\n    // Required parameters\n    name: 'dpbvmin001'\n    // Non-required parameters\n    location: '<location>'\n  }", "bicep": "module backupVault 'br/public:avm/res/data-protection/backup-vault:0.12' = {\n  name: 'backupVaultDeployment'\n  params: {\n    // Required parameters\n    name: 'dpbvmin001'\n    // Non-required parameters\n    location: '<location>'\n  }\n}"}
{"id": "avm_res_data-protection_backup-vault_example_3", "source": "avm/res/data-protection/backup-vault/README.md", "content_to_embed": "Recommended AVM Module for Data Protection Backup Vaults: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.DataProtection/backupVaults\nModule ID: br/public:avm/res/data-protection/backup-vault:0.12\nParameters:\nparams: {\n    // Required parameters\n    name: 'dpbvmax001'\n    // Non-required parameters\n    azureMonitorAlertSettingsAlertsForAllJobFailures: 'Disabled'\n    backupInstances: [\n      {\n        dataSourceInfo: {\n          datasourceType: 'Microsoft.Storage/storageAccounts/blobServices'\n          resourceID: '<resourceID>'\n          resourceLocation: '<resourceLocation>'\n          resourceName: '<resourceName>'\n          resourceType: 'Microsoft.Storage/storageAccounts'\n          resourceUri: '<resourceUri>'\n        }\n        name: '<name>'\n        policyInfo: {\n          policyName: '<policyName>'\n          policyParameters: {\n            backupDatasourceParametersList: [\n              {\n                containersList: '<containersList>'\n                objectType: 'BlobBackupDatasourceParameters'\n              }\n            ]\n          }\n        }\n      }\n      {\n        dataSourceInfo: {\n          datasourceType: 'Microsoft.Compute/disks'\n          resourceID: '<resourceID>'\n          resourceLocation: '<resourceLocation>'\n          resourceName: '<resourceName>'\n          resourceType: 'Microsoft.Compute/disks'\n          resourceUri: '<resourceUri>'\n        }\n        name: '<name>'\n        policyInfo: {\n          policyName: '<policyName>'\n          policyParameters: {\n            dataStoreParametersList: [\n              {\n                dataStoreType: 'OperationalStore'\n                objectType: 'AzureOperationalStoreParameters'\n                resourceGroupId: '<resourceGroupId>'\n              }\n            ]\n          }\n        }\n      }\n      {\n        dataSourceInfo: {\n          datasourceType: 'Microsoft.Compute/disks'\n          resourceID: '<resourceID>'\n          resourceLocation: '<resourceLocation>'\n          resourceName: '<resourceName>'\n          resourceType: 'Microsoft.Compute/disks'\n          resourceUri: '<resourceUri>'\n        }\n        name: '<name>'\n        policyInfo: {\n          policyName: '<policyName>'\n          policyParameters: {\n            dataStoreParametersList: [\n              {\n                dataStoreType: 'OperationalStore'\n                objectType: 'AzureOperationalStoreParameters'\n                resourceGroupId: '<resourceGroupId>'\n              }\n            ]\n          }\n        }\n      }\n    ]\n    backupPolicies: [\n      {\n        name: '<name>'\n        properties: {\n          datasourceTypes: [\n            'Microsoft.Compute/disks'\n          ]\n          objectType: 'BackupPolicy'\n          policyRules: [\n            {\n              backupParameters: {\n                backupType: 'Incremental'\n                objectType: 'AzureBackupParams'\n              }\n              dataStore: {\n                dataStoreType: 'OperationalStore'\n                objectType: 'DataStoreInfoBase'\n              }\n              name: 'BackupDaily'\n              objectType: 'AzureBackupRule'\n              trigger: {\n                objectType: 'ScheduleBasedTriggerContext'\n                schedule: {\n                  repeatingTimeIntervals: [\n                    'R/2025-03-31T00:00:00+04:00/P1D'\n                  ]\n                  timeZone: 'Arabian Standard Time'\n                }\n                taggingCriteria: [\n                  {\n                    isDefault: true\n                    taggingPriority: 99\n                    tagInfo: {\n                      id: 'Default_'\n                      tagName: 'Default'\n                    }\n                  }\n                ]\n              }\n            }\n            {\n              isDefault: true\n              lifecycles: [\n                {\n                  deleteAfter: {\n                    duration: 'P7D'\n                    objectType: 'AbsoluteDeleteOption'\n                  }\n                  sourceDataStore: {\n                    dataStoreType: 'OperationalStore'\n                    objectType: 'DataStoreInfoBase'\n                  }\n                  targetDataStoreCopySettings: []\n                }\n              ]\n              name: 'Default'\n              objectType: 'AzureRetentionRule'\n            }\n          ]\n        }\n      }\n      {\n        name: '<name>'\n        properties: {\n          datasourceTypes: [\n            'Microsoft.Storage/storageAccounts/blobServices'\n          ]\n          objectType: 'BackupPolicy'\n          policyRules: [\n            {\n              isDefault: true\n              lifecycles: [\n                {\n                  deleteAfter: {\n                    duration: 'P30D'\n                    objectType: 'AbsoluteDeleteOption'\n                  }\n                  sourceDataStore: {\n                    dataStoreType: 'OperationalStore'\n                    objectType: 'DataStoreInfoBase'\n                  }\n                  targetDataStoreCopySettings: []\n                }\n              ]\n              name: 'Default'\n              objectType: 'AzureRetentionRule'\n            }\n            {\n              isDefault: true\n              lifecycles: [\n                {\n                  deleteAfter: {\n                    duration: 'P90D'\n                    objectType: 'AbsoluteDeleteOption'\n                  }\n                  sourceDataStore: {\n                    dataStoreType: 'VaultStore'\n                    objectType: 'DataStoreInfoBase'\n                  }\n                  targetDataStoreCopySettings: []\n                }\n              ]\n              name: 'Default'\n              objectType: 'AzureRetentionRule'\n            }\n            {\n              backupParameters: {\n                backupType: 'Discrete'\n                objectType: 'AzureBackupParams'\n              }\n              dataStore: {\n                dataStoreType: 'VaultStore'\n                objectType: 'DataStoreInfoBase'\n              }\n              name: 'BackupDaily'\n              objectType: 'AzureBackupRule'\n              trigger: {\n                objectType: 'ScheduleBasedTriggerContext'\n                schedule: {\n                  repeatingTimeIntervals: [\n                    'R/2025-03-31T00:00:00+04:00/P1D'\n                  ]\n                  timeZone: 'Arabian Standard Time'\n                }\n                taggingCriteria: [\n                  {\n                    isDefault: true\n                    taggingPriority: 99\n                    tagInfo: {\n                      id: 'Default_'\n                      tagName: 'Default'\n                    }\n                  }\n                ]\n              }\n            }\n          ]\n        }\n      }\n    ]\n    immutabilitySettingState: 'Unlocked'\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: true\n    }\n    roleAssignments: [\n      {\n        name: 'cbc3932a-1bee-4318-ae76-d70e1ba399c8'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module backupVault 'br/public:avm/res/data-protection/backup-vault:0.12' = {\n  name: 'backupVaultDeployment'\n  params: {\n    // Required parameters\n    name: 'dpbvmax001'\n    // Non-required parameters\n    azureMonitorAlertSettingsAlertsForAllJobFailures: 'Disabled'\n    backupInstances: [\n      {\n        dataSourceInfo: {\n          datasourceType: 'Microsoft.Storage/storageAccounts/blobServices'\n          resourceID: '<resourceID>'\n          resourceLocation: '<resourceLocation>'\n          resourceName: '<resourceName>'\n          resourceType: 'Microsoft.Storage/storageAccounts'\n          resourceUri: '<resourceUri>'\n        }\n        name: '<name>'\n        policyInfo: {\n          policyName: '<policyName>'\n          policyParameters: {\n            backupDatasourceParametersList: [\n              {\n                containersList: '<containersList>'\n                objectType: 'BlobBackupDatasourceParameters'\n              }\n            ]\n          }\n        }\n      }\n      {\n        dataSourceInfo: {\n          datasourceType: 'Microsoft.Compute/disks'\n          resourceID: '<resourceID>'\n          resourceLocation: '<resourceLocation>'\n          resourceName: '<resourceName>'\n          resourceType: 'Microsoft.Compute/disks'\n          resourceUri: '<resourceUri>'\n        }\n        name: '<name>'\n        policyInfo: {\n          policyName: '<policyName>'\n          policyParameters: {\n            dataStoreParametersList: [\n              {\n                dataStoreType: 'OperationalStore'\n                objectType: 'AzureOperationalStoreParameters'\n                resourceGroupId: '<resourceGroupId>'\n              }\n            ]\n          }\n        }\n      }\n      {\n        dataSourceInfo: {\n          datasourceType: 'Microsoft.Compute/disks'\n          resourceID: '<resourceID>'\n          resourceLocation: '<resourceLocation>'\n          resourceName: '<resourceName>'\n          resourceType: 'Microsoft.Compute/disks'\n          resourceUri: '<resourceUri>'\n        }\n        name: '<name>'\n        policyInfo: {\n          policyName: '<policyName>'\n          policyParameters: {\n            dataStoreParametersList: [\n              {\n                dataStoreType: 'OperationalStore'\n                objectType: 'AzureOperationalStoreParameters'\n                resourceGroupId: '<resourceGroupId>'\n              }\n            ]\n          }\n        }\n      }\n    ]\n    backupPolicies: [\n      {\n        name: '<name>'\n        properties: {\n          datasourceTypes: [\n            'Microsoft.Compute/disks'\n          ]\n          objectType: 'BackupPolicy'\n          policyRules: [\n            {\n              backupParameters: {\n                backupType: 'Incremental'\n                objectType: 'AzureBackupParams'\n              }\n              dataStore: {\n                dataStoreType: 'OperationalStore'\n                objectType: 'DataStoreInfoBase'\n              }\n              name: 'BackupDaily'\n              objectType: 'AzureBackupRule'\n              trigger: {\n                objectType: 'ScheduleBasedTriggerContext'\n                schedule: {\n                  repeatingTimeIntervals: [\n                    'R/2025-03-31T00:00:00+04:00/P1D'\n                  ]\n                  timeZone: 'Arabian Standard Time'\n                }\n                taggingCriteria: [\n                  {\n                    isDefault: true\n                    taggingPriority: 99\n                    tagInfo: {\n                      id: 'Default_'\n                      tagName: 'Default'\n                    }\n                  }\n                ]\n              }\n            }\n            {\n              isDefault: true\n              lifecycles: [\n                {\n                  deleteAfter: {\n                    duration: 'P7D'\n                    objectType: 'AbsoluteDeleteOption'\n                  }\n                  sourceDataStore: {\n                    dataStoreType: 'OperationalStore'\n                    objectType: 'DataStoreInfoBase'\n                  }\n                  targetDataStoreCopySettings: []\n                }\n              ]\n              name: 'Default'\n              objectType: 'AzureRetentionRule'\n            }\n          ]\n        }\n      }\n      {\n        name: '<name>'\n        properties: {\n          datasourceTypes: [\n            'Microsoft.Storage/storageAccounts/blobServices'\n          ]\n          objectType: 'BackupPolicy'\n          policyRules: [\n            {\n              isDefault: true\n              lifecycles: [\n                {\n                  deleteAfter: {\n                    duration: 'P30D'\n                    objectType: 'AbsoluteDeleteOption'\n                  }\n                  sourceDataStore: {\n                    dataStoreType: 'OperationalStore'\n                    objectType: 'DataStoreInfoBase'\n                  }\n                  targetDataStoreCopySettings: []\n                }\n              ]\n              name: 'Default'\n              objectType: 'AzureRetentionRule'\n            }\n            {\n              isDefault: true\n              lifecycles: [\n                {\n                  deleteAfter: {\n                    duration: 'P90D'\n                    objectType: 'AbsoluteDeleteOption'\n                  }\n                  sourceDataStore: {\n                    dataStoreType: 'VaultStore'\n                    objectType: 'DataStoreInfoBase'\n                  }\n                  targetDataStoreCopySettings: []\n                }\n              ]\n              name: 'Default'\n              objectType: 'AzureRetentionRule'\n            }\n            {\n              backupParameters: {\n                backupType: 'Discrete'\n                objectType: 'AzureBackupParams'\n              }\n              dataStore: {\n                dataStoreType: 'VaultStore'\n                objectType: 'DataStoreInfoBase'\n              }\n              name: 'BackupDaily'\n              objectType: 'AzureBackupRule'\n              trigger: {\n                objectType: 'ScheduleBasedTriggerContext'\n                schedule: {\n                  repeatingTimeIntervals: [\n                    'R/2025-03-31T00:00:00+04:00/P1D'\n                  ]\n                  timeZone: 'Arabian Standard Time'\n                }\n                taggingCriteria: [\n                  {\n                    isDefault: true\n                    taggingPriority: 99\n                    tagInfo: {\n                      id: 'Default_'\n                      tagName: 'Default'\n                    }\n                  }\n                ]\n              }\n            }\n          ]\n        }\n      }\n    ]\n    immutabilitySettingState: 'Unlocked'\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: true\n    }\n    roleAssignments: [\n      {\n        name: 'cbc3932a-1bee-4318-ae76-d70e1ba399c8'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_data-protection_backup-vault_example_4", "source": "avm/res/data-protection/backup-vault/README.md", "content_to_embed": "Recommended AVM Module for Data Protection Backup Vaults: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.DataProtection/backupVaults\nModule ID: br/public:avm/res/data-protection/backup-vault:0.12\nParameters:\nparams: {\n    // Required parameters\n    name: 'dpbvwaf001'\n    // Non-required parameters\n    azureMonitorAlertSettingsAlertsForAllJobFailures: 'Disabled'\n    backupPolicies: [\n      {\n        name: 'DefaultPolicy'\n        properties: {\n          datasourceTypes: [\n            'Microsoft.Compute/disks'\n          ]\n          objectType: 'BackupPolicy'\n          policyRules: [\n            {\n              backupParameters: {\n                backupType: 'Incremental'\n                objectType: 'AzureBackupParams'\n              }\n              dataStore: {\n                dataStoreType: 'OperationalStore'\n                objectType: 'DataStoreInfoBase'\n              }\n              name: 'BackupDaily'\n              objectType: 'AzureBackupRule'\n              trigger: {\n                objectType: 'ScheduleBasedTriggerContext'\n                schedule: {\n                  repeatingTimeIntervals: [\n                    'R/2022-05-31T23:30:00+01:00/P1D'\n                  ]\n                  timeZone: 'W. Europe Standard Time'\n                }\n                taggingCriteria: [\n                  {\n                    isDefault: true\n                    taggingPriority: 99\n                    tagInfo: {\n                      id: 'Default_'\n                      tagName: 'Default'\n                    }\n                  }\n                ]\n              }\n            }\n            {\n              isDefault: true\n              lifecycles: [\n                {\n                  deleteAfter: {\n                    duration: 'P7D'\n                    objectType: 'AbsoluteDeleteOption'\n                  }\n                  sourceDataStore: {\n                    dataStoreType: 'OperationalStore'\n                    objectType: 'DataStoreInfoBase'\n                  }\n                  targetDataStoreCopySettings: []\n                }\n              ]\n              name: 'Default'\n              objectType: 'AzureRetentionRule'\n            }\n          ]\n        }\n      }\n    ]\n    immutabilitySettingState: 'Locked'\n    location: '<location>'\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    softDeleteSettings: {\n      retentionDurationInDays: 14\n      state: 'On'\n    }\n  }", "bicep": "module backupVault 'br/public:avm/res/data-protection/backup-vault:0.12' = {\n  name: 'backupVaultDeployment'\n  params: {\n    // Required parameters\n    name: 'dpbvwaf001'\n    // Non-required parameters\n    azureMonitorAlertSettingsAlertsForAllJobFailures: 'Disabled'\n    backupPolicies: [\n      {\n        name: 'DefaultPolicy'\n        properties: {\n          datasourceTypes: [\n            'Microsoft.Compute/disks'\n          ]\n          objectType: 'BackupPolicy'\n          policyRules: [\n            {\n              backupParameters: {\n                backupType: 'Incremental'\n                objectType: 'AzureBackupParams'\n              }\n              dataStore: {\n                dataStoreType: 'OperationalStore'\n                objectType: 'DataStoreInfoBase'\n              }\n              name: 'BackupDaily'\n              objectType: 'AzureBackupRule'\n              trigger: {\n                objectType: 'ScheduleBasedTriggerContext'\n                schedule: {\n                  repeatingTimeIntervals: [\n                    'R/2022-05-31T23:30:00+01:00/P1D'\n                  ]\n                  timeZone: 'W. Europe Standard Time'\n                }\n                taggingCriteria: [\n                  {\n                    isDefault: true\n                    taggingPriority: 99\n                    tagInfo: {\n                      id: 'Default_'\n                      tagName: 'Default'\n                    }\n                  }\n                ]\n              }\n            }\n            {\n              isDefault: true\n              lifecycles: [\n                {\n                  deleteAfter: {\n                    duration: 'P7D'\n                    objectType: 'AbsoluteDeleteOption'\n                  }\n                  sourceDataStore: {\n                    dataStoreType: 'OperationalStore'\n                    objectType: 'DataStoreInfoBase'\n                  }\n                  targetDataStoreCopySettings: []\n                }\n              ]\n              name: 'Default'\n              objectType: 'AzureRetentionRule'\n            }\n          ]\n        }\n      }\n    ]\n    immutabilitySettingState: 'Locked'\n    location: '<location>'\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    softDeleteSettings: {\n      retentionDurationInDays: 14\n      state: 'On'\n    }\n  }\n}"}
{"id": "avm_res_databricks_access-connector_example_1", "source": "avm/res/databricks/access-connector/README.md", "content_to_embed": "Recommended AVM Module for Azure Databricks Access Connectors: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Databricks/accessConnectors\nModule ID: br/public:avm/res/databricks/access-connector:0.4\nParameters:\nparams: {\n    // Required parameters\n    name: 'dacmin001'\n    // Non-required parameters\n    location: '<location>'\n  }", "bicep": "module accessConnector 'br/public:avm/res/databricks/access-connector:0.4' = {\n  name: 'accessConnectorDeployment'\n  params: {\n    // Required parameters\n    name: 'dacmin001'\n    // Non-required parameters\n    location: '<location>'\n  }\n}"}
{"id": "avm_res_databricks_access-connector_example_2", "source": "avm/res/databricks/access-connector/README.md", "content_to_embed": "Recommended AVM Module for Azure Databricks Access Connectors: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Databricks/accessConnectors\nModule ID: br/public:avm/res/databricks/access-connector:0.4\nParameters:\nparams: {\n    // Required parameters\n    name: 'dacmax001'\n    // Non-required parameters\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    roleAssignments: [\n      {\n        name: 'e9143a6b-a031-419c-a597-cc4ac9bd39ed'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module accessConnector 'br/public:avm/res/databricks/access-connector:0.4' = {\n  name: 'accessConnectorDeployment'\n  params: {\n    // Required parameters\n    name: 'dacmax001'\n    // Non-required parameters\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    roleAssignments: [\n      {\n        name: 'e9143a6b-a031-419c-a597-cc4ac9bd39ed'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_databricks_access-connector_example_3", "source": "avm/res/databricks/access-connector/README.md", "content_to_embed": "Recommended AVM Module for Azure Databricks Access Connectors: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Databricks/accessConnectors\nModule ID: br/public:avm/res/databricks/access-connector:0.4\nParameters:\nparams: {\n    // Required parameters\n    name: 'dacwaf001'\n    // Non-required parameters\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: true\n    }\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module accessConnector 'br/public:avm/res/databricks/access-connector:0.4' = {\n  name: 'accessConnectorDeployment'\n  params: {\n    // Required parameters\n    name: 'dacwaf001'\n    // Non-required parameters\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: true\n    }\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_databricks_workspace_example_1", "source": "avm/res/databricks/workspace/README.md", "content_to_embed": "Recommended AVM Module for Azure Databricks Workspaces: Using managed HSM Customer-Managed-Keys with User-Assigned identity - This instance deploys the module with Managed HSM-based Customer Managed Key (CMK) encryption, using a User-Assigned Managed Identity to access the HSM key.\nResource Type Path: Microsoft.Databricks/workspaces\nModule ID: br/public:avm/res/databricks/workspace:0.12\nParameters:\nparams: {\n    // Required parameters\n    name: 'dwhsm001'\n    // Non-required parameters\n    customerManagedKey: {\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n      keyVersion: '<keyVersion>'\n    }\n    customerManagedKeyManagedDisk: {\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n      keyVersion: '<keyVersion>'\n    }\n  }", "bicep": "module workspace 'br/public:avm/res/databricks/workspace:0.12' = {\n  name: 'workspaceDeployment'\n  params: {\n    // Required parameters\n    name: 'dwhsm001'\n    // Non-required parameters\n    customerManagedKey: {\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n      keyVersion: '<keyVersion>'\n    }\n    customerManagedKeyManagedDisk: {\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n      keyVersion: '<keyVersion>'\n    }\n  }\n}"}
{"id": "avm_res_databricks_workspace_example_2", "source": "avm/res/databricks/workspace/README.md", "content_to_embed": "Recommended AVM Module for Azure Databricks Workspaces: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Databricks/workspaces\nModule ID: br/public:avm/res/databricks/workspace:0.12\nParameters:\nparams: {\n    name: 'dwmin002'\n  }", "bicep": "module workspace 'br/public:avm/res/databricks/workspace:0.12' = {\n  name: 'workspaceDeployment'\n  params: {\n    name: 'dwmin002'\n  }\n}"}
{"id": "avm_res_databricks_workspace_example_3", "source": "avm/res/databricks/workspace/README.md", "content_to_embed": "Recommended AVM Module for Azure Databricks Workspaces: With encryption - This instance deploys the module with customer-managed keys for encryption, where 2 different keys are hosted in the same vault and the AzureDatabricks Enterprise Application is used to pull the keys.\nResource Type Path: Microsoft.Databricks/workspaces\nModule ID: br/public:avm/res/databricks/workspace:0.12\nParameters:\nparams: {\n    // Required parameters\n    name: 'dwenc001'\n    // Non-required parameters\n    customerManagedKey: {\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n    }\n    customerManagedKeyManagedDisk: {\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n    }\n  }", "bicep": "module workspace 'br/public:avm/res/databricks/workspace:0.12' = {\n  name: 'workspaceDeployment'\n  params: {\n    // Required parameters\n    name: 'dwenc001'\n    // Non-required parameters\n    customerManagedKey: {\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n    }\n    customerManagedKeyManagedDisk: {\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n    }\n  }\n}"}
{"id": "avm_res_databricks_workspace_example_4", "source": "avm/res/databricks/workspace/README.md", "content_to_embed": "Recommended AVM Module for Azure Databricks Workspaces: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Databricks/workspaces\nModule ID: br/public:avm/res/databricks/workspace:0.12\nParameters:\nparams: {\n    // Required parameters\n    name: 'dwmax005'\n    // Non-required parameters\n    amlWorkspaceResourceId: '<amlWorkspaceResourceId>'\n    automaticClusterUpdate: 'Enabled'\n    complianceSecurityProfileValue: 'Enabled'\n    complianceStandards: [\n      'HIPAA'\n      'PCI_DSS'\n    ]\n    customerManagedKey: {\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n    }\n    customerManagedKeyManagedDisk: {\n      autoRotationEnabled: false\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n    }\n    customPrivateSubnetName: '<customPrivateSubnetName>'\n    customPublicSubnetName: '<customPublicSubnetName>'\n    customVirtualNetworkResourceId: '<customVirtualNetworkResourceId>'\n    defaultCatalog: {\n      initialType: 'UnityCatalog'\n    }\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        logCategoriesAndGroups: [\n          {\n            category: 'jobs'\n          }\n          {\n            category: 'notebook'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    disablePublicIp: true\n    enhancedSecurityMonitoring: 'Enabled'\n    loadBalancerBackendPoolName: '<loadBalancerBackendPoolName>'\n    loadBalancerResourceId: '<loadBalancerResourceId>'\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedResourceGroupResourceId: '<managedResourceGroupResourceId>'\n    natGatewayName: 'nat-gateway'\n    prepareEncryption: true\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'databricks_ui_api'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          Role: 'DeploymentValidation'\n        }\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'browser_authentication'\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    publicIpName: 'nat-gw-public-ip'\n    publicNetworkAccess: 'Disabled'\n    requiredNsgRules: 'NoAzureDatabricksRules'\n    requireInfrastructureEncryption: true\n    roleAssignments: [\n      {\n        name: '2754e64b-b96e-44bc-9cb2-6e39b057f515'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    skuName: 'premium'\n    storageAccountName: 'sadwmax001'\n    storageAccountSkuName: 'Standard_ZRS'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    vnetAddressPrefix: '10.100'\n  }", "bicep": "module workspace 'br/public:avm/res/databricks/workspace:0.12' = {\n  name: 'workspaceDeployment'\n  params: {\n    // Required parameters\n    name: 'dwmax005'\n    // Non-required parameters\n    amlWorkspaceResourceId: '<amlWorkspaceResourceId>'\n    automaticClusterUpdate: 'Enabled'\n    complianceSecurityProfileValue: 'Enabled'\n    complianceStandards: [\n      'HIPAA'\n      'PCI_DSS'\n    ]\n    customerManagedKey: {\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n    }\n    customerManagedKeyManagedDisk: {\n      autoRotationEnabled: false\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n    }\n    customPrivateSubnetName: '<customPrivateSubnetName>'\n    customPublicSubnetName: '<customPublicSubnetName>'\n    customVirtualNetworkResourceId: '<customVirtualNetworkResourceId>'\n    defaultCatalog: {\n      initialType: 'UnityCatalog'\n    }\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        logCategoriesAndGroups: [\n          {\n            category: 'jobs'\n          }\n          {\n            category: 'notebook'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    disablePublicIp: true\n    enhancedSecurityMonitoring: 'Enabled'\n    loadBalancerBackendPoolName: '<loadBalancerBackendPoolName>'\n    loadBalancerResourceId: '<loadBalancerResourceId>'\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedResourceGroupResourceId: '<managedResourceGroupResourceId>'\n    natGatewayName: 'nat-gateway'\n    prepareEncryption: true\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'databricks_ui_api'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          Role: 'DeploymentValidation'\n        }\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'browser_authentication'\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    publicIpName: 'nat-gw-public-ip'\n    publicNetworkAccess: 'Disabled'\n    requiredNsgRules: 'NoAzureDatabricksRules'\n    requireInfrastructureEncryption: true\n    roleAssignments: [\n      {\n        name: '2754e64b-b96e-44bc-9cb2-6e39b057f515'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    skuName: 'premium'\n    storageAccountName: 'sadwmax001'\n    storageAccountSkuName: 'Standard_ZRS'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    vnetAddressPrefix: '10.100'\n  }\n}"}
{"id": "avm_res_databricks_workspace_example_5", "source": "avm/res/databricks/workspace/README.md", "content_to_embed": "Recommended AVM Module for Azure Databricks Workspaces: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Databricks/workspaces\nModule ID: br/public:avm/res/databricks/workspace:0.12\nParameters:\nparams: {\n    // Required parameters\n    name: 'dwwaf003'\n    // Non-required parameters\n    accessConnectorResourceId: '<accessConnectorResourceId>'\n    amlWorkspaceResourceId: '<amlWorkspaceResourceId>'\n    automaticClusterUpdate: 'Enabled'\n    complianceSecurityProfileValue: 'Disabled'\n    customerManagedKey: {\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n    }\n    customerManagedKeyManagedDisk: {\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n    }\n    customPrivateSubnetName: '<customPrivateSubnetName>'\n    customPublicSubnetName: '<customPublicSubnetName>'\n    customVirtualNetworkResourceId: '<customVirtualNetworkResourceId>'\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        logCategoriesAndGroups: [\n          {\n            category: 'jobs'\n          }\n          {\n            category: 'notebook'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    disablePublicIp: true\n    enhancedSecurityMonitoring: 'Enabled'\n    loadBalancerBackendPoolName: '<loadBalancerBackendPoolName>'\n    loadBalancerResourceId: '<loadBalancerResourceId>'\n    managedResourceGroupResourceId: '<managedResourceGroupResourceId>'\n    natGatewayName: 'nat-gateway'\n    prepareEncryption: true\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'databricks_ui_api'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          Role: 'DeploymentValidation'\n        }\n      }\n    ]\n    privateStorageAccount: 'Enabled'\n    publicIpName: 'nat-gw-public-ip'\n    publicNetworkAccess: 'Disabled'\n    requiredNsgRules: 'NoAzureDatabricksRules'\n    requireInfrastructureEncryption: true\n    skuName: 'premium'\n    storageAccountName: 'sadwwaf001'\n    storageAccountPrivateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'blob'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          Role: 'DeploymentValidation'\n        }\n      }\n    ]\n    storageAccountSkuName: 'Standard_ZRS'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    vnetAddressPrefix: '10.100'\n  }", "bicep": "module workspace 'br/public:avm/res/databricks/workspace:0.12' = {\n  name: 'workspaceDeployment'\n  params: {\n    // Required parameters\n    name: 'dwwaf003'\n    // Non-required parameters\n    accessConnectorResourceId: '<accessConnectorResourceId>'\n    amlWorkspaceResourceId: '<amlWorkspaceResourceId>'\n    automaticClusterUpdate: 'Enabled'\n    complianceSecurityProfileValue: 'Disabled'\n    customerManagedKey: {\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n    }\n    customerManagedKeyManagedDisk: {\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n    }\n    customPrivateSubnetName: '<customPrivateSubnetName>'\n    customPublicSubnetName: '<customPublicSubnetName>'\n    customVirtualNetworkResourceId: '<customVirtualNetworkResourceId>'\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        logCategoriesAndGroups: [\n          {\n            category: 'jobs'\n          }\n          {\n            category: 'notebook'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    disablePublicIp: true\n    enhancedSecurityMonitoring: 'Enabled'\n    loadBalancerBackendPoolName: '<loadBalancerBackendPoolName>'\n    loadBalancerResourceId: '<loadBalancerResourceId>'\n    managedResourceGroupResourceId: '<managedResourceGroupResourceId>'\n    natGatewayName: 'nat-gateway'\n    prepareEncryption: true\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'databricks_ui_api'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          Role: 'DeploymentValidation'\n        }\n      }\n    ]\n    privateStorageAccount: 'Enabled'\n    publicIpName: 'nat-gw-public-ip'\n    publicNetworkAccess: 'Disabled'\n    requiredNsgRules: 'NoAzureDatabricksRules'\n    requireInfrastructureEncryption: true\n    skuName: 'premium'\n    storageAccountName: 'sadwwaf001'\n    storageAccountPrivateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'blob'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          Role: 'DeploymentValidation'\n        }\n      }\n    ]\n    storageAccountSkuName: 'Standard_ZRS'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    vnetAddressPrefix: '10.100'\n  }\n}"}
{"id": "avm_res_db-for-my-sql_flexible-server_example_1", "source": "avm/res/db-for-my-sql/flexible-server/README.md", "content_to_embed": "Recommended AVM Module for DBforMySQL Flexible Servers: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.DBforMySQL/flexibleServers\nModule ID: br/public:avm/res/db-for-my-sql/flexible-server:0.9\nParameters:\nparams: {\n    // Required parameters\n    availabilityZone: -1\n    name: 'dfmsfsmin001'\n    skuName: 'Standard_D2ds_v4'\n    tier: 'GeneralPurpose'\n    // Non-required parameters\n    administratorLogin: 'adminUserName'\n    administratorLoginPassword: '<administratorLoginPassword>'\n    storageAutoGrow: 'Enabled'\n  }", "bicep": "module flexibleServer 'br/public:avm/res/db-for-my-sql/flexible-server:0.9' = {\n  name: 'flexibleServerDeployment'\n  params: {\n    // Required parameters\n    availabilityZone: -1\n    name: 'dfmsfsmin001'\n    skuName: 'Standard_D2ds_v4'\n    tier: 'GeneralPurpose'\n    // Non-required parameters\n    administratorLogin: 'adminUserName'\n    administratorLoginPassword: '<administratorLoginPassword>'\n    storageAutoGrow: 'Enabled'\n  }\n}"}
{"id": "avm_res_db-for-my-sql_flexible-server_example_2", "source": "avm/res/db-for-my-sql/flexible-server/README.md", "content_to_embed": "Recommended AVM Module for DBforMySQL Flexible Servers: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.DBforMySQL/flexibleServers\nModule ID: br/public:avm/res/db-for-my-sql/flexible-server:0.9\nParameters:\nparams: {\n    // Required parameters\n    availabilityZone: 1\n    name: 'dfmsmax001'\n    skuName: 'Standard_D2ads_v5'\n    tier: 'GeneralPurpose'\n    // Non-required parameters\n    administratorLogin: 'adminUserName'\n    administratorLoginPassword: '<administratorLoginPassword>'\n    advancedThreatProtection: 'Enabled'\n    backupRetentionDays: 20\n    configurations: [\n      {\n        name: 'max_connections'\n        source: 'user-override'\n        value: '200'\n      }\n      {\n        name: 'innodb_buffer_pool_size'\n        source: 'user-override'\n        value: '1073741824'\n      }\n    ]\n    customerManagedKey: {\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n      userAssignedIdentityResourceId: '<userAssignedIdentityResourceId>'\n    }\n    customerManagedKeyGeo: {\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n      userAssignedIdentityResourceId: '<userAssignedIdentityResourceId>'\n    }\n    databases: [\n      {\n        name: 'testdb1'\n      }\n      {\n        charset: 'ascii'\n        collation: 'ascii_general_ci'\n        name: 'testdb2'\n      }\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    firewallRules: [\n      {\n        endIpAddress: '0.0.0.0'\n        name: 'AllowAllWindowsAzureIps'\n        startIpAddress: '0.0.0.0'\n      }\n      {\n        endIpAddress: '10.10.10.10'\n        name: 'test-rule1'\n        startIpAddress: '10.10.10.1'\n      }\n      {\n        endIpAddress: '100.100.100.10'\n        name: 'test-rule2'\n        startIpAddress: '100.100.100.1'\n      }\n    ]\n    geoRedundantBackup: 'Enabled'\n    highAvailability: 'Disabled'\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<geoBackupManagedIdentityResourceId>'\n        '<managedIdentityResourceId>'\n      ]\n    }\n    publicNetworkAccess: 'Enabled'\n    roleAssignments: [\n      {\n        name: '2478b63b-0cae-457f-9bd3-9feb00e1925b'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    storageAutoGrow: 'Enabled'\n    storageAutoIoScaling: 'Enabled'\n    storageIOPS: 400\n    storageSizeGB: 64\n    tags: {\n      'hidden-title': 'This is visible in the resource name'\n      resourceType: 'MySQL Flexible Server'\n      serverName: 'dfmsmax001'\n    }\n    version: '8.0.21'\n  }", "bicep": "module flexibleServer 'br/public:avm/res/db-for-my-sql/flexible-server:0.9' = {\n  name: 'flexibleServerDeployment'\n  params: {\n    // Required parameters\n    availabilityZone: 1\n    name: 'dfmsmax001'\n    skuName: 'Standard_D2ads_v5'\n    tier: 'GeneralPurpose'\n    // Non-required parameters\n    administratorLogin: 'adminUserName'\n    administratorLoginPassword: '<administratorLoginPassword>'\n    advancedThreatProtection: 'Enabled'\n    backupRetentionDays: 20\n    configurations: [\n      {\n        name: 'max_connections'\n        source: 'user-override'\n        value: '200'\n      }\n      {\n        name: 'innodb_buffer_pool_size'\n        source: 'user-override'\n        value: '1073741824'\n      }\n    ]\n    customerManagedKey: {\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n      userAssignedIdentityResourceId: '<userAssignedIdentityResourceId>'\n    }\n    customerManagedKeyGeo: {\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n      userAssignedIdentityResourceId: '<userAssignedIdentityResourceId>'\n    }\n    databases: [\n      {\n        name: 'testdb1'\n      }\n      {\n        charset: 'ascii'\n        collation: 'ascii_general_ci'\n        name: 'testdb2'\n      }\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    firewallRules: [\n      {\n        endIpAddress: '0.0.0.0'\n        name: 'AllowAllWindowsAzureIps'\n        startIpAddress: '0.0.0.0'\n      }\n      {\n        endIpAddress: '10.10.10.10'\n        name: 'test-rule1'\n        startIpAddress: '10.10.10.1'\n      }\n      {\n        endIpAddress: '100.100.100.10'\n        name: 'test-rule2'\n        startIpAddress: '100.100.100.1'\n      }\n    ]\n    geoRedundantBackup: 'Enabled'\n    highAvailability: 'Disabled'\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<geoBackupManagedIdentityResourceId>'\n        '<managedIdentityResourceId>'\n      ]\n    }\n    publicNetworkAccess: 'Enabled'\n    roleAssignments: [\n      {\n        name: '2478b63b-0cae-457f-9bd3-9feb00e1925b'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    storageAutoGrow: 'Enabled'\n    storageAutoIoScaling: 'Enabled'\n    storageIOPS: 400\n    storageSizeGB: 64\n    tags: {\n      'hidden-title': 'This is visible in the resource name'\n      resourceType: 'MySQL Flexible Server'\n      serverName: 'dfmsmax001'\n    }\n    version: '8.0.21'\n  }\n}"}
{"id": "avm_res_db-for-my-sql_flexible-server_example_3", "source": "avm/res/db-for-my-sql/flexible-server/README.md", "content_to_embed": "Recommended AVM Module for DBforMySQL Flexible Servers: Deploys in connectivity mode \"Private Access\" - This instance deploys the module with connectivity mode \"Private Access\".\nResource Type Path: Microsoft.DBforMySQL/flexibleServers\nModule ID: br/public:avm/res/db-for-my-sql/flexible-server:0.9\nParameters:\nparams: {\n    // Required parameters\n    availabilityZone: -1\n    name: 'dfmspvt001'\n    skuName: 'Standard_D2ds_v4'\n    tier: 'GeneralPurpose'\n    // Non-required parameters\n    administratorLogin: 'adminUserName'\n    administratorLoginPassword: '<administratorLoginPassword>'\n    administrators: [\n      {\n        identityResourceId: '<identityResourceId>'\n        login: '<login>'\n        sid: '<sid>'\n      }\n    ]\n    backupRetentionDays: 10\n    databases: [\n      {\n        name: 'testdb1'\n      }\n    ]\n    delegatedSubnetResourceId: '<delegatedSubnetResourceId>'\n    firewallRules: [\n      {\n        endIpAddress: '0.0.0.0'\n        name: 'AllowAllWindowsAzureIps'\n        startIpAddress: '0.0.0.0'\n      }\n      {\n        endIpAddress: '10.10.10.10'\n        name: 'test-rule1'\n        startIpAddress: '10.10.10.1'\n      }\n      {\n        endIpAddress: '100.100.100.10'\n        name: 'test-rule2'\n        startIpAddress: '100.100.100.1'\n      }\n    ]\n    highAvailability: 'SameZone'\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n    storageAutoGrow: 'Enabled'\n    storageAutoIoScaling: 'Enabled'\n    storageIOPS: 400\n    storageSizeGB: 64\n  }", "bicep": "module flexibleServer 'br/public:avm/res/db-for-my-sql/flexible-server:0.9' = {\n  name: 'flexibleServerDeployment'\n  params: {\n    // Required parameters\n    availabilityZone: -1\n    name: 'dfmspvt001'\n    skuName: 'Standard_D2ds_v4'\n    tier: 'GeneralPurpose'\n    // Non-required parameters\n    administratorLogin: 'adminUserName'\n    administratorLoginPassword: '<administratorLoginPassword>'\n    administrators: [\n      {\n        identityResourceId: '<identityResourceId>'\n        login: '<login>'\n        sid: '<sid>'\n      }\n    ]\n    backupRetentionDays: 10\n    databases: [\n      {\n        name: 'testdb1'\n      }\n    ]\n    delegatedSubnetResourceId: '<delegatedSubnetResourceId>'\n    firewallRules: [\n      {\n        endIpAddress: '0.0.0.0'\n        name: 'AllowAllWindowsAzureIps'\n        startIpAddress: '0.0.0.0'\n      }\n      {\n        endIpAddress: '10.10.10.10'\n        name: 'test-rule1'\n        startIpAddress: '10.10.10.1'\n      }\n      {\n        endIpAddress: '100.100.100.10'\n        name: 'test-rule2'\n        startIpAddress: '100.100.100.1'\n      }\n    ]\n    highAvailability: 'SameZone'\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n    storageAutoGrow: 'Enabled'\n    storageAutoIoScaling: 'Enabled'\n    storageIOPS: 400\n    storageSizeGB: 64\n  }\n}"}
{"id": "avm_res_db-for-my-sql_flexible-server_example_4", "source": "avm/res/db-for-my-sql/flexible-server/README.md", "content_to_embed": "Recommended AVM Module for DBforMySQL Flexible Servers: Deploys in connectivity mode \"Public Access\" with private endpoint - This instance deploys the module with connectivity mode \"Public Access\" and a private endpoint.\nResource Type Path: Microsoft.DBforMySQL/flexibleServers\nModule ID: br/public:avm/res/db-for-my-sql/flexible-server:0.9\nParameters:\nparams: {\n    // Required parameters\n    availabilityZone: -1\n    name: 'dfmsppe001'\n    skuName: 'Standard_D2ds_v4'\n    tier: 'GeneralPurpose'\n    // Non-required parameters\n    administratorLogin: 'adminUserName'\n    administratorLoginPassword: '<administratorLoginPassword>'\n    administrators: [\n      {\n        identityResourceId: '<identityResourceId>'\n        login: '<login>'\n        sid: '<sid>'\n      }\n    ]\n    backupRetentionDays: 10\n    databases: [\n      {\n        name: 'testdb1'\n      }\n    ]\n    highAvailability: 'SameZone'\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n    ]\n    publicNetworkAccess: 'Enabled'\n    storageAutoGrow: 'Enabled'\n    storageAutoIoScaling: 'Enabled'\n    storageIOPS: 400\n    storageSizeGB: 64\n  }", "bicep": "module flexibleServer 'br/public:avm/res/db-for-my-sql/flexible-server:0.9' = {\n  name: 'flexibleServerDeployment'\n  params: {\n    // Required parameters\n    availabilityZone: -1\n    name: 'dfmsppe001'\n    skuName: 'Standard_D2ds_v4'\n    tier: 'GeneralPurpose'\n    // Non-required parameters\n    administratorLogin: 'adminUserName'\n    administratorLoginPassword: '<administratorLoginPassword>'\n    administrators: [\n      {\n        identityResourceId: '<identityResourceId>'\n        login: '<login>'\n        sid: '<sid>'\n      }\n    ]\n    backupRetentionDays: 10\n    databases: [\n      {\n        name: 'testdb1'\n      }\n    ]\n    highAvailability: 'SameZone'\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n    ]\n    publicNetworkAccess: 'Enabled'\n    storageAutoGrow: 'Enabled'\n    storageAutoIoScaling: 'Enabled'\n    storageIOPS: 400\n    storageSizeGB: 64\n  }\n}"}
{"id": "avm_res_db-for-my-sql_flexible-server_example_5", "source": "avm/res/db-for-my-sql/flexible-server/README.md", "content_to_embed": "Recommended AVM Module for DBforMySQL Flexible Servers: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.DBforMySQL/flexibleServers\nModule ID: br/public:avm/res/db-for-my-sql/flexible-server:0.9\nParameters:\nparams: {\n    // Required parameters\n    availabilityZone: 1\n    name: 'dfmswaf001'\n    skuName: 'Standard_D2ds_v4'\n    tier: 'GeneralPurpose'\n    // Non-required parameters\n    administratorLogin: 'adminUserName'\n    administratorLoginPassword: '<administratorLoginPassword>'\n    highAvailability: 'ZoneRedundant'\n    highAvailabilityZone: 2\n    storageAutoGrow: 'Enabled'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module flexibleServer 'br/public:avm/res/db-for-my-sql/flexible-server:0.9' = {\n  name: 'flexibleServerDeployment'\n  params: {\n    // Required parameters\n    availabilityZone: 1\n    name: 'dfmswaf001'\n    skuName: 'Standard_D2ds_v4'\n    tier: 'GeneralPurpose'\n    // Non-required parameters\n    administratorLogin: 'adminUserName'\n    administratorLoginPassword: '<administratorLoginPassword>'\n    highAvailability: 'ZoneRedundant'\n    highAvailabilityZone: 2\n    storageAutoGrow: 'Enabled'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_db-for-postgre-sql_flexible-server_example_1", "source": "avm/res/db-for-postgre-sql/flexible-server/README.md", "content_to_embed": "Recommended AVM Module for DBforPostgreSQL Flexible Servers: Using managed HSM Customer-Managed-Keys with User-Assigned identity - This instance deploys the module with Managed HSM-based Customer Managed Key (CMK) encryption, using a User-Assigned Managed Identity to access the HSM key.\nResource Type Path: Microsoft.DBforPostgreSQL/flexibleServers\nModule ID: br/public:avm/res/db-for-postgre-sql/flexible-server:0.15\nParameters:\nparams: {\n    // Required parameters\n    availabilityZone: -1\n    name: 'dfpshsm003'\n    skuName: 'Standard_D2s_v3'\n    tier: 'GeneralPurpose'\n    // Non-required parameters\n    administrators: [\n      {\n        objectId: '<objectId>'\n        principalName: '<principalName>'\n        principalType: 'ServicePrincipal'\n      }\n    ]\n    customerManagedKey: {\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n      userAssignedIdentityResourceId: '<userAssignedIdentityResourceId>'\n    }\n    geoRedundantBackup: 'Disabled'\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n  }", "bicep": "module flexibleServer 'br/public:avm/res/db-for-postgre-sql/flexible-server:0.15' = {\n  name: 'flexibleServerDeployment'\n  params: {\n    // Required parameters\n    availabilityZone: -1\n    name: 'dfpshsm003'\n    skuName: 'Standard_D2s_v3'\n    tier: 'GeneralPurpose'\n    // Non-required parameters\n    administrators: [\n      {\n        objectId: '<objectId>'\n        principalName: '<principalName>'\n        principalType: 'ServicePrincipal'\n      }\n    ]\n    customerManagedKey: {\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n      userAssignedIdentityResourceId: '<userAssignedIdentityResourceId>'\n    }\n    geoRedundantBackup: 'Disabled'\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n  }\n}"}
{"id": "avm_res_db-for-postgre-sql_flexible-server_example_2", "source": "avm/res/db-for-postgre-sql/flexible-server/README.md", "content_to_embed": "Recommended AVM Module for DBforPostgreSQL Flexible Servers: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.DBforPostgreSQL/flexibleServers\nModule ID: br/public:avm/res/db-for-postgre-sql/flexible-server:0.15\nParameters:\nparams: {\n    // Required parameters\n    availabilityZone: 1\n    name: 'dfpsmin001'\n    skuName: 'Standard_D2s_v3'\n    tier: 'GeneralPurpose'\n    // Non-required parameters\n    administrators: [\n      {\n        objectId: '<objectId>'\n        principalName: '<principalName>'\n        principalType: 'ServicePrincipal'\n      }\n    ]\n  }", "bicep": "module flexibleServer 'br/public:avm/res/db-for-postgre-sql/flexible-server:0.15' = {\n  name: 'flexibleServerDeployment'\n  params: {\n    // Required parameters\n    availabilityZone: 1\n    name: 'dfpsmin001'\n    skuName: 'Standard_D2s_v3'\n    tier: 'GeneralPurpose'\n    // Non-required parameters\n    administrators: [\n      {\n        objectId: '<objectId>'\n        principalName: '<principalName>'\n        principalType: 'ServicePrincipal'\n      }\n    ]\n  }\n}"}
{"id": "avm_res_db-for-postgre-sql_flexible-server_example_3", "source": "avm/res/db-for-postgre-sql/flexible-server/README.md", "content_to_embed": "Recommended AVM Module for DBforPostgreSQL Flexible Servers: Using Customer-Managed-Keys with User-Assigned identity - This instance deploys the module using Customer-Managed-Keys using a User-Assigned Identity to access the Customer-Managed-Key secret.\nResource Type Path: Microsoft.DBforPostgreSQL/flexibleServers\nModule ID: br/public:avm/res/db-for-postgre-sql/flexible-server:0.15\nParameters:\nparams: {\n    // Required parameters\n    availabilityZone: 1\n    name: 'dfpfmax001'\n    skuName: 'Standard_D2s_v3'\n    tier: 'GeneralPurpose'\n    // Non-required parameters\n    administratorLogin: 'adminUserName'\n    administratorLoginPassword: '<administratorLoginPassword>'\n    authConfig: {\n      activeDirectoryAuth: 'Disabled'\n      passwordAuth: 'Enabled'\n    }\n    autoGrow: 'Enabled'\n    customerManagedKey: {\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n      userAssignedIdentityResourceId: '<userAssignedIdentityResourceId>'\n    }\n    geoRedundantBackup: 'Disabled'\n    highAvailability: 'Disabled'\n    highAvailabilityZone: 2\n    location: '<location>'\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    serverThreatProtection: 'Enabled'\n  }", "bicep": "module flexibleServer 'br/public:avm/res/db-for-postgre-sql/flexible-server:0.15' = {\n  name: 'flexibleServerDeployment'\n  params: {\n    // Required parameters\n    availabilityZone: 1\n    name: 'dfpfmax001'\n    skuName: 'Standard_D2s_v3'\n    tier: 'GeneralPurpose'\n    // Non-required parameters\n    administratorLogin: 'adminUserName'\n    administratorLoginPassword: '<administratorLoginPassword>'\n    authConfig: {\n      activeDirectoryAuth: 'Disabled'\n      passwordAuth: 'Enabled'\n    }\n    autoGrow: 'Enabled'\n    customerManagedKey: {\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n      userAssignedIdentityResourceId: '<userAssignedIdentityResourceId>'\n    }\n    geoRedundantBackup: 'Disabled'\n    highAvailability: 'Disabled'\n    highAvailabilityZone: 2\n    location: '<location>'\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    serverThreatProtection: 'Enabled'\n  }\n}"}
{"id": "avm_res_db-for-postgre-sql_flexible-server_example_4", "source": "avm/res/db-for-postgre-sql/flexible-server/README.md", "content_to_embed": "Recommended AVM Module for DBforPostgreSQL Flexible Servers: Private access - This instance deploys the module with private access only.\nResource Type Path: Microsoft.DBforPostgreSQL/flexibleServers\nModule ID: br/public:avm/res/db-for-postgre-sql/flexible-server:0.15\nParameters:\nparams: {\n    // Required parameters\n    availabilityZone: -1\n    name: 'dfpspvt001'\n    skuName: 'Standard_D2s_v3'\n    tier: 'GeneralPurpose'\n    // Non-required parameters\n    administratorLogin: 'adminUserName'\n    administratorLoginPassword: '<administratorLoginPassword>'\n    authConfig: {\n      activeDirectoryAuth: 'Disabled'\n      passwordAuth: 'Enabled'\n    }\n    configurations: [\n      {\n        name: 'log_min_messages'\n        source: 'user-override'\n        value: 'INFO'\n      }\n      {\n        name: 'autovacuum_naptime'\n        source: 'user-override'\n        value: '80'\n      }\n    ]\n    databases: [\n      {\n        charset: 'UTF8'\n        collation: 'en_US.utf8'\n        name: 'testdb1'\n      }\n      {\n        name: 'testdb2'\n      }\n    ]\n    delegatedSubnetResourceId: '<delegatedSubnetResourceId>'\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    geoRedundantBackup: 'Enabled'\n    privateDnsZoneArmResourceId: '<privateDnsZoneArmResourceId>'\n    roleAssignments: [\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n  }", "bicep": "module flexibleServer 'br/public:avm/res/db-for-postgre-sql/flexible-server:0.15' = {\n  name: 'flexibleServerDeployment'\n  params: {\n    // Required parameters\n    availabilityZone: -1\n    name: 'dfpspvt001'\n    skuName: 'Standard_D2s_v3'\n    tier: 'GeneralPurpose'\n    // Non-required parameters\n    administratorLogin: 'adminUserName'\n    administratorLoginPassword: '<administratorLoginPassword>'\n    authConfig: {\n      activeDirectoryAuth: 'Disabled'\n      passwordAuth: 'Enabled'\n    }\n    configurations: [\n      {\n        name: 'log_min_messages'\n        source: 'user-override'\n        value: 'INFO'\n      }\n      {\n        name: 'autovacuum_naptime'\n        source: 'user-override'\n        value: '80'\n      }\n    ]\n    databases: [\n      {\n        charset: 'UTF8'\n        collation: 'en_US.utf8'\n        name: 'testdb1'\n      }\n      {\n        name: 'testdb2'\n      }\n    ]\n    delegatedSubnetResourceId: '<delegatedSubnetResourceId>'\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    geoRedundantBackup: 'Enabled'\n    privateDnsZoneArmResourceId: '<privateDnsZoneArmResourceId>'\n    roleAssignments: [\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n  }\n}"}
{"id": "avm_res_db-for-postgre-sql_flexible-server_example_5", "source": "avm/res/db-for-postgre-sql/flexible-server/README.md", "content_to_embed": "Recommended AVM Module for DBforPostgreSQL Flexible Servers: Public access with private endpoints - This instance deploys the module with public access and private endpoints.\nResource Type Path: Microsoft.DBforPostgreSQL/flexibleServers\nModule ID: br/public:avm/res/db-for-postgre-sql/flexible-server:0.15\nParameters:\nparams: {\n    // Required parameters\n    availabilityZone: -1\n    name: 'dfpspe001'\n    skuName: 'Standard_D2ds_v5'\n    tier: 'GeneralPurpose'\n    // Non-required parameters\n    administratorLogin: 'adminUserName'\n    administratorLoginPassword: '<administratorLoginPassword>'\n    authConfig: {\n      activeDirectoryAuth: 'Enabled'\n      passwordAuth: 'Enabled'\n    }\n    geoRedundantBackup: 'Enabled'\n    highAvailability: 'ZoneRedundant'\n    maintenanceWindow: {\n      customWindow: 'Enabled'\n      dayOfWeek: 0\n      startHour: 1\n      startMinute: 0\n    }\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n    ]\n  }", "bicep": "module flexibleServer 'br/public:avm/res/db-for-postgre-sql/flexible-server:0.15' = {\n  name: 'flexibleServerDeployment'\n  params: {\n    // Required parameters\n    availabilityZone: -1\n    name: 'dfpspe001'\n    skuName: 'Standard_D2ds_v5'\n    tier: 'GeneralPurpose'\n    // Non-required parameters\n    administratorLogin: 'adminUserName'\n    administratorLoginPassword: '<administratorLoginPassword>'\n    authConfig: {\n      activeDirectoryAuth: 'Enabled'\n      passwordAuth: 'Enabled'\n    }\n    geoRedundantBackup: 'Enabled'\n    highAvailability: 'ZoneRedundant'\n    maintenanceWindow: {\n      customWindow: 'Enabled'\n      dayOfWeek: 0\n      startHour: 1\n      startMinute: 0\n    }\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n    ]\n  }\n}"}
{"id": "avm_res_db-for-postgre-sql_flexible-server_example_6", "source": "avm/res/db-for-postgre-sql/flexible-server/README.md", "content_to_embed": "Recommended AVM Module for DBforPostgreSQL Flexible Servers: Public access - This instance deploys the module with public access and most of its features enabled.\nResource Type Path: Microsoft.DBforPostgreSQL/flexibleServers\nModule ID: br/public:avm/res/db-for-postgre-sql/flexible-server:0.15\nParameters:\nparams: {\n    // Required parameters\n    availabilityZone: 1\n    name: 'dfpspub001'\n    skuName: 'Standard_D2s_v3'\n    tier: 'GeneralPurpose'\n    // Non-required parameters\n    administrators: [\n      {\n        objectId: '<objectId>'\n        principalName: '<principalName>'\n        principalType: 'ServicePrincipal'\n      }\n    ]\n    backupRetentionDays: 20\n    configurations: [\n      {\n        name: 'log_min_messages'\n        source: 'user-override'\n        value: 'INFO'\n      }\n    ]\n    databases: [\n      {\n        charset: 'UTF8'\n        collation: 'en_US.utf8'\n        name: 'testdb1'\n      }\n      {\n        name: 'testdb2'\n      }\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    firewallRules: [\n      {\n        endIpAddress: '0.0.0.0'\n        name: 'AllowAllWindowsAzureIps'\n        startIpAddress: '0.0.0.0'\n      }\n      {\n        endIpAddress: '10.10.10.10'\n        name: 'test-rule1'\n        startIpAddress: '10.10.10.1'\n      }\n      {\n        endIpAddress: '100.100.100.10'\n        name: 'test-rule2'\n        startIpAddress: '100.100.100.1'\n      }\n    ]\n    geoRedundantBackup: 'Disabled'\n    highAvailability: 'SameZone'\n    location: '<location>'\n    publicNetworkAccess: 'Enabled'\n    roleAssignments: [\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    storageSizeGB: 1024\n    version: '14'\n  }", "bicep": "module flexibleServer 'br/public:avm/res/db-for-postgre-sql/flexible-server:0.15' = {\n  name: 'flexibleServerDeployment'\n  params: {\n    // Required parameters\n    availabilityZone: 1\n    name: 'dfpspub001'\n    skuName: 'Standard_D2s_v3'\n    tier: 'GeneralPurpose'\n    // Non-required parameters\n    administrators: [\n      {\n        objectId: '<objectId>'\n        principalName: '<principalName>'\n        principalType: 'ServicePrincipal'\n      }\n    ]\n    backupRetentionDays: 20\n    configurations: [\n      {\n        name: 'log_min_messages'\n        source: 'user-override'\n        value: 'INFO'\n      }\n    ]\n    databases: [\n      {\n        charset: 'UTF8'\n        collation: 'en_US.utf8'\n        name: 'testdb1'\n      }\n      {\n        name: 'testdb2'\n      }\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    firewallRules: [\n      {\n        endIpAddress: '0.0.0.0'\n        name: 'AllowAllWindowsAzureIps'\n        startIpAddress: '0.0.0.0'\n      }\n      {\n        endIpAddress: '10.10.10.10'\n        name: 'test-rule1'\n        startIpAddress: '10.10.10.1'\n      }\n      {\n        endIpAddress: '100.100.100.10'\n        name: 'test-rule2'\n        startIpAddress: '100.100.100.1'\n      }\n    ]\n    geoRedundantBackup: 'Disabled'\n    highAvailability: 'SameZone'\n    location: '<location>'\n    publicNetworkAccess: 'Enabled'\n    roleAssignments: [\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    storageSizeGB: 1024\n    version: '14'\n  }\n}"}
{"id": "avm_res_db-for-postgre-sql_flexible-server_example_7", "source": "avm/res/db-for-postgre-sql/flexible-server/README.md", "content_to_embed": "Recommended AVM Module for DBforPostgreSQL Flexible Servers: Primary server and Readonly Replication server - This instance deploys a primary and readonly replication server using the module with the minimum set of required parameters.\nResource Type Path: Microsoft.DBforPostgreSQL/flexibleServers\nModule ID: br/public:avm/res/db-for-postgre-sql/flexible-server:0.15\nParameters:\nparams: {\n    // Required parameters\n    availabilityZone: -1\n    name: 'dfpsrep001'\n    skuName: 'Standard_D2s_v3'\n    tier: 'GeneralPurpose'\n    // Non-required parameters\n    autoGrow: 'Enabled'\n    createMode: '<createMode>'\n    highAvailability: 'Disabled'\n    sourceServerResourceId: '<sourceServerResourceId>'\n    storageSizeGB: 512\n    version: '17'\n  }", "bicep": "module flexibleServer 'br/public:avm/res/db-for-postgre-sql/flexible-server:0.15' = {\n  name: 'flexibleServerDeployment'\n  params: {\n    // Required parameters\n    availabilityZone: -1\n    name: 'dfpsrep001'\n    skuName: 'Standard_D2s_v3'\n    tier: 'GeneralPurpose'\n    // Non-required parameters\n    autoGrow: 'Enabled'\n    createMode: '<createMode>'\n    highAvailability: 'Disabled'\n    sourceServerResourceId: '<sourceServerResourceId>'\n    storageSizeGB: 512\n    version: '17'\n  }\n}"}
{"id": "avm_res_db-for-postgre-sql_flexible-server_example_8", "source": "avm/res/db-for-postgre-sql/flexible-server/README.md", "content_to_embed": "Recommended AVM Module for DBforPostgreSQL Flexible Servers: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.DBforPostgreSQL/flexibleServers\nModule ID: br/public:avm/res/db-for-postgre-sql/flexible-server:0.15\nParameters:\nparams: {\n    // Required parameters\n    availabilityZone: 1\n    name: 'dfpswaf001'\n    skuName: 'Standard_D2s_v3'\n    tier: 'GeneralPurpose'\n    // Non-required parameters\n    administrators: [\n      {\n        objectId: '<objectId>'\n        principalName: '<principalName>'\n        principalType: 'ServicePrincipal'\n      }\n    ]\n    authConfig: {\n      activeDirectoryAuth: 'Enabled'\n      passwordAuth: 'Disabled'\n    }\n    configurations: [\n      {\n        name: 'log_min_messages'\n        source: 'user-override'\n        value: 'INFO'\n      }\n      {\n        name: 'autovacuum_naptime'\n        source: 'user-override'\n        value: '80'\n      }\n    ]\n    databases: [\n      {\n        charset: 'UTF8'\n        collation: 'en_US.utf8'\n        name: 'testdb1'\n      }\n      {\n        name: 'testdb2'\n      }\n    ]\n    delegatedSubnetResourceId: '<delegatedSubnetResourceId>'\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    highAvailability: 'ZoneRedundant'\n    maintenanceWindow: {\n      customWindow: 'Enabled'\n      dayOfWeek: 0\n      startHour: 1\n      startMinute: 0\n    }\n    privateDnsZoneArmResourceId: '<privateDnsZoneArmResourceId>'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module flexibleServer 'br/public:avm/res/db-for-postgre-sql/flexible-server:0.15' = {\n  name: 'flexibleServerDeployment'\n  params: {\n    // Required parameters\n    availabilityZone: 1\n    name: 'dfpswaf001'\n    skuName: 'Standard_D2s_v3'\n    tier: 'GeneralPurpose'\n    // Non-required parameters\n    administrators: [\n      {\n        objectId: '<objectId>'\n        principalName: '<principalName>'\n        principalType: 'ServicePrincipal'\n      }\n    ]\n    authConfig: {\n      activeDirectoryAuth: 'Enabled'\n      passwordAuth: 'Disabled'\n    }\n    configurations: [\n      {\n        name: 'log_min_messages'\n        source: 'user-override'\n        value: 'INFO'\n      }\n      {\n        name: 'autovacuum_naptime'\n        source: 'user-override'\n        value: '80'\n      }\n    ]\n    databases: [\n      {\n        charset: 'UTF8'\n        collation: 'en_US.utf8'\n        name: 'testdb1'\n      }\n      {\n        name: 'testdb2'\n      }\n    ]\n    delegatedSubnetResourceId: '<delegatedSubnetResourceId>'\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    highAvailability: 'ZoneRedundant'\n    maintenanceWindow: {\n      customWindow: 'Enabled'\n      dayOfWeek: 0\n      startHour: 1\n      startMinute: 0\n    }\n    privateDnsZoneArmResourceId: '<privateDnsZoneArmResourceId>'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_desktop-virtualization_application-group_example_1", "source": "avm/res/desktop-virtualization/application-group/README.md", "content_to_embed": "Recommended AVM Module for Azure Virtual Desktop Application Group: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.DesktopVirtualization/applicationGroups\nModule ID: br/public:avm/res/desktop-virtualization/application-group:0.4\nParameters:\nparams: {\n    // Required parameters\n    applicationGroupType: 'Desktop'\n    hostpoolName: '<hostpoolName>'\n    name: 'dvagmin002'\n  }", "bicep": "module applicationGroup 'br/public:avm/res/desktop-virtualization/application-group:0.4' = {\n  name: 'applicationGroupDeployment'\n  params: {\n    // Required parameters\n    applicationGroupType: 'Desktop'\n    hostpoolName: '<hostpoolName>'\n    name: 'dvagmin002'\n  }\n}"}
{"id": "avm_res_desktop-virtualization_application-group_example_2", "source": "avm/res/desktop-virtualization/application-group/README.md", "content_to_embed": "Recommended AVM Module for Azure Virtual Desktop Application Group: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.DesktopVirtualization/applicationGroups\nModule ID: br/public:avm/res/desktop-virtualization/application-group:0.4\nParameters:\nparams: {\n    // Required parameters\n    applicationGroupType: 'RemoteApp'\n    hostpoolName: '<hostpoolName>'\n    name: 'dvagmax002'\n    // Non-required parameters\n    applications: [\n      {\n        commandLineArguments: ''\n        commandLineSetting: 'DoNotAllow'\n        description: 'Notepad by ARM template'\n        filePath: 'C:\\\\Windows\\\\System32\\\\notepad.exe'\n        friendlyName: 'Notepad'\n        iconIndex: 0\n        iconPath: 'C:\\\\Windows\\\\System32\\\\notepad.exe'\n        name: 'notepad'\n        showInPortal: true\n      }\n      {\n        filePath: 'C:\\\\Program Files\\\\Windows NT\\\\Accessories\\\\wordpad.exe'\n        friendlyName: 'Wordpad'\n        name: 'wordpad'\n      }\n    ]\n    description: 'myDescription'\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        logCategoriesAndGroups: [\n          {\n            categoryGroup: 'allLogs'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    roleAssignments: [\n      {\n        name: '30eaf006-ee2d-4a95-921c-87dfdb4c2061'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module applicationGroup 'br/public:avm/res/desktop-virtualization/application-group:0.4' = {\n  name: 'applicationGroupDeployment'\n  params: {\n    // Required parameters\n    applicationGroupType: 'RemoteApp'\n    hostpoolName: '<hostpoolName>'\n    name: 'dvagmax002'\n    // Non-required parameters\n    applications: [\n      {\n        commandLineArguments: ''\n        commandLineSetting: 'DoNotAllow'\n        description: 'Notepad by ARM template'\n        filePath: 'C:\\\\Windows\\\\System32\\\\notepad.exe'\n        friendlyName: 'Notepad'\n        iconIndex: 0\n        iconPath: 'C:\\\\Windows\\\\System32\\\\notepad.exe'\n        name: 'notepad'\n        showInPortal: true\n      }\n      {\n        filePath: 'C:\\\\Program Files\\\\Windows NT\\\\Accessories\\\\wordpad.exe'\n        friendlyName: 'Wordpad'\n        name: 'wordpad'\n      }\n    ]\n    description: 'myDescription'\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        logCategoriesAndGroups: [\n          {\n            categoryGroup: 'allLogs'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    roleAssignments: [\n      {\n        name: '30eaf006-ee2d-4a95-921c-87dfdb4c2061'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_desktop-virtualization_application-group_example_3", "source": "avm/res/desktop-virtualization/application-group/README.md", "content_to_embed": "Recommended AVM Module for Azure Virtual Desktop Application Group: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Well-Architected Framework.\nResource Type Path: Microsoft.DesktopVirtualization/applicationGroups\nModule ID: br/public:avm/res/desktop-virtualization/application-group:0.4\nParameters:\nparams: {\n    // Required parameters\n    applicationGroupType: 'Desktop'\n    hostpoolName: '<hostpoolName>'\n    name: 'dvagwaf002'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module applicationGroup 'br/public:avm/res/desktop-virtualization/application-group:0.4' = {\n  name: 'applicationGroupDeployment'\n  params: {\n    // Required parameters\n    applicationGroupType: 'Desktop'\n    hostpoolName: '<hostpoolName>'\n    name: 'dvagwaf002'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_desktop-virtualization_host-pool_example_1", "source": "avm/res/desktop-virtualization/host-pool/README.md", "content_to_embed": "Recommended AVM Module for Azure Virtual Desktop Host Pool: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.DesktopVirtualization/hostPools\nModule ID: br/public:avm/res/desktop-virtualization/host-pool:0.8\nParameters:\nparams: {\n    name: 'dvhpmin002'\n  }", "bicep": "module hostPool 'br/public:avm/res/desktop-virtualization/host-pool:0.8' = {\n  name: 'hostPoolDeployment'\n  params: {\n    name: 'dvhpmin002'\n  }\n}"}
{"id": "avm_res_desktop-virtualization_host-pool_example_2", "source": "avm/res/desktop-virtualization/host-pool/README.md", "content_to_embed": "Recommended AVM Module for Azure Virtual Desktop Host Pool: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.DesktopVirtualization/hostPools\nModule ID: br/public:avm/res/desktop-virtualization/host-pool:0.8\nParameters:\nparams: {\n    // Required parameters\n    name: 'dvhpmax001'\n    // Non-required parameters\n    agentUpdate: {\n      maintenanceWindows: [\n        {\n          dayOfWeek: 'Friday'\n          hour: 7\n        }\n        {\n          dayOfWeek: 'Saturday'\n          hour: 8\n        }\n      ]\n      maintenanceWindowTimeZone: 'Alaskan Standard Time'\n      type: 'Scheduled'\n      useSessionHostLocalTime: false\n    }\n    customRdpProperty: 'audiocapturemode:i:1;audiomode:i:0;drivestoredirect:s:;redirectclipboard:i:1;redirectcomports:i:1;redirectprinters:i:1;redirectsmartcards:i:1;screen mode id:i:2;'\n    description: 'My first AVD Host Pool'\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        logCategoriesAndGroups: [\n          {\n            categoryGroup: 'allLogs'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    directUDP: 'Enabled'\n    enableTelemetry: true\n    friendlyName: 'AVDv2'\n    hostPoolType: 'Pooled'\n    loadBalancerType: 'BreadthFirst'\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedPrivateUDP: 'Enabled'\n    managementType: 'Automated'\n    maxSessionLimit: 99999\n    personalDesktopAssignmentType: 'Automatic'\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    publicNetworkAccess: 'Disabled'\n    publicUDP: 'Enabled'\n    relayUDP: 'Enabled'\n    roleAssignments: [\n      {\n        name: '52c43567-917f-4c56-8c9b-6cadeef37b51'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    vmTemplate: {\n      customImageId: '<customImageId>'\n      domain: 'domainname.onmicrosoft.com'\n      galleryImageOffer: 'office-365'\n      galleryImagePublisher: 'microsoftwindowsdesktop'\n      galleryImageSKU: '20h1-evd-o365pp'\n      imageType: 'Gallery'\n      imageUri: '<imageUri>'\n      namePrefix: 'avdv2'\n      osDiskType: 'StandardSSD_LRS'\n      useManagedDisks: true\n      vmSize: {\n        cores: 2\n        id: 'Standard_D2s_v3'\n        ram: 8\n      }\n    }\n  }", "bicep": "module hostPool 'br/public:avm/res/desktop-virtualization/host-pool:0.8' = {\n  name: 'hostPoolDeployment'\n  params: {\n    // Required parameters\n    name: 'dvhpmax001'\n    // Non-required parameters\n    agentUpdate: {\n      maintenanceWindows: [\n        {\n          dayOfWeek: 'Friday'\n          hour: 7\n        }\n        {\n          dayOfWeek: 'Saturday'\n          hour: 8\n        }\n      ]\n      maintenanceWindowTimeZone: 'Alaskan Standard Time'\n      type: 'Scheduled'\n      useSessionHostLocalTime: false\n    }\n    customRdpProperty: 'audiocapturemode:i:1;audiomode:i:0;drivestoredirect:s:;redirectclipboard:i:1;redirectcomports:i:1;redirectprinters:i:1;redirectsmartcards:i:1;screen mode id:i:2;'\n    description: 'My first AVD Host Pool'\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        logCategoriesAndGroups: [\n          {\n            categoryGroup: 'allLogs'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    directUDP: 'Enabled'\n    enableTelemetry: true\n    friendlyName: 'AVDv2'\n    hostPoolType: 'Pooled'\n    loadBalancerType: 'BreadthFirst'\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedPrivateUDP: 'Enabled'\n    managementType: 'Automated'\n    maxSessionLimit: 99999\n    personalDesktopAssignmentType: 'Automatic'\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    publicNetworkAccess: 'Disabled'\n    publicUDP: 'Enabled'\n    relayUDP: 'Enabled'\n    roleAssignments: [\n      {\n        name: '52c43567-917f-4c56-8c9b-6cadeef37b51'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    vmTemplate: {\n      customImageId: '<customImageId>'\n      domain: 'domainname.onmicrosoft.com'\n      galleryImageOffer: 'office-365'\n      galleryImagePublisher: 'microsoftwindowsdesktop'\n      galleryImageSKU: '20h1-evd-o365pp'\n      imageType: 'Gallery'\n      imageUri: '<imageUri>'\n      namePrefix: 'avdv2'\n      osDiskType: 'StandardSSD_LRS'\n      useManagedDisks: true\n      vmSize: {\n        cores: 2\n        id: 'Standard_D2s_v3'\n        ram: 8\n      }\n    }\n  }\n}"}
{"id": "avm_res_desktop-virtualization_host-pool_example_3", "source": "avm/res/desktop-virtualization/host-pool/README.md", "content_to_embed": "Recommended AVM Module for Azure Virtual Desktop Host Pool: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.DesktopVirtualization/hostPools\nModule ID: br/public:avm/res/desktop-virtualization/host-pool:0.8\nParameters:\nparams: {\n    // Required parameters\n    name: 'dvhpwaf002'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module hostPool 'br/public:avm/res/desktop-virtualization/host-pool:0.8' = {\n  name: 'hostPoolDeployment'\n  params: {\n    // Required parameters\n    name: 'dvhpwaf002'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_desktop-virtualization_scaling-plan_example_1", "source": "avm/res/desktop-virtualization/scaling-plan/README.md", "content_to_embed": "Recommended AVM Module for Azure Virtual Desktop Scaling Plan: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.DesktopVirtualization/scalingPlans\nModule ID: br/public:avm/res/desktop-virtualization/scaling-plan:0.4\nParameters:\nparams: {\n    name: 'dvspmin002'\n  }", "bicep": "module scalingPlan 'br/public:avm/res/desktop-virtualization/scaling-plan:0.4' = {\n  name: 'scalingPlanDeployment'\n  params: {\n    name: 'dvspmin002'\n  }\n}"}
{"id": "avm_res_desktop-virtualization_scaling-plan_example_2", "source": "avm/res/desktop-virtualization/scaling-plan/README.md", "content_to_embed": "Recommended AVM Module for Azure Virtual Desktop Scaling Plan: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.DesktopVirtualization/scalingPlans\nModule ID: br/public:avm/res/desktop-virtualization/scaling-plan:0.4\nParameters:\nparams: {\n    // Required parameters\n    name: 'dvspmax002'\n    // Non-required parameters\n    description: 'myDescription'\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        logCategoriesAndGroups: [\n          {\n            categoryGroup: 'allLogs'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    friendlyName: 'friendlyName'\n    hostPoolReferences: [\n      {\n        hostPoolResourceId: '<hostPoolResourceId>'\n        scalingPlanEnabled: true\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    roleAssignments: [\n      {\n        name: 'c2c1c560-2169-405a-a8dc-7427e403e5ac'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    schedules: [\n      {\n        daysOfWeek: [\n          'Friday'\n          'Monday'\n          'Thursday'\n          'Wednesday'\n        ]\n        name: 'WeekdaySchedule'\n        offPeakLoadBalancingAlgorithm: 'DepthFirst'\n        offPeakStartTime: {\n          hour: 20\n          minute: 0\n        }\n        peakLoadBalancingAlgorithm: 'DepthFirst'\n        peakStartTime: {\n          hour: 9\n          minute: 0\n        }\n        rampDownCapacityThresholdPct: 90\n        rampDownForceLogoffUsers: true\n        rampDownLoadBalancingAlgorithm: 'DepthFirst'\n        rampDownMinimumHostsPct: 0\n        rampDownNotificationMessage: 'You will be logged off in 30 min. Make sure to save your work.'\n        rampDownStartTime: {\n          hour: 18\n          minute: 0\n        }\n        rampDownStopHostsWhen: 'ZeroActiveSessions'\n        rampDownWaitTimeMinutes: 30\n        rampUpCapacityThresholdPct: 80\n        rampUpLoadBalancingAlgorithm: 'BreadthFirst'\n        rampUpMinimumHostsPct: 20\n        rampUpStartTime: {\n          hour: 7\n          minute: 0\n        }\n      }\n      {\n        daysOfWeek: [\n          'Tuesday'\n        ]\n        name: 'weekdaysSchedule-agent-updates'\n        offPeakLoadBalancingAlgorithm: 'DepthFirst'\n        offPeakStartTime: {\n          hour: 20\n          minute: 0\n        }\n        peakLoadBalancingAlgorithm: 'DepthFirst'\n        peakStartTime: {\n          hour: 9\n          minute: 0\n        }\n        rampDownCapacityThresholdPct: 90\n        rampDownForceLogoffUsers: true\n        rampDownLoadBalancingAlgorithm: 'DepthFirst'\n        rampDownMinimumHostsPct: 0\n        rampDownNotificationMessage: 'You will be logged off in 30 min. Make sure to save your work.'\n        rampDownStartTime: {\n          hour: 19\n          minute: 0\n        }\n        rampDownStopHostsWhen: 'ZeroActiveSessions'\n        rampDownWaitTimeMinutes: 30\n        rampUpCapacityThresholdPct: 80\n        rampUpLoadBalancingAlgorithm: 'BreadthFirst'\n        rampUpMinimumHostsPct: 20\n        rampUpStartTime: {\n          hour: 7\n          minute: 0\n        }\n      }\n      {\n        daysOfWeek: [\n          'Saturday'\n          'Sunday'\n        ]\n        name: 'WeekendSchedule'\n        offPeakLoadBalancingAlgorithm: 'DepthFirst'\n        offPeakStartTime: {\n          hour: 18\n          minute: 0\n        }\n        peakLoadBalancingAlgorithm: 'DepthFirst'\n        peakStartTime: {\n          hour: 10\n          minute: 0\n        }\n        rampDownCapacityThresholdPct: 90\n        rampDownForceLogoffUsers: true\n        rampDownLoadBalancingAlgorithm: 'DepthFirst'\n        rampDownMinimumHostsPct: 0\n        rampDownNotificationMessage: 'You will be logged off in 30 min. Make sure to save your work.'\n        rampDownStartTime: {\n          hour: 16\n          minute: 0\n        }\n        rampDownStopHostsWhen: 'ZeroActiveSessions'\n        rampDownWaitTimeMinutes: 30\n        rampUpCapacityThresholdPct: 90\n        rampUpLoadBalancingAlgorithm: 'DepthFirst'\n        rampUpMinimumHostsPct: 0\n        rampUpStartTime: {\n          hour: 9\n          minute: 0\n        }\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module scalingPlan 'br/public:avm/res/desktop-virtualization/scaling-plan:0.4' = {\n  name: 'scalingPlanDeployment'\n  params: {\n    // Required parameters\n    name: 'dvspmax002'\n    // Non-required parameters\n    description: 'myDescription'\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        logCategoriesAndGroups: [\n          {\n            categoryGroup: 'allLogs'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    friendlyName: 'friendlyName'\n    hostPoolReferences: [\n      {\n        hostPoolResourceId: '<hostPoolResourceId>'\n        scalingPlanEnabled: true\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    roleAssignments: [\n      {\n        name: 'c2c1c560-2169-405a-a8dc-7427e403e5ac'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    schedules: [\n      {\n        daysOfWeek: [\n          'Friday'\n          'Monday'\n          'Thursday'\n          'Wednesday'\n        ]\n        name: 'WeekdaySchedule'\n        offPeakLoadBalancingAlgorithm: 'DepthFirst'\n        offPeakStartTime: {\n          hour: 20\n          minute: 0\n        }\n        peakLoadBalancingAlgorithm: 'DepthFirst'\n        peakStartTime: {\n          hour: 9\n          minute: 0\n        }\n        rampDownCapacityThresholdPct: 90\n        rampDownForceLogoffUsers: true\n        rampDownLoadBalancingAlgorithm: 'DepthFirst'\n        rampDownMinimumHostsPct: 0\n        rampDownNotificationMessage: 'You will be logged off in 30 min. Make sure to save your work.'\n        rampDownStartTime: {\n          hour: 18\n          minute: 0\n        }\n        rampDownStopHostsWhen: 'ZeroActiveSessions'\n        rampDownWaitTimeMinutes: 30\n        rampUpCapacityThresholdPct: 80\n        rampUpLoadBalancingAlgorithm: 'BreadthFirst'\n        rampUpMinimumHostsPct: 20\n        rampUpStartTime: {\n          hour: 7\n          minute: 0\n        }\n      }\n      {\n        daysOfWeek: [\n          'Tuesday'\n        ]\n        name: 'weekdaysSchedule-agent-updates'\n        offPeakLoadBalancingAlgorithm: 'DepthFirst'\n        offPeakStartTime: {\n          hour: 20\n          minute: 0\n        }\n        peakLoadBalancingAlgorithm: 'DepthFirst'\n        peakStartTime: {\n          hour: 9\n          minute: 0\n        }\n        rampDownCapacityThresholdPct: 90\n        rampDownForceLogoffUsers: true\n        rampDownLoadBalancingAlgorithm: 'DepthFirst'\n        rampDownMinimumHostsPct: 0\n        rampDownNotificationMessage: 'You will be logged off in 30 min. Make sure to save your work.'\n        rampDownStartTime: {\n          hour: 19\n          minute: 0\n        }\n        rampDownStopHostsWhen: 'ZeroActiveSessions'\n        rampDownWaitTimeMinutes: 30\n        rampUpCapacityThresholdPct: 80\n        rampUpLoadBalancingAlgorithm: 'BreadthFirst'\n        rampUpMinimumHostsPct: 20\n        rampUpStartTime: {\n          hour: 7\n          minute: 0\n        }\n      }\n      {\n        daysOfWeek: [\n          'Saturday'\n          'Sunday'\n        ]\n        name: 'WeekendSchedule'\n        offPeakLoadBalancingAlgorithm: 'DepthFirst'\n        offPeakStartTime: {\n          hour: 18\n          minute: 0\n        }\n        peakLoadBalancingAlgorithm: 'DepthFirst'\n        peakStartTime: {\n          hour: 10\n          minute: 0\n        }\n        rampDownCapacityThresholdPct: 90\n        rampDownForceLogoffUsers: true\n        rampDownLoadBalancingAlgorithm: 'DepthFirst'\n        rampDownMinimumHostsPct: 0\n        rampDownNotificationMessage: 'You will be logged off in 30 min. Make sure to save your work.'\n        rampDownStartTime: {\n          hour: 16\n          minute: 0\n        }\n        rampDownStopHostsWhen: 'ZeroActiveSessions'\n        rampDownWaitTimeMinutes: 30\n        rampUpCapacityThresholdPct: 90\n        rampUpLoadBalancingAlgorithm: 'DepthFirst'\n        rampUpMinimumHostsPct: 0\n        rampUpStartTime: {\n          hour: 9\n          minute: 0\n        }\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_desktop-virtualization_scaling-plan_example_3", "source": "avm/res/desktop-virtualization/scaling-plan/README.md", "content_to_embed": "Recommended AVM Module for Azure Virtual Desktop Scaling Plan: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.DesktopVirtualization/scalingPlans\nModule ID: br/public:avm/res/desktop-virtualization/scaling-plan:0.4\nParameters:\nparams: {\n    // Required parameters\n    name: 'dvspwaf002'\n    // Non-required parameters\n    description: 'myDescription'\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    friendlyName: 'myFriendlyName'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module scalingPlan 'br/public:avm/res/desktop-virtualization/scaling-plan:0.4' = {\n  name: 'scalingPlanDeployment'\n  params: {\n    // Required parameters\n    name: 'dvspwaf002'\n    // Non-required parameters\n    description: 'myDescription'\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    friendlyName: 'myFriendlyName'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_desktop-virtualization_workspace_example_1", "source": "avm/res/desktop-virtualization/workspace/README.md", "content_to_embed": "Recommended AVM Module for Workspace: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.DesktopVirtualization/workspaces\nModule ID: br/public:avm/res/desktop-virtualization/workspace:0.9\nParameters:\nparams: {\n    name: 'dvwsmin002'\n  }", "bicep": "module workspace 'br/public:avm/res/desktop-virtualization/workspace:0.9' = {\n  name: 'workspaceDeployment'\n  params: {\n    name: 'dvwsmin002'\n  }\n}"}
{"id": "avm_res_desktop-virtualization_workspace_example_2", "source": "avm/res/desktop-virtualization/workspace/README.md", "content_to_embed": "Recommended AVM Module for Workspace: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.DesktopVirtualization/workspaces\nModule ID: br/public:avm/res/desktop-virtualization/workspace:0.9\nParameters:\nparams: {\n    // Required parameters\n    name: 'dvwsmax001'\n    // Non-required parameters\n    applicationGroupReferences: [\n      '<applicationGroupResourceId>'\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        logCategoriesAndGroups: [\n          {\n            categoryGroup: 'allLogs'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    friendlyName: 'AVD Workspace'\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    privateEndpoints: [\n      {\n        customDnsConfigs: []\n        ipConfigurations: [\n          {\n            name: 'myIPconfig-feed1'\n            properties: {\n              groupId: 'feed'\n              memberName: 'web-r0'\n              privateIPAddress: '10.0.0.10'\n            }\n          }\n          {\n            name: 'myIPconfig-feed2'\n            properties: {\n              groupId: 'feed'\n              memberName: 'web-r1'\n              privateIPAddress: '10.0.0.13'\n            }\n          }\n        ]\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Reader'\n          }\n        ]\n        service: 'feed'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n      {\n        customDnsConfigs: []\n        ipConfigurations: [\n          {\n            name: 'myIPconfig-global'\n            properties: {\n              groupId: 'global'\n              memberName: 'web'\n              privateIPAddress: '10.0.0.11'\n            }\n          }\n        ]\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Reader'\n          }\n        ]\n        service: 'global'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n    ]\n    publicNetworkAccess: 'Disabled'\n    roleAssignments: [\n      {\n        name: 'e31e3fcd-816f-49b9-a741-feff792a56d7'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module workspace 'br/public:avm/res/desktop-virtualization/workspace:0.9' = {\n  name: 'workspaceDeployment'\n  params: {\n    // Required parameters\n    name: 'dvwsmax001'\n    // Non-required parameters\n    applicationGroupReferences: [\n      '<applicationGroupResourceId>'\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        logCategoriesAndGroups: [\n          {\n            categoryGroup: 'allLogs'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    friendlyName: 'AVD Workspace'\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    privateEndpoints: [\n      {\n        customDnsConfigs: []\n        ipConfigurations: [\n          {\n            name: 'myIPconfig-feed1'\n            properties: {\n              groupId: 'feed'\n              memberName: 'web-r0'\n              privateIPAddress: '10.0.0.10'\n            }\n          }\n          {\n            name: 'myIPconfig-feed2'\n            properties: {\n              groupId: 'feed'\n              memberName: 'web-r1'\n              privateIPAddress: '10.0.0.13'\n            }\n          }\n        ]\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Reader'\n          }\n        ]\n        service: 'feed'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n      {\n        customDnsConfigs: []\n        ipConfigurations: [\n          {\n            name: 'myIPconfig-global'\n            properties: {\n              groupId: 'global'\n              memberName: 'web'\n              privateIPAddress: '10.0.0.11'\n            }\n          }\n        ]\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Reader'\n          }\n        ]\n        service: 'global'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n    ]\n    publicNetworkAccess: 'Disabled'\n    roleAssignments: [\n      {\n        name: 'e31e3fcd-816f-49b9-a741-feff792a56d7'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_desktop-virtualization_workspace_example_3", "source": "avm/res/desktop-virtualization/workspace/README.md", "content_to_embed": "Recommended AVM Module for Workspace: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Well-Architected Framework.\nResource Type Path: Microsoft.DesktopVirtualization/workspaces\nModule ID: br/public:avm/res/desktop-virtualization/workspace:0.9\nParameters:\nparams: {\n    // Required parameters\n    name: 'dvwswaf002'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    privateEndpoints: [\n      {\n        customDnsConfigs: []\n        ipConfigurations: [\n          {\n            name: 'myIPconfig-feed1'\n            properties: {\n              groupId: 'feed'\n              memberName: 'web-r0'\n              privateIPAddress: '10.0.0.10'\n            }\n          }\n          {\n            name: 'myIPconfig-feed2'\n            properties: {\n              groupId: 'feed'\n              memberName: 'web-r1'\n              privateIPAddress: '10.0.0.13'\n            }\n          }\n        ]\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'feed'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n      {\n        customDnsConfigs: []\n        ipConfigurations: [\n          {\n            name: 'myIPconfig-global'\n            properties: {\n              groupId: 'global'\n              memberName: 'web'\n              privateIPAddress: '10.0.0.11'\n            }\n          }\n        ]\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'global'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module workspace 'br/public:avm/res/desktop-virtualization/workspace:0.9' = {\n  name: 'workspaceDeployment'\n  params: {\n    // Required parameters\n    name: 'dvwswaf002'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    privateEndpoints: [\n      {\n        customDnsConfigs: []\n        ipConfigurations: [\n          {\n            name: 'myIPconfig-feed1'\n            properties: {\n              groupId: 'feed'\n              memberName: 'web-r0'\n              privateIPAddress: '10.0.0.10'\n            }\n          }\n          {\n            name: 'myIPconfig-feed2'\n            properties: {\n              groupId: 'feed'\n              memberName: 'web-r1'\n              privateIPAddress: '10.0.0.13'\n            }\n          }\n        ]\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'feed'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n      {\n        customDnsConfigs: []\n        ipConfigurations: [\n          {\n            name: 'myIPconfig-global'\n            properties: {\n              groupId: 'global'\n              memberName: 'web'\n              privateIPAddress: '10.0.0.11'\n            }\n          }\n        ]\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'global'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_dev-center_devcenter_example_1", "source": "avm/res/dev-center/devcenter/README.md", "content_to_embed": "Recommended AVM Module for Dev Center: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.DevCenter/devcenters\nModule ID: br/public:avm/res/dev-center/devcenter:0.1\nParameters:\nparams: {\n    name: 'dcdcmin001'\n  }", "bicep": "module devcenter 'br/public:avm/res/dev-center/devcenter:0.1' = {\n  name: 'devcenterDeployment'\n  params: {\n    name: 'dcdcmin001'\n  }\n}"}
{"id": "avm_res_dev-center_devcenter_example_2", "source": "avm/res/dev-center/devcenter/README.md", "content_to_embed": "Recommended AVM Module for Dev Center: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.DevCenter/devcenters\nModule ID: br/public:avm/res/dev-center/devcenter:0.1\nParameters:\nparams: {\n    // Required parameters\n    name: '<name>'\n    // Non-required parameters\n    attachedNetworks: [\n      {\n        name: 'test-attached-network'\n        networkConnectionResourceId: '<networkConnectionResourceId>'\n      }\n    ]\n    catalogs: [\n      {\n        gitHub: {\n          branch: 'main'\n          path: 'Environment-Definitions'\n          uri: 'https://github.com/microsoft/devcenter-catalog.git'\n        }\n        name: 'quickstart-catalog'\n        syncType: 'Scheduled'\n      }\n      {\n        adoGit: {\n          branch: 'main'\n          secretIdentifier: '<secretIdentifier>'\n          uri: 'https://contoso@dev.azure.com/contoso/your-project/_git/your-repo'\n        }\n        name: 'testCatalogAzureDevOpsGit'\n        syncType: 'Manual'\n      }\n    ]\n    devboxDefinitions: [\n      {\n        hibernateSupport: 'Enabled'\n        imageResourceId: '<imageResourceId>'\n        name: 'test-devbox-definition-builtin-gallery-image'\n        sku: {\n          capacity: 1\n          family: 'general_i'\n          name: 'general_i_8c32gb512ssd_v2'\n        }\n        tags: {\n          costCenter: '1234'\n        }\n      }\n      {\n        imageResourceId: '<imageResourceId>'\n        name: 'test-devbox-definition-custom-gallery-image'\n        sku: {\n          name: 'general_i_8c32gb256ssd_v2'\n        }\n      }\n    ]\n    devBoxProvisioningSettings: {\n      installAzureMonitorAgentEnableStatus: 'Enabled'\n    }\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    displayName: 'Dev Center Test'\n    environmentTypes: [\n      {\n        displayName: 'Development Environment'\n        name: 'dev'\n        tags: {\n          costCenter: '1234'\n        }\n      }\n      {\n        displayName: 'Testing Environment'\n        name: 'test'\n        tags: {\n          costCenter: '5678'\n        }\n      }\n      {\n        displayName: 'Production Environment'\n        name: 'prod'\n        tags: {\n          costCenter: '9012'\n        }\n      }\n    ]\n    galleries: [\n      {\n        devCenterIdentityPrincipalId: '<devCenterIdentityPrincipalId>'\n        galleryResourceId: '<galleryResourceId>'\n        name: 'computegallery'\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    networkSettings: {\n      microsoftHostedNetworkEnableStatus: 'Disabled'\n    }\n    projectCatalogSettings: {\n      catalogItemSyncEnableStatus: 'Enabled'\n    }\n    projectPolicies: [\n      {\n        name: 'Default'\n        resourcePolicies: [\n          {\n            action: 'Allow'\n            resourceType: 'Images'\n          }\n          {\n            action: 'Allow'\n            resourceType: 'Skus'\n          }\n          {\n            action: 'Allow'\n            resourceType: 'AttachedNetworks'\n          }\n        ]\n      }\n      {\n        name: 'DevProjectsPolicy'\n        projectsResourceIdOrName: [\n          '<value>/providers/Microsoft.DevCenter/projects/test-project-another-resource-group'\n          'test-project-same-resource-group'\n        ]\n        resourcePolicies: [\n          {\n            filter: 'Name eq \\'general_i_8c32gb512ssd_v2\\''\n            resources: '<resources>'\n          }\n          {\n            resources: '<resources>'\n          }\n          {\n            resources: '<resources>'\n          }\n          {\n            action: 'Deny'\n            resourceType: 'AttachedNetworks'\n          }\n        ]\n      }\n    ]\n    projects: [\n      {\n        catalogSettings: {\n          catalogItemSyncTypes: [\n            'EnvironmentDefinition'\n            'ImageDefinition'\n          ]\n        }\n        environmentTypes: [\n          {\n            creatorRoleAssignmentRoles: [\n              'acdd72a7-3385-48ef-bd42-f606fba81ae7'\n            ]\n            deploymentTargetSubscriptionResourceId: '<deploymentTargetSubscriptionResourceId>'\n            displayName: 'My Sandbox Environment Type'\n            managedIdentities: {\n              systemAssigned: false\n              userAssignedResourceIds: [\n                '<managedIdentityResourceId>'\n              ]\n            }\n            name: 'dev'\n            status: 'Enabled'\n          }\n        ]\n        managedIdentities: {\n          userAssignedResourceIds: [\n            '<managedIdentityResourceId>'\n          ]\n        }\n        maxDevBoxesPerUser: 2\n        name: 'test-project-same-resource-group'\n        pools: [\n          {\n            devBoxDefinitionName: 'test-devbox-definition-builtin-gallery-image'\n            devBoxDefinitionType: 'Reference'\n            displayName: 'My Sandbox Pool - Managed Network'\n            localAdministrator: 'Disabled'\n            managedVirtualNetworkRegion: 'westeurope'\n            name: 'sandbox-pool'\n            singleSignOnStatus: 'Enabled'\n            stopOnDisconnect: {\n              gracePeriodMinutes: 60\n              status: 'Enabled'\n            }\n            virtualNetworkType: 'Managed'\n          }\n        ]\n      }\n      {\n        name: 'test-project-another-resource-group'\n        resourceGroupResourceId: '<resourceGroupResourceId>'\n      }\n    ]\n    roleAssignments: [\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'DevCenter Project Admin'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      costCenter: '1234'\n    }\n  }", "bicep": "module devcenter 'br/public:avm/res/dev-center/devcenter:0.1' = {\n  name: 'devcenterDeployment'\n  params: {\n    // Required parameters\n    name: '<name>'\n    // Non-required parameters\n    attachedNetworks: [\n      {\n        name: 'test-attached-network'\n        networkConnectionResourceId: '<networkConnectionResourceId>'\n      }\n    ]\n    catalogs: [\n      {\n        gitHub: {\n          branch: 'main'\n          path: 'Environment-Definitions'\n          uri: 'https://github.com/microsoft/devcenter-catalog.git'\n        }\n        name: 'quickstart-catalog'\n        syncType: 'Scheduled'\n      }\n      {\n        adoGit: {\n          branch: 'main'\n          secretIdentifier: '<secretIdentifier>'\n          uri: 'https://contoso@dev.azure.com/contoso/your-project/_git/your-repo'\n        }\n        name: 'testCatalogAzureDevOpsGit'\n        syncType: 'Manual'\n      }\n    ]\n    devboxDefinitions: [\n      {\n        hibernateSupport: 'Enabled'\n        imageResourceId: '<imageResourceId>'\n        name: 'test-devbox-definition-builtin-gallery-image'\n        sku: {\n          capacity: 1\n          family: 'general_i'\n          name: 'general_i_8c32gb512ssd_v2'\n        }\n        tags: {\n          costCenter: '1234'\n        }\n      }\n      {\n        imageResourceId: '<imageResourceId>'\n        name: 'test-devbox-definition-custom-gallery-image'\n        sku: {\n          name: 'general_i_8c32gb256ssd_v2'\n        }\n      }\n    ]\n    devBoxProvisioningSettings: {\n      installAzureMonitorAgentEnableStatus: 'Enabled'\n    }\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    displayName: 'Dev Center Test'\n    environmentTypes: [\n      {\n        displayName: 'Development Environment'\n        name: 'dev'\n        tags: {\n          costCenter: '1234'\n        }\n      }\n      {\n        displayName: 'Testing Environment'\n        name: 'test'\n        tags: {\n          costCenter: '5678'\n        }\n      }\n      {\n        displayName: 'Production Environment'\n        name: 'prod'\n        tags: {\n          costCenter: '9012'\n        }\n      }\n    ]\n    galleries: [\n      {\n        devCenterIdentityPrincipalId: '<devCenterIdentityPrincipalId>'\n        galleryResourceId: '<galleryResourceId>'\n        name: 'computegallery'\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    networkSettings: {\n      microsoftHostedNetworkEnableStatus: 'Disabled'\n    }\n    projectCatalogSettings: {\n      catalogItemSyncEnableStatus: 'Enabled'\n    }\n    projectPolicies: [\n      {\n        name: 'Default'\n        resourcePolicies: [\n          {\n            action: 'Allow'\n            resourceType: 'Images'\n          }\n          {\n            action: 'Allow'\n            resourceType: 'Skus'\n          }\n          {\n            action: 'Allow'\n            resourceType: 'AttachedNetworks'\n          }\n        ]\n      }\n      {\n        name: 'DevProjectsPolicy'\n        projectsResourceIdOrName: [\n          '<value>/providers/Microsoft.DevCenter/projects/test-project-another-resource-group'\n          'test-project-same-resource-group'\n        ]\n        resourcePolicies: [\n          {\n            filter: 'Name eq \\'general_i_8c32gb512ssd_v2\\''\n            resources: '<resources>'\n          }\n          {\n            resources: '<resources>'\n          }\n          {\n            resources: '<resources>'\n          }\n          {\n            action: 'Deny'\n            resourceType: 'AttachedNetworks'\n          }\n        ]\n      }\n    ]\n    projects: [\n      {\n        catalogSettings: {\n          catalogItemSyncTypes: [\n            'EnvironmentDefinition'\n            'ImageDefinition'\n          ]\n        }\n        environmentTypes: [\n          {\n            creatorRoleAssignmentRoles: [\n              'acdd72a7-3385-48ef-bd42-f606fba81ae7'\n            ]\n            deploymentTargetSubscriptionResourceId: '<deploymentTargetSubscriptionResourceId>'\n            displayName: 'My Sandbox Environment Type'\n            managedIdentities: {\n              systemAssigned: false\n              userAssignedResourceIds: [\n                '<managedIdentityResourceId>'\n              ]\n            }\n            name: 'dev'\n            status: 'Enabled'\n          }\n        ]\n        managedIdentities: {\n          userAssignedResourceIds: [\n            '<managedIdentityResourceId>'\n          ]\n        }\n        maxDevBoxesPerUser: 2\n        name: 'test-project-same-resource-group'\n        pools: [\n          {\n            devBoxDefinitionName: 'test-devbox-definition-builtin-gallery-image'\n            devBoxDefinitionType: 'Reference'\n            displayName: 'My Sandbox Pool - Managed Network'\n            localAdministrator: 'Disabled'\n            managedVirtualNetworkRegion: 'westeurope'\n            name: 'sandbox-pool'\n            singleSignOnStatus: 'Enabled'\n            stopOnDisconnect: {\n              gracePeriodMinutes: 60\n              status: 'Enabled'\n            }\n            virtualNetworkType: 'Managed'\n          }\n        ]\n      }\n      {\n        name: 'test-project-another-resource-group'\n        resourceGroupResourceId: '<resourceGroupResourceId>'\n      }\n    ]\n    roleAssignments: [\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'DevCenter Project Admin'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      costCenter: '1234'\n    }\n  }\n}"}
{"id": "avm_res_dev-center_devcenter_example_3", "source": "avm/res/dev-center/devcenter/README.md", "content_to_embed": "Recommended AVM Module for Dev Center: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.DevCenter/devcenters\nModule ID: br/public:avm/res/dev-center/devcenter:0.1\nParameters:\nparams: {\n    // Required parameters\n    name: '<name>'\n    // Non-required parameters\n    attachedNetworks: [\n      {\n        name: 'test-attached-network'\n        networkConnectionResourceId: '<networkConnectionResourceId>'\n      }\n    ]\n    catalogs: [\n      {\n        gitHub: {\n          branch: 'main'\n          path: 'Environment-Definitions'\n          uri: 'https://github.com/microsoft/devcenter-catalog.git'\n        }\n        name: 'quickstart-catalog'\n        syncType: 'Scheduled'\n      }\n    ]\n    devboxDefinitions: [\n      {\n        hibernateSupport: 'Enabled'\n        imageResourceId: '<imageResourceId>'\n        name: 'test-devbox-definition-builtin-gallery-image'\n        sku: {\n          name: 'general_i_8c32gb512ssd_v2'\n        }\n      }\n    ]\n    devBoxProvisioningSettings: {\n      installAzureMonitorAgentEnableStatus: 'Enabled'\n    }\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    networkSettings: {\n      microsoftHostedNetworkEnableStatus: 'Disabled'\n    }\n    projectCatalogSettings: {\n      catalogItemSyncEnableStatus: 'Enabled'\n    }\n    projectPolicies: [\n      {\n        name: 'Default'\n        resourcePolicies: [\n          {\n            action: 'Allow'\n            resourceType: 'Images'\n          }\n          {\n            action: 'Allow'\n            resourceType: 'Skus'\n          }\n          {\n            action: 'Allow'\n            resourceType: 'AttachedNetworks'\n          }\n        ]\n      }\n    ]\n  }", "bicep": "module devcenter 'br/public:avm/res/dev-center/devcenter:0.1' = {\n  name: 'devcenterDeployment'\n  params: {\n    // Required parameters\n    name: '<name>'\n    // Non-required parameters\n    attachedNetworks: [\n      {\n        name: 'test-attached-network'\n        networkConnectionResourceId: '<networkConnectionResourceId>'\n      }\n    ]\n    catalogs: [\n      {\n        gitHub: {\n          branch: 'main'\n          path: 'Environment-Definitions'\n          uri: 'https://github.com/microsoft/devcenter-catalog.git'\n        }\n        name: 'quickstart-catalog'\n        syncType: 'Scheduled'\n      }\n    ]\n    devboxDefinitions: [\n      {\n        hibernateSupport: 'Enabled'\n        imageResourceId: '<imageResourceId>'\n        name: 'test-devbox-definition-builtin-gallery-image'\n        sku: {\n          name: 'general_i_8c32gb512ssd_v2'\n        }\n      }\n    ]\n    devBoxProvisioningSettings: {\n      installAzureMonitorAgentEnableStatus: 'Enabled'\n    }\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    networkSettings: {\n      microsoftHostedNetworkEnableStatus: 'Disabled'\n    }\n    projectCatalogSettings: {\n      catalogItemSyncEnableStatus: 'Enabled'\n    }\n    projectPolicies: [\n      {\n        name: 'Default'\n        resourcePolicies: [\n          {\n            action: 'Allow'\n            resourceType: 'Images'\n          }\n          {\n            action: 'Allow'\n            resourceType: 'Skus'\n          }\n          {\n            action: 'Allow'\n            resourceType: 'AttachedNetworks'\n          }\n        ]\n      }\n    ]\n  }\n}"}
{"id": "avm_res_dev-center_network-connection_example_1", "source": "avm/res/dev-center/network-connection/README.md", "content_to_embed": "Recommended AVM Module for Dev Center Network Connection: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.DevCenter/networkConnections\nModule ID: br/public:avm/res/dev-center/network-connection:0.1\nParameters:\nparams: {\n    // Required parameters\n    name: 'dcncmin001'\n    subnetResourceId: '<subnetResourceId>'\n  }", "bicep": "module networkConnection 'br/public:avm/res/dev-center/network-connection:0.1' = {\n  name: 'networkConnectionDeployment'\n  params: {\n    // Required parameters\n    name: 'dcncmin001'\n    subnetResourceId: '<subnetResourceId>'\n  }\n}"}
{"id": "avm_res_dev-center_network-connection_example_2", "source": "avm/res/dev-center/network-connection/README.md", "content_to_embed": "Recommended AVM Module for Dev Center Network Connection: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.DevCenter/networkConnections\nModule ID: br/public:avm/res/dev-center/network-connection:0.1\nParameters:\nparams: {\n    // Required parameters\n    name: 'dcncmax001'\n    subnetResourceId: '<subnetResourceId>'\n    // Non-required parameters\n    domainJoinType: 'HybridAzureADJoin'\n    domainName: 'contoso.com'\n    domainPassword: '<domainPassword>'\n    domainUsername: 'admin@contoso.com'\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    networkingResourceGroupName: 'rg-dcncmax-networking'\n    organizationUnit: 'OU=Computers,DC=contoso,DC=com'\n    roleAssignments: [\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Network Contributor'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      costCenter: '1234'\n    }\n  }", "bicep": "module networkConnection 'br/public:avm/res/dev-center/network-connection:0.1' = {\n  name: 'networkConnectionDeployment'\n  params: {\n    // Required parameters\n    name: 'dcncmax001'\n    subnetResourceId: '<subnetResourceId>'\n    // Non-required parameters\n    domainJoinType: 'HybridAzureADJoin'\n    domainName: 'contoso.com'\n    domainPassword: '<domainPassword>'\n    domainUsername: 'admin@contoso.com'\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    networkingResourceGroupName: 'rg-dcncmax-networking'\n    organizationUnit: 'OU=Computers,DC=contoso,DC=com'\n    roleAssignments: [\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Network Contributor'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      costCenter: '1234'\n    }\n  }\n}"}
{"id": "avm_res_dev-center_network-connection_example_3", "source": "avm/res/dev-center/network-connection/README.md", "content_to_embed": "Recommended AVM Module for Dev Center Network Connection: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.DevCenter/networkConnections\nModule ID: br/public:avm/res/dev-center/network-connection:0.1\nParameters:\nparams: {\n    // Required parameters\n    name: 'dcncwaf001'\n    subnetResourceId: '<subnetResourceId>'\n    // Non-required parameters\n    domainJoinType: 'AzureADJoin'\n    networkingResourceGroupName: 'rg-dcncwaf-networking'\n  }", "bicep": "module networkConnection 'br/public:avm/res/dev-center/network-connection:0.1' = {\n  name: 'networkConnectionDeployment'\n  params: {\n    // Required parameters\n    name: 'dcncwaf001'\n    subnetResourceId: '<subnetResourceId>'\n    // Non-required parameters\n    domainJoinType: 'AzureADJoin'\n    networkingResourceGroupName: 'rg-dcncwaf-networking'\n  }\n}"}
{"id": "avm_res_dev-center_project_example_1", "source": "avm/res/dev-center/project/README.md", "content_to_embed": "Recommended AVM Module for Dev Center Project: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.DevCenter/projects\nModule ID: br/public:avm/res/dev-center/project:0.1\nParameters:\nparams: {\n    // Required parameters\n    devCenterResourceId: '<devCenterResourceId>'\n    name: 'dcpmin001'\n  }", "bicep": "module project 'br/public:avm/res/dev-center/project:0.1' = {\n  name: 'projectDeployment'\n  params: {\n    // Required parameters\n    devCenterResourceId: '<devCenterResourceId>'\n    name: 'dcpmin001'\n  }\n}"}
{"id": "avm_res_dev-center_project_example_2", "source": "avm/res/dev-center/project/README.md", "content_to_embed": "Recommended AVM Module for Dev Center Project: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.DevCenter/projects\nModule ID: br/public:avm/res/dev-center/project:0.1\nParameters:\nparams: {\n    // Required parameters\n    devCenterResourceId: '<devCenterResourceId>'\n    name: 'dcpmax001'\n    // Non-required parameters\n    catalogs: [\n      {\n        gitHub: {\n          branch: 'main'\n          path: 'dotnet-dev-orchardcore'\n          secretIdentifier: '<secretIdentifier>'\n          uri: 'https://github.com/microsoft/devcenter-catalog.git'\n        }\n        name: 'testCatalogGitHub'\n        syncType: 'Scheduled'\n        tags: {\n          'test-tag': 'test-value'\n        }\n      }\n      {\n        adoGit: {\n          branch: 'main'\n          secretIdentifier: '<secretIdentifier>'\n          uri: 'https://contoso@dev.azure.com/contoso/your-project/_git/your-repo'\n        }\n        name: 'testCatalogAzureDevOpsGit'\n        syncType: 'Manual'\n      }\n    ]\n    catalogSettings: {\n      catalogItemSyncTypes: [\n        'EnvironmentDefinition'\n        'ImageDefinition'\n      ]\n    }\n    description: 'This is a test project for the Dev Center project module.'\n    displayName: 'My Dev Center Project'\n    environmentTypes: [\n      {\n        creatorRoleAssignmentRoles: [\n          'acdd72a7-3385-48ef-bd42-f606fba81ae7'\n          'b24988ac-6180-42a0-ab88-20f7382dd24c'\n        ]\n        deploymentTargetSubscriptionResourceId: '<deploymentTargetSubscriptionResourceId>'\n        displayName: 'My Sandbox Environment Type'\n        managedIdentities: {\n          systemAssigned: false\n          userAssignedResourceIds: [\n            '<managedIdentity1ResourceId>'\n          ]\n        }\n        name: 'dep-et-dcpmax'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'DevCenter Project Admin'\n          }\n        ]\n        status: 'Enabled'\n        tags: {\n          'prj-type': 'sandbox'\n        }\n        userRoleAssignmentsRoles: [\n          {\n            objectId: '<objectId>'\n            roleDefinitions: [\n              'b59867f0-fa02-499b-be73-45a86b5b3e1c'\n              'e503ece1-11d0-4e8e-8e2c-7a6c3bf38815'\n            ]\n          }\n          {\n            objectId: '<objectId>'\n            roleDefinitions: [\n              '<roleDefinitionId // Custom role>'\n            ]\n          }\n        ]\n      }\n    ]\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentity1ResourceId>'\n      ]\n    }\n    maxDevBoxesPerUser: 2\n    pools: [\n      {\n        devBoxDefinitionName: '<devBoxDefinitionName>'\n        devBoxDefinitionType: 'Reference'\n        displayName: 'My Sandbox Pool - Managed Network'\n        localAdministrator: 'Enabled'\n        managedVirtualNetworkRegion: 'australiaeast'\n        name: 'sandbox-pool'\n        schedule: {\n          state: 'Enabled'\n          time: '18:30'\n          timeZone: 'Australia/Sydney'\n        }\n        singleSignOnStatus: 'Enabled'\n        stopOnDisconnect: {\n          gracePeriodMinutes: 60\n          status: 'Enabled'\n        }\n        stopOnNoConnect: {\n          gracePeriodMinutes: 30\n          status: 'Enabled'\n        }\n        virtualNetworkType: 'Managed'\n      }\n      {\n        devBoxDefinitionName: '<devBoxDefinitionName>'\n        devBoxDefinitionType: 'Reference'\n        displayName: 'My Sandbox Pool - Unmanaged Network'\n        localAdministrator: 'Disabled'\n        name: 'sandbox-pool-2'\n        networkConnectionName: '<networkConnectionName>'\n        singleSignOnStatus: 'Disabled'\n        virtualNetworkType: 'Unmanaged'\n      }\n    ]\n    roleAssignments: [\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'DevCenter Project Admin'\n      }\n      {\n        principalId: '<principalId>'\n        roleDefinitionIdOrName: 'DevCenter Project Admin'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module project 'br/public:avm/res/dev-center/project:0.1' = {\n  name: 'projectDeployment'\n  params: {\n    // Required parameters\n    devCenterResourceId: '<devCenterResourceId>'\n    name: 'dcpmax001'\n    // Non-required parameters\n    catalogs: [\n      {\n        gitHub: {\n          branch: 'main'\n          path: 'dotnet-dev-orchardcore'\n          secretIdentifier: '<secretIdentifier>'\n          uri: 'https://github.com/microsoft/devcenter-catalog.git'\n        }\n        name: 'testCatalogGitHub'\n        syncType: 'Scheduled'\n        tags: {\n          'test-tag': 'test-value'\n        }\n      }\n      {\n        adoGit: {\n          branch: 'main'\n          secretIdentifier: '<secretIdentifier>'\n          uri: 'https://contoso@dev.azure.com/contoso/your-project/_git/your-repo'\n        }\n        name: 'testCatalogAzureDevOpsGit'\n        syncType: 'Manual'\n      }\n    ]\n    catalogSettings: {\n      catalogItemSyncTypes: [\n        'EnvironmentDefinition'\n        'ImageDefinition'\n      ]\n    }\n    description: 'This is a test project for the Dev Center project module.'\n    displayName: 'My Dev Center Project'\n    environmentTypes: [\n      {\n        creatorRoleAssignmentRoles: [\n          'acdd72a7-3385-48ef-bd42-f606fba81ae7'\n          'b24988ac-6180-42a0-ab88-20f7382dd24c'\n        ]\n        deploymentTargetSubscriptionResourceId: '<deploymentTargetSubscriptionResourceId>'\n        displayName: 'My Sandbox Environment Type'\n        managedIdentities: {\n          systemAssigned: false\n          userAssignedResourceIds: [\n            '<managedIdentity1ResourceId>'\n          ]\n        }\n        name: 'dep-et-dcpmax'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'DevCenter Project Admin'\n          }\n        ]\n        status: 'Enabled'\n        tags: {\n          'prj-type': 'sandbox'\n        }\n        userRoleAssignmentsRoles: [\n          {\n            objectId: '<objectId>'\n            roleDefinitions: [\n              'b59867f0-fa02-499b-be73-45a86b5b3e1c'\n              'e503ece1-11d0-4e8e-8e2c-7a6c3bf38815'\n            ]\n          }\n          {\n            objectId: '<objectId>'\n            roleDefinitions: [\n              '<roleDefinitionId // Custom role>'\n            ]\n          }\n        ]\n      }\n    ]\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentity1ResourceId>'\n      ]\n    }\n    maxDevBoxesPerUser: 2\n    pools: [\n      {\n        devBoxDefinitionName: '<devBoxDefinitionName>'\n        devBoxDefinitionType: 'Reference'\n        displayName: 'My Sandbox Pool - Managed Network'\n        localAdministrator: 'Enabled'\n        managedVirtualNetworkRegion: 'australiaeast'\n        name: 'sandbox-pool'\n        schedule: {\n          state: 'Enabled'\n          time: '18:30'\n          timeZone: 'Australia/Sydney'\n        }\n        singleSignOnStatus: 'Enabled'\n        stopOnDisconnect: {\n          gracePeriodMinutes: 60\n          status: 'Enabled'\n        }\n        stopOnNoConnect: {\n          gracePeriodMinutes: 30\n          status: 'Enabled'\n        }\n        virtualNetworkType: 'Managed'\n      }\n      {\n        devBoxDefinitionName: '<devBoxDefinitionName>'\n        devBoxDefinitionType: 'Reference'\n        displayName: 'My Sandbox Pool - Unmanaged Network'\n        localAdministrator: 'Disabled'\n        name: 'sandbox-pool-2'\n        networkConnectionName: '<networkConnectionName>'\n        singleSignOnStatus: 'Disabled'\n        virtualNetworkType: 'Unmanaged'\n      }\n    ]\n    roleAssignments: [\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'DevCenter Project Admin'\n      }\n      {\n        principalId: '<principalId>'\n        roleDefinitionIdOrName: 'DevCenter Project Admin'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_dev-center_project_example_3", "source": "avm/res/dev-center/project/README.md", "content_to_embed": "Recommended AVM Module for Dev Center Project: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.DevCenter/projects\nModule ID: br/public:avm/res/dev-center/project:0.1\nParameters:\nparams: {\n    // Required parameters\n    devCenterResourceId: '<devCenterResourceId>'\n    name: 'dcpwaf001'\n    // Non-required parameters\n    catalogSettings: {\n      catalogItemSyncTypes: [\n        'EnvironmentDefinition'\n        'ImageDefinition'\n      ]\n    }\n    description: 'This is a test project for the Dev Center project module.'\n    displayName: 'My Dev Center Project'\n    environmentTypes: [\n      {\n        creatorRoleAssignmentRoles: [\n          'acdd72a7-3385-48ef-bd42-f606fba81ae7'\n        ]\n        deploymentTargetSubscriptionResourceId: '<deploymentTargetSubscriptionResourceId>'\n        displayName: 'My Sandbox Environment Type'\n        managedIdentities: {\n          systemAssigned: false\n          userAssignedResourceIds: [\n            '<managedIdentityResourceId>'\n          ]\n        }\n        name: 'dep-et-dcpwaf'\n        status: 'Enabled'\n      }\n    ]\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    maxDevBoxesPerUser: 2\n    pools: [\n      {\n        devBoxDefinitionName: '<devBoxDefinitionName>'\n        devBoxDefinitionType: 'Reference'\n        displayName: 'My Sandbox Pool - Managed Network'\n        localAdministrator: 'Disabled'\n        managedVirtualNetworkRegion: 'westeurope'\n        name: 'sandbox-pool'\n        singleSignOnStatus: 'Enabled'\n        stopOnDisconnect: {\n          gracePeriodMinutes: 60\n          status: 'Enabled'\n        }\n        virtualNetworkType: 'Managed'\n      }\n    ]\n  }", "bicep": "module project 'br/public:avm/res/dev-center/project:0.1' = {\n  name: 'projectDeployment'\n  params: {\n    // Required parameters\n    devCenterResourceId: '<devCenterResourceId>'\n    name: 'dcpwaf001'\n    // Non-required parameters\n    catalogSettings: {\n      catalogItemSyncTypes: [\n        'EnvironmentDefinition'\n        'ImageDefinition'\n      ]\n    }\n    description: 'This is a test project for the Dev Center project module.'\n    displayName: 'My Dev Center Project'\n    environmentTypes: [\n      {\n        creatorRoleAssignmentRoles: [\n          'acdd72a7-3385-48ef-bd42-f606fba81ae7'\n        ]\n        deploymentTargetSubscriptionResourceId: '<deploymentTargetSubscriptionResourceId>'\n        displayName: 'My Sandbox Environment Type'\n        managedIdentities: {\n          systemAssigned: false\n          userAssignedResourceIds: [\n            '<managedIdentityResourceId>'\n          ]\n        }\n        name: 'dep-et-dcpwaf'\n        status: 'Enabled'\n      }\n    ]\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    maxDevBoxesPerUser: 2\n    pools: [\n      {\n        devBoxDefinitionName: '<devBoxDefinitionName>'\n        devBoxDefinitionType: 'Reference'\n        displayName: 'My Sandbox Pool - Managed Network'\n        localAdministrator: 'Disabled'\n        managedVirtualNetworkRegion: 'westeurope'\n        name: 'sandbox-pool'\n        singleSignOnStatus: 'Enabled'\n        stopOnDisconnect: {\n          gracePeriodMinutes: 60\n          status: 'Enabled'\n        }\n        virtualNetworkType: 'Managed'\n      }\n    ]\n  }\n}"}
{"id": "avm_res_dev-ops-infrastructure_pool_example_1", "source": "avm/res/dev-ops-infrastructure/pool/README.md", "content_to_embed": "Recommended AVM Module for Managed DevOps Pool: All Week Schema - This instance deploys the module using an All-Week Scheme for the manual scaling prediction configuration.\nResource Type Path: Microsoft.DevOpsInfrastructure/pools\nModule ID: br/public:avm/res/dev-ops-infrastructure/pool:0.7\nParameters:\nparams: {\n    // Required parameters\n    agentProfile: {\n      kind: 'Stateless'\n      resourcePredictions: {\n        daysData: {\n          allWeekScheme: {\n            provisioningCount: 3\n          }\n        }\n        timeZone: 'UTC'\n      }\n      resourcePredictionsProfile: {\n        kind: 'Manual'\n      }\n    }\n    concurrency: 1\n    devCenterProjectResourceId: '<devCenterProjectResourceId>'\n    fabricProfileSkuName: 'Standard_DS2_v2'\n    images: [\n      {\n        wellKnownImageName: 'windows-2022/latest'\n      }\n    ]\n    name: 'mdpwk001'\n    organizationProfile: {\n      kind: 'AzureDevOps'\n      organizations: [\n        {\n          url: '<url>'\n        }\n      ]\n    }\n  }", "bicep": "module pool 'br/public:avm/res/dev-ops-infrastructure/pool:0.7' = {\n  name: 'poolDeployment'\n  params: {\n    // Required parameters\n    agentProfile: {\n      kind: 'Stateless'\n      resourcePredictions: {\n        daysData: {\n          allWeekScheme: {\n            provisioningCount: 3\n          }\n        }\n        timeZone: 'UTC'\n      }\n      resourcePredictionsProfile: {\n        kind: 'Manual'\n      }\n    }\n    concurrency: 1\n    devCenterProjectResourceId: '<devCenterProjectResourceId>'\n    fabricProfileSkuName: 'Standard_DS2_v2'\n    images: [\n      {\n        wellKnownImageName: 'windows-2022/latest'\n      }\n    ]\n    name: 'mdpwk001'\n    organizationProfile: {\n      kind: 'AzureDevOps'\n      organizations: [\n        {\n          url: '<url>'\n        }\n      ]\n    }\n  }\n}"}
{"id": "avm_res_dev-ops-infrastructure_pool_example_2", "source": "avm/res/dev-ops-infrastructure/pool/README.md", "content_to_embed": "Recommended AVM Module for Managed DevOps Pool: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.DevOpsInfrastructure/pools\nModule ID: br/public:avm/res/dev-ops-infrastructure/pool:0.7\nParameters:\nparams: {\n    // Required parameters\n    agentProfile: {\n      kind: 'Stateless'\n    }\n    concurrency: 1\n    devCenterProjectResourceId: '<devCenterProjectResourceId>'\n    fabricProfileSkuName: 'Standard_DS2_v2'\n    images: [\n      {\n        wellKnownImageName: 'windows-2022/latest'\n      }\n    ]\n    name: 'mdpmin001'\n    organizationProfile: {\n      kind: 'AzureDevOps'\n      organizations: [\n        {\n          url: '<url>'\n        }\n      ]\n    }\n  }", "bicep": "module pool 'br/public:avm/res/dev-ops-infrastructure/pool:0.7' = {\n  name: 'poolDeployment'\n  params: {\n    // Required parameters\n    agentProfile: {\n      kind: 'Stateless'\n    }\n    concurrency: 1\n    devCenterProjectResourceId: '<devCenterProjectResourceId>'\n    fabricProfileSkuName: 'Standard_DS2_v2'\n    images: [\n      {\n        wellKnownImageName: 'windows-2022/latest'\n      }\n    ]\n    name: 'mdpmin001'\n    organizationProfile: {\n      kind: 'AzureDevOps'\n      organizations: [\n        {\n          url: '<url>'\n        }\n      ]\n    }\n  }\n}"}
{"id": "avm_res_dev-ops-infrastructure_pool_example_3", "source": "avm/res/dev-ops-infrastructure/pool/README.md", "content_to_embed": "Recommended AVM Module for Managed DevOps Pool: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.DevOpsInfrastructure/pools\nModule ID: br/public:avm/res/dev-ops-infrastructure/pool:0.7\nParameters:\nparams: {\n    // Required parameters\n    agentProfile: {\n      kind: 'Stateless'\n      resourcePredictions: {\n        daysData: {\n          friday: {\n            endAgentCount: 0\n            endTime: '17:00:00'\n            startAgentCount: 1\n            startTime: '09:00:00'\n          }\n          monday: {\n            endAgentCount: 0\n            endTime: '17:00:00'\n            startAgentCount: 1\n            startTime: '09:00:00'\n          }\n        }\n        timeZone: 'UTC'\n      }\n      resourcePredictionsProfile: {\n        kind: 'Manual'\n      }\n    }\n    concurrency: 1\n    devCenterProjectResourceId: '<devCenterProjectResourceId>'\n    fabricProfileSkuName: 'Standard_D2_v2'\n    images: [\n      {\n        aliases: [\n          'windows-2022'\n        ]\n        buffer: '*'\n        ephemeralType: 'Automatic'\n        wellKnownImageName: 'windows-2022/latest'\n      }\n    ]\n    name: 'mdpmax001'\n    organizationProfile: {\n      kind: 'AzureDevOps'\n      organizations: [\n        {\n          openAccess: false\n          parallelism: 1\n          projects: [\n            '<azureDevOpsProjectName>'\n          ]\n          url: '<url>'\n        }\n      ]\n      permissionProfile: {\n        kind: 'CreatorOnly'\n      }\n    }\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: false\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    roleAssignments: [\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n    ]\n    storageProfile: {\n      dataDisks: [\n        {\n          caching: 'ReadWrite'\n          diskSizeGiB: 100\n          driveLetter: 'B'\n          storageAccountType: 'Standard_LRS'\n        }\n      ]\n      osDiskStorageAccountType: 'Standard'\n    }\n    subnetResourceId: '<subnetResourceId>'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module pool 'br/public:avm/res/dev-ops-infrastructure/pool:0.7' = {\n  name: 'poolDeployment'\n  params: {\n    // Required parameters\n    agentProfile: {\n      kind: 'Stateless'\n      resourcePredictions: {\n        daysData: {\n          friday: {\n            endAgentCount: 0\n            endTime: '17:00:00'\n            startAgentCount: 1\n            startTime: '09:00:00'\n          }\n          monday: {\n            endAgentCount: 0\n            endTime: '17:00:00'\n            startAgentCount: 1\n            startTime: '09:00:00'\n          }\n        }\n        timeZone: 'UTC'\n      }\n      resourcePredictionsProfile: {\n        kind: 'Manual'\n      }\n    }\n    concurrency: 1\n    devCenterProjectResourceId: '<devCenterProjectResourceId>'\n    fabricProfileSkuName: 'Standard_D2_v2'\n    images: [\n      {\n        aliases: [\n          'windows-2022'\n        ]\n        buffer: '*'\n        ephemeralType: 'Automatic'\n        wellKnownImageName: 'windows-2022/latest'\n      }\n    ]\n    name: 'mdpmax001'\n    organizationProfile: {\n      kind: 'AzureDevOps'\n      organizations: [\n        {\n          openAccess: false\n          parallelism: 1\n          projects: [\n            '<azureDevOpsProjectName>'\n          ]\n          url: '<url>'\n        }\n      ]\n      permissionProfile: {\n        kind: 'CreatorOnly'\n      }\n    }\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: false\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    roleAssignments: [\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n    ]\n    storageProfile: {\n      dataDisks: [\n        {\n          caching: 'ReadWrite'\n          diskSizeGiB: 100\n          driveLetter: 'B'\n          storageAccountType: 'Standard_LRS'\n        }\n      ]\n      osDiskStorageAccountType: 'Standard'\n    }\n    subnetResourceId: '<subnetResourceId>'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_dev-ops-infrastructure_pool_example_4", "source": "avm/res/dev-ops-infrastructure/pool/README.md", "content_to_embed": "Recommended AVM Module for Managed DevOps Pool: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.DevOpsInfrastructure/pools\nModule ID: br/public:avm/res/dev-ops-infrastructure/pool:0.7\nParameters:\nparams: {\n    // Required parameters\n    agentProfile: {\n      kind: 'Stateless'\n      resourcePredictionsProfile: {\n        kind: 'Automatic'\n        predictionPreference: 'Balanced'\n      }\n    }\n    concurrency: 1\n    devCenterProjectResourceId: '<devCenterProjectResourceId>'\n    fabricProfileSkuName: 'Standard_D2_v2'\n    images: [\n      {\n        ephemeralType: 'CacheDisk'\n        wellKnownImageName: 'windows-2022/latest'\n      }\n    ]\n    name: 'mdpwaf001'\n    organizationProfile: {\n      kind: 'AzureDevOps'\n      organizations: [\n        {\n          openAccess: false\n          parallelism: 1\n          projects: [\n            '<azureDevOpsProjectName>'\n          ]\n          url: '<url>'\n        }\n      ]\n      permissionProfile: {\n        kind: 'CreatorOnly'\n      }\n    }\n    // Non-required parameters\n    location: '<location>'\n    subnetResourceId: '<subnetResourceId>'\n  }", "bicep": "module pool 'br/public:avm/res/dev-ops-infrastructure/pool:0.7' = {\n  name: 'poolDeployment'\n  params: {\n    // Required parameters\n    agentProfile: {\n      kind: 'Stateless'\n      resourcePredictionsProfile: {\n        kind: 'Automatic'\n        predictionPreference: 'Balanced'\n      }\n    }\n    concurrency: 1\n    devCenterProjectResourceId: '<devCenterProjectResourceId>'\n    fabricProfileSkuName: 'Standard_D2_v2'\n    images: [\n      {\n        ephemeralType: 'CacheDisk'\n        wellKnownImageName: 'windows-2022/latest'\n      }\n    ]\n    name: 'mdpwaf001'\n    organizationProfile: {\n      kind: 'AzureDevOps'\n      organizations: [\n        {\n          openAccess: false\n          parallelism: 1\n          projects: [\n            '<azureDevOpsProjectName>'\n          ]\n          url: '<url>'\n        }\n      ]\n      permissionProfile: {\n        kind: 'CreatorOnly'\n      }\n    }\n    // Non-required parameters\n    location: '<location>'\n    subnetResourceId: '<subnetResourceId>'\n  }\n}"}
{"id": "avm_res_dev-ops-infrastructure_pool_example_5", "source": "avm/res/dev-ops-infrastructure/pool/README.md", "content_to_embed": "Recommended AVM Module for Managed DevOps Pool: Week Days Schema - This instance deploys the module using an Week Days Scheme for the manual scaling prediction configuration.\nResource Type Path: Microsoft.DevOpsInfrastructure/pools\nModule ID: br/public:avm/res/dev-ops-infrastructure/pool:0.7\nParameters:\nparams: {\n    // Required parameters\n    agentProfile: {\n      kind: 'Stateless'\n      resourcePredictions: {\n        daysData: {\n          weekDaysScheme: {\n            endAgentCount: 0\n            endTime: '17:00:00'\n            startAgentCount: 1\n            startTime: '09:00:00'\n          }\n        }\n        timeZone: 'UTC'\n      }\n      resourcePredictionsProfile: {\n        kind: 'Manual'\n      }\n    }\n    concurrency: 1\n    devCenterProjectResourceId: '<devCenterProjectResourceId>'\n    fabricProfileSkuName: 'Standard_DS2_v2'\n    images: [\n      {\n        wellKnownImageName: 'windows-2022/latest'\n      }\n    ]\n    name: 'mdpwkd001'\n    organizationProfile: {\n      kind: 'AzureDevOps'\n      organizations: [\n        {\n          url: '<url>'\n        }\n      ]\n    }\n  }", "bicep": "module pool 'br/public:avm/res/dev-ops-infrastructure/pool:0.7' = {\n  name: 'poolDeployment'\n  params: {\n    // Required parameters\n    agentProfile: {\n      kind: 'Stateless'\n      resourcePredictions: {\n        daysData: {\n          weekDaysScheme: {\n            endAgentCount: 0\n            endTime: '17:00:00'\n            startAgentCount: 1\n            startTime: '09:00:00'\n          }\n        }\n        timeZone: 'UTC'\n      }\n      resourcePredictionsProfile: {\n        kind: 'Manual'\n      }\n    }\n    concurrency: 1\n    devCenterProjectResourceId: '<devCenterProjectResourceId>'\n    fabricProfileSkuName: 'Standard_DS2_v2'\n    images: [\n      {\n        wellKnownImageName: 'windows-2022/latest'\n      }\n    ]\n    name: 'mdpwkd001'\n    organizationProfile: {\n      kind: 'AzureDevOps'\n      organizations: [\n        {\n          url: '<url>'\n        }\n      ]\n    }\n  }\n}"}
{"id": "avm_res_dev-test-lab_lab_example_1", "source": "avm/res/dev-test-lab/lab/README.md", "content_to_embed": "Recommended AVM Module for DevTest Labs: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.DevTestLab/labs\nModule ID: br/public:avm/res/dev-test-lab/lab:0.5\nParameters:\nparams: {\n    // Required parameters\n    name: 'dtllmin001'\n    // Non-required parameters\n    location: '<location>'\n  }", "bicep": "module lab 'br/public:avm/res/dev-test-lab/lab:0.5' = {\n  name: 'labDeployment'\n  params: {\n    // Required parameters\n    name: 'dtllmin001'\n    // Non-required parameters\n    location: '<location>'\n  }\n}"}
{"id": "avm_res_dev-test-lab_lab_example_2", "source": "avm/res/dev-test-lab/lab/README.md", "content_to_embed": "Recommended AVM Module for DevTest Labs: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.DevTestLab/labs\nModule ID: br/public:avm/res/dev-test-lab/lab:0.5\nParameters:\nparams: {\n    // Required parameters\n    name: 'dtllmax001'\n    // Non-required parameters\n    announcement: {\n      enabled: 'Enabled'\n      expirationDate: '2028-12-30T13:00:00Z'\n      markdown: 'DevTest Lab announcement text. <br> New line. It also supports Markdown'\n      title: 'DevTest announcement title'\n    }\n    artifactsources: [\n      {\n        displayName: 'Public Artifact Repo'\n        folderPath: '/Artifacts'\n        name: 'Public Repo'\n        sourceType: 'GitHub'\n        status: 'Enabled'\n        uri: 'https://github.com/Azure/azure-devtestlab.git'\n      }\n      {\n        armTemplateFolderPath: '/Environments'\n        branchRef: 'master'\n        displayName: 'Public Environment Repo'\n        name: 'Public Environment Repo'\n        sourceType: 'GitHub'\n        status: 'Disabled'\n        tags: {\n          'hidden-title': 'This is visible in the resource name'\n          labName: 'dtllmax001'\n          resourceType: 'DevTest Lab'\n        }\n        uri: 'https://github.com/Azure/azure-devtestlab.git'\n      }\n      {\n        armTemplateFolderPath: '/ArmTemplates'\n        branchRef: 'main'\n        displayName: 'Private Artifact Repo'\n        folderPath: '/Artifacts'\n        name: 'Private Repo'\n        securityToken: '<securityToken>'\n        status: 'Disabled'\n        uri: 'https://github.com/Azure/azure-devtestlab.git'\n      }\n    ]\n    artifactsStorageAccount: '<artifactsStorageAccount>'\n    browserConnect: 'Enabled'\n    costs: {\n      currencyCode: 'AUD'\n      cycleType: 'CalendarMonth'\n      status: 'Enabled'\n      target: 450\n      thresholdValue100DisplayOnChart: 'Enabled'\n      thresholdValue100SendNotificationWhenExceeded: 'Enabled'\n      thresholdValue125DisplayOnChart: 'Disabled'\n      thresholdValue75DisplayOnChart: 'Enabled'\n    }\n    disableAutoUpgradeCseMinorVersion: true\n    encryptionDiskEncryptionSetId: '<encryptionDiskEncryptionSetId>'\n    encryptionType: 'EncryptionAtRestWithCustomerKey'\n    environmentPermission: 'Contributor'\n    extendedProperties: {\n      RdpConnectionType: '7'\n    }\n    isolateLabResources: 'Enabled'\n    labStorageType: 'Premium'\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    managementIdentitiesResourceIds: [\n      '<managedIdentityResourceId>'\n    ]\n    notificationchannels: [\n      {\n        description: 'Integration configured for auto-shutdown'\n        emailRecipient: 'mail@contosodtlmail.com'\n        events: [\n          'AutoShutdown'\n        ]\n        name: 'autoShutdown'\n        notificationLocale: 'en'\n        webHookUrl: 'https://webhook.contosotest.com'\n      }\n      {\n        events: [\n          'Cost'\n        ]\n        name: 'costThreshold'\n        webHookUrl: 'https://webhook.contosotest.com'\n      }\n    ]\n    policies: [\n      {\n        evaluatorType: 'MaxValuePolicy'\n        factData: '<factData>'\n        factName: 'UserOwnedLabVmCountInSubnet'\n        name: '<name>'\n        threshold: '1'\n      }\n      {\n        evaluatorType: 'MaxValuePolicy'\n        factName: 'UserOwnedLabVmCount'\n        name: 'MaxVmsAllowedPerUser'\n        threshold: '2'\n      }\n      {\n        evaluatorType: 'MaxValuePolicy'\n        factName: 'UserOwnedLabPremiumVmCount'\n        name: 'MaxPremiumVmsAllowedPerUser'\n        status: 'Disabled'\n        threshold: '1'\n      }\n      {\n        evaluatorType: 'MaxValuePolicy'\n        factName: 'LabVmCount'\n        name: 'MaxVmsAllowedPerLab'\n        threshold: '3'\n      }\n      {\n        evaluatorType: 'MaxValuePolicy'\n        factName: 'LabPremiumVmCount'\n        name: 'MaxPremiumVmsAllowedPerLab'\n        threshold: '2'\n      }\n      {\n        evaluatorType: 'AllowedValuesPolicy'\n        factData: ''\n        factName: 'LabVmSize'\n        name: 'AllowedVmSizesInLab'\n        status: 'Enabled'\n        threshold: '<threshold>'\n      }\n      {\n        evaluatorType: 'AllowedValuesPolicy'\n        factName: 'ScheduleEditPermission'\n        name: 'ScheduleEditPermission'\n        threshold: '<threshold>'\n      }\n      {\n        evaluatorType: 'AllowedValuesPolicy'\n        factName: 'GalleryImage'\n        name: 'GalleryImage'\n        threshold: '<threshold>'\n      }\n      {\n        description: 'Public Environment Policy'\n        evaluatorType: 'AllowedValuesPolicy'\n        factName: 'EnvironmentTemplate'\n        name: 'EnvironmentTemplate'\n        threshold: '<threshold>'\n      }\n    ]\n    premiumDataDisks: 'Enabled'\n    roleAssignments: [\n      {\n        name: 'b08c589c-2c79-41bd-8195-d5e62ad12f67'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    schedules: [\n      {\n        dailyRecurrence: {\n          time: '0000'\n        }\n        name: 'LabVmsShutdown'\n        notificationSettings: {\n          status: 'Enabled'\n          timeInMinutes: 30\n        }\n        status: 'Enabled'\n        taskType: 'LabVmsShutdownTask'\n        timeZoneId: 'AUS Eastern Standard Time'\n      }\n      {\n        name: 'LabVmAutoStart'\n        status: 'Enabled'\n        taskType: 'LabVmsStartupTask'\n        timeZoneId: 'AUS Eastern Standard Time'\n        weeklyRecurrence: {\n          time: '0700'\n          weekdays: [\n            'Friday'\n            'Monday'\n            'Thursday'\n            'Tuesday'\n            'Wednesday'\n          ]\n        }\n      }\n    ]\n    secrets: [\n      {\n        name: 'labSecret1'\n        value: '<value>'\n      }\n    ]\n    storageAccountAccess: '<storageAccountAccess>'\n    support: {\n      enabled: 'Enabled'\n      markdown: 'DevTest Lab support text. <br> New line. It also supports Markdown'\n    }\n    tags: {\n      'hidden-title': 'This is visible in the resource name'\n      labName: 'dtllmax001'\n      resourceType: 'DevTest Lab'\n    }\n    virtualnetworks: [\n      {\n        allowedSubnets: [\n          {\n            allowPublicIp: 'Allow'\n            labSubnetName: '<labSubnetName>'\n            resourceId: '<resourceId>'\n          }\n          {\n            allowPublicIp: 'Deny'\n            labSubnetName: '<labSubnetName>'\n            resourceId: '<resourceId>'\n          }\n        ]\n        description: 'lab virtual network description'\n        externalProviderResourceId: '<externalProviderResourceId>'\n        name: '<name>'\n        subnetOverrides: [\n          {\n            labSubnetName: '<labSubnetName>'\n            resourceId: '<resourceId>'\n            sharedPublicIpAddressConfiguration: {\n              allowedPorts: [\n                {\n                  backendPort: 3389\n                  transportProtocol: 'Tcp'\n                }\n                {\n                  backendPort: 22\n                  transportProtocol: 'Tcp'\n                }\n              ]\n            }\n            useInVmCreationPermission: 'Allow'\n            usePublicIpAddressPermission: 'Allow'\n          }\n          {\n            labSubnetName: '<labSubnetName>'\n            resourceId: '<resourceId>'\n            useInVmCreationPermission: 'Deny'\n            usePublicIpAddressPermission: 'Deny'\n          }\n        ]\n      }\n    ]\n    vmCreationResourceGroupId: '<vmCreationResourceGroupId>'\n  }", "bicep": "module lab 'br/public:avm/res/dev-test-lab/lab:0.5' = {\n  name: 'labDeployment'\n  params: {\n    // Required parameters\n    name: 'dtllmax001'\n    // Non-required parameters\n    announcement: {\n      enabled: 'Enabled'\n      expirationDate: '2028-12-30T13:00:00Z'\n      markdown: 'DevTest Lab announcement text. <br> New line. It also supports Markdown'\n      title: 'DevTest announcement title'\n    }\n    artifactsources: [\n      {\n        displayName: 'Public Artifact Repo'\n        folderPath: '/Artifacts'\n        name: 'Public Repo'\n        sourceType: 'GitHub'\n        status: 'Enabled'\n        uri: 'https://github.com/Azure/azure-devtestlab.git'\n      }\n      {\n        armTemplateFolderPath: '/Environments'\n        branchRef: 'master'\n        displayName: 'Public Environment Repo'\n        name: 'Public Environment Repo'\n        sourceType: 'GitHub'\n        status: 'Disabled'\n        tags: {\n          'hidden-title': 'This is visible in the resource name'\n          labName: 'dtllmax001'\n          resourceType: 'DevTest Lab'\n        }\n        uri: 'https://github.com/Azure/azure-devtestlab.git'\n      }\n      {\n        armTemplateFolderPath: '/ArmTemplates'\n        branchRef: 'main'\n        displayName: 'Private Artifact Repo'\n        folderPath: '/Artifacts'\n        name: 'Private Repo'\n        securityToken: '<securityToken>'\n        status: 'Disabled'\n        uri: 'https://github.com/Azure/azure-devtestlab.git'\n      }\n    ]\n    artifactsStorageAccount: '<artifactsStorageAccount>'\n    browserConnect: 'Enabled'\n    costs: {\n      currencyCode: 'AUD'\n      cycleType: 'CalendarMonth'\n      status: 'Enabled'\n      target: 450\n      thresholdValue100DisplayOnChart: 'Enabled'\n      thresholdValue100SendNotificationWhenExceeded: 'Enabled'\n      thresholdValue125DisplayOnChart: 'Disabled'\n      thresholdValue75DisplayOnChart: 'Enabled'\n    }\n    disableAutoUpgradeCseMinorVersion: true\n    encryptionDiskEncryptionSetId: '<encryptionDiskEncryptionSetId>'\n    encryptionType: 'EncryptionAtRestWithCustomerKey'\n    environmentPermission: 'Contributor'\n    extendedProperties: {\n      RdpConnectionType: '7'\n    }\n    isolateLabResources: 'Enabled'\n    labStorageType: 'Premium'\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    managementIdentitiesResourceIds: [\n      '<managedIdentityResourceId>'\n    ]\n    notificationchannels: [\n      {\n        description: 'Integration configured for auto-shutdown'\n        emailRecipient: 'mail@contosodtlmail.com'\n        events: [\n          'AutoShutdown'\n        ]\n        name: 'autoShutdown'\n        notificationLocale: 'en'\n        webHookUrl: 'https://webhook.contosotest.com'\n      }\n      {\n        events: [\n          'Cost'\n        ]\n        name: 'costThreshold'\n        webHookUrl: 'https://webhook.contosotest.com'\n      }\n    ]\n    policies: [\n      {\n        evaluatorType: 'MaxValuePolicy'\n        factData: '<factData>'\n        factName: 'UserOwnedLabVmCountInSubnet'\n        name: '<name>'\n        threshold: '1'\n      }\n      {\n        evaluatorType: 'MaxValuePolicy'\n        factName: 'UserOwnedLabVmCount'\n        name: 'MaxVmsAllowedPerUser'\n        threshold: '2'\n      }\n      {\n        evaluatorType: 'MaxValuePolicy'\n        factName: 'UserOwnedLabPremiumVmCount'\n        name: 'MaxPremiumVmsAllowedPerUser'\n        status: 'Disabled'\n        threshold: '1'\n      }\n      {\n        evaluatorType: 'MaxValuePolicy'\n        factName: 'LabVmCount'\n        name: 'MaxVmsAllowedPerLab'\n        threshold: '3'\n      }\n      {\n        evaluatorType: 'MaxValuePolicy'\n        factName: 'LabPremiumVmCount'\n        name: 'MaxPremiumVmsAllowedPerLab'\n        threshold: '2'\n      }\n      {\n        evaluatorType: 'AllowedValuesPolicy'\n        factData: ''\n        factName: 'LabVmSize'\n        name: 'AllowedVmSizesInLab'\n        status: 'Enabled'\n        threshold: '<threshold>'\n      }\n      {\n        evaluatorType: 'AllowedValuesPolicy'\n        factName: 'ScheduleEditPermission'\n        name: 'ScheduleEditPermission'\n        threshold: '<threshold>'\n      }\n      {\n        evaluatorType: 'AllowedValuesPolicy'\n        factName: 'GalleryImage'\n        name: 'GalleryImage'\n        threshold: '<threshold>'\n      }\n      {\n        description: 'Public Environment Policy'\n        evaluatorType: 'AllowedValuesPolicy'\n        factName: 'EnvironmentTemplate'\n        name: 'EnvironmentTemplate'\n        threshold: '<threshold>'\n      }\n    ]\n    premiumDataDisks: 'Enabled'\n    roleAssignments: [\n      {\n        name: 'b08c589c-2c79-41bd-8195-d5e62ad12f67'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    schedules: [\n      {\n        dailyRecurrence: {\n          time: '0000'\n        }\n        name: 'LabVmsShutdown'\n        notificationSettings: {\n          status: 'Enabled'\n          timeInMinutes: 30\n        }\n        status: 'Enabled'\n        taskType: 'LabVmsShutdownTask'\n        timeZoneId: 'AUS Eastern Standard Time'\n      }\n      {\n        name: 'LabVmAutoStart'\n        status: 'Enabled'\n        taskType: 'LabVmsStartupTask'\n        timeZoneId: 'AUS Eastern Standard Time'\n        weeklyRecurrence: {\n          time: '0700'\n          weekdays: [\n            'Friday'\n            'Monday'\n            'Thursday'\n            'Tuesday'\n            'Wednesday'\n          ]\n        }\n      }\n    ]\n    secrets: [\n      {\n        name: 'labSecret1'\n        value: '<value>'\n      }\n    ]\n    storageAccountAccess: '<storageAccountAccess>'\n    support: {\n      enabled: 'Enabled'\n      markdown: 'DevTest Lab support text. <br> New line. It also supports Markdown'\n    }\n    tags: {\n      'hidden-title': 'This is visible in the resource name'\n      labName: 'dtllmax001'\n      resourceType: 'DevTest Lab'\n    }\n    virtualnetworks: [\n      {\n        allowedSubnets: [\n          {\n            allowPublicIp: 'Allow'\n            labSubnetName: '<labSubnetName>'\n            resourceId: '<resourceId>'\n          }\n          {\n            allowPublicIp: 'Deny'\n            labSubnetName: '<labSubnetName>'\n            resourceId: '<resourceId>'\n          }\n        ]\n        description: 'lab virtual network description'\n        externalProviderResourceId: '<externalProviderResourceId>'\n        name: '<name>'\n        subnetOverrides: [\n          {\n            labSubnetName: '<labSubnetName>'\n            resourceId: '<resourceId>'\n            sharedPublicIpAddressConfiguration: {\n              allowedPorts: [\n                {\n                  backendPort: 3389\n                  transportProtocol: 'Tcp'\n                }\n                {\n                  backendPort: 22\n                  transportProtocol: 'Tcp'\n                }\n              ]\n            }\n            useInVmCreationPermission: 'Allow'\n            usePublicIpAddressPermission: 'Allow'\n          }\n          {\n            labSubnetName: '<labSubnetName>'\n            resourceId: '<resourceId>'\n            useInVmCreationPermission: 'Deny'\n            usePublicIpAddressPermission: 'Deny'\n          }\n        ]\n      }\n    ]\n    vmCreationResourceGroupId: '<vmCreationResourceGroupId>'\n  }\n}"}
{"id": "avm_res_dev-test-lab_lab_example_3", "source": "avm/res/dev-test-lab/lab/README.md", "content_to_embed": "Recommended AVM Module for DevTest Labs: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.DevTestLab/labs\nModule ID: br/public:avm/res/dev-test-lab/lab:0.5\nParameters:\nparams: {\n    // Required parameters\n    name: 'dtllwaf001'\n    // Non-required parameters\n    location: '<location>'\n    tags: {\n      'hidden-title': 'This is visible in the resource name'\n      labName: 'dtllwaf001'\n      resourceType: 'DevTest Lab'\n    }\n  }", "bicep": "module lab 'br/public:avm/res/dev-test-lab/lab:0.5' = {\n  name: 'labDeployment'\n  params: {\n    // Required parameters\n    name: 'dtllwaf001'\n    // Non-required parameters\n    location: '<location>'\n    tags: {\n      'hidden-title': 'This is visible in the resource name'\n      labName: 'dtllwaf001'\n      resourceType: 'DevTest Lab'\n    }\n  }\n}"}
{"id": "avm_res_digital-twins_digital-twins-instance_example_1", "source": "avm/res/digital-twins/digital-twins-instance/README.md", "content_to_embed": "Recommended AVM Module for Digital Twins Instances: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.DigitalTwins/digitalTwinsInstances\nModule ID: br/public:avm/res/digital-twins/digital-twins-instance:0.4\nParameters:\nparams: {\n    name: 'dtdimin001'\n  }", "bicep": "module digitalTwinsInstance 'br/public:avm/res/digital-twins/digital-twins-instance:0.4' = {\n  name: 'digitalTwinsInstanceDeployment'\n  params: {\n    name: 'dtdimin001'\n  }\n}"}
{"id": "avm_res_digital-twins_digital-twins-instance_example_2", "source": "avm/res/digital-twins/digital-twins-instance/README.md", "content_to_embed": "Recommended AVM Module for Digital Twins Instances: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.DigitalTwins/digitalTwinsInstances\nModule ID: br/public:avm/res/digital-twins/digital-twins-instance:0.4\nParameters:\nparams: {\n    // Required parameters\n    name: 'dtdmax001'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    endpoints: [\n      {\n        name: 'EventGridPrimary'\n        properties: {\n          endpointType: 'EventGrid'\n          eventGridTopicResourceId: '<eventGridTopicResourceId>'\n        }\n      }\n      {\n        name: 'IdentityBasedEndpoint'\n        properties: {\n          authentication: {\n            eventHubResourceId: '<eventHubResourceId>'\n            managedIdentities: {\n              userAssignedResourceId: '<userAssignedResourceId>'\n            }\n            type: 'IdentityBased'\n          }\n          endpointType: 'EventHub'\n        }\n      }\n      {\n        name: 'KeyBasedEndpoint'\n        properties: {\n          authentication: {\n            eventHubAuthorizationRuleName: '<eventHubAuthorizationRuleName>'\n            eventHubResourceId: '<eventHubResourceId>'\n            type: 'KeyBased'\n          }\n          endpointType: 'EventHub'\n        }\n      }\n      {\n        name: 'IdentityBasedServiceBusPrimaryEndpoint'\n        properties: {\n          authentication: {\n            managedIdentities: {\n              userAssignedResourceId: '<userAssignedResourceId>'\n            }\n            serviceBusNamespaceTopicResourceId: '<serviceBusNamespaceTopicResourceId>'\n            type: 'IdentityBased'\n          }\n          endpointType: 'ServiceBus'\n        }\n      }\n      {\n        name: 'IdentityBasedServiceBusSecondaryEndpoint'\n        properties: {\n          authentication: {\n            managedIdentities: {\n              systemAssigned: true\n            }\n            serviceBusNamespaceTopicResourceId: '<serviceBusNamespaceTopicResourceId>'\n            type: 'IdentityBased'\n          }\n          endpointType: 'ServiceBus'\n        }\n      }\n      {\n        name: 'KeyBasedServiceBusEndpoint'\n        properties: {\n          authentication: {\n            serviceBusNamespaceTopicAuthorizationRuleName: '<serviceBusNamespaceTopicAuthorizationRuleName>'\n            serviceBusNamespaceTopicResourceId: '<serviceBusNamespaceTopicResourceId>'\n            type: 'KeyBased'\n          }\n          endpointType: 'ServiceBus'\n        }\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    roleAssignments: [\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module digitalTwinsInstance 'br/public:avm/res/digital-twins/digital-twins-instance:0.4' = {\n  name: 'digitalTwinsInstanceDeployment'\n  params: {\n    // Required parameters\n    name: 'dtdmax001'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    endpoints: [\n      {\n        name: 'EventGridPrimary'\n        properties: {\n          endpointType: 'EventGrid'\n          eventGridTopicResourceId: '<eventGridTopicResourceId>'\n        }\n      }\n      {\n        name: 'IdentityBasedEndpoint'\n        properties: {\n          authentication: {\n            eventHubResourceId: '<eventHubResourceId>'\n            managedIdentities: {\n              userAssignedResourceId: '<userAssignedResourceId>'\n            }\n            type: 'IdentityBased'\n          }\n          endpointType: 'EventHub'\n        }\n      }\n      {\n        name: 'KeyBasedEndpoint'\n        properties: {\n          authentication: {\n            eventHubAuthorizationRuleName: '<eventHubAuthorizationRuleName>'\n            eventHubResourceId: '<eventHubResourceId>'\n            type: 'KeyBased'\n          }\n          endpointType: 'EventHub'\n        }\n      }\n      {\n        name: 'IdentityBasedServiceBusPrimaryEndpoint'\n        properties: {\n          authentication: {\n            managedIdentities: {\n              userAssignedResourceId: '<userAssignedResourceId>'\n            }\n            serviceBusNamespaceTopicResourceId: '<serviceBusNamespaceTopicResourceId>'\n            type: 'IdentityBased'\n          }\n          endpointType: 'ServiceBus'\n        }\n      }\n      {\n        name: 'IdentityBasedServiceBusSecondaryEndpoint'\n        properties: {\n          authentication: {\n            managedIdentities: {\n              systemAssigned: true\n            }\n            serviceBusNamespaceTopicResourceId: '<serviceBusNamespaceTopicResourceId>'\n            type: 'IdentityBased'\n          }\n          endpointType: 'ServiceBus'\n        }\n      }\n      {\n        name: 'KeyBasedServiceBusEndpoint'\n        properties: {\n          authentication: {\n            serviceBusNamespaceTopicAuthorizationRuleName: '<serviceBusNamespaceTopicAuthorizationRuleName>'\n            serviceBusNamespaceTopicResourceId: '<serviceBusNamespaceTopicResourceId>'\n            type: 'KeyBased'\n          }\n          endpointType: 'ServiceBus'\n        }\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    roleAssignments: [\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_digital-twins_digital-twins-instance_example_3", "source": "avm/res/digital-twins/digital-twins-instance/README.md", "content_to_embed": "Recommended AVM Module for Digital Twins Instances: Using private endpoint parameter set - This instance deploys the module with idempotancy tests for private endpoints.\nResource Type Path: Microsoft.DigitalTwins/digitalTwinsInstances\nModule ID: br/public:avm/res/digital-twins/digital-twins-instance:0.4\nParameters:\nparams: {\n    // Required parameters\n    name: 'dtdpep001'\n    // Non-required parameters\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n  }", "bicep": "module digitalTwinsInstance 'br/public:avm/res/digital-twins/digital-twins-instance:0.4' = {\n  name: 'digitalTwinsInstanceDeployment'\n  params: {\n    // Required parameters\n    name: 'dtdpep001'\n    // Non-required parameters\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n  }\n}"}
{"id": "avm_res_digital-twins_digital-twins-instance_example_4", "source": "avm/res/digital-twins/digital-twins-instance/README.md", "content_to_embed": "Recommended AVM Module for Digital Twins Instances: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.DigitalTwins/digitalTwinsInstances\nModule ID: br/public:avm/res/digital-twins/digital-twins-instance:0.4\nParameters:\nparams: {\n    // Required parameters\n    name: 'dtdiwaf001'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module digitalTwinsInstance 'br/public:avm/res/digital-twins/digital-twins-instance:0.4' = {\n  name: 'digitalTwinsInstanceDeployment'\n  params: {\n    // Required parameters\n    name: 'dtdiwaf001'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_document-db_database-account_example_1", "source": "avm/res/document-db/database-account/README.md", "content_to_embed": "Recommended AVM Module for Azure Cosmos DB account: Using analytical storage - This instance deploys the module with analytical storage enabled.\nResource Type Path: Microsoft.DocumentDB/databaseAccounts\nModule ID: br/public:avm/res/document-db/database-account:0.18\nParameters:\nparams: {\n    // Required parameters\n    name: 'analytical'\n    // Non-required parameters\n    enableAnalyticalStorage: true\n    sqlDatabases: [\n      {\n        name: 'no-containers-specified'\n      }\n    ]\n    zoneRedundant: false\n  }", "bicep": "module databaseAccount 'br/public:avm/res/document-db/database-account:0.18' = {\n  name: 'databaseAccountDeployment'\n  params: {\n    // Required parameters\n    name: 'analytical'\n    // Non-required parameters\n    enableAnalyticalStorage: true\n    sqlDatabases: [\n      {\n        name: 'no-containers-specified'\n      }\n    ]\n    zoneRedundant: false\n  }\n}"}
{"id": "avm_res_document-db_database-account_example_2", "source": "avm/res/document-db/database-account/README.md", "content_to_embed": "Recommended AVM Module for Azure Cosmos DB account: Using bounded consistency - This instance deploys the module specifying a default consistency level.\nResource Type Path: Microsoft.DocumentDB/databaseAccounts\nModule ID: br/public:avm/res/document-db/database-account:0.18\nParameters:\nparams: {\n    // Required parameters\n    name: 'bounded'\n    // Non-required parameters\n    defaultConsistencyLevel: 'BoundedStaleness'\n    maxIntervalInSeconds: 600\n    maxStalenessPrefix: 200000\n    sqlDatabases: [\n      {\n        name: 'no-containers-specified'\n      }\n    ]\n    zoneRedundant: false\n  }", "bicep": "module databaseAccount 'br/public:avm/res/document-db/database-account:0.18' = {\n  name: 'databaseAccountDeployment'\n  params: {\n    // Required parameters\n    name: 'bounded'\n    // Non-required parameters\n    defaultConsistencyLevel: 'BoundedStaleness'\n    maxIntervalInSeconds: 600\n    maxStalenessPrefix: 200000\n    sqlDatabases: [\n      {\n        name: 'no-containers-specified'\n      }\n    ]\n    zoneRedundant: false\n  }\n}"}
{"id": "avm_res_document-db_database-account_example_3", "source": "avm/res/document-db/database-account/README.md", "content_to_embed": "Recommended AVM Module for Azure Cosmos DB account: Cassandra Keyspaces - WAF-aligned - This instance deploys the module with Cassandra Keyspaces in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.DocumentDB/databaseAccounts\nModule ID: br/public:avm/res/document-db/database-account:0.18\nParameters:\nparams: {\n    // Required parameters\n    name: 'dddacswaf001'\n    // Non-required parameters\n    backupPolicyType: 'Periodic'\n    capabilitiesToAdd: [\n      'EnableCassandra'\n    ]\n    cassandraKeyspaces: [\n      {\n        name: 'cks-dddacswaf-001'\n        tables: [\n          {\n            analyticalStorageTtl: 86400\n            defaultTtl: 7200\n            name: 'secure_orders'\n            schema: {\n              clusterKeys: [\n                {\n                  name: 'order_date'\n                  orderBy: 'Desc'\n                }\n                {\n                  name: 'order_id'\n                  orderBy: 'Asc'\n                }\n              ]\n              columns: [\n                {\n                  name: 'order_id'\n                  type: 'uuid'\n                }\n                {\n                  name: 'customer_id'\n                  type: 'uuid'\n                }\n                {\n                  name: 'order_date'\n                  type: 'timestamp'\n                }\n                {\n                  name: 'total_amount'\n                  type: 'decimal'\n                }\n                {\n                  name: 'status'\n                  type: 'text'\n                }\n              ]\n              partitionKeys: [\n                {\n                  name: 'customer_id'\n                }\n              ]\n            }\n          }\n        ]\n        throughput: 1000\n      }\n      {\n        autoscaleSettingsMaxThroughput: 4000\n        name: 'cks-dddacswaf-002'\n        tables: [\n          {\n            analyticalStorageTtl: -1\n            name: 'secure_users'\n            schema: {\n              clusterKeys: [\n                {\n                  name: 'created_at'\n                  orderBy: 'Desc'\n                }\n              ]\n              columns: [\n                {\n                  name: 'user_id'\n                  type: 'uuid'\n                }\n                {\n                  name: 'email'\n                  type: 'text'\n                }\n                {\n                  name: 'created_at'\n                  type: 'timestamp'\n                }\n              ]\n              partitionKeys: [\n                {\n                  name: 'user_id'\n                }\n              ]\n            }\n          }\n        ]\n      }\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    disableKeyBasedMetadataWriteAccess: true\n    disableLocalAuthentication: true\n    enableAnalyticalStorage: true\n    enableAutomaticFailover: true\n    failoverLocations: [\n      {\n        failoverPriority: 0\n        isZoneRedundant: false\n        locationName: '<locationName>'\n      }\n      {\n        failoverPriority: 1\n        isZoneRedundant: false\n        locationName: '<locationName>'\n      }\n    ]\n    minimumTlsVersion: 'Tls12'\n    networkRestrictions: {\n      networkAclBypass: 'None'\n      publicNetworkAccess: 'Disabled'\n    }\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'Cassandra'\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    tags: {\n      environment: 'production'\n      role: 'validation'\n      type: 'waf-aligned-cassandra'\n    }\n  }", "bicep": "module databaseAccount 'br/public:avm/res/document-db/database-account:0.18' = {\n  name: 'databaseAccountDeployment'\n  params: {\n    // Required parameters\n    name: 'dddacswaf001'\n    // Non-required parameters\n    backupPolicyType: 'Periodic'\n    capabilitiesToAdd: [\n      'EnableCassandra'\n    ]\n    cassandraKeyspaces: [\n      {\n        name: 'cks-dddacswaf-001'\n        tables: [\n          {\n            analyticalStorageTtl: 86400\n            defaultTtl: 7200\n            name: 'secure_orders'\n            schema: {\n              clusterKeys: [\n                {\n                  name: 'order_date'\n                  orderBy: 'Desc'\n                }\n                {\n                  name: 'order_id'\n                  orderBy: 'Asc'\n                }\n              ]\n              columns: [\n                {\n                  name: 'order_id'\n                  type: 'uuid'\n                }\n                {\n                  name: 'customer_id'\n                  type: 'uuid'\n                }\n                {\n                  name: 'order_date'\n                  type: 'timestamp'\n                }\n                {\n                  name: 'total_amount'\n                  type: 'decimal'\n                }\n                {\n                  name: 'status'\n                  type: 'text'\n                }\n              ]\n              partitionKeys: [\n                {\n                  name: 'customer_id'\n                }\n              ]\n            }\n          }\n        ]\n        throughput: 1000\n      }\n      {\n        autoscaleSettingsMaxThroughput: 4000\n        name: 'cks-dddacswaf-002'\n        tables: [\n          {\n            analyticalStorageTtl: -1\n            name: 'secure_users'\n            schema: {\n              clusterKeys: [\n                {\n                  name: 'created_at'\n                  orderBy: 'Desc'\n                }\n              ]\n              columns: [\n                {\n                  name: 'user_id'\n                  type: 'uuid'\n                }\n                {\n                  name: 'email'\n                  type: 'text'\n                }\n                {\n                  name: 'created_at'\n                  type: 'timestamp'\n                }\n              ]\n              partitionKeys: [\n                {\n                  name: 'user_id'\n                }\n              ]\n            }\n          }\n        ]\n      }\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    disableKeyBasedMetadataWriteAccess: true\n    disableLocalAuthentication: true\n    enableAnalyticalStorage: true\n    enableAutomaticFailover: true\n    failoverLocations: [\n      {\n        failoverPriority: 0\n        isZoneRedundant: false\n        locationName: '<locationName>'\n      }\n      {\n        failoverPriority: 1\n        isZoneRedundant: false\n        locationName: '<locationName>'\n      }\n    ]\n    minimumTlsVersion: 'Tls12'\n    networkRestrictions: {\n      networkAclBypass: 'None'\n      publicNetworkAccess: 'Disabled'\n    }\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'Cassandra'\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    tags: {\n      environment: 'production'\n      role: 'validation'\n      type: 'waf-aligned-cassandra'\n    }\n  }\n}"}
{"id": "avm_res_document-db_database-account_example_4", "source": "avm/res/document-db/database-account/README.md", "content_to_embed": "Recommended AVM Module for Azure Cosmos DB account: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.DocumentDB/databaseAccounts\nModule ID: br/public:avm/res/document-db/database-account:0.18\nParameters:\nparams: {\n    // Required parameters\n    name: 'dddamin001'\n    // Non-required parameters\n    zoneRedundant: false\n  }", "bicep": "module databaseAccount 'br/public:avm/res/document-db/database-account:0.18' = {\n  name: 'databaseAccountDeployment'\n  params: {\n    // Required parameters\n    name: 'dddamin001'\n    // Non-required parameters\n    zoneRedundant: false\n  }\n}"}
{"id": "avm_res_document-db_database-account_example_5", "source": "avm/res/document-db/database-account/README.md", "content_to_embed": "Recommended AVM Module for Azure Cosmos DB account: Gremlin Database - This instance deploys the module with a Gremlin Database.\nResource Type Path: Microsoft.DocumentDB/databaseAccounts\nModule ID: br/public:avm/res/document-db/database-account:0.18\nParameters:\nparams: {\n    // Required parameters\n    name: 'dddagrm002'\n    // Non-required parameters\n    capabilitiesToAdd: [\n      'EnableGremlin'\n    ]\n    gremlinDatabases: [\n      {\n        graphs: [\n          {\n            indexingPolicy: {\n              automatic: true\n            }\n            name: 'car_collection'\n            partitionKeyPaths: [\n              '/car_id'\n            ]\n          }\n          {\n            indexingPolicy: {\n              automatic: true\n            }\n            name: 'truck_collection'\n            partitionKeyPaths: [\n              '/truck_id'\n            ]\n          }\n        ]\n        name: 'gdb-dddagrm-001'\n        throughput: 10000\n      }\n      {\n        graphs: [\n          {\n            indexingPolicy: {\n              automatic: true\n            }\n            name: 'bike_collection'\n            partitionKeyPaths: [\n              '/bike_id'\n            ]\n          }\n          {\n            indexingPolicy: {\n              automatic: true\n            }\n            name: 'bicycle_collection'\n            partitionKeyPaths: [\n              '/bicycle_id'\n            ]\n          }\n        ]\n        name: 'gdb-dddagrm-002'\n      }\n    ]\n    zoneRedundant: false\n  }", "bicep": "module databaseAccount 'br/public:avm/res/document-db/database-account:0.18' = {\n  name: 'databaseAccountDeployment'\n  params: {\n    // Required parameters\n    name: 'dddagrm002'\n    // Non-required parameters\n    capabilitiesToAdd: [\n      'EnableGremlin'\n    ]\n    gremlinDatabases: [\n      {\n        graphs: [\n          {\n            indexingPolicy: {\n              automatic: true\n            }\n            name: 'car_collection'\n            partitionKeyPaths: [\n              '/car_id'\n            ]\n          }\n          {\n            indexingPolicy: {\n              automatic: true\n            }\n            name: 'truck_collection'\n            partitionKeyPaths: [\n              '/truck_id'\n            ]\n          }\n        ]\n        name: 'gdb-dddagrm-001'\n        throughput: 10000\n      }\n      {\n        graphs: [\n          {\n            indexingPolicy: {\n              automatic: true\n            }\n            name: 'bike_collection'\n            partitionKeyPaths: [\n              '/bike_id'\n            ]\n          }\n          {\n            indexingPolicy: {\n              automatic: true\n            }\n            name: 'bicycle_collection'\n            partitionKeyPaths: [\n              '/bicycle_id'\n            ]\n          }\n        ]\n        name: 'gdb-dddagrm-002'\n      }\n    ]\n    zoneRedundant: false\n  }\n}"}
{"id": "avm_res_document-db_database-account_example_6", "source": "avm/res/document-db/database-account/README.md", "content_to_embed": "Recommended AVM Module for Azure Cosmos DB account: Deploying with Managed identities - This instance deploys the module with an system and user assigned managed identity.\nResource Type Path: Microsoft.DocumentDB/databaseAccounts\nModule ID: br/public:avm/res/document-db/database-account:0.18\nParameters:\nparams: {\n    // Required parameters\n    name: 'user-mi'\n    // Non-required parameters\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    roleAssignments: [\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    zoneRedundant: false\n  }", "bicep": "module databaseAccount 'br/public:avm/res/document-db/database-account:0.18' = {\n  name: 'databaseAccountDeployment'\n  params: {\n    // Required parameters\n    name: 'user-mi'\n    // Non-required parameters\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    roleAssignments: [\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    zoneRedundant: false\n  }\n}"}
{"id": "avm_res_document-db_database-account_example_7", "source": "avm/res/document-db/database-account/README.md", "content_to_embed": "Recommended AVM Module for Azure Cosmos DB account: Mongo Database - This instance deploys the module with a Mongo Database.\nResource Type Path: Microsoft.DocumentDB/databaseAccounts\nModule ID: br/public:avm/res/document-db/database-account:0.18\nParameters:\nparams: {\n    // Required parameters\n    name: 'dddamng001'\n    // Non-required parameters\n    mongodbDatabases: [\n      {\n        collections: [\n          {\n            indexes: [\n              {\n                key: {\n                  keys: [\n                    '_id'\n                  ]\n                }\n              }\n              {\n                key: {\n                  keys: [\n                    '$**'\n                  ]\n                }\n              }\n              {\n                key: {\n                  keys: [\n                    'car_id'\n                    'car_model'\n                  ]\n                }\n                options: {\n                  unique: true\n                }\n              }\n              {\n                key: {\n                  keys: [\n                    '_ts'\n                  ]\n                }\n                options: {\n                  expireAfterSeconds: 2629746\n                }\n              }\n            ]\n            name: 'car_collection'\n            shardKey: {\n              car_id: 'Hash'\n            }\n            throughput: 600\n          }\n          {\n            indexes: [\n              {\n                key: {\n                  keys: [\n                    '_id'\n                  ]\n                }\n              }\n              {\n                key: {\n                  keys: [\n                    '$**'\n                  ]\n                }\n              }\n              {\n                key: {\n                  keys: [\n                    'truck_id'\n                    'truck_model'\n                  ]\n                }\n                options: {\n                  unique: true\n                }\n              }\n              {\n                key: {\n                  keys: [\n                    '_ts'\n                  ]\n                }\n                options: {\n                  expireAfterSeconds: 2629746\n                }\n              }\n            ]\n            name: 'truck_collection'\n            shardKey: {\n              truck_id: 'Hash'\n            }\n          }\n        ]\n        name: 'mdb-dddamng-001'\n        throughput: 800\n      }\n      {\n        collections: [\n          {\n            indexes: [\n              {\n                key: {\n                  keys: [\n                    '_id'\n                  ]\n                }\n              }\n              {\n                key: {\n                  keys: [\n                    '$**'\n                  ]\n                }\n              }\n              {\n                key: {\n                  keys: [\n                    'bike_id'\n                    'bike_model'\n                  ]\n                }\n                options: {\n                  unique: true\n                }\n              }\n              {\n                key: {\n                  keys: [\n                    '_ts'\n                  ]\n                }\n                options: {\n                  expireAfterSeconds: 2629746\n                }\n              }\n            ]\n            name: 'bike_collection'\n            shardKey: {\n              bike_id: 'Hash'\n            }\n          }\n          {\n            indexes: [\n              {\n                key: {\n                  keys: [\n                    '_id'\n                  ]\n                }\n              }\n              {\n                key: {\n                  keys: [\n                    '$**'\n                  ]\n                }\n              }\n              {\n                key: {\n                  keys: [\n                    'bicycle_id'\n                    'bicycle_model'\n                  ]\n                }\n                options: {\n                  unique: true\n                }\n              }\n              {\n                key: {\n                  keys: [\n                    '_ts'\n                  ]\n                }\n                options: {\n                  expireAfterSeconds: 2629746\n                }\n              }\n            ]\n            name: 'bicycle_collection'\n            shardKey: {\n              bicycle_id: 'Hash'\n            }\n          }\n        ]\n        name: 'mdb-dddamng-002'\n      }\n    ]\n    zoneRedundant: false\n  }", "bicep": "module databaseAccount 'br/public:avm/res/document-db/database-account:0.18' = {\n  name: 'databaseAccountDeployment'\n  params: {\n    // Required parameters\n    name: 'dddamng001'\n    // Non-required parameters\n    mongodbDatabases: [\n      {\n        collections: [\n          {\n            indexes: [\n              {\n                key: {\n                  keys: [\n                    '_id'\n                  ]\n                }\n              }\n              {\n                key: {\n                  keys: [\n                    '$**'\n                  ]\n                }\n              }\n              {\n                key: {\n                  keys: [\n                    'car_id'\n                    'car_model'\n                  ]\n                }\n                options: {\n                  unique: true\n                }\n              }\n              {\n                key: {\n                  keys: [\n                    '_ts'\n                  ]\n                }\n                options: {\n                  expireAfterSeconds: 2629746\n                }\n              }\n            ]\n            name: 'car_collection'\n            shardKey: {\n              car_id: 'Hash'\n            }\n            throughput: 600\n          }\n          {\n            indexes: [\n              {\n                key: {\n                  keys: [\n                    '_id'\n                  ]\n                }\n              }\n              {\n                key: {\n                  keys: [\n                    '$**'\n                  ]\n                }\n              }\n              {\n                key: {\n                  keys: [\n                    'truck_id'\n                    'truck_model'\n                  ]\n                }\n                options: {\n                  unique: true\n                }\n              }\n              {\n                key: {\n                  keys: [\n                    '_ts'\n                  ]\n                }\n                options: {\n                  expireAfterSeconds: 2629746\n                }\n              }\n            ]\n            name: 'truck_collection'\n            shardKey: {\n              truck_id: 'Hash'\n            }\n          }\n        ]\n        name: 'mdb-dddamng-001'\n        throughput: 800\n      }\n      {\n        collections: [\n          {\n            indexes: [\n              {\n                key: {\n                  keys: [\n                    '_id'\n                  ]\n                }\n              }\n              {\n                key: {\n                  keys: [\n                    '$**'\n                  ]\n                }\n              }\n              {\n                key: {\n                  keys: [\n                    'bike_id'\n                    'bike_model'\n                  ]\n                }\n                options: {\n                  unique: true\n                }\n              }\n              {\n                key: {\n                  keys: [\n                    '_ts'\n                  ]\n                }\n                options: {\n                  expireAfterSeconds: 2629746\n                }\n              }\n            ]\n            name: 'bike_collection'\n            shardKey: {\n              bike_id: 'Hash'\n            }\n          }\n          {\n            indexes: [\n              {\n                key: {\n                  keys: [\n                    '_id'\n                  ]\n                }\n              }\n              {\n                key: {\n                  keys: [\n                    '$**'\n                  ]\n                }\n              }\n              {\n                key: {\n                  keys: [\n                    'bicycle_id'\n                    'bicycle_model'\n                  ]\n                }\n                options: {\n                  unique: true\n                }\n              }\n              {\n                key: {\n                  keys: [\n                    '_ts'\n                  ]\n                }\n                options: {\n                  expireAfterSeconds: 2629746\n                }\n              }\n            ]\n            name: 'bicycle_collection'\n            shardKey: {\n              bicycle_id: 'Hash'\n            }\n          }\n        ]\n        name: 'mdb-dddamng-002'\n      }\n    ]\n    zoneRedundant: false\n  }\n}"}
{"id": "avm_res_document-db_database-account_example_8", "source": "avm/res/document-db/database-account/README.md", "content_to_embed": "Recommended AVM Module for Azure Cosmos DB account: Deploying multiple regions - This instance deploys the module in multiple regions with configs specific of multi region scenarios.\nResource Type Path: Microsoft.DocumentDB/databaseAccounts\nModule ID: br/public:avm/res/document-db/database-account:0.18\nParameters:\nparams: {\n    // Required parameters\n    name: 'multi-region'\n    // Non-required parameters\n    backupIntervalInMinutes: 300\n    backupPolicyType: 'Periodic'\n    backupRetentionIntervalInHours: 16\n    backupStorageRedundancy: 'Geo'\n    enableAutomaticFailover: true\n    enableMultipleWriteLocations: true\n    failoverLocations: [\n      {\n        failoverPriority: 0\n        isZoneRedundant: false\n        locationName: '<locationName>'\n      }\n      {\n        failoverPriority: 1\n        isZoneRedundant: false\n        locationName: '<locationName>'\n      }\n    ]\n    sqlDatabases: [\n      {\n        name: 'no-containers-specified'\n      }\n    ]\n  }", "bicep": "module databaseAccount 'br/public:avm/res/document-db/database-account:0.18' = {\n  name: 'databaseAccountDeployment'\n  params: {\n    // Required parameters\n    name: 'multi-region'\n    // Non-required parameters\n    backupIntervalInMinutes: 300\n    backupPolicyType: 'Periodic'\n    backupRetentionIntervalInHours: 16\n    backupStorageRedundancy: 'Geo'\n    enableAutomaticFailover: true\n    enableMultipleWriteLocations: true\n    failoverLocations: [\n      {\n        failoverPriority: 0\n        isZoneRedundant: false\n        locationName: '<locationName>'\n      }\n      {\n        failoverPriority: 1\n        isZoneRedundant: false\n        locationName: '<locationName>'\n      }\n    ]\n    sqlDatabases: [\n      {\n        name: 'no-containers-specified'\n      }\n    ]\n  }\n}"}
{"id": "avm_res_document-db_database-account_example_9", "source": "avm/res/document-db/database-account/README.md", "content_to_embed": "Recommended AVM Module for Azure Cosmos DB account: Plain - This instance deploys the module without a Database.\nResource Type Path: Microsoft.DocumentDB/databaseAccounts\nModule ID: br/public:avm/res/document-db/database-account:0.18\nParameters:\nparams: {\n    // Required parameters\n    name: 'dddapln001'\n    // Non-required parameters\n    capabilitiesToAdd: [\n      'EnableServerless'\n    ]\n    databaseAccountOfferType: 'Standard'\n    failoverLocations: [\n      {\n        failoverPriority: 0\n        isZoneRedundant: false\n        locationName: '<locationName>'\n      }\n    ]\n    sqlDatabases: [\n      {\n        name: 'no-containers-specified'\n      }\n    ]\n    totalThroughputLimit: 4000\n    zoneRedundant: false\n  }", "bicep": "module databaseAccount 'br/public:avm/res/document-db/database-account:0.18' = {\n  name: 'databaseAccountDeployment'\n  params: {\n    // Required parameters\n    name: 'dddapln001'\n    // Non-required parameters\n    capabilitiesToAdd: [\n      'EnableServerless'\n    ]\n    databaseAccountOfferType: 'Standard'\n    failoverLocations: [\n      {\n        failoverPriority: 0\n        isZoneRedundant: false\n        locationName: '<locationName>'\n      }\n    ]\n    sqlDatabases: [\n      {\n        name: 'no-containers-specified'\n      }\n    ]\n    totalThroughputLimit: 4000\n    zoneRedundant: false\n  }\n}"}
{"id": "avm_res_document-db_database-account_example_10", "source": "avm/res/document-db/database-account/README.md", "content_to_embed": "Recommended AVM Module for Azure Cosmos DB account: Public network restricted access with ACL - This instance deploys the module with public network access enabled but restricted to IPs, CIDRS or subnets.\nResource Type Path: Microsoft.DocumentDB/databaseAccounts\nModule ID: br/public:avm/res/document-db/database-account:0.18\nParameters:\nparams: {\n    // Required parameters\n    name: 'dddapres001'\n    // Non-required parameters\n    networkRestrictions: {\n      ipRules: [\n        '79.0.0.0'\n        '80.0.0.0'\n      ]\n      networkAclBypass: 'AzureServices'\n      publicNetworkAccess: 'Enabled'\n      virtualNetworkRules: [\n        {\n          subnetResourceId: '<subnetResourceId>'\n        }\n      ]\n    }\n    sqlDatabases: [\n      {\n        name: 'no-containers-specified'\n      }\n    ]\n    zoneRedundant: false\n  }", "bicep": "module databaseAccount 'br/public:avm/res/document-db/database-account:0.18' = {\n  name: 'databaseAccountDeployment'\n  params: {\n    // Required parameters\n    name: 'dddapres001'\n    // Non-required parameters\n    networkRestrictions: {\n      ipRules: [\n        '79.0.0.0'\n        '80.0.0.0'\n      ]\n      networkAclBypass: 'AzureServices'\n      publicNetworkAccess: 'Enabled'\n      virtualNetworkRules: [\n        {\n          subnetResourceId: '<subnetResourceId>'\n        }\n      ]\n    }\n    sqlDatabases: [\n      {\n        name: 'no-containers-specified'\n      }\n    ]\n    zoneRedundant: false\n  }\n}"}
{"id": "avm_res_document-db_database-account_example_11", "source": "avm/res/document-db/database-account/README.md", "content_to_embed": "Recommended AVM Module for Azure Cosmos DB account: SQL Database - This instance deploys the module with a SQL Database.\nResource Type Path: Microsoft.DocumentDB/databaseAccounts\nModule ID: br/public:avm/res/document-db/database-account:0.18\nParameters:\nparams: {\n    // Required parameters\n    name: 'dddasql001'\n    // Non-required parameters\n    enableAnalyticalStorage: true\n    sqlDatabases: [\n      {\n        containers: [\n          {\n            analyticalStorageTtl: 0\n            conflictResolutionPolicy: {\n              conflictResolutionPath: '/myCustomId'\n              mode: 'LastWriterWins'\n            }\n            defaultTtl: 1000\n            indexingPolicy: {\n              automatic: true\n            }\n            kind: 'Hash'\n            name: 'container-001'\n            paths: [\n              '/myPartitionKey'\n            ]\n            throughput: 600\n            uniqueKeyPolicyKeys: [\n              {\n                paths: [\n                  '/firstName'\n                ]\n              }\n              {\n                paths: [\n                  '/lastName'\n                ]\n              }\n            ]\n          }\n        ]\n        name: 'all-configs-specified'\n      }\n      {\n        containers: [\n          {\n            indexingPolicy: {\n              automatic: true\n            }\n            name: 'container-001'\n            paths: [\n              '/myPartitionKey'\n            ]\n          }\n        ]\n        name: 'automatic-indexing-policy'\n      }\n      {\n        containers: [\n          {\n            conflictResolutionPolicy: {\n              conflictResolutionPath: '/myCustomId'\n              mode: 'LastWriterWins'\n            }\n            name: 'container-001'\n            paths: [\n              '/myPartitionKey'\n            ]\n          }\n        ]\n        name: 'last-writer-conflict-resolution-policy'\n      }\n      {\n        containers: [\n          {\n            analyticalStorageTtl: 1000\n            name: 'container-001'\n            paths: [\n              '/myPartitionKey'\n            ]\n          }\n        ]\n        name: 'fixed-analytical-ttl'\n      }\n      {\n        containers: [\n          {\n            analyticalStorageTtl: -1\n            name: 'container-001'\n            paths: [\n              '/myPartitionKey'\n            ]\n          }\n        ]\n        name: 'infinite-analytical-ttl'\n      }\n      {\n        containers: [\n          {\n            defaultTtl: 1000\n            name: 'container-001'\n            paths: [\n              '/myPartitionKey'\n            ]\n          }\n        ]\n        name: 'document-ttl'\n      }\n      {\n        containers: [\n          {\n            name: 'container-001'\n            paths: [\n              '/myPartitionKey'\n            ]\n            uniqueKeyPolicyKeys: [\n              {\n                paths: [\n                  '/firstName'\n                ]\n              }\n              {\n                paths: [\n                  '/lastName'\n                ]\n              }\n            ]\n          }\n        ]\n        name: 'unique-key-policy'\n      }\n      {\n        containers: [\n          {\n            name: 'container-003'\n            paths: [\n              '/myPartitionKey'\n            ]\n            throughput: 500\n          }\n        ]\n        name: 'db-and-container-fixed-throughput-level'\n        throughput: 500\n      }\n      {\n        containers: [\n          {\n            name: 'container-003'\n            paths: [\n              '/myPartitionKey'\n            ]\n            throughput: 500\n          }\n        ]\n        name: 'container-fixed-throughput-level'\n      }\n      {\n        containers: [\n          {\n            name: 'container-003'\n            paths: [\n              '/myPartitionKey'\n            ]\n          }\n        ]\n        name: 'database-fixed-throughput-level'\n        throughput: 500\n      }\n      {\n        autoscaleSettingsMaxThroughput: 1000\n        containers: [\n          {\n            autoscaleSettingsMaxThroughput: 1000\n            name: 'container-003'\n            paths: [\n              '/myPartitionKey'\n            ]\n          }\n        ]\n        name: 'db-and-container-autoscale-level'\n      }\n      {\n        containers: [\n          {\n            autoscaleSettingsMaxThroughput: 1000\n            name: 'container-003'\n            paths: [\n              '/myPartitionKey'\n            ]\n          }\n        ]\n        name: 'container-autoscale-level'\n      }\n      {\n        autoscaleSettingsMaxThroughput: 1000\n        containers: [\n          {\n            name: 'container-003'\n            paths: [\n              '/myPartitionKey'\n            ]\n          }\n        ]\n        name: 'database-autoscale-level'\n      }\n      {\n        containers: [\n          {\n            kind: 'MultiHash'\n            name: 'container-001'\n            paths: [\n              '/myPartitionKey1'\n              '/myPartitionKey2'\n              '/myPartitionKey3'\n            ]\n          }\n          {\n            kind: 'MultiHash'\n            name: 'container-002'\n            paths: [\n              'myPartitionKey1'\n              'myPartitionKey2'\n              'myPartitionKey3'\n            ]\n          }\n          {\n            kind: 'Hash'\n            name: 'container-003'\n            paths: [\n              '/myPartitionKey1'\n            ]\n          }\n          {\n            kind: 'Hash'\n            name: 'container-004'\n            paths: [\n              'myPartitionKey1'\n            ]\n          }\n          {\n            kind: 'Hash'\n            name: 'container-005'\n            paths: [\n              'myPartitionKey1'\n            ]\n            version: 2\n          }\n        ]\n        name: 'all-partition-key-types'\n      }\n      {\n        containers: []\n        name: 'empty-containers-array'\n      }\n      {\n        name: 'no-containers-specified'\n      }\n    ]\n    zoneRedundant: false\n  }", "bicep": "module databaseAccount 'br/public:avm/res/document-db/database-account:0.18' = {\n  name: 'databaseAccountDeployment'\n  params: {\n    // Required parameters\n    name: 'dddasql001'\n    // Non-required parameters\n    enableAnalyticalStorage: true\n    sqlDatabases: [\n      {\n        containers: [\n          {\n            analyticalStorageTtl: 0\n            conflictResolutionPolicy: {\n              conflictResolutionPath: '/myCustomId'\n              mode: 'LastWriterWins'\n            }\n            defaultTtl: 1000\n            indexingPolicy: {\n              automatic: true\n            }\n            kind: 'Hash'\n            name: 'container-001'\n            paths: [\n              '/myPartitionKey'\n            ]\n            throughput: 600\n            uniqueKeyPolicyKeys: [\n              {\n                paths: [\n                  '/firstName'\n                ]\n              }\n              {\n                paths: [\n                  '/lastName'\n                ]\n              }\n            ]\n          }\n        ]\n        name: 'all-configs-specified'\n      }\n      {\n        containers: [\n          {\n            indexingPolicy: {\n              automatic: true\n            }\n            name: 'container-001'\n            paths: [\n              '/myPartitionKey'\n            ]\n          }\n        ]\n        name: 'automatic-indexing-policy'\n      }\n      {\n        containers: [\n          {\n            conflictResolutionPolicy: {\n              conflictResolutionPath: '/myCustomId'\n              mode: 'LastWriterWins'\n            }\n            name: 'container-001'\n            paths: [\n              '/myPartitionKey'\n            ]\n          }\n        ]\n        name: 'last-writer-conflict-resolution-policy'\n      }\n      {\n        containers: [\n          {\n            analyticalStorageTtl: 1000\n            name: 'container-001'\n            paths: [\n              '/myPartitionKey'\n            ]\n          }\n        ]\n        name: 'fixed-analytical-ttl'\n      }\n      {\n        containers: [\n          {\n            analyticalStorageTtl: -1\n            name: 'container-001'\n            paths: [\n              '/myPartitionKey'\n            ]\n          }\n        ]\n        name: 'infinite-analytical-ttl'\n      }\n      {\n        containers: [\n          {\n            defaultTtl: 1000\n            name: 'container-001'\n            paths: [\n              '/myPartitionKey'\n            ]\n          }\n        ]\n        name: 'document-ttl'\n      }\n      {\n        containers: [\n          {\n            name: 'container-001'\n            paths: [\n              '/myPartitionKey'\n            ]\n            uniqueKeyPolicyKeys: [\n              {\n                paths: [\n                  '/firstName'\n                ]\n              }\n              {\n                paths: [\n                  '/lastName'\n                ]\n              }\n            ]\n          }\n        ]\n        name: 'unique-key-policy'\n      }\n      {\n        containers: [\n          {\n            name: 'container-003'\n            paths: [\n              '/myPartitionKey'\n            ]\n            throughput: 500\n          }\n        ]\n        name: 'db-and-container-fixed-throughput-level'\n        throughput: 500\n      }\n      {\n        containers: [\n          {\n            name: 'container-003'\n            paths: [\n              '/myPartitionKey'\n            ]\n            throughput: 500\n          }\n        ]\n        name: 'container-fixed-throughput-level'\n      }\n      {\n        containers: [\n          {\n            name: 'container-003'\n            paths: [\n              '/myPartitionKey'\n            ]\n          }\n        ]\n        name: 'database-fixed-throughput-level'\n        throughput: 500\n      }\n      {\n        autoscaleSettingsMaxThroughput: 1000\n        containers: [\n          {\n            autoscaleSettingsMaxThroughput: 1000\n            name: 'container-003'\n            paths: [\n              '/myPartitionKey'\n            ]\n          }\n        ]\n        name: 'db-and-container-autoscale-level'\n      }\n      {\n        containers: [\n          {\n            autoscaleSettingsMaxThroughput: 1000\n            name: 'container-003'\n            paths: [\n              '/myPartitionKey'\n            ]\n          }\n        ]\n        name: 'container-autoscale-level'\n      }\n      {\n        autoscaleSettingsMaxThroughput: 1000\n        containers: [\n          {\n            name: 'container-003'\n            paths: [\n              '/myPartitionKey'\n            ]\n          }\n        ]\n        name: 'database-autoscale-level'\n      }\n      {\n        containers: [\n          {\n            kind: 'MultiHash'\n            name: 'container-001'\n            paths: [\n              '/myPartitionKey1'\n              '/myPartitionKey2'\n              '/myPartitionKey3'\n            ]\n          }\n          {\n            kind: 'MultiHash'\n            name: 'container-002'\n            paths: [\n              'myPartitionKey1'\n              'myPartitionKey2'\n              'myPartitionKey3'\n            ]\n          }\n          {\n            kind: 'Hash'\n            name: 'container-003'\n            paths: [\n              '/myPartitionKey1'\n            ]\n          }\n          {\n            kind: 'Hash'\n            name: 'container-004'\n            paths: [\n              'myPartitionKey1'\n            ]\n          }\n          {\n            kind: 'Hash'\n            name: 'container-005'\n            paths: [\n              'myPartitionKey1'\n            ]\n            version: 2\n          }\n        ]\n        name: 'all-partition-key-types'\n      }\n      {\n        containers: []\n        name: 'empty-containers-array'\n      }\n      {\n        name: 'no-containers-specified'\n      }\n    ]\n    zoneRedundant: false\n  }\n}"}
{"id": "avm_res_document-db_database-account_example_12", "source": "avm/res/document-db/database-account/README.md", "content_to_embed": "Recommended AVM Module for Azure Cosmos DB account: Deploying with a sql role definition and assignment - This instance deploys the module with sql role definition and assignment\nResource Type Path: Microsoft.DocumentDB/databaseAccounts\nModule ID: br/public:avm/res/document-db/database-account:0.18\nParameters:\nparams: {\n    // Required parameters\n    name: 'dddarole001'\n    // Non-required parameters\n    sqlDatabases: [\n      {\n        containers: [\n          {\n            indexingPolicy: {\n              automatic: true\n            }\n            name: 'container-001'\n            paths: [\n              '/myPartitionKey'\n            ]\n          }\n        ]\n        name: 'simple-db'\n      }\n    ]\n    sqlRoleAssignments: [\n      {\n        principalId: '<principalId>'\n        roleDefinitionId: '<roleDefinitionId>'\n      }\n      {\n        principalId: '<principalId>'\n        roleDefinitionId: '00000000-0000-0000-0000-000000000001'\n        scope: '<scope>'\n      }\n      {\n        principalId: '<principalId>'\n        roleDefinitionId: 'Cosmos DB Built-in Data Reader'\n        scope: '<scope>'\n      }\n    ]\n    sqlRoleDefinitions: [\n      {\n        assignableScopes: [\n          '<value>/providers/Microsoft.DocumentDB/databaseAccounts/dddarole001'\n        ]\n        assignments: [\n          {\n            principalId: '<principalId>'\n          }\n        ]\n        dataActions: [\n          'Microsoft.DocumentDB/databaseAccounts/readMetadata'\n          'Microsoft.DocumentDB/databaseAccounts/sqlDatabases/containers/*'\n          'Microsoft.DocumentDB/databaseAccounts/sqlDatabases/containers/items/*'\n        ]\n        name: '<name>'\n        roleName: 'cosmos-sql-role-test'\n      }\n      {\n        assignableScopes: [\n          '<value>/providers/Microsoft.DocumentDB/databaseAccounts/dddarole001'\n        ]\n        dataActions: [\n          'Microsoft.DocumentDB/databaseAccounts/sqlDatabases/containers/items/*'\n        ]\n        roleName: 'cosmos-sql-role-test-2'\n      }\n      {\n        dataActions: [\n          'Microsoft.DocumentDB/databaseAccounts/sqlDatabases/containers/items/*'\n        ]\n        roleName: 'cosmos-sql-role-test-3'\n      }\n    ]\n    zoneRedundant: false\n  }", "bicep": "module databaseAccount 'br/public:avm/res/document-db/database-account:0.18' = {\n  name: 'databaseAccountDeployment'\n  params: {\n    // Required parameters\n    name: 'dddarole001'\n    // Non-required parameters\n    sqlDatabases: [\n      {\n        containers: [\n          {\n            indexingPolicy: {\n              automatic: true\n            }\n            name: 'container-001'\n            paths: [\n              '/myPartitionKey'\n            ]\n          }\n        ]\n        name: 'simple-db'\n      }\n    ]\n    sqlRoleAssignments: [\n      {\n        principalId: '<principalId>'\n        roleDefinitionId: '<roleDefinitionId>'\n      }\n      {\n        principalId: '<principalId>'\n        roleDefinitionId: '00000000-0000-0000-0000-000000000001'\n        scope: '<scope>'\n      }\n      {\n        principalId: '<principalId>'\n        roleDefinitionId: 'Cosmos DB Built-in Data Reader'\n        scope: '<scope>'\n      }\n    ]\n    sqlRoleDefinitions: [\n      {\n        assignableScopes: [\n          '<value>/providers/Microsoft.DocumentDB/databaseAccounts/dddarole001'\n        ]\n        assignments: [\n          {\n            principalId: '<principalId>'\n          }\n        ]\n        dataActions: [\n          'Microsoft.DocumentDB/databaseAccounts/readMetadata'\n          'Microsoft.DocumentDB/databaseAccounts/sqlDatabases/containers/*'\n          'Microsoft.DocumentDB/databaseAccounts/sqlDatabases/containers/items/*'\n        ]\n        name: '<name>'\n        roleName: 'cosmos-sql-role-test'\n      }\n      {\n        assignableScopes: [\n          '<value>/providers/Microsoft.DocumentDB/databaseAccounts/dddarole001'\n        ]\n        dataActions: [\n          'Microsoft.DocumentDB/databaseAccounts/sqlDatabases/containers/items/*'\n        ]\n        roleName: 'cosmos-sql-role-test-2'\n      }\n      {\n        dataActions: [\n          'Microsoft.DocumentDB/databaseAccounts/sqlDatabases/containers/items/*'\n        ]\n        roleName: 'cosmos-sql-role-test-3'\n      }\n    ]\n    zoneRedundant: false\n  }\n}"}
{"id": "avm_res_document-db_database-account_example_13", "source": "avm/res/document-db/database-account/README.md", "content_to_embed": "Recommended AVM Module for Azure Cosmos DB account: API for Table - This instance deploys the module for an Azure Cosmos DB for Table account with two example tables.\nResource Type Path: Microsoft.DocumentDB/databaseAccounts\nModule ID: br/public:avm/res/document-db/database-account:0.18\nParameters:\nparams: {\n    // Required parameters\n    name: 'dddatbl001'\n    // Non-required parameters\n    capabilitiesToAdd: [\n      'EnableTable'\n    ]\n    tables: [\n      {\n        name: 'tbl-dddatableminprov'\n        throughput: 400\n      }\n      {\n        maxThroughput: 1000\n        name: 'tbl-dddatableminauto'\n      }\n    ]\n    zoneRedundant: false\n  }", "bicep": "module databaseAccount 'br/public:avm/res/document-db/database-account:0.18' = {\n  name: 'databaseAccountDeployment'\n  params: {\n    // Required parameters\n    name: 'dddatbl001'\n    // Non-required parameters\n    capabilitiesToAdd: [\n      'EnableTable'\n    ]\n    tables: [\n      {\n        name: 'tbl-dddatableminprov'\n        throughput: 400\n      }\n      {\n        maxThroughput: 1000\n        name: 'tbl-dddatableminauto'\n      }\n    ]\n    zoneRedundant: false\n  }\n}"}
{"id": "avm_res_document-db_database-account_example_14", "source": "avm/res/document-db/database-account/README.md", "content_to_embed": "Recommended AVM Module for Azure Cosmos DB account: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.DocumentDB/databaseAccounts\nModule ID: br/public:avm/res/document-db/database-account:0.18\nParameters:\nparams: {\n    // Required parameters\n    name: 'dddawaf001'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    disableKeyBasedMetadataWriteAccess: true\n    disableLocalAuthentication: true\n    enableAutomaticFailover: true\n    failoverLocations: [\n      {\n        failoverPriority: 0\n        isZoneRedundant: true\n        locationName: '<locationName>'\n      }\n      {\n        failoverPriority: 1\n        isZoneRedundant: true\n        locationName: '<locationName>'\n      }\n    ]\n    minimumTlsVersion: 'Tls12'\n    networkRestrictions: {\n      networkAclBypass: 'None'\n      publicNetworkAccess: 'Disabled'\n    }\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'Sql'\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    sqlDatabases: [\n      {\n        name: 'no-containers-specified'\n      }\n    ]\n    tags: {\n      environment: 'dev'\n      role: 'validation'\n      type: 'waf-aligned'\n    }\n    zoneRedundant: true\n  }", "bicep": "module databaseAccount 'br/public:avm/res/document-db/database-account:0.18' = {\n  name: 'databaseAccountDeployment'\n  params: {\n    // Required parameters\n    name: 'dddawaf001'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    disableKeyBasedMetadataWriteAccess: true\n    disableLocalAuthentication: true\n    enableAutomaticFailover: true\n    failoverLocations: [\n      {\n        failoverPriority: 0\n        isZoneRedundant: true\n        locationName: '<locationName>'\n      }\n      {\n        failoverPriority: 1\n        isZoneRedundant: true\n        locationName: '<locationName>'\n      }\n    ]\n    minimumTlsVersion: 'Tls12'\n    networkRestrictions: {\n      networkAclBypass: 'None'\n      publicNetworkAccess: 'Disabled'\n    }\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'Sql'\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    sqlDatabases: [\n      {\n        name: 'no-containers-specified'\n      }\n    ]\n    tags: {\n      environment: 'dev'\n      role: 'validation'\n      type: 'waf-aligned'\n    }\n    zoneRedundant: true\n  }\n}"}
{"id": "avm_res_document-db_mongo-cluster_example_1", "source": "avm/res/document-db/mongo-cluster/README.md", "content_to_embed": "Recommended AVM Module for Azure Cosmos DB for MongoDB (vCore) cluster: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.DocumentDB/mongoClusters\nModule ID: br/public:avm/res/document-db/mongo-cluster:0.4\nParameters:\nparams: {\n    // Required parameters\n    administratorLogin: 'Admin001'\n    administratorLoginPassword: '<administratorLoginPassword>'\n    name: 'ddmcdefmin001'\n    nodeCount: 1\n    sku: 'M10'\n    storage: 32\n    // Non-required parameters\n    highAvailabilityMode: 'Disabled'\n  }", "bicep": "module mongoCluster 'br/public:avm/res/document-db/mongo-cluster:0.4' = {\n  name: 'mongoClusterDeployment'\n  params: {\n    // Required parameters\n    administratorLogin: 'Admin001'\n    administratorLoginPassword: '<administratorLoginPassword>'\n    name: 'ddmcdefmin001'\n    nodeCount: 1\n    sku: 'M10'\n    storage: 32\n    // Non-required parameters\n    highAvailabilityMode: 'Disabled'\n  }\n}"}
{"id": "avm_res_document-db_mongo-cluster_example_2", "source": "avm/res/document-db/mongo-cluster/README.md", "content_to_embed": "Recommended AVM Module for Azure Cosmos DB for MongoDB (vCore) cluster: Using large parameter set - This instance deploys the module with the maximum set of required parameters.\nResource Type Path: Microsoft.DocumentDB/mongoClusters\nModule ID: br/public:avm/res/document-db/mongo-cluster:0.4\nParameters:\nparams: {\n    // Required parameters\n    administratorLogin: 'Admin003'\n    administratorLoginPassword: '<administratorLoginPassword>'\n    name: 'ddmcmax002'\n    nodeCount: 2\n    sku: 'M30'\n    storage: 256\n    // Non-required parameters\n    createMode: 'Default'\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    enableMicrosoftEntraAuth: false\n    entraAuthIdentities: []\n    highAvailabilityMode: 'Disabled'\n    location: '<location>'\n    networkAcls: {\n      allowAllIPs: true\n      allowAzureIPs: true\n      customRules: [\n        {\n          endIpAddress: '192.168.2.0'\n          firewallRuleName: 'allow-192_168_1_0-to-192_168_2_0'\n          startIpAddress: '192.168.1.0'\n        }\n      ]\n    }\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    roleAssignments: [\n      {\n        name: '60395919-cfd3-47bf-8349-775ddebb255e'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n  }", "bicep": "module mongoCluster 'br/public:avm/res/document-db/mongo-cluster:0.4' = {\n  name: 'mongoClusterDeployment'\n  params: {\n    // Required parameters\n    administratorLogin: 'Admin003'\n    administratorLoginPassword: '<administratorLoginPassword>'\n    name: 'ddmcmax002'\n    nodeCount: 2\n    sku: 'M30'\n    storage: 256\n    // Non-required parameters\n    createMode: 'Default'\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    enableMicrosoftEntraAuth: false\n    entraAuthIdentities: []\n    highAvailabilityMode: 'Disabled'\n    location: '<location>'\n    networkAcls: {\n      allowAllIPs: true\n      allowAzureIPs: true\n      customRules: [\n        {\n          endIpAddress: '192.168.2.0'\n          firewallRuleName: 'allow-192_168_1_0-to-192_168_2_0'\n          startIpAddress: '192.168.1.0'\n        }\n      ]\n    }\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    roleAssignments: [\n      {\n        name: '60395919-cfd3-47bf-8349-775ddebb255e'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n  }\n}"}
{"id": "avm_res_document-db_mongo-cluster_example_3", "source": "avm/res/document-db/mongo-cluster/README.md", "content_to_embed": "Recommended AVM Module for Azure Cosmos DB for MongoDB (vCore) cluster: Microsoft Entra authentication - This instance deploys the module for an Azure Cosmos DB for MongoDB (vCore) cluster with access configured for an user-assigned managed identity.\nResource Type Path: Microsoft.DocumentDB/mongoClusters\nModule ID: br/public:avm/res/document-db/mongo-cluster:0.4\nParameters:\nparams: {\n    // Required parameters\n    administratorLogin: 'Admin001'\n    administratorLoginPassword: '<administratorLoginPassword>'\n    name: 'ddmcdefath001'\n    nodeCount: 1\n    sku: 'M10'\n    storage: 32\n    // Non-required parameters\n    enableMicrosoftEntraAuth: true\n    entraAuthIdentities: [\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n      }\n    ]\n    highAvailabilityMode: 'Disabled'\n  }", "bicep": "module mongoCluster 'br/public:avm/res/document-db/mongo-cluster:0.4' = {\n  name: 'mongoClusterDeployment'\n  params: {\n    // Required parameters\n    administratorLogin: 'Admin001'\n    administratorLoginPassword: '<administratorLoginPassword>'\n    name: 'ddmcdefath001'\n    nodeCount: 1\n    sku: 'M10'\n    storage: 32\n    // Non-required parameters\n    enableMicrosoftEntraAuth: true\n    entraAuthIdentities: [\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n      }\n    ]\n    highAvailabilityMode: 'Disabled'\n  }\n}"}
{"id": "avm_res_document-db_mongo-cluster_example_4", "source": "avm/res/document-db/mongo-cluster/README.md", "content_to_embed": "Recommended AVM Module for Azure Cosmos DB for MongoDB (vCore) cluster: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.DocumentDB/mongoClusters\nModule ID: br/public:avm/res/document-db/mongo-cluster:0.4\nParameters:\nparams: {\n    // Required parameters\n    administratorLogin: 'Admin001'\n    administratorLoginPassword: '<administratorLoginPassword>'\n    name: 'ddmcwaf001'\n    nodeCount: 3\n    sku: 'M30'\n    storage: 256\n    // Non-required parameters\n    highAvailabilityMode: 'ZoneRedundantPreferred'\n    tags: {\n      environment: 'dev'\n      role: 'validation'\n      type: 'waf-aligned'\n    }\n  }", "bicep": "module mongoCluster 'br/public:avm/res/document-db/mongo-cluster:0.4' = {\n  name: 'mongoClusterDeployment'\n  params: {\n    // Required parameters\n    administratorLogin: 'Admin001'\n    administratorLoginPassword: '<administratorLoginPassword>'\n    name: 'ddmcwaf001'\n    nodeCount: 3\n    sku: 'M30'\n    storage: 256\n    // Non-required parameters\n    highAvailabilityMode: 'ZoneRedundantPreferred'\n    tags: {\n      environment: 'dev'\n      role: 'validation'\n      type: 'waf-aligned'\n    }\n  }\n}"}
{"id": "avm_res_elastic-san_elastic-san_example_1", "source": "avm/res/elastic-san/elastic-san/README.md", "content_to_embed": "Recommended AVM Module for Elastic SANs: Using encryption with Customer-Managed-Key - This instance deploys the module using Customer-Managed-Keys using a User-Assigned Identity to access the Customer-Managed-Key secret.\nResource Type Path: Microsoft.ElasticSan/elasticSans\nModule ID: br/public:avm/res/elastic-san/elastic-san:0.5\nParameters:\nparams: {\n    // Required parameters\n    availabilityZone: 2\n    name: 'esancmk001'\n    // Non-required parameters\n    sku: 'Premium_LRS'\n    volumeGroups: [\n      {\n        customerManagedKey: {\n          keyName: '<keyName>'\n          keyVaultResourceId: '<keyVaultResourceId>'\n          userAssignedIdentityResourceId: '<userAssignedIdentityResourceId>'\n        }\n        managedIdentities: {\n          userAssignedResourceIds: [\n            '<managedIdentityResourceId>'\n          ]\n        }\n        name: 'vol-grp-01'\n      }\n      {\n        customerManagedKey: {\n          keyName: '<keyName>'\n          keyVaultResourceId: '<keyVaultResourceId>'\n          keyVersion: '<keyVersion>'\n          userAssignedIdentityResourceId: '<userAssignedIdentityResourceId>'\n        }\n        managedIdentities: {\n          userAssignedResourceIds: [\n            '<managedIdentityResourceId>'\n          ]\n        }\n        name: 'vol-grp-02'\n      }\n    ]\n  }", "bicep": "module elasticSan 'br/public:avm/res/elastic-san/elastic-san:0.5' = {\n  name: 'elasticSanDeployment'\n  params: {\n    // Required parameters\n    availabilityZone: 2\n    name: 'esancmk001'\n    // Non-required parameters\n    sku: 'Premium_LRS'\n    volumeGroups: [\n      {\n        customerManagedKey: {\n          keyName: '<keyName>'\n          keyVaultResourceId: '<keyVaultResourceId>'\n          userAssignedIdentityResourceId: '<userAssignedIdentityResourceId>'\n        }\n        managedIdentities: {\n          userAssignedResourceIds: [\n            '<managedIdentityResourceId>'\n          ]\n        }\n        name: 'vol-grp-01'\n      }\n      {\n        customerManagedKey: {\n          keyName: '<keyName>'\n          keyVaultResourceId: '<keyVaultResourceId>'\n          keyVersion: '<keyVersion>'\n          userAssignedIdentityResourceId: '<userAssignedIdentityResourceId>'\n        }\n        managedIdentities: {\n          userAssignedResourceIds: [\n            '<managedIdentityResourceId>'\n          ]\n        }\n        name: 'vol-grp-02'\n      }\n    ]\n  }\n}"}
{"id": "avm_res_elastic-san_elastic-san_example_2", "source": "avm/res/elastic-san/elastic-san/README.md", "content_to_embed": "Recommended AVM Module for Elastic SANs: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.ElasticSan/elasticSans\nModule ID: br/public:avm/res/elastic-san/elastic-san:0.5\nParameters:\nparams: {\n    // Required parameters\n    availabilityZone: -1\n    name: 'esanmin001'\n  }", "bicep": "module elasticSan 'br/public:avm/res/elastic-san/elastic-san:0.5' = {\n  name: 'elasticSanDeployment'\n  params: {\n    // Required parameters\n    availabilityZone: -1\n    name: 'esanmin001'\n  }\n}"}
{"id": "avm_res_elastic-san_elastic-san_example_3", "source": "avm/res/elastic-san/elastic-san/README.md", "content_to_embed": "Recommended AVM Module for Elastic SANs: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.ElasticSan/elasticSans\nModule ID: br/public:avm/res/elastic-san/elastic-san:0.5\nParameters:\nparams: {\n    // Required parameters\n    availabilityZone: 3\n    name: 'esanmax001'\n    // Non-required parameters\n    baseSizeTiB: 2\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    extendedCapacitySizeTiB: 1\n    location: '<location>'\n    roleAssignments: [\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Role Based Access Control Administrator'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'User Access Administrator'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Elastic SAN Network Admin'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Elastic SAN Owner'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Elastic SAN Reader'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Elastic SAN Volume Group Owner'\n      }\n    ]\n    sku: 'Premium_LRS'\n    tags: {\n      CostCenter: '123-456-789'\n      Owner: 'Contoso'\n    }\n    volumeGroups: [\n      {\n        name: 'vol-grp-01'\n      }\n      {\n        name: 'vol-grp-02'\n        volumes: [\n          {\n            name: 'vol-grp-02-vol-01'\n            sizeGiB: 1\n          }\n          {\n            name: 'vol-grp-02-vol-02'\n            sizeGiB: 2\n            snapshots: [\n              {\n                name: '<name>'\n              }\n              {\n                name: '<name>'\n              }\n            ]\n          }\n        ]\n      }\n      {\n        name: 'vol-grp-03'\n        virtualNetworkRules: [\n          {\n            virtualNetworkSubnetResourceId: '<virtualNetworkSubnetResourceId>'\n          }\n        ]\n      }\n      {\n        managedIdentities: {\n          systemAssigned: true\n        }\n        name: 'vol-grp-04'\n      }\n      {\n        managedIdentities: {\n          userAssignedResourceIds: [\n            '<managedIdentityResourceId>'\n          ]\n        }\n        name: 'vol-grp-05'\n      }\n      {\n        managedIdentities: {\n          systemAssigned: true\n          userAssignedResourceIds: [\n            '<managedIdentityResourceId>'\n          ]\n        }\n        name: 'vol-grp-06'\n      }\n    ]\n  }", "bicep": "module elasticSan 'br/public:avm/res/elastic-san/elastic-san:0.5' = {\n  name: 'elasticSanDeployment'\n  params: {\n    // Required parameters\n    availabilityZone: 3\n    name: 'esanmax001'\n    // Non-required parameters\n    baseSizeTiB: 2\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    extendedCapacitySizeTiB: 1\n    location: '<location>'\n    roleAssignments: [\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Role Based Access Control Administrator'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'User Access Administrator'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Elastic SAN Network Admin'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Elastic SAN Owner'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Elastic SAN Reader'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Elastic SAN Volume Group Owner'\n      }\n    ]\n    sku: 'Premium_LRS'\n    tags: {\n      CostCenter: '123-456-789'\n      Owner: 'Contoso'\n    }\n    volumeGroups: [\n      {\n        name: 'vol-grp-01'\n      }\n      {\n        name: 'vol-grp-02'\n        volumes: [\n          {\n            name: 'vol-grp-02-vol-01'\n            sizeGiB: 1\n          }\n          {\n            name: 'vol-grp-02-vol-02'\n            sizeGiB: 2\n            snapshots: [\n              {\n                name: '<name>'\n              }\n              {\n                name: '<name>'\n              }\n            ]\n          }\n        ]\n      }\n      {\n        name: 'vol-grp-03'\n        virtualNetworkRules: [\n          {\n            virtualNetworkSubnetResourceId: '<virtualNetworkSubnetResourceId>'\n          }\n        ]\n      }\n      {\n        managedIdentities: {\n          systemAssigned: true\n        }\n        name: 'vol-grp-04'\n      }\n      {\n        managedIdentities: {\n          userAssignedResourceIds: [\n            '<managedIdentityResourceId>'\n          ]\n        }\n        name: 'vol-grp-05'\n      }\n      {\n        managedIdentities: {\n          systemAssigned: true\n          userAssignedResourceIds: [\n            '<managedIdentityResourceId>'\n          ]\n        }\n        name: 'vol-grp-06'\n      }\n    ]\n  }\n}"}
{"id": "avm_res_elastic-san_elastic-san_example_4", "source": "avm/res/elastic-san/elastic-san/README.md", "content_to_embed": "Recommended AVM Module for Elastic SANs: Private endpoint-enabled deployment - This instance deploys the module with private endpoints.\nResource Type Path: Microsoft.ElasticSan/elasticSans\nModule ID: br/public:avm/res/elastic-san/elastic-san:0.5\nParameters:\nparams: {\n    // Required parameters\n    availabilityZone: -1\n    name: 'esanpe001'\n    // Non-required parameters\n    sku: 'Premium_ZRS'\n    volumeGroups: [\n      {\n        name: 'vol-grp-01'\n        privateEndpoints: [\n          {\n            lock: {\n              kind: 'CanNotDelete'\n              name: 'myCustomLockName'\n            }\n            privateDnsZoneGroup: {\n              privateDnsZoneGroupConfigs: [\n                {\n                  privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n                }\n              ]\n            }\n            subnetResourceId: '<subnetResourceId>'\n            tags: {\n              CostCenter: '123-456-789'\n              Owner: 'Contoso'\n            }\n          }\n        ]\n      }\n    ]\n  }", "bicep": "module elasticSan 'br/public:avm/res/elastic-san/elastic-san:0.5' = {\n  name: 'elasticSanDeployment'\n  params: {\n    // Required parameters\n    availabilityZone: -1\n    name: 'esanpe001'\n    // Non-required parameters\n    sku: 'Premium_ZRS'\n    volumeGroups: [\n      {\n        name: 'vol-grp-01'\n        privateEndpoints: [\n          {\n            lock: {\n              kind: 'CanNotDelete'\n              name: 'myCustomLockName'\n            }\n            privateDnsZoneGroup: {\n              privateDnsZoneGroupConfigs: [\n                {\n                  privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n                }\n              ]\n            }\n            subnetResourceId: '<subnetResourceId>'\n            tags: {\n              CostCenter: '123-456-789'\n              Owner: 'Contoso'\n            }\n          }\n        ]\n      }\n    ]\n  }\n}"}
{"id": "avm_res_elastic-san_elastic-san_example_5", "source": "avm/res/elastic-san/elastic-san/README.md", "content_to_embed": "Recommended AVM Module for Elastic SANs: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.ElasticSan/elasticSans\nModule ID: br/public:avm/res/elastic-san/elastic-san:0.5\nParameters:\nparams: {\n    // Required parameters\n    availabilityZone: 1\n    name: 'esanwaf001'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    publicNetworkAccess: 'Disabled'\n    sku: 'Premium_LRS'\n    tags: {\n      CostCenter: '123-456-789'\n      Owner: 'Contoso'\n    }\n    volumeGroups: [\n      {\n        customerManagedKey: {\n          keyName: '<keyName>'\n          keyVaultResourceId: '<keyVaultResourceId>'\n          userAssignedIdentityResourceId: '<userAssignedIdentityResourceId>'\n        }\n        managedIdentities: {\n          userAssignedResourceIds: [\n            '<managedIdentityResourceId>'\n          ]\n        }\n        name: 'vol-grp-01'\n        privateEndpoints: [\n          {\n            privateDnsZoneGroup: {\n              privateDnsZoneGroupConfigs: [\n                {\n                  privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n                }\n              ]\n            }\n            subnetResourceId: '<subnetResourceId>'\n            tags: {\n              CostCenter: '123-456-789'\n              Owner: 'Contoso'\n            }\n          }\n        ]\n        volumes: [\n          {\n            name: 'vol-grp-01-vol-01'\n            sizeGiB: 1\n          }\n        ]\n      }\n    ]\n  }", "bicep": "module elasticSan 'br/public:avm/res/elastic-san/elastic-san:0.5' = {\n  name: 'elasticSanDeployment'\n  params: {\n    // Required parameters\n    availabilityZone: 1\n    name: 'esanwaf001'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    publicNetworkAccess: 'Disabled'\n    sku: 'Premium_LRS'\n    tags: {\n      CostCenter: '123-456-789'\n      Owner: 'Contoso'\n    }\n    volumeGroups: [\n      {\n        customerManagedKey: {\n          keyName: '<keyName>'\n          keyVaultResourceId: '<keyVaultResourceId>'\n          userAssignedIdentityResourceId: '<userAssignedIdentityResourceId>'\n        }\n        managedIdentities: {\n          userAssignedResourceIds: [\n            '<managedIdentityResourceId>'\n          ]\n        }\n        name: 'vol-grp-01'\n        privateEndpoints: [\n          {\n            privateDnsZoneGroup: {\n              privateDnsZoneGroupConfigs: [\n                {\n                  privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n                }\n              ]\n            }\n            subnetResourceId: '<subnetResourceId>'\n            tags: {\n              CostCenter: '123-456-789'\n              Owner: 'Contoso'\n            }\n          }\n        ]\n        volumes: [\n          {\n            name: 'vol-grp-01-vol-01'\n            sizeGiB: 1\n          }\n        ]\n      }\n    ]\n  }\n}"}
{"id": "avm_res_event-grid_domain_example_1", "source": "avm/res/event-grid/domain/README.md", "content_to_embed": "Recommended AVM Module for Event Grid Domains: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.EventGrid/domains\nModule ID: br/public:avm/res/event-grid/domain:0.8\nParameters:\nparams: {\n    // Required parameters\n    name: 'egdmin001'\n    // Non-required parameters\n    location: '<location>'\n  }", "bicep": "module domain 'br/public:avm/res/event-grid/domain:0.8' = {\n  name: 'domainDeployment'\n  params: {\n    // Required parameters\n    name: 'egdmin001'\n    // Non-required parameters\n    location: '<location>'\n  }\n}"}
{"id": "avm_res_event-grid_domain_example_2", "source": "avm/res/event-grid/domain/README.md", "content_to_embed": "Recommended AVM Module for Event Grid Domains: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.EventGrid/domains\nModule ID: br/public:avm/res/event-grid/domain:0.8\nParameters:\nparams: {\n    // Required parameters\n    name: 'egdmax001'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    eventSubscriptions: [\n      {\n        destination: {\n          endpointType: 'StorageQueue'\n          properties: {\n            queueName: '<queueName>'\n            resourceId: '<resourceId>'\n          }\n        }\n        filter: {\n          includedEventTypes: [\n            'Microsoft.Resources.ResourceWriteSuccess'\n          ]\n        }\n        name: 'sub-egdmax001'\n      }\n    ]\n    inboundIpRules: [\n      {\n        action: 'Allow'\n        ipMask: '40.74.28.0/23'\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: true\n    }\n    minimumTlsVersionAllowed: '1.2'\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    roleAssignments: [\n      {\n        name: '1d2dba39-c8fe-45f9-a3af-6dc15caa95a5'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    topics: [\n      'topic-egdmax001'\n    ]\n  }", "bicep": "module domain 'br/public:avm/res/event-grid/domain:0.8' = {\n  name: 'domainDeployment'\n  params: {\n    // Required parameters\n    name: 'egdmax001'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    eventSubscriptions: [\n      {\n        destination: {\n          endpointType: 'StorageQueue'\n          properties: {\n            queueName: '<queueName>'\n            resourceId: '<resourceId>'\n          }\n        }\n        filter: {\n          includedEventTypes: [\n            'Microsoft.Resources.ResourceWriteSuccess'\n          ]\n        }\n        name: 'sub-egdmax001'\n      }\n    ]\n    inboundIpRules: [\n      {\n        action: 'Allow'\n        ipMask: '40.74.28.0/23'\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: true\n    }\n    minimumTlsVersionAllowed: '1.2'\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    roleAssignments: [\n      {\n        name: '1d2dba39-c8fe-45f9-a3af-6dc15caa95a5'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    topics: [\n      'topic-egdmax001'\n    ]\n  }\n}"}
{"id": "avm_res_event-grid_domain_example_3", "source": "avm/res/event-grid/domain/README.md", "content_to_embed": "Recommended AVM Module for Event Grid Domains: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.EventGrid/domains\nModule ID: br/public:avm/res/event-grid/domain:0.8\nParameters:\nparams: {\n    // Required parameters\n    name: 'egdwaf001'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    inboundIpRules: []\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    minimumTlsVersionAllowed: '1.2'\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'domain'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    topics: [\n      'topic-egdwaf001'\n    ]\n  }", "bicep": "module domain 'br/public:avm/res/event-grid/domain:0.8' = {\n  name: 'domainDeployment'\n  params: {\n    // Required parameters\n    name: 'egdwaf001'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    inboundIpRules: []\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    minimumTlsVersionAllowed: '1.2'\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'domain'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    topics: [\n      'topic-egdwaf001'\n    ]\n  }\n}"}
{"id": "avm_res_event-grid_namespace_example_1", "source": "avm/res/event-grid/namespace/README.md", "content_to_embed": "Recommended AVM Module for Event Grid Namespaces: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.EventGrid/namespaces\nModule ID: br/public:avm/res/event-grid/namespace:0.7\nParameters:\nparams: {\n    // Required parameters\n    name: 'egnmin001'\n    // Non-required parameters\n    location: '<location>'\n  }", "bicep": "module namespace 'br/public:avm/res/event-grid/namespace:0.7' = {\n  name: 'namespaceDeployment'\n  params: {\n    // Required parameters\n    name: 'egnmin001'\n    // Non-required parameters\n    location: '<location>'\n  }\n}"}
{"id": "avm_res_event-grid_namespace_example_2", "source": "avm/res/event-grid/namespace/README.md", "content_to_embed": "Recommended AVM Module for Event Grid Namespaces: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.EventGrid/namespaces\nModule ID: br/public:avm/res/event-grid/namespace:0.7\nParameters:\nparams: {\n    // Required parameters\n    name: 'egnmax001'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    roleAssignments: [\n      {\n        name: 'bde32b53-e30c-41d0-a338-c637853fe524'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    topics: [\n      {\n        eventRetentionInDays: 7\n        eventSubscriptions: [\n          {\n            deliveryConfiguration: {\n              deliveryMode: 'Queue'\n              queue: {\n                eventTimeToLive: 'P7D'\n                maxDeliveryCount: 10\n                receiveLockDurationInSeconds: 60\n              }\n            }\n            name: 'subscription1'\n            roleAssignments: [\n              {\n                principalId: '<principalId>'\n                principalType: 'ServicePrincipal'\n                roleDefinitionIdOrName: 'Owner'\n              }\n              {\n                principalId: '<principalId>'\n                principalType: 'ServicePrincipal'\n                roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n              }\n              {\n                principalId: '<principalId>'\n                principalType: 'ServicePrincipal'\n                roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n              }\n            ]\n          }\n          {\n            deliveryConfiguration: {\n              deliveryMode: 'Push'\n              push: {\n                deliveryWithResourceIdentity: {\n                  destination: {\n                    endpointType: 'EventHub'\n                    properties: {\n                      deliveryAttributeMappings: [\n                        {\n                          name: 'StaticHeader1'\n                          properties: {\n                            isSecret: false\n                            value: 'staticVaule'\n                          }\n                          type: 'Static'\n                        }\n                        {\n                          name: 'DynamicHeader1'\n                          properties: {\n                            sourceField: 'id'\n                          }\n                          type: 'Dynamic'\n                        }\n                        {\n                          name: 'StaticSecretHeader1'\n                          properties: {\n                            isSecret: true\n                            value: 'Hidden'\n                          }\n                          type: 'Static'\n                        }\n                      ]\n                      resourceId: '<resourceId>'\n                    }\n                  }\n                  identity: {\n                    type: 'UserAssigned'\n                    userAssignedIdentity: '<userAssignedIdentity>'\n                  }\n                }\n                eventTimeToLive: 'P7D'\n                maxDeliveryCount: 10\n              }\n            }\n            name: 'subscription2'\n          }\n        ]\n        name: 'topic1'\n      }\n      {\n        lock: {\n          kind: 'CanNotDelete'\n          name: 'myCustomLockName'\n        }\n        name: 'topic2'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n      }\n    ]\n  }", "bicep": "module namespace 'br/public:avm/res/event-grid/namespace:0.7' = {\n  name: 'namespaceDeployment'\n  params: {\n    // Required parameters\n    name: 'egnmax001'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    roleAssignments: [\n      {\n        name: 'bde32b53-e30c-41d0-a338-c637853fe524'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    topics: [\n      {\n        eventRetentionInDays: 7\n        eventSubscriptions: [\n          {\n            deliveryConfiguration: {\n              deliveryMode: 'Queue'\n              queue: {\n                eventTimeToLive: 'P7D'\n                maxDeliveryCount: 10\n                receiveLockDurationInSeconds: 60\n              }\n            }\n            name: 'subscription1'\n            roleAssignments: [\n              {\n                principalId: '<principalId>'\n                principalType: 'ServicePrincipal'\n                roleDefinitionIdOrName: 'Owner'\n              }\n              {\n                principalId: '<principalId>'\n                principalType: 'ServicePrincipal'\n                roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n              }\n              {\n                principalId: '<principalId>'\n                principalType: 'ServicePrincipal'\n                roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n              }\n            ]\n          }\n          {\n            deliveryConfiguration: {\n              deliveryMode: 'Push'\n              push: {\n                deliveryWithResourceIdentity: {\n                  destination: {\n                    endpointType: 'EventHub'\n                    properties: {\n                      deliveryAttributeMappings: [\n                        {\n                          name: 'StaticHeader1'\n                          properties: {\n                            isSecret: false\n                            value: 'staticVaule'\n                          }\n                          type: 'Static'\n                        }\n                        {\n                          name: 'DynamicHeader1'\n                          properties: {\n                            sourceField: 'id'\n                          }\n                          type: 'Dynamic'\n                        }\n                        {\n                          name: 'StaticSecretHeader1'\n                          properties: {\n                            isSecret: true\n                            value: 'Hidden'\n                          }\n                          type: 'Static'\n                        }\n                      ]\n                      resourceId: '<resourceId>'\n                    }\n                  }\n                  identity: {\n                    type: 'UserAssigned'\n                    userAssignedIdentity: '<userAssignedIdentity>'\n                  }\n                }\n                eventTimeToLive: 'P7D'\n                maxDeliveryCount: 10\n              }\n            }\n            name: 'subscription2'\n          }\n        ]\n        name: 'topic1'\n      }\n      {\n        lock: {\n          kind: 'CanNotDelete'\n          name: 'myCustomLockName'\n        }\n        name: 'topic2'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n      }\n    ]\n  }\n}"}
{"id": "avm_res_event-grid_namespace_example_3", "source": "avm/res/event-grid/namespace/README.md", "content_to_embed": "Recommended AVM Module for Event Grid Namespaces: MQTT Broker with routing to a namespace topic - This instance deploys the module as a MQTT Broker with routing to a topic within the same Eventgrid namespace.\nResource Type Path: Microsoft.EventGrid/namespaces\nModule ID: br/public:avm/res/event-grid/namespace:0.7\nParameters:\nparams: {\n    // Required parameters\n    name: 'egnmqttct001'\n    // Non-required parameters\n    alternativeAuthenticationNameSources: [\n      'ClientCertificateEmail'\n      'ClientCertificateUri'\n    ]\n    clientGroups: [\n      {\n        description: 'this is group1'\n        name: 'group1'\n        query: 'attributes.keyName IN [\\'a\\', \\'b\\', \\'c\\']'\n      }\n    ]\n    clients: [\n      {\n        attributes: {\n          deviceTypes: [\n            'Fan'\n            'Light'\n          ]\n          floor: 12\n          room: '345'\n        }\n        authenticationName: 'client2auth'\n        clientCertificateAuthenticationAllowedThumbprints: [\n          '1111111111111111111111111111111111111111'\n          '2222222222222222222222222222222222222222'\n        ]\n        clientCertificateAuthenticationValidationSchema: 'ThumbprintMatch'\n        description: 'this is client2'\n        name: 'client1'\n        state: 'Enabled'\n      }\n      {\n        clientCertificateAuthenticationAllowedThumbprints: [\n          '3333333333333333333333333333333333333333'\n        ]\n        clientCertificateAuthenticationValidationSchema: 'ThumbprintMatch'\n        name: 'client2'\n      }\n      {\n        name: 'client3'\n      }\n      {\n        clientCertificateAuthenticationValidationSchema: 'IpMatchesAuthenticationName'\n        name: 'client4'\n      }\n    ]\n    location: '<location>'\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    maximumClientSessionsPerAuthenticationName: 5\n    maximumSessionExpiryInHours: 2\n    permissionBindings: [\n      {\n        clientGroupName: 'group1'\n        description: 'this is binding1'\n        name: 'bindiing1'\n        permission: 'Publisher'\n        topicSpaceName: 'topicSpace1'\n      }\n      {\n        clientGroupName: 'group1'\n        name: 'bindiing2'\n        permission: 'Subscriber'\n        topicSpaceName: 'topicSpace2'\n      }\n    ]\n    routeTopicResourceId: '<routeTopicResourceId>'\n    routingEnrichments: {\n      dynamic: [\n        {\n          key: 'dynamic1'\n          value: '\\${client.authenticationName}'\n        }\n      ]\n      static: [\n        {\n          key: 'static1'\n          value: 'value1'\n          valueType: 'String'\n        }\n        {\n          key: 'static2'\n          value: 'value2'\n          valueType: 'String'\n        }\n      ]\n    }\n    routingIdentityInfo: {\n      type: 'UserAssigned'\n      userAssignedIdentity: '<userAssignedIdentity>'\n    }\n    topics: [\n      {\n        name: 'topic1'\n      }\n    ]\n    topicSpaces: [\n      {\n        name: 'topicSpace1'\n        topicTemplates: [\n          'devices/foo/bar'\n          'devices/topic1/+'\n        ]\n      }\n      {\n        name: 'topicSpace2'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n        topicTemplates: [\n          'devices/topic1/+'\n        ]\n      }\n    ]\n    topicSpacesState: 'Enabled'\n  }", "bicep": "module namespace 'br/public:avm/res/event-grid/namespace:0.7' = {\n  name: 'namespaceDeployment'\n  params: {\n    // Required parameters\n    name: 'egnmqttct001'\n    // Non-required parameters\n    alternativeAuthenticationNameSources: [\n      'ClientCertificateEmail'\n      'ClientCertificateUri'\n    ]\n    clientGroups: [\n      {\n        description: 'this is group1'\n        name: 'group1'\n        query: 'attributes.keyName IN [\\'a\\', \\'b\\', \\'c\\']'\n      }\n    ]\n    clients: [\n      {\n        attributes: {\n          deviceTypes: [\n            'Fan'\n            'Light'\n          ]\n          floor: 12\n          room: '345'\n        }\n        authenticationName: 'client2auth'\n        clientCertificateAuthenticationAllowedThumbprints: [\n          '1111111111111111111111111111111111111111'\n          '2222222222222222222222222222222222222222'\n        ]\n        clientCertificateAuthenticationValidationSchema: 'ThumbprintMatch'\n        description: 'this is client2'\n        name: 'client1'\n        state: 'Enabled'\n      }\n      {\n        clientCertificateAuthenticationAllowedThumbprints: [\n          '3333333333333333333333333333333333333333'\n        ]\n        clientCertificateAuthenticationValidationSchema: 'ThumbprintMatch'\n        name: 'client2'\n      }\n      {\n        name: 'client3'\n      }\n      {\n        clientCertificateAuthenticationValidationSchema: 'IpMatchesAuthenticationName'\n        name: 'client4'\n      }\n    ]\n    location: '<location>'\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    maximumClientSessionsPerAuthenticationName: 5\n    maximumSessionExpiryInHours: 2\n    permissionBindings: [\n      {\n        clientGroupName: 'group1'\n        description: 'this is binding1'\n        name: 'bindiing1'\n        permission: 'Publisher'\n        topicSpaceName: 'topicSpace1'\n      }\n      {\n        clientGroupName: 'group1'\n        name: 'bindiing2'\n        permission: 'Subscriber'\n        topicSpaceName: 'topicSpace2'\n      }\n    ]\n    routeTopicResourceId: '<routeTopicResourceId>'\n    routingEnrichments: {\n      dynamic: [\n        {\n          key: 'dynamic1'\n          value: '\\${client.authenticationName}'\n        }\n      ]\n      static: [\n        {\n          key: 'static1'\n          value: 'value1'\n          valueType: 'String'\n        }\n        {\n          key: 'static2'\n          value: 'value2'\n          valueType: 'String'\n        }\n      ]\n    }\n    routingIdentityInfo: {\n      type: 'UserAssigned'\n      userAssignedIdentity: '<userAssignedIdentity>'\n    }\n    topics: [\n      {\n        name: 'topic1'\n      }\n    ]\n    topicSpaces: [\n      {\n        name: 'topicSpace1'\n        topicTemplates: [\n          'devices/foo/bar'\n          'devices/topic1/+'\n        ]\n      }\n      {\n        name: 'topicSpace2'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n        topicTemplates: [\n          'devices/topic1/+'\n        ]\n      }\n    ]\n    topicSpacesState: 'Enabled'\n  }\n}"}
{"id": "avm_res_event-grid_namespace_example_4", "source": "avm/res/event-grid/namespace/README.md", "content_to_embed": "Recommended AVM Module for Event Grid Namespaces: MQTT Broker with routing to a custom topic - This instance deploys the module as a MQTT Broker with routing to a custom topic.\nResource Type Path: Microsoft.EventGrid/namespaces\nModule ID: br/public:avm/res/event-grid/namespace:0.7\nParameters:\nparams: {\n    // Required parameters\n    name: 'egnmqttnt001'\n    // Non-required parameters\n    alternativeAuthenticationNameSources: [\n      'ClientCertificateEmail'\n      'ClientCertificateUri'\n    ]\n    clientGroups: [\n      {\n        description: 'this is group1'\n        name: 'group1'\n        query: 'attributes.keyName IN [\\'a\\', \\'b\\', \\'c\\']'\n      }\n    ]\n    clients: [\n      {\n        attributes: {\n          deviceTypes: [\n            'Fan'\n            'Light'\n          ]\n          floor: 12\n          room: '345'\n        }\n        authenticationName: 'client2auth'\n        clientCertificateAuthenticationAllowedThumbprints: [\n          '1111111111111111111111111111111111111111'\n          '2222222222222222222222222222222222222222'\n        ]\n        clientCertificateAuthenticationValidationSchema: 'ThumbprintMatch'\n        description: 'this is client2'\n        name: 'client1'\n        state: 'Enabled'\n      }\n      {\n        clientCertificateAuthenticationAllowedThumbprints: [\n          '3333333333333333333333333333333333333333'\n        ]\n        clientCertificateAuthenticationValidationSchema: 'ThumbprintMatch'\n        name: 'client2'\n      }\n      {\n        name: 'client3'\n      }\n      {\n        clientCertificateAuthenticationValidationSchema: 'IpMatchesAuthenticationName'\n        name: 'client4'\n      }\n    ]\n    location: '<location>'\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    maximumClientSessionsPerAuthenticationName: 5\n    maximumSessionExpiryInHours: 2\n    permissionBindings: [\n      {\n        clientGroupName: 'group1'\n        description: 'this is binding1'\n        name: 'bindiing1'\n        permission: 'Publisher'\n        topicSpaceName: 'topicSpace1'\n      }\n      {\n        clientGroupName: 'group1'\n        name: 'bindiing2'\n        permission: 'Subscriber'\n        topicSpaceName: 'topicSpace2'\n      }\n    ]\n    routeTopicResourceId: '<routeTopicResourceId>'\n    routingEnrichments: {\n      dynamic: [\n        {\n          key: 'dynamic1'\n          value: '\\${client.authenticationName}'\n        }\n      ]\n      static: [\n        {\n          key: 'static1'\n          value: 'value1'\n          valueType: 'String'\n        }\n        {\n          key: 'static2'\n          value: 'value2'\n          valueType: 'String'\n        }\n      ]\n    }\n    routingIdentityInfo: {\n      type: 'UserAssigned'\n      userAssignedIdentity: '<userAssignedIdentity>'\n    }\n    topics: [\n      {\n        name: 'topic1'\n      }\n    ]\n    topicSpaces: [\n      {\n        name: 'topicSpace1'\n        topicTemplates: [\n          'devices/foo/bar'\n          'devices/topic1/+'\n        ]\n      }\n      {\n        name: 'topicSpace2'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n        topicTemplates: [\n          'devices/topic1/+'\n        ]\n      }\n    ]\n    topicSpacesState: 'Enabled'\n  }", "bicep": "module namespace 'br/public:avm/res/event-grid/namespace:0.7' = {\n  name: 'namespaceDeployment'\n  params: {\n    // Required parameters\n    name: 'egnmqttnt001'\n    // Non-required parameters\n    alternativeAuthenticationNameSources: [\n      'ClientCertificateEmail'\n      'ClientCertificateUri'\n    ]\n    clientGroups: [\n      {\n        description: 'this is group1'\n        name: 'group1'\n        query: 'attributes.keyName IN [\\'a\\', \\'b\\', \\'c\\']'\n      }\n    ]\n    clients: [\n      {\n        attributes: {\n          deviceTypes: [\n            'Fan'\n            'Light'\n          ]\n          floor: 12\n          room: '345'\n        }\n        authenticationName: 'client2auth'\n        clientCertificateAuthenticationAllowedThumbprints: [\n          '1111111111111111111111111111111111111111'\n          '2222222222222222222222222222222222222222'\n        ]\n        clientCertificateAuthenticationValidationSchema: 'ThumbprintMatch'\n        description: 'this is client2'\n        name: 'client1'\n        state: 'Enabled'\n      }\n      {\n        clientCertificateAuthenticationAllowedThumbprints: [\n          '3333333333333333333333333333333333333333'\n        ]\n        clientCertificateAuthenticationValidationSchema: 'ThumbprintMatch'\n        name: 'client2'\n      }\n      {\n        name: 'client3'\n      }\n      {\n        clientCertificateAuthenticationValidationSchema: 'IpMatchesAuthenticationName'\n        name: 'client4'\n      }\n    ]\n    location: '<location>'\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    maximumClientSessionsPerAuthenticationName: 5\n    maximumSessionExpiryInHours: 2\n    permissionBindings: [\n      {\n        clientGroupName: 'group1'\n        description: 'this is binding1'\n        name: 'bindiing1'\n        permission: 'Publisher'\n        topicSpaceName: 'topicSpace1'\n      }\n      {\n        clientGroupName: 'group1'\n        name: 'bindiing2'\n        permission: 'Subscriber'\n        topicSpaceName: 'topicSpace2'\n      }\n    ]\n    routeTopicResourceId: '<routeTopicResourceId>'\n    routingEnrichments: {\n      dynamic: [\n        {\n          key: 'dynamic1'\n          value: '\\${client.authenticationName}'\n        }\n      ]\n      static: [\n        {\n          key: 'static1'\n          value: 'value1'\n          valueType: 'String'\n        }\n        {\n          key: 'static2'\n          value: 'value2'\n          valueType: 'String'\n        }\n      ]\n    }\n    routingIdentityInfo: {\n      type: 'UserAssigned'\n      userAssignedIdentity: '<userAssignedIdentity>'\n    }\n    topics: [\n      {\n        name: 'topic1'\n      }\n    ]\n    topicSpaces: [\n      {\n        name: 'topicSpace1'\n        topicTemplates: [\n          'devices/foo/bar'\n          'devices/topic1/+'\n        ]\n      }\n      {\n        name: 'topicSpace2'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n        topicTemplates: [\n          'devices/topic1/+'\n        ]\n      }\n    ]\n    topicSpacesState: 'Enabled'\n  }\n}"}
{"id": "avm_res_event-grid_namespace_example_5", "source": "avm/res/event-grid/namespace/README.md", "content_to_embed": "Recommended AVM Module for Event Grid Namespaces: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.EventGrid/namespaces\nModule ID: br/public:avm/res/event-grid/namespace:0.7\nParameters:\nparams: {\n    // Required parameters\n    name: 'egnwaf001'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    location: '<location>'\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    roleAssignments: [\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module namespace 'br/public:avm/res/event-grid/namespace:0.7' = {\n  name: 'namespaceDeployment'\n  params: {\n    // Required parameters\n    name: 'egnwaf001'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    location: '<location>'\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    roleAssignments: [\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_event-grid_system-topic_example_1", "source": "avm/res/event-grid/system-topic/README.md", "content_to_embed": "Recommended AVM Module for Event Grid System Topics: Using only defaults with managed identity - This instance deploys the module with the minimum set of required parameters and uses managed identities to deliver Event Grid Topic events.\nResource Type Path: Microsoft.EventGrid/systemTopics\nModule ID: br/public:avm/res/event-grid/system-topic:0.6\nParameters:\nparams: {\n    // Required parameters\n    name: 'egstmin001'\n    source: '<source>'\n    topicType: 'Microsoft.Storage.StorageAccounts'\n    // Non-required parameters\n    location: '<location>'\n  }", "bicep": "module systemTopic 'br/public:avm/res/event-grid/system-topic:0.6' = {\n  name: 'systemTopicDeployment'\n  params: {\n    // Required parameters\n    name: 'egstmin001'\n    source: '<source>'\n    topicType: 'Microsoft.Storage.StorageAccounts'\n    // Non-required parameters\n    location: '<location>'\n  }\n}"}
{"id": "avm_res_event-grid_system-topic_example_2", "source": "avm/res/event-grid/system-topic/README.md", "content_to_embed": "Recommended AVM Module for Event Grid System Topics: Using managed identity authentication - This instance deploys the module testing delivery with resource identity (managed identity authentication).\nResource Type Path: Microsoft.EventGrid/systemTopics\nModule ID: br/public:avm/res/event-grid/system-topic:0.6\nParameters:\nparams: {\n    // Required parameters\n    name: 'egstid001'\n    source: '<source>'\n    topicType: 'Microsoft.Storage.StorageAccounts'\n    // Non-required parameters\n    eventSubscriptions: [\n      {\n        deliveryWithResourceIdentity: {\n          destination: {\n            endpointType: 'ServiceBusTopic'\n            properties: {\n              resourceId: '<resourceId>'\n            }\n          }\n          identity: {\n            type: 'UserAssigned'\n            userAssignedIdentity: '<userAssignedIdentity>'\n          }\n        }\n        eventDeliverySchema: 'CloudEventSchemaV1_0'\n        expirationTimeUtc: '2099-01-01T11:00:21.715Z'\n        filter: {\n          enableAdvancedFilteringOnArrays: true\n          isSubjectCaseSensitive: false\n        }\n        name: 'egstidSub'\n        retryPolicy: {\n          eventTimeToLive: '120'\n          maxDeliveryAttempts: 10\n        }\n      }\n    ]\n    location: '<location>'\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    tags: {\n      Environment: 'Non-Prod'\n      'fix-verification': 'true'\n      Role: 'DeploymentValidation'\n      'test-scenario': 'delivery-with-resource-identity'\n    }\n  }", "bicep": "module systemTopic 'br/public:avm/res/event-grid/system-topic:0.6' = {\n  name: 'systemTopicDeployment'\n  params: {\n    // Required parameters\n    name: 'egstid001'\n    source: '<source>'\n    topicType: 'Microsoft.Storage.StorageAccounts'\n    // Non-required parameters\n    eventSubscriptions: [\n      {\n        deliveryWithResourceIdentity: {\n          destination: {\n            endpointType: 'ServiceBusTopic'\n            properties: {\n              resourceId: '<resourceId>'\n            }\n          }\n          identity: {\n            type: 'UserAssigned'\n            userAssignedIdentity: '<userAssignedIdentity>'\n          }\n        }\n        eventDeliverySchema: 'CloudEventSchemaV1_0'\n        expirationTimeUtc: '2099-01-01T11:00:21.715Z'\n        filter: {\n          enableAdvancedFilteringOnArrays: true\n          isSubjectCaseSensitive: false\n        }\n        name: 'egstidSub'\n        retryPolicy: {\n          eventTimeToLive: '120'\n          maxDeliveryAttempts: 10\n        }\n      }\n    ]\n    location: '<location>'\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    tags: {\n      Environment: 'Non-Prod'\n      'fix-verification': 'true'\n      Role: 'DeploymentValidation'\n      'test-scenario': 'delivery-with-resource-identity'\n    }\n  }\n}"}
{"id": "avm_res_event-grid_system-topic_example_3", "source": "avm/res/event-grid/system-topic/README.md", "content_to_embed": "Recommended AVM Module for Event Grid System Topics: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.EventGrid/systemTopics\nModule ID: br/public:avm/res/event-grid/system-topic:0.6\nParameters:\nparams: {\n    // Required parameters\n    name: 'egstmax001'\n    source: '<source>'\n    topicType: 'Microsoft.Storage.StorageAccounts'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    eventSubscriptions: [\n      {\n        destination: {\n          endpointType: 'StorageQueue'\n          properties: {\n            queueMessageTimeToLiveInSeconds: 86400\n            queueName: '<queueName>'\n            resourceId: '<resourceId>'\n          }\n        }\n        eventDeliverySchema: 'CloudEventSchemaV1_0'\n        expirationTimeUtc: '2099-01-01T11:00:21.715Z'\n        filter: {\n          enableAdvancedFilteringOnArrays: true\n          isSubjectCaseSensitive: false\n        }\n        name: 'egstmax001'\n        retryPolicy: {\n          eventTimeToLiveInMinutes: 120\n          maxDeliveryAttempts: 10\n        }\n      }\n    ]\n    externalResourceRoleAssignments: [\n      {\n        description: 'Allow Event Grid System Topic to write to storage queue'\n        resourceId: '<resourceId>'\n        roleDefinitionId: '974c5e8b-45b9-4653-ba55-5f855dd0fb88'\n      }\n      {\n        description: 'Allow Event Grid System Topic to send messages to storage queue'\n        resourceId: '<resourceId>'\n        roleDefinitionId: 'c6a89b2d-59bc-44d0-9896-0f6e12d7b80a'\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: true\n    }\n    roleAssignments: [\n      {\n        name: 'c9beca28-efcf-4d1d-99aa-8f334484a2c2'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '8e3af657-a8ff-443c-a75c-2fe8c4bcb635'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module systemTopic 'br/public:avm/res/event-grid/system-topic:0.6' = {\n  name: 'systemTopicDeployment'\n  params: {\n    // Required parameters\n    name: 'egstmax001'\n    source: '<source>'\n    topicType: 'Microsoft.Storage.StorageAccounts'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    eventSubscriptions: [\n      {\n        destination: {\n          endpointType: 'StorageQueue'\n          properties: {\n            queueMessageTimeToLiveInSeconds: 86400\n            queueName: '<queueName>'\n            resourceId: '<resourceId>'\n          }\n        }\n        eventDeliverySchema: 'CloudEventSchemaV1_0'\n        expirationTimeUtc: '2099-01-01T11:00:21.715Z'\n        filter: {\n          enableAdvancedFilteringOnArrays: true\n          isSubjectCaseSensitive: false\n        }\n        name: 'egstmax001'\n        retryPolicy: {\n          eventTimeToLiveInMinutes: 120\n          maxDeliveryAttempts: 10\n        }\n      }\n    ]\n    externalResourceRoleAssignments: [\n      {\n        description: 'Allow Event Grid System Topic to write to storage queue'\n        resourceId: '<resourceId>'\n        roleDefinitionId: '974c5e8b-45b9-4653-ba55-5f855dd0fb88'\n      }\n      {\n        description: 'Allow Event Grid System Topic to send messages to storage queue'\n        resourceId: '<resourceId>'\n        roleDefinitionId: 'c6a89b2d-59bc-44d0-9896-0f6e12d7b80a'\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: true\n    }\n    roleAssignments: [\n      {\n        name: 'c9beca28-efcf-4d1d-99aa-8f334484a2c2'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '8e3af657-a8ff-443c-a75c-2fe8c4bcb635'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_event-grid_system-topic_example_4", "source": "avm/res/event-grid/system-topic/README.md", "content_to_embed": "Recommended AVM Module for Event Grid System Topics: WAF-aligned with managed identity - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework and uses managed identities to deliver Event Grid Topic events.\nResource Type Path: Microsoft.EventGrid/systemTopics\nModule ID: br/public:avm/res/event-grid/system-topic:0.6\nParameters:\nparams: {\n    // Required parameters\n    name: 'egstwaf001'\n    source: '<source>'\n    topicType: 'Microsoft.Storage.StorageAccounts'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    eventSubscriptions: [\n      {\n        destination: {\n          endpointType: 'StorageQueue'\n          properties: {\n            queueName: '<queueName>'\n            resourceId: '<resourceId>'\n          }\n        }\n        eventDeliverySchema: 'CloudEventSchemaV1_0'\n        expirationTimeUtc: '2099-01-01T11:00:21.715Z'\n        filter: {\n          enableAdvancedFilteringOnArrays: true\n          isSubjectCaseSensitive: false\n        }\n        name: 'egstwaf001'\n        retryPolicy: {\n          eventTimeToLiveInMinutes: 120\n          maxDeliveryAttempts: 10\n        }\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module systemTopic 'br/public:avm/res/event-grid/system-topic:0.6' = {\n  name: 'systemTopicDeployment'\n  params: {\n    // Required parameters\n    name: 'egstwaf001'\n    source: '<source>'\n    topicType: 'Microsoft.Storage.StorageAccounts'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    eventSubscriptions: [\n      {\n        destination: {\n          endpointType: 'StorageQueue'\n          properties: {\n            queueName: '<queueName>'\n            resourceId: '<resourceId>'\n          }\n        }\n        eventDeliverySchema: 'CloudEventSchemaV1_0'\n        expirationTimeUtc: '2099-01-01T11:00:21.715Z'\n        filter: {\n          enableAdvancedFilteringOnArrays: true\n          isSubjectCaseSensitive: false\n        }\n        name: 'egstwaf001'\n        retryPolicy: {\n          eventTimeToLiveInMinutes: 120\n          maxDeliveryAttempts: 10\n        }\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_event-grid_topic_example_1", "source": "avm/res/event-grid/topic/README.md", "content_to_embed": "Recommended AVM Module for Event Grid Topics: Using only defaults - This instance deploys the module with the minimum set of required parameters while demonstrating managed identity delivery and private endpoints.\nResource Type Path: Microsoft.EventGrid/topics\nModule ID: br/public:avm/res/event-grid/topic:0.9\nParameters:\nparams: {\n    // Required parameters\n    name: 'egtmin001'\n    // Non-required parameters\n    eventSubscriptions: [\n      {\n        deliveryWithResourceIdentity: {\n          destination: {\n            endpointType: 'StorageQueue'\n            properties: {\n              queueName: '<queueName>'\n              resourceId: '<resourceId>'\n            }\n          }\n          identity: {\n            type: 'UserAssigned'\n            userAssignedIdentity: '<userAssignedIdentity>'\n          }\n        }\n        name: 'egtmin001'\n      }\n    ]\n    location: '<location>'\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'topic'\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    publicNetworkAccess: 'Disabled'\n  }", "bicep": "module topic 'br/public:avm/res/event-grid/topic:0.9' = {\n  name: 'topicDeployment'\n  params: {\n    // Required parameters\n    name: 'egtmin001'\n    // Non-required parameters\n    eventSubscriptions: [\n      {\n        deliveryWithResourceIdentity: {\n          destination: {\n            endpointType: 'StorageQueue'\n            properties: {\n              queueName: '<queueName>'\n              resourceId: '<resourceId>'\n            }\n          }\n          identity: {\n            type: 'UserAssigned'\n            userAssignedIdentity: '<userAssignedIdentity>'\n          }\n        }\n        name: 'egtmin001'\n      }\n    ]\n    location: '<location>'\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'topic'\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    publicNetworkAccess: 'Disabled'\n  }\n}"}
{"id": "avm_res_event-grid_topic_example_2", "source": "avm/res/event-grid/topic/README.md", "content_to_embed": "Recommended AVM Module for Event Grid Topics: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.EventGrid/topics\nModule ID: br/public:avm/res/event-grid/topic:0.9\nParameters:\nparams: {\n    // Required parameters\n    name: 'egtmax001'\n    // Non-required parameters\n    dataResidencyBoundary: 'WithinRegion'\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    eventSubscriptions: [\n      {\n        deliveryWithResourceIdentity: {\n          destination: {\n            endpointType: 'StorageQueue'\n            properties: {\n              queueMessageTimeToLiveInSeconds: 86400\n              queueName: '<queueName>'\n              resourceId: '<resourceId>'\n            }\n          }\n          identity: {\n            type: 'UserAssigned'\n            userAssignedIdentity: '<userAssignedIdentity>'\n          }\n        }\n        eventDeliverySchema: 'CloudEventSchemaV1_0'\n        expirationTimeUtc: '2099-01-01T11:00:21.715Z'\n        filter: {\n          enableAdvancedFilteringOnArrays: true\n          isSubjectCaseSensitive: false\n        }\n        name: 'egtmax001'\n        retryPolicy: {\n          eventTimeToLiveInMinutes: 120\n          maxDeliveryAttempts: 10\n        }\n      }\n    ]\n    inboundIpRules: [\n      {\n        action: 'Allow'\n        ipMask: '40.74.28.0/23'\n      }\n    ]\n    inputSchema: 'CloudEventSchemaV1_0'\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    minimumTlsVersionAllowed: '1.2'\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n        service: 'topic'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'topic'\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    publicNetworkAccess: 'Disabled'\n    roleAssignments: [\n      {\n        name: 'f80d2f24-53f6-41b3-811f-668b2273dcf8'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module topic 'br/public:avm/res/event-grid/topic:0.9' = {\n  name: 'topicDeployment'\n  params: {\n    // Required parameters\n    name: 'egtmax001'\n    // Non-required parameters\n    dataResidencyBoundary: 'WithinRegion'\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    eventSubscriptions: [\n      {\n        deliveryWithResourceIdentity: {\n          destination: {\n            endpointType: 'StorageQueue'\n            properties: {\n              queueMessageTimeToLiveInSeconds: 86400\n              queueName: '<queueName>'\n              resourceId: '<resourceId>'\n            }\n          }\n          identity: {\n            type: 'UserAssigned'\n            userAssignedIdentity: '<userAssignedIdentity>'\n          }\n        }\n        eventDeliverySchema: 'CloudEventSchemaV1_0'\n        expirationTimeUtc: '2099-01-01T11:00:21.715Z'\n        filter: {\n          enableAdvancedFilteringOnArrays: true\n          isSubjectCaseSensitive: false\n        }\n        name: 'egtmax001'\n        retryPolicy: {\n          eventTimeToLiveInMinutes: 120\n          maxDeliveryAttempts: 10\n        }\n      }\n    ]\n    inboundIpRules: [\n      {\n        action: 'Allow'\n        ipMask: '40.74.28.0/23'\n      }\n    ]\n    inputSchema: 'CloudEventSchemaV1_0'\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    minimumTlsVersionAllowed: '1.2'\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n        service: 'topic'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'topic'\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    publicNetworkAccess: 'Disabled'\n    roleAssignments: [\n      {\n        name: 'f80d2f24-53f6-41b3-811f-668b2273dcf8'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_event-grid_topic_example_3", "source": "avm/res/event-grid/topic/README.md", "content_to_embed": "Recommended AVM Module for Event Grid Topics: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.EventGrid/topics\nModule ID: br/public:avm/res/event-grid/topic:0.9\nParameters:\nparams: {\n    // Required parameters\n    name: 'egtwaf001'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    eventSubscriptions: [\n      {\n        deliveryWithResourceIdentity: {\n          destination: {\n            endpointType: 'StorageQueue'\n            properties: {\n              queueMessageTimeToLiveInSeconds: 86400\n              queueName: '<queueName>'\n              resourceId: '<resourceId>'\n            }\n          }\n          identity: {\n            type: 'UserAssigned'\n            userAssignedIdentity: '<userAssignedIdentity>'\n          }\n        }\n        eventDeliverySchema: 'CloudEventSchemaV1_0'\n        expirationTimeUtc: '2099-01-01T11:00:21.715Z'\n        filter: {\n          enableAdvancedFilteringOnArrays: true\n          isSubjectCaseSensitive: false\n        }\n        name: 'egtwaf001'\n        retryPolicy: {\n          eventTimeToLiveInMinutes: 120\n          maxDeliveryAttempts: 10\n        }\n      }\n    ]\n    inboundIpRules: []\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'topic'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n    ]\n    publicNetworkAccess: 'Disabled'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module topic 'br/public:avm/res/event-grid/topic:0.9' = {\n  name: 'topicDeployment'\n  params: {\n    // Required parameters\n    name: 'egtwaf001'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    eventSubscriptions: [\n      {\n        deliveryWithResourceIdentity: {\n          destination: {\n            endpointType: 'StorageQueue'\n            properties: {\n              queueMessageTimeToLiveInSeconds: 86400\n              queueName: '<queueName>'\n              resourceId: '<resourceId>'\n            }\n          }\n          identity: {\n            type: 'UserAssigned'\n            userAssignedIdentity: '<userAssignedIdentity>'\n          }\n        }\n        eventDeliverySchema: 'CloudEventSchemaV1_0'\n        expirationTimeUtc: '2099-01-01T11:00:21.715Z'\n        filter: {\n          enableAdvancedFilteringOnArrays: true\n          isSubjectCaseSensitive: false\n        }\n        name: 'egtwaf001'\n        retryPolicy: {\n          eventTimeToLiveInMinutes: 120\n          maxDeliveryAttempts: 10\n        }\n      }\n    ]\n    inboundIpRules: []\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'topic'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n    ]\n    publicNetworkAccess: 'Disabled'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_event-hub_namespace_example_1", "source": "avm/res/event-hub/namespace/README.md", "content_to_embed": "Recommended AVM Module for Event Hub Namespaces: Using managed HSM Customer-Managed-Keys with User-Assigned identity - This instance deploys the module with Managed HSM-based Customer Managed Key (CMK) encryption, using a User-Assigned Managed Identity to access the HSM key.\nResource Type Path: Microsoft.EventHub/namespaces\nModule ID: br/public:avm/res/event-hub/namespace:0.14\nParameters:\nparams: {\n    // Required parameters\n    name: 'ehnhsm001'\n    // Non-required parameters\n    customerManagedKey: {\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n      keyVersion: '<keyVersion>'\n      userAssignedIdentityResourceId: '<userAssignedIdentityResourceId>'\n    }\n    managedIdentities: {\n      systemAssigned: false\n      userAssignedResourceId: '<userAssignedResourceId>'\n    }\n    requireInfrastructureEncryption: true\n    skuName: 'Premium'\n  }", "bicep": "module namespace 'br/public:avm/res/event-hub/namespace:0.14' = {\n  name: 'namespaceDeployment'\n  params: {\n    // Required parameters\n    name: 'ehnhsm001'\n    // Non-required parameters\n    customerManagedKey: {\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n      keyVersion: '<keyVersion>'\n      userAssignedIdentityResourceId: '<userAssignedIdentityResourceId>'\n    }\n    managedIdentities: {\n      systemAssigned: false\n      userAssignedResourceId: '<userAssignedResourceId>'\n    }\n    requireInfrastructureEncryption: true\n    skuName: 'Premium'\n  }\n}"}
{"id": "avm_res_event-hub_namespace_example_2", "source": "avm/res/event-hub/namespace/README.md", "content_to_embed": "Recommended AVM Module for Event Hub Namespaces: Using encryption with Customer-Managed-Key - This instance deploys the module using Customer-Managed-Keys using a User-Assigned Identity to access the Customer-Managed-Key secret.\nResource Type Path: Microsoft.EventHub/namespaces\nModule ID: br/public:avm/res/event-hub/namespace:0.14\nParameters:\nparams: {\n    // Required parameters\n    name: 'ehnenc001'\n    // Non-required parameters\n    customerManagedKey: {\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n      userAssignedIdentityResourceId: '<userAssignedIdentityResourceId>'\n    }\n    managedIdentities: {\n      systemAssigned: false\n      userAssignedResourceId: '<userAssignedResourceId>'\n    }\n    requireInfrastructureEncryption: true\n    skuName: 'Premium'\n  }", "bicep": "module namespace 'br/public:avm/res/event-hub/namespace:0.14' = {\n  name: 'namespaceDeployment'\n  params: {\n    // Required parameters\n    name: 'ehnenc001'\n    // Non-required parameters\n    customerManagedKey: {\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n      userAssignedIdentityResourceId: '<userAssignedIdentityResourceId>'\n    }\n    managedIdentities: {\n      systemAssigned: false\n      userAssignedResourceId: '<userAssignedResourceId>'\n    }\n    requireInfrastructureEncryption: true\n    skuName: 'Premium'\n  }\n}"}
{"id": "avm_res_event-hub_namespace_example_3", "source": "avm/res/event-hub/namespace/README.md", "content_to_embed": "Recommended AVM Module for Event Hub Namespaces: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.EventHub/namespaces\nModule ID: br/public:avm/res/event-hub/namespace:0.14\nParameters:\nparams: {\n    name: 'ehnmin001'\n  }", "bicep": "module namespace 'br/public:avm/res/event-hub/namespace:0.14' = {\n  name: 'namespaceDeployment'\n  params: {\n    name: 'ehnmin001'\n  }\n}"}
{"id": "avm_res_event-hub_namespace_example_4", "source": "avm/res/event-hub/namespace/README.md", "content_to_embed": "Recommended AVM Module for Event Hub Namespaces: Deploying with a key vault reference to save secrets - This instance deploys the module saving all its secrets in a key vault.\nResource Type Path: Microsoft.EventHub/namespaces\nModule ID: br/public:avm/res/event-hub/namespace:0.14\nParameters:\nparams: {\n    // Required parameters\n    name: 'ehnkv001'\n    // Non-required parameters\n    secretsExportConfiguration: {\n      keyVaultResourceId: '<keyVaultResourceId>'\n      rootPrimaryConnectionStringName: 'primaryConnectionString-name'\n      rootPrimaryKeyName: 'primaryKey-name'\n      rootSecondaryConnectionStringName: 'secondaryConnectionString-name'\n      rootSecondaryKeyName: 'secondaryKey-name'\n    }\n  }", "bicep": "module namespace 'br/public:avm/res/event-hub/namespace:0.14' = {\n  name: 'namespaceDeployment'\n  params: {\n    // Required parameters\n    name: 'ehnkv001'\n    // Non-required parameters\n    secretsExportConfiguration: {\n      keyVaultResourceId: '<keyVaultResourceId>'\n      rootPrimaryConnectionStringName: 'primaryConnectionString-name'\n      rootPrimaryKeyName: 'primaryKey-name'\n      rootSecondaryConnectionStringName: 'secondaryConnectionString-name'\n      rootSecondaryKeyName: 'secondaryKey-name'\n    }\n  }\n}"}
{"id": "avm_res_event-hub_namespace_example_5", "source": "avm/res/event-hub/namespace/README.md", "content_to_embed": "Recommended AVM Module for Event Hub Namespaces: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.EventHub/namespaces\nModule ID: br/public:avm/res/event-hub/namespace:0.14\nParameters:\nparams: {\n    // Required parameters\n    name: 'ehnmax001'\n    // Non-required parameters\n    authorizationRules: [\n      {\n        name: 'RootManageSharedAccessKey'\n        rights: [\n          'Listen'\n          'Manage'\n          'Send'\n        ]\n      }\n      {\n        name: 'SendListenAccess'\n        rights: [\n          'Listen'\n          'Send'\n        ]\n      }\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    disableLocalAuth: true\n    eventhubs: [\n      {\n        messageRetentionInDays: 3\n        name: 'az-evh-x-001'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Reader'\n          }\n        ]\n      }\n      {\n        authorizationRules: [\n          {\n            name: 'RootManageSharedAccessKey'\n            rights: [\n              'Listen'\n              'Manage'\n              'Send'\n            ]\n          }\n          {\n            name: 'SendListenAccess'\n            rights: [\n              'Listen'\n              'Send'\n            ]\n          }\n        ]\n        captureDescription: {\n          destination: {\n            identity: {\n              userAssignedResourceId: '<userAssignedResourceId>'\n            }\n            name: 'EventHubArchive.AzureBlockBlob'\n            properties: {\n              archiveNameFormat: '{Namespace}/{EventHub}/{PartitionId}/{Year}/{Month}/{Day}/{Hour}/{Minute}/{Second}'\n              blobContainer: '<blobContainer>'\n              storageAccountResourceId: '<storageAccountResourceId>'\n            }\n          }\n          encoding: 'Avro'\n          intervalInSeconds: 300\n          sizeLimitInBytes: 314572800\n          skipEmptyArchives: true\n        }\n        consumergroups: [\n          {\n            name: 'custom'\n            userMetadata: 'customMetadata'\n          }\n        ]\n        name: 'az-evh-x-002'\n        partitionCount: 2\n        retentionDescriptionCleanupPolicy: 'Delete'\n        retentionDescriptionEnabled: true\n        retentionDescriptionRetentionTimeInHours: 3\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Reader'\n          }\n        ]\n        status: 'Active'\n      }\n      {\n        name: 'az-evh-x-003'\n        retentionDescriptionCleanupPolicy: 'Compact'\n        retentionDescriptionEnabled: true\n        retentionDescriptionTombstoneRetentionTimeInHours: 24\n      }\n    ]\n    isAutoInflateEnabled: true\n    kafkaEnabled: true\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n      notes: 'This is a custom lock note.'\n    }\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceId: '<userAssignedResourceId>'\n    }\n    maximumThroughputUnits: 4\n    minimumTlsVersion: '1.2'\n    networkRuleSets: {\n      defaultAction: 'Deny'\n      ipRules: [\n        {\n          action: 'Allow'\n          ipMask: '10.10.10.10'\n        }\n      ]\n      publicNetworkAccess: 'Disabled'\n      trustedServiceAccessEnabled: false\n      virtualNetworkRules: [\n        {\n          ignoreMissingVnetServiceEndpoint: true\n          subnetResourceId: '<subnetResourceId>'\n        }\n      ]\n    }\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'namespace'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n    ]\n    publicNetworkAccess: 'Disabled'\n    roleAssignments: [\n      {\n        name: 'bd0f41e3-8e3e-4cd3-b028-edd61608bd9f'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    skuCapacity: 2\n    skuName: 'Standard'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    zoneRedundant: true\n  }", "bicep": "module namespace 'br/public:avm/res/event-hub/namespace:0.14' = {\n  name: 'namespaceDeployment'\n  params: {\n    // Required parameters\n    name: 'ehnmax001'\n    // Non-required parameters\n    authorizationRules: [\n      {\n        name: 'RootManageSharedAccessKey'\n        rights: [\n          'Listen'\n          'Manage'\n          'Send'\n        ]\n      }\n      {\n        name: 'SendListenAccess'\n        rights: [\n          'Listen'\n          'Send'\n        ]\n      }\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    disableLocalAuth: true\n    eventhubs: [\n      {\n        messageRetentionInDays: 3\n        name: 'az-evh-x-001'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Reader'\n          }\n        ]\n      }\n      {\n        authorizationRules: [\n          {\n            name: 'RootManageSharedAccessKey'\n            rights: [\n              'Listen'\n              'Manage'\n              'Send'\n            ]\n          }\n          {\n            name: 'SendListenAccess'\n            rights: [\n              'Listen'\n              'Send'\n            ]\n          }\n        ]\n        captureDescription: {\n          destination: {\n            identity: {\n              userAssignedResourceId: '<userAssignedResourceId>'\n            }\n            name: 'EventHubArchive.AzureBlockBlob'\n            properties: {\n              archiveNameFormat: '{Namespace}/{EventHub}/{PartitionId}/{Year}/{Month}/{Day}/{Hour}/{Minute}/{Second}'\n              blobContainer: '<blobContainer>'\n              storageAccountResourceId: '<storageAccountResourceId>'\n            }\n          }\n          encoding: 'Avro'\n          intervalInSeconds: 300\n          sizeLimitInBytes: 314572800\n          skipEmptyArchives: true\n        }\n        consumergroups: [\n          {\n            name: 'custom'\n            userMetadata: 'customMetadata'\n          }\n        ]\n        name: 'az-evh-x-002'\n        partitionCount: 2\n        retentionDescriptionCleanupPolicy: 'Delete'\n        retentionDescriptionEnabled: true\n        retentionDescriptionRetentionTimeInHours: 3\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Reader'\n          }\n        ]\n        status: 'Active'\n      }\n      {\n        name: 'az-evh-x-003'\n        retentionDescriptionCleanupPolicy: 'Compact'\n        retentionDescriptionEnabled: true\n        retentionDescriptionTombstoneRetentionTimeInHours: 24\n      }\n    ]\n    isAutoInflateEnabled: true\n    kafkaEnabled: true\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n      notes: 'This is a custom lock note.'\n    }\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceId: '<userAssignedResourceId>'\n    }\n    maximumThroughputUnits: 4\n    minimumTlsVersion: '1.2'\n    networkRuleSets: {\n      defaultAction: 'Deny'\n      ipRules: [\n        {\n          action: 'Allow'\n          ipMask: '10.10.10.10'\n        }\n      ]\n      publicNetworkAccess: 'Disabled'\n      trustedServiceAccessEnabled: false\n      virtualNetworkRules: [\n        {\n          ignoreMissingVnetServiceEndpoint: true\n          subnetResourceId: '<subnetResourceId>'\n        }\n      ]\n    }\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'namespace'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n    ]\n    publicNetworkAccess: 'Disabled'\n    roleAssignments: [\n      {\n        name: 'bd0f41e3-8e3e-4cd3-b028-edd61608bd9f'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    skuCapacity: 2\n    skuName: 'Standard'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    zoneRedundant: true\n  }\n}"}
{"id": "avm_res_event-hub_namespace_example_6", "source": "avm/res/event-hub/namespace/README.md", "content_to_embed": "Recommended AVM Module for Event Hub Namespaces: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.EventHub/namespaces\nModule ID: br/public:avm/res/event-hub/namespace:0.14\nParameters:\nparams: {\n    // Required parameters\n    name: 'ehnwaf001'\n    // Non-required parameters\n    authorizationRules: [\n      {\n        name: 'RootManageSharedAccessKey'\n        rights: [\n          'Listen'\n          'Manage'\n          'Send'\n        ]\n      }\n      {\n        name: 'SendListenAccess'\n        rights: [\n          'Listen'\n          'Send'\n        ]\n      }\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    disableLocalAuth: true\n    eventhubs: [\n      {\n        name: 'az-evh-x-001'\n      }\n      {\n        authorizationRules: [\n          {\n            name: 'RootManageSharedAccessKey'\n            rights: [\n              'Listen'\n              'Manage'\n              'Send'\n            ]\n          }\n          {\n            name: 'SendListenAccess'\n            rights: [\n              'Listen'\n              'Send'\n            ]\n          }\n        ]\n        captureDescription: {\n          destination: {\n            identity: {\n              userAssignedResourceId: '<userAssignedResourceId>'\n            }\n            name: 'EventHubArchive.AzureBlockBlob'\n            properties: {\n              archiveNameFormat: '{Namespace}/{EventHub}/{PartitionId}/{Year}/{Month}/{Day}/{Hour}/{Minute}/{Second}'\n              blobContainer: '<blobContainer>'\n              storageAccountResourceId: '<storageAccountResourceId>'\n            }\n          }\n          encoding: 'Avro'\n          intervalInSeconds: 300\n          sizeLimitInBytes: 314572800\n          skipEmptyArchives: true\n        }\n        consumergroups: [\n          {\n            name: 'custom'\n            userMetadata: 'customMetadata'\n          }\n        ]\n        messageRetentionInDays: 1\n        name: 'az-evh-x-002'\n        partitionCount: 2\n        retentionDescriptionCleanupPolicy: 'Delete'\n        retentionDescriptionRetentionTimeInHours: 3\n        status: 'Active'\n      }\n      {\n        name: 'az-evh-x-003'\n        retentionDescriptionCleanupPolicy: 'Compact'\n        retentionDescriptionTombstoneRetentionTimeInHours: 24\n      }\n    ]\n    isAutoInflateEnabled: true\n    kafkaEnabled: true\n    managedIdentities: {\n      userAssignedResourceId: '<userAssignedResourceId>'\n    }\n    maximumThroughputUnits: 4\n    minimumTlsVersion: '1.2'\n    networkRuleSets: {\n      defaultAction: 'Deny'\n      ipRules: [\n        {\n          action: 'Allow'\n          ipMask: '10.10.10.10'\n        }\n      ]\n      trustedServiceAccessEnabled: false\n      virtualNetworkRules: [\n        {\n          ignoreMissingVnetServiceEndpoint: true\n          subnetResourceId: '<subnetResourceId>'\n        }\n      ]\n    }\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n    ]\n    publicNetworkAccess: 'Disabled'\n    skuCapacity: 2\n    skuName: 'Standard'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module namespace 'br/public:avm/res/event-hub/namespace:0.14' = {\n  name: 'namespaceDeployment'\n  params: {\n    // Required parameters\n    name: 'ehnwaf001'\n    // Non-required parameters\n    authorizationRules: [\n      {\n        name: 'RootManageSharedAccessKey'\n        rights: [\n          'Listen'\n          'Manage'\n          'Send'\n        ]\n      }\n      {\n        name: 'SendListenAccess'\n        rights: [\n          'Listen'\n          'Send'\n        ]\n      }\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    disableLocalAuth: true\n    eventhubs: [\n      {\n        name: 'az-evh-x-001'\n      }\n      {\n        authorizationRules: [\n          {\n            name: 'RootManageSharedAccessKey'\n            rights: [\n              'Listen'\n              'Manage'\n              'Send'\n            ]\n          }\n          {\n            name: 'SendListenAccess'\n            rights: [\n              'Listen'\n              'Send'\n            ]\n          }\n        ]\n        captureDescription: {\n          destination: {\n            identity: {\n              userAssignedResourceId: '<userAssignedResourceId>'\n            }\n            name: 'EventHubArchive.AzureBlockBlob'\n            properties: {\n              archiveNameFormat: '{Namespace}/{EventHub}/{PartitionId}/{Year}/{Month}/{Day}/{Hour}/{Minute}/{Second}'\n              blobContainer: '<blobContainer>'\n              storageAccountResourceId: '<storageAccountResourceId>'\n            }\n          }\n          encoding: 'Avro'\n          intervalInSeconds: 300\n          sizeLimitInBytes: 314572800\n          skipEmptyArchives: true\n        }\n        consumergroups: [\n          {\n            name: 'custom'\n            userMetadata: 'customMetadata'\n          }\n        ]\n        messageRetentionInDays: 1\n        name: 'az-evh-x-002'\n        partitionCount: 2\n        retentionDescriptionCleanupPolicy: 'Delete'\n        retentionDescriptionRetentionTimeInHours: 3\n        status: 'Active'\n      }\n      {\n        name: 'az-evh-x-003'\n        retentionDescriptionCleanupPolicy: 'Compact'\n        retentionDescriptionTombstoneRetentionTimeInHours: 24\n      }\n    ]\n    isAutoInflateEnabled: true\n    kafkaEnabled: true\n    managedIdentities: {\n      userAssignedResourceId: '<userAssignedResourceId>'\n    }\n    maximumThroughputUnits: 4\n    minimumTlsVersion: '1.2'\n    networkRuleSets: {\n      defaultAction: 'Deny'\n      ipRules: [\n        {\n          action: 'Allow'\n          ipMask: '10.10.10.10'\n        }\n      ]\n      trustedServiceAccessEnabled: false\n      virtualNetworkRules: [\n        {\n          ignoreMissingVnetServiceEndpoint: true\n          subnetResourceId: '<subnetResourceId>'\n        }\n      ]\n    }\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n    ]\n    publicNetworkAccess: 'Disabled'\n    skuCapacity: 2\n    skuName: 'Standard'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_fabric_capacity_example_1", "source": "avm/res/fabric/capacity/README.md", "content_to_embed": "Recommended AVM Module for Fabric Capacities: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Fabric/capacities\nModule ID: br/public:avm/res/fabric/capacity:0.1\nParameters:\nparams: {\n    // Required parameters\n    adminMembers: [\n      '<adminMembersSecret>'\n    ]\n    name: 'fcmin001'\n    // Non-required parameters\n    location: '<location>'\n  }", "bicep": "module capacity 'br/public:avm/res/fabric/capacity:0.1' = {\n  name: 'capacityDeployment'\n  params: {\n    // Required parameters\n    adminMembers: [\n      '<adminMembersSecret>'\n    ]\n    name: 'fcmin001'\n    // Non-required parameters\n    location: '<location>'\n  }\n}"}
{"id": "avm_res_fabric_capacity_example_2", "source": "avm/res/fabric/capacity/README.md", "content_to_embed": "Recommended AVM Module for Fabric Capacities: Using large parameter set. - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Fabric/capacities\nModule ID: br/public:avm/res/fabric/capacity:0.1\nParameters:\nparams: {\n    // Required parameters\n    adminMembers: [\n      '<adminMembersSecret>'\n    ]\n    name: 'fcmax001'\n    // Non-required parameters\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n  }", "bicep": "module capacity 'br/public:avm/res/fabric/capacity:0.1' = {\n  name: 'capacityDeployment'\n  params: {\n    // Required parameters\n    adminMembers: [\n      '<adminMembersSecret>'\n    ]\n    name: 'fcmax001'\n    // Non-required parameters\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n  }\n}"}
{"id": "avm_res_fabric_capacity_example_3", "source": "avm/res/fabric/capacity/README.md", "content_to_embed": "Recommended AVM Module for Fabric Capacities: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Fabric/capacities\nModule ID: br/public:avm/res/fabric/capacity:0.1\nParameters:\nparams: {\n    // Required parameters\n    adminMembers: [\n      '<adminMembersSecret>'\n    ]\n    name: 'fcwaf001'\n    // Non-required parameters\n    location: '<location>'\n    skuName: 'F64'\n  }", "bicep": "module capacity 'br/public:avm/res/fabric/capacity:0.1' = {\n  name: 'capacityDeployment'\n  params: {\n    // Required parameters\n    adminMembers: [\n      '<adminMembersSecret>'\n    ]\n    name: 'fcwaf001'\n    // Non-required parameters\n    location: '<location>'\n    skuName: 'F64'\n  }\n}"}
{"id": "avm_res_health-bot_health-bot_example_1", "source": "avm/res/health-bot/health-bot/README.md", "content_to_embed": "Recommended AVM Module for Azure Health Bots: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.HealthBot/healthBots\nModule ID: br/public:avm/res/health-bot/health-bot:0.3\nParameters:\nparams: {\n    // Required parameters\n    name: 'hbhbmin002'\n    sku: 'F0'\n    // Non-required parameters\n    location: '<location>'\n  }", "bicep": "module healthBot 'br/public:avm/res/health-bot/health-bot:0.3' = {\n  name: 'healthBotDeployment'\n  params: {\n    // Required parameters\n    name: 'hbhbmin002'\n    sku: 'F0'\n    // Non-required parameters\n    location: '<location>'\n  }\n}"}
{"id": "avm_res_health-bot_health-bot_example_2", "source": "avm/res/health-bot/health-bot/README.md", "content_to_embed": "Recommended AVM Module for Azure Health Bots: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.HealthBot/healthBots\nModule ID: br/public:avm/res/health-bot/health-bot:0.3\nParameters:\nparams: {\n    // Required parameters\n    name: 'hbhbmax002'\n    sku: 'F0'\n    // Non-required parameters\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    roleAssignments: [\n      {\n        name: '9d89b5ea-0d1f-41d8-9297-52529827d712'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module healthBot 'br/public:avm/res/health-bot/health-bot:0.3' = {\n  name: 'healthBotDeployment'\n  params: {\n    // Required parameters\n    name: 'hbhbmax002'\n    sku: 'F0'\n    // Non-required parameters\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    roleAssignments: [\n      {\n        name: '9d89b5ea-0d1f-41d8-9297-52529827d712'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_health-bot_health-bot_example_3", "source": "avm/res/health-bot/health-bot/README.md", "content_to_embed": "Recommended AVM Module for Azure Health Bots: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.HealthBot/healthBots\nModule ID: br/public:avm/res/health-bot/health-bot:0.3\nParameters:\nparams: {\n    // Required parameters\n    name: 'hbhbwaf002'\n    sku: 'F0'\n    // Non-required parameters\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module healthBot 'br/public:avm/res/health-bot/health-bot:0.3' = {\n  name: 'healthBotDeployment'\n  params: {\n    // Required parameters\n    name: 'hbhbwaf002'\n    sku: 'F0'\n    // Non-required parameters\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_healthcare-apis_workspace_example_1", "source": "avm/res/healthcare-apis/workspace/README.md", "content_to_embed": "Recommended AVM Module for Healthcare API Workspaces: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.HealthcareApis/workspaces\nModule ID: br/public:avm/res/healthcare-apis/workspace:0.4\nParameters:\nparams: {\n    // Required parameters\n    name: 'hawmin001'\n    // Non-required parameters\n    location: '<location>'\n  }", "bicep": "module workspace 'br/public:avm/res/healthcare-apis/workspace:0.4' = {\n  name: 'workspaceDeployment'\n  params: {\n    // Required parameters\n    name: 'hawmin001'\n    // Non-required parameters\n    location: '<location>'\n  }\n}"}
{"id": "avm_res_healthcare-apis_workspace_example_2", "source": "avm/res/healthcare-apis/workspace/README.md", "content_to_embed": "Recommended AVM Module for Healthcare API Workspaces: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.HealthcareApis/workspaces\nModule ID: br/public:avm/res/healthcare-apis/workspace:0.4\nParameters:\nparams: {\n    // Required parameters\n    name: 'hawmax001'\n    // Non-required parameters\n    dicomservices: [\n      {\n        corsAllowCredentials: false\n        corsHeaders: [\n          '*'\n        ]\n        corsMaxAge: 600\n        corsMethods: [\n          'GET'\n        ]\n        corsOrigins: [\n          '*'\n        ]\n        diagnosticSettings: [\n          {\n            eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n            eventHubName: '<eventHubName>'\n            metricCategories: [\n              {\n                category: 'AllMetrics'\n              }\n            ]\n            name: 'customSetting'\n            storageAccountResourceId: '<storageAccountResourceId>'\n            workspaceResourceId: '<workspaceResourceId>'\n          }\n        ]\n        location: '<location>'\n        managedIdentities: {\n          systemAssigned: false\n          userAssignedResourceIds: [\n            '<managedIdentityResourceId>'\n          ]\n        }\n        name: 'az-dicom-x-001'\n        publicNetworkAccess: 'Enabled'\n        workspaceName: 'hawmax001'\n      }\n    ]\n    fhirservices: [\n      {\n        corsAllowCredentials: false\n        corsHeaders: [\n          '*'\n        ]\n        corsMaxAge: 600\n        corsMethods: [\n          'GET'\n        ]\n        corsOrigins: [\n          '*'\n        ]\n        diagnosticSettings: [\n          {\n            eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n            eventHubName: '<eventHubName>'\n            metricCategories: [\n              {\n                category: 'AllMetrics'\n              }\n            ]\n            name: 'customSetting'\n            storageAccountResourceId: '<storageAccountResourceId>'\n            workspaceResourceId: '<workspaceResourceId>'\n          }\n        ]\n        importEnabled: false\n        initialImportMode: false\n        kind: 'fhir-R4'\n        location: '<location>'\n        managedIdentities: {\n          systemAssigned: false\n          userAssignedResourceIds: [\n            '<managedIdentityResourceId>'\n          ]\n        }\n        name: 'az-fhir-x-001'\n        publicNetworkAccess: 'Enabled'\n        resourceVersionPolicy: 'versioned'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n        smartProxyEnabled: false\n        workspaceName: 'hawmax001'\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    publicNetworkAccess: 'Enabled'\n    roleAssignments: [\n      {\n        name: '6bfff821-2b18-4790-89fa-2849d86bc6be'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module workspace 'br/public:avm/res/healthcare-apis/workspace:0.4' = {\n  name: 'workspaceDeployment'\n  params: {\n    // Required parameters\n    name: 'hawmax001'\n    // Non-required parameters\n    dicomservices: [\n      {\n        corsAllowCredentials: false\n        corsHeaders: [\n          '*'\n        ]\n        corsMaxAge: 600\n        corsMethods: [\n          'GET'\n        ]\n        corsOrigins: [\n          '*'\n        ]\n        diagnosticSettings: [\n          {\n            eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n            eventHubName: '<eventHubName>'\n            metricCategories: [\n              {\n                category: 'AllMetrics'\n              }\n            ]\n            name: 'customSetting'\n            storageAccountResourceId: '<storageAccountResourceId>'\n            workspaceResourceId: '<workspaceResourceId>'\n          }\n        ]\n        location: '<location>'\n        managedIdentities: {\n          systemAssigned: false\n          userAssignedResourceIds: [\n            '<managedIdentityResourceId>'\n          ]\n        }\n        name: 'az-dicom-x-001'\n        publicNetworkAccess: 'Enabled'\n        workspaceName: 'hawmax001'\n      }\n    ]\n    fhirservices: [\n      {\n        corsAllowCredentials: false\n        corsHeaders: [\n          '*'\n        ]\n        corsMaxAge: 600\n        corsMethods: [\n          'GET'\n        ]\n        corsOrigins: [\n          '*'\n        ]\n        diagnosticSettings: [\n          {\n            eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n            eventHubName: '<eventHubName>'\n            metricCategories: [\n              {\n                category: 'AllMetrics'\n              }\n            ]\n            name: 'customSetting'\n            storageAccountResourceId: '<storageAccountResourceId>'\n            workspaceResourceId: '<workspaceResourceId>'\n          }\n        ]\n        importEnabled: false\n        initialImportMode: false\n        kind: 'fhir-R4'\n        location: '<location>'\n        managedIdentities: {\n          systemAssigned: false\n          userAssignedResourceIds: [\n            '<managedIdentityResourceId>'\n          ]\n        }\n        name: 'az-fhir-x-001'\n        publicNetworkAccess: 'Enabled'\n        resourceVersionPolicy: 'versioned'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n        smartProxyEnabled: false\n        workspaceName: 'hawmax001'\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    publicNetworkAccess: 'Enabled'\n    roleAssignments: [\n      {\n        name: '6bfff821-2b18-4790-89fa-2849d86bc6be'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_healthcare-apis_workspace_example_3", "source": "avm/res/healthcare-apis/workspace/README.md", "content_to_embed": "Recommended AVM Module for Healthcare API Workspaces: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.HealthcareApis/workspaces\nModule ID: br/public:avm/res/healthcare-apis/workspace:0.4\nParameters:\nparams: {\n    // Required parameters\n    name: 'hawwaf001'\n    // Non-required parameters\n    location: '<location>'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module workspace 'br/public:avm/res/healthcare-apis/workspace:0.4' = {\n  name: 'workspaceDeployment'\n  params: {\n    // Required parameters\n    name: 'hawwaf001'\n    // Non-required parameters\n    location: '<location>'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_hybrid-compute_gateway_example_1", "source": "avm/res/hybrid-compute/gateway/README.md", "content_to_embed": "Recommended AVM Module for Azure Arc Gateway: Azure Arc Gateway using only the defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.HybridCompute/gateways\nModule ID: br/public:avm/res/hybrid-compute/gateway:0.1\nParameters:\nparams: {\n    name: 'hcgmin001'\n  }", "bicep": "module gateway 'br/public:avm/res/hybrid-compute/gateway:0.1' = {\n  name: 'gatewayDeployment'\n  params: {\n    name: 'hcgmin001'\n  }\n}"}
{"id": "avm_res_hybrid-compute_gateway_example_2", "source": "avm/res/hybrid-compute/gateway/README.md", "content_to_embed": "Recommended AVM Module for Azure Arc Gateway: Azure Arc Gateway according to WAF - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.HybridCompute/gateways\nModule ID: br/public:avm/res/hybrid-compute/gateway:0.1\nParameters:\nparams: {\n    name: 'hcgwaf001'\n  }", "bicep": "module gateway 'br/public:avm/res/hybrid-compute/gateway:0.1' = {\n  name: 'gatewayDeployment'\n  params: {\n    name: 'hcgwaf001'\n  }\n}"}
{"id": "avm_res_hybrid-compute_license_example_1", "source": "avm/res/hybrid-compute/license/README.md", "content_to_embed": "Recommended AVM Module for Azure Arc License: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.HybridCompute/licenses\nModule ID: br/public:avm/res/hybrid-compute/license:0.1\nParameters:\nparams: {\n    name: 'hclmin001'\n  }", "bicep": "module license 'br/public:avm/res/hybrid-compute/license:0.1' = {\n  name: 'licenseDeployment'\n  params: {\n    name: 'hclmin001'\n  }\n}"}
{"id": "avm_res_hybrid-compute_license_example_2", "source": "avm/res/hybrid-compute/license/README.md", "content_to_embed": "Recommended AVM Module for Azure Arc License: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.HybridCompute/licenses\nModule ID: br/public:avm/res/hybrid-compute/license:0.1\nParameters:\nparams: {\n    name: 'hclwaf001'\n  }", "bicep": "module license 'br/public:avm/res/hybrid-compute/license:0.1' = {\n  name: 'licenseDeployment'\n  params: {\n    name: 'hclwaf001'\n  }\n}"}
{"id": "avm_res_hybrid-compute_machine_example_1", "source": "avm/res/hybrid-compute/machine/README.md", "content_to_embed": "Recommended AVM Module for Hybrid Compute Machines: Creates an Arc Machine using only the defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.HybridCompute/machines\nModule ID: br/public:avm/res/hybrid-compute/machine:0.4\nParameters:\nparams: {\n    // Required parameters\n    kind: 'HCI'\n    name: 'arcmachcimin'\n    // Non-required parameters\n    location: '<location>'\n  }", "bicep": "module machine 'br/public:avm/res/hybrid-compute/machine:0.4' = {\n  name: 'machineDeployment'\n  params: {\n    // Required parameters\n    kind: 'HCI'\n    name: 'arcmachcimin'\n    // Non-required parameters\n    location: '<location>'\n  }\n}"}
{"id": "avm_res_hybrid-compute_machine_example_2", "source": "avm/res/hybrid-compute/machine/README.md", "content_to_embed": "Recommended AVM Module for Hybrid Compute Machines: Creates an Arc Machine with maximum configurations - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.HybridCompute/machines\nModule ID: br/public:avm/res/hybrid-compute/machine:0.4\nParameters:\nparams: {\n    // Required parameters\n    kind: 'HCI'\n    name: 'arcmachcimx'\n    // Non-required parameters\n    guestConfiguration: {\n      assignmentType: 'ApplyAndMonitor'\n      configurationParameter: [\n        {\n          name: 'Minimum Password Length;ExpectedValue'\n          value: '16'\n        }\n        {\n          name: 'Minimum Password Length;RemediateValue'\n          value: '16'\n        }\n        {\n          name: 'Maximum Password Age;ExpectedValue'\n          value: '75'\n        }\n        {\n          name: 'Maximum Password Age;RemediateValue'\n          value: '75'\n        }\n      ]\n      name: 'AzureWindowsBaseline'\n      version: '1.*'\n    }\n    location: '<location>'\n    osType: 'Windows'\n    patchAssessmentMode: 'AutomaticByPlatform'\n    patchMode: 'AutomaticByPlatform'\n    privateLinkScopeResourceId: '<privateLinkScopeResourceId>'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module machine 'br/public:avm/res/hybrid-compute/machine:0.4' = {\n  name: 'machineDeployment'\n  params: {\n    // Required parameters\n    kind: 'HCI'\n    name: 'arcmachcimx'\n    // Non-required parameters\n    guestConfiguration: {\n      assignmentType: 'ApplyAndMonitor'\n      configurationParameter: [\n        {\n          name: 'Minimum Password Length;ExpectedValue'\n          value: '16'\n        }\n        {\n          name: 'Minimum Password Length;RemediateValue'\n          value: '16'\n        }\n        {\n          name: 'Maximum Password Age;ExpectedValue'\n          value: '75'\n        }\n        {\n          name: 'Maximum Password Age;RemediateValue'\n          value: '75'\n        }\n      ]\n      name: 'AzureWindowsBaseline'\n      version: '1.*'\n    }\n    location: '<location>'\n    osType: 'Windows'\n    patchAssessmentMode: 'AutomaticByPlatform'\n    patchMode: 'AutomaticByPlatform'\n    privateLinkScopeResourceId: '<privateLinkScopeResourceId>'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_hybrid-compute_machine_example_3", "source": "avm/res/hybrid-compute/machine/README.md", "content_to_embed": "Recommended AVM Module for Hybrid Compute Machines: Creates an VMWare machine using only the defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.HybridCompute/machines\nModule ID: br/public:avm/res/hybrid-compute/machine:0.4\nParameters:\nparams: {\n    // Required parameters\n    kind: 'VMware'\n    name: 'arcmacvmwmin'\n    // Non-required parameters\n    location: '<location>'\n  }", "bicep": "module machine 'br/public:avm/res/hybrid-compute/machine:0.4' = {\n  name: 'machineDeployment'\n  params: {\n    // Required parameters\n    kind: 'VMware'\n    name: 'arcmacvmwmin'\n    // Non-required parameters\n    location: '<location>'\n  }\n}"}
{"id": "avm_res_hybrid-compute_machine_example_4", "source": "avm/res/hybrid-compute/machine/README.md", "content_to_embed": "Recommended AVM Module for Hybrid Compute Machines: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.HybridCompute/machines\nModule ID: br/public:avm/res/hybrid-compute/machine:0.4\nParameters:\nparams: {\n    // Required parameters\n    kind: 'HCI'\n    name: 'arcmacwaf'\n    // Non-required parameters\n    location: '<location>'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module machine 'br/public:avm/res/hybrid-compute/machine:0.4' = {\n  name: 'machineDeployment'\n  params: {\n    // Required parameters\n    kind: 'HCI'\n    name: 'arcmacwaf'\n    // Non-required parameters\n    location: '<location>'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_hybrid-container-service_provisioned-cluster-instance_example_1", "source": "avm/res/hybrid-container-service/provisioned-cluster-instance/README.md", "content_to_embed": "Recommended AVM Module for Hybrid Container Service Provisioned Cluster Instance: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.HybridContainerService/provisionedClusterInstances\nModule ID: br/public:avm/res/hybrid-container-service/provisioned-cluster-instance:0.2\nParameters:\nparams: {\n    // Required parameters\n    cloudProviderProfile: {\n      infraNetworkProfile: {\n        vnetSubnetIds: [\n          '<resourceId>'\n        ]\n      }\n    }\n    customLocationResourceId: '<customLocationResourceId>'\n    name: 'hcpcimin001'\n    // Non-required parameters\n    keyVaultName: '<keyVaultName>'\n  }", "bicep": "module provisionedClusterInstance 'br/public:avm/res/hybrid-container-service/provisioned-cluster-instance:0.2' = {\n  name: 'provisionedClusterInstanceDeployment'\n  params: {\n    // Required parameters\n    cloudProviderProfile: {\n      infraNetworkProfile: {\n        vnetSubnetIds: [\n          '<resourceId>'\n        ]\n      }\n    }\n    customLocationResourceId: '<customLocationResourceId>'\n    name: 'hcpcimin001'\n    // Non-required parameters\n    keyVaultName: '<keyVaultName>'\n  }\n}"}
{"id": "avm_res_hybrid-container-service_provisioned-cluster-instance_example_2", "source": "avm/res/hybrid-container-service/provisioned-cluster-instance/README.md", "content_to_embed": "Recommended AVM Module for Hybrid Container Service Provisioned Cluster Instance: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.HybridContainerService/provisionedClusterInstances\nModule ID: br/public:avm/res/hybrid-container-service/provisioned-cluster-instance:0.2\nParameters:\nparams: {\n    // Required parameters\n    cloudProviderProfile: {\n      infraNetworkProfile: {\n        vnetSubnetIds: [\n          '<resourceId>'\n        ]\n      }\n    }\n    customLocationResourceId: '<customLocationResourceId>'\n    name: 'hcpcimax001'\n    // Non-required parameters\n    agentPoolProfiles: [\n      {\n        count: 2\n        enableAutoScaling: false\n        maxCount: 5\n        maxPods: 110\n        minCount: 1\n        name: 'nodepool1'\n        nodeLabels: {}\n        nodeTaints: []\n        osSKU: 'CBLMariner'\n        osType: 'Linux'\n        vmSize: 'Standard_A4_v2'\n      }\n    ]\n    arcAgentProfile: {\n      agentAutoUpgrade: 'Enabled'\n    }\n    connectClustersTags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    controlPlane: {\n      controlPlaneEndpoint: {\n        hostIP: '<hostIP>'\n      }\n      count: 1\n      vmSize: 'Standard_A4_v2'\n    }\n    enableTelemetry: true\n    keyVaultName: '<keyVaultName>'\n    kubernetesVersion: '1.29.4'\n    licenseProfile: {\n      azureHybridBenefit: 'False'\n    }\n    location: '<location>'\n    oidcIssuerProfile: {\n      enabled: false\n    }\n    securityProfile: {\n      workloadIdentity: {\n        enabled: false\n      }\n    }\n    storageProfile: {\n      nfsCsiDriver: {\n        enabled: true\n      }\n      smbCsiDriver: {\n        enabled: true\n      }\n    }\n  }", "bicep": "module provisionedClusterInstance 'br/public:avm/res/hybrid-container-service/provisioned-cluster-instance:0.2' = {\n  name: 'provisionedClusterInstanceDeployment'\n  params: {\n    // Required parameters\n    cloudProviderProfile: {\n      infraNetworkProfile: {\n        vnetSubnetIds: [\n          '<resourceId>'\n        ]\n      }\n    }\n    customLocationResourceId: '<customLocationResourceId>'\n    name: 'hcpcimax001'\n    // Non-required parameters\n    agentPoolProfiles: [\n      {\n        count: 2\n        enableAutoScaling: false\n        maxCount: 5\n        maxPods: 110\n        minCount: 1\n        name: 'nodepool1'\n        nodeLabels: {}\n        nodeTaints: []\n        osSKU: 'CBLMariner'\n        osType: 'Linux'\n        vmSize: 'Standard_A4_v2'\n      }\n    ]\n    arcAgentProfile: {\n      agentAutoUpgrade: 'Enabled'\n    }\n    connectClustersTags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    controlPlane: {\n      controlPlaneEndpoint: {\n        hostIP: '<hostIP>'\n      }\n      count: 1\n      vmSize: 'Standard_A4_v2'\n    }\n    enableTelemetry: true\n    keyVaultName: '<keyVaultName>'\n    kubernetesVersion: '1.29.4'\n    licenseProfile: {\n      azureHybridBenefit: 'False'\n    }\n    location: '<location>'\n    oidcIssuerProfile: {\n      enabled: false\n    }\n    securityProfile: {\n      workloadIdentity: {\n        enabled: false\n      }\n    }\n    storageProfile: {\n      nfsCsiDriver: {\n        enabled: true\n      }\n      smbCsiDriver: {\n        enabled: true\n      }\n    }\n  }\n}"}
{"id": "avm_res_hybrid-container-service_provisioned-cluster-instance_example_3", "source": "avm/res/hybrid-container-service/provisioned-cluster-instance/README.md", "content_to_embed": "Recommended AVM Module for Hybrid Container Service Provisioned Cluster Instance: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.HybridContainerService/provisionedClusterInstances\nModule ID: br/public:avm/res/hybrid-container-service/provisioned-cluster-instance:0.2\nParameters:\nparams: {\n    // Required parameters\n    cloudProviderProfile: {\n      infraNetworkProfile: {\n        vnetSubnetIds: [\n          '<resourceId>'\n        ]\n      }\n    }\n    customLocationResourceId: '<customLocationResourceId>'\n    name: 'hcpciwaf001'\n    // Non-required parameters\n    agentPoolProfiles: [\n      {\n        count: 2\n        enableAutoScaling: false\n        maxCount: 5\n        maxPods: 110\n        minCount: 1\n        name: 'nodepool1'\n        nodeLabels: {}\n        nodeTaints: []\n        osSKU: 'CBLMariner'\n        osType: 'Linux'\n        vmSize: 'Standard_A4_v2'\n      }\n    ]\n    connectClustersTags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    controlPlane: {\n      controlPlaneEndpoint: {\n        hostIP: '<hostIP>'\n      }\n      count: 1\n      vmSize: 'Standard_A4_v2'\n    }\n    keyVaultName: '<keyVaultName>'\n  }", "bicep": "module provisionedClusterInstance 'br/public:avm/res/hybrid-container-service/provisioned-cluster-instance:0.2' = {\n  name: 'provisionedClusterInstanceDeployment'\n  params: {\n    // Required parameters\n    cloudProviderProfile: {\n      infraNetworkProfile: {\n        vnetSubnetIds: [\n          '<resourceId>'\n        ]\n      }\n    }\n    customLocationResourceId: '<customLocationResourceId>'\n    name: 'hcpciwaf001'\n    // Non-required parameters\n    agentPoolProfiles: [\n      {\n        count: 2\n        enableAutoScaling: false\n        maxCount: 5\n        maxPods: 110\n        minCount: 1\n        name: 'nodepool1'\n        nodeLabels: {}\n        nodeTaints: []\n        osSKU: 'CBLMariner'\n        osType: 'Linux'\n        vmSize: 'Standard_A4_v2'\n      }\n    ]\n    connectClustersTags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    controlPlane: {\n      controlPlaneEndpoint: {\n        hostIP: '<hostIP>'\n      }\n      count: 1\n      vmSize: 'Standard_A4_v2'\n    }\n    keyVaultName: '<keyVaultName>'\n  }\n}"}
{"id": "avm_res_insights_action-group_example_1", "source": "avm/res/insights/action-group/README.md", "content_to_embed": "Recommended AVM Module for Action Groups: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Insights/actionGroups\nModule ID: br/public:avm/res/insights/action-group:0.8\nParameters:\nparams: {\n    // Required parameters\n    groupShortName: 'agiagmin001'\n    name: 'iagmin001'\n  }", "bicep": "module actionGroup 'br/public:avm/res/insights/action-group:0.8' = {\n  name: 'actionGroupDeployment'\n  params: {\n    // Required parameters\n    groupShortName: 'agiagmin001'\n    name: 'iagmin001'\n  }\n}"}
{"id": "avm_res_insights_action-group_example_2", "source": "avm/res/insights/action-group/README.md", "content_to_embed": "Recommended AVM Module for Action Groups: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Insights/actionGroups\nModule ID: br/public:avm/res/insights/action-group:0.8\nParameters:\nparams: {\n    // Required parameters\n    groupShortName: 'agiagmax001'\n    name: 'iagmax001'\n    // Non-required parameters\n    emailReceivers: [\n      {\n        emailAddress: 'test.user@testcompany.com'\n        name: 'TestUser_-EmailAction-'\n        useCommonAlertSchema: true\n      }\n      {\n        emailAddress: 'test.user2@testcompany.com'\n        name: 'TestUser2'\n        useCommonAlertSchema: true\n      }\n    ]\n    location: 'global'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    roleAssignments: [\n      {\n        name: 'fc3ee4d9-d0c0-42c2-962f-082cf8d78882'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    smsReceivers: [\n      {\n        countryCode: '1'\n        name: 'TestUser_-SMSAction-'\n        phoneNumber: '2345678901'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module actionGroup 'br/public:avm/res/insights/action-group:0.8' = {\n  name: 'actionGroupDeployment'\n  params: {\n    // Required parameters\n    groupShortName: 'agiagmax001'\n    name: 'iagmax001'\n    // Non-required parameters\n    emailReceivers: [\n      {\n        emailAddress: 'test.user@testcompany.com'\n        name: 'TestUser_-EmailAction-'\n        useCommonAlertSchema: true\n      }\n      {\n        emailAddress: 'test.user2@testcompany.com'\n        name: 'TestUser2'\n        useCommonAlertSchema: true\n      }\n    ]\n    location: 'global'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    roleAssignments: [\n      {\n        name: 'fc3ee4d9-d0c0-42c2-962f-082cf8d78882'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    smsReceivers: [\n      {\n        countryCode: '1'\n        name: 'TestUser_-SMSAction-'\n        phoneNumber: '2345678901'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_insights_action-group_example_3", "source": "avm/res/insights/action-group/README.md", "content_to_embed": "Recommended AVM Module for Action Groups: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Insights/actionGroups\nModule ID: br/public:avm/res/insights/action-group:0.8\nParameters:\nparams: {\n    // Required parameters\n    groupShortName: 'agiagwaf001'\n    name: 'iagwaf001'\n    // Non-required parameters\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module actionGroup 'br/public:avm/res/insights/action-group:0.8' = {\n  name: 'actionGroupDeployment'\n  params: {\n    // Required parameters\n    groupShortName: 'agiagwaf001'\n    name: 'iagwaf001'\n    // Non-required parameters\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_insights_activity-log-alert_example_1", "source": "avm/res/insights/activity-log-alert/README.md", "content_to_embed": "Recommended AVM Module for Activity Log Alerts: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Insights/activityLogAlerts\nModule ID: br/public:avm/res/insights/activity-log-alert:0.4\nParameters:\nparams: {\n    // Required parameters\n    conditions: [\n      {\n        equals: 'ServiceHealth'\n        field: 'category'\n      }\n      {\n        anyOf: [\n          {\n            equals: 'Incident'\n            field: 'properties.incidentType'\n          }\n          {\n            equals: 'Maintenance'\n            field: 'properties.incidentType'\n          }\n        ]\n      }\n      {\n        containsAny: [\n          'Storage'\n        ]\n        field: 'properties.impactedServices[*].ServiceName'\n      }\n      {\n        containsAny: [\n          'West Europe'\n        ]\n        field: 'properties.impactedServices[*].ImpactedRegions[*].RegionName'\n      }\n    ]\n    name: 'ialamin001'\n    // Non-required parameters\n    location: 'global'\n  }", "bicep": "module activityLogAlert 'br/public:avm/res/insights/activity-log-alert:0.4' = {\n  name: 'activityLogAlertDeployment'\n  params: {\n    // Required parameters\n    conditions: [\n      {\n        equals: 'ServiceHealth'\n        field: 'category'\n      }\n      {\n        anyOf: [\n          {\n            equals: 'Incident'\n            field: 'properties.incidentType'\n          }\n          {\n            equals: 'Maintenance'\n            field: 'properties.incidentType'\n          }\n        ]\n      }\n      {\n        containsAny: [\n          'Storage'\n        ]\n        field: 'properties.impactedServices[*].ServiceName'\n      }\n      {\n        containsAny: [\n          'West Europe'\n        ]\n        field: 'properties.impactedServices[*].ImpactedRegions[*].RegionName'\n      }\n    ]\n    name: 'ialamin001'\n    // Non-required parameters\n    location: 'global'\n  }\n}"}
{"id": "avm_res_insights_activity-log-alert_example_2", "source": "avm/res/insights/activity-log-alert/README.md", "content_to_embed": "Recommended AVM Module for Activity Log Alerts: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Insights/activityLogAlerts\nModule ID: br/public:avm/res/insights/activity-log-alert:0.4\nParameters:\nparams: {\n    // Required parameters\n    conditions: [\n      {\n        equals: 'ServiceHealth'\n        field: 'category'\n      }\n      {\n        anyOf: [\n          {\n            equals: 'Incident'\n            field: 'properties.incidentType'\n          }\n          {\n            equals: 'Maintenance'\n            field: 'properties.incidentType'\n          }\n        ]\n      }\n      {\n        containsAny: [\n          'Action Groups'\n          'Activity Logs & Alerts'\n        ]\n        field: 'properties.impactedServices[*].ServiceName'\n      }\n      {\n        containsAny: [\n          'Global'\n          'West Europe'\n        ]\n        field: 'properties.impactedServices[*].ImpactedRegions[*].RegionName'\n      }\n    ]\n    name: 'ialamax001'\n    // Non-required parameters\n    actions: [\n      {\n        actionGroupId: '<actionGroupId>'\n      }\n    ]\n    location: 'global'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    roleAssignments: [\n      {\n        name: 'be96d7a9-6596-40c7-9acd-db6acd5cd41b'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    scopes: [\n      '<id>'\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module activityLogAlert 'br/public:avm/res/insights/activity-log-alert:0.4' = {\n  name: 'activityLogAlertDeployment'\n  params: {\n    // Required parameters\n    conditions: [\n      {\n        equals: 'ServiceHealth'\n        field: 'category'\n      }\n      {\n        anyOf: [\n          {\n            equals: 'Incident'\n            field: 'properties.incidentType'\n          }\n          {\n            equals: 'Maintenance'\n            field: 'properties.incidentType'\n          }\n        ]\n      }\n      {\n        containsAny: [\n          'Action Groups'\n          'Activity Logs & Alerts'\n        ]\n        field: 'properties.impactedServices[*].ServiceName'\n      }\n      {\n        containsAny: [\n          'Global'\n          'West Europe'\n        ]\n        field: 'properties.impactedServices[*].ImpactedRegions[*].RegionName'\n      }\n    ]\n    name: 'ialamax001'\n    // Non-required parameters\n    actions: [\n      {\n        actionGroupId: '<actionGroupId>'\n      }\n    ]\n    location: 'global'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    roleAssignments: [\n      {\n        name: 'be96d7a9-6596-40c7-9acd-db6acd5cd41b'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    scopes: [\n      '<id>'\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_insights_activity-log-alert_example_3", "source": "avm/res/insights/activity-log-alert/README.md", "content_to_embed": "Recommended AVM Module for Activity Log Alerts: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Insights/activityLogAlerts\nModule ID: br/public:avm/res/insights/activity-log-alert:0.4\nParameters:\nparams: {\n    // Required parameters\n    conditions: [\n      {\n        equals: 'ServiceHealth'\n        field: 'category'\n      }\n      {\n        anyOf: [\n          {\n            equals: 'Incident'\n            field: 'properties.incidentType'\n          }\n          {\n            equals: 'Maintenance'\n            field: 'properties.incidentType'\n          }\n        ]\n      }\n      {\n        containsAny: [\n          'Action Groups'\n          'Activity Logs & Alerts'\n        ]\n        field: 'properties.impactedServices[*].ServiceName'\n      }\n      {\n        containsAny: [\n          'Global'\n          'West Europe'\n        ]\n        field: 'properties.impactedServices[*].ImpactedRegions[*].RegionName'\n      }\n    ]\n    name: 'ialawaf001'\n    // Non-required parameters\n    actions: [\n      {\n        actionGroupId: '<actionGroupId>'\n      }\n    ]\n    scopes: [\n      '<id>'\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module activityLogAlert 'br/public:avm/res/insights/activity-log-alert:0.4' = {\n  name: 'activityLogAlertDeployment'\n  params: {\n    // Required parameters\n    conditions: [\n      {\n        equals: 'ServiceHealth'\n        field: 'category'\n      }\n      {\n        anyOf: [\n          {\n            equals: 'Incident'\n            field: 'properties.incidentType'\n          }\n          {\n            equals: 'Maintenance'\n            field: 'properties.incidentType'\n          }\n        ]\n      }\n      {\n        containsAny: [\n          'Action Groups'\n          'Activity Logs & Alerts'\n        ]\n        field: 'properties.impactedServices[*].ServiceName'\n      }\n      {\n        containsAny: [\n          'Global'\n          'West Europe'\n        ]\n        field: 'properties.impactedServices[*].ImpactedRegions[*].RegionName'\n      }\n    ]\n    name: 'ialawaf001'\n    // Non-required parameters\n    actions: [\n      {\n        actionGroupId: '<actionGroupId>'\n      }\n    ]\n    scopes: [\n      '<id>'\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_insights_component_example_1", "source": "avm/res/insights/component/README.md", "content_to_embed": "Recommended AVM Module for Application Insights: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Insights/components\nModule ID: br/public:avm/res/insights/component:0.7\nParameters:\nparams: {\n    // Required parameters\n    name: 'icmin001'\n    workspaceResourceId: '<workspaceResourceId>'\n    // Non-required parameters\n    location: '<location>'\n  }", "bicep": "module component 'br/public:avm/res/insights/component:0.7' = {\n  name: 'componentDeployment'\n  params: {\n    // Required parameters\n    name: 'icmin001'\n    workspaceResourceId: '<workspaceResourceId>'\n    // Non-required parameters\n    location: '<location>'\n  }\n}"}
{"id": "avm_res_insights_component_example_2", "source": "avm/res/insights/component/README.md", "content_to_embed": "Recommended AVM Module for Application Insights: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Insights/components\nModule ID: br/public:avm/res/insights/component:0.7\nParameters:\nparams: {\n    // Required parameters\n    name: 'icmax001'\n    workspaceResourceId: '<workspaceResourceId>'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    disableIpMasking: false\n    disableLocalAuth: true\n    flowType: 'Redfield'\n    forceCustomerStorageForProfiler: true\n    immediatePurgeDataOn30Days: true\n    linkedStorageAccountResourceId: '<linkedStorageAccountResourceId>'\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    requestSource: 'Azure'\n    roleAssignments: [\n      {\n        name: '8aacced3-3fce-41bc-a416-959df1acec57'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module component 'br/public:avm/res/insights/component:0.7' = {\n  name: 'componentDeployment'\n  params: {\n    // Required parameters\n    name: 'icmax001'\n    workspaceResourceId: '<workspaceResourceId>'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    disableIpMasking: false\n    disableLocalAuth: true\n    flowType: 'Redfield'\n    forceCustomerStorageForProfiler: true\n    immediatePurgeDataOn30Days: true\n    linkedStorageAccountResourceId: '<linkedStorageAccountResourceId>'\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    requestSource: 'Azure'\n    roleAssignments: [\n      {\n        name: '8aacced3-3fce-41bc-a416-959df1acec57'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_insights_component_example_3", "source": "avm/res/insights/component/README.md", "content_to_embed": "Recommended AVM Module for Application Insights: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Insights/components\nModule ID: br/public:avm/res/insights/component:0.7\nParameters:\nparams: {\n    // Required parameters\n    name: 'icwaf001'\n    workspaceResourceId: '<workspaceResourceId>'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    location: '<location>'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module component 'br/public:avm/res/insights/component:0.7' = {\n  name: 'componentDeployment'\n  params: {\n    // Required parameters\n    name: 'icwaf001'\n    workspaceResourceId: '<workspaceResourceId>'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    location: '<location>'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_insights_data-collection-endpoint_example_1", "source": "avm/res/insights/data-collection-endpoint/README.md", "content_to_embed": "Recommended AVM Module for Data Collection Endpoints: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Insights/dataCollectionEndpoints\nModule ID: br/public:avm/res/insights/data-collection-endpoint:0.5\nParameters:\nparams: {\n    // Required parameters\n    name: 'idcemin001'\n    // Non-required parameters\n    location: '<location>'\n  }", "bicep": "module dataCollectionEndpoint 'br/public:avm/res/insights/data-collection-endpoint:0.5' = {\n  name: 'dataCollectionEndpointDeployment'\n  params: {\n    // Required parameters\n    name: 'idcemin001'\n    // Non-required parameters\n    location: '<location>'\n  }\n}"}
{"id": "avm_res_insights_data-collection-endpoint_example_2", "source": "avm/res/insights/data-collection-endpoint/README.md", "content_to_embed": "Recommended AVM Module for Data Collection Endpoints: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Insights/dataCollectionEndpoints\nModule ID: br/public:avm/res/insights/data-collection-endpoint:0.5\nParameters:\nparams: {\n    // Required parameters\n    name: 'idcemax001'\n    // Non-required parameters\n    description: 'This is a test data collection endpoint.'\n    kind: 'Windows'\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    publicNetworkAccess: 'Enabled'\n    roleAssignments: [\n      {\n        name: 'db496446-89ac-4d91-a189-71544de0150a'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      'hidden-title': 'This is visible in the resource name'\n      kind: 'Windows'\n      resourceType: 'Data Collection Rules'\n    }\n  }", "bicep": "module dataCollectionEndpoint 'br/public:avm/res/insights/data-collection-endpoint:0.5' = {\n  name: 'dataCollectionEndpointDeployment'\n  params: {\n    // Required parameters\n    name: 'idcemax001'\n    // Non-required parameters\n    description: 'This is a test data collection endpoint.'\n    kind: 'Windows'\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    publicNetworkAccess: 'Enabled'\n    roleAssignments: [\n      {\n        name: 'db496446-89ac-4d91-a189-71544de0150a'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      'hidden-title': 'This is visible in the resource name'\n      kind: 'Windows'\n      resourceType: 'Data Collection Rules'\n    }\n  }\n}"}
{"id": "avm_res_insights_data-collection-endpoint_example_3", "source": "avm/res/insights/data-collection-endpoint/README.md", "content_to_embed": "Recommended AVM Module for Data Collection Endpoints: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Insights/dataCollectionEndpoints\nModule ID: br/public:avm/res/insights/data-collection-endpoint:0.5\nParameters:\nparams: {\n    // Required parameters\n    name: 'idcewaf001'\n    // Non-required parameters\n    kind: 'Windows'\n    location: '<location>'\n    publicNetworkAccess: 'Disabled'\n    tags: {\n      'hidden-title': 'This is visible in the resource name'\n      kind: 'Windows'\n      resourceType: 'Data Collection Rules'\n    }\n  }", "bicep": "module dataCollectionEndpoint 'br/public:avm/res/insights/data-collection-endpoint:0.5' = {\n  name: 'dataCollectionEndpointDeployment'\n  params: {\n    // Required parameters\n    name: 'idcewaf001'\n    // Non-required parameters\n    kind: 'Windows'\n    location: '<location>'\n    publicNetworkAccess: 'Disabled'\n    tags: {\n      'hidden-title': 'This is visible in the resource name'\n      kind: 'Windows'\n      resourceType: 'Data Collection Rules'\n    }\n  }\n}"}
{"id": "avm_res_insights_data-collection-rule_example_1", "source": "avm/res/insights/data-collection-rule/README.md", "content_to_embed": "Recommended AVM Module for Data Collection Rules: Agent Settings - This instance deploys the module AMA (Azure Monitor Agent) Settings DCR.\nResource Type Path: Microsoft.Insights/dataCollectionRules\nModule ID: br/public:avm/res/insights/data-collection-rule:0.8\nParameters:\nparams: {\n    // Required parameters\n    dataCollectionRuleProperties: {\n      agentSettings: {\n        logs: [\n          {\n            name: 'MaxDiskQuotaInMB'\n            value: '5000'\n          }\n        ]\n      }\n      description: 'Agent Settings'\n      kind: 'AgentSettings'\n    }\n    name: 'idcrags001'\n    // Non-required parameters\n    location: '<location>'\n  }", "bicep": "module dataCollectionRule 'br/public:avm/res/insights/data-collection-rule:0.8' = {\n  name: 'dataCollectionRuleDeployment'\n  params: {\n    // Required parameters\n    dataCollectionRuleProperties: {\n      agentSettings: {\n        logs: [\n          {\n            name: 'MaxDiskQuotaInMB'\n            value: '5000'\n          }\n        ]\n      }\n      description: 'Agent Settings'\n      kind: 'AgentSettings'\n    }\n    name: 'idcrags001'\n    // Non-required parameters\n    location: '<location>'\n  }\n}"}
{"id": "avm_res_insights_data-collection-rule_example_2", "source": "avm/res/insights/data-collection-rule/README.md", "content_to_embed": "Recommended AVM Module for Data Collection Rules: Collecting custom text logs with ingestion-time transformation - This instance deploys the module to setup collection of custom logs and ingestion-time transformation.\nResource Type Path: Microsoft.Insights/dataCollectionRules\nModule ID: br/public:avm/res/insights/data-collection-rule:0.8\nParameters:\nparams: {\n    // Required parameters\n    dataCollectionRuleProperties: {\n      dataCollectionEndpointResourceId: '<dataCollectionEndpointResourceId>'\n      dataFlows: [\n        {\n          destinations: [\n            '<logAnalyticsWorkspaceName>'\n          ]\n          outputStream: 'Custom-CustomTableAdvanced_CL'\n          streams: [\n            'Custom-CustomTableAdvanced_CL'\n          ]\n          transformKql: 'source | extend LogFields = split(RawData, \\',\\') | extend EventTime = todatetime(LogFields[0]) | extend EventLevel = tostring(LogFields[1]) | extend EventCode = toint(LogFields[2]) | extend Message = tostring(LogFields[3]) | project TimeGenerated, EventTime, EventLevel, EventCode, Message'\n        }\n      ]\n      dataSources: {\n        logFiles: [\n          {\n            filePatterns: [\n              'C:\\\\TestLogsAdvanced\\\\TestLog*.log'\n            ]\n            format: 'text'\n            name: 'CustomTableAdvanced_CL'\n            samplingFrequencyInSeconds: 60\n            settings: {\n              text: {\n                recordStartTimestampFormat: 'ISO 8601'\n              }\n            }\n            streams: [\n              'Custom-CustomTableAdvanced_CL'\n            ]\n          }\n        ]\n      }\n      description: 'Collecting custom text logs with ingestion-time transformation to columns. Expected format of a log line (comma separated values): \\'<DateTime>,<EventLevel>,<EventCode>,<Message>\\', for example: \\'2023-01-25T20:15:05Z,ERROR,404,Page not found\\''\n      destinations: {\n        logAnalytics: [\n          {\n            name: '<name>'\n            workspaceResourceId: '<workspaceResourceId>'\n          }\n        ]\n      }\n      kind: 'Windows'\n      streamDeclarations: {\n        'Custom-CustomTableAdvanced_CL': {\n          columns: [\n            {\n              name: 'TimeGenerated'\n              type: 'datetime'\n            }\n            {\n              name: 'EventTime'\n              type: 'datetime'\n            }\n            {\n              name: 'EventLevel'\n              type: 'string'\n            }\n            {\n              name: 'EventCode'\n              type: 'int'\n            }\n            {\n              name: 'Message'\n              type: 'string'\n            }\n            {\n              name: 'RawData'\n              type: 'string'\n            }\n          ]\n        }\n      }\n    }\n    name: 'idcrcusadv001'\n    // Non-required parameters\n    location: '<location>'\n    managedIdentities: {\n      systemAssigned: true\n    }\n    tags: {\n      'hidden-title': 'This is visible in the resource name'\n      kind: 'Windows'\n      resourceType: 'Data Collection Rules'\n    }\n  }", "bicep": "module dataCollectionRule 'br/public:avm/res/insights/data-collection-rule:0.8' = {\n  name: 'dataCollectionRuleDeployment'\n  params: {\n    // Required parameters\n    dataCollectionRuleProperties: {\n      dataCollectionEndpointResourceId: '<dataCollectionEndpointResourceId>'\n      dataFlows: [\n        {\n          destinations: [\n            '<logAnalyticsWorkspaceName>'\n          ]\n          outputStream: 'Custom-CustomTableAdvanced_CL'\n          streams: [\n            'Custom-CustomTableAdvanced_CL'\n          ]\n          transformKql: 'source | extend LogFields = split(RawData, \\',\\') | extend EventTime = todatetime(LogFields[0]) | extend EventLevel = tostring(LogFields[1]) | extend EventCode = toint(LogFields[2]) | extend Message = tostring(LogFields[3]) | project TimeGenerated, EventTime, EventLevel, EventCode, Message'\n        }\n      ]\n      dataSources: {\n        logFiles: [\n          {\n            filePatterns: [\n              'C:\\\\TestLogsAdvanced\\\\TestLog*.log'\n            ]\n            format: 'text'\n            name: 'CustomTableAdvanced_CL'\n            samplingFrequencyInSeconds: 60\n            settings: {\n              text: {\n                recordStartTimestampFormat: 'ISO 8601'\n              }\n            }\n            streams: [\n              'Custom-CustomTableAdvanced_CL'\n            ]\n          }\n        ]\n      }\n      description: 'Collecting custom text logs with ingestion-time transformation to columns. Expected format of a log line (comma separated values): \\'<DateTime>,<EventLevel>,<EventCode>,<Message>\\', for example: \\'2023-01-25T20:15:05Z,ERROR,404,Page not found\\''\n      destinations: {\n        logAnalytics: [\n          {\n            name: '<name>'\n            workspaceResourceId: '<workspaceResourceId>'\n          }\n        ]\n      }\n      kind: 'Windows'\n      streamDeclarations: {\n        'Custom-CustomTableAdvanced_CL': {\n          columns: [\n            {\n              name: 'TimeGenerated'\n              type: 'datetime'\n            }\n            {\n              name: 'EventTime'\n              type: 'datetime'\n            }\n            {\n              name: 'EventLevel'\n              type: 'string'\n            }\n            {\n              name: 'EventCode'\n              type: 'int'\n            }\n            {\n              name: 'Message'\n              type: 'string'\n            }\n            {\n              name: 'RawData'\n              type: 'string'\n            }\n          ]\n        }\n      }\n    }\n    name: 'idcrcusadv001'\n    // Non-required parameters\n    location: '<location>'\n    managedIdentities: {\n      systemAssigned: true\n    }\n    tags: {\n      'hidden-title': 'This is visible in the resource name'\n      kind: 'Windows'\n      resourceType: 'Data Collection Rules'\n    }\n  }\n}"}
{"id": "avm_res_insights_data-collection-rule_example_3", "source": "avm/res/insights/data-collection-rule/README.md", "content_to_embed": "Recommended AVM Module for Data Collection Rules: Collecting custom text logs - This instance deploys the module to setup collection of custom logs.\nResource Type Path: Microsoft.Insights/dataCollectionRules\nModule ID: br/public:avm/res/insights/data-collection-rule:0.8\nParameters:\nparams: {\n    // Required parameters\n    dataCollectionRuleProperties: {\n      dataCollectionEndpointResourceId: '<dataCollectionEndpointResourceId>'\n      dataFlows: [\n        {\n          destinations: [\n            '<logAnalyticsWorkspaceName>'\n          ]\n          outputStream: 'Custom-CustomTableBasic_CL'\n          streams: [\n            'Custom-CustomTableBasic_CL'\n          ]\n          transformKql: 'source'\n        }\n      ]\n      dataSources: {\n        logFiles: [\n          {\n            filePatterns: [\n              'C:\\\\TestLogsBasic\\\\TestLog*.log'\n            ]\n            format: 'text'\n            name: 'CustomTableBasic_CL'\n            samplingFrequencyInSeconds: 60\n            settings: {\n              text: {\n                recordStartTimestampFormat: 'ISO 8601'\n              }\n            }\n            streams: [\n              'Custom-CustomTableBasic_CL'\n            ]\n          }\n        ]\n      }\n      description: 'Collecting custom text logs without ingestion-time transformation.'\n      destinations: {\n        logAnalytics: [\n          {\n            name: '<name>'\n            workspaceResourceId: '<workspaceResourceId>'\n          }\n        ]\n      }\n      kind: 'All'\n      streamDeclarations: {\n        'Custom-CustomTableBasic_CL': {\n          columns: [\n            {\n              name: 'TimeGenerated'\n              type: 'datetime'\n            }\n            {\n              name: 'RawData'\n              type: 'string'\n            }\n          ]\n        }\n      }\n    }\n    name: 'idcrcusbas001'\n    // Non-required parameters\n    location: '<location>'\n    tags: {\n      'hidden-title': 'This is visible in the resource name'\n      kind: 'Windows'\n      resourceType: 'Data Collection Rules'\n    }\n  }", "bicep": "module dataCollectionRule 'br/public:avm/res/insights/data-collection-rule:0.8' = {\n  name: 'dataCollectionRuleDeployment'\n  params: {\n    // Required parameters\n    dataCollectionRuleProperties: {\n      dataCollectionEndpointResourceId: '<dataCollectionEndpointResourceId>'\n      dataFlows: [\n        {\n          destinations: [\n            '<logAnalyticsWorkspaceName>'\n          ]\n          outputStream: 'Custom-CustomTableBasic_CL'\n          streams: [\n            'Custom-CustomTableBasic_CL'\n          ]\n          transformKql: 'source'\n        }\n      ]\n      dataSources: {\n        logFiles: [\n          {\n            filePatterns: [\n              'C:\\\\TestLogsBasic\\\\TestLog*.log'\n            ]\n            format: 'text'\n            name: 'CustomTableBasic_CL'\n            samplingFrequencyInSeconds: 60\n            settings: {\n              text: {\n                recordStartTimestampFormat: 'ISO 8601'\n              }\n            }\n            streams: [\n              'Custom-CustomTableBasic_CL'\n            ]\n          }\n        ]\n      }\n      description: 'Collecting custom text logs without ingestion-time transformation.'\n      destinations: {\n        logAnalytics: [\n          {\n            name: '<name>'\n            workspaceResourceId: '<workspaceResourceId>'\n          }\n        ]\n      }\n      kind: 'All'\n      streamDeclarations: {\n        'Custom-CustomTableBasic_CL': {\n          columns: [\n            {\n              name: 'TimeGenerated'\n              type: 'datetime'\n            }\n            {\n              name: 'RawData'\n              type: 'string'\n            }\n          ]\n        }\n      }\n    }\n    name: 'idcrcusbas001'\n    // Non-required parameters\n    location: '<location>'\n    tags: {\n      'hidden-title': 'This is visible in the resource name'\n      kind: 'Windows'\n      resourceType: 'Data Collection Rules'\n    }\n  }\n}"}
{"id": "avm_res_insights_data-collection-rule_example_4", "source": "avm/res/insights/data-collection-rule/README.md", "content_to_embed": "Recommended AVM Module for Data Collection Rules: Collecting IIS logs - This instance deploys the module to setup the collection of IIS logs.\nResource Type Path: Microsoft.Insights/dataCollectionRules\nModule ID: br/public:avm/res/insights/data-collection-rule:0.8\nParameters:\nparams: {\n    // Required parameters\n    dataCollectionRuleProperties: {\n      dataCollectionEndpointResourceId: '<dataCollectionEndpointResourceId>'\n      dataFlows: [\n        {\n          destinations: [\n            '<logAnalyticsWorkspaceName>'\n          ]\n          outputStream: 'Microsoft-W3CIISLog'\n          streams: [\n            'Microsoft-W3CIISLog'\n          ]\n          transformKql: 'source'\n        }\n      ]\n      dataSources: {\n        iisLogs: [\n          {\n            logDirectories: [\n              'C:\\\\inetpub\\\\logs\\\\LogFiles\\\\W3SVC1'\n            ]\n            name: 'iisLogsDataSource'\n            streams: [\n              'Microsoft-W3CIISLog'\n            ]\n          }\n        ]\n      }\n      description: 'Collecting IIS logs.'\n      destinations: {\n        logAnalytics: [\n          {\n            name: '<name>'\n            workspaceResourceId: '<workspaceResourceId>'\n          }\n        ]\n      }\n      kind: 'Windows'\n    }\n    name: 'idcrcusiis001'\n    // Non-required parameters\n    location: '<location>'\n    tags: {\n      'hidden-title': 'This is visible in the resource name'\n      kind: 'Windows'\n      resourceType: 'Data Collection Rules'\n    }\n  }", "bicep": "module dataCollectionRule 'br/public:avm/res/insights/data-collection-rule:0.8' = {\n  name: 'dataCollectionRuleDeployment'\n  params: {\n    // Required parameters\n    dataCollectionRuleProperties: {\n      dataCollectionEndpointResourceId: '<dataCollectionEndpointResourceId>'\n      dataFlows: [\n        {\n          destinations: [\n            '<logAnalyticsWorkspaceName>'\n          ]\n          outputStream: 'Microsoft-W3CIISLog'\n          streams: [\n            'Microsoft-W3CIISLog'\n          ]\n          transformKql: 'source'\n        }\n      ]\n      dataSources: {\n        iisLogs: [\n          {\n            logDirectories: [\n              'C:\\\\inetpub\\\\logs\\\\LogFiles\\\\W3SVC1'\n            ]\n            name: 'iisLogsDataSource'\n            streams: [\n              'Microsoft-W3CIISLog'\n            ]\n          }\n        ]\n      }\n      description: 'Collecting IIS logs.'\n      destinations: {\n        logAnalytics: [\n          {\n            name: '<name>'\n            workspaceResourceId: '<workspaceResourceId>'\n          }\n        ]\n      }\n      kind: 'Windows'\n    }\n    name: 'idcrcusiis001'\n    // Non-required parameters\n    location: '<location>'\n    tags: {\n      'hidden-title': 'This is visible in the resource name'\n      kind: 'Windows'\n      resourceType: 'Data Collection Rules'\n    }\n  }\n}"}
{"id": "avm_res_insights_data-collection-rule_example_5", "source": "avm/res/insights/data-collection-rule/README.md", "content_to_embed": "Recommended AVM Module for Data Collection Rules: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Insights/dataCollectionRules\nModule ID: br/public:avm/res/insights/data-collection-rule:0.8\nParameters:\nparams: {\n    // Required parameters\n    dataCollectionRuleProperties: {\n      dataFlows: [\n        {\n          destinations: [\n            'azureMonitorMetrics-default'\n          ]\n          streams: [\n            'Microsoft-InsightsMetrics'\n          ]\n        }\n      ]\n      dataSources: {\n        performanceCounters: [\n          {\n            counterSpecifiers: [\n              '\\\\Process(_Total)\\\\Handle Count'\n              '\\\\Process(_Total)\\\\Thread Count'\n              '\\\\Processor Information(_Total)\\\\% Privileged Time'\n              '\\\\Processor Information(_Total)\\\\% Processor Time'\n              '\\\\Processor Information(_Total)\\\\% User Time'\n              '\\\\Processor Information(_Total)\\\\Processor Frequency'\n              '\\\\System\\\\Context Switches/sec'\n              '\\\\System\\\\Processes'\n              '\\\\System\\\\Processor Queue Length'\n              '\\\\System\\\\System Up Time'\n            ]\n            name: 'perfCounterDataSource60'\n            samplingFrequencyInSeconds: 60\n            streams: [\n              'Microsoft-InsightsMetrics'\n            ]\n          }\n        ]\n      }\n      destinations: {\n        azureMonitorMetrics: {\n          name: 'azureMonitorMetrics-default'\n        }\n      }\n      kind: 'Windows'\n    }\n    name: 'idcrmin001'\n    // Non-required parameters\n    location: '<location>'\n  }", "bicep": "module dataCollectionRule 'br/public:avm/res/insights/data-collection-rule:0.8' = {\n  name: 'dataCollectionRuleDeployment'\n  params: {\n    // Required parameters\n    dataCollectionRuleProperties: {\n      dataFlows: [\n        {\n          destinations: [\n            'azureMonitorMetrics-default'\n          ]\n          streams: [\n            'Microsoft-InsightsMetrics'\n          ]\n        }\n      ]\n      dataSources: {\n        performanceCounters: [\n          {\n            counterSpecifiers: [\n              '\\\\Process(_Total)\\\\Handle Count'\n              '\\\\Process(_Total)\\\\Thread Count'\n              '\\\\Processor Information(_Total)\\\\% Privileged Time'\n              '\\\\Processor Information(_Total)\\\\% Processor Time'\n              '\\\\Processor Information(_Total)\\\\% User Time'\n              '\\\\Processor Information(_Total)\\\\Processor Frequency'\n              '\\\\System\\\\Context Switches/sec'\n              '\\\\System\\\\Processes'\n              '\\\\System\\\\Processor Queue Length'\n              '\\\\System\\\\System Up Time'\n            ]\n            name: 'perfCounterDataSource60'\n            samplingFrequencyInSeconds: 60\n            streams: [\n              'Microsoft-InsightsMetrics'\n            ]\n          }\n        ]\n      }\n      destinations: {\n        azureMonitorMetrics: {\n          name: 'azureMonitorMetrics-default'\n        }\n      }\n      kind: 'Windows'\n    }\n    name: 'idcrmin001'\n    // Non-required parameters\n    location: '<location>'\n  }\n}"}
{"id": "avm_res_insights_data-collection-rule_example_6", "source": "avm/res/insights/data-collection-rule/README.md", "content_to_embed": "Recommended AVM Module for Data Collection Rules: Send data to Azure Monitor Logs with Logs ingestion API - This instance deploys the module to setup sending data to Azure Monitor Logs with Logs ingestion API.\nResource Type Path: Microsoft.Insights/dataCollectionRules\nModule ID: br/public:avm/res/insights/data-collection-rule:0.8\nParameters:\nparams: {\n    // Required parameters\n    dataCollectionRuleProperties: {\n      dataCollectionEndpointResourceId: '<dataCollectionEndpointResourceId>'\n      dataFlows: [\n        {\n          destinations: [\n            '<logAnalyticsWorkspaceName>'\n          ]\n          outputStream: 'Custom-ApacheAccess_CL'\n          streams: [\n            'Custom-ApacheAccess_CL'\n          ]\n          transformKql: 'source\\n| extend TimeGenerated = todatetime(Time)\\n| parse RawData with \\nClientIP:string\\n\\' \\' *\\n\\' \\' *\\n\\' [\\' * \\'] \\'\\' RequestType:string\\n\\' \\' Resource:string\\n\\' \\' *\\n\\'\\' \\' ResponseCode:int\\n\\' \\' *\\n| project-away Time, RawData\\n| where ResponseCode != 200\\n'\n        }\n      ]\n      description: 'Send data to Azure Monitor Logs with Logs ingestion API. Based on the example at https://learn.microsoft.com/en-us/azure/azure-monitor/logs/tutorial-logs-ingestion-portal'\n      destinations: {\n        logAnalytics: [\n          {\n            name: '<name>'\n            workspaceResourceId: '<workspaceResourceId>'\n          }\n        ]\n      }\n      kind: 'Direct'\n      streamDeclarations: {\n        'Custom-ApacheAccess_CL': {\n          columns: [\n            {\n              name: 'RawData'\n              type: 'string'\n            }\n            {\n              name: 'Time'\n              type: 'datetime'\n            }\n            {\n              name: 'Application'\n              type: 'string'\n            }\n          ]\n        }\n      }\n    }\n    name: 'idcrdir001'\n    // Non-required parameters\n    location: '<location>'\n    tags: {\n      'hidden-title': 'This is visible in the resource name'\n      kind: 'Direct'\n      resourceType: 'Data Collection Rules'\n    }\n  }", "bicep": "module dataCollectionRule 'br/public:avm/res/insights/data-collection-rule:0.8' = {\n  name: 'dataCollectionRuleDeployment'\n  params: {\n    // Required parameters\n    dataCollectionRuleProperties: {\n      dataCollectionEndpointResourceId: '<dataCollectionEndpointResourceId>'\n      dataFlows: [\n        {\n          destinations: [\n            '<logAnalyticsWorkspaceName>'\n          ]\n          outputStream: 'Custom-ApacheAccess_CL'\n          streams: [\n            'Custom-ApacheAccess_CL'\n          ]\n          transformKql: 'source\\n| extend TimeGenerated = todatetime(Time)\\n| parse RawData with \\nClientIP:string\\n\\' \\' *\\n\\' \\' *\\n\\' [\\' * \\'] \\'\\' RequestType:string\\n\\' \\' Resource:string\\n\\' \\' *\\n\\'\\' \\' ResponseCode:int\\n\\' \\' *\\n| project-away Time, RawData\\n| where ResponseCode != 200\\n'\n        }\n      ]\n      description: 'Send data to Azure Monitor Logs with Logs ingestion API. Based on the example at https://learn.microsoft.com/en-us/azure/azure-monitor/logs/tutorial-logs-ingestion-portal'\n      destinations: {\n        logAnalytics: [\n          {\n            name: '<name>'\n            workspaceResourceId: '<workspaceResourceId>'\n          }\n        ]\n      }\n      kind: 'Direct'\n      streamDeclarations: {\n        'Custom-ApacheAccess_CL': {\n          columns: [\n            {\n              name: 'RawData'\n              type: 'string'\n            }\n            {\n              name: 'Time'\n              type: 'datetime'\n            }\n            {\n              name: 'Application'\n              type: 'string'\n            }\n          ]\n        }\n      }\n    }\n    name: 'idcrdir001'\n    // Non-required parameters\n    location: '<location>'\n    tags: {\n      'hidden-title': 'This is visible in the resource name'\n      kind: 'Direct'\n      resourceType: 'Data Collection Rules'\n    }\n  }\n}"}
{"id": "avm_res_insights_data-collection-rule_example_7", "source": "avm/res/insights/data-collection-rule/README.md", "content_to_embed": "Recommended AVM Module for Data Collection Rules: Collecting Linux-specific information - This instance deploys the module to setup the collection of Linux-specific performance counters and Linux Syslog.\nResource Type Path: Microsoft.Insights/dataCollectionRules\nModule ID: br/public:avm/res/insights/data-collection-rule:0.8\nParameters:\nparams: {\n    // Required parameters\n    dataCollectionRuleProperties: {\n      dataFlows: [\n        {\n          destinations: [\n            'azureMonitorMetrics-default'\n          ]\n          streams: [\n            'Microsoft-InsightsMetrics'\n          ]\n        }\n        {\n          destinations: [\n            '<logAnalyticsWorkspaceName>'\n          ]\n          streams: [\n            'Microsoft-Syslog'\n          ]\n        }\n      ]\n      dataSources: {\n        performanceCounters: [\n          {\n            counterSpecifiers: [\n              'Logical Disk(*)\\\\% Free Inodes'\n              'Logical Disk(*)\\\\% Free Space'\n              'Logical Disk(*)\\\\% Used Inodes'\n              'Logical Disk(*)\\\\% Used Space'\n              'Logical Disk(*)\\\\Disk Read Bytes/sec'\n              'Logical Disk(*)\\\\Disk Reads/sec'\n              'Logical Disk(*)\\\\Disk Transfers/sec'\n              'Logical Disk(*)\\\\Disk Write Bytes/sec'\n              'Logical Disk(*)\\\\Disk Writes/sec'\n              'Logical Disk(*)\\\\Free Megabytes'\n              'Logical Disk(*)\\\\Logical Disk Bytes/sec'\n              'Memory(*)\\\\% Available Memory'\n              'Memory(*)\\\\% Available Swap Space'\n              'Memory(*)\\\\% Used Memory'\n              'Memory(*)\\\\% Used Swap Space'\n              'Memory(*)\\\\Available MBytes Memory'\n              'Memory(*)\\\\Available MBytes Swap'\n              'Memory(*)\\\\Page Reads/sec'\n              'Memory(*)\\\\Page Writes/sec'\n              'Memory(*)\\\\Pages/sec'\n              'Memory(*)\\\\Used MBytes Swap Space'\n              'Memory(*)\\\\Used Memory MBytes'\n              'Network(*)\\\\Total Bytes'\n              'Network(*)\\\\Total Bytes Received'\n              'Network(*)\\\\Total Bytes Transmitted'\n              'Network(*)\\\\Total Collisions'\n              'Network(*)\\\\Total Packets Received'\n              'Network(*)\\\\Total Packets Transmitted'\n              'Network(*)\\\\Total Rx Errors'\n              'Network(*)\\\\Total Tx Errors'\n              'Processor(*)\\\\% DPC Time'\n              'Processor(*)\\\\% Idle Time'\n              'Processor(*)\\\\% Interrupt Time'\n              'Processor(*)\\\\% IO Wait Time'\n              'Processor(*)\\\\% Nice Time'\n              'Processor(*)\\\\% Privileged Time'\n              'Processor(*)\\\\% Processor Time'\n              'Processor(*)\\\\% User Time'\n            ]\n            name: 'perfCounterDataSource60'\n            samplingFrequencyInSeconds: 60\n            streams: [\n              'Microsoft-InsightsMetrics'\n            ]\n          }\n        ]\n        syslog: [\n          {\n            facilityNames: [\n              'auth'\n              'authpriv'\n            ]\n            logLevels: [\n              'Alert'\n              'Critical'\n              'Debug'\n              'Emergency'\n              'Error'\n              'Info'\n              'Notice'\n              'Warning'\n            ]\n            name: 'sysLogsDataSource-debugLevel'\n            streams: [\n              'Microsoft-Syslog'\n            ]\n          }\n          {\n            facilityNames: [\n              'cron'\n              'daemon'\n              'kern'\n              'local0'\n              'mark'\n            ]\n            logLevels: [\n              'Alert'\n              'Critical'\n              'Emergency'\n              'Error'\n              'Warning'\n            ]\n            name: 'sysLogsDataSource-warningLevel'\n            streams: [\n              'Microsoft-Syslog'\n            ]\n          }\n          {\n            facilityNames: [\n              'local1'\n              'local2'\n              'local3'\n              'local4'\n              'local5'\n              'local6'\n              'local7'\n              'lpr'\n              'mail'\n              'news'\n              'syslog'\n            ]\n            logLevels: [\n              'Alert'\n              'Critical'\n              'Emergency'\n              'Error'\n            ]\n            name: 'sysLogsDataSource-errLevel'\n            streams: [\n              'Microsoft-Syslog'\n            ]\n          }\n        ]\n      }\n      description: 'Collecting Linux-specific performance counters and Linux Syslog'\n      destinations: {\n        azureMonitorMetrics: {\n          name: 'azureMonitorMetrics-default'\n        }\n        logAnalytics: [\n          {\n            name: '<name>'\n            workspaceResourceId: '<workspaceResourceId>'\n          }\n        ]\n      }\n      kind: 'Linux'\n    }\n    name: 'idcrlin001'\n    // Non-required parameters\n    location: '<location>'\n    tags: {\n      'hidden-title': 'This is visible in the resource name'\n      kind: 'Linux'\n      resourceType: 'Data Collection Rules'\n    }\n  }", "bicep": "module dataCollectionRule 'br/public:avm/res/insights/data-collection-rule:0.8' = {\n  name: 'dataCollectionRuleDeployment'\n  params: {\n    // Required parameters\n    dataCollectionRuleProperties: {\n      dataFlows: [\n        {\n          destinations: [\n            'azureMonitorMetrics-default'\n          ]\n          streams: [\n            'Microsoft-InsightsMetrics'\n          ]\n        }\n        {\n          destinations: [\n            '<logAnalyticsWorkspaceName>'\n          ]\n          streams: [\n            'Microsoft-Syslog'\n          ]\n        }\n      ]\n      dataSources: {\n        performanceCounters: [\n          {\n            counterSpecifiers: [\n              'Logical Disk(*)\\\\% Free Inodes'\n              'Logical Disk(*)\\\\% Free Space'\n              'Logical Disk(*)\\\\% Used Inodes'\n              'Logical Disk(*)\\\\% Used Space'\n              'Logical Disk(*)\\\\Disk Read Bytes/sec'\n              'Logical Disk(*)\\\\Disk Reads/sec'\n              'Logical Disk(*)\\\\Disk Transfers/sec'\n              'Logical Disk(*)\\\\Disk Write Bytes/sec'\n              'Logical Disk(*)\\\\Disk Writes/sec'\n              'Logical Disk(*)\\\\Free Megabytes'\n              'Logical Disk(*)\\\\Logical Disk Bytes/sec'\n              'Memory(*)\\\\% Available Memory'\n              'Memory(*)\\\\% Available Swap Space'\n              'Memory(*)\\\\% Used Memory'\n              'Memory(*)\\\\% Used Swap Space'\n              'Memory(*)\\\\Available MBytes Memory'\n              'Memory(*)\\\\Available MBytes Swap'\n              'Memory(*)\\\\Page Reads/sec'\n              'Memory(*)\\\\Page Writes/sec'\n              'Memory(*)\\\\Pages/sec'\n              'Memory(*)\\\\Used MBytes Swap Space'\n              'Memory(*)\\\\Used Memory MBytes'\n              'Network(*)\\\\Total Bytes'\n              'Network(*)\\\\Total Bytes Received'\n              'Network(*)\\\\Total Bytes Transmitted'\n              'Network(*)\\\\Total Collisions'\n              'Network(*)\\\\Total Packets Received'\n              'Network(*)\\\\Total Packets Transmitted'\n              'Network(*)\\\\Total Rx Errors'\n              'Network(*)\\\\Total Tx Errors'\n              'Processor(*)\\\\% DPC Time'\n              'Processor(*)\\\\% Idle Time'\n              'Processor(*)\\\\% Interrupt Time'\n              'Processor(*)\\\\% IO Wait Time'\n              'Processor(*)\\\\% Nice Time'\n              'Processor(*)\\\\% Privileged Time'\n              'Processor(*)\\\\% Processor Time'\n              'Processor(*)\\\\% User Time'\n            ]\n            name: 'perfCounterDataSource60'\n            samplingFrequencyInSeconds: 60\n            streams: [\n              'Microsoft-InsightsMetrics'\n            ]\n          }\n        ]\n        syslog: [\n          {\n            facilityNames: [\n              'auth'\n              'authpriv'\n            ]\n            logLevels: [\n              'Alert'\n              'Critical'\n              'Debug'\n              'Emergency'\n              'Error'\n              'Info'\n              'Notice'\n              'Warning'\n            ]\n            name: 'sysLogsDataSource-debugLevel'\n            streams: [\n              'Microsoft-Syslog'\n            ]\n          }\n          {\n            facilityNames: [\n              'cron'\n              'daemon'\n              'kern'\n              'local0'\n              'mark'\n            ]\n            logLevels: [\n              'Alert'\n              'Critical'\n              'Emergency'\n              'Error'\n              'Warning'\n            ]\n            name: 'sysLogsDataSource-warningLevel'\n            streams: [\n              'Microsoft-Syslog'\n            ]\n          }\n          {\n            facilityNames: [\n              'local1'\n              'local2'\n              'local3'\n              'local4'\n              'local5'\n              'local6'\n              'local7'\n              'lpr'\n              'mail'\n              'news'\n              'syslog'\n            ]\n            logLevels: [\n              'Alert'\n              'Critical'\n              'Emergency'\n              'Error'\n            ]\n            name: 'sysLogsDataSource-errLevel'\n            streams: [\n              'Microsoft-Syslog'\n            ]\n          }\n        ]\n      }\n      description: 'Collecting Linux-specific performance counters and Linux Syslog'\n      destinations: {\n        azureMonitorMetrics: {\n          name: 'azureMonitorMetrics-default'\n        }\n        logAnalytics: [\n          {\n            name: '<name>'\n            workspaceResourceId: '<workspaceResourceId>'\n          }\n        ]\n      }\n      kind: 'Linux'\n    }\n    name: 'idcrlin001'\n    // Non-required parameters\n    location: '<location>'\n    tags: {\n      'hidden-title': 'This is visible in the resource name'\n      kind: 'Linux'\n      resourceType: 'Data Collection Rules'\n    }\n  }\n}"}
{"id": "avm_res_insights_data-collection-rule_example_8", "source": "avm/res/insights/data-collection-rule/README.md", "content_to_embed": "Recommended AVM Module for Data Collection Rules: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Insights/dataCollectionRules\nModule ID: br/public:avm/res/insights/data-collection-rule:0.8\nParameters:\nparams: {\n    // Required parameters\n    dataCollectionRuleProperties: {\n      dataCollectionEndpointResourceId: '<dataCollectionEndpointResourceId>'\n      dataFlows: [\n        {\n          destinations: [\n            '<logAnalyticsWorkspaceName>'\n          ]\n          outputStream: 'Custom-CustomTableBasic_CL'\n          streams: [\n            'Custom-CustomTableBasic_CL'\n          ]\n          transformKql: 'source'\n        }\n      ]\n      dataSources: {\n        logFiles: [\n          {\n            filePatterns: [\n              'C:\\\\TestLogsBasic\\\\TestLog*.log'\n            ]\n            format: 'text'\n            name: 'CustomTableBasic_CL'\n            samplingFrequencyInSeconds: 60\n            settings: {\n              text: {\n                recordStartTimestampFormat: 'ISO 8601'\n              }\n            }\n            streams: [\n              'Custom-CustomTableBasic_CL'\n            ]\n          }\n        ]\n      }\n      description: 'Collecting custom text logs without ingestion-time transformation.'\n      destinations: {\n        logAnalytics: [\n          {\n            name: '<name>'\n            workspaceResourceId: '<workspaceResourceId>'\n          }\n        ]\n      }\n      kind: 'Windows'\n      streamDeclarations: {\n        'Custom-CustomTableBasic_CL': {\n          columns: [\n            {\n              name: 'TimeGenerated'\n              type: 'datetime'\n            }\n            {\n              name: 'RawData'\n              type: 'string'\n            }\n          ]\n        }\n      }\n    }\n    name: 'idcrmax001'\n    // Non-required parameters\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: false\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    roleAssignments: [\n      {\n        name: '89a4d6fa-defb-4099-9196-173d94b91d67'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      'hidden-title': 'This is visible in the resource name'\n      kind: 'Windows'\n      resourceType: 'Data Collection Rules'\n    }\n  }", "bicep": "module dataCollectionRule 'br/public:avm/res/insights/data-collection-rule:0.8' = {\n  name: 'dataCollectionRuleDeployment'\n  params: {\n    // Required parameters\n    dataCollectionRuleProperties: {\n      dataCollectionEndpointResourceId: '<dataCollectionEndpointResourceId>'\n      dataFlows: [\n        {\n          destinations: [\n            '<logAnalyticsWorkspaceName>'\n          ]\n          outputStream: 'Custom-CustomTableBasic_CL'\n          streams: [\n            'Custom-CustomTableBasic_CL'\n          ]\n          transformKql: 'source'\n        }\n      ]\n      dataSources: {\n        logFiles: [\n          {\n            filePatterns: [\n              'C:\\\\TestLogsBasic\\\\TestLog*.log'\n            ]\n            format: 'text'\n            name: 'CustomTableBasic_CL'\n            samplingFrequencyInSeconds: 60\n            settings: {\n              text: {\n                recordStartTimestampFormat: 'ISO 8601'\n              }\n            }\n            streams: [\n              'Custom-CustomTableBasic_CL'\n            ]\n          }\n        ]\n      }\n      description: 'Collecting custom text logs without ingestion-time transformation.'\n      destinations: {\n        logAnalytics: [\n          {\n            name: '<name>'\n            workspaceResourceId: '<workspaceResourceId>'\n          }\n        ]\n      }\n      kind: 'Windows'\n      streamDeclarations: {\n        'Custom-CustomTableBasic_CL': {\n          columns: [\n            {\n              name: 'TimeGenerated'\n              type: 'datetime'\n            }\n            {\n              name: 'RawData'\n              type: 'string'\n            }\n          ]\n        }\n      }\n    }\n    name: 'idcrmax001'\n    // Non-required parameters\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: false\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    roleAssignments: [\n      {\n        name: '89a4d6fa-defb-4099-9196-173d94b91d67'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      'hidden-title': 'This is visible in the resource name'\n      kind: 'Windows'\n      resourceType: 'Data Collection Rules'\n    }\n  }\n}"}
{"id": "avm_res_insights_data-collection-rule_example_9", "source": "avm/res/insights/data-collection-rule/README.md", "content_to_embed": "Recommended AVM Module for Data Collection Rules: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Insights/dataCollectionRules\nModule ID: br/public:avm/res/insights/data-collection-rule:0.8\nParameters:\nparams: {\n    // Required parameters\n    dataCollectionRuleProperties: {\n      dataFlows: [\n        {\n          destinations: [\n            'azureMonitorMetrics-default'\n          ]\n          streams: [\n            'Microsoft-InsightsMetrics'\n          ]\n        }\n        {\n          destinations: [\n            '<logAnalyticsWorkspaceName>'\n          ]\n          streams: [\n            'Microsoft-Event'\n          ]\n        }\n      ]\n      dataSources: {\n        performanceCounters: [\n          {\n            counterSpecifiers: [\n              '\\\\LogicalDisk(_Total)\\\\% Disk Read Time'\n              '\\\\LogicalDisk(_Total)\\\\% Disk Time'\n              '\\\\LogicalDisk(_Total)\\\\% Disk Write Time'\n              '\\\\LogicalDisk(_Total)\\\\% Free Space'\n              '\\\\LogicalDisk(_Total)\\\\% Idle Time'\n              '\\\\LogicalDisk(_Total)\\\\Avg. Disk Queue Length'\n              '\\\\LogicalDisk(_Total)\\\\Avg. Disk Read Queue Length'\n              '\\\\LogicalDisk(_Total)\\\\Avg. Disk sec/Read'\n              '\\\\LogicalDisk(_Total)\\\\Avg. Disk sec/Transfer'\n              '\\\\LogicalDisk(_Total)\\\\Avg. Disk sec/Write'\n              '\\\\LogicalDisk(_Total)\\\\Avg. Disk Write Queue Length'\n              '\\\\LogicalDisk(_Total)\\\\Disk Bytes/sec'\n              '\\\\LogicalDisk(_Total)\\\\Disk Read Bytes/sec'\n              '\\\\LogicalDisk(_Total)\\\\Disk Reads/sec'\n              '\\\\LogicalDisk(_Total)\\\\Disk Transfers/sec'\n              '\\\\LogicalDisk(_Total)\\\\Disk Write Bytes/sec'\n              '\\\\LogicalDisk(_Total)\\\\Disk Writes/sec'\n              '\\\\LogicalDisk(_Total)\\\\Free Megabytes'\n              '\\\\Memory\\\\% Committed Bytes In Use'\n              '\\\\Memory\\\\Available Bytes'\n              '\\\\Memory\\\\Cache Bytes'\n              '\\\\Memory\\\\Committed Bytes'\n              '\\\\Memory\\\\Page Faults/sec'\n              '\\\\Memory\\\\Pages/sec'\n              '\\\\Memory\\\\Pool Nonpaged Bytes'\n              '\\\\Memory\\\\Pool Paged Bytes'\n              '\\\\Network Interface(*)\\\\Bytes Received/sec'\n              '\\\\Network Interface(*)\\\\Bytes Sent/sec'\n              '\\\\Network Interface(*)\\\\Bytes Total/sec'\n              '\\\\Network Interface(*)\\\\Packets Outbound Errors'\n              '\\\\Network Interface(*)\\\\Packets Received Errors'\n              '\\\\Network Interface(*)\\\\Packets Received/sec'\n              '\\\\Network Interface(*)\\\\Packets Sent/sec'\n              '\\\\Network Interface(*)\\\\Packets/sec'\n              '\\\\Process(_Total)\\\\Handle Count'\n              '\\\\Process(_Total)\\\\Thread Count'\n              '\\\\Process(_Total)\\\\Working Set'\n              '\\\\Process(_Total)\\\\Working Set - Private'\n              '\\\\Processor Information(_Total)\\\\% Privileged Time'\n              '\\\\Processor Information(_Total)\\\\% Processor Time'\n              '\\\\Processor Information(_Total)\\\\% User Time'\n              '\\\\Processor Information(_Total)\\\\Processor Frequency'\n              '\\\\System\\\\Context Switches/sec'\n              '\\\\System\\\\Processes'\n              '\\\\System\\\\Processor Queue Length'\n              '\\\\System\\\\System Up Time'\n            ]\n            name: 'perfCounterDataSource60'\n            samplingFrequencyInSeconds: 60\n            streams: [\n              'Microsoft-InsightsMetrics'\n            ]\n          }\n        ]\n        windowsEventLogs: [\n          {\n            name: 'eventLogsDataSource'\n            streams: [\n              'Microsoft-Event'\n            ]\n            xPathQueries: [\n              'Application!*[System[(Level=1 or Level=2 or Level=3 or Level=4 or Level=0 or Level=5)]]'\n              'Security!*[System[(band(Keywords,13510798882111488))]]'\n              'System!*[System[(Level=1 or Level=2 or Level=3 or Level=4 or Level=0 or Level=5)]]'\n            ]\n          }\n        ]\n      }\n      description: 'Collecting Windows-specific performance counters and Windows Event Logs'\n      destinations: {\n        azureMonitorMetrics: {\n          name: 'azureMonitorMetrics-default'\n        }\n        logAnalytics: [\n          {\n            name: '<name>'\n            workspaceResourceId: '<workspaceResourceId>'\n          }\n        ]\n      }\n      kind: 'Windows'\n    }\n    name: 'idcrwaf001'\n    // Non-required parameters\n    location: '<location>'\n    tags: {\n      'hidden-title': 'This is visible in the resource name'\n      kind: 'Windows'\n      resourceType: 'Data Collection Rules'\n    }\n  }", "bicep": "module dataCollectionRule 'br/public:avm/res/insights/data-collection-rule:0.8' = {\n  name: 'dataCollectionRuleDeployment'\n  params: {\n    // Required parameters\n    dataCollectionRuleProperties: {\n      dataFlows: [\n        {\n          destinations: [\n            'azureMonitorMetrics-default'\n          ]\n          streams: [\n            'Microsoft-InsightsMetrics'\n          ]\n        }\n        {\n          destinations: [\n            '<logAnalyticsWorkspaceName>'\n          ]\n          streams: [\n            'Microsoft-Event'\n          ]\n        }\n      ]\n      dataSources: {\n        performanceCounters: [\n          {\n            counterSpecifiers: [\n              '\\\\LogicalDisk(_Total)\\\\% Disk Read Time'\n              '\\\\LogicalDisk(_Total)\\\\% Disk Time'\n              '\\\\LogicalDisk(_Total)\\\\% Disk Write Time'\n              '\\\\LogicalDisk(_Total)\\\\% Free Space'\n              '\\\\LogicalDisk(_Total)\\\\% Idle Time'\n              '\\\\LogicalDisk(_Total)\\\\Avg. Disk Queue Length'\n              '\\\\LogicalDisk(_Total)\\\\Avg. Disk Read Queue Length'\n              '\\\\LogicalDisk(_Total)\\\\Avg. Disk sec/Read'\n              '\\\\LogicalDisk(_Total)\\\\Avg. Disk sec/Transfer'\n              '\\\\LogicalDisk(_Total)\\\\Avg. Disk sec/Write'\n              '\\\\LogicalDisk(_Total)\\\\Avg. Disk Write Queue Length'\n              '\\\\LogicalDisk(_Total)\\\\Disk Bytes/sec'\n              '\\\\LogicalDisk(_Total)\\\\Disk Read Bytes/sec'\n              '\\\\LogicalDisk(_Total)\\\\Disk Reads/sec'\n              '\\\\LogicalDisk(_Total)\\\\Disk Transfers/sec'\n              '\\\\LogicalDisk(_Total)\\\\Disk Write Bytes/sec'\n              '\\\\LogicalDisk(_Total)\\\\Disk Writes/sec'\n              '\\\\LogicalDisk(_Total)\\\\Free Megabytes'\n              '\\\\Memory\\\\% Committed Bytes In Use'\n              '\\\\Memory\\\\Available Bytes'\n              '\\\\Memory\\\\Cache Bytes'\n              '\\\\Memory\\\\Committed Bytes'\n              '\\\\Memory\\\\Page Faults/sec'\n              '\\\\Memory\\\\Pages/sec'\n              '\\\\Memory\\\\Pool Nonpaged Bytes'\n              '\\\\Memory\\\\Pool Paged Bytes'\n              '\\\\Network Interface(*)\\\\Bytes Received/sec'\n              '\\\\Network Interface(*)\\\\Bytes Sent/sec'\n              '\\\\Network Interface(*)\\\\Bytes Total/sec'\n              '\\\\Network Interface(*)\\\\Packets Outbound Errors'\n              '\\\\Network Interface(*)\\\\Packets Received Errors'\n              '\\\\Network Interface(*)\\\\Packets Received/sec'\n              '\\\\Network Interface(*)\\\\Packets Sent/sec'\n              '\\\\Network Interface(*)\\\\Packets/sec'\n              '\\\\Process(_Total)\\\\Handle Count'\n              '\\\\Process(_Total)\\\\Thread Count'\n              '\\\\Process(_Total)\\\\Working Set'\n              '\\\\Process(_Total)\\\\Working Set - Private'\n              '\\\\Processor Information(_Total)\\\\% Privileged Time'\n              '\\\\Processor Information(_Total)\\\\% Processor Time'\n              '\\\\Processor Information(_Total)\\\\% User Time'\n              '\\\\Processor Information(_Total)\\\\Processor Frequency'\n              '\\\\System\\\\Context Switches/sec'\n              '\\\\System\\\\Processes'\n              '\\\\System\\\\Processor Queue Length'\n              '\\\\System\\\\System Up Time'\n            ]\n            name: 'perfCounterDataSource60'\n            samplingFrequencyInSeconds: 60\n            streams: [\n              'Microsoft-InsightsMetrics'\n            ]\n          }\n        ]\n        windowsEventLogs: [\n          {\n            name: 'eventLogsDataSource'\n            streams: [\n              'Microsoft-Event'\n            ]\n            xPathQueries: [\n              'Application!*[System[(Level=1 or Level=2 or Level=3 or Level=4 or Level=0 or Level=5)]]'\n              'Security!*[System[(band(Keywords,13510798882111488))]]'\n              'System!*[System[(Level=1 or Level=2 or Level=3 or Level=4 or Level=0 or Level=5)]]'\n            ]\n          }\n        ]\n      }\n      description: 'Collecting Windows-specific performance counters and Windows Event Logs'\n      destinations: {\n        azureMonitorMetrics: {\n          name: 'azureMonitorMetrics-default'\n        }\n        logAnalytics: [\n          {\n            name: '<name>'\n            workspaceResourceId: '<workspaceResourceId>'\n          }\n        ]\n      }\n      kind: 'Windows'\n    }\n    name: 'idcrwaf001'\n    // Non-required parameters\n    location: '<location>'\n    tags: {\n      'hidden-title': 'This is visible in the resource name'\n      kind: 'Windows'\n      resourceType: 'Data Collection Rules'\n    }\n  }\n}"}
{"id": "avm_res_insights_data-collection-rule_example_10", "source": "avm/res/insights/data-collection-rule/README.md", "content_to_embed": "Recommended AVM Module for Data Collection Rules: Collecting Windows-specific information - This instance deploys the module to setup the connection of Windows-specific performance counters and Windows Event Logs.\nResource Type Path: Microsoft.Insights/dataCollectionRules\nModule ID: br/public:avm/res/insights/data-collection-rule:0.8\nParameters:\nparams: {\n    // Required parameters\n    dataCollectionRuleProperties: {\n      dataFlows: [\n        {\n          destinations: [\n            'azureMonitorMetrics-default'\n          ]\n          streams: [\n            'Microsoft-InsightsMetrics'\n          ]\n        }\n        {\n          destinations: [\n            '<logAnalyticsWorkspaceName>'\n          ]\n          streams: [\n            'Microsoft-Event'\n          ]\n        }\n      ]\n      dataSources: {\n        performanceCounters: [\n          {\n            counterSpecifiers: [\n              '\\\\LogicalDisk(_Total)\\\\% Disk Read Time'\n              '\\\\LogicalDisk(_Total)\\\\% Disk Time'\n              '\\\\LogicalDisk(_Total)\\\\% Disk Write Time'\n              '\\\\LogicalDisk(_Total)\\\\% Free Space'\n              '\\\\LogicalDisk(_Total)\\\\% Idle Time'\n              '\\\\LogicalDisk(_Total)\\\\Avg. Disk Queue Length'\n              '\\\\LogicalDisk(_Total)\\\\Avg. Disk Read Queue Length'\n              '\\\\LogicalDisk(_Total)\\\\Avg. Disk sec/Read'\n              '\\\\LogicalDisk(_Total)\\\\Avg. Disk sec/Transfer'\n              '\\\\LogicalDisk(_Total)\\\\Avg. Disk sec/Write'\n              '\\\\LogicalDisk(_Total)\\\\Avg. Disk Write Queue Length'\n              '\\\\LogicalDisk(_Total)\\\\Disk Bytes/sec'\n              '\\\\LogicalDisk(_Total)\\\\Disk Read Bytes/sec'\n              '\\\\LogicalDisk(_Total)\\\\Disk Reads/sec'\n              '\\\\LogicalDisk(_Total)\\\\Disk Transfers/sec'\n              '\\\\LogicalDisk(_Total)\\\\Disk Write Bytes/sec'\n              '\\\\LogicalDisk(_Total)\\\\Disk Writes/sec'\n              '\\\\LogicalDisk(_Total)\\\\Free Megabytes'\n              '\\\\Memory\\\\% Committed Bytes In Use'\n              '\\\\Memory\\\\Available Bytes'\n              '\\\\Memory\\\\Cache Bytes'\n              '\\\\Memory\\\\Committed Bytes'\n              '\\\\Memory\\\\Page Faults/sec'\n              '\\\\Memory\\\\Pages/sec'\n              '\\\\Memory\\\\Pool Nonpaged Bytes'\n              '\\\\Memory\\\\Pool Paged Bytes'\n              '\\\\Network Interface(*)\\\\Bytes Received/sec'\n              '\\\\Network Interface(*)\\\\Bytes Sent/sec'\n              '\\\\Network Interface(*)\\\\Bytes Total/sec'\n              '\\\\Network Interface(*)\\\\Packets Outbound Errors'\n              '\\\\Network Interface(*)\\\\Packets Received Errors'\n              '\\\\Network Interface(*)\\\\Packets Received/sec'\n              '\\\\Network Interface(*)\\\\Packets Sent/sec'\n              '\\\\Network Interface(*)\\\\Packets/sec'\n              '\\\\Process(_Total)\\\\Handle Count'\n              '\\\\Process(_Total)\\\\Thread Count'\n              '\\\\Process(_Total)\\\\Working Set'\n              '\\\\Process(_Total)\\\\Working Set - Private'\n              '\\\\Processor Information(_Total)\\\\% Privileged Time'\n              '\\\\Processor Information(_Total)\\\\% Processor Time'\n              '\\\\Processor Information(_Total)\\\\% User Time'\n              '\\\\Processor Information(_Total)\\\\Processor Frequency'\n              '\\\\System\\\\Context Switches/sec'\n              '\\\\System\\\\Processes'\n              '\\\\System\\\\Processor Queue Length'\n              '\\\\System\\\\System Up Time'\n            ]\n            name: 'perfCounterDataSource60'\n            samplingFrequencyInSeconds: 60\n            streams: [\n              'Microsoft-InsightsMetrics'\n            ]\n          }\n        ]\n        windowsEventLogs: [\n          {\n            name: 'eventLogsDataSource'\n            streams: [\n              'Microsoft-Event'\n            ]\n            xPathQueries: [\n              'Application!*[System[(Level=1 or Level=2 or Level=3 or Level=4 or Level=0 or Level=5)]]'\n              'Security!*[System[(band(Keywords,13510798882111488))]]'\n              'System!*[System[(Level=1 or Level=2 or Level=3 or Level=4 or Level=0 or Level=5)]]'\n            ]\n          }\n        ]\n      }\n      description: 'Collecting Windows-specific performance counters and Windows Event Logs'\n      destinations: {\n        azureMonitorMetrics: {\n          name: 'azureMonitorMetrics-default'\n        }\n        logAnalytics: [\n          {\n            name: '<name>'\n            workspaceResourceId: '<workspaceResourceId>'\n          }\n        ]\n      }\n      kind: 'Windows'\n    }\n    name: 'idcrwin001'\n    // Non-required parameters\n    location: '<location>'\n    tags: {\n      'hidden-title': 'This is visible in the resource name'\n      kind: 'Windows'\n      resourceType: 'Data Collection Rules'\n    }\n  }", "bicep": "module dataCollectionRule 'br/public:avm/res/insights/data-collection-rule:0.8' = {\n  name: 'dataCollectionRuleDeployment'\n  params: {\n    // Required parameters\n    dataCollectionRuleProperties: {\n      dataFlows: [\n        {\n          destinations: [\n            'azureMonitorMetrics-default'\n          ]\n          streams: [\n            'Microsoft-InsightsMetrics'\n          ]\n        }\n        {\n          destinations: [\n            '<logAnalyticsWorkspaceName>'\n          ]\n          streams: [\n            'Microsoft-Event'\n          ]\n        }\n      ]\n      dataSources: {\n        performanceCounters: [\n          {\n            counterSpecifiers: [\n              '\\\\LogicalDisk(_Total)\\\\% Disk Read Time'\n              '\\\\LogicalDisk(_Total)\\\\% Disk Time'\n              '\\\\LogicalDisk(_Total)\\\\% Disk Write Time'\n              '\\\\LogicalDisk(_Total)\\\\% Free Space'\n              '\\\\LogicalDisk(_Total)\\\\% Idle Time'\n              '\\\\LogicalDisk(_Total)\\\\Avg. Disk Queue Length'\n              '\\\\LogicalDisk(_Total)\\\\Avg. Disk Read Queue Length'\n              '\\\\LogicalDisk(_Total)\\\\Avg. Disk sec/Read'\n              '\\\\LogicalDisk(_Total)\\\\Avg. Disk sec/Transfer'\n              '\\\\LogicalDisk(_Total)\\\\Avg. Disk sec/Write'\n              '\\\\LogicalDisk(_Total)\\\\Avg. Disk Write Queue Length'\n              '\\\\LogicalDisk(_Total)\\\\Disk Bytes/sec'\n              '\\\\LogicalDisk(_Total)\\\\Disk Read Bytes/sec'\n              '\\\\LogicalDisk(_Total)\\\\Disk Reads/sec'\n              '\\\\LogicalDisk(_Total)\\\\Disk Transfers/sec'\n              '\\\\LogicalDisk(_Total)\\\\Disk Write Bytes/sec'\n              '\\\\LogicalDisk(_Total)\\\\Disk Writes/sec'\n              '\\\\LogicalDisk(_Total)\\\\Free Megabytes'\n              '\\\\Memory\\\\% Committed Bytes In Use'\n              '\\\\Memory\\\\Available Bytes'\n              '\\\\Memory\\\\Cache Bytes'\n              '\\\\Memory\\\\Committed Bytes'\n              '\\\\Memory\\\\Page Faults/sec'\n              '\\\\Memory\\\\Pages/sec'\n              '\\\\Memory\\\\Pool Nonpaged Bytes'\n              '\\\\Memory\\\\Pool Paged Bytes'\n              '\\\\Network Interface(*)\\\\Bytes Received/sec'\n              '\\\\Network Interface(*)\\\\Bytes Sent/sec'\n              '\\\\Network Interface(*)\\\\Bytes Total/sec'\n              '\\\\Network Interface(*)\\\\Packets Outbound Errors'\n              '\\\\Network Interface(*)\\\\Packets Received Errors'\n              '\\\\Network Interface(*)\\\\Packets Received/sec'\n              '\\\\Network Interface(*)\\\\Packets Sent/sec'\n              '\\\\Network Interface(*)\\\\Packets/sec'\n              '\\\\Process(_Total)\\\\Handle Count'\n              '\\\\Process(_Total)\\\\Thread Count'\n              '\\\\Process(_Total)\\\\Working Set'\n              '\\\\Process(_Total)\\\\Working Set - Private'\n              '\\\\Processor Information(_Total)\\\\% Privileged Time'\n              '\\\\Processor Information(_Total)\\\\% Processor Time'\n              '\\\\Processor Information(_Total)\\\\% User Time'\n              '\\\\Processor Information(_Total)\\\\Processor Frequency'\n              '\\\\System\\\\Context Switches/sec'\n              '\\\\System\\\\Processes'\n              '\\\\System\\\\Processor Queue Length'\n              '\\\\System\\\\System Up Time'\n            ]\n            name: 'perfCounterDataSource60'\n            samplingFrequencyInSeconds: 60\n            streams: [\n              'Microsoft-InsightsMetrics'\n            ]\n          }\n        ]\n        windowsEventLogs: [\n          {\n            name: 'eventLogsDataSource'\n            streams: [\n              'Microsoft-Event'\n            ]\n            xPathQueries: [\n              'Application!*[System[(Level=1 or Level=2 or Level=3 or Level=4 or Level=0 or Level=5)]]'\n              'Security!*[System[(band(Keywords,13510798882111488))]]'\n              'System!*[System[(Level=1 or Level=2 or Level=3 or Level=4 or Level=0 or Level=5)]]'\n            ]\n          }\n        ]\n      }\n      description: 'Collecting Windows-specific performance counters and Windows Event Logs'\n      destinations: {\n        azureMonitorMetrics: {\n          name: 'azureMonitorMetrics-default'\n        }\n        logAnalytics: [\n          {\n            name: '<name>'\n            workspaceResourceId: '<workspaceResourceId>'\n          }\n        ]\n      }\n      kind: 'Windows'\n    }\n    name: 'idcrwin001'\n    // Non-required parameters\n    location: '<location>'\n    tags: {\n      'hidden-title': 'This is visible in the resource name'\n      kind: 'Windows'\n      resourceType: 'Data Collection Rules'\n    }\n  }\n}"}
{"id": "avm_res_insights_diagnostic-setting_example_1", "source": "avm/res/insights/diagnostic-setting/README.md", "content_to_embed": "Recommended AVM Module for Diagnostic Settings (Activity Logs) for Azure Subscriptions: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Insights/diagnosticSettings\nModule ID: br/public:avm/res/insights/diagnostic-setting:0.1\nParameters:\nparams: {\n    location: '<location>'\n    name: 'idsmin001'\n    workspaceResourceId: '<workspaceResourceId>'\n  }", "bicep": "module diagnosticSetting 'br/public:avm/res/insights/diagnostic-setting:0.1' = {\n  name: 'diagnosticSettingDeployment'\n  params: {\n    location: '<location>'\n    name: 'idsmin001'\n    workspaceResourceId: '<workspaceResourceId>'\n  }\n}"}
{"id": "avm_res_insights_diagnostic-setting_example_2", "source": "avm/res/insights/diagnostic-setting/README.md", "content_to_embed": "Recommended AVM Module for Diagnostic Settings (Activity Logs) for Azure Subscriptions: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Insights/diagnosticSettings\nModule ID: br/public:avm/res/insights/diagnostic-setting:0.1\nParameters:\nparams: {\n    eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n    eventHubName: '<eventHubName>'\n    location: '<location>'\n    metricCategories: [\n      {\n        category: 'AllMetrics'\n      }\n    ]\n    name: 'idsmax001'\n    storageAccountResourceId: '<storageAccountResourceId>'\n    workspaceResourceId: '<workspaceResourceId>'\n  }", "bicep": "module diagnosticSetting 'br/public:avm/res/insights/diagnostic-setting:0.1' = {\n  name: 'diagnosticSettingDeployment'\n  params: {\n    eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n    eventHubName: '<eventHubName>'\n    location: '<location>'\n    metricCategories: [\n      {\n        category: 'AllMetrics'\n      }\n    ]\n    name: 'idsmax001'\n    storageAccountResourceId: '<storageAccountResourceId>'\n    workspaceResourceId: '<workspaceResourceId>'\n  }\n}"}
{"id": "avm_res_insights_diagnostic-setting_example_3", "source": "avm/res/insights/diagnostic-setting/README.md", "content_to_embed": "Recommended AVM Module for Diagnostic Settings (Activity Logs) for Azure Subscriptions: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Insights/diagnosticSettings\nModule ID: br/public:avm/res/insights/diagnostic-setting:0.1\nParameters:\nparams: {\n    eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n    eventHubName: '<eventHubName>'\n    location: '<location>'\n    metricCategories: [\n      {\n        category: 'AllMetrics'\n      }\n    ]\n    name: 'idswaf001'\n    storageAccountResourceId: '<storageAccountResourceId>'\n    workspaceResourceId: '<workspaceResourceId>'\n  }", "bicep": "module diagnosticSetting 'br/public:avm/res/insights/diagnostic-setting:0.1' = {\n  name: 'diagnosticSettingDeployment'\n  params: {\n    eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n    eventHubName: '<eventHubName>'\n    location: '<location>'\n    metricCategories: [\n      {\n        category: 'AllMetrics'\n      }\n    ]\n    name: 'idswaf001'\n    storageAccountResourceId: '<storageAccountResourceId>'\n    workspaceResourceId: '<workspaceResourceId>'\n  }\n}"}
{"id": "avm_res_insights_metric-alert_example_1", "source": "avm/res/insights/metric-alert/README.md", "content_to_embed": "Recommended AVM Module for Metric Alerts: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Insights/metricAlerts\nModule ID: br/public:avm/res/insights/metric-alert:0.4\nParameters:\nparams: {\n    // Required parameters\n    criteria: {\n      allof: [\n        {\n          criterionType: 'StaticThresholdCriterion'\n          dimensions: []\n          metricName: 'Percentage CPU'\n          name: '1st criterion'\n          operator: 'GreaterThan'\n          threshold: 80\n          timeAggregation: 'Average'\n        }\n      ]\n      'odata.type': 'Microsoft.Azure.Monitor.SingleResourceMultipleMetricCriteria'\n    }\n    name: 'imamin001'\n    // Non-required parameters\n    scopes: [\n      '<virtualMachineResourceId>'\n    ]\n  }", "bicep": "module metricAlert 'br/public:avm/res/insights/metric-alert:0.4' = {\n  name: 'metricAlertDeployment'\n  params: {\n    // Required parameters\n    criteria: {\n      allof: [\n        {\n          criterionType: 'StaticThresholdCriterion'\n          dimensions: []\n          metricName: 'Percentage CPU'\n          name: '1st criterion'\n          operator: 'GreaterThan'\n          threshold: 80\n          timeAggregation: 'Average'\n        }\n      ]\n      'odata.type': 'Microsoft.Azure.Monitor.SingleResourceMultipleMetricCriteria'\n    }\n    name: 'imamin001'\n    // Non-required parameters\n    scopes: [\n      '<virtualMachineResourceId>'\n    ]\n  }\n}"}
{"id": "avm_res_insights_metric-alert_example_2", "source": "avm/res/insights/metric-alert/README.md", "content_to_embed": "Recommended AVM Module for Metric Alerts: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Insights/metricAlerts\nModule ID: br/public:avm/res/insights/metric-alert:0.4\nParameters:\nparams: {\n    // Required parameters\n    criteria: {\n      allof: [\n        {\n          criterionType: 'StaticThresholdCriterion'\n          metricName: 'Percentage CPU'\n          metricNamespace: 'microsoft.compute/virtualmachines'\n          name: 'HighCPU'\n          operator: 'GreaterThan'\n          threshold: '90'\n          timeAggregation: 'Average'\n        }\n      ]\n      'odata.type': 'Microsoft.Azure.Monitor.MultipleResourceMultipleMetricCriteria'\n    }\n    name: 'imamax001'\n    // Non-required parameters\n    actions: [\n      '<actionGroupResourceId>'\n    ]\n    location: 'Global'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    roleAssignments: [\n      {\n        name: '3ab52119-85d9-4374-a454-2410b84f19f9'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    targetResourceRegion: 'westeurope'\n    targetResourceType: 'microsoft.compute/virtualmachines'\n    windowSize: 'PT15M'\n  }", "bicep": "module metricAlert 'br/public:avm/res/insights/metric-alert:0.4' = {\n  name: 'metricAlertDeployment'\n  params: {\n    // Required parameters\n    criteria: {\n      allof: [\n        {\n          criterionType: 'StaticThresholdCriterion'\n          metricName: 'Percentage CPU'\n          metricNamespace: 'microsoft.compute/virtualmachines'\n          name: 'HighCPU'\n          operator: 'GreaterThan'\n          threshold: '90'\n          timeAggregation: 'Average'\n        }\n      ]\n      'odata.type': 'Microsoft.Azure.Monitor.MultipleResourceMultipleMetricCriteria'\n    }\n    name: 'imamax001'\n    // Non-required parameters\n    actions: [\n      '<actionGroupResourceId>'\n    ]\n    location: 'Global'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    roleAssignments: [\n      {\n        name: '3ab52119-85d9-4374-a454-2410b84f19f9'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    targetResourceRegion: 'westeurope'\n    targetResourceType: 'microsoft.compute/virtualmachines'\n    windowSize: 'PT15M'\n  }\n}"}
{"id": "avm_res_insights_metric-alert_example_3", "source": "avm/res/insights/metric-alert/README.md", "content_to_embed": "Recommended AVM Module for Metric Alerts: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Insights/metricAlerts\nModule ID: br/public:avm/res/insights/metric-alert:0.4\nParameters:\nparams: {\n    // Required parameters\n    criteria: {\n      componentResourceId: '<componentResourceId>'\n      failedLocationCount: 3\n      'odata.type': 'Microsoft.Azure.Monitor.WebtestLocationAvailabilityCriteria'\n      webTestResourceId: '<webTestResourceId>'\n    }\n    name: 'imawaf001'\n    // Non-required parameters\n    actions: [\n      '<actionGroupResourceId>'\n    ]\n    evaluationFrequency: 'PT5M'\n    scopes: [\n      '<appInsightsResourceId>'\n      '<pingTestResourceId>'\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    windowSize: 'PT5M'\n  }", "bicep": "module metricAlert 'br/public:avm/res/insights/metric-alert:0.4' = {\n  name: 'metricAlertDeployment'\n  params: {\n    // Required parameters\n    criteria: {\n      componentResourceId: '<componentResourceId>'\n      failedLocationCount: 3\n      'odata.type': 'Microsoft.Azure.Monitor.WebtestLocationAvailabilityCriteria'\n      webTestResourceId: '<webTestResourceId>'\n    }\n    name: 'imawaf001'\n    // Non-required parameters\n    actions: [\n      '<actionGroupResourceId>'\n    ]\n    evaluationFrequency: 'PT5M'\n    scopes: [\n      '<appInsightsResourceId>'\n      '<pingTestResourceId>'\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    windowSize: 'PT5M'\n  }\n}"}
{"id": "avm_res_insights_private-link-scope_example_1", "source": "avm/res/insights/private-link-scope/README.md", "content_to_embed": "Recommended AVM Module for Azure Monitor Private Link Scopes: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: microsoft.insights/privateLinkScopes\nModule ID: br/public:avm/res/insights/private-link-scope:0.7\nParameters:\nparams: {\n    // Required parameters\n    name: 'iplsmin001'\n    // Non-required parameters\n    location: 'global'\n  }", "bicep": "module privateLinkScope 'br/public:avm/res/insights/private-link-scope:0.7' = {\n  name: 'privateLinkScopeDeployment'\n  params: {\n    // Required parameters\n    name: 'iplsmin001'\n    // Non-required parameters\n    location: 'global'\n  }\n}"}
{"id": "avm_res_insights_private-link-scope_example_2", "source": "avm/res/insights/private-link-scope/README.md", "content_to_embed": "Recommended AVM Module for Azure Monitor Private Link Scopes: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: microsoft.insights/privateLinkScopes\nModule ID: br/public:avm/res/insights/private-link-scope:0.7\nParameters:\nparams: {\n    // Required parameters\n    name: 'iplsmax001'\n    // Non-required parameters\n    accessModeSettings: {\n      exclusions: [\n        {\n          ingestionAccessMode: 'PrivateOnly'\n          privateEndpointConnectionName: 'thisisatest'\n          queryAccessMode: 'PrivateOnly'\n        }\n      ]\n      ingestionAccessMode: 'Open'\n      queryAccessMode: 'Open'\n    }\n    location: 'global'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    privateEndpoints: [\n      {\n        customNetworkInterfaceName: 'nic-pe-'\n        ipConfigurations: [\n          {\n            name: 'api'\n            properties: {\n              groupId: 'azuremonitor'\n              memberName: 'api'\n              privateIPAddress: '10.0.0.11'\n            }\n          }\n          {\n            name: 'globalinai'\n            properties: {\n              groupId: 'azuremonitor'\n              memberName: 'global.in.ai'\n              privateIPAddress: '10.0.0.12'\n            }\n          }\n          {\n            name: 'profiler'\n            properties: {\n              groupId: 'azuremonitor'\n              memberName: 'profiler'\n              privateIPAddress: '10.0.0.13'\n            }\n          }\n          {\n            name: 'live'\n            properties: {\n              groupId: 'azuremonitor'\n              memberName: 'live'\n              privateIPAddress: '10.0.0.14'\n            }\n          }\n          {\n            name: 'diagservicesquery'\n            properties: {\n              groupId: 'azuremonitor'\n              memberName: 'diagservicesquery'\n              privateIPAddress: '10.0.0.15'\n            }\n          }\n          {\n            name: 'snapshot'\n            properties: {\n              groupId: 'azuremonitor'\n              memberName: 'snapshot'\n              privateIPAddress: '10.0.0.16'\n            }\n          }\n          {\n            name: 'agentsolutionpackstore'\n            properties: {\n              groupId: 'azuremonitor'\n              memberName: 'agentsolutionpackstore'\n              privateIPAddress: '10.0.0.17'\n            }\n          }\n          {\n            name: 'dce-global'\n            properties: {\n              groupId: 'azuremonitor'\n              memberName: 'dce-global'\n              privateIPAddress: '10.0.0.18'\n            }\n          }\n          {\n            name: '<name>'\n            properties: {\n              groupId: 'azuremonitor'\n              memberName: '<memberName>'\n              privateIPAddress: '10.0.0.19'\n            }\n          }\n          {\n            name: '<name>'\n            properties: {\n              groupId: 'azuremonitor'\n              memberName: '<memberName>'\n              privateIPAddress: '10.0.0.20'\n            }\n          }\n          {\n            name: '<name>'\n            properties: {\n              groupId: 'azuremonitor'\n              memberName: '<memberName>'\n              privateIPAddress: '10.0.0.21'\n            }\n          }\n        ]\n        name: 'pe-'\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Reader'\n          }\n        ]\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n    ]\n    roleAssignments: [\n      {\n        name: 'af62023f-9f34-4bc0-8f05-2374886daf28'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    scopedResources: [\n      {\n        linkedResourceId: '<linkedResourceId>'\n        name: 'scoped1'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module privateLinkScope 'br/public:avm/res/insights/private-link-scope:0.7' = {\n  name: 'privateLinkScopeDeployment'\n  params: {\n    // Required parameters\n    name: 'iplsmax001'\n    // Non-required parameters\n    accessModeSettings: {\n      exclusions: [\n        {\n          ingestionAccessMode: 'PrivateOnly'\n          privateEndpointConnectionName: 'thisisatest'\n          queryAccessMode: 'PrivateOnly'\n        }\n      ]\n      ingestionAccessMode: 'Open'\n      queryAccessMode: 'Open'\n    }\n    location: 'global'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    privateEndpoints: [\n      {\n        customNetworkInterfaceName: 'nic-pe-'\n        ipConfigurations: [\n          {\n            name: 'api'\n            properties: {\n              groupId: 'azuremonitor'\n              memberName: 'api'\n              privateIPAddress: '10.0.0.11'\n            }\n          }\n          {\n            name: 'globalinai'\n            properties: {\n              groupId: 'azuremonitor'\n              memberName: 'global.in.ai'\n              privateIPAddress: '10.0.0.12'\n            }\n          }\n          {\n            name: 'profiler'\n            properties: {\n              groupId: 'azuremonitor'\n              memberName: 'profiler'\n              privateIPAddress: '10.0.0.13'\n            }\n          }\n          {\n            name: 'live'\n            properties: {\n              groupId: 'azuremonitor'\n              memberName: 'live'\n              privateIPAddress: '10.0.0.14'\n            }\n          }\n          {\n            name: 'diagservicesquery'\n            properties: {\n              groupId: 'azuremonitor'\n              memberName: 'diagservicesquery'\n              privateIPAddress: '10.0.0.15'\n            }\n          }\n          {\n            name: 'snapshot'\n            properties: {\n              groupId: 'azuremonitor'\n              memberName: 'snapshot'\n              privateIPAddress: '10.0.0.16'\n            }\n          }\n          {\n            name: 'agentsolutionpackstore'\n            properties: {\n              groupId: 'azuremonitor'\n              memberName: 'agentsolutionpackstore'\n              privateIPAddress: '10.0.0.17'\n            }\n          }\n          {\n            name: 'dce-global'\n            properties: {\n              groupId: 'azuremonitor'\n              memberName: 'dce-global'\n              privateIPAddress: '10.0.0.18'\n            }\n          }\n          {\n            name: '<name>'\n            properties: {\n              groupId: 'azuremonitor'\n              memberName: '<memberName>'\n              privateIPAddress: '10.0.0.19'\n            }\n          }\n          {\n            name: '<name>'\n            properties: {\n              groupId: 'azuremonitor'\n              memberName: '<memberName>'\n              privateIPAddress: '10.0.0.20'\n            }\n          }\n          {\n            name: '<name>'\n            properties: {\n              groupId: 'azuremonitor'\n              memberName: '<memberName>'\n              privateIPAddress: '10.0.0.21'\n            }\n          }\n        ]\n        name: 'pe-'\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Reader'\n          }\n        ]\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n    ]\n    roleAssignments: [\n      {\n        name: 'af62023f-9f34-4bc0-8f05-2374886daf28'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    scopedResources: [\n      {\n        linkedResourceId: '<linkedResourceId>'\n        name: 'scoped1'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_insights_private-link-scope_example_3", "source": "avm/res/insights/private-link-scope/README.md", "content_to_embed": "Recommended AVM Module for Azure Monitor Private Link Scopes: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: microsoft.insights/privateLinkScopes\nModule ID: br/public:avm/res/insights/private-link-scope:0.7\nParameters:\nparams: {\n    // Required parameters\n    name: 'iplswaf001'\n    // Non-required parameters\n    location: 'global'\n    privateEndpoints: [\n      {\n        customNetworkInterfaceName: 'nic-pe-'\n        ipConfigurations: [\n          {\n            name: 'api'\n            properties: {\n              groupId: 'azuremonitor'\n              memberName: 'api'\n              privateIPAddress: '10.0.0.11'\n            }\n          }\n          {\n            name: 'globalinai'\n            properties: {\n              groupId: 'azuremonitor'\n              memberName: 'global.in.ai'\n              privateIPAddress: '10.0.0.12'\n            }\n          }\n          {\n            name: 'profiler'\n            properties: {\n              groupId: 'azuremonitor'\n              memberName: 'profiler'\n              privateIPAddress: '10.0.0.13'\n            }\n          }\n          {\n            name: 'live'\n            properties: {\n              groupId: 'azuremonitor'\n              memberName: 'live'\n              privateIPAddress: '10.0.0.14'\n            }\n          }\n          {\n            name: 'diagservicesquery'\n            properties: {\n              groupId: 'azuremonitor'\n              memberName: 'diagservicesquery'\n              privateIPAddress: '10.0.0.15'\n            }\n          }\n          {\n            name: 'snapshot'\n            properties: {\n              groupId: 'azuremonitor'\n              memberName: 'snapshot'\n              privateIPAddress: '10.0.0.16'\n            }\n          }\n          {\n            name: 'agentsolutionpackstore'\n            properties: {\n              groupId: 'azuremonitor'\n              memberName: 'agentsolutionpackstore'\n              privateIPAddress: '10.0.0.17'\n            }\n          }\n          {\n            name: 'dce-global'\n            properties: {\n              groupId: 'azuremonitor'\n              memberName: 'dce-global'\n              privateIPAddress: '10.0.0.18'\n            }\n          }\n          {\n            name: '<name>'\n            properties: {\n              groupId: 'azuremonitor'\n              memberName: '<memberName>'\n              privateIPAddress: '10.0.0.19'\n            }\n          }\n          {\n            name: '<name>'\n            properties: {\n              groupId: 'azuremonitor'\n              memberName: '<memberName>'\n              privateIPAddress: '10.0.0.20'\n            }\n          }\n          {\n            name: '<name>'\n            properties: {\n              groupId: 'azuremonitor'\n              memberName: '<memberName>'\n              privateIPAddress: '10.0.0.21'\n            }\n          }\n        ]\n        name: 'pe-'\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n    ]\n    scopedResources: [\n      {\n        linkedResourceId: '<linkedResourceId>'\n        name: 'scoped1'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module privateLinkScope 'br/public:avm/res/insights/private-link-scope:0.7' = {\n  name: 'privateLinkScopeDeployment'\n  params: {\n    // Required parameters\n    name: 'iplswaf001'\n    // Non-required parameters\n    location: 'global'\n    privateEndpoints: [\n      {\n        customNetworkInterfaceName: 'nic-pe-'\n        ipConfigurations: [\n          {\n            name: 'api'\n            properties: {\n              groupId: 'azuremonitor'\n              memberName: 'api'\n              privateIPAddress: '10.0.0.11'\n            }\n          }\n          {\n            name: 'globalinai'\n            properties: {\n              groupId: 'azuremonitor'\n              memberName: 'global.in.ai'\n              privateIPAddress: '10.0.0.12'\n            }\n          }\n          {\n            name: 'profiler'\n            properties: {\n              groupId: 'azuremonitor'\n              memberName: 'profiler'\n              privateIPAddress: '10.0.0.13'\n            }\n          }\n          {\n            name: 'live'\n            properties: {\n              groupId: 'azuremonitor'\n              memberName: 'live'\n              privateIPAddress: '10.0.0.14'\n            }\n          }\n          {\n            name: 'diagservicesquery'\n            properties: {\n              groupId: 'azuremonitor'\n              memberName: 'diagservicesquery'\n              privateIPAddress: '10.0.0.15'\n            }\n          }\n          {\n            name: 'snapshot'\n            properties: {\n              groupId: 'azuremonitor'\n              memberName: 'snapshot'\n              privateIPAddress: '10.0.0.16'\n            }\n          }\n          {\n            name: 'agentsolutionpackstore'\n            properties: {\n              groupId: 'azuremonitor'\n              memberName: 'agentsolutionpackstore'\n              privateIPAddress: '10.0.0.17'\n            }\n          }\n          {\n            name: 'dce-global'\n            properties: {\n              groupId: 'azuremonitor'\n              memberName: 'dce-global'\n              privateIPAddress: '10.0.0.18'\n            }\n          }\n          {\n            name: '<name>'\n            properties: {\n              groupId: 'azuremonitor'\n              memberName: '<memberName>'\n              privateIPAddress: '10.0.0.19'\n            }\n          }\n          {\n            name: '<name>'\n            properties: {\n              groupId: 'azuremonitor'\n              memberName: '<memberName>'\n              privateIPAddress: '10.0.0.20'\n            }\n          }\n          {\n            name: '<name>'\n            properties: {\n              groupId: 'azuremonitor'\n              memberName: '<memberName>'\n              privateIPAddress: '10.0.0.21'\n            }\n          }\n        ]\n        name: 'pe-'\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n    ]\n    scopedResources: [\n      {\n        linkedResourceId: '<linkedResourceId>'\n        name: 'scoped1'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_insights_scheduled-query-rule_example_1", "source": "avm/res/insights/scheduled-query-rule/README.md", "content_to_embed": "Recommended AVM Module for Scheduled Query Rules: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Insights/scheduledQueryRules\nModule ID: br/public:avm/res/insights/scheduled-query-rule:0.5\nParameters:\nparams: {\n    // Required parameters\n    criterias: {\n      allOf: [\n        {\n          dimensions: [\n            {\n              name: 'Computer'\n              operator: 'Include'\n              values: [\n                '*'\n              ]\n            }\n            {\n              name: 'InstanceName'\n              operator: 'Include'\n              values: [\n                '*'\n              ]\n            }\n          ]\n          metricMeasureColumn: 'AggregatedValue'\n          operator: 'GreaterThan'\n          query: 'Perf | where ObjectName == \\'LogicalDisk\\' | where CounterName == \\'% Free Space\\' | where InstanceName <> \\'HarddiskVolume1\\' and InstanceName <> \\'_Total\\' | summarize AggregatedValue = min(CounterValue) by Computer, InstanceName, bin(TimeGenerated,5m)'\n          threshold: 0\n          timeAggregation: 'Average'\n        }\n      ]\n    }\n    name: 'isqrmin001'\n    scopes: [\n      '<logAnalyticsWorkspaceResourceId>'\n    ]\n    // Non-required parameters\n    evaluationFrequency: 'PT5M'\n    windowSize: 'PT5M'\n  }", "bicep": "module scheduledQueryRule 'br/public:avm/res/insights/scheduled-query-rule:0.5' = {\n  name: 'scheduledQueryRuleDeployment'\n  params: {\n    // Required parameters\n    criterias: {\n      allOf: [\n        {\n          dimensions: [\n            {\n              name: 'Computer'\n              operator: 'Include'\n              values: [\n                '*'\n              ]\n            }\n            {\n              name: 'InstanceName'\n              operator: 'Include'\n              values: [\n                '*'\n              ]\n            }\n          ]\n          metricMeasureColumn: 'AggregatedValue'\n          operator: 'GreaterThan'\n          query: 'Perf | where ObjectName == \\'LogicalDisk\\' | where CounterName == \\'% Free Space\\' | where InstanceName <> \\'HarddiskVolume1\\' and InstanceName <> \\'_Total\\' | summarize AggregatedValue = min(CounterValue) by Computer, InstanceName, bin(TimeGenerated,5m)'\n          threshold: 0\n          timeAggregation: 'Average'\n        }\n      ]\n    }\n    name: 'isqrmin001'\n    scopes: [\n      '<logAnalyticsWorkspaceResourceId>'\n    ]\n    // Non-required parameters\n    evaluationFrequency: 'PT5M'\n    windowSize: 'PT5M'\n  }\n}"}
{"id": "avm_res_insights_scheduled-query-rule_example_2", "source": "avm/res/insights/scheduled-query-rule/README.md", "content_to_embed": "Recommended AVM Module for Scheduled Query Rules: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Insights/scheduledQueryRules\nModule ID: br/public:avm/res/insights/scheduled-query-rule:0.5\nParameters:\nparams: {\n    // Required parameters\n    criterias: {\n      allOf: [\n        {\n          dimensions: [\n            {\n              name: 'Computer'\n              operator: 'Include'\n              values: [\n                '*'\n              ]\n            }\n            {\n              name: 'InstanceName'\n              operator: 'Include'\n              values: [\n                '*'\n              ]\n            }\n          ]\n          metricMeasureColumn: 'AggregatedValue'\n          operator: 'GreaterThan'\n          query: 'Perf | where ObjectName == \\'LogicalDisk\\' | where CounterName == \\'% Free Space\\' | where InstanceName <> \\'HarddiskVolume1\\' and InstanceName <> \\'_Total\\' | summarize AggregatedValue = min(CounterValue) by Computer, InstanceName, bin(TimeGenerated,5m)'\n          threshold: 0\n          timeAggregation: 'Average'\n        }\n      ]\n    }\n    name: 'isqrmax001'\n    scopes: [\n      '<logAnalyticsWorkspaceResourceId>'\n    ]\n    // Non-required parameters\n    actions: {\n      actionGroupResourceIds: [\n        '<actionGroupResourceId>'\n      ]\n      customProperties: {\n        'Additional Details': 'Evaluation windowStartTime: \\${data.alertContext.condition.windowStartTime}. windowEndTime: \\${data.alertContext.condition.windowEndTime}'\n        'Alert \\${data.essentials.monitorCondition} reason': '\\${data.alertContext.condition.allOf[0].metricName} \\${data.alertContext.condition.allOf[0].operator} \\${data.alertContext.condition.allOf[0].threshold} \\${data.essentials.monitorCondition}. The value is \\${data.alertContext.condition.allOf[0].metricValue}'\n      }\n    }\n    alertDescription: 'My sample Alert'\n    alertDisplayName: '<alertDisplayName>'\n    autoMitigate: false\n    evaluationFrequency: 'PT5M'\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: false\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    queryTimeRange: 'PT5M'\n    roleAssignments: [\n      {\n        name: 'fa8868c7-33d3-4cd5-86a5-cbf76261035b'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    ruleResolveConfiguration: {\n      autoResolved: true\n      timeToResolve: 'PT5M'\n    }\n    suppressForMinutes: 'PT5M'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    windowSize: 'PT5M'\n  }", "bicep": "module scheduledQueryRule 'br/public:avm/res/insights/scheduled-query-rule:0.5' = {\n  name: 'scheduledQueryRuleDeployment'\n  params: {\n    // Required parameters\n    criterias: {\n      allOf: [\n        {\n          dimensions: [\n            {\n              name: 'Computer'\n              operator: 'Include'\n              values: [\n                '*'\n              ]\n            }\n            {\n              name: 'InstanceName'\n              operator: 'Include'\n              values: [\n                '*'\n              ]\n            }\n          ]\n          metricMeasureColumn: 'AggregatedValue'\n          operator: 'GreaterThan'\n          query: 'Perf | where ObjectName == \\'LogicalDisk\\' | where CounterName == \\'% Free Space\\' | where InstanceName <> \\'HarddiskVolume1\\' and InstanceName <> \\'_Total\\' | summarize AggregatedValue = min(CounterValue) by Computer, InstanceName, bin(TimeGenerated,5m)'\n          threshold: 0\n          timeAggregation: 'Average'\n        }\n      ]\n    }\n    name: 'isqrmax001'\n    scopes: [\n      '<logAnalyticsWorkspaceResourceId>'\n    ]\n    // Non-required parameters\n    actions: {\n      actionGroupResourceIds: [\n        '<actionGroupResourceId>'\n      ]\n      customProperties: {\n        'Additional Details': 'Evaluation windowStartTime: \\${data.alertContext.condition.windowStartTime}. windowEndTime: \\${data.alertContext.condition.windowEndTime}'\n        'Alert \\${data.essentials.monitorCondition} reason': '\\${data.alertContext.condition.allOf[0].metricName} \\${data.alertContext.condition.allOf[0].operator} \\${data.alertContext.condition.allOf[0].threshold} \\${data.essentials.monitorCondition}. The value is \\${data.alertContext.condition.allOf[0].metricValue}'\n      }\n    }\n    alertDescription: 'My sample Alert'\n    alertDisplayName: '<alertDisplayName>'\n    autoMitigate: false\n    evaluationFrequency: 'PT5M'\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: false\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    queryTimeRange: 'PT5M'\n    roleAssignments: [\n      {\n        name: 'fa8868c7-33d3-4cd5-86a5-cbf76261035b'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    ruleResolveConfiguration: {\n      autoResolved: true\n      timeToResolve: 'PT5M'\n    }\n    suppressForMinutes: 'PT5M'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    windowSize: 'PT5M'\n  }\n}"}
{"id": "avm_res_insights_scheduled-query-rule_example_3", "source": "avm/res/insights/scheduled-query-rule/README.md", "content_to_embed": "Recommended AVM Module for Scheduled Query Rules: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Insights/scheduledQueryRules\nModule ID: br/public:avm/res/insights/scheduled-query-rule:0.5\nParameters:\nparams: {\n    // Required parameters\n    criterias: {\n      allOf: [\n        {\n          dimensions: [\n            {\n              name: 'Computer'\n              operator: 'Include'\n              values: [\n                '*'\n              ]\n            }\n            {\n              name: 'InstanceName'\n              operator: 'Include'\n              values: [\n                '*'\n              ]\n            }\n          ]\n          metricMeasureColumn: 'AggregatedValue'\n          operator: 'GreaterThan'\n          query: 'Perf | where ObjectName == \\'LogicalDisk\\' | where CounterName == \\'% Free Space\\' | where InstanceName <> \\'HarddiskVolume1\\' and InstanceName <> \\'_Total\\' | summarize AggregatedValue = min(CounterValue) by Computer, InstanceName, bin(TimeGenerated,5m)'\n          threshold: 0\n          timeAggregation: 'Average'\n        }\n      ]\n    }\n    name: 'isqrwaf001'\n    scopes: [\n      '<logAnalyticsWorkspaceResourceId>'\n    ]\n    // Non-required parameters\n    alertDescription: 'My sample Alert'\n    autoMitigate: false\n    evaluationFrequency: 'PT5M'\n    queryTimeRange: 'PT5M'\n    suppressForMinutes: 'PT5M'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    windowSize: 'PT5M'\n  }", "bicep": "module scheduledQueryRule 'br/public:avm/res/insights/scheduled-query-rule:0.5' = {\n  name: 'scheduledQueryRuleDeployment'\n  params: {\n    // Required parameters\n    criterias: {\n      allOf: [\n        {\n          dimensions: [\n            {\n              name: 'Computer'\n              operator: 'Include'\n              values: [\n                '*'\n              ]\n            }\n            {\n              name: 'InstanceName'\n              operator: 'Include'\n              values: [\n                '*'\n              ]\n            }\n          ]\n          metricMeasureColumn: 'AggregatedValue'\n          operator: 'GreaterThan'\n          query: 'Perf | where ObjectName == \\'LogicalDisk\\' | where CounterName == \\'% Free Space\\' | where InstanceName <> \\'HarddiskVolume1\\' and InstanceName <> \\'_Total\\' | summarize AggregatedValue = min(CounterValue) by Computer, InstanceName, bin(TimeGenerated,5m)'\n          threshold: 0\n          timeAggregation: 'Average'\n        }\n      ]\n    }\n    name: 'isqrwaf001'\n    scopes: [\n      '<logAnalyticsWorkspaceResourceId>'\n    ]\n    // Non-required parameters\n    alertDescription: 'My sample Alert'\n    autoMitigate: false\n    evaluationFrequency: 'PT5M'\n    queryTimeRange: 'PT5M'\n    suppressForMinutes: 'PT5M'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    windowSize: 'PT5M'\n  }\n}"}
{"id": "avm_res_insights_webtest_example_1", "source": "avm/res/insights/webtest/README.md", "content_to_embed": "Recommended AVM Module for Web Tests: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Insights/webtests\nModule ID: br/public:avm/res/insights/webtest:0.3\nParameters:\nparams: {\n    // Required parameters\n    appInsightResourceId: '<appInsightResourceId>'\n    name: 'iwtmin001'\n    request: {\n      HttpVerb: 'GET'\n      RequestUrl: 'https://learn.microsoft.com/en-us/'\n    }\n    webTestName: 'wt$iwtmin001'\n    // Non-required parameters\n    location: '<location>'\n  }", "bicep": "module webtest 'br/public:avm/res/insights/webtest:0.3' = {\n  name: 'webtestDeployment'\n  params: {\n    // Required parameters\n    appInsightResourceId: '<appInsightResourceId>'\n    name: 'iwtmin001'\n    request: {\n      HttpVerb: 'GET'\n      RequestUrl: 'https://learn.microsoft.com/en-us/'\n    }\n    webTestName: 'wt$iwtmin001'\n    // Non-required parameters\n    location: '<location>'\n  }\n}"}
{"id": "avm_res_insights_webtest_example_2", "source": "avm/res/insights/webtest/README.md", "content_to_embed": "Recommended AVM Module for Web Tests: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Insights/webtests\nModule ID: br/public:avm/res/insights/webtest:0.3\nParameters:\nparams: {\n    // Required parameters\n    appInsightResourceId: '<appInsightResourceId>'\n    name: 'iwtmax001'\n    request: {\n      HttpVerb: 'GET'\n      RequestUrl: 'https://learn.microsoft.com/en-us/'\n    }\n    webTestName: 'wt$iwtmax001'\n    // Non-required parameters\n    location: '<location>'\n    locations: [\n      {\n        Id: 'emea-nl-ams-azr'\n      }\n    ]\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    roleAssignments: [\n      {\n        name: '86bf66a0-940f-438d-977e-624c00ccb2d8'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    syntheticMonitorId: 'iwtmax001'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module webtest 'br/public:avm/res/insights/webtest:0.3' = {\n  name: 'webtestDeployment'\n  params: {\n    // Required parameters\n    appInsightResourceId: '<appInsightResourceId>'\n    name: 'iwtmax001'\n    request: {\n      HttpVerb: 'GET'\n      RequestUrl: 'https://learn.microsoft.com/en-us/'\n    }\n    webTestName: 'wt$iwtmax001'\n    // Non-required parameters\n    location: '<location>'\n    locations: [\n      {\n        Id: 'emea-nl-ams-azr'\n      }\n    ]\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    roleAssignments: [\n      {\n        name: '86bf66a0-940f-438d-977e-624c00ccb2d8'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    syntheticMonitorId: 'iwtmax001'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_insights_webtest_example_3", "source": "avm/res/insights/webtest/README.md", "content_to_embed": "Recommended AVM Module for Web Tests: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Insights/webtests\nModule ID: br/public:avm/res/insights/webtest:0.3\nParameters:\nparams: {\n    // Required parameters\n    appInsightResourceId: '<appInsightResourceId>'\n    name: 'iwtwaf001'\n    request: {\n      HttpVerb: 'GET'\n      RequestUrl: 'https://learn.microsoft.com/en-us/'\n    }\n    webTestName: 'wt$iwtwaf001'\n    // Non-required parameters\n    location: '<location>'\n    locations: [\n      {\n        Id: 'emea-nl-ams-azr'\n      }\n    ]\n    syntheticMonitorId: 'iwtwaf001'\n    tags: {\n      'hidden-title': 'This is visible in the resource name'\n    }\n  }", "bicep": "module webtest 'br/public:avm/res/insights/webtest:0.3' = {\n  name: 'webtestDeployment'\n  params: {\n    // Required parameters\n    appInsightResourceId: '<appInsightResourceId>'\n    name: 'iwtwaf001'\n    request: {\n      HttpVerb: 'GET'\n      RequestUrl: 'https://learn.microsoft.com/en-us/'\n    }\n    webTestName: 'wt$iwtwaf001'\n    // Non-required parameters\n    location: '<location>'\n    locations: [\n      {\n        Id: 'emea-nl-ams-azr'\n      }\n    ]\n    syntheticMonitorId: 'iwtwaf001'\n    tags: {\n      'hidden-title': 'This is visible in the resource name'\n    }\n  }\n}"}
{"id": "avm_res_key-vault_vault_example_1", "source": "avm/res/key-vault/vault/README.md", "content_to_embed": "Recommended AVM Module for Key Vaults: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.KeyVault/vaults\nModule ID: br/public:avm/res/key-vault/vault:0.13\nParameters:\nparams: {\n    // Required parameters\n    name: 'kvvmin002'\n    // Non-required parameters\n    enablePurgeProtection: false\n  }", "bicep": "module vault 'br/public:avm/res/key-vault/vault:0.13' = {\n  name: 'vaultDeployment'\n  params: {\n    // Required parameters\n    name: 'kvvmin002'\n    // Non-required parameters\n    enablePurgeProtection: false\n  }\n}"}
{"id": "avm_res_key-vault_vault_example_2", "source": "avm/res/key-vault/vault/README.md", "content_to_embed": "Recommended AVM Module for Key Vaults: With EC key type - This instance deploys the module with the parameters needed for an EC key.\nResource Type Path: Microsoft.KeyVault/vaults\nModule ID: br/public:avm/res/key-vault/vault:0.13\nParameters:\nparams: {\n    // Required parameters\n    name: 'kvvec002'\n    // Non-required parameters\n    enablePurgeProtection: false\n    enableRbacAuthorization: true\n    keys: [\n      {\n        attributes: {\n          exp: 1725109032\n          nbf: 10000\n        }\n        kty: 'EC'\n        name: 'keyName'\n        rotationPolicy: {\n          attributes: {\n            expiryTime: 'P2Y'\n          }\n          lifetimeActions: [\n            {\n              action: {\n                type: 'rotate'\n              }\n              trigger: {\n                timeBeforeExpiry: 'P2M'\n              }\n            }\n            {\n              action: {\n                type: 'notify'\n              }\n              trigger: {\n                timeBeforeExpiry: 'P30D'\n              }\n            }\n          ]\n        }\n      }\n    ]\n  }", "bicep": "module vault 'br/public:avm/res/key-vault/vault:0.13' = {\n  name: 'vaultDeployment'\n  params: {\n    // Required parameters\n    name: 'kvvec002'\n    // Non-required parameters\n    enablePurgeProtection: false\n    enableRbacAuthorization: true\n    keys: [\n      {\n        attributes: {\n          exp: 1725109032\n          nbf: 10000\n        }\n        kty: 'EC'\n        name: 'keyName'\n        rotationPolicy: {\n          attributes: {\n            expiryTime: 'P2Y'\n          }\n          lifetimeActions: [\n            {\n              action: {\n                type: 'rotate'\n              }\n              trigger: {\n                timeBeforeExpiry: 'P2M'\n              }\n            }\n            {\n              action: {\n                type: 'notify'\n              }\n              trigger: {\n                timeBeforeExpiry: 'P30D'\n              }\n            }\n          ]\n        }\n      }\n    ]\n  }\n}"}
{"id": "avm_res_key-vault_vault_example_3", "source": "avm/res/key-vault/vault/README.md", "content_to_embed": "Recommended AVM Module for Key Vaults: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.KeyVault/vaults\nModule ID: br/public:avm/res/key-vault/vault:0.13\nParameters:\nparams: {\n    // Required parameters\n    name: 'kvvmax002'\n    // Non-required parameters\n    accessPolicies: [\n      {\n        objectId: '<objectId>'\n        permissions: {\n          keys: [\n            'get'\n            'list'\n            'update'\n          ]\n          secrets: [\n            'all'\n          ]\n        }\n        tenantId: '<tenantId>'\n      }\n      {\n        objectId: '<objectId>'\n        permissions: {\n          certificates: [\n            'backup'\n            'create'\n            'delete'\n          ]\n          secrets: [\n            'all'\n          ]\n        }\n      }\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        logCategoriesAndGroups: [\n          {\n            category: 'AzurePolicyEvaluationDetails'\n          }\n          {\n            category: 'AuditEvent'\n          }\n        ]\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    enablePurgeProtection: false\n    enableRbacAuthorization: false\n    keys: [\n      {\n        attributes: {\n          exp: 1725109032\n          nbf: 10000\n        }\n        name: 'keyName'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n        rotationPolicy: {\n          attributes: {\n            expiryTime: 'P2Y'\n          }\n          lifetimeActions: [\n            {\n              action: {\n                type: 'rotate'\n              }\n              trigger: {\n                timeBeforeExpiry: 'P2M'\n              }\n            }\n            {\n              action: {\n                type: 'notify'\n              }\n              trigger: {\n                timeBeforeExpiry: 'P30D'\n              }\n            }\n          ]\n        }\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    networkAcls: {\n      bypass: 'AzureServices'\n      defaultAction: 'Deny'\n      ipRules: [\n        {\n          value: '40.74.28.0/23'\n        }\n      ]\n      virtualNetworkRules: [\n        {\n          id: '<id>'\n          ignoreMissingVnetServiceEndpoint: false\n        }\n      ]\n    }\n    privateEndpoints: [\n      {\n        customDnsConfigs: [\n          {\n            fqdn: 'abc.keyvault.com'\n            ipAddresses: [\n              '10.0.0.10'\n            ]\n          }\n        ]\n        ipConfigurations: [\n          {\n            name: 'myIPconfig'\n            properties: {\n              groupId: 'vault'\n              memberName: 'default'\n              privateIPAddress: '10.0.0.10'\n            }\n          }\n        ]\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        resourceGroupResourceId: '<resourceGroupResourceId>'\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    roleAssignments: [\n      {\n        name: 'b50cc72e-a2f2-4c4c-a3ad-86a43feb6ab8'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    secrets: [\n      {\n        attributes: {\n          exp: 1725109032\n          nbf: 10000\n        }\n        contentType: 'Something'\n        name: 'secretName'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n        value: 'secretValue'\n      }\n    ]\n    softDeleteRetentionInDays: 7\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module vault 'br/public:avm/res/key-vault/vault:0.13' = {\n  name: 'vaultDeployment'\n  params: {\n    // Required parameters\n    name: 'kvvmax002'\n    // Non-required parameters\n    accessPolicies: [\n      {\n        objectId: '<objectId>'\n        permissions: {\n          keys: [\n            'get'\n            'list'\n            'update'\n          ]\n          secrets: [\n            'all'\n          ]\n        }\n        tenantId: '<tenantId>'\n      }\n      {\n        objectId: '<objectId>'\n        permissions: {\n          certificates: [\n            'backup'\n            'create'\n            'delete'\n          ]\n          secrets: [\n            'all'\n          ]\n        }\n      }\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        logCategoriesAndGroups: [\n          {\n            category: 'AzurePolicyEvaluationDetails'\n          }\n          {\n            category: 'AuditEvent'\n          }\n        ]\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    enablePurgeProtection: false\n    enableRbacAuthorization: false\n    keys: [\n      {\n        attributes: {\n          exp: 1725109032\n          nbf: 10000\n        }\n        name: 'keyName'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n        rotationPolicy: {\n          attributes: {\n            expiryTime: 'P2Y'\n          }\n          lifetimeActions: [\n            {\n              action: {\n                type: 'rotate'\n              }\n              trigger: {\n                timeBeforeExpiry: 'P2M'\n              }\n            }\n            {\n              action: {\n                type: 'notify'\n              }\n              trigger: {\n                timeBeforeExpiry: 'P30D'\n              }\n            }\n          ]\n        }\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    networkAcls: {\n      bypass: 'AzureServices'\n      defaultAction: 'Deny'\n      ipRules: [\n        {\n          value: '40.74.28.0/23'\n        }\n      ]\n      virtualNetworkRules: [\n        {\n          id: '<id>'\n          ignoreMissingVnetServiceEndpoint: false\n        }\n      ]\n    }\n    privateEndpoints: [\n      {\n        customDnsConfigs: [\n          {\n            fqdn: 'abc.keyvault.com'\n            ipAddresses: [\n              '10.0.0.10'\n            ]\n          }\n        ]\n        ipConfigurations: [\n          {\n            name: 'myIPconfig'\n            properties: {\n              groupId: 'vault'\n              memberName: 'default'\n              privateIPAddress: '10.0.0.10'\n            }\n          }\n        ]\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        resourceGroupResourceId: '<resourceGroupResourceId>'\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    roleAssignments: [\n      {\n        name: 'b50cc72e-a2f2-4c4c-a3ad-86a43feb6ab8'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    secrets: [\n      {\n        attributes: {\n          exp: 1725109032\n          nbf: 10000\n        }\n        contentType: 'Something'\n        name: 'secretName'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n        value: 'secretValue'\n      }\n    ]\n    softDeleteRetentionInDays: 7\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_key-vault_vault_example_4", "source": "avm/res/key-vault/vault/README.md", "content_to_embed": "Recommended AVM Module for Key Vaults: With RSA key type - This instance deploys the module with the parameters needed for an RSA key.\nResource Type Path: Microsoft.KeyVault/vaults\nModule ID: br/public:avm/res/key-vault/vault:0.13\nParameters:\nparams: {\n    // Required parameters\n    name: 'kvvrsa002'\n    // Non-required parameters\n    enablePurgeProtection: false\n    enableRbacAuthorization: true\n    keys: [\n      {\n        attributes: {\n          exp: 1725109032\n          nbf: 10000\n        }\n        kty: 'RSA'\n        name: 'keyName'\n        rotationPolicy: {\n          attributes: {\n            expiryTime: 'P2Y'\n          }\n          lifetimeActions: [\n            {\n              action: {\n                type: 'rotate'\n              }\n              trigger: {\n                timeBeforeExpiry: 'P2M'\n              }\n            }\n            {\n              action: {\n                type: 'notify'\n              }\n              trigger: {\n                timeBeforeExpiry: 'P30D'\n              }\n            }\n          ]\n        }\n      }\n    ]\n  }", "bicep": "module vault 'br/public:avm/res/key-vault/vault:0.13' = {\n  name: 'vaultDeployment'\n  params: {\n    // Required parameters\n    name: 'kvvrsa002'\n    // Non-required parameters\n    enablePurgeProtection: false\n    enableRbacAuthorization: true\n    keys: [\n      {\n        attributes: {\n          exp: 1725109032\n          nbf: 10000\n        }\n        kty: 'RSA'\n        name: 'keyName'\n        rotationPolicy: {\n          attributes: {\n            expiryTime: 'P2Y'\n          }\n          lifetimeActions: [\n            {\n              action: {\n                type: 'rotate'\n              }\n              trigger: {\n                timeBeforeExpiry: 'P2M'\n              }\n            }\n            {\n              action: {\n                type: 'notify'\n              }\n              trigger: {\n                timeBeforeExpiry: 'P30D'\n              }\n            }\n          ]\n        }\n      }\n    ]\n  }\n}"}
{"id": "avm_res_key-vault_vault_example_5", "source": "avm/res/key-vault/vault/README.md", "content_to_embed": "Recommended AVM Module for Key Vaults: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Well-Architected Framework.\nResource Type Path: Microsoft.KeyVault/vaults\nModule ID: br/public:avm/res/key-vault/vault:0.13\nParameters:\nparams: {\n    // Required parameters\n    name: 'kvvwaf002'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    enablePurgeProtection: false\n    enableRbacAuthorization: true\n    keys: [\n      {\n        attributes: {\n          enabled: true\n          exp: 1702648632\n          nbf: 10000\n        }\n        keySize: 4096\n        name: 'keyName'\n        rotationPolicy: {\n          attributes: {\n            expiryTime: 'P2Y'\n          }\n          lifetimeActions: [\n            {\n              action: {\n                type: 'rotate'\n              }\n              trigger: {\n                timeBeforeExpiry: 'P2M'\n              }\n            }\n            {\n              action: {\n                type: 'notify'\n              }\n              trigger: {\n                timeBeforeExpiry: 'P30D'\n              }\n            }\n          ]\n        }\n      }\n    ]\n    networkAcls: {\n      bypass: 'AzureServices'\n      defaultAction: 'Deny'\n    }\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'vault'\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    secrets: [\n      {\n        attributes: {\n          enabled: true\n          exp: 1702648632\n          nbf: 10000\n        }\n        contentType: 'Something'\n        name: 'secretName'\n        value: 'secretValue'\n      }\n    ]\n    softDeleteRetentionInDays: 7\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module vault 'br/public:avm/res/key-vault/vault:0.13' = {\n  name: 'vaultDeployment'\n  params: {\n    // Required parameters\n    name: 'kvvwaf002'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    enablePurgeProtection: false\n    enableRbacAuthorization: true\n    keys: [\n      {\n        attributes: {\n          enabled: true\n          exp: 1702648632\n          nbf: 10000\n        }\n        keySize: 4096\n        name: 'keyName'\n        rotationPolicy: {\n          attributes: {\n            expiryTime: 'P2Y'\n          }\n          lifetimeActions: [\n            {\n              action: {\n                type: 'rotate'\n              }\n              trigger: {\n                timeBeforeExpiry: 'P2M'\n              }\n            }\n            {\n              action: {\n                type: 'notify'\n              }\n              trigger: {\n                timeBeforeExpiry: 'P30D'\n              }\n            }\n          ]\n        }\n      }\n    ]\n    networkAcls: {\n      bypass: 'AzureServices'\n      defaultAction: 'Deny'\n    }\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'vault'\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    secrets: [\n      {\n        attributes: {\n          enabled: true\n          exp: 1702648632\n          nbf: 10000\n        }\n        contentType: 'Something'\n        name: 'secretName'\n        value: 'secretValue'\n      }\n    ]\n    softDeleteRetentionInDays: 7\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_kubernetes_connected-cluster_example_1", "source": "avm/res/kubernetes/connected-cluster/README.md", "content_to_embed": "Recommended AVM Module for Kubernetes Connected Cluster: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Kubernetes/connectedClusters\nModule ID: br/public:avm/res/kubernetes/connected-cluster:0.1\nParameters:\nparams: {\n    name: 'kccmin001'\n  }", "bicep": "module connectedCluster 'br/public:avm/res/kubernetes/connected-cluster:0.1' = {\n  name: 'connectedClusterDeployment'\n  params: {\n    name: 'kccmin001'\n  }\n}"}
{"id": "avm_res_kubernetes_connected-cluster_example_2", "source": "avm/res/kubernetes/connected-cluster/README.md", "content_to_embed": "Recommended AVM Module for Kubernetes Connected Cluster: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Kubernetes/connectedClusters\nModule ID: br/public:avm/res/kubernetes/connected-cluster:0.1\nParameters:\nparams: {\n    // Required parameters\n    name: 'kccmax001'\n    // Non-required parameters\n    aadProfile: {\n      adminGroupObjectIDs: []\n      enableAzureRBAC: true\n      tenantID: '<tenantID>'\n    }\n    enableTelemetry: true\n    location: '<location>'\n    oidcIssuerProfile: {\n      enabled: true\n    }\n    roleAssignments: [\n      {\n        name: 'cbc3932a-1bee-4318-ae76-d70e1ba399c8'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    securityProfile: {\n      workloadIdentity: {\n        enabled: true\n      }\n    }\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module connectedCluster 'br/public:avm/res/kubernetes/connected-cluster:0.1' = {\n  name: 'connectedClusterDeployment'\n  params: {\n    // Required parameters\n    name: 'kccmax001'\n    // Non-required parameters\n    aadProfile: {\n      adminGroupObjectIDs: []\n      enableAzureRBAC: true\n      tenantID: '<tenantID>'\n    }\n    enableTelemetry: true\n    location: '<location>'\n    oidcIssuerProfile: {\n      enabled: true\n    }\n    roleAssignments: [\n      {\n        name: 'cbc3932a-1bee-4318-ae76-d70e1ba399c8'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    securityProfile: {\n      workloadIdentity: {\n        enabled: true\n      }\n    }\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_kubernetes_connected-cluster_example_3", "source": "avm/res/kubernetes/connected-cluster/README.md", "content_to_embed": "Recommended AVM Module for Kubernetes Connected Cluster: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Kubernetes/connectedClusters\nModule ID: br/public:avm/res/kubernetes/connected-cluster:0.1\nParameters:\nparams: {\n    // Required parameters\n    name: 'kccwaf001'\n    // Non-required parameters\n    aadProfile: {\n      adminGroupObjectIDs: []\n      enableAzureRBAC: true\n      tenantID: '<tenantID>'\n    }\n    location: '<location>'\n    oidcIssuerProfile: {\n      enabled: true\n    }\n    securityProfile: {\n      workloadIdentity: {\n        enabled: true\n      }\n    }\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module connectedCluster 'br/public:avm/res/kubernetes/connected-cluster:0.1' = {\n  name: 'connectedClusterDeployment'\n  params: {\n    // Required parameters\n    name: 'kccwaf001'\n    // Non-required parameters\n    aadProfile: {\n      adminGroupObjectIDs: []\n      enableAzureRBAC: true\n      tenantID: '<tenantID>'\n    }\n    location: '<location>'\n    oidcIssuerProfile: {\n      enabled: true\n    }\n    securityProfile: {\n      workloadIdentity: {\n        enabled: true\n      }\n    }\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_kubernetes-configuration_extension_example_1", "source": "avm/res/kubernetes-configuration/extension/README.md", "content_to_embed": "Recommended AVM Module for Kubernetes Configuration Extensions: Using only defaults - This instance deploys the module with connected cluster.\nResource Type Path: Microsoft.KubernetesConfiguration/extensions\nModule ID: br/public:avm/res/kubernetes-configuration/extension:0.3\nParameters:\nparams: {\n    // Required parameters\n    clusterName: '<clusterName>'\n    extensionType: 'microsoft.flux'\n    name: 'kcecc001'\n    // Non-required parameters\n    clusterType: 'connectedCluster'\n    fluxConfigurations: [\n      {\n        gitRepository: {\n          repositoryRef: {\n            branch: 'main'\n          }\n          sshKnownHosts: ''\n          syncIntervalInSeconds: 300\n          timeoutInSeconds: 180\n          url: 'https://github.com/mspnp/aks-baseline'\n        }\n        kustomizations: {\n          unified: {\n            path: './cluster-manifests'\n          }\n        }\n        namespace: 'flux-system'\n        scope: 'cluster'\n        suspend: false\n      }\n    ]\n    releaseNamespace: 'flux-system'\n    releaseTrain: 'Stable'\n  }", "bicep": "module extension 'br/public:avm/res/kubernetes-configuration/extension:0.3' = {\n  name: 'extensionDeployment'\n  params: {\n    // Required parameters\n    clusterName: '<clusterName>'\n    extensionType: 'microsoft.flux'\n    name: 'kcecc001'\n    // Non-required parameters\n    clusterType: 'connectedCluster'\n    fluxConfigurations: [\n      {\n        gitRepository: {\n          repositoryRef: {\n            branch: 'main'\n          }\n          sshKnownHosts: ''\n          syncIntervalInSeconds: 300\n          timeoutInSeconds: 180\n          url: 'https://github.com/mspnp/aks-baseline'\n        }\n        kustomizations: {\n          unified: {\n            path: './cluster-manifests'\n          }\n        }\n        namespace: 'flux-system'\n        scope: 'cluster'\n        suspend: false\n      }\n    ]\n    releaseNamespace: 'flux-system'\n    releaseTrain: 'Stable'\n  }\n}"}
{"id": "avm_res_kubernetes-configuration_extension_example_2", "source": "avm/res/kubernetes-configuration/extension/README.md", "content_to_embed": "Recommended AVM Module for Kubernetes Configuration Extensions: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.KubernetesConfiguration/extensions\nModule ID: br/public:avm/res/kubernetes-configuration/extension:0.3\nParameters:\nparams: {\n    // Required parameters\n    clusterName: '<clusterName>'\n    extensionType: 'microsoft.flux'\n    name: 'kcemin001'\n    // Non-required parameters\n    releaseNamespace: 'flux-system'\n    releaseTrain: 'Stable'\n  }", "bicep": "module extension 'br/public:avm/res/kubernetes-configuration/extension:0.3' = {\n  name: 'extensionDeployment'\n  params: {\n    // Required parameters\n    clusterName: '<clusterName>'\n    extensionType: 'microsoft.flux'\n    name: 'kcemin001'\n    // Non-required parameters\n    releaseNamespace: 'flux-system'\n    releaseTrain: 'Stable'\n  }\n}"}
{"id": "avm_res_kubernetes-configuration_extension_example_3", "source": "avm/res/kubernetes-configuration/extension/README.md", "content_to_embed": "Recommended AVM Module for Kubernetes Configuration Extensions: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.KubernetesConfiguration/extensions\nModule ID: br/public:avm/res/kubernetes-configuration/extension:0.3\nParameters:\nparams: {\n    // Required parameters\n    clusterName: '<clusterName>'\n    extensionType: 'microsoft.flux'\n    name: 'kcemax001'\n    // Non-required parameters\n    configurationSettings: {\n      'image-automation-controller.enabled': 'false'\n      'image-reflector-controller.enabled': 'false'\n      'kustomize-controller.enabled': 'true'\n      'notification-controller.enabled': 'false'\n      'source-controller.enabled': 'true'\n    }\n    fluxConfigurations: [\n      {\n        gitRepository: {\n          repositoryRef: {\n            branch: 'main'\n          }\n          sshKnownHosts: ''\n          syncIntervalInSeconds: 300\n          timeoutInSeconds: 180\n          url: 'https://github.com/mspnp/aks-baseline'\n        }\n        kustomizations: {\n          unified: {\n            path: './cluster-manifests'\n          }\n        }\n        namespace: 'flux-system'\n        scope: 'cluster'\n        suspend: false\n      }\n    ]\n    location: '<location>'\n    releaseNamespace: 'flux-system'\n    releaseTrain: 'Stable'\n    version: '0.5.2'\n  }", "bicep": "module extension 'br/public:avm/res/kubernetes-configuration/extension:0.3' = {\n  name: 'extensionDeployment'\n  params: {\n    // Required parameters\n    clusterName: '<clusterName>'\n    extensionType: 'microsoft.flux'\n    name: 'kcemax001'\n    // Non-required parameters\n    configurationSettings: {\n      'image-automation-controller.enabled': 'false'\n      'image-reflector-controller.enabled': 'false'\n      'kustomize-controller.enabled': 'true'\n      'notification-controller.enabled': 'false'\n      'source-controller.enabled': 'true'\n    }\n    fluxConfigurations: [\n      {\n        gitRepository: {\n          repositoryRef: {\n            branch: 'main'\n          }\n          sshKnownHosts: ''\n          syncIntervalInSeconds: 300\n          timeoutInSeconds: 180\n          url: 'https://github.com/mspnp/aks-baseline'\n        }\n        kustomizations: {\n          unified: {\n            path: './cluster-manifests'\n          }\n        }\n        namespace: 'flux-system'\n        scope: 'cluster'\n        suspend: false\n      }\n    ]\n    location: '<location>'\n    releaseNamespace: 'flux-system'\n    releaseTrain: 'Stable'\n    version: '0.5.2'\n  }\n}"}
{"id": "avm_res_kubernetes-configuration_extension_example_4", "source": "avm/res/kubernetes-configuration/extension/README.md", "content_to_embed": "Recommended AVM Module for Kubernetes Configuration Extensions: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.KubernetesConfiguration/extensions\nModule ID: br/public:avm/res/kubernetes-configuration/extension:0.3\nParameters:\nparams: {\n    // Required parameters\n    clusterName: '<clusterName>'\n    extensionType: 'microsoft.flux'\n    name: 'kcewaf001'\n    // Non-required parameters\n    configurationSettings: {\n      'image-automation-controller.enabled': 'false'\n      'image-reflector-controller.enabled': 'false'\n      'kustomize-controller.enabled': 'true'\n      'notification-controller.enabled': 'false'\n      'source-controller.enabled': 'true'\n    }\n    fluxConfigurations: [\n      {\n        gitRepository: {\n          repositoryRef: {\n            branch: 'main'\n          }\n          sshKnownHosts: ''\n          syncIntervalInSeconds: 300\n          timeoutInSeconds: 180\n          url: 'https://github.com/mspnp/aks-baseline'\n        }\n        kustomizations: {\n          unified: {\n            path: './cluster-manifests'\n          }\n        }\n        namespace: 'flux-system'\n        scope: 'cluster'\n        suspend: false\n      }\n    ]\n    releaseNamespace: 'flux-system'\n    releaseTrain: 'Stable'\n    version: '0.5.2'\n  }", "bicep": "module extension 'br/public:avm/res/kubernetes-configuration/extension:0.3' = {\n  name: 'extensionDeployment'\n  params: {\n    // Required parameters\n    clusterName: '<clusterName>'\n    extensionType: 'microsoft.flux'\n    name: 'kcewaf001'\n    // Non-required parameters\n    configurationSettings: {\n      'image-automation-controller.enabled': 'false'\n      'image-reflector-controller.enabled': 'false'\n      'kustomize-controller.enabled': 'true'\n      'notification-controller.enabled': 'false'\n      'source-controller.enabled': 'true'\n    }\n    fluxConfigurations: [\n      {\n        gitRepository: {\n          repositoryRef: {\n            branch: 'main'\n          }\n          sshKnownHosts: ''\n          syncIntervalInSeconds: 300\n          timeoutInSeconds: 180\n          url: 'https://github.com/mspnp/aks-baseline'\n        }\n        kustomizations: {\n          unified: {\n            path: './cluster-manifests'\n          }\n        }\n        namespace: 'flux-system'\n        scope: 'cluster'\n        suspend: false\n      }\n    ]\n    releaseNamespace: 'flux-system'\n    releaseTrain: 'Stable'\n    version: '0.5.2'\n  }\n}"}
{"id": "avm_res_kubernetes-configuration_flux-configuration_example_1", "source": "avm/res/kubernetes-configuration/flux-configuration/README.md", "content_to_embed": "Recommended AVM Module for Kubernetes Configuration Flux Configurations: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.KubernetesConfiguration/fluxConfigurations\nModule ID: br/public:avm/res/kubernetes-configuration/flux-configuration:0.3\nParameters:\nparams: {\n    // Required parameters\n    clusterName: '<clusterName>'\n    kustomizations: {\n      unified: {\n        path: './cluster-manifests'\n      }\n    }\n    name: 'kcfccc001'\n    namespace: 'flux-system'\n    scope: 'cluster'\n    sourceKind: 'GitRepository'\n    // Non-required parameters\n    clusterType: 'connectedCluster'\n    gitRepository: {\n      repositoryRef: {\n        branch: 'main'\n      }\n      sshKnownHosts: ''\n      syncIntervalInSeconds: 300\n      timeoutInSeconds: 180\n      url: 'https://github.com/mspnp/aks-baseline'\n    }\n  }", "bicep": "module fluxConfiguration 'br/public:avm/res/kubernetes-configuration/flux-configuration:0.3' = {\n  name: 'fluxConfigurationDeployment'\n  params: {\n    // Required parameters\n    clusterName: '<clusterName>'\n    kustomizations: {\n      unified: {\n        path: './cluster-manifests'\n      }\n    }\n    name: 'kcfccc001'\n    namespace: 'flux-system'\n    scope: 'cluster'\n    sourceKind: 'GitRepository'\n    // Non-required parameters\n    clusterType: 'connectedCluster'\n    gitRepository: {\n      repositoryRef: {\n        branch: 'main'\n      }\n      sshKnownHosts: ''\n      syncIntervalInSeconds: 300\n      timeoutInSeconds: 180\n      url: 'https://github.com/mspnp/aks-baseline'\n    }\n  }\n}"}
{"id": "avm_res_kubernetes-configuration_flux-configuration_example_2", "source": "avm/res/kubernetes-configuration/flux-configuration/README.md", "content_to_embed": "Recommended AVM Module for Kubernetes Configuration Flux Configurations: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.KubernetesConfiguration/fluxConfigurations\nModule ID: br/public:avm/res/kubernetes-configuration/flux-configuration:0.3\nParameters:\nparams: {\n    // Required parameters\n    clusterName: '<clusterName>'\n    kustomizations: {\n      unified: {\n        path: './cluster-manifests'\n      }\n    }\n    name: 'kcfcmin001'\n    namespace: 'flux-system'\n    scope: 'cluster'\n    sourceKind: 'GitRepository'\n    // Non-required parameters\n    gitRepository: {\n      repositoryRef: {\n        branch: 'main'\n      }\n      sshKnownHosts: ''\n      syncIntervalInSeconds: 300\n      timeoutInSeconds: 180\n      url: 'https://github.com/mspnp/aks-baseline'\n    }\n  }", "bicep": "module fluxConfiguration 'br/public:avm/res/kubernetes-configuration/flux-configuration:0.3' = {\n  name: 'fluxConfigurationDeployment'\n  params: {\n    // Required parameters\n    clusterName: '<clusterName>'\n    kustomizations: {\n      unified: {\n        path: './cluster-manifests'\n      }\n    }\n    name: 'kcfcmin001'\n    namespace: 'flux-system'\n    scope: 'cluster'\n    sourceKind: 'GitRepository'\n    // Non-required parameters\n    gitRepository: {\n      repositoryRef: {\n        branch: 'main'\n      }\n      sshKnownHosts: ''\n      syncIntervalInSeconds: 300\n      timeoutInSeconds: 180\n      url: 'https://github.com/mspnp/aks-baseline'\n    }\n  }\n}"}
{"id": "avm_res_kubernetes-configuration_flux-configuration_example_3", "source": "avm/res/kubernetes-configuration/flux-configuration/README.md", "content_to_embed": "Recommended AVM Module for Kubernetes Configuration Flux Configurations: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.KubernetesConfiguration/fluxConfigurations\nModule ID: br/public:avm/res/kubernetes-configuration/flux-configuration:0.3\nParameters:\nparams: {\n    // Required parameters\n    clusterName: '<clusterName>'\n    kustomizations: {\n      unified: {\n        dependsOn: []\n        force: false\n        path: './cluster-manifests'\n        postBuild: {\n          substitute: {\n            TEST_VAR1: 'foo'\n            TEST_VAR2: 'bar'\n          }\n        }\n        prune: true\n        syncIntervalInSeconds: 300\n        timeoutInSeconds: 300\n      }\n    }\n    name: 'kcfcmax001'\n    namespace: 'flux-system'\n    scope: 'cluster'\n    sourceKind: 'GitRepository'\n    // Non-required parameters\n    gitRepository: {\n      repositoryRef: {\n        branch: 'main'\n      }\n      sshKnownHosts: ''\n      syncIntervalInSeconds: 300\n      timeoutInSeconds: 180\n      url: 'https://github.com/mspnp/aks-baseline'\n    }\n    location: '<location>'\n  }", "bicep": "module fluxConfiguration 'br/public:avm/res/kubernetes-configuration/flux-configuration:0.3' = {\n  name: 'fluxConfigurationDeployment'\n  params: {\n    // Required parameters\n    clusterName: '<clusterName>'\n    kustomizations: {\n      unified: {\n        dependsOn: []\n        force: false\n        path: './cluster-manifests'\n        postBuild: {\n          substitute: {\n            TEST_VAR1: 'foo'\n            TEST_VAR2: 'bar'\n          }\n        }\n        prune: true\n        syncIntervalInSeconds: 300\n        timeoutInSeconds: 300\n      }\n    }\n    name: 'kcfcmax001'\n    namespace: 'flux-system'\n    scope: 'cluster'\n    sourceKind: 'GitRepository'\n    // Non-required parameters\n    gitRepository: {\n      repositoryRef: {\n        branch: 'main'\n      }\n      sshKnownHosts: ''\n      syncIntervalInSeconds: 300\n      timeoutInSeconds: 180\n      url: 'https://github.com/mspnp/aks-baseline'\n    }\n    location: '<location>'\n  }\n}"}
{"id": "avm_res_kubernetes-configuration_flux-configuration_example_4", "source": "avm/res/kubernetes-configuration/flux-configuration/README.md", "content_to_embed": "Recommended AVM Module for Kubernetes Configuration Flux Configurations: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.KubernetesConfiguration/fluxConfigurations\nModule ID: br/public:avm/res/kubernetes-configuration/flux-configuration:0.3\nParameters:\nparams: {\n    // Required parameters\n    clusterName: '<clusterName>'\n    kustomizations: {\n      unified: {\n        dependsOn: []\n        force: false\n        path: './cluster-manifests'\n        prune: true\n        syncIntervalInSeconds: 300\n        timeoutInSeconds: 300\n      }\n    }\n    name: 'kcfcwaf001'\n    namespace: 'flux-system'\n    scope: 'cluster'\n    sourceKind: 'GitRepository'\n    // Non-required parameters\n    gitRepository: {\n      repositoryRef: {\n        branch: 'main'\n      }\n      sshKnownHosts: ''\n      syncIntervalInSeconds: 300\n      timeoutInSeconds: 180\n      url: 'https://github.com/mspnp/aks-baseline'\n    }\n  }", "bicep": "module fluxConfiguration 'br/public:avm/res/kubernetes-configuration/flux-configuration:0.3' = {\n  name: 'fluxConfigurationDeployment'\n  params: {\n    // Required parameters\n    clusterName: '<clusterName>'\n    kustomizations: {\n      unified: {\n        dependsOn: []\n        force: false\n        path: './cluster-manifests'\n        prune: true\n        syncIntervalInSeconds: 300\n        timeoutInSeconds: 300\n      }\n    }\n    name: 'kcfcwaf001'\n    namespace: 'flux-system'\n    scope: 'cluster'\n    sourceKind: 'GitRepository'\n    // Non-required parameters\n    gitRepository: {\n      repositoryRef: {\n        branch: 'main'\n      }\n      sshKnownHosts: ''\n      syncIntervalInSeconds: 300\n      timeoutInSeconds: 180\n      url: 'https://github.com/mspnp/aks-baseline'\n    }\n  }\n}"}
{"id": "avm_res_kubernetes-runtime_load-balancer_example_1", "source": "avm/res/kubernetes-runtime/load-balancer/README.md", "content_to_embed": "Recommended AVM Module for Kubernetes Runtime Load Balancers: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.KubernetesRuntime/loadBalancers\nModule ID: br/public:avm/res/kubernetes-runtime/load-balancer:0.1\nParameters:\nparams: {\n    // Required parameters\n    addresses: [\n      '10.0.0.100-10.0.0.110'\n    ]\n    advertiseMode: 'ARP'\n    clusterName: '<clusterName>'\n    kubernetesRuntimeRPObjectId: '<kubernetesRuntimeRPObjectId>'\n    name: 'krlbmin001'\n  }", "bicep": "module loadBalancer 'br/public:avm/res/kubernetes-runtime/load-balancer:0.1' = {\n  name: 'loadBalancerDeployment'\n  params: {\n    // Required parameters\n    addresses: [\n      '10.0.0.100-10.0.0.110'\n    ]\n    advertiseMode: 'ARP'\n    clusterName: '<clusterName>'\n    kubernetesRuntimeRPObjectId: '<kubernetesRuntimeRPObjectId>'\n    name: 'krlbmin001'\n  }\n}"}
{"id": "avm_res_kubernetes-runtime_load-balancer_example_2", "source": "avm/res/kubernetes-runtime/load-balancer/README.md", "content_to_embed": "Recommended AVM Module for Kubernetes Runtime Load Balancers: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.KubernetesRuntime/loadBalancers\nModule ID: br/public:avm/res/kubernetes-runtime/load-balancer:0.1\nParameters:\nparams: {\n    // Required parameters\n    addresses: [\n      '10.0.0.100-10.0.0.110'\n    ]\n    advertiseMode: 'Both'\n    clusterName: '<clusterName>'\n    kubernetesRuntimeRPObjectId: '<kubernetesRuntimeRPObjectId>'\n    name: 'krlbwaf001'\n    // Non-required parameters\n    bgpPeers: [\n      'test-peer'\n    ]\n    serviceSelector: {\n      test: 'waf-test'\n    }\n  }", "bicep": "module loadBalancer 'br/public:avm/res/kubernetes-runtime/load-balancer:0.1' = {\n  name: 'loadBalancerDeployment'\n  params: {\n    // Required parameters\n    addresses: [\n      '10.0.0.100-10.0.0.110'\n    ]\n    advertiseMode: 'Both'\n    clusterName: '<clusterName>'\n    kubernetesRuntimeRPObjectId: '<kubernetesRuntimeRPObjectId>'\n    name: 'krlbwaf001'\n    // Non-required parameters\n    bgpPeers: [\n      'test-peer'\n    ]\n    serviceSelector: {\n      test: 'waf-test'\n    }\n  }\n}"}
{"id": "avm_res_kusto_cluster_example_1", "source": "avm/res/kusto/cluster/README.md", "content_to_embed": "Recommended AVM Module for Kusto Cluster: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Kusto/clusters\nModule ID: br/public:avm/res/kusto/cluster:0.8\nParameters:\nparams: {\n    // Required parameters\n    name: 'kcmin0001'\n    sku: 'Standard_E2ads_v5'\n    // Non-required parameters\n    enableDiskEncryption: true\n    location: '<location>'\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n  }", "bicep": "module cluster 'br/public:avm/res/kusto/cluster:0.8' = {\n  name: 'clusterDeployment'\n  params: {\n    // Required parameters\n    name: 'kcmin0001'\n    sku: 'Standard_E2ads_v5'\n    // Non-required parameters\n    enableDiskEncryption: true\n    location: '<location>'\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n  }\n}"}
{"id": "avm_res_kusto_cluster_example_2", "source": "avm/res/kusto/cluster/README.md", "content_to_embed": "Recommended AVM Module for Kusto Cluster: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Kusto/clusters\nModule ID: br/public:avm/res/kusto/cluster:0.8\nParameters:\nparams: {\n    // Required parameters\n    name: 'kcmax0001'\n    sku: 'Standard_E2ads_v5'\n    // Non-required parameters\n    acceptedAudiences: [\n      {\n        value: 'https://contoso.com'\n      }\n    ]\n    allowedFqdnList: [\n      'contoso.com'\n    ]\n    allowedIpRangeList: [\n      '192.168.1.1'\n    ]\n    autoScaleMax: 6\n    autoScaleMin: 3\n    capacity: 3\n    clusterPrincipalAssignments: [\n      {\n        principalId: '<principalId>'\n        principalType: 'App'\n        role: 'AllDatabasesViewer'\n      }\n    ]\n    databases: [\n      {\n        databasePrincipalAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'App'\n            role: 'Viewer'\n          }\n        ]\n        kind: 'ReadWrite'\n        name: 'myReadWriteDatabase'\n        readWriteProperties: {\n          hotCachePeriod: 'P1D'\n          softDeletePeriod: 'P7D'\n        }\n      }\n    ]\n    enableAutoScale: true\n    enableAutoStop: true\n    enableDiskEncryption: true\n    enableDoubleEncryption: true\n    enablePublicNetworkAccess: true\n    enablePurge: true\n    enableRestrictOutboundNetworkAccess: true\n    enableStreamingIngest: true\n    enableZoneRedundant: true\n    engineType: 'V3'\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    publicIPType: 'DualStack'\n    roleAssignments: [\n      {\n        name: 'c2a4b728-c3d0-47f5-afbb-ea45c45859de'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n  }", "bicep": "module cluster 'br/public:avm/res/kusto/cluster:0.8' = {\n  name: 'clusterDeployment'\n  params: {\n    // Required parameters\n    name: 'kcmax0001'\n    sku: 'Standard_E2ads_v5'\n    // Non-required parameters\n    acceptedAudiences: [\n      {\n        value: 'https://contoso.com'\n      }\n    ]\n    allowedFqdnList: [\n      'contoso.com'\n    ]\n    allowedIpRangeList: [\n      '192.168.1.1'\n    ]\n    autoScaleMax: 6\n    autoScaleMin: 3\n    capacity: 3\n    clusterPrincipalAssignments: [\n      {\n        principalId: '<principalId>'\n        principalType: 'App'\n        role: 'AllDatabasesViewer'\n      }\n    ]\n    databases: [\n      {\n        databasePrincipalAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'App'\n            role: 'Viewer'\n          }\n        ]\n        kind: 'ReadWrite'\n        name: 'myReadWriteDatabase'\n        readWriteProperties: {\n          hotCachePeriod: 'P1D'\n          softDeletePeriod: 'P7D'\n        }\n      }\n    ]\n    enableAutoScale: true\n    enableAutoStop: true\n    enableDiskEncryption: true\n    enableDoubleEncryption: true\n    enablePublicNetworkAccess: true\n    enablePurge: true\n    enableRestrictOutboundNetworkAccess: true\n    enableStreamingIngest: true\n    enableZoneRedundant: true\n    engineType: 'V3'\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    publicIPType: 'DualStack'\n    roleAssignments: [\n      {\n        name: 'c2a4b728-c3d0-47f5-afbb-ea45c45859de'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n  }\n}"}
{"id": "avm_res_kusto_cluster_example_3", "source": "avm/res/kusto/cluster/README.md", "content_to_embed": "Recommended AVM Module for Kusto Cluster: Private endpoint-enabled deployment - This instance deploys the module with private endpoints.\nResource Type Path: Microsoft.Kusto/clusters\nModule ID: br/public:avm/res/kusto/cluster:0.8\nParameters:\nparams: {\n    // Required parameters\n    name: 'kcpe0001'\n    sku: 'Standard_E2ads_v5'\n    // Non-required parameters\n    enablePublicNetworkAccess: false\n    location: '<location>'\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'cluster'\n        subnetResourceId: '<subnetResourceId>'\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'cluster'\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    publicIPType: 'IPv4'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module cluster 'br/public:avm/res/kusto/cluster:0.8' = {\n  name: 'clusterDeployment'\n  params: {\n    // Required parameters\n    name: 'kcpe0001'\n    sku: 'Standard_E2ads_v5'\n    // Non-required parameters\n    enablePublicNetworkAccess: false\n    location: '<location>'\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'cluster'\n        subnetResourceId: '<subnetResourceId>'\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'cluster'\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    publicIPType: 'IPv4'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_kusto_cluster_example_4", "source": "avm/res/kusto/cluster/README.md", "content_to_embed": "Recommended AVM Module for Kusto Cluster: Using Customer-Managed-Keys with System-Assigned identity - This instance deploys the module using Customer-Managed-Keys using a System-Assigned Identity. This required the service to be deployed twice, once as a pre-requisite to create the System-Assigned Identity, and once to use it for accessing the Customer-Managed-Key secret.\nResource Type Path: Microsoft.Kusto/clusters\nModule ID: br/public:avm/res/kusto/cluster:0.8\nParameters:\nparams: {\n    // Required parameters\n    name: '<name>'\n    sku: 'Standard_E2ads_v5'\n    // Non-required parameters\n    customerManagedKey: {\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n    }\n    managedIdentities: {\n      systemAssigned: true\n    }\n  }", "bicep": "module cluster 'br/public:avm/res/kusto/cluster:0.8' = {\n  name: 'clusterDeployment'\n  params: {\n    // Required parameters\n    name: '<name>'\n    sku: 'Standard_E2ads_v5'\n    // Non-required parameters\n    customerManagedKey: {\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n    }\n    managedIdentities: {\n      systemAssigned: true\n    }\n  }\n}"}
{"id": "avm_res_kusto_cluster_example_5", "source": "avm/res/kusto/cluster/README.md", "content_to_embed": "Recommended AVM Module for Kusto Cluster: Using Customer-Managed-Keys with User-Assigned identity - This instance deploys the module using Customer-Managed-Keys using a User-Assigned Identity to access the Customer-Managed-Key secret.\nResource Type Path: Microsoft.Kusto/clusters\nModule ID: br/public:avm/res/kusto/cluster:0.8\nParameters:\nparams: {\n    // Required parameters\n    name: 'kcuencr0001'\n    sku: 'Standard_E2ads_v5'\n    // Non-required parameters\n    customerManagedKey: {\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n      userAssignedIdentityResourceId: '<userAssignedIdentityResourceId>'\n    }\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n  }", "bicep": "module cluster 'br/public:avm/res/kusto/cluster:0.8' = {\n  name: 'clusterDeployment'\n  params: {\n    // Required parameters\n    name: 'kcuencr0001'\n    sku: 'Standard_E2ads_v5'\n    // Non-required parameters\n    customerManagedKey: {\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n      userAssignedIdentityResourceId: '<userAssignedIdentityResourceId>'\n    }\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n  }\n}"}
{"id": "avm_res_kusto_cluster_example_6", "source": "avm/res/kusto/cluster/README.md", "content_to_embed": "Recommended AVM Module for Kusto Cluster: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Kusto/clusters\nModule ID: br/public:avm/res/kusto/cluster:0.8\nParameters:\nparams: {\n    // Required parameters\n    name: 'kcwaf0001'\n    sku: 'Standard_E2ads_v5'\n    // Non-required parameters\n    autoScaleMax: 10\n    autoScaleMin: 3\n    capacity: 3\n    enableAutoScale: true\n    enableAutoStop: true\n    enableDiskEncryption: true\n    enableDoubleEncryption: true\n    enablePublicNetworkAccess: false\n    enableZoneRedundant: true\n    location: '<location>'\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    tags: {\n      Env: 'test'\n      'hidden-title': 'This is visible in the resource name'\n    }\n    tier: 'Standard'\n  }", "bicep": "module cluster 'br/public:avm/res/kusto/cluster:0.8' = {\n  name: 'clusterDeployment'\n  params: {\n    // Required parameters\n    name: 'kcwaf0001'\n    sku: 'Standard_E2ads_v5'\n    // Non-required parameters\n    autoScaleMax: 10\n    autoScaleMin: 3\n    capacity: 3\n    enableAutoScale: true\n    enableAutoStop: true\n    enableDiskEncryption: true\n    enableDoubleEncryption: true\n    enablePublicNetworkAccess: false\n    enableZoneRedundant: true\n    location: '<location>'\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    tags: {\n      Env: 'test'\n      'hidden-title': 'This is visible in the resource name'\n    }\n    tier: 'Standard'\n  }\n}"}
{"id": "avm_res_load-test-service_load-test_example_1", "source": "avm/res/load-test-service/load-test/README.md", "content_to_embed": "Recommended AVM Module for Load Testing Service: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.LoadTestService/loadTests\nModule ID: br/public:avm/res/load-test-service/load-test:0.4\nParameters:\nparams: {\n    // Required parameters\n    name: 'ltmin001'\n    // Non-required parameters\n    location: '<location>'\n  }", "bicep": "module loadTest 'br/public:avm/res/load-test-service/load-test:0.4' = {\n  name: 'loadTestDeployment'\n  params: {\n    // Required parameters\n    name: 'ltmin001'\n    // Non-required parameters\n    location: '<location>'\n  }\n}"}
{"id": "avm_res_load-test-service_load-test_example_2", "source": "avm/res/load-test-service/load-test/README.md", "content_to_embed": "Recommended AVM Module for Load Testing Service: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.LoadTestService/loadTests\nModule ID: br/public:avm/res/load-test-service/load-test:0.4\nParameters:\nparams: {\n    // Required parameters\n    name: 'ltmax001'\n    // Non-required parameters\n    loadTestDescription: 'This is a test load test to validate the module.'\n    location: '<location>'\n    lock: {\n      kind: 'None'\n    }\n    managedIdentities: {\n      systemAssigned: true\n    }\n    roleAssignments: [\n      {\n        name: 'd37a15bc-8634-4f4f-a736-700c1b955cd7'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module loadTest 'br/public:avm/res/load-test-service/load-test:0.4' = {\n  name: 'loadTestDeployment'\n  params: {\n    // Required parameters\n    name: 'ltmax001'\n    // Non-required parameters\n    loadTestDescription: 'This is a test load test to validate the module.'\n    location: '<location>'\n    lock: {\n      kind: 'None'\n    }\n    managedIdentities: {\n      systemAssigned: true\n    }\n    roleAssignments: [\n      {\n        name: 'd37a15bc-8634-4f4f-a736-700c1b955cd7'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_load-test-service_load-test_example_3", "source": "avm/res/load-test-service/load-test/README.md", "content_to_embed": "Recommended AVM Module for Load Testing Service: Using Customer-Managed-Keys with User-Assigned identity - This instance deploys the module using Customer-Managed-Keys using a User-Assigned Identity to access the Customer-Managed-Key secret.\nResource Type Path: Microsoft.LoadTestService/loadTests\nModule ID: br/public:avm/res/load-test-service/load-test:0.4\nParameters:\nparams: {\n    // Required parameters\n    name: 'ltucmk001'\n    // Non-required parameters\n    customerManagedKey: {\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n      userAssignedIdentityResourceId: '<userAssignedIdentityResourceId>'\n    }\n    location: '<location>'\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n  }", "bicep": "module loadTest 'br/public:avm/res/load-test-service/load-test:0.4' = {\n  name: 'loadTestDeployment'\n  params: {\n    // Required parameters\n    name: 'ltucmk001'\n    // Non-required parameters\n    customerManagedKey: {\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n      userAssignedIdentityResourceId: '<userAssignedIdentityResourceId>'\n    }\n    location: '<location>'\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n  }\n}"}
{"id": "avm_res_load-test-service_load-test_example_4", "source": "avm/res/load-test-service/load-test/README.md", "content_to_embed": "Recommended AVM Module for Load Testing Service: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Well-Architected Framework.\nResource Type Path: Microsoft.LoadTestService/loadTests\nModule ID: br/public:avm/res/load-test-service/load-test:0.4\nParameters:\nparams: {\n    // Required parameters\n    name: 'ltwaf001'\n    // Non-required parameters\n    enableTelemetry: '<enableTelemetry>'\n    loadTestDescription: 'This is a sample load test.'\n    location: '<location>'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module loadTest 'br/public:avm/res/load-test-service/load-test:0.4' = {\n  name: 'loadTestDeployment'\n  params: {\n    // Required parameters\n    name: 'ltwaf001'\n    // Non-required parameters\n    enableTelemetry: '<enableTelemetry>'\n    loadTestDescription: 'This is a sample load test.'\n    location: '<location>'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_logic_workflow_example_1", "source": "avm/res/logic/workflow/README.md", "content_to_embed": "Recommended AVM Module for Logic Apps (Workflows): Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Logic/workflows\nModule ID: br/public:avm/res/logic/workflow:0.5\nParameters:\nparams: {\n    // Required parameters\n    name: 'lwmin001'\n    // Non-required parameters\n    location: '<location>'\n  }", "bicep": "module workflow 'br/public:avm/res/logic/workflow:0.5' = {\n  name: 'workflowDeployment'\n  params: {\n    // Required parameters\n    name: 'lwmin001'\n    // Non-required parameters\n    location: '<location>'\n  }\n}"}
{"id": "avm_res_logic_workflow_example_2", "source": "avm/res/logic/workflow/README.md", "content_to_embed": "Recommended AVM Module for Logic Apps (Workflows): Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Logic/workflows\nModule ID: br/public:avm/res/logic/workflow:0.5\nParameters:\nparams: {\n    // Required parameters\n    name: 'lwmax001'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    roleAssignments: [\n      {\n        name: '1f98c16b-ea00-4686-8b81-05353b594ea3'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    workflowActions: {\n      HTTP: {\n        inputs: {\n          body: {\n            BeginPeakTime: '<BeginPeakTime>'\n            EndPeakTime: '<EndPeakTime>'\n            HostPoolName: '<HostPoolName>'\n            LAWorkspaceName: '<LAWorkspaceName>'\n            LimitSecondsToForceLogOffUser: '<LimitSecondsToForceLogOffUser>'\n            LogOffMessageBody: '<LogOffMessageBody>'\n            LogOffMessageTitle: '<LogOffMessageTitle>'\n            MinimumNumberOfRDSH: 1\n            ResourceGroupName: '<ResourceGroupName>'\n            SessionThresholdPerCPU: 1\n            UtcOffset: '<UtcOffset>'\n          }\n          method: 'POST'\n          uri: 'https://testStringForValidation.com'\n        }\n        type: 'Http'\n      }\n    }\n    workflowTriggers: {\n      Recurrence: {\n        recurrence: {\n          frequency: 'Minute'\n          interval: 15\n        }\n        type: 'Recurrence'\n      }\n    }\n  }", "bicep": "module workflow 'br/public:avm/res/logic/workflow:0.5' = {\n  name: 'workflowDeployment'\n  params: {\n    // Required parameters\n    name: 'lwmax001'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    roleAssignments: [\n      {\n        name: '1f98c16b-ea00-4686-8b81-05353b594ea3'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    workflowActions: {\n      HTTP: {\n        inputs: {\n          body: {\n            BeginPeakTime: '<BeginPeakTime>'\n            EndPeakTime: '<EndPeakTime>'\n            HostPoolName: '<HostPoolName>'\n            LAWorkspaceName: '<LAWorkspaceName>'\n            LimitSecondsToForceLogOffUser: '<LimitSecondsToForceLogOffUser>'\n            LogOffMessageBody: '<LogOffMessageBody>'\n            LogOffMessageTitle: '<LogOffMessageTitle>'\n            MinimumNumberOfRDSH: 1\n            ResourceGroupName: '<ResourceGroupName>'\n            SessionThresholdPerCPU: 1\n            UtcOffset: '<UtcOffset>'\n          }\n          method: 'POST'\n          uri: 'https://testStringForValidation.com'\n        }\n        type: 'Http'\n      }\n    }\n    workflowTriggers: {\n      Recurrence: {\n        recurrence: {\n          frequency: 'Minute'\n          interval: 15\n        }\n        type: 'Recurrence'\n      }\n    }\n  }\n}"}
{"id": "avm_res_logic_workflow_example_3", "source": "avm/res/logic/workflow/README.md", "content_to_embed": "Recommended AVM Module for Logic Apps (Workflows): WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Logic/workflows\nModule ID: br/public:avm/res/logic/workflow:0.5\nParameters:\nparams: {\n    // Required parameters\n    name: 'lwwaf001'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    workflowActions: {\n      HTTP: {\n        inputs: {\n          body: {\n            BeginPeakTime: '<BeginPeakTime>'\n            EndPeakTime: '<EndPeakTime>'\n            HostPoolName: '<HostPoolName>'\n            LAWorkspaceName: '<LAWorkspaceName>'\n            LimitSecondsToForceLogOffUser: '<LimitSecondsToForceLogOffUser>'\n            LogOffMessageBody: '<LogOffMessageBody>'\n            LogOffMessageTitle: '<LogOffMessageTitle>'\n            MinimumNumberOfRDSH: 1\n            ResourceGroupName: '<ResourceGroupName>'\n            SessionThresholdPerCPU: 1\n            UtcOffset: '<UtcOffset>'\n          }\n          method: 'POST'\n          uri: 'https://testStringForValidation.com'\n        }\n        type: 'Http'\n      }\n    }\n    workflowTriggers: {\n      Recurrence: {\n        recurrence: {\n          frequency: 'Minute'\n          interval: 15\n        }\n        type: 'Recurrence'\n      }\n    }\n  }", "bicep": "module workflow 'br/public:avm/res/logic/workflow:0.5' = {\n  name: 'workflowDeployment'\n  params: {\n    // Required parameters\n    name: 'lwwaf001'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    workflowActions: {\n      HTTP: {\n        inputs: {\n          body: {\n            BeginPeakTime: '<BeginPeakTime>'\n            EndPeakTime: '<EndPeakTime>'\n            HostPoolName: '<HostPoolName>'\n            LAWorkspaceName: '<LAWorkspaceName>'\n            LimitSecondsToForceLogOffUser: '<LimitSecondsToForceLogOffUser>'\n            LogOffMessageBody: '<LogOffMessageBody>'\n            LogOffMessageTitle: '<LogOffMessageTitle>'\n            MinimumNumberOfRDSH: 1\n            ResourceGroupName: '<ResourceGroupName>'\n            SessionThresholdPerCPU: 1\n            UtcOffset: '<UtcOffset>'\n          }\n          method: 'POST'\n          uri: 'https://testStringForValidation.com'\n        }\n        type: 'Http'\n      }\n    }\n    workflowTriggers: {\n      Recurrence: {\n        recurrence: {\n          frequency: 'Minute'\n          interval: 15\n        }\n        type: 'Recurrence'\n      }\n    }\n  }\n}"}
{"id": "avm_res_machine-learning-services_registry_example_1", "source": "avm/res/machine-learning-services/registry/README.md", "content_to_embed": "Recommended AVM Module for Azure ML Registry: Using only defaults for AML Registry - This test deploys the AML Registry module with the minimum required parameters and mocked values.\nResource Type Path: Microsoft.MachineLearningServices/registries\nModule ID: br/public:avm/res/machine-learning-services/registry:0.1\nParameters:\nparams: {\n    name: 'mlsrmin001'\n  }", "bicep": "module registry 'br/public:avm/res/machine-learning-services/registry:0.1' = {\n  name: 'registryDeployment'\n  params: {\n    name: 'mlsrmin001'\n  }\n}"}
{"id": "avm_res_machine-learning-services_registry_example_2", "source": "avm/res/machine-learning-services/registry/README.md", "content_to_embed": "Recommended AVM Module for Azure ML Registry: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.MachineLearningServices/registries\nModule ID: br/public:avm/res/machine-learning-services/registry:0.1\nParameters:\nparams: {\n    // Required parameters\n    name: 'mlsrmax001'\n    // Non-required parameters\n    acrAccountName: '<acrAccountName>'\n    acrSku: 'Premium'\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    roleAssignments: [\n      {\n        name: '8f8b1c39-827f-43e6-a457-98bb15b5dbdf'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    storageAccountAllowBlobPublicAccess: false\n    storageAccountHnsEnabled: true\n    storageAccountName: '<storageAccountName>'\n    storageAccountType: 'Standard_ZRS'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module registry 'br/public:avm/res/machine-learning-services/registry:0.1' = {\n  name: 'registryDeployment'\n  params: {\n    // Required parameters\n    name: 'mlsrmax001'\n    // Non-required parameters\n    acrAccountName: '<acrAccountName>'\n    acrSku: 'Premium'\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    roleAssignments: [\n      {\n        name: '8f8b1c39-827f-43e6-a457-98bb15b5dbdf'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    storageAccountAllowBlobPublicAccess: false\n    storageAccountHnsEnabled: true\n    storageAccountName: '<storageAccountName>'\n    storageAccountType: 'Standard_ZRS'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_machine-learning-services_registry_example_3", "source": "avm/res/machine-learning-services/registry/README.md", "content_to_embed": "Recommended AVM Module for Azure ML Registry: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.MachineLearningServices/registries\nModule ID: br/public:avm/res/machine-learning-services/registry:0.1\nParameters:\nparams: {\n    // Required parameters\n    name: 'mlsrwaf001'\n    // Non-required parameters\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module registry 'br/public:avm/res/machine-learning-services/registry:0.1' = {\n  name: 'registryDeployment'\n  params: {\n    // Required parameters\n    name: 'mlsrwaf001'\n    // Non-required parameters\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_machine-learning-services_workspace_example_1", "source": "avm/res/machine-learning-services/workspace/README.md", "content_to_embed": "Recommended AVM Module for Machine Learning Services Workspaces: Creating Azure AI Studio hub resource - This instance deploys an Azure AI hub workspace.\nResource Type Path: Microsoft.MachineLearningServices/workspaces\nModule ID: br/public:avm/res/machine-learning-services/workspace:0.13\nParameters:\nparams: {\n    // Required parameters\n    name: 'mlswaih001'\n    sku: 'Basic'\n    // Non-required parameters\n    associatedApplicationInsightsResourceId: '<associatedApplicationInsightsResourceId>'\n    associatedKeyVaultResourceId: '<associatedKeyVaultResourceId>'\n    associatedStorageAccountResourceId: '<associatedStorageAccountResourceId>'\n    kind: 'Hub'\n    location: '<location>'\n    workspaceHubConfig: {\n      additionalWorkspaceStorageAccounts: '<additionalWorkspaceStorageAccounts>'\n      defaultWorkspaceResourceGroup: '<defaultWorkspaceResourceGroup>'\n    }\n  }", "bicep": "module workspace 'br/public:avm/res/machine-learning-services/workspace:0.13' = {\n  name: 'workspaceDeployment'\n  params: {\n    // Required parameters\n    name: 'mlswaih001'\n    sku: 'Basic'\n    // Non-required parameters\n    associatedApplicationInsightsResourceId: '<associatedApplicationInsightsResourceId>'\n    associatedKeyVaultResourceId: '<associatedKeyVaultResourceId>'\n    associatedStorageAccountResourceId: '<associatedStorageAccountResourceId>'\n    kind: 'Hub'\n    location: '<location>'\n    workspaceHubConfig: {\n      additionalWorkspaceStorageAccounts: '<additionalWorkspaceStorageAccounts>'\n      defaultWorkspaceResourceGroup: '<defaultWorkspaceResourceGroup>'\n    }\n  }\n}"}
{"id": "avm_res_machine-learning-services_workspace_example_2", "source": "avm/res/machine-learning-services/workspace/README.md", "content_to_embed": "Recommended AVM Module for Machine Learning Services Workspaces: Creating Azure AI Studio project resource - This instance deploys an Azure AI project workspace.\nResource Type Path: Microsoft.MachineLearningServices/workspaces\nModule ID: br/public:avm/res/machine-learning-services/workspace:0.13\nParameters:\nparams: {\n    // Required parameters\n    name: 'mlswaip001'\n    sku: 'Basic'\n    // Non-required parameters\n    hubResourceId: '<hubResourceId>'\n    kind: 'Project'\n    location: '<location>'\n  }", "bicep": "module workspace 'br/public:avm/res/machine-learning-services/workspace:0.13' = {\n  name: 'workspaceDeployment'\n  params: {\n    // Required parameters\n    name: 'mlswaip001'\n    sku: 'Basic'\n    // Non-required parameters\n    hubResourceId: '<hubResourceId>'\n    kind: 'Project'\n    location: '<location>'\n  }\n}"}
{"id": "avm_res_machine-learning-services_workspace_example_3", "source": "avm/res/machine-learning-services/workspace/README.md", "content_to_embed": "Recommended AVM Module for Machine Learning Services Workspaces: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.MachineLearningServices/workspaces\nModule ID: br/public:avm/res/machine-learning-services/workspace:0.13\nParameters:\nparams: {\n    // Required parameters\n    name: 'mlswmin001'\n    sku: 'Basic'\n    // Non-required parameters\n    associatedApplicationInsightsResourceId: '<associatedApplicationInsightsResourceId>'\n    associatedKeyVaultResourceId: '<associatedKeyVaultResourceId>'\n    associatedStorageAccountResourceId: '<associatedStorageAccountResourceId>'\n    location: '<location>'\n  }", "bicep": "module workspace 'br/public:avm/res/machine-learning-services/workspace:0.13' = {\n  name: 'workspaceDeployment'\n  params: {\n    // Required parameters\n    name: 'mlswmin001'\n    sku: 'Basic'\n    // Non-required parameters\n    associatedApplicationInsightsResourceId: '<associatedApplicationInsightsResourceId>'\n    associatedKeyVaultResourceId: '<associatedKeyVaultResourceId>'\n    associatedStorageAccountResourceId: '<associatedStorageAccountResourceId>'\n    location: '<location>'\n  }\n}"}
{"id": "avm_res_machine-learning-services_workspace_example_4", "source": "avm/res/machine-learning-services/workspace/README.md", "content_to_embed": "Recommended AVM Module for Machine Learning Services Workspaces: Using Customer-Managed-Keys with User-Assigned identity - This instance deploys the module using Customer-Managed-Keys using a User-Assigned Identity to access the Customer-Managed-Key secret.\nResource Type Path: Microsoft.MachineLearningServices/workspaces\nModule ID: br/public:avm/res/machine-learning-services/workspace:0.13\nParameters:\nparams: {\n    // Required parameters\n    name: 'mlswecr001'\n    sku: 'Basic'\n    // Non-required parameters\n    associatedApplicationInsightsResourceId: '<associatedApplicationInsightsResourceId>'\n    associatedKeyVaultResourceId: '<associatedKeyVaultResourceId>'\n    associatedStorageAccountResourceId: '<associatedStorageAccountResourceId>'\n    customerManagedKey: {\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n      userAssignedIdentityResourceId: '<userAssignedIdentityResourceId>'\n    }\n    location: '<location>'\n    managedIdentities: {\n      systemAssigned: false\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    managedNetworkSettings: {\n      firewallSku: 'Basic'\n      isolationMode: 'AllowInternetOutbound'\n      outboundRules: {\n        rule: {\n          category: 'UserDefined'\n          destination: {\n            serviceResourceId: '<serviceResourceId>'\n            subresourceTarget: 'blob'\n          }\n          type: 'PrivateEndpoint'\n        }\n      }\n    }\n    primaryUserAssignedIdentity: '<primaryUserAssignedIdentity>'\n  }", "bicep": "module workspace 'br/public:avm/res/machine-learning-services/workspace:0.13' = {\n  name: 'workspaceDeployment'\n  params: {\n    // Required parameters\n    name: 'mlswecr001'\n    sku: 'Basic'\n    // Non-required parameters\n    associatedApplicationInsightsResourceId: '<associatedApplicationInsightsResourceId>'\n    associatedKeyVaultResourceId: '<associatedKeyVaultResourceId>'\n    associatedStorageAccountResourceId: '<associatedStorageAccountResourceId>'\n    customerManagedKey: {\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n      userAssignedIdentityResourceId: '<userAssignedIdentityResourceId>'\n    }\n    location: '<location>'\n    managedIdentities: {\n      systemAssigned: false\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    managedNetworkSettings: {\n      firewallSku: 'Basic'\n      isolationMode: 'AllowInternetOutbound'\n      outboundRules: {\n        rule: {\n          category: 'UserDefined'\n          destination: {\n            serviceResourceId: '<serviceResourceId>'\n            subresourceTarget: 'blob'\n          }\n          type: 'PrivateEndpoint'\n        }\n      }\n    }\n    primaryUserAssignedIdentity: '<primaryUserAssignedIdentity>'\n  }\n}"}
{"id": "avm_res_machine-learning-services_workspace_example_5", "source": "avm/res/machine-learning-services/workspace/README.md", "content_to_embed": "Recommended AVM Module for Machine Learning Services Workspaces: Creating Azure ML managed feature store - This instance deploys an Azure ML managed feature store.\nResource Type Path: Microsoft.MachineLearningServices/workspaces\nModule ID: br/public:avm/res/machine-learning-services/workspace:0.13\nParameters:\nparams: {\n    // Required parameters\n    name: 'mlswfs001'\n    sku: 'Basic'\n    // Non-required parameters\n    associatedApplicationInsightsResourceId: '<associatedApplicationInsightsResourceId>'\n    associatedKeyVaultResourceId: '<associatedKeyVaultResourceId>'\n    associatedStorageAccountResourceId: '<associatedStorageAccountResourceId>'\n    featureStoreSettings: {\n      computeRuntime: {\n        sparkRuntimeVersion: '3.3'\n      }\n    }\n    kind: 'FeatureStore'\n    location: '<location>'\n  }", "bicep": "module workspace 'br/public:avm/res/machine-learning-services/workspace:0.13' = {\n  name: 'workspaceDeployment'\n  params: {\n    // Required parameters\n    name: 'mlswfs001'\n    sku: 'Basic'\n    // Non-required parameters\n    associatedApplicationInsightsResourceId: '<associatedApplicationInsightsResourceId>'\n    associatedKeyVaultResourceId: '<associatedKeyVaultResourceId>'\n    associatedStorageAccountResourceId: '<associatedStorageAccountResourceId>'\n    featureStoreSettings: {\n      computeRuntime: {\n        sparkRuntimeVersion: '3.3'\n      }\n    }\n    kind: 'FeatureStore'\n    location: '<location>'\n  }\n}"}
{"id": "avm_res_machine-learning-services_workspace_example_6", "source": "avm/res/machine-learning-services/workspace/README.md", "content_to_embed": "Recommended AVM Module for Machine Learning Services Workspaces: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.MachineLearningServices/workspaces\nModule ID: br/public:avm/res/machine-learning-services/workspace:0.13\nParameters:\nparams: {\n    // Required parameters\n    name: 'mlswmax001'\n    sku: 'Premium'\n    // Non-required parameters\n    associatedApplicationInsightsResourceId: '<associatedApplicationInsightsResourceId>'\n    associatedKeyVaultResourceId: '<associatedKeyVaultResourceId>'\n    associatedStorageAccountResourceId: '<associatedStorageAccountResourceId>'\n    computes: [\n      {\n        computeLocation: '<computeLocation>'\n        computeType: 'AmlCompute'\n        description: 'Default CPU Cluster'\n        disableLocalAuth: false\n        location: '<location>'\n        managedIdentities: {\n          systemAssigned: false\n          userAssignedResourceIds: [\n            '<managedIdentityResourceId>'\n          ]\n        }\n        name: 'DefaultCPU'\n        properties: {\n          enableNodePublicIp: true\n          isolatedNetwork: false\n          osType: 'Linux'\n          remoteLoginPortPublicAccess: 'Disabled'\n          scaleSettings: {\n            maxNodeCount: 3\n            minNodeCount: 0\n            nodeIdleTimeBeforeScaleDown: 'PT5M'\n          }\n          vmPriority: 'Dedicated'\n          vmSize: 'STANDARD_DS11_V2'\n        }\n        sku: 'Basic'\n      }\n    ]\n    datastores: [\n      {\n        name: 'datastore'\n        properties: {\n          accountName: 'myaccount'\n          containerName: 'my-container'\n          credentials: {\n            credentialsType: 'None'\n          }\n          datastoreType: 'AzureBlob'\n          endpoint: '<endpoint>'\n          protocol: 'https'\n          resourceGroup: '<resourceGroup>'\n          serviceDataAccessAuthIdentity: 'None'\n          subscriptionId: '<subscriptionId>'\n        }\n      }\n    ]\n    description: 'The cake is a lie.'\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    discoveryUrl: 'http://example.com'\n    friendlyName: 'Workspace'\n    imageBuildCompute: 'testcompute'\n    ipAllowlist: [\n      '1.2.3.4/32'\n    ]\n    kind: 'Default'\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: false\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    managedNetworkSettings: {\n      isolationMode: 'Disabled'\n    }\n    primaryUserAssignedIdentity: '<primaryUserAssignedIdentity>'\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          name: 'group1'\n          privateDnsZoneGroupConfigs: [\n            {\n              name: 'config1'\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n      {\n        privateDnsZoneGroup: {\n          name: 'group2'\n          privateDnsZoneGroupConfigs: [\n            {\n              name: 'config2'\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    provisionNetworkNow: true\n    roleAssignments: [\n      {\n        name: 'f9b5b0d9-f27e-4c89-bacf-1bbc4a99dbce'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    serverlessComputeSettings: {\n      serverlessComputeCustomSubnet: '<serverlessComputeCustomSubnet>'\n      serverlessComputeNoPublicIP: true\n    }\n    systemDatastoresAuthMode: 'AccessKey'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module workspace 'br/public:avm/res/machine-learning-services/workspace:0.13' = {\n  name: 'workspaceDeployment'\n  params: {\n    // Required parameters\n    name: 'mlswmax001'\n    sku: 'Premium'\n    // Non-required parameters\n    associatedApplicationInsightsResourceId: '<associatedApplicationInsightsResourceId>'\n    associatedKeyVaultResourceId: '<associatedKeyVaultResourceId>'\n    associatedStorageAccountResourceId: '<associatedStorageAccountResourceId>'\n    computes: [\n      {\n        computeLocation: '<computeLocation>'\n        computeType: 'AmlCompute'\n        description: 'Default CPU Cluster'\n        disableLocalAuth: false\n        location: '<location>'\n        managedIdentities: {\n          systemAssigned: false\n          userAssignedResourceIds: [\n            '<managedIdentityResourceId>'\n          ]\n        }\n        name: 'DefaultCPU'\n        properties: {\n          enableNodePublicIp: true\n          isolatedNetwork: false\n          osType: 'Linux'\n          remoteLoginPortPublicAccess: 'Disabled'\n          scaleSettings: {\n            maxNodeCount: 3\n            minNodeCount: 0\n            nodeIdleTimeBeforeScaleDown: 'PT5M'\n          }\n          vmPriority: 'Dedicated'\n          vmSize: 'STANDARD_DS11_V2'\n        }\n        sku: 'Basic'\n      }\n    ]\n    datastores: [\n      {\n        name: 'datastore'\n        properties: {\n          accountName: 'myaccount'\n          containerName: 'my-container'\n          credentials: {\n            credentialsType: 'None'\n          }\n          datastoreType: 'AzureBlob'\n          endpoint: '<endpoint>'\n          protocol: 'https'\n          resourceGroup: '<resourceGroup>'\n          serviceDataAccessAuthIdentity: 'None'\n          subscriptionId: '<subscriptionId>'\n        }\n      }\n    ]\n    description: 'The cake is a lie.'\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    discoveryUrl: 'http://example.com'\n    friendlyName: 'Workspace'\n    imageBuildCompute: 'testcompute'\n    ipAllowlist: [\n      '1.2.3.4/32'\n    ]\n    kind: 'Default'\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: false\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    managedNetworkSettings: {\n      isolationMode: 'Disabled'\n    }\n    primaryUserAssignedIdentity: '<primaryUserAssignedIdentity>'\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          name: 'group1'\n          privateDnsZoneGroupConfigs: [\n            {\n              name: 'config1'\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n      {\n        privateDnsZoneGroup: {\n          name: 'group2'\n          privateDnsZoneGroupConfigs: [\n            {\n              name: 'config2'\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    provisionNetworkNow: true\n    roleAssignments: [\n      {\n        name: 'f9b5b0d9-f27e-4c89-bacf-1bbc4a99dbce'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    serverlessComputeSettings: {\n      serverlessComputeCustomSubnet: '<serverlessComputeCustomSubnet>'\n      serverlessComputeNoPublicIP: true\n    }\n    systemDatastoresAuthMode: 'AccessKey'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_machine-learning-services_workspace_example_7", "source": "avm/res/machine-learning-services/workspace/README.md", "content_to_embed": "Recommended AVM Module for Machine Learning Services Workspaces: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.MachineLearningServices/workspaces\nModule ID: br/public:avm/res/machine-learning-services/workspace:0.13\nParameters:\nparams: {\n    // Required parameters\n    name: 'mlswwaf001'\n    sku: 'Standard'\n    // Non-required parameters\n    associatedApplicationInsightsResourceId: '<associatedApplicationInsightsResourceId>'\n    associatedKeyVaultResourceId: '<associatedKeyVaultResourceId>'\n    associatedStorageAccountResourceId: '<associatedStorageAccountResourceId>'\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    location: '<location>'\n    managedNetworkSettings: {\n      firewallSku: 'Standard'\n      isolationMode: 'AllowOnlyApprovedOutbound'\n      outboundRules: {\n        rule1: {\n          category: 'UserDefined'\n          destination: {\n            serviceResourceId: '<serviceResourceId>'\n            sparkEnabled: true\n            subresourceTarget: 'blob'\n          }\n          type: 'PrivateEndpoint'\n        }\n        rule2: {\n          category: 'UserDefined'\n          destination: 'pypi.org'\n          type: 'FQDN'\n        }\n        rule3: {\n          category: 'UserDefined'\n          destination: {\n            portRanges: '80,443'\n            protocol: 'TCP'\n            serviceTag: 'AppService'\n          }\n          type: 'ServiceTag'\n        }\n      }\n    }\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n    ]\n    systemDatastoresAuthMode: 'Identity'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module workspace 'br/public:avm/res/machine-learning-services/workspace:0.13' = {\n  name: 'workspaceDeployment'\n  params: {\n    // Required parameters\n    name: 'mlswwaf001'\n    sku: 'Standard'\n    // Non-required parameters\n    associatedApplicationInsightsResourceId: '<associatedApplicationInsightsResourceId>'\n    associatedKeyVaultResourceId: '<associatedKeyVaultResourceId>'\n    associatedStorageAccountResourceId: '<associatedStorageAccountResourceId>'\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    location: '<location>'\n    managedNetworkSettings: {\n      firewallSku: 'Standard'\n      isolationMode: 'AllowOnlyApprovedOutbound'\n      outboundRules: {\n        rule1: {\n          category: 'UserDefined'\n          destination: {\n            serviceResourceId: '<serviceResourceId>'\n            sparkEnabled: true\n            subresourceTarget: 'blob'\n          }\n          type: 'PrivateEndpoint'\n        }\n        rule2: {\n          category: 'UserDefined'\n          destination: 'pypi.org'\n          type: 'FQDN'\n        }\n        rule3: {\n          category: 'UserDefined'\n          destination: {\n            portRanges: '80,443'\n            protocol: 'TCP'\n            serviceTag: 'AppService'\n          }\n          type: 'ServiceTag'\n        }\n      }\n    }\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n    ]\n    systemDatastoresAuthMode: 'Identity'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_maintenance_configuration-assignment_example_1", "source": "avm/res/maintenance/configuration-assignment/README.md", "content_to_embed": "Recommended AVM Module for Maintenance Configuration Assignments: Using only defaults - This instance deploys the module with the minimum set of required parameters. This instance uses filters to define a dynamic scope and assign it to the input maintenance configuration. The dynamic scope will be resolved at run time.\nResource Type Path: Microsoft.Maintenance/configurationAssignments\nModule ID: br/public:avm/res/maintenance/configuration-assignment:0.2\nParameters:\nparams: {\n    // Required parameters\n    maintenanceConfigurationResourceId: '<maintenanceConfigurationResourceId>'\n    name: 'mcamin001'\n    // Non-required parameters\n    filter: {\n      osTypes: [\n        'Linux'\n        'Windows'\n      ]\n      resourceTypes: [\n        'Virtual Machines'\n      ]\n    }\n  }", "bicep": "module configurationAssignment 'br/public:avm/res/maintenance/configuration-assignment:0.2' = {\n  name: 'configurationAssignmentDeployment'\n  params: {\n    // Required parameters\n    maintenanceConfigurationResourceId: '<maintenanceConfigurationResourceId>'\n    name: 'mcamin001'\n    // Non-required parameters\n    filter: {\n      osTypes: [\n        'Linux'\n        'Windows'\n      ]\n      resourceTypes: [\n        'Virtual Machines'\n      ]\n    }\n  }\n}"}
{"id": "avm_res_maintenance_configuration-assignment_example_2", "source": "avm/res/maintenance/configuration-assignment/README.md", "content_to_embed": "Recommended AVM Module for Maintenance Configuration Assignments: Using filter tags - This instance deploys the module using filters with tags to define a dynamic scope and assign it to the input maintenance configuration. The dynamic scope will be resolved at run time.\nResource Type Path: Microsoft.Maintenance/configurationAssignments\nModule ID: br/public:avm/res/maintenance/configuration-assignment:0.2\nParameters:\nparams: {\n    // Required parameters\n    maintenanceConfigurationResourceId: '<maintenanceConfigurationResourceId>'\n    name: 'mcatag001'\n    // Non-required parameters\n    filter: {\n      osTypes: [\n        'Linux'\n        'Windows'\n      ]\n      resourceTypes: [\n        'Virtual Machines'\n      ]\n      tagSettings: {\n        filterOperator: 'All'\n        tags: {\n          cake: [\n            'lie'\n          ]\n          foo: [\n            'bar'\n          ]\n        }\n      }\n    }\n  }", "bicep": "module configurationAssignment 'br/public:avm/res/maintenance/configuration-assignment:0.2' = {\n  name: 'configurationAssignmentDeployment'\n  params: {\n    // Required parameters\n    maintenanceConfigurationResourceId: '<maintenanceConfigurationResourceId>'\n    name: 'mcatag001'\n    // Non-required parameters\n    filter: {\n      osTypes: [\n        'Linux'\n        'Windows'\n      ]\n      resourceTypes: [\n        'Virtual Machines'\n      ]\n      tagSettings: {\n        filterOperator: 'All'\n        tags: {\n          cake: [\n            'lie'\n          ]\n          foo: [\n            'bar'\n          ]\n        }\n      }\n    }\n  }\n}"}
{"id": "avm_res_maintenance_configuration-assignment_example_3", "source": "avm/res/maintenance/configuration-assignment/README.md", "content_to_embed": "Recommended AVM Module for Maintenance Configuration Assignments: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework. This instance assigns an existing Linux virtual machine to the input maintenance configuration.\nResource Type Path: Microsoft.Maintenance/configurationAssignments\nModule ID: br/public:avm/res/maintenance/configuration-assignment:0.2\nParameters:\nparams: {\n    // Required parameters\n    maintenanceConfigurationResourceId: '<maintenanceConfigurationResourceId>'\n    name: 'mcawaf001'\n    // Non-required parameters\n    resourceId: '<resourceId>'\n  }", "bicep": "module configurationAssignment 'br/public:avm/res/maintenance/configuration-assignment:0.2' = {\n  name: 'configurationAssignmentDeployment'\n  params: {\n    // Required parameters\n    maintenanceConfigurationResourceId: '<maintenanceConfigurationResourceId>'\n    name: 'mcawaf001'\n    // Non-required parameters\n    resourceId: '<resourceId>'\n  }\n}"}
{"id": "avm_res_maintenance_configuration-assignment_example_4", "source": "avm/res/maintenance/configuration-assignment/README.md", "content_to_embed": "Recommended AVM Module for Maintenance Configuration Assignments: Multi resource group - This instance deploys the module leveraging virtual machine and maintenance configuration dependencies from two different resource groups. This instance assigns an existing Windows virtual machine to the input maintenance configuration.\nResource Type Path: Microsoft.Maintenance/configurationAssignments\nModule ID: br/public:avm/res/maintenance/configuration-assignment:0.2\nParameters:\nparams: {\n    // Required parameters\n    maintenanceConfigurationResourceId: '<maintenanceConfigurationResourceId>'\n    name: 'mcamrg001'\n    // Non-required parameters\n    resourceId: '<resourceId>'\n  }", "bicep": "module configurationAssignment 'br/public:avm/res/maintenance/configuration-assignment:0.2' = {\n  name: 'configurationAssignmentDeployment'\n  params: {\n    // Required parameters\n    maintenanceConfigurationResourceId: '<maintenanceConfigurationResourceId>'\n    name: 'mcamrg001'\n    // Non-required parameters\n    resourceId: '<resourceId>'\n  }\n}"}
{"id": "avm_res_maintenance_maintenance-configuration_example_1", "source": "avm/res/maintenance/maintenance-configuration/README.md", "content_to_embed": "Recommended AVM Module for Maintenance Configurations: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Maintenance/maintenanceConfigurations\nModule ID: br/public:avm/res/maintenance/maintenance-configuration:0.3\nParameters:\nparams: {\n    // Required parameters\n    name: 'mmcmin001'\n    // Non-required parameters\n    location: '<location>'\n  }", "bicep": "module maintenanceConfiguration 'br/public:avm/res/maintenance/maintenance-configuration:0.3' = {\n  name: 'maintenanceConfigurationDeployment'\n  params: {\n    // Required parameters\n    name: 'mmcmin001'\n    // Non-required parameters\n    location: '<location>'\n  }\n}"}
{"id": "avm_res_maintenance_maintenance-configuration_example_2", "source": "avm/res/maintenance/maintenance-configuration/README.md", "content_to_embed": "Recommended AVM Module for Maintenance Configurations: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Maintenance/maintenanceConfigurations\nModule ID: br/public:avm/res/maintenance/maintenance-configuration:0.3\nParameters:\nparams: {\n    // Required parameters\n    name: 'mmcmax001'\n    // Non-required parameters\n    extensionProperties: {\n      InGuestPatchMode: 'User'\n    }\n    installPatches: {\n      linuxParameters: {\n        classificationsToInclude: '<classificationsToInclude>'\n        packageNameMasksToExclude: '<packageNameMasksToExclude>'\n        packageNameMasksToInclude: '<packageNameMasksToInclude>'\n      }\n      rebootSetting: 'IfRequired'\n      windowsParameters: {\n        classificationsToInclude: [\n          'Critical'\n          'Security'\n        ]\n        kbNumbersToExclude: '<kbNumbersToExclude>'\n        kbNumbersToInclude: '<kbNumbersToInclude>'\n      }\n    }\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    maintenanceScope: 'InGuestPatch'\n    maintenanceWindow: {\n      duration: '03:00'\n      expirationDateTime: '9999-12-31 23:59:59'\n      recurEvery: 'Day'\n      startDateTime: '2022-12-31 13:00'\n      timeZone: 'W. Europe Standard Time'\n    }\n    namespace: 'mmcmaxns'\n    roleAssignments: [\n      {\n        name: 'd78ec5f7-4692-4f43-8c17-7569466bbed5'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    visibility: 'Custom'\n  }", "bicep": "module maintenanceConfiguration 'br/public:avm/res/maintenance/maintenance-configuration:0.3' = {\n  name: 'maintenanceConfigurationDeployment'\n  params: {\n    // Required parameters\n    name: 'mmcmax001'\n    // Non-required parameters\n    extensionProperties: {\n      InGuestPatchMode: 'User'\n    }\n    installPatches: {\n      linuxParameters: {\n        classificationsToInclude: '<classificationsToInclude>'\n        packageNameMasksToExclude: '<packageNameMasksToExclude>'\n        packageNameMasksToInclude: '<packageNameMasksToInclude>'\n      }\n      rebootSetting: 'IfRequired'\n      windowsParameters: {\n        classificationsToInclude: [\n          'Critical'\n          'Security'\n        ]\n        kbNumbersToExclude: '<kbNumbersToExclude>'\n        kbNumbersToInclude: '<kbNumbersToInclude>'\n      }\n    }\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    maintenanceScope: 'InGuestPatch'\n    maintenanceWindow: {\n      duration: '03:00'\n      expirationDateTime: '9999-12-31 23:59:59'\n      recurEvery: 'Day'\n      startDateTime: '2022-12-31 13:00'\n      timeZone: 'W. Europe Standard Time'\n    }\n    namespace: 'mmcmaxns'\n    roleAssignments: [\n      {\n        name: 'd78ec5f7-4692-4f43-8c17-7569466bbed5'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    visibility: 'Custom'\n  }\n}"}
{"id": "avm_res_maintenance_maintenance-configuration_example_3", "source": "avm/res/maintenance/maintenance-configuration/README.md", "content_to_embed": "Recommended AVM Module for Maintenance Configurations: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Maintenance/maintenanceConfigurations\nModule ID: br/public:avm/res/maintenance/maintenance-configuration:0.3\nParameters:\nparams: {\n    // Required parameters\n    name: 'mmcwaf001'\n    // Non-required parameters\n    extensionProperties: {\n      InGuestPatchMode: 'User'\n    }\n    installPatches: {\n      linuxParameters: {\n        classificationsToInclude: '<classificationsToInclude>'\n        packageNameMasksToExclude: '<packageNameMasksToExclude>'\n        packageNameMasksToInclude: '<packageNameMasksToInclude>'\n      }\n      rebootSetting: 'IfRequired'\n      windowsParameters: {\n        classificationsToInclude: [\n          'Critical'\n          'Security'\n        ]\n        kbNumbersToExclude: '<kbNumbersToExclude>'\n        kbNumbersToInclude: '<kbNumbersToInclude>'\n      }\n    }\n    location: '<location>'\n    maintenanceScope: 'InGuestPatch'\n    maintenanceWindow: {\n      duration: '03:00'\n      expirationDateTime: '9999-12-31 23:59:59'\n      recurEvery: 'Day'\n      startDateTime: '2022-12-31 13:00'\n      timeZone: 'W. Europe Standard Time'\n    }\n    namespace: 'mmcwafns'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    visibility: 'Custom'\n  }", "bicep": "module maintenanceConfiguration 'br/public:avm/res/maintenance/maintenance-configuration:0.3' = {\n  name: 'maintenanceConfigurationDeployment'\n  params: {\n    // Required parameters\n    name: 'mmcwaf001'\n    // Non-required parameters\n    extensionProperties: {\n      InGuestPatchMode: 'User'\n    }\n    installPatches: {\n      linuxParameters: {\n        classificationsToInclude: '<classificationsToInclude>'\n        packageNameMasksToExclude: '<packageNameMasksToExclude>'\n        packageNameMasksToInclude: '<packageNameMasksToInclude>'\n      }\n      rebootSetting: 'IfRequired'\n      windowsParameters: {\n        classificationsToInclude: [\n          'Critical'\n          'Security'\n        ]\n        kbNumbersToExclude: '<kbNumbersToExclude>'\n        kbNumbersToInclude: '<kbNumbersToInclude>'\n      }\n    }\n    location: '<location>'\n    maintenanceScope: 'InGuestPatch'\n    maintenanceWindow: {\n      duration: '03:00'\n      expirationDateTime: '9999-12-31 23:59:59'\n      recurEvery: 'Day'\n      startDateTime: '2022-12-31 13:00'\n      timeZone: 'W. Europe Standard Time'\n    }\n    namespace: 'mmcwafns'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    visibility: 'Custom'\n  }\n}"}
{"id": "avm_res_managed-identity_user-assigned-identity_example_1", "source": "avm/res/managed-identity/user-assigned-identity/README.md", "content_to_embed": "Recommended AVM Module for User Assigned Identities: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.ManagedIdentity/userAssignedIdentities\nModule ID: br/public:avm/res/managed-identity/user-assigned-identity:0.4\nParameters:\nparams: {\n    // Required parameters\n    name: 'miuaimin001'\n    // Non-required parameters\n    location: '<location>'\n  }", "bicep": "module userAssignedIdentity 'br/public:avm/res/managed-identity/user-assigned-identity:0.4' = {\n  name: 'userAssignedIdentityDeployment'\n  params: {\n    // Required parameters\n    name: 'miuaimin001'\n    // Non-required parameters\n    location: '<location>'\n  }\n}"}
{"id": "avm_res_managed-identity_user-assigned-identity_example_2", "source": "avm/res/managed-identity/user-assigned-identity/README.md", "content_to_embed": "Recommended AVM Module for User Assigned Identities: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.ManagedIdentity/userAssignedIdentities\nModule ID: br/public:avm/res/managed-identity/user-assigned-identity:0.4\nParameters:\nparams: {\n    // Required parameters\n    name: 'miuaimax001'\n    // Non-required parameters\n    federatedIdentityCredentials: [\n      {\n        audiences: [\n          'api://AzureADTokenExchange'\n        ]\n        issuer: '<issuer>'\n        name: 'test-fed-cred-miuaimax-001'\n        subject: 'system:serviceaccount:default:workload-identity-sa'\n      }\n      {\n        audiences: [\n          'api://AzureADTokenExchange'\n        ]\n        issuer: '<issuer>'\n        name: 'test-fed-cred-miuaimax-002'\n        subject: 'system:serviceaccount:default:workload-identity-sa'\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    roleAssignments: [\n      {\n        name: 'b1a2c427-c4b1-435a-9b82-40c1b59537ac'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module userAssignedIdentity 'br/public:avm/res/managed-identity/user-assigned-identity:0.4' = {\n  name: 'userAssignedIdentityDeployment'\n  params: {\n    // Required parameters\n    name: 'miuaimax001'\n    // Non-required parameters\n    federatedIdentityCredentials: [\n      {\n        audiences: [\n          'api://AzureADTokenExchange'\n        ]\n        issuer: '<issuer>'\n        name: 'test-fed-cred-miuaimax-001'\n        subject: 'system:serviceaccount:default:workload-identity-sa'\n      }\n      {\n        audiences: [\n          'api://AzureADTokenExchange'\n        ]\n        issuer: '<issuer>'\n        name: 'test-fed-cred-miuaimax-002'\n        subject: 'system:serviceaccount:default:workload-identity-sa'\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    roleAssignments: [\n      {\n        name: 'b1a2c427-c4b1-435a-9b82-40c1b59537ac'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_managed-identity_user-assigned-identity_example_3", "source": "avm/res/managed-identity/user-assigned-identity/README.md", "content_to_embed": "Recommended AVM Module for User Assigned Identities: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.ManagedIdentity/userAssignedIdentities\nModule ID: br/public:avm/res/managed-identity/user-assigned-identity:0.4\nParameters:\nparams: {\n    // Required parameters\n    name: 'miuaiwaf001'\n    // Non-required parameters\n    federatedIdentityCredentials: [\n      {\n        audiences: [\n          'api://AzureADTokenExchange'\n        ]\n        issuer: '<issuer>'\n        name: 'test-fed-cred-miuaiwaf-001'\n        subject: 'system:serviceaccount:default:workload-identity-sa'\n      }\n      {\n        audiences: [\n          'api://AzureADTokenExchange'\n        ]\n        issuer: '<issuer>'\n        name: 'test-fed-cred-miuaiwaf-002'\n        subject: 'system:serviceaccount:default:workload-identity-sa'\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module userAssignedIdentity 'br/public:avm/res/managed-identity/user-assigned-identity:0.4' = {\n  name: 'userAssignedIdentityDeployment'\n  params: {\n    // Required parameters\n    name: 'miuaiwaf001'\n    // Non-required parameters\n    federatedIdentityCredentials: [\n      {\n        audiences: [\n          'api://AzureADTokenExchange'\n        ]\n        issuer: '<issuer>'\n        name: 'test-fed-cred-miuaiwaf-001'\n        subject: 'system:serviceaccount:default:workload-identity-sa'\n      }\n      {\n        audiences: [\n          'api://AzureADTokenExchange'\n        ]\n        issuer: '<issuer>'\n        name: 'test-fed-cred-miuaiwaf-002'\n        subject: 'system:serviceaccount:default:workload-identity-sa'\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_managed-services_registration-definition_example_1", "source": "avm/res/managed-services/registration-definition/README.md", "content_to_embed": "Recommended AVM Module for Registration Definitions: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.ManagedServices/registrationDefinitions\nModule ID: br/public:avm/res/managed-services/registration-definition:0.1\nParameters:\nparams: {\n    // Required parameters\n    authorizations: [\n      {\n        principalId: 'ecadddf6-78c3-4516-afb2-7d30a174ea13'\n        roleDefinitionId: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: 'ecadddf6-78c3-4516-afb2-7d30a174ea13'\n        roleDefinitionId: '91c1777a-f3dc-4fae-b103-61d183457e46'\n      }\n    ]\n    managedByTenantId: '<managedByTenantId>'\n    name: 'Component Validation - msrdmin Subscription assignment'\n    registrationDescription: 'Managed by Lighthouse'\n    // Non-required parameters\n    metadataLocation: '<metadataLocation>'\n  }", "bicep": "module registrationDefinition 'br/public:avm/res/managed-services/registration-definition:0.1' = {\n  name: 'registrationDefinitionDeployment'\n  params: {\n    // Required parameters\n    authorizations: [\n      {\n        principalId: 'ecadddf6-78c3-4516-afb2-7d30a174ea13'\n        roleDefinitionId: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: 'ecadddf6-78c3-4516-afb2-7d30a174ea13'\n        roleDefinitionId: '91c1777a-f3dc-4fae-b103-61d183457e46'\n      }\n    ]\n    managedByTenantId: '<managedByTenantId>'\n    name: 'Component Validation - msrdmin Subscription assignment'\n    registrationDescription: 'Managed by Lighthouse'\n    // Non-required parameters\n    metadataLocation: '<metadataLocation>'\n  }\n}"}
{"id": "avm_res_managed-services_registration-definition_example_2", "source": "avm/res/managed-services/registration-definition/README.md", "content_to_embed": "Recommended AVM Module for Registration Definitions: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.ManagedServices/registrationDefinitions\nModule ID: br/public:avm/res/managed-services/registration-definition:0.1\nParameters:\nparams: {\n    // Required parameters\n    authorizations: [\n      {\n        principalId: 'ecadddf6-78c3-4516-afb2-7d30a174ea13'\n        principalIdDisplayName: 'Lighthouse Contributor'\n        roleDefinitionId: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: 'ecadddf6-78c3-4516-afb2-7d30a174ea13'\n        principalIdDisplayName: 'Managed Services Registration assignment Delete Role'\n        roleDefinitionId: '91c1777a-f3dc-4fae-b103-61d183457e46'\n      }\n      {\n        delegatedRoleDefinitionIds: [\n          'acdd72a7-3385-48ef-bd42-f606fba81ae7'\n        ]\n        principalId: 'ecadddf6-78c3-4516-afb2-7d30a174ea13'\n        roleDefinitionId: '18d7d88d-d35e-4fb5-a5c3-7773c20a72d9'\n      }\n    ]\n    managedByTenantId: '<managedByTenantId>'\n    name: 'Component Validation - msrdmax Subscription assignment'\n    registrationDescription: 'Managed by Lighthouse'\n    // Non-required parameters\n    metadataLocation: '<metadataLocation>'\n    registrationId: '<registrationId>'\n  }", "bicep": "module registrationDefinition 'br/public:avm/res/managed-services/registration-definition:0.1' = {\n  name: 'registrationDefinitionDeployment'\n  params: {\n    // Required parameters\n    authorizations: [\n      {\n        principalId: 'ecadddf6-78c3-4516-afb2-7d30a174ea13'\n        principalIdDisplayName: 'Lighthouse Contributor'\n        roleDefinitionId: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: 'ecadddf6-78c3-4516-afb2-7d30a174ea13'\n        principalIdDisplayName: 'Managed Services Registration assignment Delete Role'\n        roleDefinitionId: '91c1777a-f3dc-4fae-b103-61d183457e46'\n      }\n      {\n        delegatedRoleDefinitionIds: [\n          'acdd72a7-3385-48ef-bd42-f606fba81ae7'\n        ]\n        principalId: 'ecadddf6-78c3-4516-afb2-7d30a174ea13'\n        roleDefinitionId: '18d7d88d-d35e-4fb5-a5c3-7773c20a72d9'\n      }\n    ]\n    managedByTenantId: '<managedByTenantId>'\n    name: 'Component Validation - msrdmax Subscription assignment'\n    registrationDescription: 'Managed by Lighthouse'\n    // Non-required parameters\n    metadataLocation: '<metadataLocation>'\n    registrationId: '<registrationId>'\n  }\n}"}
{"id": "avm_res_managed-services_registration-definition_example_3", "source": "avm/res/managed-services/registration-definition/README.md", "content_to_embed": "Recommended AVM Module for Registration Definitions: Resource group deployment - This instance deploys the module on a resource group.\nResource Type Path: Microsoft.ManagedServices/registrationDefinitions\nModule ID: br/public:avm/res/managed-services/registration-definition:0.1\nParameters:\nparams: {\n    // Required parameters\n    authorizations: [\n      {\n        principalId: 'ecadddf6-78c3-4516-afb2-7d30a174ea13'\n        roleDefinitionId: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: 'ecadddf6-78c3-4516-afb2-7d30a174ea13'\n        roleDefinitionId: '91c1777a-f3dc-4fae-b103-61d183457e46'\n      }\n    ]\n    managedByTenantId: '<managedByTenantId>'\n    name: 'Component Validation - msrdrg Subscription assignment'\n    registrationDescription: 'Managed by Lighthouse'\n    // Non-required parameters\n    metadataLocation: '<metadataLocation>'\n    registrationId: '<registrationId>'\n    resourceGroupName: '<resourceGroupName>'\n  }", "bicep": "module registrationDefinition 'br/public:avm/res/managed-services/registration-definition:0.1' = {\n  name: 'registrationDefinitionDeployment'\n  params: {\n    // Required parameters\n    authorizations: [\n      {\n        principalId: 'ecadddf6-78c3-4516-afb2-7d30a174ea13'\n        roleDefinitionId: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: 'ecadddf6-78c3-4516-afb2-7d30a174ea13'\n        roleDefinitionId: '91c1777a-f3dc-4fae-b103-61d183457e46'\n      }\n    ]\n    managedByTenantId: '<managedByTenantId>'\n    name: 'Component Validation - msrdrg Subscription assignment'\n    registrationDescription: 'Managed by Lighthouse'\n    // Non-required parameters\n    metadataLocation: '<metadataLocation>'\n    registrationId: '<registrationId>'\n    resourceGroupName: '<resourceGroupName>'\n  }\n}"}
{"id": "avm_res_managed-services_registration-definition_example_4", "source": "avm/res/managed-services/registration-definition/README.md", "content_to_embed": "Recommended AVM Module for Registration Definitions: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.ManagedServices/registrationDefinitions\nModule ID: br/public:avm/res/managed-services/registration-definition:0.1\nParameters:\nparams: {\n    // Required parameters\n    authorizations: [\n      {\n        principalId: 'ecadddf6-78c3-4516-afb2-7d30a174ea13'\n        roleDefinitionId: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: 'ecadddf6-78c3-4516-afb2-7d30a174ea13'\n        roleDefinitionId: '91c1777a-f3dc-4fae-b103-61d183457e46'\n      }\n    ]\n    managedByTenantId: '<managedByTenantId>'\n    name: 'Component Validation - msrdwaf Subscription assignment'\n    registrationDescription: 'Managed by Lighthouse'\n    // Non-required parameters\n    metadataLocation: '<metadataLocation>'\n    resourceGroupName: '<resourceGroupName>'\n  }", "bicep": "module registrationDefinition 'br/public:avm/res/managed-services/registration-definition:0.1' = {\n  name: 'registrationDefinitionDeployment'\n  params: {\n    // Required parameters\n    authorizations: [\n      {\n        principalId: 'ecadddf6-78c3-4516-afb2-7d30a174ea13'\n        roleDefinitionId: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: 'ecadddf6-78c3-4516-afb2-7d30a174ea13'\n        roleDefinitionId: '91c1777a-f3dc-4fae-b103-61d183457e46'\n      }\n    ]\n    managedByTenantId: '<managedByTenantId>'\n    name: 'Component Validation - msrdwaf Subscription assignment'\n    registrationDescription: 'Managed by Lighthouse'\n    // Non-required parameters\n    metadataLocation: '<metadataLocation>'\n    resourceGroupName: '<resourceGroupName>'\n  }\n}"}
{"id": "avm_res_management_management-group_example_1", "source": "avm/res/management/management-group/README.md", "content_to_embed": "Recommended AVM Module for Management Groups: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Management/managementGroups\nModule ID: br/public:avm/res/management/management-group:0.1\nParameters:\nparams: {\n    // Required parameters\n    name: 'mmgmin001'\n    // Non-required parameters\n    location: '<location>'\n  }", "bicep": "module managementGroup 'br/public:avm/res/management/management-group:0.1' = {\n  name: 'managementGroupDeployment'\n  params: {\n    // Required parameters\n    name: 'mmgmin001'\n    // Non-required parameters\n    location: '<location>'\n  }\n}"}
{"id": "avm_res_management_management-group_example_2", "source": "avm/res/management/management-group/README.md", "content_to_embed": "Recommended AVM Module for Management Groups: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Management/managementGroups\nModule ID: br/public:avm/res/management/management-group:0.1\nParameters:\nparams: {\n    // Required parameters\n    name: 'mmgmax001'\n    // Non-required parameters\n    displayName: 'Test MG'\n    location: '<location>'\n    parentId: '<parentId>'\n  }", "bicep": "module managementGroup 'br/public:avm/res/management/management-group:0.1' = {\n  name: 'managementGroupDeployment'\n  params: {\n    // Required parameters\n    name: 'mmgmax001'\n    // Non-required parameters\n    displayName: 'Test MG'\n    location: '<location>'\n    parentId: '<parentId>'\n  }\n}"}
{"id": "avm_res_management_management-group_example_3", "source": "avm/res/management/management-group/README.md", "content_to_embed": "Recommended AVM Module for Management Groups: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Management/managementGroups\nModule ID: br/public:avm/res/management/management-group:0.1\nParameters:\nparams: {\n    // Required parameters\n    name: 'mmgwaf001'\n    // Non-required parameters\n    displayName: 'Test MG'\n    location: '<location>'\n    parentId: '<parentId>'\n  }", "bicep": "module managementGroup 'br/public:avm/res/management/management-group:0.1' = {\n  name: 'managementGroupDeployment'\n  params: {\n    // Required parameters\n    name: 'mmgwaf001'\n    // Non-required parameters\n    displayName: 'Test MG'\n    location: '<location>'\n    parentId: '<parentId>'\n  }\n}"}
{"id": "avm_res_management_service-group_example_1", "source": "avm/res/management/service-group/README.md", "content_to_embed": "Recommended AVM Module for Service Groups: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Management/serviceGroups\nModule ID: br/public:avm/res/management/service-group:0.1\nParameters:\nparams: {\n    name: '<name>'\n  }", "bicep": "module serviceGroup 'br/public:avm/res/management/service-group:0.1' = {\n  name: 'serviceGroupDeployment'\n  params: {\n    name: '<name>'\n  }\n}"}
{"id": "avm_res_management_service-group_example_2", "source": "avm/res/management/service-group/README.md", "content_to_embed": "Recommended AVM Module for Service Groups: Maximum configuration - This instance deploys the module with the maximum set of parameters supported.\nResource Type Path: Microsoft.Management/serviceGroups\nModule ID: br/public:avm/res/management/service-group:0.1\nParameters:\nparams: {\n    // Required parameters\n    name: '<name>'\n    // Non-required parameters\n    displayName: 'Service Group E2E Test Maximum Configuration'\n    parentServiceGroupResourceId: '<parentServiceGroupResourceId>'\n    resourceGroupResourceIdsToAssociateToServiceGroup: [\n      '<resourceId>'\n    ]\n    roleAssignments: [\n      {\n        principalId: '<principalId>'\n        roleDefinitionIdOrName: 'Service Group Reader'\n      }\n    ]\n    subscriptionIdsToAssociateToServiceGroup: [\n      '<subscriptionId>'\n    ]\n  }", "bicep": "module serviceGroup 'br/public:avm/res/management/service-group:0.1' = {\n  name: 'serviceGroupDeployment'\n  params: {\n    // Required parameters\n    name: '<name>'\n    // Non-required parameters\n    displayName: 'Service Group E2E Test Maximum Configuration'\n    parentServiceGroupResourceId: '<parentServiceGroupResourceId>'\n    resourceGroupResourceIdsToAssociateToServiceGroup: [\n      '<resourceId>'\n    ]\n    roleAssignments: [\n      {\n        principalId: '<principalId>'\n        roleDefinitionIdOrName: 'Service Group Reader'\n      }\n    ]\n    subscriptionIdsToAssociateToServiceGroup: [\n      '<subscriptionId>'\n    ]\n  }\n}"}
{"id": "avm_res_management_service-group_example_3", "source": "avm/res/management/service-group/README.md", "content_to_embed": "Recommended AVM Module for Service Groups: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Management/serviceGroups\nModule ID: br/public:avm/res/management/service-group:0.1\nParameters:\nparams: {\n    // Required parameters\n    name: '<name>'\n    // Non-required parameters\n    displayName: 'Service Group E2E Test WAF Aligned'\n  }", "bicep": "module serviceGroup 'br/public:avm/res/management/service-group:0.1' = {\n  name: 'serviceGroupDeployment'\n  params: {\n    // Required parameters\n    name: '<name>'\n    // Non-required parameters\n    displayName: 'Service Group E2E Test WAF Aligned'\n  }\n}"}
{"id": "avm_res_maps_account_example_1", "source": "avm/res/maps/account/README.md", "content_to_embed": "Recommended AVM Module for Azure Maps Account: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Maps/accounts\nModule ID: br/public:avm/res/maps/account:0.1\nParameters:\nparams: {\n    name: 'mamin001'\n  }", "bicep": "module account 'br/public:avm/res/maps/account:0.1' = {\n  name: 'accountDeployment'\n  params: {\n    name: 'mamin001'\n  }\n}"}
{"id": "avm_res_maps_account_example_2", "source": "avm/res/maps/account/README.md", "content_to_embed": "Recommended AVM Module for Azure Maps Account: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Maps/accounts\nModule ID: br/public:avm/res/maps/account:0.1\nParameters:\nparams: {\n    // Required parameters\n    name: 'mamax001'\n    // Non-required parameters\n    corsRules: [\n      {\n        allowedOrigins: [\n          'https://www.bing.com'\n          'https://www.microsoft.com'\n        ]\n      }\n      {\n        allowedOrigins: [\n          'https://www.microsoft.com'\n        ]\n      }\n    ]\n    customerManagedKey: {\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n      userAssignedIdentityResourceId: '<userAssignedIdentityResourceId>'\n    }\n    disableLocalAuth: true\n    kind: 'Gen2'\n    linkedResources: [\n      {\n        resourceId: '<resourceId>'\n        uniqueName: '<uniqueName>'\n      }\n    ]\n    location: '<location>'\n    locations: [\n      'eastus'\n      'westeurope'\n    ]\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    roleAssignments: [\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Azure Maps Data Reader'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    sku: 'G2'\n    tags: {\n      costCenter: '1234'\n    }\n  }", "bicep": "module account 'br/public:avm/res/maps/account:0.1' = {\n  name: 'accountDeployment'\n  params: {\n    // Required parameters\n    name: 'mamax001'\n    // Non-required parameters\n    corsRules: [\n      {\n        allowedOrigins: [\n          'https://www.bing.com'\n          'https://www.microsoft.com'\n        ]\n      }\n      {\n        allowedOrigins: [\n          'https://www.microsoft.com'\n        ]\n      }\n    ]\n    customerManagedKey: {\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n      userAssignedIdentityResourceId: '<userAssignedIdentityResourceId>'\n    }\n    disableLocalAuth: true\n    kind: 'Gen2'\n    linkedResources: [\n      {\n        resourceId: '<resourceId>'\n        uniqueName: '<uniqueName>'\n      }\n    ]\n    location: '<location>'\n    locations: [\n      'eastus'\n      'westeurope'\n    ]\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    roleAssignments: [\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Azure Maps Data Reader'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    sku: 'G2'\n    tags: {\n      costCenter: '1234'\n    }\n  }\n}"}
{"id": "avm_res_maps_account_example_3", "source": "avm/res/maps/account/README.md", "content_to_embed": "Recommended AVM Module for Azure Maps Account: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Maps/accounts\nModule ID: br/public:avm/res/maps/account:0.1\nParameters:\nparams: {\n    // Required parameters\n    name: 'mawaf001'\n    // Non-required parameters\n    corsRules: [\n      {\n        allowedOrigins: [\n          'https://www.bing.com'\n        ]\n      }\n      {\n        allowedOrigins: [\n          'https://www.bing.de'\n        ]\n      }\n    ]\n    disableLocalAuth: true\n    kind: 'Gen2'\n    locations: [\n      'eastus'\n      'westeurope'\n    ]\n    sku: 'G2'\n    tags: {\n      costCenter: '1234'\n    }\n  }", "bicep": "module account 'br/public:avm/res/maps/account:0.1' = {\n  name: 'accountDeployment'\n  params: {\n    // Required parameters\n    name: 'mawaf001'\n    // Non-required parameters\n    corsRules: [\n      {\n        allowedOrigins: [\n          'https://www.bing.com'\n        ]\n      }\n      {\n        allowedOrigins: [\n          'https://www.bing.de'\n        ]\n      }\n    ]\n    disableLocalAuth: true\n    kind: 'Gen2'\n    locations: [\n      'eastus'\n      'westeurope'\n    ]\n    sku: 'G2'\n    tags: {\n      costCenter: '1234'\n    }\n  }\n}"}
{"id": "avm_res_net-app_net-app-account_example_1", "source": "avm/res/net-app/net-app-account/README.md", "content_to_embed": "Recommended AVM Module for Azure NetApp Files: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.NetApp/netAppAccounts\nModule ID: br/public:avm/res/net-app/net-app-account:0.11\nParameters:\nparams: {\n    // Required parameters\n    name: 'nanaamin001'\n    // Non-required parameters\n    location: '<location>'\n  }", "bicep": "module netAppAccount 'br/public:avm/res/net-app/net-app-account:0.11' = {\n  name: 'netAppAccountDeployment'\n  params: {\n    // Required parameters\n    name: 'nanaamin001'\n    // Non-required parameters\n    location: '<location>'\n  }\n}"}
{"id": "avm_res_net-app_net-app-account_example_2", "source": "avm/res/net-app/net-app-account/README.md", "content_to_embed": "Recommended AVM Module for Azure NetApp Files: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.NetApp/netAppAccounts\nModule ID: br/public:avm/res/net-app/net-app-account:0.11\nParameters:\nparams: {\n    // Required parameters\n    name: 'nanaamax001'\n    // Non-required parameters\n    backupPolicies: [\n      {\n        name: 'myBackupPolicy'\n      }\n    ]\n    backupVault: {\n      backups: [\n        {\n          capacityPoolName: 'cp-001'\n          label: 'myLabel'\n          name: 'myBackup01'\n          volumeName: 'vol-001'\n        }\n      ]\n      name: 'myVault'\n    }\n    capacityPools: [\n      {\n        name: 'cp-001'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Reader'\n          }\n        ]\n        serviceLevel: 'Premium'\n        size: 1\n        volumes: [\n          {\n            availabilityZone: 1\n            dataProtection: {\n              backup: {\n                backupPolicyName: 'myBackupPolicy'\n                backupVaultName: 'myVault'\n                policyEnforced: false\n              }\n              snapshot: {\n                snapshotPolicyName: 'mySnapshotPolicy'\n              }\n            }\n            encryptionKeySource: '<encryptionKeySource>'\n            exportPolicy: {\n              rules: [\n                {\n                  allowedClients: '0.0.0.0/0'\n                  kerberos5iReadOnly: false\n                  kerberos5iReadWrite: false\n                  kerberos5pReadOnly: false\n                  kerberos5pReadWrite: false\n                  kerberos5ReadOnly: false\n                  kerberos5ReadWrite: false\n                  nfsv3: false\n                  nfsv41: true\n                  ruleIndex: 1\n                  unixReadOnly: false\n                  unixReadWrite: true\n                }\n              ]\n            }\n            name: 'vol-001'\n            networkFeatures: 'Standard'\n            protocolTypes: [\n              'NFSv4.1'\n            ]\n            roleAssignments: [\n              {\n                principalId: '<principalId>'\n                principalType: 'ServicePrincipal'\n                roleDefinitionIdOrName: 'Reader'\n              }\n            ]\n            subnetResourceId: '<subnetResourceId>'\n            usageThreshold: 107374182400\n          }\n          {\n            availabilityZone: 1\n            encryptionKeySource: '<encryptionKeySource>'\n            exportPolicy: {\n              rules: [\n                {\n                  allowedClients: '0.0.0.0/0'\n                  kerberos5iReadOnly: false\n                  kerberos5iReadWrite: false\n                  kerberos5pReadOnly: false\n                  kerberos5pReadWrite: false\n                  kerberos5ReadOnly: false\n                  kerberos5ReadWrite: false\n                  nfsv3: false\n                  nfsv41: true\n                  ruleIndex: 1\n                  unixReadOnly: false\n                  unixReadWrite: false\n                }\n              ]\n            }\n            kerberosEnabled: false\n            name: 'vol-002'\n            networkFeatures: 'Standard'\n            protocolTypes: [\n              'NFSv4.1'\n            ]\n            smbContinuouslyAvailable: false\n            smbEncryption: false\n            smbNonBrowsable: 'Disabled'\n            subnetResourceId: '<subnetResourceId>'\n            usageThreshold: 107374182400\n          }\n        ]\n      }\n      {\n        name: 'cp-002'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Reader'\n          }\n        ]\n        serviceLevel: 'Premium'\n        size: 1\n        volumes: []\n      }\n    ]\n    location: '<location>'\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    roleAssignments: [\n      {\n        name: '18051111-2a33-4f8e-8b24-441aac1e6562'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    snapshotPolicies: [\n      {\n        dailySchedule: {\n          hour: 0\n          minute: 0\n          snapshotsToKeep: 1\n        }\n        name: 'mySnapshotPolicy'\n      }\n    ]\n    tags: {\n      Contact: 'test.user@testcompany.com'\n      CostCenter: '7890'\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      PurchaseOrder: '1234'\n      Role: 'DeploymentValidation'\n      ServiceName: 'DeploymentValidation'\n    }\n  }", "bicep": "module netAppAccount 'br/public:avm/res/net-app/net-app-account:0.11' = {\n  name: 'netAppAccountDeployment'\n  params: {\n    // Required parameters\n    name: 'nanaamax001'\n    // Non-required parameters\n    backupPolicies: [\n      {\n        name: 'myBackupPolicy'\n      }\n    ]\n    backupVault: {\n      backups: [\n        {\n          capacityPoolName: 'cp-001'\n          label: 'myLabel'\n          name: 'myBackup01'\n          volumeName: 'vol-001'\n        }\n      ]\n      name: 'myVault'\n    }\n    capacityPools: [\n      {\n        name: 'cp-001'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Reader'\n          }\n        ]\n        serviceLevel: 'Premium'\n        size: 1\n        volumes: [\n          {\n            availabilityZone: 1\n            dataProtection: {\n              backup: {\n                backupPolicyName: 'myBackupPolicy'\n                backupVaultName: 'myVault'\n                policyEnforced: false\n              }\n              snapshot: {\n                snapshotPolicyName: 'mySnapshotPolicy'\n              }\n            }\n            encryptionKeySource: '<encryptionKeySource>'\n            exportPolicy: {\n              rules: [\n                {\n                  allowedClients: '0.0.0.0/0'\n                  kerberos5iReadOnly: false\n                  kerberos5iReadWrite: false\n                  kerberos5pReadOnly: false\n                  kerberos5pReadWrite: false\n                  kerberos5ReadOnly: false\n                  kerberos5ReadWrite: false\n                  nfsv3: false\n                  nfsv41: true\n                  ruleIndex: 1\n                  unixReadOnly: false\n                  unixReadWrite: true\n                }\n              ]\n            }\n            name: 'vol-001'\n            networkFeatures: 'Standard'\n            protocolTypes: [\n              'NFSv4.1'\n            ]\n            roleAssignments: [\n              {\n                principalId: '<principalId>'\n                principalType: 'ServicePrincipal'\n                roleDefinitionIdOrName: 'Reader'\n              }\n            ]\n            subnetResourceId: '<subnetResourceId>'\n            usageThreshold: 107374182400\n          }\n          {\n            availabilityZone: 1\n            encryptionKeySource: '<encryptionKeySource>'\n            exportPolicy: {\n              rules: [\n                {\n                  allowedClients: '0.0.0.0/0'\n                  kerberos5iReadOnly: false\n                  kerberos5iReadWrite: false\n                  kerberos5pReadOnly: false\n                  kerberos5pReadWrite: false\n                  kerberos5ReadOnly: false\n                  kerberos5ReadWrite: false\n                  nfsv3: false\n                  nfsv41: true\n                  ruleIndex: 1\n                  unixReadOnly: false\n                  unixReadWrite: false\n                }\n              ]\n            }\n            kerberosEnabled: false\n            name: 'vol-002'\n            networkFeatures: 'Standard'\n            protocolTypes: [\n              'NFSv4.1'\n            ]\n            smbContinuouslyAvailable: false\n            smbEncryption: false\n            smbNonBrowsable: 'Disabled'\n            subnetResourceId: '<subnetResourceId>'\n            usageThreshold: 107374182400\n          }\n        ]\n      }\n      {\n        name: 'cp-002'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Reader'\n          }\n        ]\n        serviceLevel: 'Premium'\n        size: 1\n        volumes: []\n      }\n    ]\n    location: '<location>'\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    roleAssignments: [\n      {\n        name: '18051111-2a33-4f8e-8b24-441aac1e6562'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    snapshotPolicies: [\n      {\n        dailySchedule: {\n          hour: 0\n          minute: 0\n          snapshotsToKeep: 1\n        }\n        name: 'mySnapshotPolicy'\n      }\n    ]\n    tags: {\n      Contact: 'test.user@testcompany.com'\n      CostCenter: '7890'\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      PurchaseOrder: '1234'\n      Role: 'DeploymentValidation'\n      ServiceName: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_net-app_net-app-account_example_3", "source": "avm/res/net-app/net-app-account/README.md", "content_to_embed": "Recommended AVM Module for Azure NetApp Files: Using nfs31 parameter set - This instance deploys the module with nfs31.\nResource Type Path: Microsoft.NetApp/netAppAccounts\nModule ID: br/public:avm/res/net-app/net-app-account:0.11\nParameters:\nparams: {\n    // Required parameters\n    name: 'nanaanfs3001'\n    // Non-required parameters\n    capacityPools: [\n      {\n        name: 'nanaanfs3-cp-001'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Reader'\n          }\n        ]\n        serviceLevel: 'Premium'\n        size: 1\n        volumes: [\n          {\n            availabilityZone: 1\n            encryptionKeySource: '<encryptionKeySource>'\n            exportPolicy: {\n              rules: [\n                {\n                  allowedClients: '0.0.0.0/0'\n                  kerberos5iReadOnly: false\n                  kerberos5iReadWrite: false\n                  kerberos5pReadOnly: false\n                  kerberos5pReadWrite: false\n                  kerberos5ReadOnly: false\n                  kerberos5ReadWrite: false\n                  nfsv3: true\n                  nfsv41: false\n                  ruleIndex: 1\n                  unixReadOnly: false\n                  unixReadWrite: true\n                }\n              ]\n            }\n            name: 'nanaanfs3-vol-001'\n            networkFeatures: 'Standard'\n            protocolTypes: [\n              'NFSv3'\n            ]\n            roleAssignments: [\n              {\n                principalId: '<principalId>'\n                principalType: 'ServicePrincipal'\n                roleDefinitionIdOrName: 'Reader'\n              }\n            ]\n            subnetResourceId: '<subnetResourceId>'\n            usageThreshold: 107374182400\n          }\n          {\n            availabilityZone: 1\n            encryptionKeySource: '<encryptionKeySource>'\n            name: 'nanaanfs3-vol-002'\n            networkFeatures: 'Standard'\n            protocolTypes: [\n              'NFSv3'\n            ]\n            subnetResourceId: '<subnetResourceId>'\n            usageThreshold: 107374182400\n          }\n        ]\n      }\n      {\n        name: 'nanaanfs3-cp-002'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Reader'\n          }\n        ]\n        serviceLevel: 'Premium'\n        size: 1\n        volumes: []\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    roleAssignments: [\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Contact: 'test.user@testcompany.com'\n      CostCenter: '7890'\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      PurchaseOrder: '1234'\n      Role: 'DeploymentValidation'\n      ServiceName: 'DeploymentValidation'\n    }\n  }", "bicep": "module netAppAccount 'br/public:avm/res/net-app/net-app-account:0.11' = {\n  name: 'netAppAccountDeployment'\n  params: {\n    // Required parameters\n    name: 'nanaanfs3001'\n    // Non-required parameters\n    capacityPools: [\n      {\n        name: 'nanaanfs3-cp-001'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Reader'\n          }\n        ]\n        serviceLevel: 'Premium'\n        size: 1\n        volumes: [\n          {\n            availabilityZone: 1\n            encryptionKeySource: '<encryptionKeySource>'\n            exportPolicy: {\n              rules: [\n                {\n                  allowedClients: '0.0.0.0/0'\n                  kerberos5iReadOnly: false\n                  kerberos5iReadWrite: false\n                  kerberos5pReadOnly: false\n                  kerberos5pReadWrite: false\n                  kerberos5ReadOnly: false\n                  kerberos5ReadWrite: false\n                  nfsv3: true\n                  nfsv41: false\n                  ruleIndex: 1\n                  unixReadOnly: false\n                  unixReadWrite: true\n                }\n              ]\n            }\n            name: 'nanaanfs3-vol-001'\n            networkFeatures: 'Standard'\n            protocolTypes: [\n              'NFSv3'\n            ]\n            roleAssignments: [\n              {\n                principalId: '<principalId>'\n                principalType: 'ServicePrincipal'\n                roleDefinitionIdOrName: 'Reader'\n              }\n            ]\n            subnetResourceId: '<subnetResourceId>'\n            usageThreshold: 107374182400\n          }\n          {\n            availabilityZone: 1\n            encryptionKeySource: '<encryptionKeySource>'\n            name: 'nanaanfs3-vol-002'\n            networkFeatures: 'Standard'\n            protocolTypes: [\n              'NFSv3'\n            ]\n            subnetResourceId: '<subnetResourceId>'\n            usageThreshold: 107374182400\n          }\n        ]\n      }\n      {\n        name: 'nanaanfs3-cp-002'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Reader'\n          }\n        ]\n        serviceLevel: 'Premium'\n        size: 1\n        volumes: []\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    roleAssignments: [\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Contact: 'test.user@testcompany.com'\n      CostCenter: '7890'\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      PurchaseOrder: '1234'\n      Role: 'DeploymentValidation'\n      ServiceName: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_net-app_net-app-account_example_4", "source": "avm/res/net-app/net-app-account/README.md", "content_to_embed": "Recommended AVM Module for Azure NetApp Files: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.NetApp/netAppAccounts\nModule ID: br/public:avm/res/net-app/net-app-account:0.11\nParameters:\nparams: {\n    // Required parameters\n    name: 'nanaawaf001'\n    // Non-required parameters\n    location: '<location>'\n    tags: {\n      service: 'netapp'\n    }\n  }", "bicep": "module netAppAccount 'br/public:avm/res/net-app/net-app-account:0.11' = {\n  name: 'netAppAccountDeployment'\n  params: {\n    // Required parameters\n    name: 'nanaawaf001'\n    // Non-required parameters\n    location: '<location>'\n    tags: {\n      service: 'netapp'\n    }\n  }\n}"}
{"id": "avm_res_network_application-gateway_example_1", "source": "avm/res/network/application-gateway/README.md", "content_to_embed": "Recommended AVM Module for Network Application Gateways: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Network/applicationGateways\nModule ID: br/public:avm/res/network/application-gateway:0.7\nParameters:\nparams: {\n    // Required parameters\n    name: '<name>'\n    // Non-required parameters\n    backendAddressPools: [\n      {\n        name: 'backendAddressPool1'\n      }\n    ]\n    backendHttpSettingsCollection: [\n      {\n        name: 'backendHttpSettings1'\n        properties: {\n          cookieBasedAffinity: 'Disabled'\n          port: 80\n          protocol: 'Http'\n        }\n      }\n    ]\n    frontendIPConfigurations: [\n      {\n        name: 'frontendIPConfig1'\n        properties: {\n          publicIPAddress: {\n            id: '<id>'\n          }\n        }\n      }\n    ]\n    frontendPorts: [\n      {\n        name: 'frontendPort1'\n        properties: {\n          port: 80\n        }\n      }\n    ]\n    gatewayIPConfigurations: [\n      {\n        name: 'publicIPConfig1'\n        properties: {\n          subnet: {\n            id: '<id>'\n          }\n        }\n      }\n    ]\n    httpListeners: [\n      {\n        name: 'httpListener1'\n        properties: {\n          frontendIPConfiguration: {\n            id: '<id>'\n          }\n          frontendPort: {\n            id: '<id>'\n          }\n          hostName: 'www.contoso.com'\n          protocol: 'Http'\n        }\n      }\n    ]\n    location: '<location>'\n    requestRoutingRules: [\n      {\n        name: 'requestRoutingRule1'\n        properties: {\n          backendAddressPool: {\n            id: '<id>'\n          }\n          backendHttpSettings: {\n            id: '<id>'\n          }\n          httpListener: {\n            id: '<id>'\n          }\n          priority: 100\n          ruleType: 'Basic'\n        }\n      }\n    ]\n    sku: 'Basic'\n  }", "bicep": "module applicationGateway 'br/public:avm/res/network/application-gateway:0.7' = {\n  name: 'applicationGatewayDeployment'\n  params: {\n    // Required parameters\n    name: '<name>'\n    // Non-required parameters\n    backendAddressPools: [\n      {\n        name: 'backendAddressPool1'\n      }\n    ]\n    backendHttpSettingsCollection: [\n      {\n        name: 'backendHttpSettings1'\n        properties: {\n          cookieBasedAffinity: 'Disabled'\n          port: 80\n          protocol: 'Http'\n        }\n      }\n    ]\n    frontendIPConfigurations: [\n      {\n        name: 'frontendIPConfig1'\n        properties: {\n          publicIPAddress: {\n            id: '<id>'\n          }\n        }\n      }\n    ]\n    frontendPorts: [\n      {\n        name: 'frontendPort1'\n        properties: {\n          port: 80\n        }\n      }\n    ]\n    gatewayIPConfigurations: [\n      {\n        name: 'publicIPConfig1'\n        properties: {\n          subnet: {\n            id: '<id>'\n          }\n        }\n      }\n    ]\n    httpListeners: [\n      {\n        name: 'httpListener1'\n        properties: {\n          frontendIPConfiguration: {\n            id: '<id>'\n          }\n          frontendPort: {\n            id: '<id>'\n          }\n          hostName: 'www.contoso.com'\n          protocol: 'Http'\n        }\n      }\n    ]\n    location: '<location>'\n    requestRoutingRules: [\n      {\n        name: 'requestRoutingRule1'\n        properties: {\n          backendAddressPool: {\n            id: '<id>'\n          }\n          backendHttpSettings: {\n            id: '<id>'\n          }\n          httpListener: {\n            id: '<id>'\n          }\n          priority: 100\n          ruleType: 'Basic'\n        }\n      }\n    ]\n    sku: 'Basic'\n  }\n}"}
{"id": "avm_res_network_application-gateway_example_2", "source": "avm/res/network/application-gateway/README.md", "content_to_embed": "Recommended AVM Module for Network Application Gateways: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Network/applicationGateways\nModule ID: br/public:avm/res/network/application-gateway:0.7\nParameters:\nparams: {\n    // Required parameters\n    name: '<name>'\n    // Non-required parameters\n    backendAddressPools: [\n      {\n        name: 'backendAddressPool1'\n      }\n    ]\n    backendHttpSettingsCollection: [\n      {\n        name: 'backendHttpSettings1'\n        properties: {\n          cookieBasedAffinity: 'Disabled'\n          port: 80\n          protocol: 'Http'\n        }\n      }\n    ]\n    firewallPolicyResourceId: '<firewallPolicyResourceId>'\n    frontendIPConfigurations: [\n      {\n        name: 'frontendIPConfig1'\n        properties: {\n          publicIPAddress: {\n            id: '<id>'\n          }\n        }\n      }\n    ]\n    frontendPorts: [\n      {\n        name: 'frontendPort1'\n        properties: {\n          port: 80\n        }\n      }\n    ]\n    gatewayIPConfigurations: [\n      {\n        name: 'publicIPConfig1'\n        properties: {\n          subnet: {\n            id: '<id>'\n          }\n        }\n      }\n    ]\n    httpListeners: [\n      {\n        name: 'httpListener1'\n        properties: {\n          frontendIPConfiguration: {\n            id: '<id>'\n          }\n          frontendPort: {\n            id: '<id>'\n          }\n          hostName: 'www.contoso.com'\n          protocol: 'Http'\n        }\n      }\n    ]\n    location: '<location>'\n    requestRoutingRules: [\n      {\n        name: 'requestRoutingRule1'\n        properties: {\n          backendAddressPool: {\n            id: '<id>'\n          }\n          backendHttpSettings: {\n            id: '<id>'\n          }\n          httpListener: {\n            id: '<id>'\n          }\n          priority: 100\n          ruleType: 'Basic'\n        }\n      }\n    ]\n  }", "bicep": "module applicationGateway 'br/public:avm/res/network/application-gateway:0.7' = {\n  name: 'applicationGatewayDeployment'\n  params: {\n    // Required parameters\n    name: '<name>'\n    // Non-required parameters\n    backendAddressPools: [\n      {\n        name: 'backendAddressPool1'\n      }\n    ]\n    backendHttpSettingsCollection: [\n      {\n        name: 'backendHttpSettings1'\n        properties: {\n          cookieBasedAffinity: 'Disabled'\n          port: 80\n          protocol: 'Http'\n        }\n      }\n    ]\n    firewallPolicyResourceId: '<firewallPolicyResourceId>'\n    frontendIPConfigurations: [\n      {\n        name: 'frontendIPConfig1'\n        properties: {\n          publicIPAddress: {\n            id: '<id>'\n          }\n        }\n      }\n    ]\n    frontendPorts: [\n      {\n        name: 'frontendPort1'\n        properties: {\n          port: 80\n        }\n      }\n    ]\n    gatewayIPConfigurations: [\n      {\n        name: 'publicIPConfig1'\n        properties: {\n          subnet: {\n            id: '<id>'\n          }\n        }\n      }\n    ]\n    httpListeners: [\n      {\n        name: 'httpListener1'\n        properties: {\n          frontendIPConfiguration: {\n            id: '<id>'\n          }\n          frontendPort: {\n            id: '<id>'\n          }\n          hostName: 'www.contoso.com'\n          protocol: 'Http'\n        }\n      }\n    ]\n    location: '<location>'\n    requestRoutingRules: [\n      {\n        name: 'requestRoutingRule1'\n        properties: {\n          backendAddressPool: {\n            id: '<id>'\n          }\n          backendHttpSettings: {\n            id: '<id>'\n          }\n          httpListener: {\n            id: '<id>'\n          }\n          priority: 100\n          ruleType: 'Basic'\n        }\n      }\n    ]\n  }\n}"}
{"id": "avm_res_network_application-gateway_example_3", "source": "avm/res/network/application-gateway/README.md", "content_to_embed": "Recommended AVM Module for Network Application Gateways: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Network/applicationGateways\nModule ID: br/public:avm/res/network/application-gateway:0.7\nParameters:\nparams: {\n    // Required parameters\n    name: '<name>'\n    // Non-required parameters\n    availabilityZones: [\n      1\n      2\n      3\n    ]\n    backendAddressPools: [\n      {\n        name: 'appServiceBackendPool'\n        properties: {\n          backendAddresses: [\n            {\n              fqdn: 'aghapp.azurewebsites.net'\n            }\n          ]\n        }\n      }\n      {\n        name: 'privateVmBackendPool'\n        properties: {\n          backendAddresses: [\n            {\n              ipAddress: '10.0.0.4'\n            }\n          ]\n        }\n      }\n    ]\n    backendHttpSettingsCollection: [\n      {\n        name: 'appServiceBackendHttpsSetting'\n        properties: {\n          cookieBasedAffinity: 'Disabled'\n          pickHostNameFromBackendAddress: true\n          port: 443\n          protocol: 'Https'\n          requestTimeout: 30\n        }\n      }\n      {\n        name: 'privateVmHttpSetting'\n        properties: {\n          cookieBasedAffinity: 'Disabled'\n          pickHostNameFromBackendAddress: false\n          port: 80\n          probe: {\n            id: '<id>'\n          }\n          protocol: 'Http'\n          requestTimeout: 30\n        }\n      }\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    enableHttp2: true\n    enableTelemetry: '<enableTelemetry>'\n    firewallPolicyResourceId: '<firewallPolicyResourceId>'\n    frontendIPConfigurations: [\n      {\n        name: 'private'\n        properties: {\n          privateIPAddress: '10.0.0.20'\n          privateIPAllocationMethod: 'Static'\n          subnet: {\n            id: '<id>'\n          }\n        }\n      }\n      {\n        name: 'public'\n        properties: {\n          privateIPAllocationMethod: 'Dynamic'\n          privateLinkConfiguration: {\n            id: '<id>'\n          }\n          publicIPAddress: {\n            id: '<id>'\n          }\n        }\n      }\n    ]\n    frontendPorts: [\n      {\n        name: 'port443'\n        properties: {\n          port: 443\n        }\n      }\n      {\n        name: 'port4433'\n        properties: {\n          port: 4433\n        }\n      }\n      {\n        name: 'port80'\n        properties: {\n          port: 80\n        }\n      }\n      {\n        name: 'port8080'\n        properties: {\n          port: 8080\n        }\n      }\n    ]\n    gatewayIPConfigurations: [\n      {\n        name: 'apw-ip-configuration'\n        properties: {\n          subnet: {\n            id: '<id>'\n          }\n        }\n      }\n    ]\n    httpListeners: [\n      {\n        name: 'public443'\n        properties: {\n          frontendIPConfiguration: {\n            id: '<id>'\n          }\n          frontendPort: {\n            id: '<id>'\n          }\n          hostNames: []\n          protocol: 'https'\n          requireServerNameIndication: false\n          sslCertificate: {\n            id: '<id>'\n          }\n        }\n      }\n      {\n        name: 'private4433'\n        properties: {\n          frontendIPConfiguration: {\n            id: '<id>'\n          }\n          frontendPort: {\n            id: '<id>'\n          }\n          hostNames: []\n          protocol: 'https'\n          requireServerNameIndication: false\n          sslCertificate: {\n            id: '<id>'\n          }\n        }\n      }\n      {\n        name: 'httpRedirect80'\n        properties: {\n          frontendIPConfiguration: {\n            id: '<id>'\n          }\n          frontendPort: {\n            id: '<id>'\n          }\n          hostNames: []\n          protocol: 'Http'\n          requireServerNameIndication: false\n        }\n      }\n      {\n        name: 'httpRedirect8080'\n        properties: {\n          frontendIPConfiguration: {\n            id: '<id>'\n          }\n          frontendPort: {\n            id: '<id>'\n          }\n          hostNames: []\n          protocol: 'Http'\n          requireServerNameIndication: false\n        }\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'public'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          Role: 'DeploymentValidation'\n        }\n      }\n    ]\n    privateLinkConfigurations: [\n      {\n        id: '<id>'\n        name: 'pvtlink01'\n        properties: {\n          ipConfigurations: [\n            {\n              id: '<id>'\n              name: 'privateLinkIpConfig1'\n              properties: {\n                primary: false\n                privateIPAllocationMethod: 'Dynamic'\n                subnet: {\n                  id: '<id>'\n                }\n              }\n            }\n          ]\n        }\n      }\n    ]\n    probes: [\n      {\n        name: 'privateVmHttpSettingProbe'\n        properties: {\n          host: '10.0.0.4'\n          interval: 60\n          match: {\n            statusCodes: [\n              '200'\n              '401'\n            ]\n          }\n          minServers: 3\n          path: '/'\n          pickHostNameFromBackendHttpSettings: false\n          protocol: 'Http'\n          timeout: 15\n          unhealthyThreshold: 5\n        }\n      }\n    ]\n    redirectConfigurations: [\n      {\n        name: 'httpRedirect80'\n        properties: {\n          includePath: true\n          includeQueryString: true\n          redirectType: 'Permanent'\n          requestRoutingRules: [\n            {\n              id: '<id>'\n            }\n          ]\n          targetListener: {\n            id: '<id>'\n          }\n        }\n      }\n      {\n        name: 'httpRedirect8080'\n        properties: {\n          includePath: true\n          includeQueryString: true\n          redirectType: 'Permanent'\n          requestRoutingRules: [\n            {\n              id: '<id>'\n            }\n          ]\n          targetListener: {\n            id: '<id>'\n          }\n        }\n      }\n    ]\n    requestRoutingRules: [\n      {\n        name: 'public443-appServiceBackendHttpsSetting-appServiceBackendHttpsSetting'\n        properties: {\n          backendAddressPool: {\n            id: '<id>'\n          }\n          backendHttpSettings: {\n            id: '<id>'\n          }\n          httpListener: {\n            id: '<id>'\n          }\n          priority: 200\n          ruleType: 'Basic'\n        }\n      }\n      {\n        name: 'private4433-privateVmHttpSetting-privateVmHttpSetting'\n        properties: {\n          backendAddressPool: {\n            id: '<id>'\n          }\n          backendHttpSettings: {\n            id: '<id>'\n          }\n          httpListener: {\n            id: '<id>'\n          }\n          priority: 250\n          ruleType: 'Basic'\n        }\n      }\n      {\n        name: 'httpRedirect80-public443'\n        properties: {\n          httpListener: {\n            id: '<id>'\n          }\n          priority: 300\n          redirectConfiguration: {\n            id: '<id>'\n          }\n          ruleType: 'Basic'\n        }\n      }\n      {\n        name: 'httpRedirect8080-private4433'\n        properties: {\n          httpListener: {\n            id: '<id>'\n          }\n          priority: 350\n          redirectConfiguration: {\n            id: '<id>'\n          }\n          rewriteRuleSet: {\n            id: '<id>'\n          }\n          ruleType: 'Basic'\n        }\n      }\n    ]\n    rewriteRuleSets: [\n      {\n        id: '<id>'\n        name: 'customRewrite'\n        properties: {\n          rewriteRules: [\n            {\n              actionSet: {\n                requestHeaderConfigurations: [\n                  {\n                    headerName: 'Content-Type'\n                    headerValue: 'JSON'\n                  }\n                  {\n                    headerName: 'someheader'\n                  }\n                ]\n                responseHeaderConfigurations: []\n              }\n              conditions: []\n              name: 'NewRewrite'\n              ruleSequence: 100\n            }\n          ]\n        }\n      }\n    ]\n    roleAssignments: [\n      {\n        name: '97fc1da9-bfe4-409d-b17a-da9a82fad0d0'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    sku: 'WAF_v2'\n    sslCertificates: [\n      {\n        name: 'az-apgw-x-001-ssl-certificate'\n        properties: {\n          keyVaultSecretId: '<keyVaultSecretId>'\n        }\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module applicationGateway 'br/public:avm/res/network/application-gateway:0.7' = {\n  name: 'applicationGatewayDeployment'\n  params: {\n    // Required parameters\n    name: '<name>'\n    // Non-required parameters\n    availabilityZones: [\n      1\n      2\n      3\n    ]\n    backendAddressPools: [\n      {\n        name: 'appServiceBackendPool'\n        properties: {\n          backendAddresses: [\n            {\n              fqdn: 'aghapp.azurewebsites.net'\n            }\n          ]\n        }\n      }\n      {\n        name: 'privateVmBackendPool'\n        properties: {\n          backendAddresses: [\n            {\n              ipAddress: '10.0.0.4'\n            }\n          ]\n        }\n      }\n    ]\n    backendHttpSettingsCollection: [\n      {\n        name: 'appServiceBackendHttpsSetting'\n        properties: {\n          cookieBasedAffinity: 'Disabled'\n          pickHostNameFromBackendAddress: true\n          port: 443\n          protocol: 'Https'\n          requestTimeout: 30\n        }\n      }\n      {\n        name: 'privateVmHttpSetting'\n        properties: {\n          cookieBasedAffinity: 'Disabled'\n          pickHostNameFromBackendAddress: false\n          port: 80\n          probe: {\n            id: '<id>'\n          }\n          protocol: 'Http'\n          requestTimeout: 30\n        }\n      }\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    enableHttp2: true\n    enableTelemetry: '<enableTelemetry>'\n    firewallPolicyResourceId: '<firewallPolicyResourceId>'\n    frontendIPConfigurations: [\n      {\n        name: 'private'\n        properties: {\n          privateIPAddress: '10.0.0.20'\n          privateIPAllocationMethod: 'Static'\n          subnet: {\n            id: '<id>'\n          }\n        }\n      }\n      {\n        name: 'public'\n        properties: {\n          privateIPAllocationMethod: 'Dynamic'\n          privateLinkConfiguration: {\n            id: '<id>'\n          }\n          publicIPAddress: {\n            id: '<id>'\n          }\n        }\n      }\n    ]\n    frontendPorts: [\n      {\n        name: 'port443'\n        properties: {\n          port: 443\n        }\n      }\n      {\n        name: 'port4433'\n        properties: {\n          port: 4433\n        }\n      }\n      {\n        name: 'port80'\n        properties: {\n          port: 80\n        }\n      }\n      {\n        name: 'port8080'\n        properties: {\n          port: 8080\n        }\n      }\n    ]\n    gatewayIPConfigurations: [\n      {\n        name: 'apw-ip-configuration'\n        properties: {\n          subnet: {\n            id: '<id>'\n          }\n        }\n      }\n    ]\n    httpListeners: [\n      {\n        name: 'public443'\n        properties: {\n          frontendIPConfiguration: {\n            id: '<id>'\n          }\n          frontendPort: {\n            id: '<id>'\n          }\n          hostNames: []\n          protocol: 'https'\n          requireServerNameIndication: false\n          sslCertificate: {\n            id: '<id>'\n          }\n        }\n      }\n      {\n        name: 'private4433'\n        properties: {\n          frontendIPConfiguration: {\n            id: '<id>'\n          }\n          frontendPort: {\n            id: '<id>'\n          }\n          hostNames: []\n          protocol: 'https'\n          requireServerNameIndication: false\n          sslCertificate: {\n            id: '<id>'\n          }\n        }\n      }\n      {\n        name: 'httpRedirect80'\n        properties: {\n          frontendIPConfiguration: {\n            id: '<id>'\n          }\n          frontendPort: {\n            id: '<id>'\n          }\n          hostNames: []\n          protocol: 'Http'\n          requireServerNameIndication: false\n        }\n      }\n      {\n        name: 'httpRedirect8080'\n        properties: {\n          frontendIPConfiguration: {\n            id: '<id>'\n          }\n          frontendPort: {\n            id: '<id>'\n          }\n          hostNames: []\n          protocol: 'Http'\n          requireServerNameIndication: false\n        }\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'public'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          Role: 'DeploymentValidation'\n        }\n      }\n    ]\n    privateLinkConfigurations: [\n      {\n        id: '<id>'\n        name: 'pvtlink01'\n        properties: {\n          ipConfigurations: [\n            {\n              id: '<id>'\n              name: 'privateLinkIpConfig1'\n              properties: {\n                primary: false\n                privateIPAllocationMethod: 'Dynamic'\n                subnet: {\n                  id: '<id>'\n                }\n              }\n            }\n          ]\n        }\n      }\n    ]\n    probes: [\n      {\n        name: 'privateVmHttpSettingProbe'\n        properties: {\n          host: '10.0.0.4'\n          interval: 60\n          match: {\n            statusCodes: [\n              '200'\n              '401'\n            ]\n          }\n          minServers: 3\n          path: '/'\n          pickHostNameFromBackendHttpSettings: false\n          protocol: 'Http'\n          timeout: 15\n          unhealthyThreshold: 5\n        }\n      }\n    ]\n    redirectConfigurations: [\n      {\n        name: 'httpRedirect80'\n        properties: {\n          includePath: true\n          includeQueryString: true\n          redirectType: 'Permanent'\n          requestRoutingRules: [\n            {\n              id: '<id>'\n            }\n          ]\n          targetListener: {\n            id: '<id>'\n          }\n        }\n      }\n      {\n        name: 'httpRedirect8080'\n        properties: {\n          includePath: true\n          includeQueryString: true\n          redirectType: 'Permanent'\n          requestRoutingRules: [\n            {\n              id: '<id>'\n            }\n          ]\n          targetListener: {\n            id: '<id>'\n          }\n        }\n      }\n    ]\n    requestRoutingRules: [\n      {\n        name: 'public443-appServiceBackendHttpsSetting-appServiceBackendHttpsSetting'\n        properties: {\n          backendAddressPool: {\n            id: '<id>'\n          }\n          backendHttpSettings: {\n            id: '<id>'\n          }\n          httpListener: {\n            id: '<id>'\n          }\n          priority: 200\n          ruleType: 'Basic'\n        }\n      }\n      {\n        name: 'private4433-privateVmHttpSetting-privateVmHttpSetting'\n        properties: {\n          backendAddressPool: {\n            id: '<id>'\n          }\n          backendHttpSettings: {\n            id: '<id>'\n          }\n          httpListener: {\n            id: '<id>'\n          }\n          priority: 250\n          ruleType: 'Basic'\n        }\n      }\n      {\n        name: 'httpRedirect80-public443'\n        properties: {\n          httpListener: {\n            id: '<id>'\n          }\n          priority: 300\n          redirectConfiguration: {\n            id: '<id>'\n          }\n          ruleType: 'Basic'\n        }\n      }\n      {\n        name: 'httpRedirect8080-private4433'\n        properties: {\n          httpListener: {\n            id: '<id>'\n          }\n          priority: 350\n          redirectConfiguration: {\n            id: '<id>'\n          }\n          rewriteRuleSet: {\n            id: '<id>'\n          }\n          ruleType: 'Basic'\n        }\n      }\n    ]\n    rewriteRuleSets: [\n      {\n        id: '<id>'\n        name: 'customRewrite'\n        properties: {\n          rewriteRules: [\n            {\n              actionSet: {\n                requestHeaderConfigurations: [\n                  {\n                    headerName: 'Content-Type'\n                    headerValue: 'JSON'\n                  }\n                  {\n                    headerName: 'someheader'\n                  }\n                ]\n                responseHeaderConfigurations: []\n              }\n              conditions: []\n              name: 'NewRewrite'\n              ruleSequence: 100\n            }\n          ]\n        }\n      }\n    ]\n    roleAssignments: [\n      {\n        name: '97fc1da9-bfe4-409d-b17a-da9a82fad0d0'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    sku: 'WAF_v2'\n    sslCertificates: [\n      {\n        name: 'az-apgw-x-001-ssl-certificate'\n        properties: {\n          keyVaultSecretId: '<keyVaultSecretId>'\n        }\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_network_application-gateway_example_4", "source": "avm/res/network/application-gateway/README.md", "content_to_embed": "Recommended AVM Module for Network Application Gateways: Standard - This instance deploys the module using the Standard_v2 sku.\nResource Type Path: Microsoft.Network/applicationGateways\nModule ID: br/public:avm/res/network/application-gateway:0.7\nParameters:\nparams: {\n    // Required parameters\n    name: '<name>'\n    // Non-required parameters\n    backendAddressPools: [\n      {\n        name: 'appServiceBackendPool'\n        properties: {\n          backendAddresses: [\n            {\n              fqdn: 'aghapp.azurewebsites.net'\n            }\n          ]\n        }\n      }\n    ]\n    backendHttpSettingsCollection: [\n      {\n        name: 'appServiceBackendHttpsSetting'\n        properties: {\n          cookieBasedAffinity: 'Disabled'\n          pickHostNameFromBackendAddress: true\n          port: 443\n          protocol: 'Https'\n          requestTimeout: 30\n        }\n      }\n    ]\n    enableHttp2: true\n    enableTelemetry: '<enableTelemetry>'\n    frontendIPConfigurations: [\n      {\n        name: 'public'\n        properties: {\n          privateIPAllocationMethod: 'Dynamic'\n          publicIPAddress: {\n            id: '<id>'\n          }\n        }\n      }\n    ]\n    frontendPorts: [\n      {\n        name: 'port443'\n        properties: {\n          port: 443\n        }\n      }\n      {\n        name: 'port80'\n        properties: {\n          port: 80\n        }\n      }\n    ]\n    gatewayIPConfigurations: [\n      {\n        name: 'apw-ip-configuration'\n        properties: {\n          subnet: {\n            id: '<id>'\n          }\n        }\n      }\n    ]\n    httpListeners: [\n      {\n        name: 'public443'\n        properties: {\n          frontendIPConfiguration: {\n            id: '<id>'\n          }\n          frontendPort: {\n            id: '<id>'\n          }\n          hostNames: []\n          protocol: 'https'\n          requireServerNameIndication: false\n          sslCertificate: {\n            id: '<id>'\n          }\n        }\n      }\n      {\n        name: 'httpRedirect80'\n        properties: {\n          frontendIPConfiguration: {\n            id: '<id>'\n          }\n          frontendPort: {\n            id: '<id>'\n          }\n          hostNames: []\n          protocol: 'Http'\n          requireServerNameIndication: false\n        }\n      }\n    ]\n    location: '<location>'\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    redirectConfigurations: [\n      {\n        name: 'httpRedirect80'\n        properties: {\n          includePath: true\n          includeQueryString: true\n          redirectType: 'Permanent'\n          requestRoutingRules: [\n            {\n              id: '<id>'\n            }\n          ]\n          targetListener: {\n            id: '<id>'\n          }\n        }\n      }\n    ]\n    requestRoutingRules: [\n      {\n        name: 'public443-appServiceBackendHttpsSetting-appServiceBackendHttpsSetting'\n        properties: {\n          backendAddressPool: {\n            id: '<id>'\n          }\n          backendHttpSettings: {\n            id: '<id>'\n          }\n          httpListener: {\n            id: '<id>'\n          }\n          priority: 200\n          ruleType: 'Basic'\n        }\n      }\n      {\n        name: 'httpRedirect80-public443'\n        properties: {\n          httpListener: {\n            id: '<id>'\n          }\n          priority: 300\n          redirectConfiguration: {\n            id: '<id>'\n          }\n          ruleType: 'Basic'\n        }\n      }\n    ]\n    rewriteRuleSets: [\n      {\n        id: '<id>'\n        name: 'customRewrite'\n        properties: {\n          rewriteRules: [\n            {\n              actionSet: {\n                requestHeaderConfigurations: [\n                  {\n                    headerName: 'Content-Type'\n                    headerValue: 'JSON'\n                  }\n                  {\n                    headerName: 'someheader'\n                  }\n                ]\n                responseHeaderConfigurations: []\n              }\n              conditions: []\n              name: 'NewRewrite'\n              ruleSequence: 100\n            }\n          ]\n        }\n      }\n    ]\n    sku: 'Standard_v2'\n    sslCertificates: [\n      {\n        name: 'az-apgw-x-001-ssl-certificate'\n        properties: {\n          keyVaultSecretId: '<keyVaultSecretId>'\n        }\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module applicationGateway 'br/public:avm/res/network/application-gateway:0.7' = {\n  name: 'applicationGatewayDeployment'\n  params: {\n    // Required parameters\n    name: '<name>'\n    // Non-required parameters\n    backendAddressPools: [\n      {\n        name: 'appServiceBackendPool'\n        properties: {\n          backendAddresses: [\n            {\n              fqdn: 'aghapp.azurewebsites.net'\n            }\n          ]\n        }\n      }\n    ]\n    backendHttpSettingsCollection: [\n      {\n        name: 'appServiceBackendHttpsSetting'\n        properties: {\n          cookieBasedAffinity: 'Disabled'\n          pickHostNameFromBackendAddress: true\n          port: 443\n          protocol: 'Https'\n          requestTimeout: 30\n        }\n      }\n    ]\n    enableHttp2: true\n    enableTelemetry: '<enableTelemetry>'\n    frontendIPConfigurations: [\n      {\n        name: 'public'\n        properties: {\n          privateIPAllocationMethod: 'Dynamic'\n          publicIPAddress: {\n            id: '<id>'\n          }\n        }\n      }\n    ]\n    frontendPorts: [\n      {\n        name: 'port443'\n        properties: {\n          port: 443\n        }\n      }\n      {\n        name: 'port80'\n        properties: {\n          port: 80\n        }\n      }\n    ]\n    gatewayIPConfigurations: [\n      {\n        name: 'apw-ip-configuration'\n        properties: {\n          subnet: {\n            id: '<id>'\n          }\n        }\n      }\n    ]\n    httpListeners: [\n      {\n        name: 'public443'\n        properties: {\n          frontendIPConfiguration: {\n            id: '<id>'\n          }\n          frontendPort: {\n            id: '<id>'\n          }\n          hostNames: []\n          protocol: 'https'\n          requireServerNameIndication: false\n          sslCertificate: {\n            id: '<id>'\n          }\n        }\n      }\n      {\n        name: 'httpRedirect80'\n        properties: {\n          frontendIPConfiguration: {\n            id: '<id>'\n          }\n          frontendPort: {\n            id: '<id>'\n          }\n          hostNames: []\n          protocol: 'Http'\n          requireServerNameIndication: false\n        }\n      }\n    ]\n    location: '<location>'\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    redirectConfigurations: [\n      {\n        name: 'httpRedirect80'\n        properties: {\n          includePath: true\n          includeQueryString: true\n          redirectType: 'Permanent'\n          requestRoutingRules: [\n            {\n              id: '<id>'\n            }\n          ]\n          targetListener: {\n            id: '<id>'\n          }\n        }\n      }\n    ]\n    requestRoutingRules: [\n      {\n        name: 'public443-appServiceBackendHttpsSetting-appServiceBackendHttpsSetting'\n        properties: {\n          backendAddressPool: {\n            id: '<id>'\n          }\n          backendHttpSettings: {\n            id: '<id>'\n          }\n          httpListener: {\n            id: '<id>'\n          }\n          priority: 200\n          ruleType: 'Basic'\n        }\n      }\n      {\n        name: 'httpRedirect80-public443'\n        properties: {\n          httpListener: {\n            id: '<id>'\n          }\n          priority: 300\n          redirectConfiguration: {\n            id: '<id>'\n          }\n          ruleType: 'Basic'\n        }\n      }\n    ]\n    rewriteRuleSets: [\n      {\n        id: '<id>'\n        name: 'customRewrite'\n        properties: {\n          rewriteRules: [\n            {\n              actionSet: {\n                requestHeaderConfigurations: [\n                  {\n                    headerName: 'Content-Type'\n                    headerValue: 'JSON'\n                  }\n                  {\n                    headerName: 'someheader'\n                  }\n                ]\n                responseHeaderConfigurations: []\n              }\n              conditions: []\n              name: 'NewRewrite'\n              ruleSequence: 100\n            }\n          ]\n        }\n      }\n    ]\n    sku: 'Standard_v2'\n    sslCertificates: [\n      {\n        name: 'az-apgw-x-001-ssl-certificate'\n        properties: {\n          keyVaultSecretId: '<keyVaultSecretId>'\n        }\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_network_application-gateway_example_5", "source": "avm/res/network/application-gateway/README.md", "content_to_embed": "Recommended AVM Module for Network Application Gateways: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Network/applicationGateways\nModule ID: br/public:avm/res/network/application-gateway:0.7\nParameters:\nparams: {\n    // Required parameters\n    name: '<name>'\n    // Non-required parameters\n    backendAddressPools: [\n      {\n        name: 'appServiceBackendPool'\n        properties: {\n          backendAddresses: [\n            {\n              fqdn: 'aghapp.azurewebsites.net'\n            }\n          ]\n        }\n      }\n      {\n        name: 'privateVmBackendPool'\n        properties: {\n          backendAddresses: [\n            {\n              ipAddress: '10.0.0.4'\n            }\n          ]\n        }\n      }\n    ]\n    backendHttpSettingsCollection: [\n      {\n        name: 'appServiceBackendHttpsSetting'\n        properties: {\n          cookieBasedAffinity: 'Disabled'\n          pickHostNameFromBackendAddress: true\n          port: 443\n          protocol: 'Https'\n          requestTimeout: 30\n        }\n      }\n      {\n        name: 'privateVmHttpSetting'\n        properties: {\n          cookieBasedAffinity: 'Disabled'\n          pickHostNameFromBackendAddress: false\n          port: 80\n          probe: {\n            id: '<id>'\n          }\n          protocol: 'Http'\n          requestTimeout: 30\n        }\n      }\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    enableHttp2: true\n    enableTelemetry: '<enableTelemetry>'\n    firewallPolicyResourceId: '<firewallPolicyResourceId>'\n    frontendIPConfigurations: [\n      {\n        name: 'private'\n        properties: {\n          privateIPAddress: '10.0.0.20'\n          privateIPAllocationMethod: 'Static'\n          subnet: {\n            id: '<id>'\n          }\n        }\n      }\n      {\n        name: 'public'\n        properties: {\n          privateIPAllocationMethod: 'Dynamic'\n          privateLinkConfiguration: {\n            id: '<id>'\n          }\n          publicIPAddress: {\n            id: '<id>'\n          }\n        }\n      }\n    ]\n    frontendPorts: [\n      {\n        name: 'port443'\n        properties: {\n          port: 443\n        }\n      }\n      {\n        name: 'port4433'\n        properties: {\n          port: 4433\n        }\n      }\n      {\n        name: 'port80'\n        properties: {\n          port: 80\n        }\n      }\n      {\n        name: 'port8080'\n        properties: {\n          port: 8080\n        }\n      }\n    ]\n    gatewayIPConfigurations: [\n      {\n        name: 'apw-ip-configuration'\n        properties: {\n          subnet: {\n            id: '<id>'\n          }\n        }\n      }\n    ]\n    httpListeners: [\n      {\n        name: 'public443'\n        properties: {\n          frontendIPConfiguration: {\n            id: '<id>'\n          }\n          frontendPort: {\n            id: '<id>'\n          }\n          hostNames: []\n          protocol: 'https'\n          requireServerNameIndication: false\n          sslCertificate: {\n            id: '<id>'\n          }\n        }\n      }\n      {\n        name: 'private4433'\n        properties: {\n          frontendIPConfiguration: {\n            id: '<id>'\n          }\n          frontendPort: {\n            id: '<id>'\n          }\n          hostNames: []\n          protocol: 'https'\n          requireServerNameIndication: false\n          sslCertificate: {\n            id: '<id>'\n          }\n        }\n      }\n      {\n        name: 'httpRedirect80'\n        properties: {\n          frontendIPConfiguration: {\n            id: '<id>'\n          }\n          frontendPort: {\n            id: '<id>'\n          }\n          hostNames: []\n          protocol: 'Http'\n          requireServerNameIndication: false\n        }\n      }\n      {\n        name: 'httpRedirect8080'\n        properties: {\n          frontendIPConfiguration: {\n            id: '<id>'\n          }\n          frontendPort: {\n            id: '<id>'\n          }\n          hostNames: []\n          protocol: 'Http'\n          requireServerNameIndication: false\n        }\n      }\n    ]\n    location: '<location>'\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'public'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          Role: 'DeploymentValidation'\n        }\n      }\n    ]\n    privateLinkConfigurations: [\n      {\n        id: '<id>'\n        name: 'pvtlink01'\n        properties: {\n          ipConfigurations: [\n            {\n              id: '<id>'\n              name: 'privateLinkIpConfig1'\n              properties: {\n                primary: false\n                privateIPAllocationMethod: 'Dynamic'\n                subnet: {\n                  id: '<id>'\n                }\n              }\n            }\n          ]\n        }\n      }\n    ]\n    probes: [\n      {\n        name: 'privateVmHttpSettingProbe'\n        properties: {\n          host: '10.0.0.4'\n          interval: 60\n          match: {\n            statusCodes: [\n              '200'\n              '401'\n            ]\n          }\n          minServers: 3\n          path: '/'\n          pickHostNameFromBackendHttpSettings: false\n          protocol: 'Http'\n          timeout: 15\n          unhealthyThreshold: 5\n        }\n      }\n    ]\n    redirectConfigurations: [\n      {\n        name: 'httpRedirect80'\n        properties: {\n          includePath: true\n          includeQueryString: true\n          redirectType: 'Permanent'\n          requestRoutingRules: [\n            {\n              id: '<id>'\n            }\n          ]\n          targetListener: {\n            id: '<id>'\n          }\n        }\n      }\n      {\n        name: 'httpRedirect8080'\n        properties: {\n          includePath: true\n          includeQueryString: true\n          redirectType: 'Permanent'\n          requestRoutingRules: [\n            {\n              id: '<id>'\n            }\n          ]\n          targetListener: {\n            id: '<id>'\n          }\n        }\n      }\n    ]\n    requestRoutingRules: [\n      {\n        name: 'public443-appServiceBackendHttpsSetting-appServiceBackendHttpsSetting'\n        properties: {\n          backendAddressPool: {\n            id: '<id>'\n          }\n          backendHttpSettings: {\n            id: '<id>'\n          }\n          httpListener: {\n            id: '<id>'\n          }\n          priority: 200\n          ruleType: 'Basic'\n        }\n      }\n      {\n        name: 'private4433-privateVmHttpSetting-privateVmHttpSetting'\n        properties: {\n          backendAddressPool: {\n            id: '<id>'\n          }\n          backendHttpSettings: {\n            id: '<id>'\n          }\n          httpListener: {\n            id: '<id>'\n          }\n          priority: 250\n          ruleType: 'Basic'\n        }\n      }\n      {\n        name: 'httpRedirect80-public443'\n        properties: {\n          httpListener: {\n            id: '<id>'\n          }\n          priority: 300\n          redirectConfiguration: {\n            id: '<id>'\n          }\n          ruleType: 'Basic'\n        }\n      }\n      {\n        name: 'httpRedirect8080-private4433'\n        properties: {\n          httpListener: {\n            id: '<id>'\n          }\n          priority: 350\n          redirectConfiguration: {\n            id: '<id>'\n          }\n          rewriteRuleSet: {\n            id: '<id>'\n          }\n          ruleType: 'Basic'\n        }\n      }\n    ]\n    rewriteRuleSets: [\n      {\n        id: '<id>'\n        name: 'customRewrite'\n        properties: {\n          rewriteRules: [\n            {\n              actionSet: {\n                requestHeaderConfigurations: [\n                  {\n                    headerName: 'Content-Type'\n                    headerValue: 'JSON'\n                  }\n                  {\n                    headerName: 'someheader'\n                  }\n                ]\n                responseHeaderConfigurations: []\n              }\n              conditions: []\n              name: 'NewRewrite'\n              ruleSequence: 100\n            }\n          ]\n        }\n      }\n    ]\n    sku: 'WAF_v2'\n    sslCertificates: [\n      {\n        name: 'az-apgw-x-001-ssl-certificate'\n        properties: {\n          keyVaultSecretId: '<keyVaultSecretId>'\n        }\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module applicationGateway 'br/public:avm/res/network/application-gateway:0.7' = {\n  name: 'applicationGatewayDeployment'\n  params: {\n    // Required parameters\n    name: '<name>'\n    // Non-required parameters\n    backendAddressPools: [\n      {\n        name: 'appServiceBackendPool'\n        properties: {\n          backendAddresses: [\n            {\n              fqdn: 'aghapp.azurewebsites.net'\n            }\n          ]\n        }\n      }\n      {\n        name: 'privateVmBackendPool'\n        properties: {\n          backendAddresses: [\n            {\n              ipAddress: '10.0.0.4'\n            }\n          ]\n        }\n      }\n    ]\n    backendHttpSettingsCollection: [\n      {\n        name: 'appServiceBackendHttpsSetting'\n        properties: {\n          cookieBasedAffinity: 'Disabled'\n          pickHostNameFromBackendAddress: true\n          port: 443\n          protocol: 'Https'\n          requestTimeout: 30\n        }\n      }\n      {\n        name: 'privateVmHttpSetting'\n        properties: {\n          cookieBasedAffinity: 'Disabled'\n          pickHostNameFromBackendAddress: false\n          port: 80\n          probe: {\n            id: '<id>'\n          }\n          protocol: 'Http'\n          requestTimeout: 30\n        }\n      }\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    enableHttp2: true\n    enableTelemetry: '<enableTelemetry>'\n    firewallPolicyResourceId: '<firewallPolicyResourceId>'\n    frontendIPConfigurations: [\n      {\n        name: 'private'\n        properties: {\n          privateIPAddress: '10.0.0.20'\n          privateIPAllocationMethod: 'Static'\n          subnet: {\n            id: '<id>'\n          }\n        }\n      }\n      {\n        name: 'public'\n        properties: {\n          privateIPAllocationMethod: 'Dynamic'\n          privateLinkConfiguration: {\n            id: '<id>'\n          }\n          publicIPAddress: {\n            id: '<id>'\n          }\n        }\n      }\n    ]\n    frontendPorts: [\n      {\n        name: 'port443'\n        properties: {\n          port: 443\n        }\n      }\n      {\n        name: 'port4433'\n        properties: {\n          port: 4433\n        }\n      }\n      {\n        name: 'port80'\n        properties: {\n          port: 80\n        }\n      }\n      {\n        name: 'port8080'\n        properties: {\n          port: 8080\n        }\n      }\n    ]\n    gatewayIPConfigurations: [\n      {\n        name: 'apw-ip-configuration'\n        properties: {\n          subnet: {\n            id: '<id>'\n          }\n        }\n      }\n    ]\n    httpListeners: [\n      {\n        name: 'public443'\n        properties: {\n          frontendIPConfiguration: {\n            id: '<id>'\n          }\n          frontendPort: {\n            id: '<id>'\n          }\n          hostNames: []\n          protocol: 'https'\n          requireServerNameIndication: false\n          sslCertificate: {\n            id: '<id>'\n          }\n        }\n      }\n      {\n        name: 'private4433'\n        properties: {\n          frontendIPConfiguration: {\n            id: '<id>'\n          }\n          frontendPort: {\n            id: '<id>'\n          }\n          hostNames: []\n          protocol: 'https'\n          requireServerNameIndication: false\n          sslCertificate: {\n            id: '<id>'\n          }\n        }\n      }\n      {\n        name: 'httpRedirect80'\n        properties: {\n          frontendIPConfiguration: {\n            id: '<id>'\n          }\n          frontendPort: {\n            id: '<id>'\n          }\n          hostNames: []\n          protocol: 'Http'\n          requireServerNameIndication: false\n        }\n      }\n      {\n        name: 'httpRedirect8080'\n        properties: {\n          frontendIPConfiguration: {\n            id: '<id>'\n          }\n          frontendPort: {\n            id: '<id>'\n          }\n          hostNames: []\n          protocol: 'Http'\n          requireServerNameIndication: false\n        }\n      }\n    ]\n    location: '<location>'\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'public'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          Role: 'DeploymentValidation'\n        }\n      }\n    ]\n    privateLinkConfigurations: [\n      {\n        id: '<id>'\n        name: 'pvtlink01'\n        properties: {\n          ipConfigurations: [\n            {\n              id: '<id>'\n              name: 'privateLinkIpConfig1'\n              properties: {\n                primary: false\n                privateIPAllocationMethod: 'Dynamic'\n                subnet: {\n                  id: '<id>'\n                }\n              }\n            }\n          ]\n        }\n      }\n    ]\n    probes: [\n      {\n        name: 'privateVmHttpSettingProbe'\n        properties: {\n          host: '10.0.0.4'\n          interval: 60\n          match: {\n            statusCodes: [\n              '200'\n              '401'\n            ]\n          }\n          minServers: 3\n          path: '/'\n          pickHostNameFromBackendHttpSettings: false\n          protocol: 'Http'\n          timeout: 15\n          unhealthyThreshold: 5\n        }\n      }\n    ]\n    redirectConfigurations: [\n      {\n        name: 'httpRedirect80'\n        properties: {\n          includePath: true\n          includeQueryString: true\n          redirectType: 'Permanent'\n          requestRoutingRules: [\n            {\n              id: '<id>'\n            }\n          ]\n          targetListener: {\n            id: '<id>'\n          }\n        }\n      }\n      {\n        name: 'httpRedirect8080'\n        properties: {\n          includePath: true\n          includeQueryString: true\n          redirectType: 'Permanent'\n          requestRoutingRules: [\n            {\n              id: '<id>'\n            }\n          ]\n          targetListener: {\n            id: '<id>'\n          }\n        }\n      }\n    ]\n    requestRoutingRules: [\n      {\n        name: 'public443-appServiceBackendHttpsSetting-appServiceBackendHttpsSetting'\n        properties: {\n          backendAddressPool: {\n            id: '<id>'\n          }\n          backendHttpSettings: {\n            id: '<id>'\n          }\n          httpListener: {\n            id: '<id>'\n          }\n          priority: 200\n          ruleType: 'Basic'\n        }\n      }\n      {\n        name: 'private4433-privateVmHttpSetting-privateVmHttpSetting'\n        properties: {\n          backendAddressPool: {\n            id: '<id>'\n          }\n          backendHttpSettings: {\n            id: '<id>'\n          }\n          httpListener: {\n            id: '<id>'\n          }\n          priority: 250\n          ruleType: 'Basic'\n        }\n      }\n      {\n        name: 'httpRedirect80-public443'\n        properties: {\n          httpListener: {\n            id: '<id>'\n          }\n          priority: 300\n          redirectConfiguration: {\n            id: '<id>'\n          }\n          ruleType: 'Basic'\n        }\n      }\n      {\n        name: 'httpRedirect8080-private4433'\n        properties: {\n          httpListener: {\n            id: '<id>'\n          }\n          priority: 350\n          redirectConfiguration: {\n            id: '<id>'\n          }\n          rewriteRuleSet: {\n            id: '<id>'\n          }\n          ruleType: 'Basic'\n        }\n      }\n    ]\n    rewriteRuleSets: [\n      {\n        id: '<id>'\n        name: 'customRewrite'\n        properties: {\n          rewriteRules: [\n            {\n              actionSet: {\n                requestHeaderConfigurations: [\n                  {\n                    headerName: 'Content-Type'\n                    headerValue: 'JSON'\n                  }\n                  {\n                    headerName: 'someheader'\n                  }\n                ]\n                responseHeaderConfigurations: []\n              }\n              conditions: []\n              name: 'NewRewrite'\n              ruleSequence: 100\n            }\n          ]\n        }\n      }\n    ]\n    sku: 'WAF_v2'\n    sslCertificates: [\n      {\n        name: 'az-apgw-x-001-ssl-certificate'\n        properties: {\n          keyVaultSecretId: '<keyVaultSecretId>'\n        }\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_network_application-gateway-web-application-firewall-policy_example_1", "source": "avm/res/network/application-gateway-web-application-firewall-policy/README.md", "content_to_embed": "Recommended AVM Module for Application Gateway Web Application Firewall (WAF) Policies: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Network/ApplicationGatewayWebApplicationFirewallPolicies\nModule ID: br/public:avm/res/network/application-gateway-web-application-firewall-policy:0.2\nParameters:\nparams: {\n    // Required parameters\n    managedRules: {\n      managedRuleSets: [\n        {\n          ruleSetType: 'OWASP'\n          ruleSetVersion: '3.2'\n        }\n      ]\n    }\n    name: 'nagwafpmin001'\n    // Non-required parameters\n    location: '<location>'\n  }", "bicep": "module applicationGatewayWebApplicationFirewallPolicy 'br/public:avm/res/network/application-gateway-web-application-firewall-policy:0.2' = {\n  name: 'applicationGatewayWebApplicationFirewallPolicyDeployment'\n  params: {\n    // Required parameters\n    managedRules: {\n      managedRuleSets: [\n        {\n          ruleSetType: 'OWASP'\n          ruleSetVersion: '3.2'\n        }\n      ]\n    }\n    name: 'nagwafpmin001'\n    // Non-required parameters\n    location: '<location>'\n  }\n}"}
{"id": "avm_res_network_application-gateway-web-application-firewall-policy_example_2", "source": "avm/res/network/application-gateway-web-application-firewall-policy/README.md", "content_to_embed": "Recommended AVM Module for Application Gateway Web Application Firewall (WAF) Policies: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Network/ApplicationGatewayWebApplicationFirewallPolicies\nModule ID: br/public:avm/res/network/application-gateway-web-application-firewall-policy:0.2\nParameters:\nparams: {\n    // Required parameters\n    managedRules: {\n      managedRuleSets: [\n        {\n          ruleGroupOverrides: []\n          ruleSetType: 'OWASP'\n          ruleSetVersion: '3.2'\n        }\n        {\n          ruleGroupOverrides: []\n          ruleSetType: 'Microsoft_BotManagerRuleSet'\n          ruleSetVersion: '0.1'\n        }\n      ]\n    }\n    name: 'nagwafpmax001'\n    // Non-required parameters\n    location: '<location>'\n    policySettings: {\n      customBlockResponseBody: 'PGh0bWw+CjxoZWFkZXI+PHRpdGxlPkhlbGxvPC90aXRsZT48L2hlYWRlcj4KPGJvZHk+CkhlbGxvIHdvcmxkCjwvYm9keT4KPC9odG1sPg=='\n      customBlockResponseStatusCode: 403\n      fileUploadLimitInMb: 10\n      jsChallengeCookieExpirationInMins: 60\n      mode: 'Prevention'\n      state: 'Enabled'\n    }\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module applicationGatewayWebApplicationFirewallPolicy 'br/public:avm/res/network/application-gateway-web-application-firewall-policy:0.2' = {\n  name: 'applicationGatewayWebApplicationFirewallPolicyDeployment'\n  params: {\n    // Required parameters\n    managedRules: {\n      managedRuleSets: [\n        {\n          ruleGroupOverrides: []\n          ruleSetType: 'OWASP'\n          ruleSetVersion: '3.2'\n        }\n        {\n          ruleGroupOverrides: []\n          ruleSetType: 'Microsoft_BotManagerRuleSet'\n          ruleSetVersion: '0.1'\n        }\n      ]\n    }\n    name: 'nagwafpmax001'\n    // Non-required parameters\n    location: '<location>'\n    policySettings: {\n      customBlockResponseBody: 'PGh0bWw+CjxoZWFkZXI+PHRpdGxlPkhlbGxvPC90aXRsZT48L2hlYWRlcj4KPGJvZHk+CkhlbGxvIHdvcmxkCjwvYm9keT4KPC9odG1sPg=='\n      customBlockResponseStatusCode: 403\n      fileUploadLimitInMb: 10\n      jsChallengeCookieExpirationInMins: 60\n      mode: 'Prevention'\n      state: 'Enabled'\n    }\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_network_application-gateway-web-application-firewall-policy_example_3", "source": "avm/res/network/application-gateway-web-application-firewall-policy/README.md", "content_to_embed": "Recommended AVM Module for Application Gateway Web Application Firewall (WAF) Policies: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Network/ApplicationGatewayWebApplicationFirewallPolicies\nModule ID: br/public:avm/res/network/application-gateway-web-application-firewall-policy:0.2\nParameters:\nparams: {\n    // Required parameters\n    managedRules: {\n      managedRuleSets: [\n        {\n          ruleGroupOverrides: []\n          ruleSetType: 'OWASP'\n          ruleSetVersion: '3.2'\n        }\n        {\n          ruleSetType: 'Microsoft_BotManagerRuleSet'\n          ruleSetVersion: '0.1'\n        }\n      ]\n    }\n    name: 'nagwafpwaf001'\n    // Non-required parameters\n    location: '<location>'\n    policySettings: {\n      fileUploadLimitInMb: 10\n      jsChallengeCookieExpirationInMins: 60\n      mode: 'Prevention'\n      state: 'Enabled'\n    }\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module applicationGatewayWebApplicationFirewallPolicy 'br/public:avm/res/network/application-gateway-web-application-firewall-policy:0.2' = {\n  name: 'applicationGatewayWebApplicationFirewallPolicyDeployment'\n  params: {\n    // Required parameters\n    managedRules: {\n      managedRuleSets: [\n        {\n          ruleGroupOverrides: []\n          ruleSetType: 'OWASP'\n          ruleSetVersion: '3.2'\n        }\n        {\n          ruleSetType: 'Microsoft_BotManagerRuleSet'\n          ruleSetVersion: '0.1'\n        }\n      ]\n    }\n    name: 'nagwafpwaf001'\n    // Non-required parameters\n    location: '<location>'\n    policySettings: {\n      fileUploadLimitInMb: 10\n      jsChallengeCookieExpirationInMins: 60\n      mode: 'Prevention'\n      state: 'Enabled'\n    }\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_network_application-security-group_example_1", "source": "avm/res/network/application-security-group/README.md", "content_to_embed": "Recommended AVM Module for Application Security Groups (ASG): Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Network/applicationSecurityGroups\nModule ID: br/public:avm/res/network/application-security-group:0.2\nParameters:\nparams: {\n    // Required parameters\n    name: 'nasgmin001'\n    // Non-required parameters\n    location: '<location>'\n  }", "bicep": "module applicationSecurityGroup 'br/public:avm/res/network/application-security-group:0.2' = {\n  name: 'applicationSecurityGroupDeployment'\n  params: {\n    // Required parameters\n    name: 'nasgmin001'\n    // Non-required parameters\n    location: '<location>'\n  }\n}"}
{"id": "avm_res_network_application-security-group_example_2", "source": "avm/res/network/application-security-group/README.md", "content_to_embed": "Recommended AVM Module for Application Security Groups (ASG): Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Network/applicationSecurityGroups\nModule ID: br/public:avm/res/network/application-security-group:0.2\nParameters:\nparams: {\n    // Required parameters\n    name: 'nasgmax001'\n    // Non-required parameters\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    roleAssignments: [\n      {\n        name: 'e9e73878-302e-4e67-a2f8-981ea073bdf7'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module applicationSecurityGroup 'br/public:avm/res/network/application-security-group:0.2' = {\n  name: 'applicationSecurityGroupDeployment'\n  params: {\n    // Required parameters\n    name: 'nasgmax001'\n    // Non-required parameters\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    roleAssignments: [\n      {\n        name: 'e9e73878-302e-4e67-a2f8-981ea073bdf7'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_network_application-security-group_example_3", "source": "avm/res/network/application-security-group/README.md", "content_to_embed": "Recommended AVM Module for Application Security Groups (ASG): WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Network/applicationSecurityGroups\nModule ID: br/public:avm/res/network/application-security-group:0.2\nParameters:\nparams: {\n    // Required parameters\n    name: 'nasgwaf001'\n    // Non-required parameters\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module applicationSecurityGroup 'br/public:avm/res/network/application-security-group:0.2' = {\n  name: 'applicationSecurityGroupDeployment'\n  params: {\n    // Required parameters\n    name: 'nasgwaf001'\n    // Non-required parameters\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_network_azure-firewall_example_1", "source": "avm/res/network/azure-firewall/README.md", "content_to_embed": "Recommended AVM Module for Azure Firewalls: Add-PIP - This instance deploys the module and attaches an existing public IP address.\nResource Type Path: Microsoft.Network/azureFirewalls\nModule ID: br/public:avm/res/network/azure-firewall:0.9\nParameters:\nparams: {\n    // Required parameters\n    name: 'nafaddpip001'\n    // Non-required parameters\n    additionalPublicIpConfigurations: [\n      {\n        name: 'ipConfig01'\n        publicIPAddressResourceId: '<publicIPAddressResourceId>'\n      }\n    ]\n    azureSkuTier: 'Basic'\n    location: '<location>'\n    managementIPAddressObject: {\n      publicIPAllocationMethod: 'Static'\n      roleAssignments: [\n        {\n          principalId: '<principalId>'\n          principalType: 'ServicePrincipal'\n          roleDefinitionIdOrName: 'Reader'\n        }\n      ]\n    }\n    virtualNetworkResourceId: '<virtualNetworkResourceId>'\n  }", "bicep": "module azureFirewall 'br/public:avm/res/network/azure-firewall:0.9' = {\n  name: 'azureFirewallDeployment'\n  params: {\n    // Required parameters\n    name: 'nafaddpip001'\n    // Non-required parameters\n    additionalPublicIpConfigurations: [\n      {\n        name: 'ipConfig01'\n        publicIPAddressResourceId: '<publicIPAddressResourceId>'\n      }\n    ]\n    azureSkuTier: 'Basic'\n    location: '<location>'\n    managementIPAddressObject: {\n      publicIPAllocationMethod: 'Static'\n      roleAssignments: [\n        {\n          principalId: '<principalId>'\n          principalType: 'ServicePrincipal'\n          roleDefinitionIdOrName: 'Reader'\n        }\n      ]\n    }\n    virtualNetworkResourceId: '<virtualNetworkResourceId>'\n  }\n}"}
{"id": "avm_res_network_azure-firewall_example_2", "source": "avm/res/network/azure-firewall/README.md", "content_to_embed": "Recommended AVM Module for Azure Firewalls: Basic SKU - This instance deploys the module with the Basic SKU.\nResource Type Path: Microsoft.Network/azureFirewalls\nModule ID: br/public:avm/res/network/azure-firewall:0.9\nParameters:\nparams: {\n    // Required parameters\n    name: 'nafbasic001'\n    // Non-required parameters\n    azureSkuTier: 'Basic'\n    location: '<location>'\n    networkRuleCollections: []\n    threatIntelMode: 'Deny'\n    virtualNetworkResourceId: '<virtualNetworkResourceId>'\n  }", "bicep": "module azureFirewall 'br/public:avm/res/network/azure-firewall:0.9' = {\n  name: 'azureFirewallDeployment'\n  params: {\n    // Required parameters\n    name: 'nafbasic001'\n    // Non-required parameters\n    azureSkuTier: 'Basic'\n    location: '<location>'\n    networkRuleCollections: []\n    threatIntelMode: 'Deny'\n    virtualNetworkResourceId: '<virtualNetworkResourceId>'\n  }\n}"}
{"id": "avm_res_network_azure-firewall_example_3", "source": "avm/res/network/azure-firewall/README.md", "content_to_embed": "Recommended AVM Module for Azure Firewalls: Custom-PIP - This instance deploys the module and will create a public IP address.\nResource Type Path: Microsoft.Network/azureFirewalls\nModule ID: br/public:avm/res/network/azure-firewall:0.9\nParameters:\nparams: {\n    // Required parameters\n    name: 'nafcstpip001'\n    // Non-required parameters\n    location: '<location>'\n    publicIPAddressObject: {\n      diagnosticSettings: [\n        {\n          eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n          eventHubName: '<eventHubName>'\n          metricCategories: [\n            {\n              category: 'AllMetrics'\n            }\n          ]\n          name: 'customSetting'\n          storageAccountResourceId: '<storageAccountResourceId>'\n          workspaceResourceId: '<workspaceResourceId>'\n        }\n      ]\n      name: 'new-pip-nafcstpip'\n      publicIPAllocationMethod: 'Static'\n      publicIPPrefixResourceId: ''\n      roleAssignments: [\n        {\n          principalId: '<principalId>'\n          principalType: 'ServicePrincipal'\n          roleDefinitionIdOrName: 'Reader'\n        }\n      ]\n      skuName: 'Standard'\n      skuTier: 'Regional'\n    }\n    virtualNetworkResourceId: '<virtualNetworkResourceId>'\n  }", "bicep": "module azureFirewall 'br/public:avm/res/network/azure-firewall:0.9' = {\n  name: 'azureFirewallDeployment'\n  params: {\n    // Required parameters\n    name: 'nafcstpip001'\n    // Non-required parameters\n    location: '<location>'\n    publicIPAddressObject: {\n      diagnosticSettings: [\n        {\n          eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n          eventHubName: '<eventHubName>'\n          metricCategories: [\n            {\n              category: 'AllMetrics'\n            }\n          ]\n          name: 'customSetting'\n          storageAccountResourceId: '<storageAccountResourceId>'\n          workspaceResourceId: '<workspaceResourceId>'\n        }\n      ]\n      name: 'new-pip-nafcstpip'\n      publicIPAllocationMethod: 'Static'\n      publicIPPrefixResourceId: ''\n      roleAssignments: [\n        {\n          principalId: '<principalId>'\n          principalType: 'ServicePrincipal'\n          roleDefinitionIdOrName: 'Reader'\n        }\n      ]\n      skuName: 'Standard'\n      skuTier: 'Regional'\n    }\n    virtualNetworkResourceId: '<virtualNetworkResourceId>'\n  }\n}"}
{"id": "avm_res_network_azure-firewall_example_4", "source": "avm/res/network/azure-firewall/README.md", "content_to_embed": "Recommended AVM Module for Azure Firewalls: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Network/azureFirewalls\nModule ID: br/public:avm/res/network/azure-firewall:0.9\nParameters:\nparams: {\n    // Required parameters\n    name: 'nafmin001'\n    // Non-required parameters\n    location: '<location>'\n    virtualNetworkResourceId: '<virtualNetworkResourceId>'\n  }", "bicep": "module azureFirewall 'br/public:avm/res/network/azure-firewall:0.9' = {\n  name: 'azureFirewallDeployment'\n  params: {\n    // Required parameters\n    name: 'nafmin001'\n    // Non-required parameters\n    location: '<location>'\n    virtualNetworkResourceId: '<virtualNetworkResourceId>'\n  }\n}"}
{"id": "avm_res_network_azure-firewall_example_5", "source": "avm/res/network/azure-firewall/README.md", "content_to_embed": "Recommended AVM Module for Azure Firewalls: Hub-byoip - This instance deploys the module a vWAN with an existing IP.\nResource Type Path: Microsoft.Network/azureFirewalls\nModule ID: br/public:avm/res/network/azure-firewall:0.9\nParameters:\nparams: {\n    // Required parameters\n    name: 'nafhubbyoip001'\n    // Non-required parameters\n    publicIPResourceID: '<publicIPResourceID>'\n    virtualHubResourceId: '<virtualHubResourceId>'\n  }", "bicep": "module azureFirewall 'br/public:avm/res/network/azure-firewall:0.9' = {\n  name: 'azureFirewallDeployment'\n  params: {\n    // Required parameters\n    name: 'nafhubbyoip001'\n    // Non-required parameters\n    publicIPResourceID: '<publicIPResourceID>'\n    virtualHubResourceId: '<virtualHubResourceId>'\n  }\n}"}
{"id": "avm_res_network_azure-firewall_example_6", "source": "avm/res/network/azure-firewall/README.md", "content_to_embed": "Recommended AVM Module for Azure Firewalls: Hub-commom - This instance deploys the module a vWAN in a typical hub setting.\nResource Type Path: Microsoft.Network/azureFirewalls\nModule ID: br/public:avm/res/network/azure-firewall:0.9\nParameters:\nparams: {\n    // Required parameters\n    name: 'nafhubcom001'\n    // Non-required parameters\n    firewallPolicyId: '<firewallPolicyId>'\n    hubIPAddresses: {\n      publicIPs: {\n        count: 1\n      }\n    }\n    location: '<location>'\n    virtualHubResourceId: '<virtualHubResourceId>'\n  }", "bicep": "module azureFirewall 'br/public:avm/res/network/azure-firewall:0.9' = {\n  name: 'azureFirewallDeployment'\n  params: {\n    // Required parameters\n    name: 'nafhubcom001'\n    // Non-required parameters\n    firewallPolicyId: '<firewallPolicyId>'\n    hubIPAddresses: {\n      publicIPs: {\n        count: 1\n      }\n    }\n    location: '<location>'\n    virtualHubResourceId: '<virtualHubResourceId>'\n  }\n}"}
{"id": "avm_res_network_azure-firewall_example_7", "source": "avm/res/network/azure-firewall/README.md", "content_to_embed": "Recommended AVM Module for Azure Firewalls: Hub-min - This instance deploys the module a vWAN minimum hub setting.\nResource Type Path: Microsoft.Network/azureFirewalls\nModule ID: br/public:avm/res/network/azure-firewall:0.9\nParameters:\nparams: {\n    // Required parameters\n    name: 'nafhubmin001'\n    // Non-required parameters\n    hubIPAddresses: {\n      publicIPs: {\n        count: 1\n      }\n    }\n    location: '<location>'\n    virtualHubResourceId: '<virtualHubResourceId>'\n  }", "bicep": "module azureFirewall 'br/public:avm/res/network/azure-firewall:0.9' = {\n  name: 'azureFirewallDeployment'\n  params: {\n    // Required parameters\n    name: 'nafhubmin001'\n    // Non-required parameters\n    hubIPAddresses: {\n      publicIPs: {\n        count: 1\n      }\n    }\n    location: '<location>'\n    virtualHubResourceId: '<virtualHubResourceId>'\n  }\n}"}
{"id": "avm_res_network_azure-firewall_example_8", "source": "avm/res/network/azure-firewall/README.md", "content_to_embed": "Recommended AVM Module for Azure Firewalls: Management nic - This instance deploys the module and sets up a Firewall management nic to support features such as Forced Tunneling and Packet Capture.\nResource Type Path: Microsoft.Network/azureFirewalls\nModule ID: br/public:avm/res/network/azure-firewall:0.9\nParameters:\nparams: {\n    // Required parameters\n    name: 'naftunn001'\n    // Non-required parameters\n    additionalPublicIpConfigurations: [\n      {\n        name: 'ipConfig01'\n        publicIPAddressResourceId: '<publicIPAddressResourceId>'\n      }\n    ]\n    azureSkuTier: 'Standard'\n    enableManagementNic: true\n    location: '<location>'\n    managementIPAddressObject: {\n      publicIPAllocationMethod: 'Static'\n    }\n    virtualNetworkResourceId: '<virtualNetworkResourceId>'\n  }", "bicep": "module azureFirewall 'br/public:avm/res/network/azure-firewall:0.9' = {\n  name: 'azureFirewallDeployment'\n  params: {\n    // Required parameters\n    name: 'naftunn001'\n    // Non-required parameters\n    additionalPublicIpConfigurations: [\n      {\n        name: 'ipConfig01'\n        publicIPAddressResourceId: '<publicIPAddressResourceId>'\n      }\n    ]\n    azureSkuTier: 'Standard'\n    enableManagementNic: true\n    location: '<location>'\n    managementIPAddressObject: {\n      publicIPAllocationMethod: 'Static'\n    }\n    virtualNetworkResourceId: '<virtualNetworkResourceId>'\n  }\n}"}
{"id": "avm_res_network_azure-firewall_example_9", "source": "avm/res/network/azure-firewall/README.md", "content_to_embed": "Recommended AVM Module for Azure Firewalls: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Network/azureFirewalls\nModule ID: br/public:avm/res/network/azure-firewall:0.9\nParameters:\nparams: {\n    // Required parameters\n    name: 'nafmax001'\n    // Non-required parameters\n    applicationRuleCollections: [\n      {\n        name: 'allow-app-rules'\n        properties: {\n          action: {\n            type: 'Allow'\n          }\n          priority: 100\n          rules: [\n            {\n              fqdnTags: [\n                'AppServiceEnvironment'\n                'WindowsUpdate'\n              ]\n              name: 'allow-ase-tags'\n              protocols: [\n                {\n                  port: 80\n                  protocolType: 'Http'\n                }\n                {\n                  port: 443\n                  protocolType: 'Https'\n                }\n              ]\n              sourceAddresses: [\n                '*'\n              ]\n            }\n            {\n              name: 'allow-ase-management'\n              protocols: [\n                {\n                  port: 80\n                  protocolType: 'Http'\n                }\n                {\n                  port: 443\n                  protocolType: 'Https'\n                }\n              ]\n              sourceAddresses: [\n                '*'\n              ]\n              targetFqdns: [\n                'bing.com'\n              ]\n            }\n          ]\n        }\n      }\n    ]\n    availabilityZones: [\n      1\n      2\n      3\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    networkRuleCollections: [\n      {\n        name: 'allow-network-rules'\n        properties: {\n          action: {\n            type: 'Allow'\n          }\n          priority: 100\n          rules: [\n            {\n              destinationAddresses: [\n                '*'\n              ]\n              destinationPorts: [\n                '12000'\n                '123'\n              ]\n              name: 'allow-ntp'\n              protocols: [\n                'Any'\n              ]\n              sourceAddresses: [\n                '*'\n              ]\n            }\n            {\n              description: 'allow azure devops'\n              destinationAddresses: [\n                'AzureDevOps'\n              ]\n              destinationPorts: [\n                '443'\n              ]\n              name: 'allow-azure-devops'\n              protocols: [\n                'Any'\n              ]\n              sourceAddresses: [\n                '*'\n              ]\n            }\n          ]\n        }\n      }\n    ]\n    publicIPResourceID: '<publicIPResourceID>'\n    roleAssignments: [\n      {\n        name: '3a8da184-d6d8-4bea-b992-e27cc053ef21'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    virtualNetworkResourceId: '<virtualNetworkResourceId>'\n  }", "bicep": "module azureFirewall 'br/public:avm/res/network/azure-firewall:0.9' = {\n  name: 'azureFirewallDeployment'\n  params: {\n    // Required parameters\n    name: 'nafmax001'\n    // Non-required parameters\n    applicationRuleCollections: [\n      {\n        name: 'allow-app-rules'\n        properties: {\n          action: {\n            type: 'Allow'\n          }\n          priority: 100\n          rules: [\n            {\n              fqdnTags: [\n                'AppServiceEnvironment'\n                'WindowsUpdate'\n              ]\n              name: 'allow-ase-tags'\n              protocols: [\n                {\n                  port: 80\n                  protocolType: 'Http'\n                }\n                {\n                  port: 443\n                  protocolType: 'Https'\n                }\n              ]\n              sourceAddresses: [\n                '*'\n              ]\n            }\n            {\n              name: 'allow-ase-management'\n              protocols: [\n                {\n                  port: 80\n                  protocolType: 'Http'\n                }\n                {\n                  port: 443\n                  protocolType: 'Https'\n                }\n              ]\n              sourceAddresses: [\n                '*'\n              ]\n              targetFqdns: [\n                'bing.com'\n              ]\n            }\n          ]\n        }\n      }\n    ]\n    availabilityZones: [\n      1\n      2\n      3\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    networkRuleCollections: [\n      {\n        name: 'allow-network-rules'\n        properties: {\n          action: {\n            type: 'Allow'\n          }\n          priority: 100\n          rules: [\n            {\n              destinationAddresses: [\n                '*'\n              ]\n              destinationPorts: [\n                '12000'\n                '123'\n              ]\n              name: 'allow-ntp'\n              protocols: [\n                'Any'\n              ]\n              sourceAddresses: [\n                '*'\n              ]\n            }\n            {\n              description: 'allow azure devops'\n              destinationAddresses: [\n                'AzureDevOps'\n              ]\n              destinationPorts: [\n                '443'\n              ]\n              name: 'allow-azure-devops'\n              protocols: [\n                'Any'\n              ]\n              sourceAddresses: [\n                '*'\n              ]\n            }\n          ]\n        }\n      }\n    ]\n    publicIPResourceID: '<publicIPResourceID>'\n    roleAssignments: [\n      {\n        name: '3a8da184-d6d8-4bea-b992-e27cc053ef21'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    virtualNetworkResourceId: '<virtualNetworkResourceId>'\n  }\n}"}
{"id": "avm_res_network_azure-firewall_example_10", "source": "avm/res/network/azure-firewall/README.md", "content_to_embed": "Recommended AVM Module for Azure Firewalls: Public-IP-Prefix - This instance deploys the module and will use a public IP prefix.\nResource Type Path: Microsoft.Network/azureFirewalls\nModule ID: br/public:avm/res/network/azure-firewall:0.9\nParameters:\nparams: {\n    // Required parameters\n    name: 'nafpip001'\n    // Non-required parameters\n    availabilityZones: []\n    azureSkuTier: 'Basic'\n    location: '<location>'\n    managementIPAddressObject: {\n      managementIPAllocationMethod: 'Static'\n      managementIPPrefixResourceId: '<managementIPPrefixResourceId>'\n      name: 'managementIP01'\n      skuName: 'Standard'\n      skuTier: 'Regional'\n    }\n    publicIPAddressObject: {\n      name: 'publicIP01'\n      publicIPAllocationMethod: 'Static'\n      publicIPPrefixResourceId: '<publicIPPrefixResourceId>'\n      skuName: 'Standard'\n      skuTier: 'Regional'\n    }\n    virtualNetworkResourceId: '<virtualNetworkResourceId>'\n  }", "bicep": "module azureFirewall 'br/public:avm/res/network/azure-firewall:0.9' = {\n  name: 'azureFirewallDeployment'\n  params: {\n    // Required parameters\n    name: 'nafpip001'\n    // Non-required parameters\n    availabilityZones: []\n    azureSkuTier: 'Basic'\n    location: '<location>'\n    managementIPAddressObject: {\n      managementIPAllocationMethod: 'Static'\n      managementIPPrefixResourceId: '<managementIPPrefixResourceId>'\n      name: 'managementIP01'\n      skuName: 'Standard'\n      skuTier: 'Regional'\n    }\n    publicIPAddressObject: {\n      name: 'publicIP01'\n      publicIPAllocationMethod: 'Static'\n      publicIPPrefixResourceId: '<publicIPPrefixResourceId>'\n      skuName: 'Standard'\n      skuTier: 'Regional'\n    }\n    virtualNetworkResourceId: '<virtualNetworkResourceId>'\n  }\n}"}
{"id": "avm_res_network_azure-firewall_example_11", "source": "avm/res/network/azure-firewall/README.md", "content_to_embed": "Recommended AVM Module for Azure Firewalls: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Network/azureFirewalls\nModule ID: br/public:avm/res/network/azure-firewall:0.9\nParameters:\nparams: {\n    // Required parameters\n    name: 'nafwaf001'\n    // Non-required parameters\n    applicationRuleCollections: [\n      {\n        name: 'allow-app-rules'\n        properties: {\n          action: {\n            type: 'Allow'\n          }\n          priority: 100\n          rules: [\n            {\n              fqdnTags: [\n                'AppServiceEnvironment'\n                'WindowsUpdate'\n              ]\n              name: 'allow-ase-tags'\n              protocols: [\n                {\n                  port: 80\n                  protocolType: 'Http'\n                }\n                {\n                  port: 443\n                  protocolType: 'Https'\n                }\n              ]\n              sourceAddresses: [\n                '*'\n              ]\n            }\n            {\n              name: 'allow-ase-management'\n              protocols: [\n                {\n                  port: 80\n                  protocolType: 'Http'\n                }\n                {\n                  port: 443\n                  protocolType: 'Https'\n                }\n              ]\n              sourceAddresses: [\n                '*'\n              ]\n              targetFqdns: [\n                'bing.com'\n              ]\n            }\n          ]\n        }\n      }\n    ]\n    availabilityZones: [\n      1\n      2\n      3\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    location: '<location>'\n    networkRuleCollections: [\n      {\n        name: 'allow-network-rules'\n        properties: {\n          action: {\n            type: 'Allow'\n          }\n          priority: 100\n          rules: [\n            {\n              destinationAddresses: [\n                '*'\n              ]\n              destinationPorts: [\n                '12000'\n                '123'\n              ]\n              name: 'allow-ntp'\n              protocols: [\n                'Any'\n              ]\n              sourceAddresses: [\n                '*'\n              ]\n            }\n          ]\n        }\n      }\n    ]\n    publicIPResourceID: '<publicIPResourceID>'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    virtualNetworkResourceId: '<virtualNetworkResourceId>'\n  }", "bicep": "module azureFirewall 'br/public:avm/res/network/azure-firewall:0.9' = {\n  name: 'azureFirewallDeployment'\n  params: {\n    // Required parameters\n    name: 'nafwaf001'\n    // Non-required parameters\n    applicationRuleCollections: [\n      {\n        name: 'allow-app-rules'\n        properties: {\n          action: {\n            type: 'Allow'\n          }\n          priority: 100\n          rules: [\n            {\n              fqdnTags: [\n                'AppServiceEnvironment'\n                'WindowsUpdate'\n              ]\n              name: 'allow-ase-tags'\n              protocols: [\n                {\n                  port: 80\n                  protocolType: 'Http'\n                }\n                {\n                  port: 443\n                  protocolType: 'Https'\n                }\n              ]\n              sourceAddresses: [\n                '*'\n              ]\n            }\n            {\n              name: 'allow-ase-management'\n              protocols: [\n                {\n                  port: 80\n                  protocolType: 'Http'\n                }\n                {\n                  port: 443\n                  protocolType: 'Https'\n                }\n              ]\n              sourceAddresses: [\n                '*'\n              ]\n              targetFqdns: [\n                'bing.com'\n              ]\n            }\n          ]\n        }\n      }\n    ]\n    availabilityZones: [\n      1\n      2\n      3\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    location: '<location>'\n    networkRuleCollections: [\n      {\n        name: 'allow-network-rules'\n        properties: {\n          action: {\n            type: 'Allow'\n          }\n          priority: 100\n          rules: [\n            {\n              destinationAddresses: [\n                '*'\n              ]\n              destinationPorts: [\n                '12000'\n                '123'\n              ]\n              name: 'allow-ntp'\n              protocols: [\n                'Any'\n              ]\n              sourceAddresses: [\n                '*'\n              ]\n            }\n          ]\n        }\n      }\n    ]\n    publicIPResourceID: '<publicIPResourceID>'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    virtualNetworkResourceId: '<virtualNetworkResourceId>'\n  }\n}"}
{"id": "avm_res_network_bastion-host_example_1", "source": "avm/res/network/bastion-host/README.md", "content_to_embed": "Recommended AVM Module for Bastion Hosts: With a custom public IP address deployed by the module - This instance does not require a pre-deployed public IP but includes its deployment as part of the Bastion module deployment.\nResource Type Path: Microsoft.Network/bastionHosts\nModule ID: br/public:avm/res/network/bastion-host:0.8\nParameters:\nparams: {\n    // Required parameters\n    name: 'nbhctmpip001'\n    virtualNetworkResourceId: '<virtualNetworkResourceId>'\n    // Non-required parameters\n    location: '<location>'\n    publicIPAddressObject: {\n      diagnosticSettings: [\n        {\n          eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n          eventHubName: '<eventHubName>'\n          metricCategories: [\n            {\n              category: 'AllMetrics'\n            }\n          ]\n          name: 'customSetting'\n          storageAccountResourceId: '<storageAccountResourceId>'\n          workspaceResourceId: '<workspaceResourceId>'\n        }\n      ]\n      name: 'nbhctmpip001-pip'\n      publicIPAllocationMethod: 'Static'\n      publicIpPrefixResourceId: ''\n      roleAssignments: [\n        {\n          principalId: '<principalId>'\n          principalType: 'ServicePrincipal'\n          roleDefinitionIdOrName: 'Reader'\n        }\n      ]\n      skuName: 'Standard'\n      skuTier: 'Regional'\n      tags: {\n        Environment: 'Non-Prod'\n        'hidden-title': 'This is visible in the resource name'\n        Role: 'DeploymentValidation'\n      }\n    }\n  }", "bicep": "module bastionHost 'br/public:avm/res/network/bastion-host:0.8' = {\n  name: 'bastionHostDeployment'\n  params: {\n    // Required parameters\n    name: 'nbhctmpip001'\n    virtualNetworkResourceId: '<virtualNetworkResourceId>'\n    // Non-required parameters\n    location: '<location>'\n    publicIPAddressObject: {\n      diagnosticSettings: [\n        {\n          eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n          eventHubName: '<eventHubName>'\n          metricCategories: [\n            {\n              category: 'AllMetrics'\n            }\n          ]\n          name: 'customSetting'\n          storageAccountResourceId: '<storageAccountResourceId>'\n          workspaceResourceId: '<workspaceResourceId>'\n        }\n      ]\n      name: 'nbhctmpip001-pip'\n      publicIPAllocationMethod: 'Static'\n      publicIpPrefixResourceId: ''\n      roleAssignments: [\n        {\n          principalId: '<principalId>'\n          principalType: 'ServicePrincipal'\n          roleDefinitionIdOrName: 'Reader'\n        }\n      ]\n      skuName: 'Standard'\n      skuTier: 'Regional'\n      tags: {\n        Environment: 'Non-Prod'\n        'hidden-title': 'This is visible in the resource name'\n        Role: 'DeploymentValidation'\n      }\n    }\n  }\n}"}
{"id": "avm_res_network_bastion-host_example_2", "source": "avm/res/network/bastion-host/README.md", "content_to_embed": "Recommended AVM Module for Bastion Hosts: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Network/bastionHosts\nModule ID: br/public:avm/res/network/bastion-host:0.8\nParameters:\nparams: {\n    // Required parameters\n    name: 'nbhmin001'\n    virtualNetworkResourceId: '<virtualNetworkResourceId>'\n    // Non-required parameters\n    location: '<location>'\n  }", "bicep": "module bastionHost 'br/public:avm/res/network/bastion-host:0.8' = {\n  name: 'bastionHostDeployment'\n  params: {\n    // Required parameters\n    name: 'nbhmin001'\n    virtualNetworkResourceId: '<virtualNetworkResourceId>'\n    // Non-required parameters\n    location: '<location>'\n  }\n}"}
{"id": "avm_res_network_bastion-host_example_3", "source": "avm/res/network/bastion-host/README.md", "content_to_embed": "Recommended AVM Module for Bastion Hosts: Using Developer SKU - This instance deploys the module with the Developer SKU.\nResource Type Path: Microsoft.Network/bastionHosts\nModule ID: br/public:avm/res/network/bastion-host:0.8\nParameters:\nparams: {\n    // Required parameters\n    name: 'nbhdev001'\n    virtualNetworkResourceId: '<virtualNetworkResourceId>'\n    // Non-required parameters\n    location: '<location>'\n    skuName: 'Developer'\n  }", "bicep": "module bastionHost 'br/public:avm/res/network/bastion-host:0.8' = {\n  name: 'bastionHostDeployment'\n  params: {\n    // Required parameters\n    name: 'nbhdev001'\n    virtualNetworkResourceId: '<virtualNetworkResourceId>'\n    // Non-required parameters\n    location: '<location>'\n    skuName: 'Developer'\n  }\n}"}
{"id": "avm_res_network_bastion-host_example_4", "source": "avm/res/network/bastion-host/README.md", "content_to_embed": "Recommended AVM Module for Bastion Hosts: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Network/bastionHosts\nModule ID: br/public:avm/res/network/bastion-host:0.8\nParameters:\nparams: {\n    // Required parameters\n    name: 'nbhmax001'\n    virtualNetworkResourceId: '<virtualNetworkResourceId>'\n    // Non-required parameters\n    availabilityZones: [\n      1\n      2\n      3\n    ]\n    bastionSubnetPublicIpResourceId: '<bastionSubnetPublicIpResourceId>'\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    disableCopyPaste: true\n    enableFileCopy: false\n    enableIpConnect: false\n    enableShareableLink: false\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    roleAssignments: [\n      {\n        name: 'a9329bd8-d7c8-4915-9dfe-04197fa5bf45'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    scaleUnits: 4\n    skuName: 'Standard'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module bastionHost 'br/public:avm/res/network/bastion-host:0.8' = {\n  name: 'bastionHostDeployment'\n  params: {\n    // Required parameters\n    name: 'nbhmax001'\n    virtualNetworkResourceId: '<virtualNetworkResourceId>'\n    // Non-required parameters\n    availabilityZones: [\n      1\n      2\n      3\n    ]\n    bastionSubnetPublicIpResourceId: '<bastionSubnetPublicIpResourceId>'\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    disableCopyPaste: true\n    enableFileCopy: false\n    enableIpConnect: false\n    enableShareableLink: false\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    roleAssignments: [\n      {\n        name: 'a9329bd8-d7c8-4915-9dfe-04197fa5bf45'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    scaleUnits: 4\n    skuName: 'Standard'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_network_bastion-host_example_5", "source": "avm/res/network/bastion-host/README.md", "content_to_embed": "Recommended AVM Module for Bastion Hosts: Private-only deployment - This instance deploys the module as private-only Bastion deployment.\nResource Type Path: Microsoft.Network/bastionHosts\nModule ID: br/public:avm/res/network/bastion-host:0.8\nParameters:\nparams: {\n    // Required parameters\n    name: 'nbhprv001'\n    virtualNetworkResourceId: '<virtualNetworkResourceId>'\n    // Non-required parameters\n    enablePrivateOnlyBastion: true\n    enableSessionRecording: true\n    location: '<location>'\n    skuName: 'Premium'\n  }", "bicep": "module bastionHost 'br/public:avm/res/network/bastion-host:0.8' = {\n  name: 'bastionHostDeployment'\n  params: {\n    // Required parameters\n    name: 'nbhprv001'\n    virtualNetworkResourceId: '<virtualNetworkResourceId>'\n    // Non-required parameters\n    enablePrivateOnlyBastion: true\n    enableSessionRecording: true\n    location: '<location>'\n    skuName: 'Premium'\n  }\n}"}
{"id": "avm_res_network_bastion-host_example_6", "source": "avm/res/network/bastion-host/README.md", "content_to_embed": "Recommended AVM Module for Bastion Hosts: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Network/bastionHosts\nModule ID: br/public:avm/res/network/bastion-host:0.8\nParameters:\nparams: {\n    // Required parameters\n    name: 'nbhwaf001'\n    virtualNetworkResourceId: '<virtualNetworkResourceId>'\n    // Non-required parameters\n    bastionSubnetPublicIpResourceId: '<bastionSubnetPublicIpResourceId>'\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    disableCopyPaste: true\n    enableFileCopy: false\n    enableIpConnect: false\n    enableShareableLink: false\n    location: '<location>'\n    scaleUnits: 4\n    skuName: 'Standard'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module bastionHost 'br/public:avm/res/network/bastion-host:0.8' = {\n  name: 'bastionHostDeployment'\n  params: {\n    // Required parameters\n    name: 'nbhwaf001'\n    virtualNetworkResourceId: '<virtualNetworkResourceId>'\n    // Non-required parameters\n    bastionSubnetPublicIpResourceId: '<bastionSubnetPublicIpResourceId>'\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    disableCopyPaste: true\n    enableFileCopy: false\n    enableIpConnect: false\n    enableShareableLink: false\n    location: '<location>'\n    scaleUnits: 4\n    skuName: 'Standard'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_network_connection_example_1", "source": "avm/res/network/connection/README.md", "content_to_embed": "Recommended AVM Module for Virtual Network Gateway Connections: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Network/connections\nModule ID: br/public:avm/res/network/connection:0.1\nParameters:\nparams: {\n    // Required parameters\n    name: 'ncmin001'\n    virtualNetworkGateway1: {\n      id: '<id>'\n    }\n    // Non-required parameters\n    connectionType: 'Vnet2Vnet'\n    location: '<location>'\n    virtualNetworkGateway2ResourceId: '<virtualNetworkGateway2ResourceId>'\n    vpnSharedKey: '<vpnSharedKey>'\n  }", "bicep": "module connection 'br/public:avm/res/network/connection:0.1' = {\n  name: 'connectionDeployment'\n  params: {\n    // Required parameters\n    name: 'ncmin001'\n    virtualNetworkGateway1: {\n      id: '<id>'\n    }\n    // Non-required parameters\n    connectionType: 'Vnet2Vnet'\n    location: '<location>'\n    virtualNetworkGateway2ResourceId: '<virtualNetworkGateway2ResourceId>'\n    vpnSharedKey: '<vpnSharedKey>'\n  }\n}"}
{"id": "avm_res_network_connection_example_2", "source": "avm/res/network/connection/README.md", "content_to_embed": "Recommended AVM Module for Virtual Network Gateway Connections: IPSec connection with APIPA configuration - This instance deploys the module with IPSec connection type and APIPA (gatewayCustomBgpIpAddresses) configuration.\nResource Type Path: Microsoft.Network/connections\nModule ID: br/public:avm/res/network/connection:0.1\nParameters:\nparams: {\n    // Required parameters\n    name: 'ncapipa001'\n    virtualNetworkGateway1: {\n      id: '<id>'\n    }\n    // Non-required parameters\n    connectionType: 'IPsec'\n    customIPSecPolicy: {\n      dhGroup: 'DHGroup14'\n      ikeEncryption: 'AES256'\n      ikeIntegrity: 'SHA256'\n      ipsecEncryption: 'AES256'\n      ipsecIntegrity: 'SHA256'\n      pfsGroup: 'PFS14'\n      saDataSizeKilobytes: 102400000\n      saLifeTimeSeconds: 3600\n    }\n    enableBgp: true\n    gatewayCustomBgpIpAddresses: [\n      {\n        customBgpIpAddress: '169.254.21.1'\n        ipConfigurationId: '<ipConfigurationId>'\n      }\n    ]\n    localNetworkGateway2ResourceId: '<localNetworkGateway2ResourceId>'\n    location: '<location>'\n    tags: {\n      Environment: 'Test'\n      'hidden-title': 'IPSec APIPA Connection Test'\n      Role: 'DeploymentValidation'\n    }\n    useLocalAzureIpAddress: true\n    vpnSharedKey: '<vpnSharedKey>'\n  }", "bicep": "module connection 'br/public:avm/res/network/connection:0.1' = {\n  name: 'connectionDeployment'\n  params: {\n    // Required parameters\n    name: 'ncapipa001'\n    virtualNetworkGateway1: {\n      id: '<id>'\n    }\n    // Non-required parameters\n    connectionType: 'IPsec'\n    customIPSecPolicy: {\n      dhGroup: 'DHGroup14'\n      ikeEncryption: 'AES256'\n      ikeIntegrity: 'SHA256'\n      ipsecEncryption: 'AES256'\n      ipsecIntegrity: 'SHA256'\n      pfsGroup: 'PFS14'\n      saDataSizeKilobytes: 102400000\n      saLifeTimeSeconds: 3600\n    }\n    enableBgp: true\n    gatewayCustomBgpIpAddresses: [\n      {\n        customBgpIpAddress: '169.254.21.1'\n        ipConfigurationId: '<ipConfigurationId>'\n      }\n    ]\n    localNetworkGateway2ResourceId: '<localNetworkGateway2ResourceId>'\n    location: '<location>'\n    tags: {\n      Environment: 'Test'\n      'hidden-title': 'IPSec APIPA Connection Test'\n      Role: 'DeploymentValidation'\n    }\n    useLocalAzureIpAddress: true\n    vpnSharedKey: '<vpnSharedKey>'\n  }\n}"}
{"id": "avm_res_network_connection_example_3", "source": "avm/res/network/connection/README.md", "content_to_embed": "Recommended AVM Module for Virtual Network Gateway Connections: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Network/connections\nModule ID: br/public:avm/res/network/connection:0.1\nParameters:\nparams: {\n    // Required parameters\n    name: 'ncmax001'\n    virtualNetworkGateway1: {\n      id: '<id>'\n    }\n    // Non-required parameters\n    connectionType: 'Vnet2Vnet'\n    dpdTimeoutSeconds: 45\n    enableBgp: false\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    usePolicyBasedTrafficSelectors: false\n    virtualNetworkGateway2ResourceId: '<virtualNetworkGateway2ResourceId>'\n    vpnSharedKey: '<vpnSharedKey>'\n  }", "bicep": "module connection 'br/public:avm/res/network/connection:0.1' = {\n  name: 'connectionDeployment'\n  params: {\n    // Required parameters\n    name: 'ncmax001'\n    virtualNetworkGateway1: {\n      id: '<id>'\n    }\n    // Non-required parameters\n    connectionType: 'Vnet2Vnet'\n    dpdTimeoutSeconds: 45\n    enableBgp: false\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    usePolicyBasedTrafficSelectors: false\n    virtualNetworkGateway2ResourceId: '<virtualNetworkGateway2ResourceId>'\n    vpnSharedKey: '<vpnSharedKey>'\n  }\n}"}
{"id": "avm_res_network_connection_example_4", "source": "avm/res/network/connection/README.md", "content_to_embed": "Recommended AVM Module for Virtual Network Gateway Connections: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Network/connections\nModule ID: br/public:avm/res/network/connection:0.1\nParameters:\nparams: {\n    // Required parameters\n    name: 'ncwaf001'\n    virtualNetworkGateway1: {\n      id: '<id>'\n    }\n    // Non-required parameters\n    connectionType: 'Vnet2Vnet'\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    virtualNetworkGateway2ResourceId: '<virtualNetworkGateway2ResourceId>'\n    vpnSharedKey: '<vpnSharedKey>'\n  }", "bicep": "module connection 'br/public:avm/res/network/connection:0.1' = {\n  name: 'connectionDeployment'\n  params: {\n    // Required parameters\n    name: 'ncwaf001'\n    virtualNetworkGateway1: {\n      id: '<id>'\n    }\n    // Non-required parameters\n    connectionType: 'Vnet2Vnet'\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    virtualNetworkGateway2ResourceId: '<virtualNetworkGateway2ResourceId>'\n    vpnSharedKey: '<vpnSharedKey>'\n  }\n}"}
{"id": "avm_res_network_ddos-protection-plan_example_1", "source": "avm/res/network/ddos-protection-plan/README.md", "content_to_embed": "Recommended AVM Module for DDoS Protection Plans: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Network/ddosProtectionPlans\nModule ID: br/public:avm/res/network/ddos-protection-plan:0.3\nParameters:\nparams: {\n    // Required parameters\n    name: 'ndppmin001'\n    // Non-required parameters\n    location: '<location>'\n  }", "bicep": "module ddosProtectionPlan 'br/public:avm/res/network/ddos-protection-plan:0.3' = {\n  name: 'ddosProtectionPlanDeployment'\n  params: {\n    // Required parameters\n    name: 'ndppmin001'\n    // Non-required parameters\n    location: '<location>'\n  }\n}"}
{"id": "avm_res_network_ddos-protection-plan_example_2", "source": "avm/res/network/ddos-protection-plan/README.md", "content_to_embed": "Recommended AVM Module for DDoS Protection Plans: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Network/ddosProtectionPlans\nModule ID: br/public:avm/res/network/ddos-protection-plan:0.3\nParameters:\nparams: {\n    // Required parameters\n    name: 'ndppmax001'\n    // Non-required parameters\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    roleAssignments: [\n      {\n        name: '60339368-138d-4667-988a-5431c156f6ff'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module ddosProtectionPlan 'br/public:avm/res/network/ddos-protection-plan:0.3' = {\n  name: 'ddosProtectionPlanDeployment'\n  params: {\n    // Required parameters\n    name: 'ndppmax001'\n    // Non-required parameters\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    roleAssignments: [\n      {\n        name: '60339368-138d-4667-988a-5431c156f6ff'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_network_ddos-protection-plan_example_3", "source": "avm/res/network/ddos-protection-plan/README.md", "content_to_embed": "Recommended AVM Module for DDoS Protection Plans: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Network/ddosProtectionPlans\nModule ID: br/public:avm/res/network/ddos-protection-plan:0.3\nParameters:\nparams: {\n    // Required parameters\n    name: 'ndppwaf001'\n    // Non-required parameters\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module ddosProtectionPlan 'br/public:avm/res/network/ddos-protection-plan:0.3' = {\n  name: 'ddosProtectionPlanDeployment'\n  params: {\n    // Required parameters\n    name: 'ndppwaf001'\n    // Non-required parameters\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_network_dns-forwarding-ruleset_example_1", "source": "avm/res/network/dns-forwarding-ruleset/README.md", "content_to_embed": "Recommended AVM Module for Dns Forwarding Rulesets: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Network/dnsForwardingRulesets\nModule ID: br/public:avm/res/network/dns-forwarding-ruleset:0.5\nParameters:\nparams: {\n    // Required parameters\n    dnsForwardingRulesetOutboundEndpointResourceIds: [\n      '<dnsResolverOutboundEndpointsResourceId>'\n    ]\n    name: 'ndfrsmin001'\n    // Non-required parameters\n    location: '<location>'\n  }", "bicep": "module dnsForwardingRuleset 'br/public:avm/res/network/dns-forwarding-ruleset:0.5' = {\n  name: 'dnsForwardingRulesetDeployment'\n  params: {\n    // Required parameters\n    dnsForwardingRulesetOutboundEndpointResourceIds: [\n      '<dnsResolverOutboundEndpointsResourceId>'\n    ]\n    name: 'ndfrsmin001'\n    // Non-required parameters\n    location: '<location>'\n  }\n}"}
{"id": "avm_res_network_dns-forwarding-ruleset_example_2", "source": "avm/res/network/dns-forwarding-ruleset/README.md", "content_to_embed": "Recommended AVM Module for Dns Forwarding Rulesets: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Network/dnsForwardingRulesets\nModule ID: br/public:avm/res/network/dns-forwarding-ruleset:0.5\nParameters:\nparams: {\n    // Required parameters\n    dnsForwardingRulesetOutboundEndpointResourceIds: [\n      '<dnsResolverOutboundEndpointsId>'\n    ]\n    name: 'ndfrsmax001'\n    // Non-required parameters\n    forwardingRules: [\n      {\n        domainName: 'contoso.'\n        forwardingRuleState: 'Enabled'\n        name: 'rule1'\n        targetDnsServers: [\n          {\n            ipAddress: '192.168.0.1'\n            port: 53\n          }\n        ]\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    roleAssignments: [\n      {\n        name: '38837eb6-838b-4c77-8d7d-baa102195d9f'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    virtualNetworkLinks: [\n      {\n        name: 'mytestvnetlink1'\n        virtualNetworkResourceId: '<virtualNetworkResourceId>'\n      }\n    ]\n  }", "bicep": "module dnsForwardingRuleset 'br/public:avm/res/network/dns-forwarding-ruleset:0.5' = {\n  name: 'dnsForwardingRulesetDeployment'\n  params: {\n    // Required parameters\n    dnsForwardingRulesetOutboundEndpointResourceIds: [\n      '<dnsResolverOutboundEndpointsId>'\n    ]\n    name: 'ndfrsmax001'\n    // Non-required parameters\n    forwardingRules: [\n      {\n        domainName: 'contoso.'\n        forwardingRuleState: 'Enabled'\n        name: 'rule1'\n        targetDnsServers: [\n          {\n            ipAddress: '192.168.0.1'\n            port: 53\n          }\n        ]\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    roleAssignments: [\n      {\n        name: '38837eb6-838b-4c77-8d7d-baa102195d9f'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    virtualNetworkLinks: [\n      {\n        name: 'mytestvnetlink1'\n        virtualNetworkResourceId: '<virtualNetworkResourceId>'\n      }\n    ]\n  }\n}"}
{"id": "avm_res_network_dns-forwarding-ruleset_example_3", "source": "avm/res/network/dns-forwarding-ruleset/README.md", "content_to_embed": "Recommended AVM Module for Dns Forwarding Rulesets: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Network/dnsForwardingRulesets\nModule ID: br/public:avm/res/network/dns-forwarding-ruleset:0.5\nParameters:\nparams: {\n    // Required parameters\n    dnsForwardingRulesetOutboundEndpointResourceIds: [\n      '<dnsResolverOutboundEndpointsId>'\n    ]\n    name: 'ndfrswaf001'\n    // Non-required parameters\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module dnsForwardingRuleset 'br/public:avm/res/network/dns-forwarding-ruleset:0.5' = {\n  name: 'dnsForwardingRulesetDeployment'\n  params: {\n    // Required parameters\n    dnsForwardingRulesetOutboundEndpointResourceIds: [\n      '<dnsResolverOutboundEndpointsId>'\n    ]\n    name: 'ndfrswaf001'\n    // Non-required parameters\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_network_dns-resolver_example_1", "source": "avm/res/network/dns-resolver/README.md", "content_to_embed": "Recommended AVM Module for DNS Resolver: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Network/dnsResolvers\nModule ID: br/public:avm/res/network/dns-resolver:0.5\nParameters:\nparams: {\n    // Required parameters\n    name: 'ndrmin001'\n    virtualNetworkResourceId: '<virtualNetworkResourceId>'\n  }", "bicep": "module dnsResolver 'br/public:avm/res/network/dns-resolver:0.5' = {\n  name: 'dnsResolverDeployment'\n  params: {\n    // Required parameters\n    name: 'ndrmin001'\n    virtualNetworkResourceId: '<virtualNetworkResourceId>'\n  }\n}"}
{"id": "avm_res_network_dns-resolver_example_2", "source": "avm/res/network/dns-resolver/README.md", "content_to_embed": "Recommended AVM Module for DNS Resolver: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Network/dnsResolvers\nModule ID: br/public:avm/res/network/dns-resolver:0.5\nParameters:\nparams: {\n    // Required parameters\n    name: 'ndrmax001'\n    virtualNetworkResourceId: '<virtualNetworkResourceId>'\n    // Non-required parameters\n    inboundEndpoints: [\n      {\n        name: 'ndrmax-az-pdnsin-x-001'\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    outboundEndpoints: [\n      {\n        name: 'ndrmax-az-pdnsout-x-001'\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    roleAssignments: [\n      {\n        name: '83c82ade-1ada-4374-82d0-325f39a44af6'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module dnsResolver 'br/public:avm/res/network/dns-resolver:0.5' = {\n  name: 'dnsResolverDeployment'\n  params: {\n    // Required parameters\n    name: 'ndrmax001'\n    virtualNetworkResourceId: '<virtualNetworkResourceId>'\n    // Non-required parameters\n    inboundEndpoints: [\n      {\n        name: 'ndrmax-az-pdnsin-x-001'\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    outboundEndpoints: [\n      {\n        name: 'ndrmax-az-pdnsout-x-001'\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    roleAssignments: [\n      {\n        name: '83c82ade-1ada-4374-82d0-325f39a44af6'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_network_dns-resolver_example_3", "source": "avm/res/network/dns-resolver/README.md", "content_to_embed": "Recommended AVM Module for DNS Resolver: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Network/dnsResolvers\nModule ID: br/public:avm/res/network/dns-resolver:0.5\nParameters:\nparams: {\n    // Required parameters\n    name: 'ndrwaf001'\n    virtualNetworkResourceId: '<virtualNetworkResourceId>'\n    // Non-required parameters\n    inboundEndpoints: [\n      {\n        name: 'ndrwaf-az-pdnsin-x-001'\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    outboundEndpoints: [\n      {\n        name: 'ndrwaf-az-pdnsout-x-001'\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module dnsResolver 'br/public:avm/res/network/dns-resolver:0.5' = {\n  name: 'dnsResolverDeployment'\n  params: {\n    // Required parameters\n    name: 'ndrwaf001'\n    virtualNetworkResourceId: '<virtualNetworkResourceId>'\n    // Non-required parameters\n    inboundEndpoints: [\n      {\n        name: 'ndrwaf-az-pdnsin-x-001'\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    outboundEndpoints: [\n      {\n        name: 'ndrwaf-az-pdnsout-x-001'\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_network_dns-zone_example_1", "source": "avm/res/network/dns-zone/README.md", "content_to_embed": "Recommended AVM Module for Public DNS Zones: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Network/dnsZones\nModule ID: br/public:avm/res/network/dns-zone:0.5\nParameters:\nparams: {\n    name: 'ndzmin001.com'\n  }", "bicep": "module dnsZone 'br/public:avm/res/network/dns-zone:0.5' = {\n  name: 'dnsZoneDeployment'\n  params: {\n    name: 'ndzmin001.com'\n  }\n}"}
{"id": "avm_res_network_dns-zone_example_2", "source": "avm/res/network/dns-zone/README.md", "content_to_embed": "Recommended AVM Module for Public DNS Zones: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Network/dnsZones\nModule ID: br/public:avm/res/network/dns-zone:0.5\nParameters:\nparams: {\n    // Required parameters\n    name: 'ndzmax001.com'\n    // Non-required parameters\n    a: [\n      {\n        aRecords: [\n          {\n            ipv4Address: '10.240.4.4'\n          }\n        ]\n        name: 'A_10.240.4.4'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n        ttl: 3600\n      }\n    ]\n    aaaa: [\n      {\n        aaaaRecords: [\n          {\n            ipv6Address: '2001:0db8:85a3:0000:0000:8a2e:0370:7334'\n          }\n        ]\n        name: 'AAAA_2001_0db8_85a3_0000_0000_8a2e_0370_7334'\n        ttl: 3600\n      }\n    ]\n    caa: [\n      {\n        caaRecords: [\n          {\n            flags: 0\n            tag: 'issue'\n            value: 'ca.contoso.com'\n          }\n        ]\n        name: 'CAA_test'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n        ttl: 3600\n      }\n    ]\n    cname: [\n      {\n        cnameRecord: {\n          cname: 'test'\n        }\n        name: 'CNAME_test'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n        ttl: 3600\n      }\n      {\n        name: 'CNAME_aliasRecordSet'\n        targetResourceId: '<targetResourceId>'\n      }\n    ]\n    location: 'global'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    mx: [\n      {\n        mxRecords: [\n          {\n            exchange: 'contoso.com'\n            preference: 100\n          }\n        ]\n        name: 'MX_contoso'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n        ttl: 3600\n      }\n    ]\n    ns: [\n      {\n        name: 'NS_test'\n        nsRecords: [\n          {\n            nsdname: 'ns.contoso.com'\n          }\n        ]\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n        ttl: 3600\n      }\n    ]\n    ptr: [\n      {\n        name: 'PTR_contoso'\n        ptrRecords: [\n          {\n            ptrdname: 'contoso.com'\n          }\n        ]\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n        ttl: 3600\n      }\n    ]\n    roleAssignments: [\n      {\n        name: 'a8697438-70e8-4f40-baa4-6e90a57fe1dc'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    soa: [\n      {\n        name: '@'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n        soaRecord: {\n          email: 'azuredns-hostmaster.microsoft.com'\n          expireTime: 2419200\n          host: 'ns1-04.azure-dns.com.'\n          minimumTTL: 300\n          refreshTime: 3600\n          retryTime: 300\n          serialNumber: 1\n        }\n        ttl: 3600\n      }\n    ]\n    srv: [\n      {\n        name: 'SRV_contoso'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n        srvRecords: [\n          {\n            port: 9332\n            priority: 0\n            target: 'test.contoso.com'\n            weight: 0\n          }\n        ]\n        ttl: 3600\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    txt: [\n      {\n        name: 'TXT_test'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n        ttl: 3600\n        txtRecords: [\n          {\n            value: [\n              'test'\n            ]\n          }\n        ]\n      }\n    ]\n  }", "bicep": "module dnsZone 'br/public:avm/res/network/dns-zone:0.5' = {\n  name: 'dnsZoneDeployment'\n  params: {\n    // Required parameters\n    name: 'ndzmax001.com'\n    // Non-required parameters\n    a: [\n      {\n        aRecords: [\n          {\n            ipv4Address: '10.240.4.4'\n          }\n        ]\n        name: 'A_10.240.4.4'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n        ttl: 3600\n      }\n    ]\n    aaaa: [\n      {\n        aaaaRecords: [\n          {\n            ipv6Address: '2001:0db8:85a3:0000:0000:8a2e:0370:7334'\n          }\n        ]\n        name: 'AAAA_2001_0db8_85a3_0000_0000_8a2e_0370_7334'\n        ttl: 3600\n      }\n    ]\n    caa: [\n      {\n        caaRecords: [\n          {\n            flags: 0\n            tag: 'issue'\n            value: 'ca.contoso.com'\n          }\n        ]\n        name: 'CAA_test'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n        ttl: 3600\n      }\n    ]\n    cname: [\n      {\n        cnameRecord: {\n          cname: 'test'\n        }\n        name: 'CNAME_test'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n        ttl: 3600\n      }\n      {\n        name: 'CNAME_aliasRecordSet'\n        targetResourceId: '<targetResourceId>'\n      }\n    ]\n    location: 'global'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    mx: [\n      {\n        mxRecords: [\n          {\n            exchange: 'contoso.com'\n            preference: 100\n          }\n        ]\n        name: 'MX_contoso'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n        ttl: 3600\n      }\n    ]\n    ns: [\n      {\n        name: 'NS_test'\n        nsRecords: [\n          {\n            nsdname: 'ns.contoso.com'\n          }\n        ]\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n        ttl: 3600\n      }\n    ]\n    ptr: [\n      {\n        name: 'PTR_contoso'\n        ptrRecords: [\n          {\n            ptrdname: 'contoso.com'\n          }\n        ]\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n        ttl: 3600\n      }\n    ]\n    roleAssignments: [\n      {\n        name: 'a8697438-70e8-4f40-baa4-6e90a57fe1dc'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    soa: [\n      {\n        name: '@'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n        soaRecord: {\n          email: 'azuredns-hostmaster.microsoft.com'\n          expireTime: 2419200\n          host: 'ns1-04.azure-dns.com.'\n          minimumTTL: 300\n          refreshTime: 3600\n          retryTime: 300\n          serialNumber: 1\n        }\n        ttl: 3600\n      }\n    ]\n    srv: [\n      {\n        name: 'SRV_contoso'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n        srvRecords: [\n          {\n            port: 9332\n            priority: 0\n            target: 'test.contoso.com'\n            weight: 0\n          }\n        ]\n        ttl: 3600\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    txt: [\n      {\n        name: 'TXT_test'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n        ttl: 3600\n        txtRecords: [\n          {\n            value: [\n              'test'\n            ]\n          }\n        ]\n      }\n    ]\n  }\n}"}
{"id": "avm_res_network_dns-zone_example_3", "source": "avm/res/network/dns-zone/README.md", "content_to_embed": "Recommended AVM Module for Public DNS Zones: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Well-Architected Framework.\nResource Type Path: Microsoft.Network/dnsZones\nModule ID: br/public:avm/res/network/dns-zone:0.5\nParameters:\nparams: {\n    // Required parameters\n    name: 'ndzwaf001.com'\n    // Non-required parameters\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module dnsZone 'br/public:avm/res/network/dns-zone:0.5' = {\n  name: 'dnsZoneDeployment'\n  params: {\n    // Required parameters\n    name: 'ndzwaf001.com'\n    // Non-required parameters\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_network_express-route-circuit_example_1", "source": "avm/res/network/express-route-circuit/README.md", "content_to_embed": "Recommended AVM Module for ExpressRoute Circuits: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Network/expressRouteCircuits\nModule ID: br/public:avm/res/network/express-route-circuit:0.8\nParameters:\nparams: {\n    // Required parameters\n    name: 'nercmin001'\n    // Non-required parameters\n    bandwidthInMbps: 50\n    location: '<location>'\n    peeringLocation: 'Amsterdam'\n    serviceProviderName: 'Equinix'\n  }", "bicep": "module expressRouteCircuit 'br/public:avm/res/network/express-route-circuit:0.8' = {\n  name: 'expressRouteCircuitDeployment'\n  params: {\n    // Required parameters\n    name: 'nercmin001'\n    // Non-required parameters\n    bandwidthInMbps: 50\n    location: '<location>'\n    peeringLocation: 'Amsterdam'\n    serviceProviderName: 'Equinix'\n  }\n}"}
{"id": "avm_res_network_express-route-circuit_example_2", "source": "avm/res/network/express-route-circuit/README.md", "content_to_embed": "Recommended AVM Module for ExpressRoute Circuits: Using Global Reach connections - This instance deploys two ExpressRoute circuits with a Global Reach connection between them.\nResource Type Path: Microsoft.Network/expressRouteCircuits\nModule ID: br/public:avm/res/network/express-route-circuit:0.8\nParameters:\nparams: {\n    // Required parameters\n    name: 'nercgr002'\n    // Non-required parameters\n    bandwidthInGbps: 10\n    connections: [\n      {\n        addressPrefix: '192.168.8.0/29'\n        name: 'connection-to-circuit1'\n        peerExpressRouteCircuitPeeringId: '<peerExpressRouteCircuitPeeringId>'\n        peeringName: 'AzurePrivatePeering'\n      }\n    ]\n    expressRoutePortResourceId: '<expressRoutePortResourceId>'\n    globalReachEnabled: true\n    location: '<location>'\n    peeringLocation: 'Amsterdam'\n    peerings: [\n      {\n        name: 'AzurePrivatePeering'\n        properties: {\n          peerASN: 65001\n          peeringType: 'AzurePrivatePeering'\n          primaryPeerAddressPrefix: '10.0.0.0/30'\n          secondaryPeerAddressPrefix: '10.0.0.4/30'\n          state: 'Enabled'\n          vlanId: 100\n        }\n      }\n    ]\n    serviceProviderName: 'Equinix'\n    skuFamily: 'MeteredData'\n    skuTier: 'Premium'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module expressRouteCircuit 'br/public:avm/res/network/express-route-circuit:0.8' = {\n  name: 'expressRouteCircuitDeployment'\n  params: {\n    // Required parameters\n    name: 'nercgr002'\n    // Non-required parameters\n    bandwidthInGbps: 10\n    connections: [\n      {\n        addressPrefix: '192.168.8.0/29'\n        name: 'connection-to-circuit1'\n        peerExpressRouteCircuitPeeringId: '<peerExpressRouteCircuitPeeringId>'\n        peeringName: 'AzurePrivatePeering'\n      }\n    ]\n    expressRoutePortResourceId: '<expressRoutePortResourceId>'\n    globalReachEnabled: true\n    location: '<location>'\n    peeringLocation: 'Amsterdam'\n    peerings: [\n      {\n        name: 'AzurePrivatePeering'\n        properties: {\n          peerASN: 65001\n          peeringType: 'AzurePrivatePeering'\n          primaryPeerAddressPrefix: '10.0.0.0/30'\n          secondaryPeerAddressPrefix: '10.0.0.4/30'\n          state: 'Enabled'\n          vlanId: 100\n        }\n      }\n    ]\n    serviceProviderName: 'Equinix'\n    skuFamily: 'MeteredData'\n    skuTier: 'Premium'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_network_express-route-circuit_example_3", "source": "avm/res/network/express-route-circuit/README.md", "content_to_embed": "Recommended AVM Module for ExpressRoute Circuits: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Network/expressRouteCircuits\nModule ID: br/public:avm/res/network/express-route-circuit:0.8\nParameters:\nparams: {\n    // Required parameters\n    name: 'nercmax001'\n    // Non-required parameters\n    allowClassicOperations: true\n    bandwidthInMbps: 50\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    enableDirectPortRateLimit: true\n    globalReachEnabled: true\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    peeringLocation: 'Amsterdam'\n    peerings: [\n      {\n        name: 'AzurePrivatePeering'\n        properties: {\n          ipv6PeeringConfig: {\n            primaryPeerAddressPrefix: '2001:db8::/126'\n            secondaryPeerAddressPrefix: '2001:db8::8/126'\n          }\n          peerASN: 65001\n          peeringType: 'AzurePrivatePeering'\n          primaryPeerAddressPrefix: '10.0.0.0/30'\n          secondaryPeerAddressPrefix: '10.0.0.4/30'\n          state: 'Enabled'\n          vlanId: 100\n        }\n      }\n      {\n        name: 'MicrosoftPeering'\n        properties: {\n          ipv6PeeringConfig: {\n            microsoftPeeringConfig: {\n              advertisedPublicPrefixes: [\n                '2001:db8:200::/48'\n              ]\n              customerASN: 65002\n              routingRegistryName: 'ARIN'\n            }\n            primaryPeerAddressPrefix: '2001:db8:100::/126'\n            secondaryPeerAddressPrefix: '2001:db8:100::8/126'\n          }\n          microsoftPeeringConfig: {\n            advertisedPublicPrefixes: [\n              '203.0.113.0/24'\n            ]\n            customerASN: 65002\n            routingRegistryName: 'ARIN'\n          }\n          peerASN: 65002\n          peeringType: 'MicrosoftPeering'\n          primaryPeerAddressPrefix: '203.0.113.0/30'\n          secondaryPeerAddressPrefix: '203.0.113.4/30'\n          state: 'Disabled'\n          vlanId: 200\n        }\n      }\n    ]\n    roleAssignments: [\n      {\n        name: 'd7aa3dfa-6ba6-4ed8-b561-2164fbb1327e'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    serviceProviderName: 'Equinix'\n    skuFamily: 'MeteredData'\n    skuTier: 'Standard'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module expressRouteCircuit 'br/public:avm/res/network/express-route-circuit:0.8' = {\n  name: 'expressRouteCircuitDeployment'\n  params: {\n    // Required parameters\n    name: 'nercmax001'\n    // Non-required parameters\n    allowClassicOperations: true\n    bandwidthInMbps: 50\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    enableDirectPortRateLimit: true\n    globalReachEnabled: true\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    peeringLocation: 'Amsterdam'\n    peerings: [\n      {\n        name: 'AzurePrivatePeering'\n        properties: {\n          ipv6PeeringConfig: {\n            primaryPeerAddressPrefix: '2001:db8::/126'\n            secondaryPeerAddressPrefix: '2001:db8::8/126'\n          }\n          peerASN: 65001\n          peeringType: 'AzurePrivatePeering'\n          primaryPeerAddressPrefix: '10.0.0.0/30'\n          secondaryPeerAddressPrefix: '10.0.0.4/30'\n          state: 'Enabled'\n          vlanId: 100\n        }\n      }\n      {\n        name: 'MicrosoftPeering'\n        properties: {\n          ipv6PeeringConfig: {\n            microsoftPeeringConfig: {\n              advertisedPublicPrefixes: [\n                '2001:db8:200::/48'\n              ]\n              customerASN: 65002\n              routingRegistryName: 'ARIN'\n            }\n            primaryPeerAddressPrefix: '2001:db8:100::/126'\n            secondaryPeerAddressPrefix: '2001:db8:100::8/126'\n          }\n          microsoftPeeringConfig: {\n            advertisedPublicPrefixes: [\n              '203.0.113.0/24'\n            ]\n            customerASN: 65002\n            routingRegistryName: 'ARIN'\n          }\n          peerASN: 65002\n          peeringType: 'MicrosoftPeering'\n          primaryPeerAddressPrefix: '203.0.113.0/30'\n          secondaryPeerAddressPrefix: '203.0.113.4/30'\n          state: 'Disabled'\n          vlanId: 200\n        }\n      }\n    ]\n    roleAssignments: [\n      {\n        name: 'd7aa3dfa-6ba6-4ed8-b561-2164fbb1327e'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    serviceProviderName: 'Equinix'\n    skuFamily: 'MeteredData'\n    skuTier: 'Standard'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_network_express-route-circuit_example_4", "source": "avm/res/network/express-route-circuit/README.md", "content_to_embed": "Recommended AVM Module for ExpressRoute Circuits: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Network/expressRouteCircuits\nModule ID: br/public:avm/res/network/express-route-circuit:0.8\nParameters:\nparams: {\n    // Required parameters\n    name: 'nercwaf001'\n    // Non-required parameters\n    allowClassicOperations: true\n    bandwidthInMbps: 50\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    peeringLocation: 'Amsterdam'\n    serviceProviderName: 'Equinix'\n    skuFamily: 'MeteredData'\n    skuTier: 'Standard'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module expressRouteCircuit 'br/public:avm/res/network/express-route-circuit:0.8' = {\n  name: 'expressRouteCircuitDeployment'\n  params: {\n    // Required parameters\n    name: 'nercwaf001'\n    // Non-required parameters\n    allowClassicOperations: true\n    bandwidthInMbps: 50\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    peeringLocation: 'Amsterdam'\n    serviceProviderName: 'Equinix'\n    skuFamily: 'MeteredData'\n    skuTier: 'Standard'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_network_express-route-gateway_example_1", "source": "avm/res/network/express-route-gateway/README.md", "content_to_embed": "Recommended AVM Module for Express Route Gateways: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Network/expressRouteGateways\nModule ID: br/public:avm/res/network/express-route-gateway:0.8\nParameters:\nparams: {\n    // Required parameters\n    name: 'nergmin002'\n    virtualHubResourceId: '<virtualHubResourceId>'\n  }", "bicep": "module expressRouteGateway 'br/public:avm/res/network/express-route-gateway:0.8' = {\n  name: 'expressRouteGatewayDeployment'\n  params: {\n    // Required parameters\n    name: 'nergmin002'\n    virtualHubResourceId: '<virtualHubResourceId>'\n  }\n}"}
{"id": "avm_res_network_express-route-gateway_example_2", "source": "avm/res/network/express-route-gateway/README.md", "content_to_embed": "Recommended AVM Module for Express Route Gateways: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Network/expressRouteGateways\nModule ID: br/public:avm/res/network/express-route-gateway:0.8\nParameters:\nparams: {\n    // Required parameters\n    name: 'nergmax001'\n    virtualHubResourceId: '<virtualHubResourceId>'\n    // Non-required parameters\n    autoScaleConfigurationBoundsMax: 3\n    autoScaleConfigurationBoundsMin: 2\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    roleAssignments: [\n      {\n        name: '78ad6c3f-7f77-4d26-9576-dbd947241ef0'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      hello: 'world'\n      'hidden-title': 'This is visible in the resource name'\n    }\n  }", "bicep": "module expressRouteGateway 'br/public:avm/res/network/express-route-gateway:0.8' = {\n  name: 'expressRouteGatewayDeployment'\n  params: {\n    // Required parameters\n    name: 'nergmax001'\n    virtualHubResourceId: '<virtualHubResourceId>'\n    // Non-required parameters\n    autoScaleConfigurationBoundsMax: 3\n    autoScaleConfigurationBoundsMin: 2\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    roleAssignments: [\n      {\n        name: '78ad6c3f-7f77-4d26-9576-dbd947241ef0'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      hello: 'world'\n      'hidden-title': 'This is visible in the resource name'\n    }\n  }\n}"}
{"id": "avm_res_network_express-route-gateway_example_3", "source": "avm/res/network/express-route-gateway/README.md", "content_to_embed": "Recommended AVM Module for Express Route Gateways: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Network/expressRouteGateways\nModule ID: br/public:avm/res/network/express-route-gateway:0.8\nParameters:\nparams: {\n    // Required parameters\n    name: 'nergwaf001'\n    virtualHubResourceId: '<virtualHubResourceId>'\n    // Non-required parameters\n    autoScaleConfigurationBoundsMax: 3\n    autoScaleConfigurationBoundsMin: 2\n    tags: {\n      hello: 'world'\n      'hidden-title': 'This is visible in the resource name'\n    }\n  }", "bicep": "module expressRouteGateway 'br/public:avm/res/network/express-route-gateway:0.8' = {\n  name: 'expressRouteGatewayDeployment'\n  params: {\n    // Required parameters\n    name: 'nergwaf001'\n    virtualHubResourceId: '<virtualHubResourceId>'\n    // Non-required parameters\n    autoScaleConfigurationBoundsMax: 3\n    autoScaleConfigurationBoundsMin: 2\n    tags: {\n      hello: 'world'\n      'hidden-title': 'This is visible in the resource name'\n    }\n  }\n}"}
{"id": "avm_res_network_express-route-port_example_1", "source": "avm/res/network/express-route-port/README.md", "content_to_embed": "Recommended AVM Module for ExpressRoute Ports: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Network/ExpressRoutePorts\nModule ID: br/public:avm/res/network/express-route-port:0.3\nParameters:\nparams: {\n    // Required parameters\n    bandwidthInGbps: 10\n    name: 'nerpmin001'\n    peeringLocation: 'Airtel-Chennai2-CLS'\n  }", "bicep": "module expressRoutePort 'br/public:avm/res/network/express-route-port:0.3' = {\n  name: 'expressRoutePortDeployment'\n  params: {\n    // Required parameters\n    bandwidthInGbps: 10\n    name: 'nerpmin001'\n    peeringLocation: 'Airtel-Chennai2-CLS'\n  }\n}"}
{"id": "avm_res_network_express-route-port_example_2", "source": "avm/res/network/express-route-port/README.md", "content_to_embed": "Recommended AVM Module for ExpressRoute Ports: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Network/ExpressRoutePorts\nModule ID: br/public:avm/res/network/express-route-port:0.3\nParameters:\nparams: {\n    // Required parameters\n    bandwidthInGbps: 10\n    name: 'nerpmax001'\n    peeringLocation: 'Airtel-Chennai2-CLS'\n    // Non-required parameters\n    billingType: 'MeteredData'\n    encapsulation: 'Dot1Q'\n    links: [\n      {\n        name: 'link1'\n        properties: {\n          adminState: 'Disabled'\n        }\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    roleAssignments: [\n      {\n        name: 'd7aa3dfa-6ba6-4ed8-b561-2164fbb1327e'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n  }", "bicep": "module expressRoutePort 'br/public:avm/res/network/express-route-port:0.3' = {\n  name: 'expressRoutePortDeployment'\n  params: {\n    // Required parameters\n    bandwidthInGbps: 10\n    name: 'nerpmax001'\n    peeringLocation: 'Airtel-Chennai2-CLS'\n    // Non-required parameters\n    billingType: 'MeteredData'\n    encapsulation: 'Dot1Q'\n    links: [\n      {\n        name: 'link1'\n        properties: {\n          adminState: 'Disabled'\n        }\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    roleAssignments: [\n      {\n        name: 'd7aa3dfa-6ba6-4ed8-b561-2164fbb1327e'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n  }\n}"}
{"id": "avm_res_network_express-route-port_example_3", "source": "avm/res/network/express-route-port/README.md", "content_to_embed": "Recommended AVM Module for ExpressRoute Ports: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Network/ExpressRoutePorts\nModule ID: br/public:avm/res/network/express-route-port:0.3\nParameters:\nparams: {\n    // Required parameters\n    bandwidthInGbps: 10\n    name: 'nerpwaf001'\n    peeringLocation: 'Airtel-Chennai2-CLS'\n  }", "bicep": "module expressRoutePort 'br/public:avm/res/network/express-route-port:0.3' = {\n  name: 'expressRoutePortDeployment'\n  params: {\n    // Required parameters\n    bandwidthInGbps: 10\n    name: 'nerpwaf001'\n    peeringLocation: 'Airtel-Chennai2-CLS'\n  }\n}"}
{"id": "avm_res_network_firewall-policy_example_1", "source": "avm/res/network/firewall-policy/README.md", "content_to_embed": "Recommended AVM Module for Firewall Policies: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Network/firewallPolicies\nModule ID: br/public:avm/res/network/firewall-policy:0.3\nParameters:\nparams: {\n    name: 'nfpmin001'\n  }", "bicep": "module firewallPolicy 'br/public:avm/res/network/firewall-policy:0.3' = {\n  name: 'firewallPolicyDeployment'\n  params: {\n    name: 'nfpmin001'\n  }\n}"}
{"id": "avm_res_network_firewall-policy_example_2", "source": "avm/res/network/firewall-policy/README.md", "content_to_embed": "Recommended AVM Module for Firewall Policies: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Network/firewallPolicies\nModule ID: br/public:avm/res/network/firewall-policy:0.3\nParameters:\nparams: {\n    // Required parameters\n    name: 'nfpmax001'\n    // Non-required parameters\n    allowSqlRedirect: true\n    enableProxy: true\n    intrusionDetection: {\n      mode: 'Alert'\n    }\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    roleAssignments: [\n      {\n        name: 'c1c7fa14-5a90-4932-8781-fa91318b8858'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    ruleCollectionGroups: [\n      {\n        name: 'rule-001'\n        priority: 5000\n        ruleCollections: [\n          {\n            action: {\n              type: 'Allow'\n            }\n            name: 'collection002'\n            priority: 5555\n            ruleCollectionType: 'FirewallPolicyFilterRuleCollection'\n            rules: [\n              {\n                destinationAddresses: [\n                  '*'\n                ]\n                destinationFqdns: []\n                destinationIpGroups: []\n                destinationPorts: [\n                  '80'\n                ]\n                ipProtocols: [\n                  'TCP'\n                  'UDP'\n                ]\n                name: 'rule002'\n                ruleType: 'NetworkRule'\n                sourceAddresses: [\n                  '*'\n                ]\n                sourceIpGroups: []\n              }\n            ]\n          }\n        ]\n      }\n    ]\n    servers: [\n      '10.0.0.4'\n      '10.0.0.5'\n    ]\n    snat: {\n      autoLearnPrivateRanges: 'Enabled'\n    }\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    tier: 'Premium'\n  }", "bicep": "module firewallPolicy 'br/public:avm/res/network/firewall-policy:0.3' = {\n  name: 'firewallPolicyDeployment'\n  params: {\n    // Required parameters\n    name: 'nfpmax001'\n    // Non-required parameters\n    allowSqlRedirect: true\n    enableProxy: true\n    intrusionDetection: {\n      mode: 'Alert'\n    }\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    roleAssignments: [\n      {\n        name: 'c1c7fa14-5a90-4932-8781-fa91318b8858'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    ruleCollectionGroups: [\n      {\n        name: 'rule-001'\n        priority: 5000\n        ruleCollections: [\n          {\n            action: {\n              type: 'Allow'\n            }\n            name: 'collection002'\n            priority: 5555\n            ruleCollectionType: 'FirewallPolicyFilterRuleCollection'\n            rules: [\n              {\n                destinationAddresses: [\n                  '*'\n                ]\n                destinationFqdns: []\n                destinationIpGroups: []\n                destinationPorts: [\n                  '80'\n                ]\n                ipProtocols: [\n                  'TCP'\n                  'UDP'\n                ]\n                name: 'rule002'\n                ruleType: 'NetworkRule'\n                sourceAddresses: [\n                  '*'\n                ]\n                sourceIpGroups: []\n              }\n            ]\n          }\n        ]\n      }\n    ]\n    servers: [\n      '10.0.0.4'\n      '10.0.0.5'\n    ]\n    snat: {\n      autoLearnPrivateRanges: 'Enabled'\n    }\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    tier: 'Premium'\n  }\n}"}
{"id": "avm_res_network_firewall-policy_example_3", "source": "avm/res/network/firewall-policy/README.md", "content_to_embed": "Recommended AVM Module for Firewall Policies: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Network/firewallPolicies\nModule ID: br/public:avm/res/network/firewall-policy:0.3\nParameters:\nparams: {\n    // Required parameters\n    name: 'nfpwaf001'\n    // Non-required parameters\n    allowSqlRedirect: true\n    ruleCollectionGroups: [\n      {\n        name: 'rule-001'\n        priority: 5000\n        ruleCollections: [\n          {\n            action: {\n              type: 'Allow'\n            }\n            name: 'collection002'\n            priority: 5555\n            ruleCollectionType: 'FirewallPolicyFilterRuleCollection'\n            rules: [\n              {\n                destinationAddresses: [\n                  '*'\n                ]\n                destinationFqdns: []\n                destinationIpGroups: []\n                destinationPorts: [\n                  '80'\n                ]\n                ipProtocols: [\n                  'TCP'\n                  'UDP'\n                ]\n                name: 'rule002'\n                ruleType: 'NetworkRule'\n                sourceAddresses: [\n                  '*'\n                ]\n                sourceIpGroups: []\n              }\n            ]\n          }\n        ]\n      }\n    ]\n    snat: {\n      autoLearnPrivateRanges: 'Enabled'\n    }\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    threatIntelMode: 'Deny'\n  }", "bicep": "module firewallPolicy 'br/public:avm/res/network/firewall-policy:0.3' = {\n  name: 'firewallPolicyDeployment'\n  params: {\n    // Required parameters\n    name: 'nfpwaf001'\n    // Non-required parameters\n    allowSqlRedirect: true\n    ruleCollectionGroups: [\n      {\n        name: 'rule-001'\n        priority: 5000\n        ruleCollections: [\n          {\n            action: {\n              type: 'Allow'\n            }\n            name: 'collection002'\n            priority: 5555\n            ruleCollectionType: 'FirewallPolicyFilterRuleCollection'\n            rules: [\n              {\n                destinationAddresses: [\n                  '*'\n                ]\n                destinationFqdns: []\n                destinationIpGroups: []\n                destinationPorts: [\n                  '80'\n                ]\n                ipProtocols: [\n                  'TCP'\n                  'UDP'\n                ]\n                name: 'rule002'\n                ruleType: 'NetworkRule'\n                sourceAddresses: [\n                  '*'\n                ]\n                sourceIpGroups: []\n              }\n            ]\n          }\n        ]\n      }\n    ]\n    snat: {\n      autoLearnPrivateRanges: 'Enabled'\n    }\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    threatIntelMode: 'Deny'\n  }\n}"}
{"id": "avm_res_network_front-door_example_1", "source": "avm/res/network/front-door/README.md", "content_to_embed": "Recommended AVM Module for Azure Front Doors: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Network/frontDoors\nModule ID: br/public:avm/res/network/front-door:0.3\nParameters:\nparams: {\n    // Required parameters\n    backendPools: [\n      {\n        name: 'backendPool'\n        properties: {\n          backends: [\n            {\n              address: 'biceptest.local'\n              backendHostHeader: 'backendAddress'\n              enabledState: 'Enabled'\n              httpPort: 80\n              httpsPort: 443\n              priority: 1\n              weight: 50\n            }\n          ]\n          HealthProbeSettings: {\n            id: '<id>'\n          }\n          LoadBalancingSettings: {\n            id: '<id>'\n          }\n        }\n      }\n    ]\n    frontendEndpoints: [\n      {\n        name: 'frontEnd'\n        properties: {\n          hostName: '<hostName>'\n          sessionAffinityEnabledState: 'Disabled'\n          sessionAffinityTtlSeconds: 60\n        }\n      }\n    ]\n    healthProbeSettings: [\n      {\n        name: 'heathProbe'\n        properties: {\n          intervalInSeconds: 60\n          path: '/'\n          protocol: 'Https'\n        }\n      }\n    ]\n    loadBalancingSettings: [\n      {\n        name: 'loadBalancer'\n        properties: {\n          additionalLatencyMilliseconds: 0\n          sampleSize: 50\n          successfulSamplesRequired: 1\n        }\n      }\n    ]\n    name: '<name>'\n    routingRules: [\n      {\n        name: 'routingRule'\n        properties: {\n          acceptedProtocols: [\n            'Https'\n          ]\n          enabledState: 'Enabled'\n          frontendEndpoints: [\n            {\n              id: '<id>'\n            }\n          ]\n          patternsToMatch: [\n            '/*'\n          ]\n          routeConfiguration: {\n            '@odata.type': '#Microsoft.Azure.FrontDoor.Models.FrontdoorForwardingConfiguration'\n            backendPool: {\n              id: '<id>'\n            }\n          }\n        }\n      }\n    ]\n    // Non-required parameters\n    location: '<location>'\n  }", "bicep": "module frontDoor 'br/public:avm/res/network/front-door:0.3' = {\n  name: 'frontDoorDeployment'\n  params: {\n    // Required parameters\n    backendPools: [\n      {\n        name: 'backendPool'\n        properties: {\n          backends: [\n            {\n              address: 'biceptest.local'\n              backendHostHeader: 'backendAddress'\n              enabledState: 'Enabled'\n              httpPort: 80\n              httpsPort: 443\n              priority: 1\n              weight: 50\n            }\n          ]\n          HealthProbeSettings: {\n            id: '<id>'\n          }\n          LoadBalancingSettings: {\n            id: '<id>'\n          }\n        }\n      }\n    ]\n    frontendEndpoints: [\n      {\n        name: 'frontEnd'\n        properties: {\n          hostName: '<hostName>'\n          sessionAffinityEnabledState: 'Disabled'\n          sessionAffinityTtlSeconds: 60\n        }\n      }\n    ]\n    healthProbeSettings: [\n      {\n        name: 'heathProbe'\n        properties: {\n          intervalInSeconds: 60\n          path: '/'\n          protocol: 'Https'\n        }\n      }\n    ]\n    loadBalancingSettings: [\n      {\n        name: 'loadBalancer'\n        properties: {\n          additionalLatencyMilliseconds: 0\n          sampleSize: 50\n          successfulSamplesRequired: 1\n        }\n      }\n    ]\n    name: '<name>'\n    routingRules: [\n      {\n        name: 'routingRule'\n        properties: {\n          acceptedProtocols: [\n            'Https'\n          ]\n          enabledState: 'Enabled'\n          frontendEndpoints: [\n            {\n              id: '<id>'\n            }\n          ]\n          patternsToMatch: [\n            '/*'\n          ]\n          routeConfiguration: {\n            '@odata.type': '#Microsoft.Azure.FrontDoor.Models.FrontdoorForwardingConfiguration'\n            backendPool: {\n              id: '<id>'\n            }\n          }\n        }\n      }\n    ]\n    // Non-required parameters\n    location: '<location>'\n  }\n}"}
{"id": "avm_res_network_front-door_example_2", "source": "avm/res/network/front-door/README.md", "content_to_embed": "Recommended AVM Module for Azure Front Doors: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Network/frontDoors\nModule ID: br/public:avm/res/network/front-door:0.3\nParameters:\nparams: {\n    // Required parameters\n    backendPools: [\n      {\n        name: 'backendPool'\n        properties: {\n          backends: [\n            {\n              address: 'biceptest.local'\n              backendHostHeader: 'backendAddress'\n              enabledState: 'Enabled'\n              httpPort: 80\n              httpsPort: 443\n              priority: 1\n              privateLinkAlias: ''\n              privateLinkApprovalMessage: ''\n              privateLinkLocation: ''\n              weight: 50\n            }\n          ]\n          HealthProbeSettings: {\n            id: '<id>'\n          }\n          LoadBalancingSettings: {\n            id: '<id>'\n          }\n        }\n      }\n    ]\n    frontendEndpoints: [\n      {\n        name: 'frontEnd'\n        properties: {\n          hostName: '<hostName>'\n          sessionAffinityEnabledState: 'Disabled'\n          sessionAffinityTtlSeconds: 60\n        }\n      }\n    ]\n    healthProbeSettings: [\n      {\n        name: 'heathProbe'\n        properties: {\n          enabledState: ''\n          healthProbeMethod: ''\n          intervalInSeconds: 60\n          path: '/'\n          protocol: 'Https'\n        }\n      }\n    ]\n    loadBalancingSettings: [\n      {\n        name: 'loadBalancer'\n        properties: {\n          additionalLatencyMilliseconds: 0\n          sampleSize: 50\n          successfulSamplesRequired: 1\n        }\n      }\n    ]\n    name: '<name>'\n    routingRules: [\n      {\n        name: 'routingRule'\n        properties: {\n          acceptedProtocols: [\n            'Http'\n            'Https'\n          ]\n          enabledState: 'Enabled'\n          frontendEndpoints: [\n            {\n              id: '<id>'\n            }\n          ]\n          patternsToMatch: [\n            '/*'\n          ]\n          routeConfiguration: {\n            '@odata.type': '#Microsoft.Azure.FrontDoor.Models.FrontdoorForwardingConfiguration'\n            backendPool: {\n              id: '<id>'\n            }\n            forwardingProtocol: 'MatchRequest'\n          }\n        }\n      }\n    ]\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        logCategoriesAndGroups: [\n          {\n            category: 'FrontdoorAccessLog'\n          }\n        ]\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    enforceCertificateNameCheck: 'Disabled'\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    roleAssignments: [\n      {\n        name: 'b2c1ef5f-3422-4a49-8e55-7789fe980b64'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    sendRecvTimeoutSeconds: 10\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module frontDoor 'br/public:avm/res/network/front-door:0.3' = {\n  name: 'frontDoorDeployment'\n  params: {\n    // Required parameters\n    backendPools: [\n      {\n        name: 'backendPool'\n        properties: {\n          backends: [\n            {\n              address: 'biceptest.local'\n              backendHostHeader: 'backendAddress'\n              enabledState: 'Enabled'\n              httpPort: 80\n              httpsPort: 443\n              priority: 1\n              privateLinkAlias: ''\n              privateLinkApprovalMessage: ''\n              privateLinkLocation: ''\n              weight: 50\n            }\n          ]\n          HealthProbeSettings: {\n            id: '<id>'\n          }\n          LoadBalancingSettings: {\n            id: '<id>'\n          }\n        }\n      }\n    ]\n    frontendEndpoints: [\n      {\n        name: 'frontEnd'\n        properties: {\n          hostName: '<hostName>'\n          sessionAffinityEnabledState: 'Disabled'\n          sessionAffinityTtlSeconds: 60\n        }\n      }\n    ]\n    healthProbeSettings: [\n      {\n        name: 'heathProbe'\n        properties: {\n          enabledState: ''\n          healthProbeMethod: ''\n          intervalInSeconds: 60\n          path: '/'\n          protocol: 'Https'\n        }\n      }\n    ]\n    loadBalancingSettings: [\n      {\n        name: 'loadBalancer'\n        properties: {\n          additionalLatencyMilliseconds: 0\n          sampleSize: 50\n          successfulSamplesRequired: 1\n        }\n      }\n    ]\n    name: '<name>'\n    routingRules: [\n      {\n        name: 'routingRule'\n        properties: {\n          acceptedProtocols: [\n            'Http'\n            'Https'\n          ]\n          enabledState: 'Enabled'\n          frontendEndpoints: [\n            {\n              id: '<id>'\n            }\n          ]\n          patternsToMatch: [\n            '/*'\n          ]\n          routeConfiguration: {\n            '@odata.type': '#Microsoft.Azure.FrontDoor.Models.FrontdoorForwardingConfiguration'\n            backendPool: {\n              id: '<id>'\n            }\n            forwardingProtocol: 'MatchRequest'\n          }\n        }\n      }\n    ]\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        logCategoriesAndGroups: [\n          {\n            category: 'FrontdoorAccessLog'\n          }\n        ]\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    enforceCertificateNameCheck: 'Disabled'\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    roleAssignments: [\n      {\n        name: 'b2c1ef5f-3422-4a49-8e55-7789fe980b64'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    sendRecvTimeoutSeconds: 10\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_network_front-door_example_3", "source": "avm/res/network/front-door/README.md", "content_to_embed": "Recommended AVM Module for Azure Front Doors: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Network/frontDoors\nModule ID: br/public:avm/res/network/front-door:0.3\nParameters:\nparams: {\n    // Required parameters\n    backendPools: [\n      {\n        name: 'backendPool'\n        properties: {\n          backends: [\n            {\n              address: 'biceptest.local'\n              backendHostHeader: 'backendAddress'\n              enabledState: 'Enabled'\n              httpPort: 80\n              httpsPort: 443\n              priority: 1\n              privateLinkAlias: ''\n              privateLinkApprovalMessage: ''\n              privateLinkLocation: ''\n              weight: 50\n            }\n          ]\n          HealthProbeSettings: {\n            id: '<id>'\n          }\n          LoadBalancingSettings: {\n            id: '<id>'\n          }\n        }\n      }\n    ]\n    frontendEndpoints: [\n      {\n        name: 'frontEnd'\n        properties: {\n          hostName: '<hostName>'\n          sessionAffinityEnabledState: 'Disabled'\n          sessionAffinityTtlSeconds: 60\n        }\n      }\n    ]\n    healthProbeSettings: [\n      {\n        name: 'heathProbe'\n        properties: {\n          enabledState: 'Enabled'\n          healthProbeMethod: 'HEAD'\n          intervalInSeconds: 60\n          path: '/healthz'\n          protocol: 'Https'\n        }\n      }\n    ]\n    loadBalancingSettings: [\n      {\n        name: 'loadBalancer'\n        properties: {\n          additionalLatencyMilliseconds: 0\n          sampleSize: 50\n          successfulSamplesRequired: 1\n        }\n      }\n    ]\n    name: '<name>'\n    routingRules: [\n      {\n        name: 'routingRule'\n        properties: {\n          acceptedProtocols: [\n            'Http'\n            'Https'\n          ]\n          enabledState: 'Enabled'\n          frontendEndpoints: [\n            {\n              id: '<id>'\n            }\n          ]\n          patternsToMatch: [\n            '/*'\n          ]\n          routeConfiguration: {\n            '@odata.type': '#Microsoft.Azure.FrontDoor.Models.FrontdoorForwardingConfiguration'\n            backendPool: {\n              id: '<id>'\n            }\n            forwardingProtocol: 'MatchRequest'\n          }\n        }\n      }\n    ]\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    enforceCertificateNameCheck: 'Disabled'\n    location: '<location>'\n    sendRecvTimeoutSeconds: 10\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module frontDoor 'br/public:avm/res/network/front-door:0.3' = {\n  name: 'frontDoorDeployment'\n  params: {\n    // Required parameters\n    backendPools: [\n      {\n        name: 'backendPool'\n        properties: {\n          backends: [\n            {\n              address: 'biceptest.local'\n              backendHostHeader: 'backendAddress'\n              enabledState: 'Enabled'\n              httpPort: 80\n              httpsPort: 443\n              priority: 1\n              privateLinkAlias: ''\n              privateLinkApprovalMessage: ''\n              privateLinkLocation: ''\n              weight: 50\n            }\n          ]\n          HealthProbeSettings: {\n            id: '<id>'\n          }\n          LoadBalancingSettings: {\n            id: '<id>'\n          }\n        }\n      }\n    ]\n    frontendEndpoints: [\n      {\n        name: 'frontEnd'\n        properties: {\n          hostName: '<hostName>'\n          sessionAffinityEnabledState: 'Disabled'\n          sessionAffinityTtlSeconds: 60\n        }\n      }\n    ]\n    healthProbeSettings: [\n      {\n        name: 'heathProbe'\n        properties: {\n          enabledState: 'Enabled'\n          healthProbeMethod: 'HEAD'\n          intervalInSeconds: 60\n          path: '/healthz'\n          protocol: 'Https'\n        }\n      }\n    ]\n    loadBalancingSettings: [\n      {\n        name: 'loadBalancer'\n        properties: {\n          additionalLatencyMilliseconds: 0\n          sampleSize: 50\n          successfulSamplesRequired: 1\n        }\n      }\n    ]\n    name: '<name>'\n    routingRules: [\n      {\n        name: 'routingRule'\n        properties: {\n          acceptedProtocols: [\n            'Http'\n            'Https'\n          ]\n          enabledState: 'Enabled'\n          frontendEndpoints: [\n            {\n              id: '<id>'\n            }\n          ]\n          patternsToMatch: [\n            '/*'\n          ]\n          routeConfiguration: {\n            '@odata.type': '#Microsoft.Azure.FrontDoor.Models.FrontdoorForwardingConfiguration'\n            backendPool: {\n              id: '<id>'\n            }\n            forwardingProtocol: 'MatchRequest'\n          }\n        }\n      }\n    ]\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    enforceCertificateNameCheck: 'Disabled'\n    location: '<location>'\n    sendRecvTimeoutSeconds: 10\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_network_front-door-web-application-firewall-policy_example_1", "source": "avm/res/network/front-door-web-application-firewall-policy/README.md", "content_to_embed": "Recommended AVM Module for Front Door Web Application Firewall (WAF) Policies: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Network/FrontDoorWebApplicationFirewallPolicies\nModule ID: br/public:avm/res/network/front-door-web-application-firewall-policy:0.3\nParameters:\nparams: {\n    // Required parameters\n    name: 'nagwafpmin001'\n    // Non-required parameters\n    location: '<location>'\n  }", "bicep": "module frontDoorWebApplicationFirewallPolicy 'br/public:avm/res/network/front-door-web-application-firewall-policy:0.3' = {\n  name: 'frontDoorWebApplicationFirewallPolicyDeployment'\n  params: {\n    // Required parameters\n    name: 'nagwafpmin001'\n    // Non-required parameters\n    location: '<location>'\n  }\n}"}
{"id": "avm_res_network_front-door-web-application-firewall-policy_example_2", "source": "avm/res/network/front-door-web-application-firewall-policy/README.md", "content_to_embed": "Recommended AVM Module for Front Door Web Application Firewall (WAF) Policies: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Network/FrontDoorWebApplicationFirewallPolicies\nModule ID: br/public:avm/res/network/front-door-web-application-firewall-policy:0.3\nParameters:\nparams: {\n    // Required parameters\n    name: 'nagwafpmax001'\n    // Non-required parameters\n    customRules: {\n      rules: [\n        {\n          action: 'Block'\n          enabledState: 'Enabled'\n          matchConditions: [\n            {\n              matchValue: [\n                'CH'\n              ]\n              matchVariable: 'RemoteAddr'\n              negateCondition: false\n              operator: 'GeoMatch'\n              selector: '<selector>'\n              transforms: []\n            }\n            {\n              matchValue: [\n                'windows'\n              ]\n              matchVariable: 'RequestHeader'\n              negateCondition: false\n              operator: 'Contains'\n              selector: 'UserAgent'\n              transforms: []\n            }\n            {\n              matchValue: [\n                '?>'\n                '<?php'\n              ]\n              matchVariable: 'QueryString'\n              negateCondition: false\n              operator: 'Contains'\n              transforms: [\n                'Lowercase'\n                'UrlDecode'\n              ]\n            }\n          ]\n          name: 'CustomRule1'\n          priority: 2\n          rateLimitDurationInMinutes: 1\n          rateLimitThreshold: 10\n          ruleType: 'MatchRule'\n        }\n      ]\n    }\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedRules: {\n      managedRuleSets: [\n        {\n          ruleSetType: 'Microsoft_BotManagerRuleSet'\n          ruleSetVersion: '1.0'\n        }\n      ]\n    }\n    policySettings: {\n      customBlockResponseBody: 'PGh0bWw+CjxoZWFkZXI+PHRpdGxlPkhlbGxvPC90aXRsZT48L2hlYWRlcj4KPGJvZHk+CkhlbGxvIHdvcmxkCjwvYm9keT4KPC9odG1sPg=='\n      customBlockResponseStatusCode: 200\n      mode: 'Prevention'\n      redirectUrl: 'http://www.bing.com'\n    }\n    roleAssignments: [\n      {\n        name: 'bb049c96-2571-4a25-b760-444ab25d86ed'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    sku: 'Premium_AzureFrontDoor'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module frontDoorWebApplicationFirewallPolicy 'br/public:avm/res/network/front-door-web-application-firewall-policy:0.3' = {\n  name: 'frontDoorWebApplicationFirewallPolicyDeployment'\n  params: {\n    // Required parameters\n    name: 'nagwafpmax001'\n    // Non-required parameters\n    customRules: {\n      rules: [\n        {\n          action: 'Block'\n          enabledState: 'Enabled'\n          matchConditions: [\n            {\n              matchValue: [\n                'CH'\n              ]\n              matchVariable: 'RemoteAddr'\n              negateCondition: false\n              operator: 'GeoMatch'\n              selector: '<selector>'\n              transforms: []\n            }\n            {\n              matchValue: [\n                'windows'\n              ]\n              matchVariable: 'RequestHeader'\n              negateCondition: false\n              operator: 'Contains'\n              selector: 'UserAgent'\n              transforms: []\n            }\n            {\n              matchValue: [\n                '?>'\n                '<?php'\n              ]\n              matchVariable: 'QueryString'\n              negateCondition: false\n              operator: 'Contains'\n              transforms: [\n                'Lowercase'\n                'UrlDecode'\n              ]\n            }\n          ]\n          name: 'CustomRule1'\n          priority: 2\n          rateLimitDurationInMinutes: 1\n          rateLimitThreshold: 10\n          ruleType: 'MatchRule'\n        }\n      ]\n    }\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedRules: {\n      managedRuleSets: [\n        {\n          ruleSetType: 'Microsoft_BotManagerRuleSet'\n          ruleSetVersion: '1.0'\n        }\n      ]\n    }\n    policySettings: {\n      customBlockResponseBody: 'PGh0bWw+CjxoZWFkZXI+PHRpdGxlPkhlbGxvPC90aXRsZT48L2hlYWRlcj4KPGJvZHk+CkhlbGxvIHdvcmxkCjwvYm9keT4KPC9odG1sPg=='\n      customBlockResponseStatusCode: 200\n      mode: 'Prevention'\n      redirectUrl: 'http://www.bing.com'\n    }\n    roleAssignments: [\n      {\n        name: 'bb049c96-2571-4a25-b760-444ab25d86ed'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    sku: 'Premium_AzureFrontDoor'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_network_front-door-web-application-firewall-policy_example_3", "source": "avm/res/network/front-door-web-application-firewall-policy/README.md", "content_to_embed": "Recommended AVM Module for Front Door Web Application Firewall (WAF) Policies: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Network/FrontDoorWebApplicationFirewallPolicies\nModule ID: br/public:avm/res/network/front-door-web-application-firewall-policy:0.3\nParameters:\nparams: {\n    // Required parameters\n    name: 'nagwafpwaf001'\n    // Non-required parameters\n    customRules: {\n      rules: [\n        {\n          action: 'Block'\n          enabledState: 'Enabled'\n          matchConditions: [\n            {\n              matchValue: [\n                'CH'\n              ]\n              matchVariable: 'RemoteAddr'\n              negateCondition: false\n              operator: 'GeoMatch'\n              selector: '<selector>'\n              transforms: []\n            }\n            {\n              matchValue: [\n                'windows'\n              ]\n              matchVariable: 'RequestHeader'\n              negateCondition: false\n              operator: 'Contains'\n              selector: 'UserAgent'\n              transforms: []\n            }\n            {\n              matchValue: [\n                '?>'\n                '<?php'\n              ]\n              matchVariable: 'QueryString'\n              negateCondition: false\n              operator: 'Contains'\n              transforms: [\n                'Lowercase'\n                'UrlDecode'\n              ]\n            }\n          ]\n          name: 'CustomRule1'\n          priority: 2\n          rateLimitDurationInMinutes: 1\n          rateLimitThreshold: 10\n          ruleType: 'MatchRule'\n        }\n      ]\n    }\n    location: '<location>'\n    managedRules: {\n      managedRuleSets: [\n        {\n          ruleSetType: 'Microsoft_BotManagerRuleSet'\n          ruleSetVersion: '1.0'\n        }\n      ]\n    }\n    policySettings: {\n      customBlockResponseBody: 'PGh0bWw+CjxoZWFkZXI+PHRpdGxlPkhlbGxvPC90aXRsZT48L2hlYWRlcj4KPGJvZHk+CkhlbGxvIHdvcmxkCjwvYm9keT4KPC9odG1sPg=='\n      customBlockResponseStatusCode: 200\n      mode: 'Prevention'\n      redirectUrl: 'http://www.bing.com'\n    }\n    sku: 'Premium_AzureFrontDoor'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module frontDoorWebApplicationFirewallPolicy 'br/public:avm/res/network/front-door-web-application-firewall-policy:0.3' = {\n  name: 'frontDoorWebApplicationFirewallPolicyDeployment'\n  params: {\n    // Required parameters\n    name: 'nagwafpwaf001'\n    // Non-required parameters\n    customRules: {\n      rules: [\n        {\n          action: 'Block'\n          enabledState: 'Enabled'\n          matchConditions: [\n            {\n              matchValue: [\n                'CH'\n              ]\n              matchVariable: 'RemoteAddr'\n              negateCondition: false\n              operator: 'GeoMatch'\n              selector: '<selector>'\n              transforms: []\n            }\n            {\n              matchValue: [\n                'windows'\n              ]\n              matchVariable: 'RequestHeader'\n              negateCondition: false\n              operator: 'Contains'\n              selector: 'UserAgent'\n              transforms: []\n            }\n            {\n              matchValue: [\n                '?>'\n                '<?php'\n              ]\n              matchVariable: 'QueryString'\n              negateCondition: false\n              operator: 'Contains'\n              transforms: [\n                'Lowercase'\n                'UrlDecode'\n              ]\n            }\n          ]\n          name: 'CustomRule1'\n          priority: 2\n          rateLimitDurationInMinutes: 1\n          rateLimitThreshold: 10\n          ruleType: 'MatchRule'\n        }\n      ]\n    }\n    location: '<location>'\n    managedRules: {\n      managedRuleSets: [\n        {\n          ruleSetType: 'Microsoft_BotManagerRuleSet'\n          ruleSetVersion: '1.0'\n        }\n      ]\n    }\n    policySettings: {\n      customBlockResponseBody: 'PGh0bWw+CjxoZWFkZXI+PHRpdGxlPkhlbGxvPC90aXRsZT48L2hlYWRlcj4KPGJvZHk+CkhlbGxvIHdvcmxkCjwvYm9keT4KPC9odG1sPg=='\n      customBlockResponseStatusCode: 200\n      mode: 'Prevention'\n      redirectUrl: 'http://www.bing.com'\n    }\n    sku: 'Premium_AzureFrontDoor'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_network_ip-group_example_1", "source": "avm/res/network/ip-group/README.md", "content_to_embed": "Recommended AVM Module for IP Groups: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Network/ipGroups\nModule ID: br/public:avm/res/network/ip-group:0.3\nParameters:\nparams: {\n    // Required parameters\n    name: 'nigmin001'\n    // Non-required parameters\n    location: '<location>'\n  }", "bicep": "module ipGroup 'br/public:avm/res/network/ip-group:0.3' = {\n  name: 'ipGroupDeployment'\n  params: {\n    // Required parameters\n    name: 'nigmin001'\n    // Non-required parameters\n    location: '<location>'\n  }\n}"}
{"id": "avm_res_network_ip-group_example_2", "source": "avm/res/network/ip-group/README.md", "content_to_embed": "Recommended AVM Module for IP Groups: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Network/ipGroups\nModule ID: br/public:avm/res/network/ip-group:0.3\nParameters:\nparams: {\n    // Required parameters\n    name: 'nigmax001'\n    // Non-required parameters\n    ipAddresses: [\n      '10.0.0.1'\n      '10.0.0.2'\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    roleAssignments: [\n      {\n        name: '26438d40-c8be-4229-ba65-800cf4e49dc8'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module ipGroup 'br/public:avm/res/network/ip-group:0.3' = {\n  name: 'ipGroupDeployment'\n  params: {\n    // Required parameters\n    name: 'nigmax001'\n    // Non-required parameters\n    ipAddresses: [\n      '10.0.0.1'\n      '10.0.0.2'\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    roleAssignments: [\n      {\n        name: '26438d40-c8be-4229-ba65-800cf4e49dc8'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_network_ip-group_example_3", "source": "avm/res/network/ip-group/README.md", "content_to_embed": "Recommended AVM Module for IP Groups: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Network/ipGroups\nModule ID: br/public:avm/res/network/ip-group:0.3\nParameters:\nparams: {\n    // Required parameters\n    name: 'nigwaf001'\n    // Non-required parameters\n    ipAddresses: [\n      '10.0.0.1'\n      '10.0.0.2'\n    ]\n    location: '<location>'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module ipGroup 'br/public:avm/res/network/ip-group:0.3' = {\n  name: 'ipGroupDeployment'\n  params: {\n    // Required parameters\n    name: 'nigwaf001'\n    // Non-required parameters\n    ipAddresses: [\n      '10.0.0.1'\n      '10.0.0.2'\n    ]\n    location: '<location>'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_network_load-balancer_example_1", "source": "avm/res/network/load-balancer/README.md", "content_to_embed": "Recommended AVM Module for Load Balancers: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Network/loadBalancers\nModule ID: br/public:avm/res/network/load-balancer:0.6\nParameters:\nparams: {\n    // Required parameters\n    frontendIPConfigurations: [\n      {\n        name: 'publicIPConfig1'\n        publicIPAddressResourceId: '<publicIPAddressResourceId>'\n      }\n    ]\n    name: 'nlbmin001'\n    // Non-required parameters\n    location: '<location>'\n  }", "bicep": "module loadBalancer 'br/public:avm/res/network/load-balancer:0.6' = {\n  name: 'loadBalancerDeployment'\n  params: {\n    // Required parameters\n    frontendIPConfigurations: [\n      {\n        name: 'publicIPConfig1'\n        publicIPAddressResourceId: '<publicIPAddressResourceId>'\n      }\n    ]\n    name: 'nlbmin001'\n    // Non-required parameters\n    location: '<location>'\n  }\n}"}
{"id": "avm_res_network_load-balancer_example_2", "source": "avm/res/network/load-balancer/README.md", "content_to_embed": "Recommended AVM Module for Load Balancers: Using public IP load balancer parameter - public IP addresses - This instance deploys the module with the minimum set of required parameters and creates an external public IP for the frontend.\nResource Type Path: Microsoft.Network/loadBalancers\nModule ID: br/public:avm/res/network/load-balancer:0.6\nParameters:\nparams: {\n    // Required parameters\n    frontendIPConfigurations: [\n      {\n        name: 'publicIPConfig1'\n        publicIPAddressConfiguration: {\n          name: 'nlbpip-pip-001'\n          publicIPAllocationMethod: 'Static'\n          skuName: 'Standard'\n          skuTier: 'Regional'\n        }\n      }\n      {\n        name: 'publicIPConfig2'\n        publicIPAddressConfiguration: {\n          name: 'nlbpip-pip-002'\n          publicIPAllocationMethod: 'Static'\n          skuName: 'Standard'\n          skuTier: 'Regional'\n        }\n      }\n    ]\n    name: 'nlbpip001'\n  }", "bicep": "module loadBalancer 'br/public:avm/res/network/load-balancer:0.6' = {\n  name: 'loadBalancerDeployment'\n  params: {\n    // Required parameters\n    frontendIPConfigurations: [\n      {\n        name: 'publicIPConfig1'\n        publicIPAddressConfiguration: {\n          name: 'nlbpip-pip-001'\n          publicIPAllocationMethod: 'Static'\n          skuName: 'Standard'\n          skuTier: 'Regional'\n        }\n      }\n      {\n        name: 'publicIPConfig2'\n        publicIPAddressConfiguration: {\n          name: 'nlbpip-pip-002'\n          publicIPAllocationMethod: 'Static'\n          skuName: 'Standard'\n          skuTier: 'Regional'\n        }\n      }\n    ]\n    name: 'nlbpip001'\n  }\n}"}
{"id": "avm_res_network_load-balancer_example_3", "source": "avm/res/network/load-balancer/README.md", "content_to_embed": "Recommended AVM Module for Load Balancers: Using public IP load balancer parameter - public IP address prefixes - This instance deploys the module with the minimum set of required parameters and creates an external public IP prefix for the frontend.\nResource Type Path: Microsoft.Network/loadBalancers\nModule ID: br/public:avm/res/network/load-balancer:0.6\nParameters:\nparams: {\n    // Required parameters\n    frontendIPConfigurations: [\n      {\n        name: 'publicIPprefix1'\n        publicIPPrefixConfiguration: {\n          name: 'nlbpipfix-pipfix-001'\n          prefixLength: 28\n          publicIPAddressVersion: 'IPv4'\n          tier: 'Regional'\n        }\n      }\n    ]\n    name: 'nlbpipfix001'\n  }", "bicep": "module loadBalancer 'br/public:avm/res/network/load-balancer:0.6' = {\n  name: 'loadBalancerDeployment'\n  params: {\n    // Required parameters\n    frontendIPConfigurations: [\n      {\n        name: 'publicIPprefix1'\n        publicIPPrefixConfiguration: {\n          name: 'nlbpipfix-pipfix-001'\n          prefixLength: 28\n          publicIPAddressVersion: 'IPv4'\n          tier: 'Regional'\n        }\n      }\n    ]\n    name: 'nlbpipfix001'\n  }\n}"}
{"id": "avm_res_network_load-balancer_example_4", "source": "avm/res/network/load-balancer/README.md", "content_to_embed": "Recommended AVM Module for Load Balancers: Using external load balancer parameter - VNet backend addresses - This instance deploys the module with an externally facing load balancer with a public IP address and VNet backend address pool.\nResource Type Path: Microsoft.Network/loadBalancers\nModule ID: br/public:avm/res/network/load-balancer:0.6\nParameters:\nparams: {\n    // Required parameters\n    frontendIPConfigurations: [\n      {\n        name: 'publicIPConfig1'\n        publicIPAddressResourceId: '<publicIPAddressResourceId>'\n      }\n    ]\n    name: 'nlbnet001'\n    // Non-required parameters\n    backendAddressPools: [\n      {\n        backendMembershipMode: 'BackendAddress'\n        loadBalancerBackendAddresses: [\n          {\n            name: 'beAddress1'\n            properties: {\n              ipAddress: '10.0.0.15'\n            }\n          }\n          {\n            name: 'beAddress2'\n            properties: {\n              ipAddress: '10.0.0.16'\n            }\n          }\n        ]\n        name: 'backendAddressPool1'\n        virtualNetworkResourceId: '<virtualNetworkResourceId>'\n      }\n      {\n        name: 'backendAddressPool2'\n      }\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    inboundNatRules: [\n      {\n        backendPort: 443\n        enableFloatingIP: false\n        enableTcpReset: false\n        frontendIPConfigurationName: 'publicIPConfig1'\n        frontendPort: 443\n        idleTimeoutInMinutes: 4\n        name: 'inboundNatRule1'\n        protocol: 'Tcp'\n      }\n      {\n        backendPort: 3389\n        frontendIPConfigurationName: 'publicIPConfig1'\n        frontendPort: 3389\n        name: 'inboundNatRule2'\n      }\n    ]\n    loadBalancingRules: [\n      {\n        backendAddressPoolName: 'backendAddressPool1'\n        backendPort: 80\n        disableOutboundSnat: true\n        enableFloatingIP: false\n        enableTcpReset: false\n        frontendIPConfigurationName: 'publicIPConfig1'\n        frontendPort: 80\n        idleTimeoutInMinutes: 5\n        loadDistribution: 'Default'\n        name: 'publicIPLBRule1'\n        probeName: 'probe1'\n        protocol: 'Tcp'\n      }\n      {\n        backendAddressPoolName: 'backendAddressPool2'\n        backendPort: 8080\n        frontendIPConfigurationName: 'publicIPConfig1'\n        frontendPort: 8080\n        loadDistribution: 'Default'\n        name: 'publicIPLBRule2'\n        probeName: 'probe2'\n      }\n    ]\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    outboundRules: [\n      {\n        allocatedOutboundPorts: 63984\n        backendAddressPoolName: 'backendAddressPool1'\n        frontendIPConfigurationName: 'publicIPConfig1'\n        name: 'outboundRule1'\n      }\n    ]\n    probes: [\n      {\n        intervalInSeconds: 10\n        name: 'probe1'\n        numberOfProbes: 5\n        port: 80\n        protocol: 'Http'\n        requestPath: '/http-probe'\n      }\n      {\n        name: 'probe2'\n        port: 443\n        protocol: 'Https'\n        requestPath: '/https-probe'\n      }\n    ]\n    roleAssignments: [\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module loadBalancer 'br/public:avm/res/network/load-balancer:0.6' = {\n  name: 'loadBalancerDeployment'\n  params: {\n    // Required parameters\n    frontendIPConfigurations: [\n      {\n        name: 'publicIPConfig1'\n        publicIPAddressResourceId: '<publicIPAddressResourceId>'\n      }\n    ]\n    name: 'nlbnet001'\n    // Non-required parameters\n    backendAddressPools: [\n      {\n        backendMembershipMode: 'BackendAddress'\n        loadBalancerBackendAddresses: [\n          {\n            name: 'beAddress1'\n            properties: {\n              ipAddress: '10.0.0.15'\n            }\n          }\n          {\n            name: 'beAddress2'\n            properties: {\n              ipAddress: '10.0.0.16'\n            }\n          }\n        ]\n        name: 'backendAddressPool1'\n        virtualNetworkResourceId: '<virtualNetworkResourceId>'\n      }\n      {\n        name: 'backendAddressPool2'\n      }\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    inboundNatRules: [\n      {\n        backendPort: 443\n        enableFloatingIP: false\n        enableTcpReset: false\n        frontendIPConfigurationName: 'publicIPConfig1'\n        frontendPort: 443\n        idleTimeoutInMinutes: 4\n        name: 'inboundNatRule1'\n        protocol: 'Tcp'\n      }\n      {\n        backendPort: 3389\n        frontendIPConfigurationName: 'publicIPConfig1'\n        frontendPort: 3389\n        name: 'inboundNatRule2'\n      }\n    ]\n    loadBalancingRules: [\n      {\n        backendAddressPoolName: 'backendAddressPool1'\n        backendPort: 80\n        disableOutboundSnat: true\n        enableFloatingIP: false\n        enableTcpReset: false\n        frontendIPConfigurationName: 'publicIPConfig1'\n        frontendPort: 80\n        idleTimeoutInMinutes: 5\n        loadDistribution: 'Default'\n        name: 'publicIPLBRule1'\n        probeName: 'probe1'\n        protocol: 'Tcp'\n      }\n      {\n        backendAddressPoolName: 'backendAddressPool2'\n        backendPort: 8080\n        frontendIPConfigurationName: 'publicIPConfig1'\n        frontendPort: 8080\n        loadDistribution: 'Default'\n        name: 'publicIPLBRule2'\n        probeName: 'probe2'\n      }\n    ]\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    outboundRules: [\n      {\n        allocatedOutboundPorts: 63984\n        backendAddressPoolName: 'backendAddressPool1'\n        frontendIPConfigurationName: 'publicIPConfig1'\n        name: 'outboundRule1'\n      }\n    ]\n    probes: [\n      {\n        intervalInSeconds: 10\n        name: 'probe1'\n        numberOfProbes: 5\n        port: 80\n        protocol: 'Http'\n        requestPath: '/http-probe'\n      }\n      {\n        name: 'probe2'\n        port: 443\n        protocol: 'Https'\n        requestPath: '/https-probe'\n      }\n    ]\n    roleAssignments: [\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_network_load-balancer_example_5", "source": "avm/res/network/load-balancer/README.md", "content_to_embed": "Recommended AVM Module for Load Balancers: Using external load balancer parameter - NIC backend addresses - This instance deploys the module with an externally facing load balancer with a public IP address and NIC backend address pool.\nResource Type Path: Microsoft.Network/loadBalancers\nModule ID: br/public:avm/res/network/load-balancer:0.6\nParameters:\nparams: {\n    // Required parameters\n    frontendIPConfigurations: [\n      {\n        name: 'publicIPConfig1'\n        publicIPAddressResourceId: '<publicIPAddressResourceId>'\n      }\n    ]\n    name: 'nlbext001'\n    // Non-required parameters\n    backendAddressPools: [\n      {\n        backendMembershipMode: 'NIC'\n        name: 'backendAddressPool1'\n      }\n      {\n        backendMembershipMode: 'None'\n        name: 'backendAddressPool2'\n      }\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    inboundNatRules: [\n      {\n        backendPort: 443\n        enableFloatingIP: false\n        enableTcpReset: false\n        frontendIPConfigurationName: 'publicIPConfig1'\n        frontendPort: 443\n        idleTimeoutInMinutes: 4\n        name: 'inboundNatRule1'\n        protocol: 'Tcp'\n      }\n      {\n        backendPort: 3389\n        frontendIPConfigurationName: 'publicIPConfig1'\n        frontendPort: 3389\n        name: 'inboundNatRule2'\n      }\n    ]\n    loadBalancingRules: [\n      {\n        backendAddressPoolName: 'backendAddressPool1'\n        backendPort: 80\n        disableOutboundSnat: true\n        enableFloatingIP: false\n        enableTcpReset: false\n        frontendIPConfigurationName: 'publicIPConfig1'\n        frontendPort: 80\n        idleTimeoutInMinutes: 5\n        loadDistribution: 'Default'\n        name: 'publicIPLBRule1'\n        probeName: 'probe1'\n        protocol: 'Tcp'\n      }\n      {\n        backendAddressPoolName: 'backendAddressPool2'\n        backendPort: 8080\n        frontendIPConfigurationName: 'publicIPConfig1'\n        frontendPort: 8080\n        loadDistribution: 'Default'\n        name: 'publicIPLBRule2'\n        probeName: 'probe2'\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    outboundRules: [\n      {\n        allocatedOutboundPorts: 63984\n        backendAddressPoolName: 'backendAddressPool1'\n        frontendIPConfigurationName: 'publicIPConfig1'\n        name: 'outboundRule1'\n      }\n    ]\n    probes: [\n      {\n        intervalInSeconds: 10\n        name: 'probe1'\n        numberOfProbes: 5\n        port: 80\n        protocol: 'Http'\n        requestPath: '/http-probe'\n      }\n      {\n        name: 'probe2'\n        port: 443\n        protocol: 'Https'\n        requestPath: '/https-probe'\n      }\n    ]\n    roleAssignments: [\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module loadBalancer 'br/public:avm/res/network/load-balancer:0.6' = {\n  name: 'loadBalancerDeployment'\n  params: {\n    // Required parameters\n    frontendIPConfigurations: [\n      {\n        name: 'publicIPConfig1'\n        publicIPAddressResourceId: '<publicIPAddressResourceId>'\n      }\n    ]\n    name: 'nlbext001'\n    // Non-required parameters\n    backendAddressPools: [\n      {\n        backendMembershipMode: 'NIC'\n        name: 'backendAddressPool1'\n      }\n      {\n        backendMembershipMode: 'None'\n        name: 'backendAddressPool2'\n      }\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    inboundNatRules: [\n      {\n        backendPort: 443\n        enableFloatingIP: false\n        enableTcpReset: false\n        frontendIPConfigurationName: 'publicIPConfig1'\n        frontendPort: 443\n        idleTimeoutInMinutes: 4\n        name: 'inboundNatRule1'\n        protocol: 'Tcp'\n      }\n      {\n        backendPort: 3389\n        frontendIPConfigurationName: 'publicIPConfig1'\n        frontendPort: 3389\n        name: 'inboundNatRule2'\n      }\n    ]\n    loadBalancingRules: [\n      {\n        backendAddressPoolName: 'backendAddressPool1'\n        backendPort: 80\n        disableOutboundSnat: true\n        enableFloatingIP: false\n        enableTcpReset: false\n        frontendIPConfigurationName: 'publicIPConfig1'\n        frontendPort: 80\n        idleTimeoutInMinutes: 5\n        loadDistribution: 'Default'\n        name: 'publicIPLBRule1'\n        probeName: 'probe1'\n        protocol: 'Tcp'\n      }\n      {\n        backendAddressPoolName: 'backendAddressPool2'\n        backendPort: 8080\n        frontendIPConfigurationName: 'publicIPConfig1'\n        frontendPort: 8080\n        loadDistribution: 'Default'\n        name: 'publicIPLBRule2'\n        probeName: 'probe2'\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    outboundRules: [\n      {\n        allocatedOutboundPorts: 63984\n        backendAddressPoolName: 'backendAddressPool1'\n        frontendIPConfigurationName: 'publicIPConfig1'\n        name: 'outboundRule1'\n      }\n    ]\n    probes: [\n      {\n        intervalInSeconds: 10\n        name: 'probe1'\n        numberOfProbes: 5\n        port: 80\n        protocol: 'Http'\n        requestPath: '/http-probe'\n      }\n      {\n        name: 'probe2'\n        port: 443\n        protocol: 'Https'\n        requestPath: '/https-probe'\n      }\n    ]\n    roleAssignments: [\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_network_load-balancer_example_6", "source": "avm/res/network/load-balancer/README.md", "content_to_embed": "Recommended AVM Module for Load Balancers: Using internal load balancer parameter - This instance deploys the module with the minimum set of required parameters to deploy an internal load balancer with a private IP address and empty backend address pool.\nResource Type Path: Microsoft.Network/loadBalancers\nModule ID: br/public:avm/res/network/load-balancer:0.6\nParameters:\nparams: {\n    // Required parameters\n    frontendIPConfigurations: [\n      {\n        name: 'privateIPConfig1'\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    name: 'nlbint001'\n    // Non-required parameters\n    backendAddressPools: [\n      {\n        backendMembershipMode: 'NIC'\n        name: 'servers'\n      }\n    ]\n    inboundNatRules: [\n      {\n        backendPort: 443\n        enableFloatingIP: false\n        enableTcpReset: false\n        frontendIPConfigurationName: 'privateIPConfig1'\n        frontendPort: 443\n        idleTimeoutInMinutes: 4\n        name: 'inboundNatRule1'\n        protocol: 'Tcp'\n      }\n      {\n        backendPort: 3389\n        frontendIPConfigurationName: 'privateIPConfig1'\n        frontendPort: 3389\n        name: 'inboundNatRule2'\n      }\n    ]\n    loadBalancingRules: [\n      {\n        backendAddressPoolName: 'servers'\n        backendPort: 0\n        disableOutboundSnat: true\n        enableFloatingIP: true\n        enableTcpReset: false\n        frontendIPConfigurationName: 'privateIPConfig1'\n        frontendPort: 0\n        idleTimeoutInMinutes: 4\n        loadDistribution: 'Default'\n        name: 'privateIPLBRule1'\n        probeName: 'probe1'\n        protocol: 'All'\n      }\n    ]\n    location: '<location>'\n    probes: [\n      {\n        intervalInSeconds: 5\n        name: 'probe1'\n        numberOfProbes: 2\n        port: '62000'\n        protocol: 'Tcp'\n      }\n    ]\n    roleAssignments: [\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    skuName: 'Standard'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module loadBalancer 'br/public:avm/res/network/load-balancer:0.6' = {\n  name: 'loadBalancerDeployment'\n  params: {\n    // Required parameters\n    frontendIPConfigurations: [\n      {\n        name: 'privateIPConfig1'\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    name: 'nlbint001'\n    // Non-required parameters\n    backendAddressPools: [\n      {\n        backendMembershipMode: 'NIC'\n        name: 'servers'\n      }\n    ]\n    inboundNatRules: [\n      {\n        backendPort: 443\n        enableFloatingIP: false\n        enableTcpReset: false\n        frontendIPConfigurationName: 'privateIPConfig1'\n        frontendPort: 443\n        idleTimeoutInMinutes: 4\n        name: 'inboundNatRule1'\n        protocol: 'Tcp'\n      }\n      {\n        backendPort: 3389\n        frontendIPConfigurationName: 'privateIPConfig1'\n        frontendPort: 3389\n        name: 'inboundNatRule2'\n      }\n    ]\n    loadBalancingRules: [\n      {\n        backendAddressPoolName: 'servers'\n        backendPort: 0\n        disableOutboundSnat: true\n        enableFloatingIP: true\n        enableTcpReset: false\n        frontendIPConfigurationName: 'privateIPConfig1'\n        frontendPort: 0\n        idleTimeoutInMinutes: 4\n        loadDistribution: 'Default'\n        name: 'privateIPLBRule1'\n        probeName: 'probe1'\n        protocol: 'All'\n      }\n    ]\n    location: '<location>'\n    probes: [\n      {\n        intervalInSeconds: 5\n        name: 'probe1'\n        numberOfProbes: 2\n        port: '62000'\n        protocol: 'Tcp'\n      }\n    ]\n    roleAssignments: [\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    skuName: 'Standard'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_network_load-balancer_example_7", "source": "avm/res/network/load-balancer/README.md", "content_to_embed": "Recommended AVM Module for Load Balancers: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Network/loadBalancers\nModule ID: br/public:avm/res/network/load-balancer:0.6\nParameters:\nparams: {\n    // Required parameters\n    frontendIPConfigurations: [\n      {\n        name: 'publicIPConfig1'\n        publicIPAddressResourceId: '<publicIPAddressResourceId>'\n      }\n    ]\n    name: 'nlbmax001'\n    // Non-required parameters\n    backendAddressPools: [\n      {\n        name: 'backendAddressPool1'\n      }\n      {\n        name: 'backendAddressPool2'\n      }\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        logCategoriesAndGroups: [\n          {\n            categoryGroup: 'allLogs'\n          }\n        ]\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    inboundNatRules: [\n      {\n        backendPort: 443\n        enableFloatingIP: false\n        enableTcpReset: false\n        frontendIPConfigurationName: 'publicIPConfig1'\n        frontendPort: 443\n        idleTimeoutInMinutes: 4\n        name: 'inboundNatRule1'\n        protocol: 'Tcp'\n      }\n      {\n        backendPort: 3389\n        frontendIPConfigurationName: 'publicIPConfig1'\n        frontendPort: 3389\n        name: 'inboundNatRule2'\n      }\n    ]\n    loadBalancingRules: [\n      {\n        backendAddressPoolName: 'backendAddressPool1'\n        backendPort: 80\n        disableOutboundSnat: true\n        enableFloatingIP: false\n        enableTcpReset: false\n        frontendIPConfigurationName: 'publicIPConfig1'\n        frontendPort: 80\n        idleTimeoutInMinutes: 5\n        loadDistribution: 'Default'\n        name: 'publicIPLBRule1'\n        probeName: 'probe1'\n        protocol: 'Tcp'\n      }\n      {\n        backendAddressPoolName: 'backendAddressPool2'\n        backendPort: 8080\n        frontendIPConfigurationName: 'publicIPConfig1'\n        frontendPort: 8080\n        loadDistribution: 'Default'\n        name: 'publicIPLBRule2'\n        probeName: 'probe2'\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    outboundRules: [\n      {\n        allocatedOutboundPorts: 63984\n        backendAddressPoolName: 'backendAddressPool1'\n        frontendIPConfigurationName: 'publicIPConfig1'\n        name: 'outboundRule1'\n      }\n    ]\n    probes: [\n      {\n        intervalInSeconds: 10\n        name: 'probe1'\n        numberOfProbes: 5\n        port: 80\n        protocol: 'Tcp'\n      }\n      {\n        name: 'probe2'\n        port: 443\n        protocol: 'Https'\n        requestPath: '/'\n      }\n    ]\n    roleAssignments: [\n      {\n        name: '3a5b2a4a-3584-4d6b-9cf0-ceb1e4f88a5d'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module loadBalancer 'br/public:avm/res/network/load-balancer:0.6' = {\n  name: 'loadBalancerDeployment'\n  params: {\n    // Required parameters\n    frontendIPConfigurations: [\n      {\n        name: 'publicIPConfig1'\n        publicIPAddressResourceId: '<publicIPAddressResourceId>'\n      }\n    ]\n    name: 'nlbmax001'\n    // Non-required parameters\n    backendAddressPools: [\n      {\n        name: 'backendAddressPool1'\n      }\n      {\n        name: 'backendAddressPool2'\n      }\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        logCategoriesAndGroups: [\n          {\n            categoryGroup: 'allLogs'\n          }\n        ]\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    inboundNatRules: [\n      {\n        backendPort: 443\n        enableFloatingIP: false\n        enableTcpReset: false\n        frontendIPConfigurationName: 'publicIPConfig1'\n        frontendPort: 443\n        idleTimeoutInMinutes: 4\n        name: 'inboundNatRule1'\n        protocol: 'Tcp'\n      }\n      {\n        backendPort: 3389\n        frontendIPConfigurationName: 'publicIPConfig1'\n        frontendPort: 3389\n        name: 'inboundNatRule2'\n      }\n    ]\n    loadBalancingRules: [\n      {\n        backendAddressPoolName: 'backendAddressPool1'\n        backendPort: 80\n        disableOutboundSnat: true\n        enableFloatingIP: false\n        enableTcpReset: false\n        frontendIPConfigurationName: 'publicIPConfig1'\n        frontendPort: 80\n        idleTimeoutInMinutes: 5\n        loadDistribution: 'Default'\n        name: 'publicIPLBRule1'\n        probeName: 'probe1'\n        protocol: 'Tcp'\n      }\n      {\n        backendAddressPoolName: 'backendAddressPool2'\n        backendPort: 8080\n        frontendIPConfigurationName: 'publicIPConfig1'\n        frontendPort: 8080\n        loadDistribution: 'Default'\n        name: 'publicIPLBRule2'\n        probeName: 'probe2'\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    outboundRules: [\n      {\n        allocatedOutboundPorts: 63984\n        backendAddressPoolName: 'backendAddressPool1'\n        frontendIPConfigurationName: 'publicIPConfig1'\n        name: 'outboundRule1'\n      }\n    ]\n    probes: [\n      {\n        intervalInSeconds: 10\n        name: 'probe1'\n        numberOfProbes: 5\n        port: 80\n        protocol: 'Tcp'\n      }\n      {\n        name: 'probe2'\n        port: 443\n        protocol: 'Https'\n        requestPath: '/'\n      }\n    ]\n    roleAssignments: [\n      {\n        name: '3a5b2a4a-3584-4d6b-9cf0-ceb1e4f88a5d'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_network_load-balancer_example_8", "source": "avm/res/network/load-balancer/README.md", "content_to_embed": "Recommended AVM Module for Load Balancers: WAF-aligned - This instance deploys the module with the minimum set of required parameters to deploy a WAF-aligned internal load balancer.\nResource Type Path: Microsoft.Network/loadBalancers\nModule ID: br/public:avm/res/network/load-balancer:0.6\nParameters:\nparams: {\n    // Required parameters\n    frontendIPConfigurations: [\n      {\n        availabilityZones: [\n          1\n          2\n          3\n        ]\n        name: 'privateIPConfig1'\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    name: 'nlbwaf001'\n    // Non-required parameters\n    backendAddressPools: [\n      {\n        name: 'servers'\n      }\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    inboundNatRules: [\n      {\n        backendPort: 443\n        enableFloatingIP: false\n        enableTcpReset: false\n        frontendIPConfigurationName: 'privateIPConfig1'\n        frontendPort: 443\n        idleTimeoutInMinutes: 4\n        name: 'inboundNatRule1'\n        protocol: 'Tcp'\n      }\n      {\n        backendAddressPoolName: 'servers'\n        backendPort: 3389\n        frontendIPConfigurationName: 'privateIPConfig1'\n        frontendPortRangeEnd: 5010\n        frontendPortRangeStart: 5000\n        loadDistribution: 'Default'\n        name: 'inboundNatRule2'\n        probeName: 'probe2'\n      }\n    ]\n    loadBalancingRules: [\n      {\n        backendAddressPoolName: 'servers'\n        backendPort: 0\n        disableOutboundSnat: true\n        enableFloatingIP: true\n        enableTcpReset: false\n        frontendIPConfigurationName: 'privateIPConfig1'\n        frontendPort: 0\n        idleTimeoutInMinutes: 4\n        loadDistribution: 'Default'\n        name: 'privateIPLBRule1'\n        probeName: 'probe1'\n        protocol: 'All'\n      }\n    ]\n    location: '<location>'\n    probes: [\n      {\n        intervalInSeconds: 5\n        name: 'probe1'\n        numberOfProbes: 2\n        port: '62000'\n        protocol: 'Tcp'\n      }\n    ]\n    skuName: 'Standard'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module loadBalancer 'br/public:avm/res/network/load-balancer:0.6' = {\n  name: 'loadBalancerDeployment'\n  params: {\n    // Required parameters\n    frontendIPConfigurations: [\n      {\n        availabilityZones: [\n          1\n          2\n          3\n        ]\n        name: 'privateIPConfig1'\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    name: 'nlbwaf001'\n    // Non-required parameters\n    backendAddressPools: [\n      {\n        name: 'servers'\n      }\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    inboundNatRules: [\n      {\n        backendPort: 443\n        enableFloatingIP: false\n        enableTcpReset: false\n        frontendIPConfigurationName: 'privateIPConfig1'\n        frontendPort: 443\n        idleTimeoutInMinutes: 4\n        name: 'inboundNatRule1'\n        protocol: 'Tcp'\n      }\n      {\n        backendAddressPoolName: 'servers'\n        backendPort: 3389\n        frontendIPConfigurationName: 'privateIPConfig1'\n        frontendPortRangeEnd: 5010\n        frontendPortRangeStart: 5000\n        loadDistribution: 'Default'\n        name: 'inboundNatRule2'\n        probeName: 'probe2'\n      }\n    ]\n    loadBalancingRules: [\n      {\n        backendAddressPoolName: 'servers'\n        backendPort: 0\n        disableOutboundSnat: true\n        enableFloatingIP: true\n        enableTcpReset: false\n        frontendIPConfigurationName: 'privateIPConfig1'\n        frontendPort: 0\n        idleTimeoutInMinutes: 4\n        loadDistribution: 'Default'\n        name: 'privateIPLBRule1'\n        probeName: 'probe1'\n        protocol: 'All'\n      }\n    ]\n    location: '<location>'\n    probes: [\n      {\n        intervalInSeconds: 5\n        name: 'probe1'\n        numberOfProbes: 2\n        port: '62000'\n        protocol: 'Tcp'\n      }\n    ]\n    skuName: 'Standard'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_network_local-network-gateway_example_1", "source": "avm/res/network/local-network-gateway/README.md", "content_to_embed": "Recommended AVM Module for Local Network Gateways: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Network/localNetworkGateways\nModule ID: br/public:avm/res/network/local-network-gateway:0.4\nParameters:\nparams: {\n    // Required parameters\n    localGatewayPublicIpAddress: '8.8.8.8'\n    localNetworkAddressSpace: {\n      addressPrefixes: [\n        '192.168.1.0/24'\n      ]\n    }\n    name: 'nlngmin001'\n  }", "bicep": "module localNetworkGateway 'br/public:avm/res/network/local-network-gateway:0.4' = {\n  name: 'localNetworkGatewayDeployment'\n  params: {\n    // Required parameters\n    localGatewayPublicIpAddress: '8.8.8.8'\n    localNetworkAddressSpace: {\n      addressPrefixes: [\n        '192.168.1.0/24'\n      ]\n    }\n    name: 'nlngmin001'\n  }\n}"}
{"id": "avm_res_network_local-network-gateway_example_2", "source": "avm/res/network/local-network-gateway/README.md", "content_to_embed": "Recommended AVM Module for Local Network Gateways: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Network/localNetworkGateways\nModule ID: br/public:avm/res/network/local-network-gateway:0.4\nParameters:\nparams: {\n    // Required parameters\n    localGatewayPublicIpAddress: '8.8.8.8'\n    localNetworkAddressSpace: {\n      addressPrefixes: [\n        '192.168.1.0/24'\n      ]\n    }\n    name: 'nlngmax001'\n    // Non-required parameters\n    bgpSettings: {\n      localAsn: 65123\n      localBgpPeeringAddress: '192.168.1.5'\n    }\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    roleAssignments: [\n      {\n        name: 'd14a9fe8-2358-434a-a715-3d10978088cc'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module localNetworkGateway 'br/public:avm/res/network/local-network-gateway:0.4' = {\n  name: 'localNetworkGatewayDeployment'\n  params: {\n    // Required parameters\n    localGatewayPublicIpAddress: '8.8.8.8'\n    localNetworkAddressSpace: {\n      addressPrefixes: [\n        '192.168.1.0/24'\n      ]\n    }\n    name: 'nlngmax001'\n    // Non-required parameters\n    bgpSettings: {\n      localAsn: 65123\n      localBgpPeeringAddress: '192.168.1.5'\n    }\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    roleAssignments: [\n      {\n        name: 'd14a9fe8-2358-434a-a715-3d10978088cc'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_network_local-network-gateway_example_3", "source": "avm/res/network/local-network-gateway/README.md", "content_to_embed": "Recommended AVM Module for Local Network Gateways: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Network/localNetworkGateways\nModule ID: br/public:avm/res/network/local-network-gateway:0.4\nParameters:\nparams: {\n    // Required parameters\n    localGatewayPublicIpAddress: '8.8.8.8'\n    localNetworkAddressSpace: {\n      addressPrefixes: [\n        '192.168.1.0/24'\n      ]\n    }\n    name: 'nlngwaf001'\n    // Non-required parameters\n    bgpSettings: {\n      localAsn: 65123\n      localBgpPeeringAddress: '192.168.1.5'\n    }\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module localNetworkGateway 'br/public:avm/res/network/local-network-gateway:0.4' = {\n  name: 'localNetworkGatewayDeployment'\n  params: {\n    // Required parameters\n    localGatewayPublicIpAddress: '8.8.8.8'\n    localNetworkAddressSpace: {\n      addressPrefixes: [\n        '192.168.1.0/24'\n      ]\n    }\n    name: 'nlngwaf001'\n    // Non-required parameters\n    bgpSettings: {\n      localAsn: 65123\n      localBgpPeeringAddress: '192.168.1.5'\n    }\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_network_nat-gateway_example_1", "source": "avm/res/network/nat-gateway/README.md", "content_to_embed": "Recommended AVM Module for NAT Gateways: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Network/natGateways\nModule ID: br/public:avm/res/network/nat-gateway:2.0\nParameters:\nparams: {\n    // Required parameters\n    availabilityZone: 1\n    name: 'nngmin001'\n  }", "bicep": "module natGateway 'br/public:avm/res/network/nat-gateway:2.0' = {\n  name: 'natGatewayDeployment'\n  params: {\n    // Required parameters\n    availabilityZone: 1\n    name: 'nngmin001'\n  }\n}"}
{"id": "avm_res_network_nat-gateway_example_2", "source": "avm/res/network/nat-gateway/README.md", "content_to_embed": "Recommended AVM Module for NAT Gateways: Using an existing Public IP - This instance deploys the module using an existing Public IP address.\nResource Type Path: Microsoft.Network/natGateways\nModule ID: br/public:avm/res/network/nat-gateway:2.0\nParameters:\nparams: {\n    // Required parameters\n    availabilityZone: -1\n    name: 'nngepip001'\n    // Non-required parameters\n    publicIpResourceIds: '<publicIpResourceIds>'\n  }", "bicep": "module natGateway 'br/public:avm/res/network/nat-gateway:2.0' = {\n  name: 'natGatewayDeployment'\n  params: {\n    // Required parameters\n    availabilityZone: -1\n    name: 'nngepip001'\n    // Non-required parameters\n    publicIpResourceIds: '<publicIpResourceIds>'\n  }\n}"}
{"id": "avm_res_network_nat-gateway_example_3", "source": "avm/res/network/nat-gateway/README.md", "content_to_embed": "Recommended AVM Module for NAT Gateways: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Network/natGateways\nModule ID: br/public:avm/res/network/nat-gateway:2.0\nParameters:\nparams: {\n    // Required parameters\n    availabilityZone: 1\n    name: 'nngmax001'\n    // Non-required parameters\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    publicIPAddresses: [\n      {\n        availabilityZones: [\n          1\n          2\n          3\n        ]\n        diagnosticSettings: [\n          {\n            eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n            eventHubName: '<eventHubName>'\n            metricCategories: [\n              {\n                category: 'AllMetrics'\n              }\n            ]\n            name: 'customSetting'\n            storageAccountResourceId: '<storageAccountResourceId>'\n            workspaceResourceId: '<workspaceResourceId>'\n          }\n        ]\n        name: 'nngmax001-pip'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n        skuTier: 'Regional'\n      }\n    ]\n    roleAssignments: [\n      {\n        name: '69d7ed51-8af4-4eed-bcea-bdadcccb1200'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module natGateway 'br/public:avm/res/network/nat-gateway:2.0' = {\n  name: 'natGatewayDeployment'\n  params: {\n    // Required parameters\n    availabilityZone: 1\n    name: 'nngmax001'\n    // Non-required parameters\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    publicIPAddresses: [\n      {\n        availabilityZones: [\n          1\n          2\n          3\n        ]\n        diagnosticSettings: [\n          {\n            eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n            eventHubName: '<eventHubName>'\n            metricCategories: [\n              {\n                category: 'AllMetrics'\n              }\n            ]\n            name: 'customSetting'\n            storageAccountResourceId: '<storageAccountResourceId>'\n            workspaceResourceId: '<workspaceResourceId>'\n          }\n        ]\n        name: 'nngmax001-pip'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n        skuTier: 'Regional'\n      }\n    ]\n    roleAssignments: [\n      {\n        name: '69d7ed51-8af4-4eed-bcea-bdadcccb1200'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_network_nat-gateway_example_4", "source": "avm/res/network/nat-gateway/README.md", "content_to_embed": "Recommended AVM Module for NAT Gateways: Combine a generated and provided Public IP Prefix - This example shows how you can provide a Public IP Prefix to the module, while also generating one in the module.\nResource Type Path: Microsoft.Network/natGateways\nModule ID: br/public:avm/res/network/nat-gateway:2.0\nParameters:\nparams: {\n    // Required parameters\n    availabilityZone: -1\n    name: 'nngcprx001'\n    // Non-required parameters\n    publicIPPrefixes: [\n      {\n        name: 'nngcprx001-pippre'\n        prefixLength: 30\n        tags: {\n          'hidden-title': 'CustomTag'\n        }\n      }\n    ]\n  }", "bicep": "module natGateway 'br/public:avm/res/network/nat-gateway:2.0' = {\n  name: 'natGatewayDeployment'\n  params: {\n    // Required parameters\n    availabilityZone: -1\n    name: 'nngcprx001'\n    // Non-required parameters\n    publicIPPrefixes: [\n      {\n        name: 'nngcprx001-pippre'\n        prefixLength: 30\n        tags: {\n          'hidden-title': 'CustomTag'\n        }\n      }\n    ]\n  }\n}"}
{"id": "avm_res_network_nat-gateway_example_5", "source": "avm/res/network/nat-gateway/README.md", "content_to_embed": "Recommended AVM Module for NAT Gateways: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Network/natGateways\nModule ID: br/public:avm/res/network/nat-gateway:2.0\nParameters:\nparams: {\n    // Required parameters\n    availabilityZone: 1\n    name: 'nngwaf001'\n    // Non-required parameters\n    publicIPAddresses: [\n      {\n        availabilityZones: [\n          1\n          2\n          3\n        ]\n        diagnosticSettings: [\n          {\n            eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n            eventHubName: '<eventHubName>'\n            metricCategories: [\n              {\n                category: 'AllMetrics'\n              }\n            ]\n            name: 'customSetting'\n            storageAccountResourceId: '<storageAccountResourceId>'\n            workspaceResourceId: '<workspaceResourceId>'\n          }\n        ]\n        name: 'nngwaf001-pip'\n        skuTier: 'Regional'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module natGateway 'br/public:avm/res/network/nat-gateway:2.0' = {\n  name: 'natGatewayDeployment'\n  params: {\n    // Required parameters\n    availabilityZone: 1\n    name: 'nngwaf001'\n    // Non-required parameters\n    publicIPAddresses: [\n      {\n        availabilityZones: [\n          1\n          2\n          3\n        ]\n        diagnosticSettings: [\n          {\n            eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n            eventHubName: '<eventHubName>'\n            metricCategories: [\n              {\n                category: 'AllMetrics'\n              }\n            ]\n            name: 'customSetting'\n            storageAccountResourceId: '<storageAccountResourceId>'\n            workspaceResourceId: '<workspaceResourceId>'\n          }\n        ]\n        name: 'nngwaf001-pip'\n        skuTier: 'Regional'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_network_network-interface_example_1", "source": "avm/res/network/network-interface/README.md", "content_to_embed": "Recommended AVM Module for Network Interface: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Network/networkInterfaces\nModule ID: br/public:avm/res/network/network-interface:0.5\nParameters:\nparams: {\n    // Required parameters\n    ipConfigurations: [\n      {\n        name: 'ipconfig01'\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    name: 'nnimin001'\n  }", "bicep": "module networkInterface 'br/public:avm/res/network/network-interface:0.5' = {\n  name: 'networkInterfaceDeployment'\n  params: {\n    // Required parameters\n    ipConfigurations: [\n      {\n        name: 'ipconfig01'\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    name: 'nnimin001'\n  }\n}"}
{"id": "avm_res_network_network-interface_example_2", "source": "avm/res/network/network-interface/README.md", "content_to_embed": "Recommended AVM Module for Network Interface: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Network/networkInterfaces\nModule ID: br/public:avm/res/network/network-interface:0.5\nParameters:\nparams: {\n    // Required parameters\n    ipConfigurations: [\n      {\n        applicationSecurityGroups: [\n          {\n            id: '<id>'\n          }\n        ]\n        loadBalancerBackendAddressPools: [\n          {\n            id: '<id>'\n          }\n        ]\n        name: 'myIpconfig01'\n        subnetResourceId: '<subnetResourceId>'\n      }\n      {\n        applicationSecurityGroups: [\n          {\n            id: '<id>'\n          }\n        ]\n        publicIPAddressResourceId: '<publicIPAddressResourceId>'\n        subnetResourceId: '<subnetResourceId>'\n      }\n      {\n        name: 'myIpV6Config'\n        privateIPAddressVersion: 'IPv6'\n        publicIPAddressResourceId: '<publicIPAddressResourceId>'\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    name: 'nnimax001'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    roleAssignments: [\n      {\n        name: '026b830f-441f-469a-8cf3-c3ea9f5bcfe1'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module networkInterface 'br/public:avm/res/network/network-interface:0.5' = {\n  name: 'networkInterfaceDeployment'\n  params: {\n    // Required parameters\n    ipConfigurations: [\n      {\n        applicationSecurityGroups: [\n          {\n            id: '<id>'\n          }\n        ]\n        loadBalancerBackendAddressPools: [\n          {\n            id: '<id>'\n          }\n        ]\n        name: 'myIpconfig01'\n        subnetResourceId: '<subnetResourceId>'\n      }\n      {\n        applicationSecurityGroups: [\n          {\n            id: '<id>'\n          }\n        ]\n        publicIPAddressResourceId: '<publicIPAddressResourceId>'\n        subnetResourceId: '<subnetResourceId>'\n      }\n      {\n        name: 'myIpV6Config'\n        privateIPAddressVersion: 'IPv6'\n        publicIPAddressResourceId: '<publicIPAddressResourceId>'\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    name: 'nnimax001'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    roleAssignments: [\n      {\n        name: '026b830f-441f-469a-8cf3-c3ea9f5bcfe1'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_network_network-interface_example_3", "source": "avm/res/network/network-interface/README.md", "content_to_embed": "Recommended AVM Module for Network Interface: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Well-Architected Framework.\nResource Type Path: Microsoft.Network/networkInterfaces\nModule ID: br/public:avm/res/network/network-interface:0.5\nParameters:\nparams: {\n    // Required parameters\n    ipConfigurations: [\n      {\n        applicationSecurityGroups: [\n          {\n            id: '<id>'\n          }\n        ]\n        loadBalancerBackendAddressPools: [\n          {\n            id: '<id>'\n          }\n        ]\n        name: 'ipconfig01'\n        subnetResourceId: '<subnetResourceId>'\n      }\n      {\n        applicationSecurityGroups: [\n          {\n            id: '<id>'\n          }\n        ]\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    name: 'nniwaf001'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module networkInterface 'br/public:avm/res/network/network-interface:0.5' = {\n  name: 'networkInterfaceDeployment'\n  params: {\n    // Required parameters\n    ipConfigurations: [\n      {\n        applicationSecurityGroups: [\n          {\n            id: '<id>'\n          }\n        ]\n        loadBalancerBackendAddressPools: [\n          {\n            id: '<id>'\n          }\n        ]\n        name: 'ipconfig01'\n        subnetResourceId: '<subnetResourceId>'\n      }\n      {\n        applicationSecurityGroups: [\n          {\n            id: '<id>'\n          }\n        ]\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    name: 'nniwaf001'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_network_network-manager_example_1", "source": "avm/res/network/network-manager/README.md", "content_to_embed": "Recommended AVM Module for Network Managers: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Network/networkManagers\nModule ID: br/public:avm/res/network/network-manager:0.5\nParameters:\nparams: {\n    // Required parameters\n    name: 'nnmmin001'\n    networkManagerScopes: {\n      subscriptions: [\n        '<id>'\n      ]\n    }\n  }", "bicep": "module networkManager 'br/public:avm/res/network/network-manager:0.5' = {\n  name: 'networkManagerDeployment'\n  params: {\n    // Required parameters\n    name: 'nnmmin001'\n    networkManagerScopes: {\n      subscriptions: [\n        '<id>'\n      ]\n    }\n  }\n}"}
{"id": "avm_res_network_network-manager_example_2", "source": "avm/res/network/network-manager/README.md", "content_to_embed": "Recommended AVM Module for Network Managers: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Network/networkManagers\nModule ID: br/public:avm/res/network/network-manager:0.5\nParameters:\nparams: {\n    // Required parameters\n    name: '<name>'\n    networkManagerScopes: {\n      managementGroups: [\n        '/providers/Microsoft.Management/managementGroups/#_managementGroupId_#'\n      ]\n    }\n    // Non-required parameters\n    connectivityConfigurations: [\n      {\n        appliesToGroups: [\n          {\n            groupConnectivity: 'None'\n            isGlobal: false\n            networkGroupResourceId: '<networkGroupResourceId>'\n            useHubGateway: false\n          }\n        ]\n        connectivityTopology: 'HubAndSpoke'\n        deleteExistingPeering: true\n        description: 'hubSpokeConnectivity description'\n        hubs: [\n          {\n            resourceId: '<resourceId>'\n            resourceType: 'Microsoft.Network/virtualNetworks'\n          }\n        ]\n        isGlobal: false\n        name: 'hubSpokeConnectivity'\n      }\n      {\n        appliesToGroups: [\n          {\n            groupConnectivity: 'DirectlyConnected'\n            isGlobal: true\n            networkGroupResourceId: '<networkGroupResourceId>'\n            useHubGateway: false\n          }\n        ]\n        connectivityTopology: 'Mesh'\n        deleteExistingPeering: true\n        description: 'MeshConnectivity description'\n        isGlobal: true\n        name: 'MeshConnectivity-1'\n      }\n      {\n        appliesToGroups: [\n          {\n            groupConnectivity: 'DirectlyConnected'\n            isGlobal: false\n            networkGroupResourceId: '<networkGroupResourceId>'\n            useHubGateway: false\n          }\n        ]\n        connectivityTopology: 'Mesh'\n        isGlobal: false\n        name: 'MeshConnectivity-2'\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    networkGroups: [\n      {\n        description: 'network-group-spokes description'\n        memberType: 'VirtualNetwork'\n        name: 'network-group-spokes-1'\n        staticMembers: [\n          {\n            name: 'virtualNetworkSpoke1'\n            resourceId: '<resourceId>'\n          }\n          {\n            name: 'virtualNetworkSpoke2'\n            resourceId: '<resourceId>'\n          }\n        ]\n      }\n      {\n        memberType: 'VirtualNetwork'\n        name: 'network-group-spokes-2'\n        staticMembers: [\n          {\n            name: 'default'\n            resourceId: '<resourceId>'\n          }\n        ]\n      }\n      {\n        memberType: 'VirtualNetwork'\n        name: 'network-group-spokes-3'\n      }\n      {\n        memberType: 'Subnet'\n        name: 'network-groups-subnets-1'\n        staticMembers: [\n          {\n            name: 'virtualNetworkSpoke1-defaultSubnet'\n            resourceId: '<resourceId>'\n          }\n          {\n            name: 'virtualNetworkSpoke2-defaultSubnet'\n            resourceId: '<resourceId>'\n          }\n        ]\n      }\n    ]\n    networkManagerScopeAccesses: [\n      'Connectivity'\n      'Routing'\n      'SecurityAdmin'\n    ]\n    roleAssignments: [\n      {\n        name: 'e8472331-308c-4c77-aa31-017279d8e5b6'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    routingConfigurations: [\n      {\n        description: 'description of the routing config'\n        name: 'test-routing-config-1'\n      }\n      {\n        name: 'test-routing-config-2'\n        ruleCollections: [\n          {\n            appliesTo: [\n              {\n                networkGroupResourceId: '<networkGroupResourceId>'\n              }\n            ]\n            disableBgpRoutePropagation: false\n            name: 'test-routing-rule-collection-1-subnet'\n            rules: [\n              {\n                destination: {\n                  destinationAddress: 'AzureCloud'\n                  type: 'ServiceTag'\n                }\n                name: 'test-routing-rule-1'\n                nextHop: {\n                  nextHopType: 'VnetLocal'\n                }\n              }\n              {\n                destination: {\n                  destinationAddress: '10.10.10.10/32'\n                  type: 'AddressPrefix'\n                }\n                name: 'test-routing-rule-2'\n                nextHop: {\n                  nextHopAddress: '192.168.1.1'\n                  nextHopType: 'VirtualAppliance'\n                }\n              }\n            ]\n          }\n        ]\n      }\n      {\n        name: 'test-routing-config-3'\n        ruleCollections: [\n          {\n            appliesTo: [\n              {\n                networkGroupResourceId: '<networkGroupResourceId>'\n              }\n            ]\n            name: 'test-routing-rule-collection-2-virtual-network'\n          }\n        ]\n      }\n    ]\n    scopeConnections: [\n      {\n        description: 'description of the scope connection'\n        name: 'scope-connection-test'\n        resourceId: '<resourceId>'\n        tenantId: '<tenantId>'\n      }\n    ]\n    securityAdminConfigurations: [\n      {\n        applyOnNetworkIntentPolicyBasedServices: [\n          'AllowRulesOnly'\n        ]\n        description: 'description of the security admin config'\n        name: 'test-security-admin-config-1'\n        ruleCollections: [\n          {\n            appliesToGroups: [\n              {\n                networkGroupResourceId: '<networkGroupResourceId>'\n              }\n            ]\n            description: 'test-rule-collection-description'\n            name: 'test-rule-collection-1'\n            rules: [\n              {\n                access: 'Allow'\n                description: 'test-inbound-allow-rule-1-description'\n                direction: 'Inbound'\n                name: 'test-inbound-allow-rule-1'\n                priority: 150\n                protocol: 'Tcp'\n              }\n              {\n                access: 'Deny'\n                description: 'test-outbound-deny-rule-2-description'\n                direction: 'Outbound'\n                name: 'test-outbound-deny-rule-2'\n                priority: 200\n                protocol: 'Tcp'\n                sourcePortRanges: [\n                  '442-445'\n                  '80'\n                ]\n                sources: [\n                  {\n                    addressPrefix: 'AppService.WestEurope'\n                    addressPrefixType: 'ServiceTag'\n                  }\n                ]\n              }\n            ]\n          }\n          {\n            appliesToGroups: [\n              {\n                networkGroupResourceId: '<networkGroupResourceId>'\n              }\n              {\n                networkGroupResourceId: '<networkGroupResourceId>'\n              }\n            ]\n            name: 'test-rule-collection-2'\n            rules: [\n              {\n                access: 'Allow'\n                destinationPortRanges: [\n                  '442-445'\n                  '80'\n                ]\n                destinations: [\n                  {\n                    addressPrefix: '192.168.20.20'\n                    addressPrefixType: 'IPPrefix'\n                  }\n                ]\n                direction: 'Inbound'\n                name: 'test-inbound-allow-rule-3'\n                priority: 250\n                protocol: 'Tcp'\n              }\n              {\n                access: 'Allow'\n                description: 'test-inbound-allow-rule-4-description'\n                destinations: [\n                  {\n                    addressPrefix: '172.16.0.0/24'\n                    addressPrefixType: 'IPPrefix'\n                  }\n                  {\n                    addressPrefix: '172.16.1.0/24'\n                    addressPrefixType: 'IPPrefix'\n                  }\n                ]\n                direction: 'Inbound'\n                name: 'test-inbound-allow-rule-4'\n                priority: 260\n                protocol: 'Tcp'\n                sources: [\n                  {\n                    addressPrefix: '10.0.0.0/24'\n                    addressPrefixType: 'IPPrefix'\n                  }\n                  {\n                    addressPrefix: '100.100.100.100'\n                    addressPrefixType: 'IPPrefix'\n                  }\n                ]\n              }\n            ]\n          }\n        ]\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module networkManager 'br/public:avm/res/network/network-manager:0.5' = {\n  name: 'networkManagerDeployment'\n  params: {\n    // Required parameters\n    name: '<name>'\n    networkManagerScopes: {\n      managementGroups: [\n        '/providers/Microsoft.Management/managementGroups/#_managementGroupId_#'\n      ]\n    }\n    // Non-required parameters\n    connectivityConfigurations: [\n      {\n        appliesToGroups: [\n          {\n            groupConnectivity: 'None'\n            isGlobal: false\n            networkGroupResourceId: '<networkGroupResourceId>'\n            useHubGateway: false\n          }\n        ]\n        connectivityTopology: 'HubAndSpoke'\n        deleteExistingPeering: true\n        description: 'hubSpokeConnectivity description'\n        hubs: [\n          {\n            resourceId: '<resourceId>'\n            resourceType: 'Microsoft.Network/virtualNetworks'\n          }\n        ]\n        isGlobal: false\n        name: 'hubSpokeConnectivity'\n      }\n      {\n        appliesToGroups: [\n          {\n            groupConnectivity: 'DirectlyConnected'\n            isGlobal: true\n            networkGroupResourceId: '<networkGroupResourceId>'\n            useHubGateway: false\n          }\n        ]\n        connectivityTopology: 'Mesh'\n        deleteExistingPeering: true\n        description: 'MeshConnectivity description'\n        isGlobal: true\n        name: 'MeshConnectivity-1'\n      }\n      {\n        appliesToGroups: [\n          {\n            groupConnectivity: 'DirectlyConnected'\n            isGlobal: false\n            networkGroupResourceId: '<networkGroupResourceId>'\n            useHubGateway: false\n          }\n        ]\n        connectivityTopology: 'Mesh'\n        isGlobal: false\n        name: 'MeshConnectivity-2'\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    networkGroups: [\n      {\n        description: 'network-group-spokes description'\n        memberType: 'VirtualNetwork'\n        name: 'network-group-spokes-1'\n        staticMembers: [\n          {\n            name: 'virtualNetworkSpoke1'\n            resourceId: '<resourceId>'\n          }\n          {\n            name: 'virtualNetworkSpoke2'\n            resourceId: '<resourceId>'\n          }\n        ]\n      }\n      {\n        memberType: 'VirtualNetwork'\n        name: 'network-group-spokes-2'\n        staticMembers: [\n          {\n            name: 'default'\n            resourceId: '<resourceId>'\n          }\n        ]\n      }\n      {\n        memberType: 'VirtualNetwork'\n        name: 'network-group-spokes-3'\n      }\n      {\n        memberType: 'Subnet'\n        name: 'network-groups-subnets-1'\n        staticMembers: [\n          {\n            name: 'virtualNetworkSpoke1-defaultSubnet'\n            resourceId: '<resourceId>'\n          }\n          {\n            name: 'virtualNetworkSpoke2-defaultSubnet'\n            resourceId: '<resourceId>'\n          }\n        ]\n      }\n    ]\n    networkManagerScopeAccesses: [\n      'Connectivity'\n      'Routing'\n      'SecurityAdmin'\n    ]\n    roleAssignments: [\n      {\n        name: 'e8472331-308c-4c77-aa31-017279d8e5b6'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    routingConfigurations: [\n      {\n        description: 'description of the routing config'\n        name: 'test-routing-config-1'\n      }\n      {\n        name: 'test-routing-config-2'\n        ruleCollections: [\n          {\n            appliesTo: [\n              {\n                networkGroupResourceId: '<networkGroupResourceId>'\n              }\n            ]\n            disableBgpRoutePropagation: false\n            name: 'test-routing-rule-collection-1-subnet'\n            rules: [\n              {\n                destination: {\n                  destinationAddress: 'AzureCloud'\n                  type: 'ServiceTag'\n                }\n                name: 'test-routing-rule-1'\n                nextHop: {\n                  nextHopType: 'VnetLocal'\n                }\n              }\n              {\n                destination: {\n                  destinationAddress: '10.10.10.10/32'\n                  type: 'AddressPrefix'\n                }\n                name: 'test-routing-rule-2'\n                nextHop: {\n                  nextHopAddress: '192.168.1.1'\n                  nextHopType: 'VirtualAppliance'\n                }\n              }\n            ]\n          }\n        ]\n      }\n      {\n        name: 'test-routing-config-3'\n        ruleCollections: [\n          {\n            appliesTo: [\n              {\n                networkGroupResourceId: '<networkGroupResourceId>'\n              }\n            ]\n            name: 'test-routing-rule-collection-2-virtual-network'\n          }\n        ]\n      }\n    ]\n    scopeConnections: [\n      {\n        description: 'description of the scope connection'\n        name: 'scope-connection-test'\n        resourceId: '<resourceId>'\n        tenantId: '<tenantId>'\n      }\n    ]\n    securityAdminConfigurations: [\n      {\n        applyOnNetworkIntentPolicyBasedServices: [\n          'AllowRulesOnly'\n        ]\n        description: 'description of the security admin config'\n        name: 'test-security-admin-config-1'\n        ruleCollections: [\n          {\n            appliesToGroups: [\n              {\n                networkGroupResourceId: '<networkGroupResourceId>'\n              }\n            ]\n            description: 'test-rule-collection-description'\n            name: 'test-rule-collection-1'\n            rules: [\n              {\n                access: 'Allow'\n                description: 'test-inbound-allow-rule-1-description'\n                direction: 'Inbound'\n                name: 'test-inbound-allow-rule-1'\n                priority: 150\n                protocol: 'Tcp'\n              }\n              {\n                access: 'Deny'\n                description: 'test-outbound-deny-rule-2-description'\n                direction: 'Outbound'\n                name: 'test-outbound-deny-rule-2'\n                priority: 200\n                protocol: 'Tcp'\n                sourcePortRanges: [\n                  '442-445'\n                  '80'\n                ]\n                sources: [\n                  {\n                    addressPrefix: 'AppService.WestEurope'\n                    addressPrefixType: 'ServiceTag'\n                  }\n                ]\n              }\n            ]\n          }\n          {\n            appliesToGroups: [\n              {\n                networkGroupResourceId: '<networkGroupResourceId>'\n              }\n              {\n                networkGroupResourceId: '<networkGroupResourceId>'\n              }\n            ]\n            name: 'test-rule-collection-2'\n            rules: [\n              {\n                access: 'Allow'\n                destinationPortRanges: [\n                  '442-445'\n                  '80'\n                ]\n                destinations: [\n                  {\n                    addressPrefix: '192.168.20.20'\n                    addressPrefixType: 'IPPrefix'\n                  }\n                ]\n                direction: 'Inbound'\n                name: 'test-inbound-allow-rule-3'\n                priority: 250\n                protocol: 'Tcp'\n              }\n              {\n                access: 'Allow'\n                description: 'test-inbound-allow-rule-4-description'\n                destinations: [\n                  {\n                    addressPrefix: '172.16.0.0/24'\n                    addressPrefixType: 'IPPrefix'\n                  }\n                  {\n                    addressPrefix: '172.16.1.0/24'\n                    addressPrefixType: 'IPPrefix'\n                  }\n                ]\n                direction: 'Inbound'\n                name: 'test-inbound-allow-rule-4'\n                priority: 260\n                protocol: 'Tcp'\n                sources: [\n                  {\n                    addressPrefix: '10.0.0.0/24'\n                    addressPrefixType: 'IPPrefix'\n                  }\n                  {\n                    addressPrefix: '100.100.100.100'\n                    addressPrefixType: 'IPPrefix'\n                  }\n                ]\n              }\n            ]\n          }\n        ]\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_network_network-manager_example_3", "source": "avm/res/network/network-manager/README.md", "content_to_embed": "Recommended AVM Module for Network Managers: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Network/networkManagers\nModule ID: br/public:avm/res/network/network-manager:0.5\nParameters:\nparams: {\n    // Required parameters\n    name: 'nnmwaf001'\n    networkManagerScopes: {\n      subscriptions: [\n        '<id>'\n      ]\n    }\n    // Non-required parameters\n    networkManagerScopeAccesses: [\n      'SecurityAdmin'\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module networkManager 'br/public:avm/res/network/network-manager:0.5' = {\n  name: 'networkManagerDeployment'\n  params: {\n    // Required parameters\n    name: 'nnmwaf001'\n    networkManagerScopes: {\n      subscriptions: [\n        '<id>'\n      ]\n    }\n    // Non-required parameters\n    networkManagerScopeAccesses: [\n      'SecurityAdmin'\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_network_network-security-group_example_1", "source": "avm/res/network/network-security-group/README.md", "content_to_embed": "Recommended AVM Module for Network Security Groups: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Network/networkSecurityGroups\nModule ID: br/public:avm/res/network/network-security-group:0.5\nParameters:\nparams: {\n    name: 'nnsgmin001'\n  }", "bicep": "module networkSecurityGroup 'br/public:avm/res/network/network-security-group:0.5' = {\n  name: 'networkSecurityGroupDeployment'\n  params: {\n    name: 'nnsgmin001'\n  }\n}"}
{"id": "avm_res_network_network-security-group_example_2", "source": "avm/res/network/network-security-group/README.md", "content_to_embed": "Recommended AVM Module for Network Security Groups: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Network/networkSecurityGroups\nModule ID: br/public:avm/res/network/network-security-group:0.5\nParameters:\nparams: {\n    // Required parameters\n    name: 'nnsgmax001'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    roleAssignments: [\n      {\n        name: 'b6d38ee8-4058-42b1-af6a-b8d585cf61ef'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    securityRules: [\n      {\n        name: 'Specific'\n        properties: {\n          access: 'Allow'\n          description: 'Tests specific IPs and ports'\n          destinationAddressPrefix: '*'\n          destinationPortRange: '8080'\n          direction: 'Inbound'\n          priority: 100\n          protocol: '*'\n          sourceAddressPrefix: '*'\n          sourcePortRange: '*'\n        }\n      }\n      {\n        name: 'Ranges'\n        properties: {\n          access: 'Allow'\n          description: 'Tests Ranges'\n          destinationAddressPrefixes: [\n            '10.2.0.0/16'\n            '10.3.0.0/16'\n          ]\n          destinationPortRanges: [\n            '90'\n            '91'\n          ]\n          direction: 'Inbound'\n          priority: 101\n          protocol: '*'\n          sourceAddressPrefixes: [\n            '10.0.0.0/16'\n            '10.1.0.0/16'\n          ]\n          sourcePortRanges: [\n            '80'\n            '81'\n          ]\n        }\n      }\n      {\n        name: 'Port_8082'\n        properties: {\n          access: 'Allow'\n          description: 'Allow inbound access on TCP 8082'\n          destinationApplicationSecurityGroupResourceIds: [\n            '<applicationSecurityGroupResourceId>'\n          ]\n          destinationPortRange: '8082'\n          direction: 'Inbound'\n          priority: 102\n          protocol: '*'\n          sourceApplicationSecurityGroupResourceIds: [\n            '<applicationSecurityGroupResourceId>'\n          ]\n          sourcePortRange: '*'\n        }\n      }\n      {\n        name: 'Deny-All-Inbound'\n        properties: {\n          access: 'Deny'\n          destinationAddressPrefix: '*'\n          destinationPortRange: '*'\n          direction: 'Inbound'\n          priority: 4095\n          protocol: '*'\n          sourceAddressPrefix: '*'\n          sourcePortRange: '*'\n        }\n      }\n      {\n        name: 'Allow-AzureCloud-Tcp'\n        properties: {\n          access: 'Allow'\n          destinationAddressPrefix: 'AzureCloud'\n          destinationPortRange: '443'\n          direction: 'Outbound'\n          priority: 250\n          protocol: 'Tcp'\n          sourceAddressPrefixes: [\n            '10.10.10.0/24'\n            '192.168.1.0/24'\n          ]\n          sourcePortRange: '*'\n        }\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module networkSecurityGroup 'br/public:avm/res/network/network-security-group:0.5' = {\n  name: 'networkSecurityGroupDeployment'\n  params: {\n    // Required parameters\n    name: 'nnsgmax001'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    roleAssignments: [\n      {\n        name: 'b6d38ee8-4058-42b1-af6a-b8d585cf61ef'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    securityRules: [\n      {\n        name: 'Specific'\n        properties: {\n          access: 'Allow'\n          description: 'Tests specific IPs and ports'\n          destinationAddressPrefix: '*'\n          destinationPortRange: '8080'\n          direction: 'Inbound'\n          priority: 100\n          protocol: '*'\n          sourceAddressPrefix: '*'\n          sourcePortRange: '*'\n        }\n      }\n      {\n        name: 'Ranges'\n        properties: {\n          access: 'Allow'\n          description: 'Tests Ranges'\n          destinationAddressPrefixes: [\n            '10.2.0.0/16'\n            '10.3.0.0/16'\n          ]\n          destinationPortRanges: [\n            '90'\n            '91'\n          ]\n          direction: 'Inbound'\n          priority: 101\n          protocol: '*'\n          sourceAddressPrefixes: [\n            '10.0.0.0/16'\n            '10.1.0.0/16'\n          ]\n          sourcePortRanges: [\n            '80'\n            '81'\n          ]\n        }\n      }\n      {\n        name: 'Port_8082'\n        properties: {\n          access: 'Allow'\n          description: 'Allow inbound access on TCP 8082'\n          destinationApplicationSecurityGroupResourceIds: [\n            '<applicationSecurityGroupResourceId>'\n          ]\n          destinationPortRange: '8082'\n          direction: 'Inbound'\n          priority: 102\n          protocol: '*'\n          sourceApplicationSecurityGroupResourceIds: [\n            '<applicationSecurityGroupResourceId>'\n          ]\n          sourcePortRange: '*'\n        }\n      }\n      {\n        name: 'Deny-All-Inbound'\n        properties: {\n          access: 'Deny'\n          destinationAddressPrefix: '*'\n          destinationPortRange: '*'\n          direction: 'Inbound'\n          priority: 4095\n          protocol: '*'\n          sourceAddressPrefix: '*'\n          sourcePortRange: '*'\n        }\n      }\n      {\n        name: 'Allow-AzureCloud-Tcp'\n        properties: {\n          access: 'Allow'\n          destinationAddressPrefix: 'AzureCloud'\n          destinationPortRange: '443'\n          direction: 'Outbound'\n          priority: 250\n          protocol: 'Tcp'\n          sourceAddressPrefixes: [\n            '10.10.10.0/24'\n            '192.168.1.0/24'\n          ]\n          sourcePortRange: '*'\n        }\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_network_network-security-group_example_3", "source": "avm/res/network/network-security-group/README.md", "content_to_embed": "Recommended AVM Module for Network Security Groups: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Network/networkSecurityGroups\nModule ID: br/public:avm/res/network/network-security-group:0.5\nParameters:\nparams: {\n    // Required parameters\n    name: 'nnsgwaf001'\n    // Non-required parameters\n    securityRules: [\n      {\n        name: 'deny-hop-outbound'\n        properties: {\n          access: 'Deny'\n          destinationAddressPrefix: '*'\n          destinationPortRanges: [\n            '22'\n            '3389'\n          ]\n          direction: 'Outbound'\n          priority: 200\n          protocol: 'Tcp'\n          sourceAddressPrefix: 'VirtualNetwork'\n          sourcePortRange: '*'\n        }\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module networkSecurityGroup 'br/public:avm/res/network/network-security-group:0.5' = {\n  name: 'networkSecurityGroupDeployment'\n  params: {\n    // Required parameters\n    name: 'nnsgwaf001'\n    // Non-required parameters\n    securityRules: [\n      {\n        name: 'deny-hop-outbound'\n        properties: {\n          access: 'Deny'\n          destinationAddressPrefix: '*'\n          destinationPortRanges: [\n            '22'\n            '3389'\n          ]\n          direction: 'Outbound'\n          priority: 200\n          protocol: 'Tcp'\n          sourceAddressPrefix: 'VirtualNetwork'\n          sourcePortRange: '*'\n        }\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_network_network-security-perimeter_example_1", "source": "avm/res/network/network-security-perimeter/README.md", "content_to_embed": "Recommended AVM Module for Network Security Perimeter: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Network/networkSecurityPerimeters\nModule ID: br/public:avm/res/network/network-security-perimeter:0.1\nParameters:\nparams: {\n    // Required parameters\n    name: 'nnspmin001'\n    // Non-required parameters\n    location: '<location>'\n  }", "bicep": "module networkSecurityPerimeter 'br/public:avm/res/network/network-security-perimeter:0.1' = {\n  name: 'networkSecurityPerimeterDeployment'\n  params: {\n    // Required parameters\n    name: 'nnspmin001'\n    // Non-required parameters\n    location: '<location>'\n  }\n}"}
{"id": "avm_res_network_network-security-perimeter_example_2", "source": "avm/res/network/network-security-perimeter/README.md", "content_to_embed": "Recommended AVM Module for Network Security Perimeter: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Network/networkSecurityPerimeters\nModule ID: br/public:avm/res/network/network-security-perimeter:0.1\nParameters:\nparams: {\n    // Required parameters\n    name: 'nnspmax001'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    profiles: [\n      {\n        accessRules: [\n          {\n            direction: 'Outbound'\n            fullyQualifiedDomainNames: [\n              'www.contoso.com'\n            ]\n            name: 'rule-outbound-01'\n          }\n          {\n            addressPrefixes: [\n              '198.168.1.0/24'\n            ]\n            direction: 'Inbound'\n            name: 'rule-inbound-01'\n          }\n        ]\n        name: 'profile-01'\n      }\n    ]\n    resourceAssociations: [\n      {\n        accessMode: 'Learning'\n        privateLinkResource: '<privateLinkResource>'\n        profile: 'profile-01'\n      }\n    ]\n    roleAssignments: [\n      {\n        name: 'b50cc72e-a2f2-4c4c-a3ad-86a43feb6ab8'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module networkSecurityPerimeter 'br/public:avm/res/network/network-security-perimeter:0.1' = {\n  name: 'networkSecurityPerimeterDeployment'\n  params: {\n    // Required parameters\n    name: 'nnspmax001'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    profiles: [\n      {\n        accessRules: [\n          {\n            direction: 'Outbound'\n            fullyQualifiedDomainNames: [\n              'www.contoso.com'\n            ]\n            name: 'rule-outbound-01'\n          }\n          {\n            addressPrefixes: [\n              '198.168.1.0/24'\n            ]\n            direction: 'Inbound'\n            name: 'rule-inbound-01'\n          }\n        ]\n        name: 'profile-01'\n      }\n    ]\n    resourceAssociations: [\n      {\n        accessMode: 'Learning'\n        privateLinkResource: '<privateLinkResource>'\n        profile: 'profile-01'\n      }\n    ]\n    roleAssignments: [\n      {\n        name: 'b50cc72e-a2f2-4c4c-a3ad-86a43feb6ab8'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_network_network-security-perimeter_example_3", "source": "avm/res/network/network-security-perimeter/README.md", "content_to_embed": "Recommended AVM Module for Network Security Perimeter: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Network/networkSecurityPerimeters\nModule ID: br/public:avm/res/network/network-security-perimeter:0.1\nParameters:\nparams: {\n    // Required parameters\n    name: 'nnspwaf001'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    location: '<location>'\n    profiles: [\n      {\n        accessRules: [\n          {\n            direction: 'Outbound'\n            fullyQualifiedDomainNames: [\n              'www.contoso.com'\n            ]\n            name: 'rule-outbound-01'\n          }\n          {\n            addressPrefixes: [\n              '198.168.1.0/24'\n            ]\n            direction: 'Inbound'\n            name: 'rule-inbound-01'\n          }\n        ]\n        name: 'profile-01'\n      }\n    ]\n    resourceAssociations: [\n      {\n        accessMode: 'Learning'\n        privateLinkResource: '<privateLinkResource>'\n        profile: 'profile-01'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module networkSecurityPerimeter 'br/public:avm/res/network/network-security-perimeter:0.1' = {\n  name: 'networkSecurityPerimeterDeployment'\n  params: {\n    // Required parameters\n    name: 'nnspwaf001'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    location: '<location>'\n    profiles: [\n      {\n        accessRules: [\n          {\n            direction: 'Outbound'\n            fullyQualifiedDomainNames: [\n              'www.contoso.com'\n            ]\n            name: 'rule-outbound-01'\n          }\n          {\n            addressPrefixes: [\n              '198.168.1.0/24'\n            ]\n            direction: 'Inbound'\n            name: 'rule-inbound-01'\n          }\n        ]\n        name: 'profile-01'\n      }\n    ]\n    resourceAssociations: [\n      {\n        accessMode: 'Learning'\n        privateLinkResource: '<privateLinkResource>'\n        profile: 'profile-01'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_network_network-watcher_example_1", "source": "avm/res/network/network-watcher/README.md", "content_to_embed": "Recommended AVM Module for Network Watchers: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Network/networkWatchers\nModule ID: br/public:avm/res/network/network-watcher:0.5\nParameters:\nparams: {\n\n  }", "bicep": "module networkWatcher 'br/public:avm/res/network/network-watcher:0.5' = {\n  name: 'networkWatcherDeployment'\n  params: {\n\n  }\n}"}
{"id": "avm_res_network_network-watcher_example_2", "source": "avm/res/network/network-watcher/README.md", "content_to_embed": "Recommended AVM Module for Network Watchers: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Network/networkWatchers\nModule ID: br/public:avm/res/network/network-watcher:0.5\nParameters:\nparams: {\n    connectionMonitors: [\n      {\n        endpoints: [\n          {\n            name: '<name>'\n            resourceId: '<resourceId>'\n            type: 'AzureVM'\n          }\n          {\n            address: 'www.bing.com'\n            name: 'Bing'\n            type: 'ExternalAddress'\n          }\n        ]\n        name: 'nnwmax-cm-001'\n        testConfigurations: [\n          {\n            httpConfiguration: {\n              method: 'Get'\n              port: 80\n              preferHTTPS: false\n              requestHeaders: []\n              validStatusCodeRanges: [\n                '200'\n              ]\n            }\n            name: 'HTTP Bing Test'\n            protocol: 'Http'\n            successThreshold: {\n              checksFailedPercent: 5\n              roundTripTimeMs: 100\n            }\n            testFrequencySec: 30\n          }\n        ]\n        testGroups: [\n          {\n            destinations: [\n              'Bing'\n            ]\n            disable: false\n            name: 'test-http-Bing'\n            sources: [\n              'subnet-001(<value>)'\n            ]\n            testConfigurations: [\n              'HTTP Bing Test'\n            ]\n          }\n        ]\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    flowLogs: [\n      {\n        enabled: false\n        storageResourceId: '<storageResourceId>'\n        targetResourceId: '<targetResourceId>'\n      }\n      {\n        formatVersion: 1\n        name: 'nnwmax-fl-001'\n        retentionInDays: 8\n        storageResourceId: '<storageResourceId>'\n        targetResourceId: '<targetResourceId>'\n        trafficAnalyticsInterval: 10\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    location: '<location>'\n    name: '<name>'\n    roleAssignments: [\n      {\n        name: 'e8e93fb7-f450-41d5-ae86-a32d34e72578'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module networkWatcher 'br/public:avm/res/network/network-watcher:0.5' = {\n  name: 'networkWatcherDeployment'\n  params: {\n    connectionMonitors: [\n      {\n        endpoints: [\n          {\n            name: '<name>'\n            resourceId: '<resourceId>'\n            type: 'AzureVM'\n          }\n          {\n            address: 'www.bing.com'\n            name: 'Bing'\n            type: 'ExternalAddress'\n          }\n        ]\n        name: 'nnwmax-cm-001'\n        testConfigurations: [\n          {\n            httpConfiguration: {\n              method: 'Get'\n              port: 80\n              preferHTTPS: false\n              requestHeaders: []\n              validStatusCodeRanges: [\n                '200'\n              ]\n            }\n            name: 'HTTP Bing Test'\n            protocol: 'Http'\n            successThreshold: {\n              checksFailedPercent: 5\n              roundTripTimeMs: 100\n            }\n            testFrequencySec: 30\n          }\n        ]\n        testGroups: [\n          {\n            destinations: [\n              'Bing'\n            ]\n            disable: false\n            name: 'test-http-Bing'\n            sources: [\n              'subnet-001(<value>)'\n            ]\n            testConfigurations: [\n              'HTTP Bing Test'\n            ]\n          }\n        ]\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    flowLogs: [\n      {\n        enabled: false\n        storageResourceId: '<storageResourceId>'\n        targetResourceId: '<targetResourceId>'\n      }\n      {\n        formatVersion: 1\n        name: 'nnwmax-fl-001'\n        retentionInDays: 8\n        storageResourceId: '<storageResourceId>'\n        targetResourceId: '<targetResourceId>'\n        trafficAnalyticsInterval: 10\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    location: '<location>'\n    name: '<name>'\n    roleAssignments: [\n      {\n        name: 'e8e93fb7-f450-41d5-ae86-a32d34e72578'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_network_network-watcher_example_3", "source": "avm/res/network/network-watcher/README.md", "content_to_embed": "Recommended AVM Module for Network Watchers: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Network/networkWatchers\nModule ID: br/public:avm/res/network/network-watcher:0.5\nParameters:\nparams: {\n    connectionMonitors: [\n      {\n        endpoints: [\n          {\n            name: '<name>'\n            resourceId: '<resourceId>'\n            type: 'AzureVM'\n          }\n          {\n            address: 'www.bing.com'\n            name: 'Bing'\n            type: 'ExternalAddress'\n          }\n        ]\n        name: 'nnwwaf-cm-001'\n        testConfigurations: [\n          {\n            httpConfiguration: {\n              method: 'Get'\n              port: 80\n              preferHTTPS: false\n              requestHeaders: []\n              validStatusCodeRanges: [\n                '200'\n              ]\n            }\n            name: 'HTTP Bing Test'\n            protocol: 'Http'\n            successThreshold: {\n              checksFailedPercent: 5\n              roundTripTimeMs: 100\n            }\n            testFrequencySec: 30\n          }\n        ]\n        testGroups: [\n          {\n            destinations: [\n              'Bing'\n            ]\n            disable: false\n            name: 'test-http-Bing'\n            sources: [\n              'subnet-001(<value>)'\n            ]\n            testConfigurations: [\n              'HTTP Bing Test'\n            ]\n          }\n        ]\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    flowLogs: [\n      {\n        enabled: false\n        storageResourceId: '<storageResourceId>'\n        targetResourceId: '<targetResourceId>'\n      }\n      {\n        formatVersion: 1\n        name: 'nnwwaf-fl-001'\n        retentionInDays: 8\n        storageResourceId: '<storageResourceId>'\n        targetResourceId: '<targetResourceId>'\n        trafficAnalyticsInterval: 10\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    name: '<name>'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module networkWatcher 'br/public:avm/res/network/network-watcher:0.5' = {\n  name: 'networkWatcherDeployment'\n  params: {\n    connectionMonitors: [\n      {\n        endpoints: [\n          {\n            name: '<name>'\n            resourceId: '<resourceId>'\n            type: 'AzureVM'\n          }\n          {\n            address: 'www.bing.com'\n            name: 'Bing'\n            type: 'ExternalAddress'\n          }\n        ]\n        name: 'nnwwaf-cm-001'\n        testConfigurations: [\n          {\n            httpConfiguration: {\n              method: 'Get'\n              port: 80\n              preferHTTPS: false\n              requestHeaders: []\n              validStatusCodeRanges: [\n                '200'\n              ]\n            }\n            name: 'HTTP Bing Test'\n            protocol: 'Http'\n            successThreshold: {\n              checksFailedPercent: 5\n              roundTripTimeMs: 100\n            }\n            testFrequencySec: 30\n          }\n        ]\n        testGroups: [\n          {\n            destinations: [\n              'Bing'\n            ]\n            disable: false\n            name: 'test-http-Bing'\n            sources: [\n              'subnet-001(<value>)'\n            ]\n            testConfigurations: [\n              'HTTP Bing Test'\n            ]\n          }\n        ]\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    flowLogs: [\n      {\n        enabled: false\n        storageResourceId: '<storageResourceId>'\n        targetResourceId: '<targetResourceId>'\n      }\n      {\n        formatVersion: 1\n        name: 'nnwwaf-fl-001'\n        retentionInDays: 8\n        storageResourceId: '<storageResourceId>'\n        targetResourceId: '<targetResourceId>'\n        trafficAnalyticsInterval: 10\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    name: '<name>'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_network_p2s-vpn-gateway_example_1", "source": "avm/res/network/p2s-vpn-gateway/README.md", "content_to_embed": "Recommended AVM Module for P2S VPN Gateway: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Network/p2svpnGateways\nModule ID: br/public:avm/res/network/p2s-vpn-gateway:0.1\nParameters:\nparams: {\n    // Required parameters\n    name: 'npvgminp2sVpnGw'\n    virtualHubResourceId: '<virtualHubResourceId>'\n    // Non-required parameters\n    associatedRouteTableName: 'defaultRouteTable'\n    p2SConnectionConfigurationsName: 'p2sConnectionConfig1'\n    vpnClientAddressPoolAddressPrefixes: [\n      '10.0.2.0/24'\n    ]\n    vpnServerConfigurationResourceId: '<vpnServerConfigurationResourceId>'\n  }", "bicep": "module p2sVpnGateway 'br/public:avm/res/network/p2s-vpn-gateway:0.1' = {\n  name: 'p2sVpnGatewayDeployment'\n  params: {\n    // Required parameters\n    name: 'npvgminp2sVpnGw'\n    virtualHubResourceId: '<virtualHubResourceId>'\n    // Non-required parameters\n    associatedRouteTableName: 'defaultRouteTable'\n    p2SConnectionConfigurationsName: 'p2sConnectionConfig1'\n    vpnClientAddressPoolAddressPrefixes: [\n      '10.0.2.0/24'\n    ]\n    vpnServerConfigurationResourceId: '<vpnServerConfigurationResourceId>'\n  }\n}"}
{"id": "avm_res_network_p2s-vpn-gateway_example_2", "source": "avm/res/network/p2s-vpn-gateway/README.md", "content_to_embed": "Recommended AVM Module for P2S VPN Gateway: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Network/p2svpnGateways\nModule ID: br/public:avm/res/network/p2s-vpn-gateway:0.1\nParameters:\nparams: {\n    // Required parameters\n    name: 'npvgmaxp2sVpnGw'\n    virtualHubResourceId: '<virtualHubResourceId>'\n    // Non-required parameters\n    associatedRouteTableName: 'noneRouteTable'\n    customDnsServers: [\n      '10.50.10.50'\n      '10.50.50.50'\n    ]\n    enableInternetSecurity: false\n    isRoutingPreferenceInternet: false\n    location: '<location>'\n    p2SConnectionConfigurationsName: 'p2sConnectionConfig'\n    propagatedLabelNames: '<propagatedLabelNames>'\n    propagatedRouteTableNames: [\n      '<hubRouteTableName>'\n    ]\n    vpnClientAddressPoolAddressPrefixes: [\n      '10.0.2.0/24'\n      '10.0.3.0/24'\n    ]\n    vpnGatewayScaleUnit: 5\n    vpnServerConfigurationResourceId: '<vpnServerConfigurationResourceId>'\n  }", "bicep": "module p2sVpnGateway 'br/public:avm/res/network/p2s-vpn-gateway:0.1' = {\n  name: 'p2sVpnGatewayDeployment'\n  params: {\n    // Required parameters\n    name: 'npvgmaxp2sVpnGw'\n    virtualHubResourceId: '<virtualHubResourceId>'\n    // Non-required parameters\n    associatedRouteTableName: 'noneRouteTable'\n    customDnsServers: [\n      '10.50.10.50'\n      '10.50.50.50'\n    ]\n    enableInternetSecurity: false\n    isRoutingPreferenceInternet: false\n    location: '<location>'\n    p2SConnectionConfigurationsName: 'p2sConnectionConfig'\n    propagatedLabelNames: '<propagatedLabelNames>'\n    propagatedRouteTableNames: [\n      '<hubRouteTableName>'\n    ]\n    vpnClientAddressPoolAddressPrefixes: [\n      '10.0.2.0/24'\n      '10.0.3.0/24'\n    ]\n    vpnGatewayScaleUnit: 5\n    vpnServerConfigurationResourceId: '<vpnServerConfigurationResourceId>'\n  }\n}"}
{"id": "avm_res_network_p2s-vpn-gateway_example_3", "source": "avm/res/network/p2s-vpn-gateway/README.md", "content_to_embed": "Recommended AVM Module for P2S VPN Gateway: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Network/p2svpnGateways\nModule ID: br/public:avm/res/network/p2s-vpn-gateway:0.1\nParameters:\nparams: {\n    // Required parameters\n    name: 'npvgwafp2sVpnGw'\n    virtualHubResourceId: '<virtualHubResourceId>'\n    // Non-required parameters\n    associatedRouteTableName: 'defaultRouteTable'\n    enableInternetSecurity: true\n    isRoutingPreferenceInternet: false\n    p2SConnectionConfigurationsName: 'p2sConnectionConfig1'\n    tags: {\n      Environment: 'Non-Prod'\n      Role: 'DeploymentValidation'\n    }\n    vpnClientAddressPoolAddressPrefixes: [\n      '10.0.2.0/24'\n    ]\n    vpnServerConfigurationResourceId: '<vpnServerConfigurationResourceId>'\n  }", "bicep": "module p2sVpnGateway 'br/public:avm/res/network/p2s-vpn-gateway:0.1' = {\n  name: 'p2sVpnGatewayDeployment'\n  params: {\n    // Required parameters\n    name: 'npvgwafp2sVpnGw'\n    virtualHubResourceId: '<virtualHubResourceId>'\n    // Non-required parameters\n    associatedRouteTableName: 'defaultRouteTable'\n    enableInternetSecurity: true\n    isRoutingPreferenceInternet: false\n    p2SConnectionConfigurationsName: 'p2sConnectionConfig1'\n    tags: {\n      Environment: 'Non-Prod'\n      Role: 'DeploymentValidation'\n    }\n    vpnClientAddressPoolAddressPrefixes: [\n      '10.0.2.0/24'\n    ]\n    vpnServerConfigurationResourceId: '<vpnServerConfigurationResourceId>'\n  }\n}"}
{"id": "avm_res_network_private-dns-zone_example_1", "source": "avm/res/network/private-dns-zone/README.md", "content_to_embed": "Recommended AVM Module for Private DNS Zones: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Network/privateDnsZones\nModule ID: br/public:avm/res/network/private-dns-zone:0.8\nParameters:\nparams: {\n    // Required parameters\n    name: 'npdzmin001.com'\n    // Non-required parameters\n    location: 'global'\n  }", "bicep": "module privateDnsZone 'br/public:avm/res/network/private-dns-zone:0.8' = {\n  name: 'privateDnsZoneDeployment'\n  params: {\n    // Required parameters\n    name: 'npdzmin001.com'\n    // Non-required parameters\n    location: 'global'\n  }\n}"}
{"id": "avm_res_network_private-dns-zone_example_2", "source": "avm/res/network/private-dns-zone/README.md", "content_to_embed": "Recommended AVM Module for Private DNS Zones: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Network/privateDnsZones\nModule ID: br/public:avm/res/network/private-dns-zone:0.8\nParameters:\nparams: {\n    // Required parameters\n    name: 'npdzmax001.com'\n    // Non-required parameters\n    a: [\n      {\n        aRecords: [\n          {\n            ipv4Address: '10.240.4.4'\n          }\n        ]\n        name: 'A_10.240.4.4'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n        ttl: 3600\n      }\n    ]\n    aaaa: [\n      {\n        aaaaRecords: [\n          {\n            ipv6Address: '2001:0db8:85a3:0000:0000:8a2e:0370:7334'\n          }\n        ]\n        name: 'AAAA_2001_0db8_85a3_0000_0000_8a2e_0370_7334'\n        ttl: 3600\n      }\n    ]\n    cname: [\n      {\n        cnameRecord: {\n          cname: 'test'\n        }\n        name: 'CNAME_test'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n        ttl: 3600\n      }\n    ]\n    location: 'global'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    mx: [\n      {\n        mxRecords: [\n          {\n            exchange: 'contoso.com'\n            preference: 100\n          }\n        ]\n        name: 'MX_contoso'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n        ttl: 3600\n      }\n    ]\n    ptr: [\n      {\n        name: 'PTR_contoso'\n        ptrRecords: [\n          {\n            ptrdname: 'contoso.com'\n          }\n        ]\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n        ttl: 3600\n      }\n    ]\n    roleAssignments: [\n      {\n        name: '8001f03c-2ca1-4dab-ab69-4dbaa3635af1'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    soa: [\n      {\n        name: '@'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n        soaRecord: {\n          email: 'azureprivatedns-host.microsoft.com'\n          expireTime: 2419200\n          host: 'azureprivatedns.net'\n          minimumTtl: 10\n          refreshTime: 3600\n          retryTime: 300\n          serialNumber: 1\n        }\n        ttl: 3600\n      }\n    ]\n    srv: [\n      {\n        name: 'SRV_contoso'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n        srvRecords: [\n          {\n            port: 9332\n            priority: 0\n            target: 'test.contoso.com'\n            weight: 0\n          }\n        ]\n        ttl: 3600\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    txt: [\n      {\n        name: 'TXT_test'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n        ttl: 3600\n        txtRecords: [\n          {\n            value: [\n              'test'\n            ]\n          }\n        ]\n      }\n    ]\n    virtualNetworkLinks: [\n      {\n        registrationEnabled: true\n        virtualNetworkResourceId: '<virtualNetworkResourceId>'\n      }\n    ]\n  }", "bicep": "module privateDnsZone 'br/public:avm/res/network/private-dns-zone:0.8' = {\n  name: 'privateDnsZoneDeployment'\n  params: {\n    // Required parameters\n    name: 'npdzmax001.com'\n    // Non-required parameters\n    a: [\n      {\n        aRecords: [\n          {\n            ipv4Address: '10.240.4.4'\n          }\n        ]\n        name: 'A_10.240.4.4'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n        ttl: 3600\n      }\n    ]\n    aaaa: [\n      {\n        aaaaRecords: [\n          {\n            ipv6Address: '2001:0db8:85a3:0000:0000:8a2e:0370:7334'\n          }\n        ]\n        name: 'AAAA_2001_0db8_85a3_0000_0000_8a2e_0370_7334'\n        ttl: 3600\n      }\n    ]\n    cname: [\n      {\n        cnameRecord: {\n          cname: 'test'\n        }\n        name: 'CNAME_test'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n        ttl: 3600\n      }\n    ]\n    location: 'global'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    mx: [\n      {\n        mxRecords: [\n          {\n            exchange: 'contoso.com'\n            preference: 100\n          }\n        ]\n        name: 'MX_contoso'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n        ttl: 3600\n      }\n    ]\n    ptr: [\n      {\n        name: 'PTR_contoso'\n        ptrRecords: [\n          {\n            ptrdname: 'contoso.com'\n          }\n        ]\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n        ttl: 3600\n      }\n    ]\n    roleAssignments: [\n      {\n        name: '8001f03c-2ca1-4dab-ab69-4dbaa3635af1'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    soa: [\n      {\n        name: '@'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n        soaRecord: {\n          email: 'azureprivatedns-host.microsoft.com'\n          expireTime: 2419200\n          host: 'azureprivatedns.net'\n          minimumTtl: 10\n          refreshTime: 3600\n          retryTime: 300\n          serialNumber: 1\n        }\n        ttl: 3600\n      }\n    ]\n    srv: [\n      {\n        name: 'SRV_contoso'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n        srvRecords: [\n          {\n            port: 9332\n            priority: 0\n            target: 'test.contoso.com'\n            weight: 0\n          }\n        ]\n        ttl: 3600\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    txt: [\n      {\n        name: 'TXT_test'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n        ttl: 3600\n        txtRecords: [\n          {\n            value: [\n              'test'\n            ]\n          }\n        ]\n      }\n    ]\n    virtualNetworkLinks: [\n      {\n        registrationEnabled: true\n        virtualNetworkResourceId: '<virtualNetworkResourceId>'\n      }\n    ]\n  }\n}"}
{"id": "avm_res_network_private-dns-zone_example_3", "source": "avm/res/network/private-dns-zone/README.md", "content_to_embed": "Recommended AVM Module for Private DNS Zones: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Well-Architected Framework.\nResource Type Path: Microsoft.Network/privateDnsZones\nModule ID: br/public:avm/res/network/private-dns-zone:0.8\nParameters:\nparams: {\n    // Required parameters\n    name: 'npdzwaf001.com'\n    // Non-required parameters\n    location: 'global'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module privateDnsZone 'br/public:avm/res/network/private-dns-zone:0.8' = {\n  name: 'privateDnsZoneDeployment'\n  params: {\n    // Required parameters\n    name: 'npdzwaf001.com'\n    // Non-required parameters\n    location: 'global'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_network_private-endpoint_example_1", "source": "avm/res/network/private-endpoint/README.md", "content_to_embed": "Recommended AVM Module for Private Endpoints: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Network/privateEndpoints\nModule ID: br/public:avm/res/network/private-endpoint:0.11\nParameters:\nparams: {\n    // Required parameters\n    name: 'npemin001'\n    subnetResourceId: '<subnetResourceId>'\n    // Non-required parameters\n    privateLinkServiceConnections: [\n      {\n        name: 'npemin001'\n        properties: {\n          groupIds: [\n            'vault'\n          ]\n          privateLinkServiceId: '<privateLinkServiceId>'\n        }\n      }\n    ]\n  }", "bicep": "module privateEndpoint 'br/public:avm/res/network/private-endpoint:0.11' = {\n  name: 'privateEndpointDeployment'\n  params: {\n    // Required parameters\n    name: 'npemin001'\n    subnetResourceId: '<subnetResourceId>'\n    // Non-required parameters\n    privateLinkServiceConnections: [\n      {\n        name: 'npemin001'\n        properties: {\n          groupIds: [\n            'vault'\n          ]\n          privateLinkServiceId: '<privateLinkServiceId>'\n        }\n      }\n    ]\n  }\n}"}
{"id": "avm_res_network_private-endpoint_example_2", "source": "avm/res/network/private-endpoint/README.md", "content_to_embed": "Recommended AVM Module for Private Endpoints: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Network/privateEndpoints\nModule ID: br/public:avm/res/network/private-endpoint:0.11\nParameters:\nparams: {\n    // Required parameters\n    name: 'npemax001'\n    subnetResourceId: '<subnetResourceId>'\n    // Non-required parameters\n    applicationSecurityGroupResourceIds: [\n      '<applicationSecurityGroupResourceId>'\n    ]\n    customDnsConfigs: [\n      {\n        fqdn: 'abc.keyvault.com'\n        ipAddresses: [\n          '10.0.0.10'\n        ]\n      }\n    ]\n    customNetworkInterfaceName: 'npemax001nic'\n    ipConfigurations: [\n      {\n        name: 'myIPconfig'\n        properties: {\n          groupId: 'vault'\n          memberName: 'default'\n          privateIPAddress: '10.0.0.10'\n        }\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    privateDnsZoneGroup: {\n      name: 'default'\n      privateDnsZoneGroupConfigs: [\n        {\n          name: 'config'\n          privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n        }\n      ]\n    }\n    privateLinkServiceConnections: [\n      {\n        name: 'npemax001'\n        properties: {\n          groupIds: [\n            'vault'\n          ]\n          privateLinkServiceId: '<privateLinkServiceId>'\n          requestMessage: 'Hey there'\n        }\n      }\n    ]\n    roleAssignments: [\n      {\n        name: '6804f270-b4e9-455f-a11b-7f2a64e38f7c'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module privateEndpoint 'br/public:avm/res/network/private-endpoint:0.11' = {\n  name: 'privateEndpointDeployment'\n  params: {\n    // Required parameters\n    name: 'npemax001'\n    subnetResourceId: '<subnetResourceId>'\n    // Non-required parameters\n    applicationSecurityGroupResourceIds: [\n      '<applicationSecurityGroupResourceId>'\n    ]\n    customDnsConfigs: [\n      {\n        fqdn: 'abc.keyvault.com'\n        ipAddresses: [\n          '10.0.0.10'\n        ]\n      }\n    ]\n    customNetworkInterfaceName: 'npemax001nic'\n    ipConfigurations: [\n      {\n        name: 'myIPconfig'\n        properties: {\n          groupId: 'vault'\n          memberName: 'default'\n          privateIPAddress: '10.0.0.10'\n        }\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    privateDnsZoneGroup: {\n      name: 'default'\n      privateDnsZoneGroupConfigs: [\n        {\n          name: 'config'\n          privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n        }\n      ]\n    }\n    privateLinkServiceConnections: [\n      {\n        name: 'npemax001'\n        properties: {\n          groupIds: [\n            'vault'\n          ]\n          privateLinkServiceId: '<privateLinkServiceId>'\n          requestMessage: 'Hey there'\n        }\n      }\n    ]\n    roleAssignments: [\n      {\n        name: '6804f270-b4e9-455f-a11b-7f2a64e38f7c'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_network_private-endpoint_example_3", "source": "avm/res/network/private-endpoint/README.md", "content_to_embed": "Recommended AVM Module for Private Endpoints: Using private link service - This instance deploys the module with a private link service to test the application of an empty list of string for `groupIds`.\nResource Type Path: Microsoft.Network/privateEndpoints\nModule ID: br/public:avm/res/network/private-endpoint:0.11\nParameters:\nparams: {\n    // Required parameters\n    name: 'npepls001'\n    subnetResourceId: '<subnetResourceId>'\n    // Non-required parameters\n    ipConfigurations: [\n      {\n        name: 'myIPconfig'\n        properties: {\n          groupId: ''\n          memberName: ''\n          privateIPAddress: '10.0.0.10'\n        }\n      }\n    ]\n    privateLinkServiceConnections: [\n      {\n        name: 'npepls001'\n        properties: {\n          groupIds: []\n          privateLinkServiceId: '<privateLinkServiceId>'\n        }\n      }\n    ]\n  }", "bicep": "module privateEndpoint 'br/public:avm/res/network/private-endpoint:0.11' = {\n  name: 'privateEndpointDeployment'\n  params: {\n    // Required parameters\n    name: 'npepls001'\n    subnetResourceId: '<subnetResourceId>'\n    // Non-required parameters\n    ipConfigurations: [\n      {\n        name: 'myIPconfig'\n        properties: {\n          groupId: ''\n          memberName: ''\n          privateIPAddress: '10.0.0.10'\n        }\n      }\n    ]\n    privateLinkServiceConnections: [\n      {\n        name: 'npepls001'\n        properties: {\n          groupIds: []\n          privateLinkServiceId: '<privateLinkServiceId>'\n        }\n      }\n    ]\n  }\n}"}
{"id": "avm_res_network_private-endpoint_example_4", "source": "avm/res/network/private-endpoint/README.md", "content_to_embed": "Recommended AVM Module for Private Endpoints: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Well-Architected Framework.\nResource Type Path: Microsoft.Network/privateEndpoints\nModule ID: br/public:avm/res/network/private-endpoint:0.11\nParameters:\nparams: {\n    // Required parameters\n    name: 'npewaf001'\n    subnetResourceId: '<subnetResourceId>'\n    // Non-required parameters\n    applicationSecurityGroupResourceIds: [\n      '<applicationSecurityGroupResourceId>'\n    ]\n    customNetworkInterfaceName: 'npewaf001nic'\n    ipConfigurations: [\n      {\n        name: 'myIPconfig'\n        properties: {\n          groupId: 'vault'\n          memberName: 'default'\n          privateIPAddress: '10.0.0.10'\n        }\n      }\n    ]\n    privateDnsZoneGroup: {\n      privateDnsZoneGroupConfigs: [\n        {\n          privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n        }\n      ]\n    }\n    privateLinkServiceConnections: [\n      {\n        name: 'npewaf001'\n        properties: {\n          groupIds: [\n            'vault'\n          ]\n          privateLinkServiceId: '<privateLinkServiceId>'\n        }\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module privateEndpoint 'br/public:avm/res/network/private-endpoint:0.11' = {\n  name: 'privateEndpointDeployment'\n  params: {\n    // Required parameters\n    name: 'npewaf001'\n    subnetResourceId: '<subnetResourceId>'\n    // Non-required parameters\n    applicationSecurityGroupResourceIds: [\n      '<applicationSecurityGroupResourceId>'\n    ]\n    customNetworkInterfaceName: 'npewaf001nic'\n    ipConfigurations: [\n      {\n        name: 'myIPconfig'\n        properties: {\n          groupId: 'vault'\n          memberName: 'default'\n          privateIPAddress: '10.0.0.10'\n        }\n      }\n    ]\n    privateDnsZoneGroup: {\n      privateDnsZoneGroupConfigs: [\n        {\n          privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n        }\n      ]\n    }\n    privateLinkServiceConnections: [\n      {\n        name: 'npewaf001'\n        properties: {\n          groupIds: [\n            'vault'\n          ]\n          privateLinkServiceId: '<privateLinkServiceId>'\n        }\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_network_private-link-service_example_1", "source": "avm/res/network/private-link-service/README.md", "content_to_embed": "Recommended AVM Module for Private Link Services: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Network/privateLinkServices\nModule ID: br/public:avm/res/network/private-link-service:0.3\nParameters:\nparams: {\n    // Required parameters\n    ipConfigurations: [\n      {\n        name: 'nplsmin01'\n        properties: {\n          subnet: {\n            id: '<id>'\n          }\n        }\n      }\n    ]\n    loadBalancerFrontendIpConfigurations: [\n      {\n        id: '<id>'\n      }\n    ]\n    name: 'nplsmin001'\n  }", "bicep": "module privateLinkService 'br/public:avm/res/network/private-link-service:0.3' = {\n  name: 'privateLinkServiceDeployment'\n  params: {\n    // Required parameters\n    ipConfigurations: [\n      {\n        name: 'nplsmin01'\n        properties: {\n          subnet: {\n            id: '<id>'\n          }\n        }\n      }\n    ]\n    loadBalancerFrontendIpConfigurations: [\n      {\n        id: '<id>'\n      }\n    ]\n    name: 'nplsmin001'\n  }\n}"}
{"id": "avm_res_network_private-link-service_example_2", "source": "avm/res/network/private-link-service/README.md", "content_to_embed": "Recommended AVM Module for Private Link Services: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Network/privateLinkServices\nModule ID: br/public:avm/res/network/private-link-service:0.3\nParameters:\nparams: {\n    // Required parameters\n    ipConfigurations: [\n      {\n        name: 'nplsmax01'\n        properties: {\n          primary: true\n          privateIPAllocationMethod: 'Dynamic'\n          subnet: {\n            id: '<id>'\n          }\n        }\n      }\n    ]\n    loadBalancerFrontendIpConfigurations: [\n      {\n        id: '<id>'\n      }\n    ]\n    name: 'nplsmax001'\n    // Non-required parameters\n    autoApproval: {\n      subscriptions: [\n        '*'\n      ]\n    }\n    enableProxyProtocol: true\n    fqdns: [\n      'nplsmax.plsfqdn01.azure.privatelinkservice'\n      'nplsmax.plsfqdn02.azure.privatelinkservice'\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    roleAssignments: [\n      {\n        name: 'fec82bb5-8552-4c4b-a3f6-65bdae54d7f4'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    visibility: {\n      subscriptions: [\n        '<subscriptionId>'\n      ]\n    }\n  }", "bicep": "module privateLinkService 'br/public:avm/res/network/private-link-service:0.3' = {\n  name: 'privateLinkServiceDeployment'\n  params: {\n    // Required parameters\n    ipConfigurations: [\n      {\n        name: 'nplsmax01'\n        properties: {\n          primary: true\n          privateIPAllocationMethod: 'Dynamic'\n          subnet: {\n            id: '<id>'\n          }\n        }\n      }\n    ]\n    loadBalancerFrontendIpConfigurations: [\n      {\n        id: '<id>'\n      }\n    ]\n    name: 'nplsmax001'\n    // Non-required parameters\n    autoApproval: {\n      subscriptions: [\n        '*'\n      ]\n    }\n    enableProxyProtocol: true\n    fqdns: [\n      'nplsmax.plsfqdn01.azure.privatelinkservice'\n      'nplsmax.plsfqdn02.azure.privatelinkservice'\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    roleAssignments: [\n      {\n        name: 'fec82bb5-8552-4c4b-a3f6-65bdae54d7f4'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    visibility: {\n      subscriptions: [\n        '<subscriptionId>'\n      ]\n    }\n  }\n}"}
{"id": "avm_res_network_private-link-service_example_3", "source": "avm/res/network/private-link-service/README.md", "content_to_embed": "Recommended AVM Module for Private Link Services: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Network/privateLinkServices\nModule ID: br/public:avm/res/network/private-link-service:0.3\nParameters:\nparams: {\n    // Required parameters\n    ipConfigurations: [\n      {\n        name: 'nplswaf01'\n        properties: {\n          primary: true\n          privateIPAllocationMethod: 'Dynamic'\n          subnet: {\n            id: '<id>'\n          }\n        }\n      }\n    ]\n    loadBalancerFrontendIpConfigurations: [\n      {\n        id: '<id>'\n      }\n    ]\n    name: 'nplswaf001'\n    // Non-required parameters\n    autoApproval: {\n      subscriptions: [\n        '*'\n      ]\n    }\n    enableProxyProtocol: true\n    fqdns: [\n      'nplswaf.plsfqdn01.azure.privatelinkservice'\n      'nplswaf.plsfqdn02.azure.privatelinkservice'\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    visibility: {\n      subscriptions: [\n        '<subscriptionId>'\n      ]\n    }\n  }", "bicep": "module privateLinkService 'br/public:avm/res/network/private-link-service:0.3' = {\n  name: 'privateLinkServiceDeployment'\n  params: {\n    // Required parameters\n    ipConfigurations: [\n      {\n        name: 'nplswaf01'\n        properties: {\n          primary: true\n          privateIPAllocationMethod: 'Dynamic'\n          subnet: {\n            id: '<id>'\n          }\n        }\n      }\n    ]\n    loadBalancerFrontendIpConfigurations: [\n      {\n        id: '<id>'\n      }\n    ]\n    name: 'nplswaf001'\n    // Non-required parameters\n    autoApproval: {\n      subscriptions: [\n        '*'\n      ]\n    }\n    enableProxyProtocol: true\n    fqdns: [\n      'nplswaf.plsfqdn01.azure.privatelinkservice'\n      'nplswaf.plsfqdn02.azure.privatelinkservice'\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    visibility: {\n      subscriptions: [\n        '<subscriptionId>'\n      ]\n    }\n  }\n}"}
{"id": "avm_res_network_public-ip-address_example_1", "source": "avm/res/network/public-ip-address/README.md", "content_to_embed": "Recommended AVM Module for Public IP Addresses: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Network/publicIPAddresses\nModule ID: br/public:avm/res/network/public-ip-address:0.9\nParameters:\nparams: {\n    // Required parameters\n    name: 'npiamin001'\n    // Non-required parameters\n    location: '<location>'\n  }", "bicep": "module publicIpAddress 'br/public:avm/res/network/public-ip-address:0.9' = {\n  name: 'publicIpAddressDeployment'\n  params: {\n    // Required parameters\n    name: 'npiamin001'\n    // Non-required parameters\n    location: '<location>'\n  }\n}"}
{"id": "avm_res_network_public-ip-address_example_2", "source": "avm/res/network/public-ip-address/README.md", "content_to_embed": "Recommended AVM Module for Public IP Addresses: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Network/publicIPAddresses\nModule ID: br/public:avm/res/network/public-ip-address:0.9\nParameters:\nparams: {\n    // Required parameters\n    name: 'npiamax001'\n    // Non-required parameters\n    availabilityZones: [\n      1\n      2\n      3\n    ]\n    ddosSettings: '<ddosSettings>'\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    dnsSettings: '<dnsSettings>'\n    ipTags: [\n      {\n        ipTagType: 'RoutingPreference'\n        tag: 'Internet'\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    publicIPAddressVersion: 'IPv4'\n    publicIPAllocationMethod: 'Static'\n    publicIpPrefixResourceId: '<publicIpPrefixResourceId>'\n    roleAssignments: [\n      {\n        name: '902f366b-ba61-4eb6-aa3a-786d317f2dbc'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    skuName: 'Standard'\n    skuTier: 'Regional'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module publicIpAddress 'br/public:avm/res/network/public-ip-address:0.9' = {\n  name: 'publicIpAddressDeployment'\n  params: {\n    // Required parameters\n    name: 'npiamax001'\n    // Non-required parameters\n    availabilityZones: [\n      1\n      2\n      3\n    ]\n    ddosSettings: '<ddosSettings>'\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    dnsSettings: '<dnsSettings>'\n    ipTags: [\n      {\n        ipTagType: 'RoutingPreference'\n        tag: 'Internet'\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    publicIPAddressVersion: 'IPv4'\n    publicIPAllocationMethod: 'Static'\n    publicIpPrefixResourceId: '<publicIpPrefixResourceId>'\n    roleAssignments: [\n      {\n        name: '902f366b-ba61-4eb6-aa3a-786d317f2dbc'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    skuName: 'Standard'\n    skuTier: 'Regional'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_network_public-ip-address_example_3", "source": "avm/res/network/public-ip-address/README.md", "content_to_embed": "Recommended AVM Module for Public IP Addresses: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Network/publicIPAddresses\nModule ID: br/public:avm/res/network/public-ip-address:0.9\nParameters:\nparams: {\n    // Required parameters\n    name: 'npiawaf001'\n    // Non-required parameters\n    availabilityZones: [\n      1\n      2\n      3\n    ]\n    ddosSettings: '<ddosSettings>'\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    dnsSettings: '<dnsSettings>'\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    publicIPAddressVersion: 'IPv4'\n    publicIPAllocationMethod: 'Static'\n    publicIpPrefixResourceId: '<publicIpPrefixResourceId>'\n    roleAssignments: [\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    skuName: 'Standard'\n    skuTier: 'Regional'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module publicIpAddress 'br/public:avm/res/network/public-ip-address:0.9' = {\n  name: 'publicIpAddressDeployment'\n  params: {\n    // Required parameters\n    name: 'npiawaf001'\n    // Non-required parameters\n    availabilityZones: [\n      1\n      2\n      3\n    ]\n    ddosSettings: '<ddosSettings>'\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    dnsSettings: '<dnsSettings>'\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    publicIPAddressVersion: 'IPv4'\n    publicIPAllocationMethod: 'Static'\n    publicIpPrefixResourceId: '<publicIpPrefixResourceId>'\n    roleAssignments: [\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    skuName: 'Standard'\n    skuTier: 'Regional'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_network_public-ip-prefix_example_1", "source": "avm/res/network/public-ip-prefix/README.md", "content_to_embed": "Recommended AVM Module for Public IP Prefixes: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Network/publicIPPrefixes\nModule ID: br/public:avm/res/network/public-ip-prefix:0.7\nParameters:\nparams: {\n    // Required parameters\n    name: 'npipmin001'\n    prefixLength: 28\n    // Non-required parameters\n    location: '<location>'\n  }", "bicep": "module publicIpPrefix 'br/public:avm/res/network/public-ip-prefix:0.7' = {\n  name: 'publicIpPrefixDeployment'\n  params: {\n    // Required parameters\n    name: 'npipmin001'\n    prefixLength: 28\n    // Non-required parameters\n    location: '<location>'\n  }\n}"}
{"id": "avm_res_network_public-ip-prefix_example_2", "source": "avm/res/network/public-ip-prefix/README.md", "content_to_embed": "Recommended AVM Module for Public IP Prefixes: IPv6 Public IP Prefix - This instance deploys the module using the IPv6 version of the Public IP Prefix.\nResource Type Path: Microsoft.Network/publicIPPrefixes\nModule ID: br/public:avm/res/network/public-ip-prefix:0.7\nParameters:\nparams: {\n    // Required parameters\n    name: 'npipip6001'\n    prefixLength: 127\n    // Non-required parameters\n    location: '<location>'\n    publicIPAddressVersion: 'IPv6'\n  }", "bicep": "module publicIpPrefix 'br/public:avm/res/network/public-ip-prefix:0.7' = {\n  name: 'publicIpPrefixDeployment'\n  params: {\n    // Required parameters\n    name: 'npipip6001'\n    prefixLength: 127\n    // Non-required parameters\n    location: '<location>'\n    publicIPAddressVersion: 'IPv6'\n  }\n}"}
{"id": "avm_res_network_public-ip-prefix_example_3", "source": "avm/res/network/public-ip-prefix/README.md", "content_to_embed": "Recommended AVM Module for Public IP Prefixes: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Network/publicIPPrefixes\nModule ID: br/public:avm/res/network/public-ip-prefix:0.7\nParameters:\nparams: {\n    // Required parameters\n    name: 'npipmax001'\n    prefixLength: 28\n    // Non-required parameters\n    availabilityZones: [\n      1\n      2\n    ]\n    ipTags: [\n      {\n        ipTagType: 'RoutingPreference'\n        tag: 'Internet'\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    roleAssignments: [\n      {\n        name: 'bf62ed65-07be-48e8-b760-2d59795cd282'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module publicIpPrefix 'br/public:avm/res/network/public-ip-prefix:0.7' = {\n  name: 'publicIpPrefixDeployment'\n  params: {\n    // Required parameters\n    name: 'npipmax001'\n    prefixLength: 28\n    // Non-required parameters\n    availabilityZones: [\n      1\n      2\n    ]\n    ipTags: [\n      {\n        ipTagType: 'RoutingPreference'\n        tag: 'Internet'\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    roleAssignments: [\n      {\n        name: 'bf62ed65-07be-48e8-b760-2d59795cd282'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_network_public-ip-prefix_example_4", "source": "avm/res/network/public-ip-prefix/README.md", "content_to_embed": "Recommended AVM Module for Public IP Prefixes: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Network/publicIPPrefixes\nModule ID: br/public:avm/res/network/public-ip-prefix:0.7\nParameters:\nparams: {\n    // Required parameters\n    name: 'npipwaf001'\n    prefixLength: 28\n    // Non-required parameters\n    location: '<location>'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module publicIpPrefix 'br/public:avm/res/network/public-ip-prefix:0.7' = {\n  name: 'publicIpPrefixDeployment'\n  params: {\n    // Required parameters\n    name: 'npipwaf001'\n    prefixLength: 28\n    // Non-required parameters\n    location: '<location>'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_network_route-table_example_1", "source": "avm/res/network/route-table/README.md", "content_to_embed": "Recommended AVM Module for Route Tables: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Network/routeTables\nModule ID: br/public:avm/res/network/route-table:0.5\nParameters:\nparams: {\n    name: 'nrtmin001'\n  }", "bicep": "module routeTable 'br/public:avm/res/network/route-table:0.5' = {\n  name: 'routeTableDeployment'\n  params: {\n    name: 'nrtmin001'\n  }\n}"}
{"id": "avm_res_network_route-table_example_2", "source": "avm/res/network/route-table/README.md", "content_to_embed": "Recommended AVM Module for Route Tables: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Network/routeTables\nModule ID: br/public:avm/res/network/route-table:0.5\nParameters:\nparams: {\n    // Required parameters\n    name: 'nrtmax001'\n    // Non-required parameters\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    roleAssignments: [\n      {\n        name: 'de4b134c-7087-480d-892f-ce6629720d29'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    routes: [\n      {\n        name: 'default'\n        properties: {\n          addressPrefix: '0.0.0.0/0'\n          nextHopIpAddress: '172.16.0.20'\n          nextHopType: 'VirtualAppliance'\n        }\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module routeTable 'br/public:avm/res/network/route-table:0.5' = {\n  name: 'routeTableDeployment'\n  params: {\n    // Required parameters\n    name: 'nrtmax001'\n    // Non-required parameters\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    roleAssignments: [\n      {\n        name: 'de4b134c-7087-480d-892f-ce6629720d29'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    routes: [\n      {\n        name: 'default'\n        properties: {\n          addressPrefix: '0.0.0.0/0'\n          nextHopIpAddress: '172.16.0.20'\n          nextHopType: 'VirtualAppliance'\n        }\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_network_route-table_example_3", "source": "avm/res/network/route-table/README.md", "content_to_embed": "Recommended AVM Module for Route Tables: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Network/routeTables\nModule ID: br/public:avm/res/network/route-table:0.5\nParameters:\nparams: {\n    // Required parameters\n    name: 'nrtwaf001'\n    // Non-required parameters\n    routes: [\n      {\n        name: 'default'\n        properties: {\n          addressPrefix: '0.0.0.0/0'\n          nextHopIpAddress: '172.16.0.20'\n          nextHopType: 'VirtualAppliance'\n        }\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module routeTable 'br/public:avm/res/network/route-table:0.5' = {\n  name: 'routeTableDeployment'\n  params: {\n    // Required parameters\n    name: 'nrtwaf001'\n    // Non-required parameters\n    routes: [\n      {\n        name: 'default'\n        properties: {\n          addressPrefix: '0.0.0.0/0'\n          nextHopIpAddress: '172.16.0.20'\n          nextHopType: 'VirtualAppliance'\n        }\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_network_service-endpoint-policy_example_1", "source": "avm/res/network/service-endpoint-policy/README.md", "content_to_embed": "Recommended AVM Module for Service-Endpoint-Policy: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Network/serviceEndpointPolicies\nModule ID: br/public:avm/res/network/service-endpoint-policy:0.3\nParameters:\nparams: {\n    name: 'nsepmin001'\n  }", "bicep": "module serviceEndpointPolicy 'br/public:avm/res/network/service-endpoint-policy:0.3' = {\n  name: 'serviceEndpointPolicyDeployment'\n  params: {\n    name: 'nsepmin001'\n  }\n}"}
{"id": "avm_res_network_service-endpoint-policy_example_2", "source": "avm/res/network/service-endpoint-policy/README.md", "content_to_embed": "Recommended AVM Module for Service-Endpoint-Policy: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Network/serviceEndpointPolicies\nModule ID: br/public:avm/res/network/service-endpoint-policy:0.3\nParameters:\nparams: {\n    // Required parameters\n    name: 'nsepmax001'\n    // Non-required parameters\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    roleAssignments: [\n      {\n        name: '36fbc5db-13e9-4bda-9594-1b1cc9db2d6d'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module serviceEndpointPolicy 'br/public:avm/res/network/service-endpoint-policy:0.3' = {\n  name: 'serviceEndpointPolicyDeployment'\n  params: {\n    // Required parameters\n    name: 'nsepmax001'\n    // Non-required parameters\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    roleAssignments: [\n      {\n        name: '36fbc5db-13e9-4bda-9594-1b1cc9db2d6d'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_network_service-endpoint-policy_example_3", "source": "avm/res/network/service-endpoint-policy/README.md", "content_to_embed": "Recommended AVM Module for Service-Endpoint-Policy: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Network/serviceEndpointPolicies\nModule ID: br/public:avm/res/network/service-endpoint-policy:0.3\nParameters:\nparams: {\n    // Required parameters\n    name: 'nsepwaf001'\n    // Non-required parameters\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module serviceEndpointPolicy 'br/public:avm/res/network/service-endpoint-policy:0.3' = {\n  name: 'serviceEndpointPolicyDeployment'\n  params: {\n    // Required parameters\n    name: 'nsepwaf001'\n    // Non-required parameters\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_network_trafficmanagerprofile_example_1", "source": "avm/res/network/trafficmanagerprofile/README.md", "content_to_embed": "Recommended AVM Module for Traffic Manager Profiles: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Network/trafficmanagerprofiles\nModule ID: br/public:avm/res/network/trafficmanagerprofile:0.3\nParameters:\nparams: {\n    name: 'ntmpmin001'\n  }", "bicep": "module trafficmanagerprofile 'br/public:avm/res/network/trafficmanagerprofile:0.3' = {\n  name: 'trafficmanagerprofileDeployment'\n  params: {\n    name: 'ntmpmin001'\n  }\n}"}
{"id": "avm_res_network_trafficmanagerprofile_example_2", "source": "avm/res/network/trafficmanagerprofile/README.md", "content_to_embed": "Recommended AVM Module for Traffic Manager Profiles: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Network/trafficmanagerprofiles\nModule ID: br/public:avm/res/network/trafficmanagerprofile:0.3\nParameters:\nparams: {\n    // Required parameters\n    name: 'ntmpmax001'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    location: 'global'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    relativeName: 'ntmpmax001-rn'\n    roleAssignments: [\n      {\n        name: '76e7bd82-b689-4072-87be-519bfabf733e'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module trafficmanagerprofile 'br/public:avm/res/network/trafficmanagerprofile:0.3' = {\n  name: 'trafficmanagerprofileDeployment'\n  params: {\n    // Required parameters\n    name: 'ntmpmax001'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    location: 'global'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    relativeName: 'ntmpmax001-rn'\n    roleAssignments: [\n      {\n        name: '76e7bd82-b689-4072-87be-519bfabf733e'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_network_trafficmanagerprofile_example_3", "source": "avm/res/network/trafficmanagerprofile/README.md", "content_to_embed": "Recommended AVM Module for Traffic Manager Profiles: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Network/trafficmanagerprofiles\nModule ID: br/public:avm/res/network/trafficmanagerprofile:0.3\nParameters:\nparams: {\n    // Required parameters\n    name: 'ntmpwaf001'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    endpoints: [\n      {\n        name: 'webApp01Endpoint'\n        properties: {\n          endpointLocation: '<endpointLocation>'\n          endpointStatus: 'Enabled'\n          priority: 1\n          targetResourceId: '<targetResourceId>'\n          weight: 1\n        }\n        type: 'Microsoft.Network/trafficManagerProfiles/azureEndpoints'\n      }\n      {\n        name: 'webApp02Endpoint'\n        properties: {\n          endpointLocation: '<endpointLocation>'\n          endpointStatus: 'Enabled'\n          priority: 2\n          targetResourceId: '<targetResourceId>'\n          weight: 1\n        }\n        type: 'Microsoft.Network/trafficManagerProfiles/azureEndpoints'\n      }\n    ]\n    monitorConfig: {\n      path: '/'\n      port: 443\n      protocol: 'https'\n    }\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module trafficmanagerprofile 'br/public:avm/res/network/trafficmanagerprofile:0.3' = {\n  name: 'trafficmanagerprofileDeployment'\n  params: {\n    // Required parameters\n    name: 'ntmpwaf001'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    endpoints: [\n      {\n        name: 'webApp01Endpoint'\n        properties: {\n          endpointLocation: '<endpointLocation>'\n          endpointStatus: 'Enabled'\n          priority: 1\n          targetResourceId: '<targetResourceId>'\n          weight: 1\n        }\n        type: 'Microsoft.Network/trafficManagerProfiles/azureEndpoints'\n      }\n      {\n        name: 'webApp02Endpoint'\n        properties: {\n          endpointLocation: '<endpointLocation>'\n          endpointStatus: 'Enabled'\n          priority: 2\n          targetResourceId: '<targetResourceId>'\n          weight: 1\n        }\n        type: 'Microsoft.Network/trafficManagerProfiles/azureEndpoints'\n      }\n    ]\n    monitorConfig: {\n      path: '/'\n      port: 443\n      protocol: 'https'\n    }\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_network_virtual-hub_example_1", "source": "avm/res/network/virtual-hub/README.md", "content_to_embed": "Recommended AVM Module for Virtual Hubs: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Network/virtualHubs\nModule ID: br/public:avm/res/network/virtual-hub:0.4\nParameters:\nparams: {\n    // Required parameters\n    addressPrefix: '10.0.0.0/16'\n    name: 'nvhmin'\n    virtualWanResourceId: '<virtualWanResourceId>'\n  }", "bicep": "module virtualHub 'br/public:avm/res/network/virtual-hub:0.4' = {\n  name: 'virtualHubDeployment'\n  params: {\n    // Required parameters\n    addressPrefix: '10.0.0.0/16'\n    name: 'nvhmin'\n    virtualWanResourceId: '<virtualWanResourceId>'\n  }\n}"}
{"id": "avm_res_network_virtual-hub_example_2", "source": "avm/res/network/virtual-hub/README.md", "content_to_embed": "Recommended AVM Module for Virtual Hubs: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Network/virtualHubs\nModule ID: br/public:avm/res/network/virtual-hub:0.4\nParameters:\nparams: {\n    // Required parameters\n    addressPrefix: '10.1.0.0/16'\n    name: 'nvhmax'\n    virtualWanResourceId: '<virtualWanResourceId>'\n    // Non-required parameters\n    hubRouteTables: [\n      {\n        name: 'routeTable1'\n        routes: []\n      }\n    ]\n    hubVirtualNetworkConnections: [\n      {\n        name: 'connection1'\n        remoteVirtualNetworkResourceId: '<remoteVirtualNetworkResourceId>'\n        routingConfiguration: {\n          associatedRouteTable: {\n            id: '<id>'\n          }\n          propagatedRouteTables: {\n            ids: [\n              {\n                id: '<id>'\n              }\n            ]\n            labels: []\n          }\n          vnetRoutes: {\n            staticRoutes: [\n              {\n                addressPrefixes: [\n                  '10.150.0.0/24'\n                ]\n                name: 'route1'\n                nextHopIpAddress: '10.150.0.5'\n              }\n            ]\n            staticRoutesConfig: {\n              vnetLocalRouteOverrideCriteria: 'Contains'\n            }\n          }\n        }\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    sku: 'Standard'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    virtualRouterAutoScaleConfiguration: {\n      minCount: 2\n    }\n  }", "bicep": "module virtualHub 'br/public:avm/res/network/virtual-hub:0.4' = {\n  name: 'virtualHubDeployment'\n  params: {\n    // Required parameters\n    addressPrefix: '10.1.0.0/16'\n    name: 'nvhmax'\n    virtualWanResourceId: '<virtualWanResourceId>'\n    // Non-required parameters\n    hubRouteTables: [\n      {\n        name: 'routeTable1'\n        routes: []\n      }\n    ]\n    hubVirtualNetworkConnections: [\n      {\n        name: 'connection1'\n        remoteVirtualNetworkResourceId: '<remoteVirtualNetworkResourceId>'\n        routingConfiguration: {\n          associatedRouteTable: {\n            id: '<id>'\n          }\n          propagatedRouteTables: {\n            ids: [\n              {\n                id: '<id>'\n              }\n            ]\n            labels: []\n          }\n          vnetRoutes: {\n            staticRoutes: [\n              {\n                addressPrefixes: [\n                  '10.150.0.0/24'\n                ]\n                name: 'route1'\n                nextHopIpAddress: '10.150.0.5'\n              }\n            ]\n            staticRoutesConfig: {\n              vnetLocalRouteOverrideCriteria: 'Contains'\n            }\n          }\n        }\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    sku: 'Standard'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    virtualRouterAutoScaleConfiguration: {\n      minCount: 2\n    }\n  }\n}"}
{"id": "avm_res_network_virtual-hub_example_3", "source": "avm/res/network/virtual-hub/README.md", "content_to_embed": "Recommended AVM Module for Virtual Hubs: Using Routing Intent - This instance deploys the module the Virtual WAN hub with Routing Intent enabled; requires an existing Virtual Hub, as well the firewall Resource ID.\nResource Type Path: Microsoft.Network/virtualHubs\nModule ID: br/public:avm/res/network/virtual-hub:0.4\nParameters:\nparams: {\n    // Required parameters\n    addressPrefix: '10.10.0.0/23'\n    name: 'nvhrtint'\n    virtualWanResourceId: '<virtualWanResourceId>'\n    // Non-required parameters\n    azureFirewallResourceId: '<azureFirewallResourceId>'\n    hubRoutingPreference: 'ASPath'\n    hubVirtualNetworkConnections: [\n      {\n        name: 'connection1'\n        remoteVirtualNetworkResourceId: '<remoteVirtualNetworkResourceId>'\n      }\n    ]\n    routingIntent: {\n      internetToFirewall: false\n      privateToFirewall: true\n    }\n  }", "bicep": "module virtualHub 'br/public:avm/res/network/virtual-hub:0.4' = {\n  name: 'virtualHubDeployment'\n  params: {\n    // Required parameters\n    addressPrefix: '10.10.0.0/23'\n    name: 'nvhrtint'\n    virtualWanResourceId: '<virtualWanResourceId>'\n    // Non-required parameters\n    azureFirewallResourceId: '<azureFirewallResourceId>'\n    hubRoutingPreference: 'ASPath'\n    hubVirtualNetworkConnections: [\n      {\n        name: 'connection1'\n        remoteVirtualNetworkResourceId: '<remoteVirtualNetworkResourceId>'\n      }\n    ]\n    routingIntent: {\n      internetToFirewall: false\n      privateToFirewall: true\n    }\n  }\n}"}
{"id": "avm_res_network_virtual-hub_example_4", "source": "avm/res/network/virtual-hub/README.md", "content_to_embed": "Recommended AVM Module for Virtual Hubs: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Network/virtualHubs\nModule ID: br/public:avm/res/network/virtual-hub:0.4\nParameters:\nparams: {\n    // Required parameters\n    addressPrefix: '10.1.0.0/16'\n    name: 'nvhwaf'\n    virtualWanResourceId: '<virtualWanResourceId>'\n    // Non-required parameters\n    hubRouteTables: [\n      {\n        name: 'routeTable1'\n      }\n    ]\n    hubVirtualNetworkConnections: [\n      {\n        name: 'connection1'\n        remoteVirtualNetworkResourceId: '<remoteVirtualNetworkResourceId>'\n        routingConfiguration: {\n          associatedRouteTable: {\n            id: '<id>'\n          }\n          propagatedRouteTables: {\n            ids: [\n              {\n                id: '<id>'\n              }\n            ]\n            labels: [\n              'none'\n            ]\n          }\n        }\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module virtualHub 'br/public:avm/res/network/virtual-hub:0.4' = {\n  name: 'virtualHubDeployment'\n  params: {\n    // Required parameters\n    addressPrefix: '10.1.0.0/16'\n    name: 'nvhwaf'\n    virtualWanResourceId: '<virtualWanResourceId>'\n    // Non-required parameters\n    hubRouteTables: [\n      {\n        name: 'routeTable1'\n      }\n    ]\n    hubVirtualNetworkConnections: [\n      {\n        name: 'connection1'\n        remoteVirtualNetworkResourceId: '<remoteVirtualNetworkResourceId>'\n        routingConfiguration: {\n          associatedRouteTable: {\n            id: '<id>'\n          }\n          propagatedRouteTables: {\n            ids: [\n              {\n                id: '<id>'\n              }\n            ]\n            labels: [\n              'none'\n            ]\n          }\n        }\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_network_virtual-network_example_1", "source": "avm/res/network/virtual-network/README.md", "content_to_embed": "Recommended AVM Module for Virtual Networks: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Network/virtualNetworks\nModule ID: br/public:avm/res/network/virtual-network:0.7\nParameters:\nparams: {\n    // Required parameters\n    addressPrefixes: [\n      '10.0.0.0/16'\n    ]\n    name: 'nvnmin001'\n    // Non-required parameters\n    location: '<location>'\n  }", "bicep": "module virtualNetwork 'br/public:avm/res/network/virtual-network:0.7' = {\n  name: 'virtualNetworkDeployment'\n  params: {\n    // Required parameters\n    addressPrefixes: [\n      '10.0.0.0/16'\n    ]\n    name: 'nvnmin001'\n    // Non-required parameters\n    location: '<location>'\n  }\n}"}
{"id": "avm_res_network_virtual-network_example_2", "source": "avm/res/network/virtual-network/README.md", "content_to_embed": "Recommended AVM Module for Virtual Networks: Using IPAM Pool Prefix Allocations - This instance deploys the module with IP Addresses allocated from the IPAM Pool\nResource Type Path: Microsoft.Network/virtualNetworks\nModule ID: br/public:avm/res/network/virtual-network:0.7\nParameters:\nparams: {\n    // Required parameters\n    addressPrefixes: [\n      '<networkManagerIpamPoolId>'\n    ]\n    name: 'nvnipam001'\n    // Non-required parameters\n    ipamPoolNumberOfIpAddresses: '254'\n    location: '<location>'\n    subnets: [\n      {\n        ipamPoolPrefixAllocations: [\n          {\n            numberOfIpAddresses: '64'\n            pool: {\n              id: '<id>'\n            }\n          }\n        ]\n        name: 'subnet-1'\n      }\n      {\n        ipamPoolPrefixAllocations: [\n          {\n            numberOfIpAddresses: '16'\n            pool: {\n              id: '<id>'\n            }\n          }\n        ]\n        name: 'subnet-2'\n      }\n      {\n        ipamPoolPrefixAllocations: [\n          {\n            numberOfIpAddresses: '8'\n            pool: {\n              id: '<id>'\n            }\n          }\n        ]\n        name: 'subnet-3'\n      }\n    ]\n  }", "bicep": "module virtualNetwork 'br/public:avm/res/network/virtual-network:0.7' = {\n  name: 'virtualNetworkDeployment'\n  params: {\n    // Required parameters\n    addressPrefixes: [\n      '<networkManagerIpamPoolId>'\n    ]\n    name: 'nvnipam001'\n    // Non-required parameters\n    ipamPoolNumberOfIpAddresses: '254'\n    location: '<location>'\n    subnets: [\n      {\n        ipamPoolPrefixAllocations: [\n          {\n            numberOfIpAddresses: '64'\n            pool: {\n              id: '<id>'\n            }\n          }\n        ]\n        name: 'subnet-1'\n      }\n      {\n        ipamPoolPrefixAllocations: [\n          {\n            numberOfIpAddresses: '16'\n            pool: {\n              id: '<id>'\n            }\n          }\n        ]\n        name: 'subnet-2'\n      }\n      {\n        ipamPoolPrefixAllocations: [\n          {\n            numberOfIpAddresses: '8'\n            pool: {\n              id: '<id>'\n            }\n          }\n        ]\n        name: 'subnet-3'\n      }\n    ]\n  }\n}"}
{"id": "avm_res_network_virtual-network_example_3", "source": "avm/res/network/virtual-network/README.md", "content_to_embed": "Recommended AVM Module for Virtual Networks: Using an IPv6 address space - This instance deploys the module using an IPv6 address space.\nResource Type Path: Microsoft.Network/virtualNetworks\nModule ID: br/public:avm/res/network/virtual-network:0.7\nParameters:\nparams: {\n    // Required parameters\n    addressPrefixes: [\n      '10.0.0.0/21'\n      'fd00:592b:3014::/64'\n    ]\n    name: 'nvnipv6001'\n    // Non-required parameters\n    location: '<location>'\n    subnets: [\n      {\n        addressPrefixes: [\n          '10.0.0.0/24'\n          'fd00:592b:3014::/64'\n        ]\n        name: 'ipv6-subnet'\n      }\n    ]\n  }", "bicep": "module virtualNetwork 'br/public:avm/res/network/virtual-network:0.7' = {\n  name: 'virtualNetworkDeployment'\n  params: {\n    // Required parameters\n    addressPrefixes: [\n      '10.0.0.0/21'\n      'fd00:592b:3014::/64'\n    ]\n    name: 'nvnipv6001'\n    // Non-required parameters\n    location: '<location>'\n    subnets: [\n      {\n        addressPrefixes: [\n          '10.0.0.0/24'\n          'fd00:592b:3014::/64'\n        ]\n        name: 'ipv6-subnet'\n      }\n    ]\n  }\n}"}
{"id": "avm_res_network_virtual-network_example_4", "source": "avm/res/network/virtual-network/README.md", "content_to_embed": "Recommended AVM Module for Virtual Networks: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Network/virtualNetworks\nModule ID: br/public:avm/res/network/virtual-network:0.7\nParameters:\nparams: {\n    // Required parameters\n    addressPrefixes: [\n      '<addressPrefix>'\n    ]\n    name: 'nvnmax001'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    dnsServers: [\n      '10.0.1.4'\n      '10.0.1.5'\n    ]\n    flowTimeoutInMinutes: 20\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    roleAssignments: [\n      {\n        name: 'f5c27a7b-9b18-4dc1-b002-db3c38e80b64'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    subnets: [\n      {\n        addressPrefix: '<addressPrefix>'\n        name: 'GatewaySubnet'\n      }\n      {\n        addressPrefix: '<addressPrefix>'\n        name: 'az-subnet-x-001'\n        networkSecurityGroupResourceId: '<networkSecurityGroupResourceId>'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n        routeTableResourceId: '<routeTableResourceId>'\n        serviceEndpoints: [\n          'Microsoft.Sql'\n          'Microsoft.Storage'\n        ]\n      }\n      {\n        addressPrefix: '<addressPrefix>'\n        delegation: 'Microsoft.Netapp/volumes'\n        name: 'az-subnet-x-002'\n        networkSecurityGroupResourceId: '<networkSecurityGroupResourceId>'\n      }\n      {\n        addressPrefix: '<addressPrefix>'\n        name: 'az-subnet-x-003'\n        networkSecurityGroupResourceId: '<networkSecurityGroupResourceId>'\n        privateEndpointNetworkPolicies: 'Disabled'\n        privateLinkServiceNetworkPolicies: 'Enabled'\n      }\n      {\n        addressPrefix: '<addressPrefix>'\n        name: 'az-subnet-x-004'\n        natGatewayResourceId: ''\n        networkSecurityGroupResourceId: ''\n        routeTableResourceId: ''\n      }\n      {\n        addressPrefix: '<addressPrefix>'\n        name: 'AzureBastionSubnet'\n        networkSecurityGroupResourceId: '<networkSecurityGroupResourceId>'\n      }\n      {\n        addressPrefix: '<addressPrefix>'\n        name: 'AzureFirewallSubnet'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module virtualNetwork 'br/public:avm/res/network/virtual-network:0.7' = {\n  name: 'virtualNetworkDeployment'\n  params: {\n    // Required parameters\n    addressPrefixes: [\n      '<addressPrefix>'\n    ]\n    name: 'nvnmax001'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    dnsServers: [\n      '10.0.1.4'\n      '10.0.1.5'\n    ]\n    flowTimeoutInMinutes: 20\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    roleAssignments: [\n      {\n        name: 'f5c27a7b-9b18-4dc1-b002-db3c38e80b64'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    subnets: [\n      {\n        addressPrefix: '<addressPrefix>'\n        name: 'GatewaySubnet'\n      }\n      {\n        addressPrefix: '<addressPrefix>'\n        name: 'az-subnet-x-001'\n        networkSecurityGroupResourceId: '<networkSecurityGroupResourceId>'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n        routeTableResourceId: '<routeTableResourceId>'\n        serviceEndpoints: [\n          'Microsoft.Sql'\n          'Microsoft.Storage'\n        ]\n      }\n      {\n        addressPrefix: '<addressPrefix>'\n        delegation: 'Microsoft.Netapp/volumes'\n        name: 'az-subnet-x-002'\n        networkSecurityGroupResourceId: '<networkSecurityGroupResourceId>'\n      }\n      {\n        addressPrefix: '<addressPrefix>'\n        name: 'az-subnet-x-003'\n        networkSecurityGroupResourceId: '<networkSecurityGroupResourceId>'\n        privateEndpointNetworkPolicies: 'Disabled'\n        privateLinkServiceNetworkPolicies: 'Enabled'\n      }\n      {\n        addressPrefix: '<addressPrefix>'\n        name: 'az-subnet-x-004'\n        natGatewayResourceId: ''\n        networkSecurityGroupResourceId: ''\n        routeTableResourceId: ''\n      }\n      {\n        addressPrefix: '<addressPrefix>'\n        name: 'AzureBastionSubnet'\n        networkSecurityGroupResourceId: '<networkSecurityGroupResourceId>'\n      }\n      {\n        addressPrefix: '<addressPrefix>'\n        name: 'AzureFirewallSubnet'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_network_virtual-network_example_5", "source": "avm/res/network/virtual-network/README.md", "content_to_embed": "Recommended AVM Module for Virtual Networks: Deploying a bi-directional peering - This instance deploys the module with both an inbound and outbound peering.\nResource Type Path: Microsoft.Network/virtualNetworks\nModule ID: br/public:avm/res/network/virtual-network:0.7\nParameters:\nparams: {\n    // Required parameters\n    addressPrefixes: [\n      '10.1.0.0/24'\n    ]\n    name: 'nvnpeer001'\n    // Non-required parameters\n    location: '<location>'\n    peerings: [\n      {\n        allowForwardedTraffic: true\n        allowGatewayTransit: false\n        allowVirtualNetworkAccess: true\n        remotePeeringAllowForwardedTraffic: true\n        remotePeeringAllowVirtualNetworkAccess: true\n        remotePeeringEnabled: true\n        remotePeeringName: 'customName'\n        remoteVirtualNetworkResourceId: '<remoteVirtualNetworkResourceId>'\n        useRemoteGateways: false\n      }\n    ]\n    subnets: [\n      {\n        addressPrefix: '10.1.0.0/26'\n        name: 'GatewaySubnet'\n      }\n      {\n        addressPrefix: '10.1.0.64/26'\n        name: 'AzureBastionSubnet'\n        networkSecurityGroupResourceId: '<networkSecurityGroupResourceId>'\n      }\n      {\n        addressPrefix: '10.1.0.128/26'\n        name: 'AzureFirewallSubnet'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module virtualNetwork 'br/public:avm/res/network/virtual-network:0.7' = {\n  name: 'virtualNetworkDeployment'\n  params: {\n    // Required parameters\n    addressPrefixes: [\n      '10.1.0.0/24'\n    ]\n    name: 'nvnpeer001'\n    // Non-required parameters\n    location: '<location>'\n    peerings: [\n      {\n        allowForwardedTraffic: true\n        allowGatewayTransit: false\n        allowVirtualNetworkAccess: true\n        remotePeeringAllowForwardedTraffic: true\n        remotePeeringAllowVirtualNetworkAccess: true\n        remotePeeringEnabled: true\n        remotePeeringName: 'customName'\n        remoteVirtualNetworkResourceId: '<remoteVirtualNetworkResourceId>'\n        useRemoteGateways: false\n      }\n    ]\n    subnets: [\n      {\n        addressPrefix: '10.1.0.0/26'\n        name: 'GatewaySubnet'\n      }\n      {\n        addressPrefix: '10.1.0.64/26'\n        name: 'AzureBastionSubnet'\n        networkSecurityGroupResourceId: '<networkSecurityGroupResourceId>'\n      }\n      {\n        addressPrefix: '10.1.0.128/26'\n        name: 'AzureFirewallSubnet'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_network_virtual-network_example_6", "source": "avm/res/network/virtual-network/README.md", "content_to_embed": "Recommended AVM Module for Virtual Networks: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Well-Architected Framework.\nResource Type Path: Microsoft.Network/virtualNetworks\nModule ID: br/public:avm/res/network/virtual-network:0.7\nParameters:\nparams: {\n    // Required parameters\n    addressPrefixes: [\n      '<addressPrefix>'\n    ]\n    name: 'nvnwaf001'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    dnsServers: [\n      '10.0.1.4'\n      '10.0.1.5'\n    ]\n    flowTimeoutInMinutes: 20\n    location: '<location>'\n    subnets: [\n      {\n        addressPrefix: '<addressPrefix>'\n        name: 'GatewaySubnet'\n      }\n      {\n        addressPrefix: '<addressPrefix>'\n        name: 'az-subnet-x-001'\n        networkSecurityGroupResourceId: '<networkSecurityGroupResourceId>'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Reader'\n          }\n        ]\n        routeTableResourceId: '<routeTableResourceId>'\n        serviceEndpoints: [\n          'Microsoft.Sql'\n          'Microsoft.Storage'\n        ]\n      }\n      {\n        addressPrefix: '<addressPrefix>'\n        delegation: 'Microsoft.Netapp/volumes'\n        name: 'az-subnet-x-002'\n        networkSecurityGroupResourceId: '<networkSecurityGroupResourceId>'\n      }\n      {\n        addressPrefix: '<addressPrefix>'\n        name: 'az-subnet-x-003'\n        networkSecurityGroupResourceId: '<networkSecurityGroupResourceId>'\n        privateEndpointNetworkPolicies: 'Disabled'\n        privateLinkServiceNetworkPolicies: 'Enabled'\n      }\n      {\n        addressPrefix: '<addressPrefix>'\n        name: 'AzureBastionSubnet'\n        networkSecurityGroupResourceId: '<networkSecurityGroupResourceId>'\n      }\n      {\n        addressPrefix: '<addressPrefix>'\n        name: 'AzureFirewallSubnet'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module virtualNetwork 'br/public:avm/res/network/virtual-network:0.7' = {\n  name: 'virtualNetworkDeployment'\n  params: {\n    // Required parameters\n    addressPrefixes: [\n      '<addressPrefix>'\n    ]\n    name: 'nvnwaf001'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    dnsServers: [\n      '10.0.1.4'\n      '10.0.1.5'\n    ]\n    flowTimeoutInMinutes: 20\n    location: '<location>'\n    subnets: [\n      {\n        addressPrefix: '<addressPrefix>'\n        name: 'GatewaySubnet'\n      }\n      {\n        addressPrefix: '<addressPrefix>'\n        name: 'az-subnet-x-001'\n        networkSecurityGroupResourceId: '<networkSecurityGroupResourceId>'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Reader'\n          }\n        ]\n        routeTableResourceId: '<routeTableResourceId>'\n        serviceEndpoints: [\n          'Microsoft.Sql'\n          'Microsoft.Storage'\n        ]\n      }\n      {\n        addressPrefix: '<addressPrefix>'\n        delegation: 'Microsoft.Netapp/volumes'\n        name: 'az-subnet-x-002'\n        networkSecurityGroupResourceId: '<networkSecurityGroupResourceId>'\n      }\n      {\n        addressPrefix: '<addressPrefix>'\n        name: 'az-subnet-x-003'\n        networkSecurityGroupResourceId: '<networkSecurityGroupResourceId>'\n        privateEndpointNetworkPolicies: 'Disabled'\n        privateLinkServiceNetworkPolicies: 'Enabled'\n      }\n      {\n        addressPrefix: '<addressPrefix>'\n        name: 'AzureBastionSubnet'\n        networkSecurityGroupResourceId: '<networkSecurityGroupResourceId>'\n      }\n      {\n        addressPrefix: '<addressPrefix>'\n        name: 'AzureFirewallSubnet'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_network_virtual-network-gateway_example_1", "source": "avm/res/network/virtual-network-gateway/README.md", "content_to_embed": "Recommended AVM Module for Virtual Network Gateways: VPN Active Active with BGP settings - This instance deploys the module with the VPN Active Active with BGP settings.\nResource Type Path: Microsoft.Network/virtualNetworkGateways\nModule ID: br/public:avm/res/network/virtual-network-gateway:0.10\nParameters:\nparams: {\n    // Required parameters\n    clusterSettings: {\n      clusterMode: 'activeActiveBgp'\n    }\n    gatewayType: 'Vpn'\n    name: 'nvgaab001'\n    virtualNetworkResourceId: '<virtualNetworkResourceId>'\n    // Non-required parameters\n    allowRemoteVnetTraffic: true\n    disableIPSecReplayProtection: true\n    domainNameLabel: [\n      'dm-nvgaab'\n    ]\n    enableBgpRouteTranslationForNat: true\n    enablePrivateIpAddress: true\n    gatewayDefaultSiteLocalNetworkGatewayResourceId: '<gatewayDefaultSiteLocalNetworkGatewayResourceId>'\n    publicIpAvailabilityZones: [\n      1\n      2\n      3\n    ]\n    skuName: 'VpnGw2AZ'\n    vpnGatewayGeneration: 'Generation2'\n    vpnType: 'RouteBased'\n  }", "bicep": "module virtualNetworkGateway 'br/public:avm/res/network/virtual-network-gateway:0.10' = {\n  name: 'virtualNetworkGatewayDeployment'\n  params: {\n    // Required parameters\n    clusterSettings: {\n      clusterMode: 'activeActiveBgp'\n    }\n    gatewayType: 'Vpn'\n    name: 'nvgaab001'\n    virtualNetworkResourceId: '<virtualNetworkResourceId>'\n    // Non-required parameters\n    allowRemoteVnetTraffic: true\n    disableIPSecReplayProtection: true\n    domainNameLabel: [\n      'dm-nvgaab'\n    ]\n    enableBgpRouteTranslationForNat: true\n    enablePrivateIpAddress: true\n    gatewayDefaultSiteLocalNetworkGatewayResourceId: '<gatewayDefaultSiteLocalNetworkGatewayResourceId>'\n    publicIpAvailabilityZones: [\n      1\n      2\n      3\n    ]\n    skuName: 'VpnGw2AZ'\n    vpnGatewayGeneration: 'Generation2'\n    vpnType: 'RouteBased'\n  }\n}"}
{"id": "avm_res_network_virtual-network-gateway_example_2", "source": "avm/res/network/virtual-network-gateway/README.md", "content_to_embed": "Recommended AVM Module for Virtual Network Gateways: VPN Active Active with BGP settings - This instance deploys the module with the VPN Active Active with APIPA BGP settings.\nResource Type Path: Microsoft.Network/virtualNetworkGateways\nModule ID: br/public:avm/res/network/virtual-network-gateway:0.10\nParameters:\nparams: {\n    // Required parameters\n    clusterSettings: {\n      clusterMode: 'activeActiveBgp'\n      customBgpIpAddresses: [\n        '169.254.21.4'\n        '169.254.21.5'\n      ]\n      secondCustomBgpIpAddresses: [\n        '169.254.22.4'\n        '169.254.22.5'\n      ]\n    }\n    gatewayType: 'Vpn'\n    name: 'nvgaaa001'\n    virtualNetworkResourceId: '<virtualNetworkResourceId>'\n    // Non-required parameters\n    allowRemoteVnetTraffic: true\n    disableIPSecReplayProtection: true\n    domainNameLabel: [\n      'dm-nvgaaa'\n    ]\n    enableBgpRouteTranslationForNat: true\n    enablePrivateIpAddress: true\n    gatewayDefaultSiteLocalNetworkGatewayResourceId: '<gatewayDefaultSiteLocalNetworkGatewayResourceId>'\n    publicIpAvailabilityZones: [\n      1\n      2\n      3\n    ]\n    skuName: 'VpnGw2AZ'\n    vpnGatewayGeneration: 'Generation2'\n    vpnType: 'RouteBased'\n  }", "bicep": "module virtualNetworkGateway 'br/public:avm/res/network/virtual-network-gateway:0.10' = {\n  name: 'virtualNetworkGatewayDeployment'\n  params: {\n    // Required parameters\n    clusterSettings: {\n      clusterMode: 'activeActiveBgp'\n      customBgpIpAddresses: [\n        '169.254.21.4'\n        '169.254.21.5'\n      ]\n      secondCustomBgpIpAddresses: [\n        '169.254.22.4'\n        '169.254.22.5'\n      ]\n    }\n    gatewayType: 'Vpn'\n    name: 'nvgaaa001'\n    virtualNetworkResourceId: '<virtualNetworkResourceId>'\n    // Non-required parameters\n    allowRemoteVnetTraffic: true\n    disableIPSecReplayProtection: true\n    domainNameLabel: [\n      'dm-nvgaaa'\n    ]\n    enableBgpRouteTranslationForNat: true\n    enablePrivateIpAddress: true\n    gatewayDefaultSiteLocalNetworkGatewayResourceId: '<gatewayDefaultSiteLocalNetworkGatewayResourceId>'\n    publicIpAvailabilityZones: [\n      1\n      2\n      3\n    ]\n    skuName: 'VpnGw2AZ'\n    vpnGatewayGeneration: 'Generation2'\n    vpnType: 'RouteBased'\n  }\n}"}
{"id": "avm_res_network_virtual-network-gateway_example_3", "source": "avm/res/network/virtual-network-gateway/README.md", "content_to_embed": "Recommended AVM Module for Virtual Network Gateways: VPN Active Active without BGP settings using two existent Public IPs - This instance deploys the module with the VPN Active Active without BGP settings.\nResource Type Path: Microsoft.Network/virtualNetworkGateways\nModule ID: br/public:avm/res/network/virtual-network-gateway:0.10\nParameters:\nparams: {\n    // Required parameters\n    clusterSettings: {\n      clusterMode: 'activeActiveNoBgp'\n      existingSecondaryPublicIPResourceId: '<existingSecondaryPublicIPResourceId>'\n    }\n    gatewayType: 'Vpn'\n    name: 'nvgaaep001'\n    virtualNetworkResourceId: '<virtualNetworkResourceId>'\n    // Non-required parameters\n    allowRemoteVnetTraffic: true\n    disableIPSecReplayProtection: true\n    domainNameLabel: [\n      'dm-nvgaaep'\n    ]\n    enableBgpRouteTranslationForNat: true\n    enablePrivateIpAddress: true\n    existingPrimaryPublicIPResourceId: '<existingPrimaryPublicIPResourceId>'\n    gatewayDefaultSiteLocalNetworkGatewayResourceId: '<gatewayDefaultSiteLocalNetworkGatewayResourceId>'\n    publicIpAvailabilityZones: [\n      1\n      2\n      3\n    ]\n    skuName: 'VpnGw2AZ'\n    vpnGatewayGeneration: 'Generation2'\n    vpnType: 'RouteBased'\n  }", "bicep": "module virtualNetworkGateway 'br/public:avm/res/network/virtual-network-gateway:0.10' = {\n  name: 'virtualNetworkGatewayDeployment'\n  params: {\n    // Required parameters\n    clusterSettings: {\n      clusterMode: 'activeActiveNoBgp'\n      existingSecondaryPublicIPResourceId: '<existingSecondaryPublicIPResourceId>'\n    }\n    gatewayType: 'Vpn'\n    name: 'nvgaaep001'\n    virtualNetworkResourceId: '<virtualNetworkResourceId>'\n    // Non-required parameters\n    allowRemoteVnetTraffic: true\n    disableIPSecReplayProtection: true\n    domainNameLabel: [\n      'dm-nvgaaep'\n    ]\n    enableBgpRouteTranslationForNat: true\n    enablePrivateIpAddress: true\n    existingPrimaryPublicIPResourceId: '<existingPrimaryPublicIPResourceId>'\n    gatewayDefaultSiteLocalNetworkGatewayResourceId: '<gatewayDefaultSiteLocalNetworkGatewayResourceId>'\n    publicIpAvailabilityZones: [\n      1\n      2\n      3\n    ]\n    skuName: 'VpnGw2AZ'\n    vpnGatewayGeneration: 'Generation2'\n    vpnType: 'RouteBased'\n  }\n}"}
{"id": "avm_res_network_virtual-network-gateway_example_4", "source": "avm/res/network/virtual-network-gateway/README.md", "content_to_embed": "Recommended AVM Module for Virtual Network Gateways: VPN Active Active without BGP settings - This instance deploys the module with the VPN Active Active without BGP settings.\nResource Type Path: Microsoft.Network/virtualNetworkGateways\nModule ID: br/public:avm/res/network/virtual-network-gateway:0.10\nParameters:\nparams: {\n    // Required parameters\n    clusterSettings: {\n      clusterMode: 'activeActiveNoBgp'\n    }\n    gatewayType: 'Vpn'\n    name: 'nvgaa001'\n    virtualNetworkResourceId: '<virtualNetworkResourceId>'\n    // Non-required parameters\n    allowRemoteVnetTraffic: true\n    disableIPSecReplayProtection: true\n    domainNameLabel: [\n      'dm-nvgaa'\n    ]\n    enableBgpRouteTranslationForNat: true\n    enablePrivateIpAddress: true\n    gatewayDefaultSiteLocalNetworkGatewayResourceId: '<gatewayDefaultSiteLocalNetworkGatewayResourceId>'\n    publicIpAvailabilityZones: [\n      1\n      2\n      3\n    ]\n    skuName: 'VpnGw2AZ'\n    vpnGatewayGeneration: 'Generation2'\n    vpnType: 'RouteBased'\n  }", "bicep": "module virtualNetworkGateway 'br/public:avm/res/network/virtual-network-gateway:0.10' = {\n  name: 'virtualNetworkGatewayDeployment'\n  params: {\n    // Required parameters\n    clusterSettings: {\n      clusterMode: 'activeActiveNoBgp'\n    }\n    gatewayType: 'Vpn'\n    name: 'nvgaa001'\n    virtualNetworkResourceId: '<virtualNetworkResourceId>'\n    // Non-required parameters\n    allowRemoteVnetTraffic: true\n    disableIPSecReplayProtection: true\n    domainNameLabel: [\n      'dm-nvgaa'\n    ]\n    enableBgpRouteTranslationForNat: true\n    enablePrivateIpAddress: true\n    gatewayDefaultSiteLocalNetworkGatewayResourceId: '<gatewayDefaultSiteLocalNetworkGatewayResourceId>'\n    publicIpAvailabilityZones: [\n      1\n      2\n      3\n    ]\n    skuName: 'VpnGw2AZ'\n    vpnGatewayGeneration: 'Generation2'\n    vpnType: 'RouteBased'\n  }\n}"}
{"id": "avm_res_network_virtual-network-gateway_example_5", "source": "avm/res/network/virtual-network-gateway/README.md", "content_to_embed": "Recommended AVM Module for Virtual Network Gateways: VPN Active Passive with BGP settings - This instance deploys the module with the VPN Active Passive with APIPA BGP settings.\nResource Type Path: Microsoft.Network/virtualNetworkGateways\nModule ID: br/public:avm/res/network/virtual-network-gateway:0.10\nParameters:\nparams: {\n    // Required parameters\n    clusterSettings: {\n      asn: 65815\n      clusterMode: 'activePassiveBgp'\n      customBgpIpAddresses: [\n        '169.254.21.4'\n        '169.254.21.5'\n      ]\n    }\n    gatewayType: 'Vpn'\n    name: 'nvgapb001'\n    virtualNetworkResourceId: '<virtualNetworkResourceId>'\n    // Non-required parameters\n    allowRemoteVnetTraffic: true\n    disableIPSecReplayProtection: true\n    domainNameLabel: [\n      'dm-nvgapb'\n    ]\n    enableBgpRouteTranslationForNat: true\n    enablePrivateIpAddress: true\n    gatewayDefaultSiteLocalNetworkGatewayResourceId: '<gatewayDefaultSiteLocalNetworkGatewayResourceId>'\n    publicIpAvailabilityZones: [\n      1\n      2\n      3\n    ]\n    skuName: 'VpnGw2AZ'\n    vpnGatewayGeneration: 'Generation2'\n    vpnType: 'RouteBased'\n  }", "bicep": "module virtualNetworkGateway 'br/public:avm/res/network/virtual-network-gateway:0.10' = {\n  name: 'virtualNetworkGatewayDeployment'\n  params: {\n    // Required parameters\n    clusterSettings: {\n      asn: 65815\n      clusterMode: 'activePassiveBgp'\n      customBgpIpAddresses: [\n        '169.254.21.4'\n        '169.254.21.5'\n      ]\n    }\n    gatewayType: 'Vpn'\n    name: 'nvgapb001'\n    virtualNetworkResourceId: '<virtualNetworkResourceId>'\n    // Non-required parameters\n    allowRemoteVnetTraffic: true\n    disableIPSecReplayProtection: true\n    domainNameLabel: [\n      'dm-nvgapb'\n    ]\n    enableBgpRouteTranslationForNat: true\n    enablePrivateIpAddress: true\n    gatewayDefaultSiteLocalNetworkGatewayResourceId: '<gatewayDefaultSiteLocalNetworkGatewayResourceId>'\n    publicIpAvailabilityZones: [\n      1\n      2\n      3\n    ]\n    skuName: 'VpnGw2AZ'\n    vpnGatewayGeneration: 'Generation2'\n    vpnType: 'RouteBased'\n  }\n}"}
{"id": "avm_res_network_virtual-network-gateway_example_6", "source": "avm/res/network/virtual-network-gateway/README.md", "content_to_embed": "Recommended AVM Module for Virtual Network Gateways: VPN Active Passive with BGP settings using existing Public IP - This instance deploys the module with the VPN Active Passive with APIPA BGP settings and existing primary public IP.\nResource Type Path: Microsoft.Network/virtualNetworkGateways\nModule ID: br/public:avm/res/network/virtual-network-gateway:0.10\nParameters:\nparams: {\n    // Required parameters\n    clusterSettings: {\n      asn: 65815\n      clusterMode: 'activePassiveBgp'\n      customBgpIpAddresses: [\n        '169.254.21.4'\n        '169.254.21.5'\n      ]\n    }\n    gatewayType: 'Vpn'\n    name: 'nvgapep001'\n    virtualNetworkResourceId: '<virtualNetworkResourceId>'\n    // Non-required parameters\n    allowRemoteVnetTraffic: true\n    disableIPSecReplayProtection: true\n    domainNameLabel: [\n      'dm-nvgapep'\n    ]\n    enableBgpRouteTranslationForNat: true\n    enablePrivateIpAddress: true\n    existingPrimaryPublicIPResourceId: '<existingPrimaryPublicIPResourceId>'\n    gatewayDefaultSiteLocalNetworkGatewayResourceId: '<gatewayDefaultSiteLocalNetworkGatewayResourceId>'\n    publicIpAvailabilityZones: [\n      1\n      2\n      3\n    ]\n    skuName: 'VpnGw2AZ'\n    vpnGatewayGeneration: 'Generation2'\n    vpnType: 'RouteBased'\n  }", "bicep": "module virtualNetworkGateway 'br/public:avm/res/network/virtual-network-gateway:0.10' = {\n  name: 'virtualNetworkGatewayDeployment'\n  params: {\n    // Required parameters\n    clusterSettings: {\n      asn: 65815\n      clusterMode: 'activePassiveBgp'\n      customBgpIpAddresses: [\n        '169.254.21.4'\n        '169.254.21.5'\n      ]\n    }\n    gatewayType: 'Vpn'\n    name: 'nvgapep001'\n    virtualNetworkResourceId: '<virtualNetworkResourceId>'\n    // Non-required parameters\n    allowRemoteVnetTraffic: true\n    disableIPSecReplayProtection: true\n    domainNameLabel: [\n      'dm-nvgapep'\n    ]\n    enableBgpRouteTranslationForNat: true\n    enablePrivateIpAddress: true\n    existingPrimaryPublicIPResourceId: '<existingPrimaryPublicIPResourceId>'\n    gatewayDefaultSiteLocalNetworkGatewayResourceId: '<gatewayDefaultSiteLocalNetworkGatewayResourceId>'\n    publicIpAvailabilityZones: [\n      1\n      2\n      3\n    ]\n    skuName: 'VpnGw2AZ'\n    vpnGatewayGeneration: 'Generation2'\n    vpnType: 'RouteBased'\n  }\n}"}
{"id": "avm_res_network_virtual-network-gateway_example_7", "source": "avm/res/network/virtual-network-gateway/README.md", "content_to_embed": "Recommended AVM Module for Virtual Network Gateways: VPN Active Passive without BGP settings - This instance deploys the module with the VPN Active Passive without BGP settings.\nResource Type Path: Microsoft.Network/virtualNetworkGateways\nModule ID: br/public:avm/res/network/virtual-network-gateway:0.10\nParameters:\nparams: {\n    // Required parameters\n    clusterSettings: {\n      clusterMode: 'activePassiveNoBgp'\n    }\n    gatewayType: 'Vpn'\n    name: 'nvgap001'\n    virtualNetworkResourceId: '<virtualNetworkResourceId>'\n    // Non-required parameters\n    allowRemoteVnetTraffic: true\n    disableIPSecReplayProtection: true\n    domainNameLabel: [\n      'dm-nvgap'\n    ]\n    enableBgpRouteTranslationForNat: true\n    enablePrivateIpAddress: true\n    gatewayDefaultSiteLocalNetworkGatewayResourceId: '<gatewayDefaultSiteLocalNetworkGatewayResourceId>'\n    publicIpAvailabilityZones: [\n      1\n      2\n      3\n    ]\n    skuName: 'VpnGw2AZ'\n    vpnGatewayGeneration: 'Generation2'\n    vpnType: 'RouteBased'\n  }", "bicep": "module virtualNetworkGateway 'br/public:avm/res/network/virtual-network-gateway:0.10' = {\n  name: 'virtualNetworkGatewayDeployment'\n  params: {\n    // Required parameters\n    clusterSettings: {\n      clusterMode: 'activePassiveNoBgp'\n    }\n    gatewayType: 'Vpn'\n    name: 'nvgap001'\n    virtualNetworkResourceId: '<virtualNetworkResourceId>'\n    // Non-required parameters\n    allowRemoteVnetTraffic: true\n    disableIPSecReplayProtection: true\n    domainNameLabel: [\n      'dm-nvgap'\n    ]\n    enableBgpRouteTranslationForNat: true\n    enablePrivateIpAddress: true\n    gatewayDefaultSiteLocalNetworkGatewayResourceId: '<gatewayDefaultSiteLocalNetworkGatewayResourceId>'\n    publicIpAvailabilityZones: [\n      1\n      2\n      3\n    ]\n    skuName: 'VpnGw2AZ'\n    vpnGatewayGeneration: 'Generation2'\n    vpnType: 'RouteBased'\n  }\n}"}
{"id": "avm_res_network_virtual-network-gateway_example_8", "source": "avm/res/network/virtual-network-gateway/README.md", "content_to_embed": "Recommended AVM Module for Virtual Network Gateways: Custom Routes - This instance deploys the module with custom routes configuration for Point-to-Site VPN clients.\nResource Type Path: Microsoft.Network/virtualNetworkGateways\nModule ID: br/public:avm/res/network/virtual-network-gateway:0.10\nParameters:\nparams: {\n    // Required parameters\n    clusterSettings: {\n      clusterMode: 'activePassiveNoBgp'\n    }\n    gatewayType: 'Vpn'\n    name: 'nvgcr001'\n    virtualNetworkResourceId: '<virtualNetworkResourceId>'\n    // Non-required parameters\n    customRoutes: {\n      addressPrefixes: [\n        '10.1.0.0/16'\n        '10.2.0.0/16'\n        '192.168.100.0/24'\n        '192.168.200.0/24'\n      ]\n    }\n    skuName: 'VpnGw2AZ'\n    vpnClientAddressPoolPrefix: '172.16.0.0/24'\n    vpnGatewayGeneration: 'Generation2'\n    vpnType: 'RouteBased'\n  }", "bicep": "module virtualNetworkGateway 'br/public:avm/res/network/virtual-network-gateway:0.10' = {\n  name: 'virtualNetworkGatewayDeployment'\n  params: {\n    // Required parameters\n    clusterSettings: {\n      clusterMode: 'activePassiveNoBgp'\n    }\n    gatewayType: 'Vpn'\n    name: 'nvgcr001'\n    virtualNetworkResourceId: '<virtualNetworkResourceId>'\n    // Non-required parameters\n    customRoutes: {\n      addressPrefixes: [\n        '10.1.0.0/16'\n        '10.2.0.0/16'\n        '192.168.100.0/24'\n        '192.168.200.0/24'\n      ]\n    }\n    skuName: 'VpnGw2AZ'\n    vpnClientAddressPoolPrefix: '172.16.0.0/24'\n    vpnGatewayGeneration: 'Generation2'\n    vpnType: 'RouteBased'\n  }\n}"}
{"id": "avm_res_network_virtual-network-gateway_example_9", "source": "avm/res/network/virtual-network-gateway/README.md", "content_to_embed": "Recommended AVM Module for Virtual Network Gateways: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Network/virtualNetworkGateways\nModule ID: br/public:avm/res/network/virtual-network-gateway:0.10\nParameters:\nparams: {\n    // Required parameters\n    clusterSettings: {\n      clusterMode: 'activeActiveNoBgp'\n    }\n    gatewayType: 'Vpn'\n    name: 'nvgmin001'\n    virtualNetworkResourceId: '<virtualNetworkResourceId>'\n  }", "bicep": "module virtualNetworkGateway 'br/public:avm/res/network/virtual-network-gateway:0.10' = {\n  name: 'virtualNetworkGatewayDeployment'\n  params: {\n    // Required parameters\n    clusterSettings: {\n      clusterMode: 'activeActiveNoBgp'\n    }\n    gatewayType: 'Vpn'\n    name: 'nvgmin001'\n    virtualNetworkResourceId: '<virtualNetworkResourceId>'\n  }\n}"}
{"id": "avm_res_network_virtual-network-gateway_example_10", "source": "avm/res/network/virtual-network-gateway/README.md", "content_to_embed": "Recommended AVM Module for Virtual Network Gateways: ExpressRoute - This instance deploys the module with the ExpressRoute set of required parameters.\nResource Type Path: Microsoft.Network/virtualNetworkGateways\nModule ID: br/public:avm/res/network/virtual-network-gateway:0.10\nParameters:\nparams: {\n    // Required parameters\n    clusterSettings: {\n      clusterMode: 'activePassiveBgp'\n    }\n    gatewayType: 'ExpressRoute'\n    name: 'nvger002'\n    virtualNetworkResourceId: '<virtualNetworkResourceId>'\n    // Non-required parameters\n    skuName: 'ErGw1AZ'\n  }", "bicep": "module virtualNetworkGateway 'br/public:avm/res/network/virtual-network-gateway:0.10' = {\n  name: 'virtualNetworkGatewayDeployment'\n  params: {\n    // Required parameters\n    clusterSettings: {\n      clusterMode: 'activePassiveBgp'\n    }\n    gatewayType: 'ExpressRoute'\n    name: 'nvger002'\n    virtualNetworkResourceId: '<virtualNetworkResourceId>'\n    // Non-required parameters\n    skuName: 'ErGw1AZ'\n  }\n}"}
{"id": "avm_res_network_virtual-network-gateway_example_11", "source": "avm/res/network/virtual-network-gateway/README.md", "content_to_embed": "Recommended AVM Module for Virtual Network Gateways: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Network/virtualNetworkGateways\nModule ID: br/public:avm/res/network/virtual-network-gateway:0.10\nParameters:\nparams: {\n    // Required parameters\n    clusterSettings: {\n      clusterMode: 'activeActiveBgp'\n      customBgpIpAddresses: [\n        '169.254.21.4'\n        '169.254.21.5'\n      ]\n      secondCustomBgpIpAddresses: [\n        '169.254.22.4'\n        '169.254.22.5'\n      ]\n      secondPipName: 'nvgmax001-pip2'\n    }\n    gatewayType: 'Vpn'\n    name: 'nvgmax001'\n    virtualNetworkResourceId: '<virtualNetworkResourceId>'\n    // Non-required parameters\n    allowRemoteVnetTraffic: true\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    disableIPSecReplayProtection: true\n    domainNameLabel: [\n      'dm-nvgmax'\n    ]\n    enableBgpRouteTranslationForNat: true\n    enablePrivateIpAddress: true\n    gatewayDefaultSiteLocalNetworkGatewayResourceId: '<gatewayDefaultSiteLocalNetworkGatewayResourceId>'\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    natRules: [\n      {\n        externalMappings: [\n          {\n            addressSpace: '192.168.0.0/24'\n            portRange: '100'\n          }\n        ]\n        internalMappings: [\n          {\n            addressSpace: '10.100.0.0/24'\n            portRange: '100'\n          }\n        ]\n        mode: 'IngressSnat'\n        name: 'nat-rule-1-static-IngressSnat'\n        type: 'Static'\n      }\n      {\n        externalMappings: [\n          {\n            addressSpace: '10.200.0.0/26'\n          }\n        ]\n        internalMappings: [\n          {\n            addressSpace: '172.16.0.0/26'\n          }\n        ]\n        mode: 'EgressSnat'\n        name: 'nat-rule-2-dynamic-EgressSnat'\n        type: 'Static'\n      }\n    ]\n    publicIpAvailabilityZones: [\n      1\n      2\n      3\n    ]\n    roleAssignments: [\n      {\n        name: 'db30550e-70b7-4dbe-901e-e9363b69c05f'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    skuName: 'VpnGw2AZ'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    vpnGatewayGeneration: 'Generation2'\n    vpnType: 'RouteBased'\n  }", "bicep": "module virtualNetworkGateway 'br/public:avm/res/network/virtual-network-gateway:0.10' = {\n  name: 'virtualNetworkGatewayDeployment'\n  params: {\n    // Required parameters\n    clusterSettings: {\n      clusterMode: 'activeActiveBgp'\n      customBgpIpAddresses: [\n        '169.254.21.4'\n        '169.254.21.5'\n      ]\n      secondCustomBgpIpAddresses: [\n        '169.254.22.4'\n        '169.254.22.5'\n      ]\n      secondPipName: 'nvgmax001-pip2'\n    }\n    gatewayType: 'Vpn'\n    name: 'nvgmax001'\n    virtualNetworkResourceId: '<virtualNetworkResourceId>'\n    // Non-required parameters\n    allowRemoteVnetTraffic: true\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    disableIPSecReplayProtection: true\n    domainNameLabel: [\n      'dm-nvgmax'\n    ]\n    enableBgpRouteTranslationForNat: true\n    enablePrivateIpAddress: true\n    gatewayDefaultSiteLocalNetworkGatewayResourceId: '<gatewayDefaultSiteLocalNetworkGatewayResourceId>'\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    natRules: [\n      {\n        externalMappings: [\n          {\n            addressSpace: '192.168.0.0/24'\n            portRange: '100'\n          }\n        ]\n        internalMappings: [\n          {\n            addressSpace: '10.100.0.0/24'\n            portRange: '100'\n          }\n        ]\n        mode: 'IngressSnat'\n        name: 'nat-rule-1-static-IngressSnat'\n        type: 'Static'\n      }\n      {\n        externalMappings: [\n          {\n            addressSpace: '10.200.0.0/26'\n          }\n        ]\n        internalMappings: [\n          {\n            addressSpace: '172.16.0.0/26'\n          }\n        ]\n        mode: 'EgressSnat'\n        name: 'nat-rule-2-dynamic-EgressSnat'\n        type: 'Static'\n      }\n    ]\n    publicIpAvailabilityZones: [\n      1\n      2\n      3\n    ]\n    roleAssignments: [\n      {\n        name: 'db30550e-70b7-4dbe-901e-e9363b69c05f'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    skuName: 'VpnGw2AZ'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    vpnGatewayGeneration: 'Generation2'\n    vpnType: 'RouteBased'\n  }\n}"}
{"id": "avm_res_network_virtual-network-gateway_example_12", "source": "avm/res/network/virtual-network-gateway/README.md", "content_to_embed": "Recommended AVM Module for Virtual Network Gateways: Using SKU without Availability Zones - This instance deploys the module with a SKU that does not support Availability Zones.\nResource Type Path: Microsoft.Network/virtualNetworkGateways\nModule ID: br/public:avm/res/network/virtual-network-gateway:0.10\nParameters:\nparams: {\n    // Required parameters\n    clusterSettings: {\n      clusterMode: 'activePassiveNoBgp'\n    }\n    gatewayType: 'Vpn'\n    name: 'nvgnaz001'\n    virtualNetworkResourceId: '<virtualNetworkResourceId>'\n    // Non-required parameters\n    publicIpAvailabilityZones: []\n    skuName: 'VpnGw1'\n  }", "bicep": "module virtualNetworkGateway 'br/public:avm/res/network/virtual-network-gateway:0.10' = {\n  name: 'virtualNetworkGatewayDeployment'\n  params: {\n    // Required parameters\n    clusterSettings: {\n      clusterMode: 'activePassiveNoBgp'\n    }\n    gatewayType: 'Vpn'\n    name: 'nvgnaz001'\n    virtualNetworkResourceId: '<virtualNetworkResourceId>'\n    // Non-required parameters\n    publicIpAvailabilityZones: []\n    skuName: 'VpnGw1'\n  }\n}"}
{"id": "avm_res_network_virtual-network-gateway_example_13", "source": "avm/res/network/virtual-network-gateway/README.md", "content_to_embed": "Recommended AVM Module for Virtual Network Gateways: VPN - This instance deploys the module with the VPN set of required parameters.\nResource Type Path: Microsoft.Network/virtualNetworkGateways\nModule ID: br/public:avm/res/network/virtual-network-gateway:0.10\nParameters:\nparams: {\n    // Required parameters\n    clusterSettings: {\n      clusterMode: 'activeActiveNoBgp'\n    }\n    gatewayType: 'Vpn'\n    name: 'nvgvpn001'\n    virtualNetworkResourceId: '<virtualNetworkResourceId>'\n    // Non-required parameters\n    allowRemoteVnetTraffic: true\n    disableIPSecReplayProtection: true\n    domainNameLabel: [\n      'dm-nvgvpn'\n    ]\n    enableBgpRouteTranslationForNat: true\n    enablePrivateIpAddress: true\n    gatewayDefaultSiteLocalNetworkGatewayResourceId: '<gatewayDefaultSiteLocalNetworkGatewayResourceId>'\n    publicIpAvailabilityZones: [\n      1\n      2\n      3\n    ]\n    skuName: 'VpnGw2AZ'\n    vpnGatewayGeneration: 'Generation2'\n    vpnType: 'RouteBased'\n  }", "bicep": "module virtualNetworkGateway 'br/public:avm/res/network/virtual-network-gateway:0.10' = {\n  name: 'virtualNetworkGatewayDeployment'\n  params: {\n    // Required parameters\n    clusterSettings: {\n      clusterMode: 'activeActiveNoBgp'\n    }\n    gatewayType: 'Vpn'\n    name: 'nvgvpn001'\n    virtualNetworkResourceId: '<virtualNetworkResourceId>'\n    // Non-required parameters\n    allowRemoteVnetTraffic: true\n    disableIPSecReplayProtection: true\n    domainNameLabel: [\n      'dm-nvgvpn'\n    ]\n    enableBgpRouteTranslationForNat: true\n    enablePrivateIpAddress: true\n    gatewayDefaultSiteLocalNetworkGatewayResourceId: '<gatewayDefaultSiteLocalNetworkGatewayResourceId>'\n    publicIpAvailabilityZones: [\n      1\n      2\n      3\n    ]\n    skuName: 'VpnGw2AZ'\n    vpnGatewayGeneration: 'Generation2'\n    vpnType: 'RouteBased'\n  }\n}"}
{"id": "avm_res_network_virtual-network-gateway_example_14", "source": "avm/res/network/virtual-network-gateway/README.md", "content_to_embed": "Recommended AVM Module for Virtual Network Gateways: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Network/virtualNetworkGateways\nModule ID: br/public:avm/res/network/virtual-network-gateway:0.10\nParameters:\nparams: {\n    // Required parameters\n    clusterSettings: {\n      asn: 65515\n      clusterMode: 'activeActiveBgp'\n      customBgpIpAddresses: [\n        '169.254.21.4'\n        '169.254.21.5'\n      ]\n      secondCustomBgpIpAddresses: [\n        '169.254.22.4'\n        '169.254.22.5'\n      ]\n    }\n    gatewayType: 'Vpn'\n    name: 'nvgmwaf001'\n    virtualNetworkResourceId: '<virtualNetworkResourceId>'\n    // Non-required parameters\n    allowRemoteVnetTraffic: true\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    disableIPSecReplayProtection: true\n    domainNameLabel: [\n      'dm-nvgmwaf'\n    ]\n    enableBgpRouteTranslationForNat: true\n    enablePrivateIpAddress: true\n    gatewayDefaultSiteLocalNetworkGatewayResourceId: '<gatewayDefaultSiteLocalNetworkGatewayResourceId>'\n    maintenanceConfiguration: {\n      assignmentName: 'myAssignment'\n      maintenanceConfigurationResourceId: '<maintenanceConfigurationResourceId>'\n    }\n    natRules: [\n      {\n        externalMappings: [\n          {\n            addressSpace: '192.168.0.0/24'\n            portRange: '100'\n          }\n        ]\n        internalMappings: [\n          {\n            addressSpace: '10.100.0.0/24'\n            portRange: '100'\n          }\n        ]\n        mode: 'IngressSnat'\n        name: 'nat-rule-1-static-IngressSnat'\n        type: 'Static'\n      }\n      {\n        externalMappings: [\n          {\n            addressSpace: '10.200.0.0/26'\n          }\n        ]\n        internalMappings: [\n          {\n            addressSpace: '172.16.0.0/26'\n          }\n        ]\n        mode: 'EgressSnat'\n        name: 'nat-rule-2-dynamic-EgressSnat'\n        type: 'Static'\n      }\n    ]\n    publicIpAvailabilityZones: [\n      1\n      2\n      3\n    ]\n    skuName: 'VpnGw2AZ'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    vpnGatewayGeneration: 'Generation2'\n    vpnType: 'RouteBased'\n  }", "bicep": "module virtualNetworkGateway 'br/public:avm/res/network/virtual-network-gateway:0.10' = {\n  name: 'virtualNetworkGatewayDeployment'\n  params: {\n    // Required parameters\n    clusterSettings: {\n      asn: 65515\n      clusterMode: 'activeActiveBgp'\n      customBgpIpAddresses: [\n        '169.254.21.4'\n        '169.254.21.5'\n      ]\n      secondCustomBgpIpAddresses: [\n        '169.254.22.4'\n        '169.254.22.5'\n      ]\n    }\n    gatewayType: 'Vpn'\n    name: 'nvgmwaf001'\n    virtualNetworkResourceId: '<virtualNetworkResourceId>'\n    // Non-required parameters\n    allowRemoteVnetTraffic: true\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    disableIPSecReplayProtection: true\n    domainNameLabel: [\n      'dm-nvgmwaf'\n    ]\n    enableBgpRouteTranslationForNat: true\n    enablePrivateIpAddress: true\n    gatewayDefaultSiteLocalNetworkGatewayResourceId: '<gatewayDefaultSiteLocalNetworkGatewayResourceId>'\n    maintenanceConfiguration: {\n      assignmentName: 'myAssignment'\n      maintenanceConfigurationResourceId: '<maintenanceConfigurationResourceId>'\n    }\n    natRules: [\n      {\n        externalMappings: [\n          {\n            addressSpace: '192.168.0.0/24'\n            portRange: '100'\n          }\n        ]\n        internalMappings: [\n          {\n            addressSpace: '10.100.0.0/24'\n            portRange: '100'\n          }\n        ]\n        mode: 'IngressSnat'\n        name: 'nat-rule-1-static-IngressSnat'\n        type: 'Static'\n      }\n      {\n        externalMappings: [\n          {\n            addressSpace: '10.200.0.0/26'\n          }\n        ]\n        internalMappings: [\n          {\n            addressSpace: '172.16.0.0/26'\n          }\n        ]\n        mode: 'EgressSnat'\n        name: 'nat-rule-2-dynamic-EgressSnat'\n        type: 'Static'\n      }\n    ]\n    publicIpAvailabilityZones: [\n      1\n      2\n      3\n    ]\n    skuName: 'VpnGw2AZ'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    vpnGatewayGeneration: 'Generation2'\n    vpnType: 'RouteBased'\n  }\n}"}
{"id": "avm_res_network_virtual-wan_example_1", "source": "avm/res/network/virtual-wan/README.md", "content_to_embed": "Recommended AVM Module for Virtual WANs: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Network/virtualWans\nModule ID: br/public:avm/res/network/virtual-wan:0.4\nParameters:\nparams: {\n    name: 'nvwmin001'\n  }", "bicep": "module virtualWan 'br/public:avm/res/network/virtual-wan:0.4' = {\n  name: 'virtualWanDeployment'\n  params: {\n    name: 'nvwmin001'\n  }\n}"}
{"id": "avm_res_network_virtual-wan_example_2", "source": "avm/res/network/virtual-wan/README.md", "content_to_embed": "Recommended AVM Module for Virtual WANs: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Network/virtualWans\nModule ID: br/public:avm/res/network/virtual-wan:0.4\nParameters:\nparams: {\n    // Required parameters\n    name: 'nvwmax001'\n    // Non-required parameters\n    allowBranchToBranchTraffic: true\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    roleAssignments: [\n      {\n        name: '360a3e7e-49bf-4e94-839f-14c91e8e0c23'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    type: 'Basic'\n  }", "bicep": "module virtualWan 'br/public:avm/res/network/virtual-wan:0.4' = {\n  name: 'virtualWanDeployment'\n  params: {\n    // Required parameters\n    name: 'nvwmax001'\n    // Non-required parameters\n    allowBranchToBranchTraffic: true\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    roleAssignments: [\n      {\n        name: '360a3e7e-49bf-4e94-839f-14c91e8e0c23'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    type: 'Basic'\n  }\n}"}
{"id": "avm_res_network_virtual-wan_example_3", "source": "avm/res/network/virtual-wan/README.md", "content_to_embed": "Recommended AVM Module for Virtual WANs: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Network/virtualWans\nModule ID: br/public:avm/res/network/virtual-wan:0.4\nParameters:\nparams: {\n    // Required parameters\n    name: 'nvwwaf001'\n    // Non-required parameters\n    allowBranchToBranchTraffic: true\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    type: 'Basic'\n  }", "bicep": "module virtualWan 'br/public:avm/res/network/virtual-wan:0.4' = {\n  name: 'virtualWanDeployment'\n  params: {\n    // Required parameters\n    name: 'nvwwaf001'\n    // Non-required parameters\n    allowBranchToBranchTraffic: true\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    type: 'Basic'\n  }\n}"}
{"id": "avm_res_network_vpn-gateway_example_1", "source": "avm/res/network/vpn-gateway/README.md", "content_to_embed": "Recommended AVM Module for VPN Gateways: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Network/vpnGateways\nModule ID: br/public:avm/res/network/vpn-gateway:0.2\nParameters:\nparams: {\n    // Required parameters\n    name: 'vpngmin001'\n    virtualHubResourceId: '<virtualHubResourceId>'\n  }", "bicep": "module vpnGateway 'br/public:avm/res/network/vpn-gateway:0.2' = {\n  name: 'vpnGatewayDeployment'\n  params: {\n    // Required parameters\n    name: 'vpngmin001'\n    virtualHubResourceId: '<virtualHubResourceId>'\n  }\n}"}
{"id": "avm_res_network_vpn-gateway_example_2", "source": "avm/res/network/vpn-gateway/README.md", "content_to_embed": "Recommended AVM Module for VPN Gateways: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Network/vpnGateways\nModule ID: br/public:avm/res/network/vpn-gateway:0.2\nParameters:\nparams: {\n    // Required parameters\n    name: 'vpngmax001'\n    virtualHubResourceId: '<virtualHubResourceId>'\n    // Non-required parameters\n    bgpSettings: {\n      asn: 65515\n      peerWeight: 0\n    }\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    natRules: [\n      {\n        externalMappings: [\n          {\n            addressSpace: '192.168.21.0/24'\n          }\n        ]\n        internalMappings: [\n          {\n            addressSpace: '10.4.0.0/24'\n          }\n        ]\n        mode: 'EgressSnat'\n        name: 'natRule1'\n        type: 'Static'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    vpnConnections: [\n      {\n        enableBgp: false\n        enableInternetSecurity: true\n        enableRateLimiting: false\n        name: '<name>'\n        remoteVpnSiteResourceId: '<remoteVpnSiteResourceId>'\n        routingWeight: 0\n        useLocalAzureIpAddress: false\n        usePolicyBasedTrafficSelectors: false\n        vpnConnectionProtocolType: 'IKEv2'\n      }\n    ]\n  }", "bicep": "module vpnGateway 'br/public:avm/res/network/vpn-gateway:0.2' = {\n  name: 'vpnGatewayDeployment'\n  params: {\n    // Required parameters\n    name: 'vpngmax001'\n    virtualHubResourceId: '<virtualHubResourceId>'\n    // Non-required parameters\n    bgpSettings: {\n      asn: 65515\n      peerWeight: 0\n    }\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    natRules: [\n      {\n        externalMappings: [\n          {\n            addressSpace: '192.168.21.0/24'\n          }\n        ]\n        internalMappings: [\n          {\n            addressSpace: '10.4.0.0/24'\n          }\n        ]\n        mode: 'EgressSnat'\n        name: 'natRule1'\n        type: 'Static'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    vpnConnections: [\n      {\n        enableBgp: false\n        enableInternetSecurity: true\n        enableRateLimiting: false\n        name: '<name>'\n        remoteVpnSiteResourceId: '<remoteVpnSiteResourceId>'\n        routingWeight: 0\n        useLocalAzureIpAddress: false\n        usePolicyBasedTrafficSelectors: false\n        vpnConnectionProtocolType: 'IKEv2'\n      }\n    ]\n  }\n}"}
{"id": "avm_res_network_vpn-gateway_example_3", "source": "avm/res/network/vpn-gateway/README.md", "content_to_embed": "Recommended AVM Module for VPN Gateways: Using NAT Rules - This instance deploys the module using NAT rule.\nResource Type Path: Microsoft.Network/vpnGateways\nModule ID: br/public:avm/res/network/vpn-gateway:0.2\nParameters:\nparams: {\n    // Required parameters\n    name: 'vpngnat001'\n    virtualHubResourceId: '<virtualHubResourceId>'\n    // Non-required parameters\n    bgpSettings: {\n      asn: 65515\n      peerWeight: 0\n    }\n    enableTelemetry: true\n    location: '<location>'\n    natRules: [\n      {\n        externalMappings: [\n          {\n            addressSpace: '10.52.18.0/28'\n          }\n        ]\n        internalMappings: [\n          {\n            addressSpace: '10.33.5.64/28'\n          }\n        ]\n        mode: 'EgressSnat'\n        name: 'testnatrule'\n        type: 'Static'\n      }\n      {\n        externalMappings: [\n          {\n            addressSpace: '192.168.100.0/24'\n          }\n        ]\n        internalMappings: [\n          {\n            addressSpace: '10.10.10.0/24'\n          }\n        ]\n        mode: 'IngressSnat'\n        name: 'ingress-nat-rule'\n        type: 'Static'\n      }\n    ]\n    vpnConnections: [\n      {\n        enableBgp: false\n        enableInternetSecurity: true\n        enableRateLimiting: false\n        name: 'test-connection-with-nat'\n        remoteVpnSiteResourceId: '<remoteVpnSiteResourceId>'\n        useLocalAzureIpAddress: false\n        usePolicyBasedTrafficSelectors: false\n        vpnConnectionProtocolType: 'IKEv2'\n        vpnLinkConnections: [\n          {\n            name: 'link-connection-with-egress-nat'\n            properties: {\n              connectionBandwidth: 100\n              egressNatRules: [\n                {\n                  id: '<id>'\n                }\n              ]\n              enableBgp: false\n              enableRateLimiting: false\n              ingressNatRules: [\n                {\n                  id: '<id>'\n                }\n              ]\n              routingWeight: 10\n              usePolicyBasedTrafficSelectors: false\n              vpnConnectionProtocolType: 'IKEv2'\n              vpnLinkConnectionMode: 'Default'\n              vpnSiteLink: {\n                id: '<id>'\n              }\n            }\n          }\n        ]\n      }\n    ]\n    vpnGatewayScaleUnit: 2\n  }", "bicep": "module vpnGateway 'br/public:avm/res/network/vpn-gateway:0.2' = {\n  name: 'vpnGatewayDeployment'\n  params: {\n    // Required parameters\n    name: 'vpngnat001'\n    virtualHubResourceId: '<virtualHubResourceId>'\n    // Non-required parameters\n    bgpSettings: {\n      asn: 65515\n      peerWeight: 0\n    }\n    enableTelemetry: true\n    location: '<location>'\n    natRules: [\n      {\n        externalMappings: [\n          {\n            addressSpace: '10.52.18.0/28'\n          }\n        ]\n        internalMappings: [\n          {\n            addressSpace: '10.33.5.64/28'\n          }\n        ]\n        mode: 'EgressSnat'\n        name: 'testnatrule'\n        type: 'Static'\n      }\n      {\n        externalMappings: [\n          {\n            addressSpace: '192.168.100.0/24'\n          }\n        ]\n        internalMappings: [\n          {\n            addressSpace: '10.10.10.0/24'\n          }\n        ]\n        mode: 'IngressSnat'\n        name: 'ingress-nat-rule'\n        type: 'Static'\n      }\n    ]\n    vpnConnections: [\n      {\n        enableBgp: false\n        enableInternetSecurity: true\n        enableRateLimiting: false\n        name: 'test-connection-with-nat'\n        remoteVpnSiteResourceId: '<remoteVpnSiteResourceId>'\n        useLocalAzureIpAddress: false\n        usePolicyBasedTrafficSelectors: false\n        vpnConnectionProtocolType: 'IKEv2'\n        vpnLinkConnections: [\n          {\n            name: 'link-connection-with-egress-nat'\n            properties: {\n              connectionBandwidth: 100\n              egressNatRules: [\n                {\n                  id: '<id>'\n                }\n              ]\n              enableBgp: false\n              enableRateLimiting: false\n              ingressNatRules: [\n                {\n                  id: '<id>'\n                }\n              ]\n              routingWeight: 10\n              usePolicyBasedTrafficSelectors: false\n              vpnConnectionProtocolType: 'IKEv2'\n              vpnLinkConnectionMode: 'Default'\n              vpnSiteLink: {\n                id: '<id>'\n              }\n            }\n          }\n        ]\n      }\n    ]\n    vpnGatewayScaleUnit: 2\n  }\n}"}
{"id": "avm_res_network_vpn-gateway_example_4", "source": "avm/res/network/vpn-gateway/README.md", "content_to_embed": "Recommended AVM Module for VPN Gateways: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Network/vpnGateways\nModule ID: br/public:avm/res/network/vpn-gateway:0.2\nParameters:\nparams: {\n    // Required parameters\n    name: 'vpngwaf001'\n    virtualHubResourceId: '<virtualHubResourceId>'\n    // Non-required parameters\n    bgpSettings: {\n      asn: 65515\n      peerWeight: 0\n    }\n    location: '<location>'\n    natRules: [\n      {\n        externalMappings: [\n          {\n            addressSpace: '192.168.21.0/24'\n          }\n        ]\n        internalMappings: [\n          {\n            addressSpace: '10.4.0.0/24'\n          }\n        ]\n        mode: 'EgressSnat'\n        name: 'natRule1'\n        type: 'Static'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    vpnConnections: [\n      {\n        enableBgp: false\n        enableInternetSecurity: true\n        enableRateLimiting: false\n        name: '<name>'\n        remoteVpnSiteResourceId: '<remoteVpnSiteResourceId>'\n        routingWeight: 0\n        useLocalAzureIpAddress: false\n        usePolicyBasedTrafficSelectors: false\n        vpnConnectionProtocolType: 'IKEv2'\n      }\n    ]\n  }", "bicep": "module vpnGateway 'br/public:avm/res/network/vpn-gateway:0.2' = {\n  name: 'vpnGatewayDeployment'\n  params: {\n    // Required parameters\n    name: 'vpngwaf001'\n    virtualHubResourceId: '<virtualHubResourceId>'\n    // Non-required parameters\n    bgpSettings: {\n      asn: 65515\n      peerWeight: 0\n    }\n    location: '<location>'\n    natRules: [\n      {\n        externalMappings: [\n          {\n            addressSpace: '192.168.21.0/24'\n          }\n        ]\n        internalMappings: [\n          {\n            addressSpace: '10.4.0.0/24'\n          }\n        ]\n        mode: 'EgressSnat'\n        name: 'natRule1'\n        type: 'Static'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    vpnConnections: [\n      {\n        enableBgp: false\n        enableInternetSecurity: true\n        enableRateLimiting: false\n        name: '<name>'\n        remoteVpnSiteResourceId: '<remoteVpnSiteResourceId>'\n        routingWeight: 0\n        useLocalAzureIpAddress: false\n        usePolicyBasedTrafficSelectors: false\n        vpnConnectionProtocolType: 'IKEv2'\n      }\n    ]\n  }\n}"}
{"id": "avm_res_network_vpn-server-configuration_example_1", "source": "avm/res/network/vpn-server-configuration/README.md", "content_to_embed": "Recommended AVM Module for VPN Server Configuration: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Network/vpnServerConfigurations\nModule ID: br/public:avm/res/network/vpn-server-configuration:0.1\nParameters:\nparams: {\n    // Required parameters\n    name: 'vscminVPNConfig'\n    // Non-required parameters\n    aadAudience: '11111111-1234-4321-1234-111111111111'\n    aadIssuer: 'https://sts.windows.net/11111111-1111-1111-1111-111111111111/'\n    aadTenant: '<aadTenant>'\n    p2sConfigurationPolicyGroups: [\n      {\n        isDefault: 'true'\n        policymembers: [\n          {\n            attributeType: 'AADGroupId'\n            attributeValue: '11111111-1111-2222-3333-111111111111'\n            name: 'UserGroup1'\n          }\n        ]\n        priority: '0'\n        userVPNPolicyGroupName: 'DefaultGroup'\n      }\n    ]\n    vpnAuthenticationTypes: [\n      'AAD'\n    ]\n    vpnProtocols: [\n      'OpenVPN'\n    ]\n  }", "bicep": "module vpnServerConfiguration 'br/public:avm/res/network/vpn-server-configuration:0.1' = {\n  name: 'vpnServerConfigurationDeployment'\n  params: {\n    // Required parameters\n    name: 'vscminVPNConfig'\n    // Non-required parameters\n    aadAudience: '11111111-1234-4321-1234-111111111111'\n    aadIssuer: 'https://sts.windows.net/11111111-1111-1111-1111-111111111111/'\n    aadTenant: '<aadTenant>'\n    p2sConfigurationPolicyGroups: [\n      {\n        isDefault: 'true'\n        policymembers: [\n          {\n            attributeType: 'AADGroupId'\n            attributeValue: '11111111-1111-2222-3333-111111111111'\n            name: 'UserGroup1'\n          }\n        ]\n        priority: '0'\n        userVPNPolicyGroupName: 'DefaultGroup'\n      }\n    ]\n    vpnAuthenticationTypes: [\n      'AAD'\n    ]\n    vpnProtocols: [\n      'OpenVPN'\n    ]\n  }\n}"}
{"id": "avm_res_network_vpn-server-configuration_example_2", "source": "avm/res/network/vpn-server-configuration/README.md", "content_to_embed": "Recommended AVM Module for VPN Server Configuration: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Network/vpnServerConfigurations\nModule ID: br/public:avm/res/network/vpn-server-configuration:0.1\nParameters:\nparams: {\n    // Required parameters\n    name: 'vscmaxVPNConfig'\n    // Non-required parameters\n    aadAudience: '11111111-1234-4321-1234-111111111111'\n    aadIssuer: 'https://sts.windows.net/11111111-1111-1111-1111-111111111111/'\n    aadTenant: '<aadTenant>'\n    location: '<location>'\n    p2sConfigurationPolicyGroups: [\n      {\n        isDefault: 'true'\n        policymembers: [\n          {\n            attributeType: 'AADGroupId'\n            attributeValue: '11111111-1111-2222-3333-111111111111'\n            name: 'UserGroup1'\n          }\n          {\n            attributeType: 'AADGroupId'\n            attributeValue: '11111111-1111-3333-4444-111111111111'\n            name: 'UserGroup2'\n          }\n        ]\n        priority: '0'\n        userVPNPolicyGroupName: 'DefaultGroup'\n      }\n      {\n        isDefault: 'false'\n        policymembers: [\n          {\n            attributeType: 'AADGroupId'\n            attributeValue: '11111111-1111-4444-5555-111111111111'\n            name: 'UserGroup3'\n          }\n          {\n            attributeType: 'AADGroupId'\n            attributeValue: '11111111-1111-5555-6666-111111111111'\n            name: 'UserGroup4'\n          }\n        ]\n        priority: '1'\n        userVPNPolicyGroupName: 'AdditionalGroup'\n      }\n    ]\n    radiusClientRootCertificates: [\n      {\n        name: 'TestRadiusClientRevokedCert'\n        thumbprint: '1f24c630cda418ef2069ffad4fdd5f463a1b59aa'\n      }\n    ]\n    radiusServerRootCertificates: [\n      {\n        name: 'TestRadiusRootCert'\n        publicCertData: 'MIIDXzCCAkegAwIBAgILBAAAAAABIVhTCKIwDQYJKoZIhvcNAQELBQAwTDEgMB4GA1UECxMXR4xvYmFsU2lnbiBSb390IENBIC0gUjMxEzARBgNVBAoTCkdsb8JhbFNpZ24xEzARBgNVBAMTCkdsb2JhbFNpZ24wHhcNMDkwMzE4MTAwMDAwWhcNMjkwMzE4MTAwMDAwWjBMMSAwHgYDVQQLExdHbG9iYWxTaWduIFJvb3QgQ0EgLSBSMzETMBEGA1UEChMKR2xvYmFsU2lnbjETMBEGA1UEAxMKR2xvYmFsU2lnbjCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMwldpB5BngiFvXAg7aEyiie/QV2EcWtiHL8RgJDx7KKnQRfJMsuS+FggkbhUqsMgUdwbN1k0ev1LKMPgj0MK66X17YUhhB5uzsTgHeMCOFJ0mpiLx9e+pZo34knlTifBtc+ycsmWQ1z3rDI6SYOgxXG71uL0gRgykmmKPZpO/bLyCiR5Z2KYVc3rHQU3HTgOu5yLy6c+9C7v/U9AOEGM+iCK65TpjoWc4zdQQ4gOsC0p6Hpsk+QLjJg6VfLuQSSaGjlOCZgdbKfd/+RFO+uIEn8rUAVSNECMWEZXriX7613t2Saer9fwRPvm2L7DWzgVGkWqQPabumDk3F2xmmFghcCAwEAAaNCMEAwDgYDVR0PAQH/BAQDAgEGMA8GA1UdEwEB/wQFMAMBAf8wHQYDVR0OBBYEFI/wS3+oLkUkrk1Q+mOai97i3Ru8MA0GCSqGSIb3DQEBCwUAA4IBAQBLQNvAUKr+yAzv95ZURUm7lgAJQayzE4aGKAczymvmdLm6AC2upArT9fHxD4q/c2dKg8dEe3jgr25sbwMpjjM5RcOO5LlXbKr8EpbsU8Yt5CRsuZRj+9xTaGdWPoO4zzUhw8lo/s7awlOqzJCK6fBdRoyV3XpYKBovHd7NADdBj+1EbddTKJd+82cEHhXXipa0095MJ6RMG3NzdvQXmcIfeg7jLQitChws/zyrVQ4PkX4268NXSb7hLi18YIvDQVETI53O9zJrlAGomecsMx86OyXShkDOOyyGeMlhLxS67ttVb9+E7gUJTb0o2HLO02JQZR7rkpeDMdmztcpHWD8f'\n      }\n    ]\n    radiusServers: [\n      {\n        radiusServerAddress: '10.150.1.50'\n        radiusServerScore: '10'\n        radiusServerSecret: 'TestSecret'\n      }\n      {\n        radiusServerAddress: '10.150.1.150'\n        radiusServerScore: '20'\n        radiusServerSecret: 'TestSecret2'\n      }\n    ]\n    vpnAuthenticationTypes: [\n      'AAD'\n      'Certificate'\n      'Radius'\n    ]\n    vpnClientIpsecPolicies: [\n      {\n        dhGroup: 'DHGroup14'\n        ikeEncryption: 'AES256'\n        ikeIntegrity: 'SHA256'\n        ipsecEncryption: 'AES256'\n        ipsecIntegrity: 'SHA256'\n        pfsGroup: 'PFS14'\n        saDataSizeKilobytes: 0\n        saLifeTimeSeconds: 27000\n      }\n    ]\n    vpnClientRevokedCertificates: [\n      {\n        name: 'TestRevokedCert'\n        thumbprint: '1f24c630cda418ef2069ffad4fdd5f463a1b69aa'\n      }\n      {\n        name: 'TestRevokedCert2'\n        thumbprint: '1f24c630cda418ef2069ffad4fdd5f463a1b69bb'\n      }\n    ]\n    vpnClientRootCertificates: [\n      {\n        name: 'TestRootCert'\n        publicCertData: 'MIIDXzCCAkegAwIBAgILBAAAAAABIVhTCKIwDQYJKoZIhvcNAQELBQAwTDEgMB4GA1UECxMXR4xvYmFsU2lnbiBSb390IENBIC0gUjMxEzARBgNVBAoTCkdsb8JhbFNpZ24xEzARBgNVBAMTCkdsb2JhbFNpZ24wHhcNMDkwMzE4MTAwMDAwWhcNMjkwMzE4MTAwMDAwWjBMMSAwHgYDVQQLExdHbG9iYWxTaWduIFJvb3QgQ0EgLSBSMzETMBEGA1UEChMKR2xvYmFsU2lnbjETMBEGA1UEAxMKR2xvYmFsU2lnbjCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMwldpB5BngiFvXAg7aEyiie/QV2EcWtiHL8RgJDx7KKnQRfJMsuS+FggkbhUqsMgUdwbN1k0ev1LKMPgj0MK66X17YUhhB5uzsTgHeMCOFJ0mpiLx9e+pZo34knlTifBtc+ycsmWQ1z3rDI6SYOgxXG71uL0gRgykmmKPZpO/bLyCiR5Z2KYVc3rHQU3HTgOu5yLy6c+9C7v/U9AOEGM+iCK65TpjoWc4zdQQ4gOsC0p6Hpsk+QLjJg6VfLuQSSaGjlOCZgdbKfd/+RFO+uIEn8rUAVSNECMWEZXriX7613t2Saer9fwRPvm2L7DWzgVGkWqQPabumDk3F2xmmFghcCAwEAAaNCMEAwDgYDVR0PAQH/BAQDAgEGMA8GA1UdEwEB/wQFMAMBAf8wHQYDVR0OBBYEFI/wS3+oLkUkrk1Q+mOai97i3Ru8MA0GCSqGSIb3DQEBCwUAA4IBAQBLQNvAUKr+yAzv95ZURUm7lgAJQayzE4aGKAczymvmdLm6AC2upArT9fHxD4q/c2dKg8dEe3jgr25sbwMpjjM5RcOO5LlXbKr8EpbsU8Yt5CRsuZRj+9xTaGdWPoO4zzUhw8lo/s7awlOqzJCK6fBdRoyV3XpYKBovHd7NADdBj+1EbddTKJd+82cEHhXXipa0095MJ6RMG3NzdvQXmcIfeg7jLQitChws/zyrVQ4PkX4268NXSb7hLi18YIvDQVETI53O9zJrlAGomecsMx86OyXShkDOOyyGeMlhLxS67ttVb9+E7gUJTb0o2HLO02JQZR7rkpeDMdmztcpHWD8f'\n      }\n      {\n        name: 'TestRootCert2'\n        publicCertData: 'MIIDXzCCAkegAwIBAgILBAAAAAABIVhTCKIwDQYJKoZIhvcMARELBQAwTDEgMB4GA1UECxMXR4xvYmFsU2lnbiBSb390IENBIC0gUjMxEzARBgNVBAoTCkdsb8JhbFNpZ24xEzARBgNVBAMTCkdsb2JhbFNpZ24wHhcNMDkwMzE4MTAwMDAwWhcNMjkwMzE4MTAwMDAwWjBMMSAwHgYDVQQLExdHbG9iYWxTaWduIFJvb3QgQ0EgLSBSMzETMBEGA1UEChMKR2xvYmFsU2lnbjETMBEGA1UEAxMKR2xvYmFsU2lnbjCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMwldpB5BngiFvXAg7aEyiie/QV2EcWtiHL8RgJDx7KKnQRfJMsuS+FggkbhUqsMgUdwbN1k0ev1LKMPgj0MK66X17YUhhB5uzsTgHeMCOFJ0mpiLx9e+pZo34knlTifBtc+ycsmWQ1z3rDI6SYOgxXG71uL0gRgykmmKPZpO/bLyCiR5Z2KYVc3rHQU3HTgOu5yLy6c+9C7v/U9AOEGM+iCK65TpjoWc4zdQQ4gOsC0p6Hpsk+QLjJg6VfLuQSSaGjlOCZgdbKfd/+RFO+uIEn8rUAVSNECMWEZXriX7613t2Saer9fwRPvm2L7DWzgVGkWqQPabumDk3F2xmmFghcCAwEAAaNCMEAwDgYDVR0PAQH/BAQDAgEGMA8GA1UdEwEB/wQFMAMBAf8wHQYDVR0OBBYEFI/wS3+oLkUkrk1Q+mOai97i3Ru8MA0GCSqGSIb3DQEBCwUAA4IBAQBLQNvAUKr+yAzv95ZURUm7lgAJQayzE4aGKAczymvmdLm6AC2upArT9fHxD4q/c2dKg8dEe3jgr25sbwMpjjM5RcOO5LlXbKr8EpbsU8Yt5CRsuZRj+9xTaGdWPoO4zzUhw8lo/s7awlOqzJCK6fBdRoyV3XpYKBovHd7NADdBj+1EbddTKJd+82cEHhXXipa0095MJ6RMG3NzdvQXmcIfeg7jLQitChws/zyrVQ4PkX4268NXSb7hLi18YIvDQVETI53O9zJrlAGomecsMx86OyXShkDOOyyGeMlhLxS67ttVb9+E7gUJTb0o2HLO02JQZR7rkpeDMdmztcpHWD8f'\n      }\n    ]\n    vpnProtocols: [\n      'OpenVPN'\n    ]\n  }", "bicep": "module vpnServerConfiguration 'br/public:avm/res/network/vpn-server-configuration:0.1' = {\n  name: 'vpnServerConfigurationDeployment'\n  params: {\n    // Required parameters\n    name: 'vscmaxVPNConfig'\n    // Non-required parameters\n    aadAudience: '11111111-1234-4321-1234-111111111111'\n    aadIssuer: 'https://sts.windows.net/11111111-1111-1111-1111-111111111111/'\n    aadTenant: '<aadTenant>'\n    location: '<location>'\n    p2sConfigurationPolicyGroups: [\n      {\n        isDefault: 'true'\n        policymembers: [\n          {\n            attributeType: 'AADGroupId'\n            attributeValue: '11111111-1111-2222-3333-111111111111'\n            name: 'UserGroup1'\n          }\n          {\n            attributeType: 'AADGroupId'\n            attributeValue: '11111111-1111-3333-4444-111111111111'\n            name: 'UserGroup2'\n          }\n        ]\n        priority: '0'\n        userVPNPolicyGroupName: 'DefaultGroup'\n      }\n      {\n        isDefault: 'false'\n        policymembers: [\n          {\n            attributeType: 'AADGroupId'\n            attributeValue: '11111111-1111-4444-5555-111111111111'\n            name: 'UserGroup3'\n          }\n          {\n            attributeType: 'AADGroupId'\n            attributeValue: '11111111-1111-5555-6666-111111111111'\n            name: 'UserGroup4'\n          }\n        ]\n        priority: '1'\n        userVPNPolicyGroupName: 'AdditionalGroup'\n      }\n    ]\n    radiusClientRootCertificates: [\n      {\n        name: 'TestRadiusClientRevokedCert'\n        thumbprint: '1f24c630cda418ef2069ffad4fdd5f463a1b59aa'\n      }\n    ]\n    radiusServerRootCertificates: [\n      {\n        name: 'TestRadiusRootCert'\n        publicCertData: 'MIIDXzCCAkegAwIBAgILBAAAAAABIVhTCKIwDQYJKoZIhvcNAQELBQAwTDEgMB4GA1UECxMXR4xvYmFsU2lnbiBSb390IENBIC0gUjMxEzARBgNVBAoTCkdsb8JhbFNpZ24xEzARBgNVBAMTCkdsb2JhbFNpZ24wHhcNMDkwMzE4MTAwMDAwWhcNMjkwMzE4MTAwMDAwWjBMMSAwHgYDVQQLExdHbG9iYWxTaWduIFJvb3QgQ0EgLSBSMzETMBEGA1UEChMKR2xvYmFsU2lnbjETMBEGA1UEAxMKR2xvYmFsU2lnbjCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMwldpB5BngiFvXAg7aEyiie/QV2EcWtiHL8RgJDx7KKnQRfJMsuS+FggkbhUqsMgUdwbN1k0ev1LKMPgj0MK66X17YUhhB5uzsTgHeMCOFJ0mpiLx9e+pZo34knlTifBtc+ycsmWQ1z3rDI6SYOgxXG71uL0gRgykmmKPZpO/bLyCiR5Z2KYVc3rHQU3HTgOu5yLy6c+9C7v/U9AOEGM+iCK65TpjoWc4zdQQ4gOsC0p6Hpsk+QLjJg6VfLuQSSaGjlOCZgdbKfd/+RFO+uIEn8rUAVSNECMWEZXriX7613t2Saer9fwRPvm2L7DWzgVGkWqQPabumDk3F2xmmFghcCAwEAAaNCMEAwDgYDVR0PAQH/BAQDAgEGMA8GA1UdEwEB/wQFMAMBAf8wHQYDVR0OBBYEFI/wS3+oLkUkrk1Q+mOai97i3Ru8MA0GCSqGSIb3DQEBCwUAA4IBAQBLQNvAUKr+yAzv95ZURUm7lgAJQayzE4aGKAczymvmdLm6AC2upArT9fHxD4q/c2dKg8dEe3jgr25sbwMpjjM5RcOO5LlXbKr8EpbsU8Yt5CRsuZRj+9xTaGdWPoO4zzUhw8lo/s7awlOqzJCK6fBdRoyV3XpYKBovHd7NADdBj+1EbddTKJd+82cEHhXXipa0095MJ6RMG3NzdvQXmcIfeg7jLQitChws/zyrVQ4PkX4268NXSb7hLi18YIvDQVETI53O9zJrlAGomecsMx86OyXShkDOOyyGeMlhLxS67ttVb9+E7gUJTb0o2HLO02JQZR7rkpeDMdmztcpHWD8f'\n      }\n    ]\n    radiusServers: [\n      {\n        radiusServerAddress: '10.150.1.50'\n        radiusServerScore: '10'\n        radiusServerSecret: 'TestSecret'\n      }\n      {\n        radiusServerAddress: '10.150.1.150'\n        radiusServerScore: '20'\n        radiusServerSecret: 'TestSecret2'\n      }\n    ]\n    vpnAuthenticationTypes: [\n      'AAD'\n      'Certificate'\n      'Radius'\n    ]\n    vpnClientIpsecPolicies: [\n      {\n        dhGroup: 'DHGroup14'\n        ikeEncryption: 'AES256'\n        ikeIntegrity: 'SHA256'\n        ipsecEncryption: 'AES256'\n        ipsecIntegrity: 'SHA256'\n        pfsGroup: 'PFS14'\n        saDataSizeKilobytes: 0\n        saLifeTimeSeconds: 27000\n      }\n    ]\n    vpnClientRevokedCertificates: [\n      {\n        name: 'TestRevokedCert'\n        thumbprint: '1f24c630cda418ef2069ffad4fdd5f463a1b69aa'\n      }\n      {\n        name: 'TestRevokedCert2'\n        thumbprint: '1f24c630cda418ef2069ffad4fdd5f463a1b69bb'\n      }\n    ]\n    vpnClientRootCertificates: [\n      {\n        name: 'TestRootCert'\n        publicCertData: 'MIIDXzCCAkegAwIBAgILBAAAAAABIVhTCKIwDQYJKoZIhvcNAQELBQAwTDEgMB4GA1UECxMXR4xvYmFsU2lnbiBSb390IENBIC0gUjMxEzARBgNVBAoTCkdsb8JhbFNpZ24xEzARBgNVBAMTCkdsb2JhbFNpZ24wHhcNMDkwMzE4MTAwMDAwWhcNMjkwMzE4MTAwMDAwWjBMMSAwHgYDVQQLExdHbG9iYWxTaWduIFJvb3QgQ0EgLSBSMzETMBEGA1UEChMKR2xvYmFsU2lnbjETMBEGA1UEAxMKR2xvYmFsU2lnbjCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMwldpB5BngiFvXAg7aEyiie/QV2EcWtiHL8RgJDx7KKnQRfJMsuS+FggkbhUqsMgUdwbN1k0ev1LKMPgj0MK66X17YUhhB5uzsTgHeMCOFJ0mpiLx9e+pZo34knlTifBtc+ycsmWQ1z3rDI6SYOgxXG71uL0gRgykmmKPZpO/bLyCiR5Z2KYVc3rHQU3HTgOu5yLy6c+9C7v/U9AOEGM+iCK65TpjoWc4zdQQ4gOsC0p6Hpsk+QLjJg6VfLuQSSaGjlOCZgdbKfd/+RFO+uIEn8rUAVSNECMWEZXriX7613t2Saer9fwRPvm2L7DWzgVGkWqQPabumDk3F2xmmFghcCAwEAAaNCMEAwDgYDVR0PAQH/BAQDAgEGMA8GA1UdEwEB/wQFMAMBAf8wHQYDVR0OBBYEFI/wS3+oLkUkrk1Q+mOai97i3Ru8MA0GCSqGSIb3DQEBCwUAA4IBAQBLQNvAUKr+yAzv95ZURUm7lgAJQayzE4aGKAczymvmdLm6AC2upArT9fHxD4q/c2dKg8dEe3jgr25sbwMpjjM5RcOO5LlXbKr8EpbsU8Yt5CRsuZRj+9xTaGdWPoO4zzUhw8lo/s7awlOqzJCK6fBdRoyV3XpYKBovHd7NADdBj+1EbddTKJd+82cEHhXXipa0095MJ6RMG3NzdvQXmcIfeg7jLQitChws/zyrVQ4PkX4268NXSb7hLi18YIvDQVETI53O9zJrlAGomecsMx86OyXShkDOOyyGeMlhLxS67ttVb9+E7gUJTb0o2HLO02JQZR7rkpeDMdmztcpHWD8f'\n      }\n      {\n        name: 'TestRootCert2'\n        publicCertData: 'MIIDXzCCAkegAwIBAgILBAAAAAABIVhTCKIwDQYJKoZIhvcMARELBQAwTDEgMB4GA1UECxMXR4xvYmFsU2lnbiBSb390IENBIC0gUjMxEzARBgNVBAoTCkdsb8JhbFNpZ24xEzARBgNVBAMTCkdsb2JhbFNpZ24wHhcNMDkwMzE4MTAwMDAwWhcNMjkwMzE4MTAwMDAwWjBMMSAwHgYDVQQLExdHbG9iYWxTaWduIFJvb3QgQ0EgLSBSMzETMBEGA1UEChMKR2xvYmFsU2lnbjETMBEGA1UEAxMKR2xvYmFsU2lnbjCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMwldpB5BngiFvXAg7aEyiie/QV2EcWtiHL8RgJDx7KKnQRfJMsuS+FggkbhUqsMgUdwbN1k0ev1LKMPgj0MK66X17YUhhB5uzsTgHeMCOFJ0mpiLx9e+pZo34knlTifBtc+ycsmWQ1z3rDI6SYOgxXG71uL0gRgykmmKPZpO/bLyCiR5Z2KYVc3rHQU3HTgOu5yLy6c+9C7v/U9AOEGM+iCK65TpjoWc4zdQQ4gOsC0p6Hpsk+QLjJg6VfLuQSSaGjlOCZgdbKfd/+RFO+uIEn8rUAVSNECMWEZXriX7613t2Saer9fwRPvm2L7DWzgVGkWqQPabumDk3F2xmmFghcCAwEAAaNCMEAwDgYDVR0PAQH/BAQDAgEGMA8GA1UdEwEB/wQFMAMBAf8wHQYDVR0OBBYEFI/wS3+oLkUkrk1Q+mOai97i3Ru8MA0GCSqGSIb3DQEBCwUAA4IBAQBLQNvAUKr+yAzv95ZURUm7lgAJQayzE4aGKAczymvmdLm6AC2upArT9fHxD4q/c2dKg8dEe3jgr25sbwMpjjM5RcOO5LlXbKr8EpbsU8Yt5CRsuZRj+9xTaGdWPoO4zzUhw8lo/s7awlOqzJCK6fBdRoyV3XpYKBovHd7NADdBj+1EbddTKJd+82cEHhXXipa0095MJ6RMG3NzdvQXmcIfeg7jLQitChws/zyrVQ4PkX4268NXSb7hLi18YIvDQVETI53O9zJrlAGomecsMx86OyXShkDOOyyGeMlhLxS67ttVb9+E7gUJTb0o2HLO02JQZR7rkpeDMdmztcpHWD8f'\n      }\n    ]\n    vpnProtocols: [\n      'OpenVPN'\n    ]\n  }\n}"}
{"id": "avm_res_network_vpn-server-configuration_example_3", "source": "avm/res/network/vpn-server-configuration/README.md", "content_to_embed": "Recommended AVM Module for VPN Server Configuration: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Network/vpnServerConfigurations\nModule ID: br/public:avm/res/network/vpn-server-configuration:0.1\nParameters:\nparams: {\n    // Required parameters\n    name: 'vscwafVPNConfig'\n    // Non-required parameters\n    aadAudience: '11111111-1234-4321-1234-111111111111'\n    aadIssuer: 'https://sts.windows.net/11111111-1111-1111-1111-111111111111/'\n    aadTenant: '<aadTenant>'\n    p2sConfigurationPolicyGroups: [\n      {\n        isDefault: 'true'\n        policymembers: [\n          {\n            attributeType: 'AADGroupId'\n            attributeValue: '11111111-1111-2222-3333-111111111111'\n            name: 'UserGroup1'\n          }\n        ]\n        priority: '0'\n        userVPNPolicyGroupName: 'DefaultGroup'\n      }\n    ]\n    vpnAuthenticationTypes: [\n      'AAD'\n    ]\n    vpnProtocols: [\n      'OpenVPN'\n    ]\n  }", "bicep": "module vpnServerConfiguration 'br/public:avm/res/network/vpn-server-configuration:0.1' = {\n  name: 'vpnServerConfigurationDeployment'\n  params: {\n    // Required parameters\n    name: 'vscwafVPNConfig'\n    // Non-required parameters\n    aadAudience: '11111111-1234-4321-1234-111111111111'\n    aadIssuer: 'https://sts.windows.net/11111111-1111-1111-1111-111111111111/'\n    aadTenant: '<aadTenant>'\n    p2sConfigurationPolicyGroups: [\n      {\n        isDefault: 'true'\n        policymembers: [\n          {\n            attributeType: 'AADGroupId'\n            attributeValue: '11111111-1111-2222-3333-111111111111'\n            name: 'UserGroup1'\n          }\n        ]\n        priority: '0'\n        userVPNPolicyGroupName: 'DefaultGroup'\n      }\n    ]\n    vpnAuthenticationTypes: [\n      'AAD'\n    ]\n    vpnProtocols: [\n      'OpenVPN'\n    ]\n  }\n}"}
{"id": "avm_res_network_vpn-site_example_1", "source": "avm/res/network/vpn-site/README.md", "content_to_embed": "Recommended AVM Module for VPN Sites: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Network/vpnSites\nModule ID: br/public:avm/res/network/vpn-site:0.4\nParameters:\nparams: {\n    // Required parameters\n    name: 'nvsmin'\n    virtualWanResourceId: '<virtualWanResourceId>'\n    // Non-required parameters\n    addressPrefixes: [\n      '10.0.0.0/16'\n    ]\n    ipAddress: '1.2.3.4'\n  }", "bicep": "module vpnSite 'br/public:avm/res/network/vpn-site:0.4' = {\n  name: 'vpnSiteDeployment'\n  params: {\n    // Required parameters\n    name: 'nvsmin'\n    virtualWanResourceId: '<virtualWanResourceId>'\n    // Non-required parameters\n    addressPrefixes: [\n      '10.0.0.0/16'\n    ]\n    ipAddress: '1.2.3.4'\n  }\n}"}
{"id": "avm_res_network_vpn-site_example_2", "source": "avm/res/network/vpn-site/README.md", "content_to_embed": "Recommended AVM Module for VPN Sites: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Network/vpnSites\nModule ID: br/public:avm/res/network/vpn-site:0.4\nParameters:\nparams: {\n    // Required parameters\n    name: 'nvsmax'\n    virtualWanResourceId: '<virtualWanResourceId>'\n    // Non-required parameters\n    deviceProperties: {\n      linkSpeedInMbps: 0\n    }\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    o365Policy: {\n      breakOutCategories: {\n        allow: true\n        default: true\n        optimize: true\n      }\n    }\n    roleAssignments: [\n      {\n        name: '1dcfa9c2-5e95-42d2-bf04-bdecad93abcf'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      'hidden-title': 'This is visible in the resource name'\n      tagA: 'valueA'\n      tagB: 'valueB'\n    }\n    vpnSiteLinks: [\n      {\n        name: 'vSite-nvsmax'\n        properties: {\n          bgpProperties: {\n            asn: 65010\n            bgpPeeringAddress: '1.1.1.1'\n          }\n          ipAddress: '1.2.3.4'\n          linkProperties: {\n            linkProviderName: 'contoso'\n            linkSpeedInMbps: 5\n          }\n        }\n      }\n      {\n        name: 'Link1'\n        properties: {\n          bgpProperties: {\n            asn: 65020\n            bgpPeeringAddress: '192.168.1.0'\n          }\n          ipAddress: '2.2.2.2'\n          linkProperties: {\n            linkProviderName: 'contoso'\n            linkSpeedInMbps: 5\n          }\n        }\n      }\n    ]\n  }", "bicep": "module vpnSite 'br/public:avm/res/network/vpn-site:0.4' = {\n  name: 'vpnSiteDeployment'\n  params: {\n    // Required parameters\n    name: 'nvsmax'\n    virtualWanResourceId: '<virtualWanResourceId>'\n    // Non-required parameters\n    deviceProperties: {\n      linkSpeedInMbps: 0\n    }\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    o365Policy: {\n      breakOutCategories: {\n        allow: true\n        default: true\n        optimize: true\n      }\n    }\n    roleAssignments: [\n      {\n        name: '1dcfa9c2-5e95-42d2-bf04-bdecad93abcf'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      'hidden-title': 'This is visible in the resource name'\n      tagA: 'valueA'\n      tagB: 'valueB'\n    }\n    vpnSiteLinks: [\n      {\n        name: 'vSite-nvsmax'\n        properties: {\n          bgpProperties: {\n            asn: 65010\n            bgpPeeringAddress: '1.1.1.1'\n          }\n          ipAddress: '1.2.3.4'\n          linkProperties: {\n            linkProviderName: 'contoso'\n            linkSpeedInMbps: 5\n          }\n        }\n      }\n      {\n        name: 'Link1'\n        properties: {\n          bgpProperties: {\n            asn: 65020\n            bgpPeeringAddress: '192.168.1.0'\n          }\n          ipAddress: '2.2.2.2'\n          linkProperties: {\n            linkProviderName: 'contoso'\n            linkSpeedInMbps: 5\n          }\n        }\n      }\n    ]\n  }\n}"}
{"id": "avm_res_network_vpn-site_example_3", "source": "avm/res/network/vpn-site/README.md", "content_to_embed": "Recommended AVM Module for VPN Sites: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Network/vpnSites\nModule ID: br/public:avm/res/network/vpn-site:0.4\nParameters:\nparams: {\n    // Required parameters\n    name: 'nvswaf'\n    virtualWanResourceId: '<virtualWanResourceId>'\n    // Non-required parameters\n    deviceProperties: {\n      linkSpeedInMbps: 0\n    }\n    location: '<location>'\n    o365Policy: {\n      breakOutCategories: {\n        allow: true\n        default: true\n        optimize: true\n      }\n    }\n    tags: {\n      'hidden-title': 'This is visible in the resource name'\n      tagA: 'valueA'\n      tagB: 'valueB'\n    }\n    vpnSiteLinks: [\n      {\n        name: 'vSite-nvswaf'\n        properties: {\n          bgpProperties: {\n            asn: 65010\n            bgpPeeringAddress: '1.1.1.1'\n          }\n          ipAddress: '1.2.3.4'\n          linkProperties: {\n            linkProviderName: 'contoso'\n            linkSpeedInMbps: 5\n          }\n        }\n      }\n      {\n        name: 'Link1'\n        properties: {\n          bgpProperties: {\n            asn: 65020\n            bgpPeeringAddress: '192.168.1.0'\n          }\n          ipAddress: '2.2.2.2'\n          linkProperties: {\n            linkProviderName: 'contoso'\n            linkSpeedInMbps: 5\n          }\n        }\n      }\n    ]\n  }", "bicep": "module vpnSite 'br/public:avm/res/network/vpn-site:0.4' = {\n  name: 'vpnSiteDeployment'\n  params: {\n    // Required parameters\n    name: 'nvswaf'\n    virtualWanResourceId: '<virtualWanResourceId>'\n    // Non-required parameters\n    deviceProperties: {\n      linkSpeedInMbps: 0\n    }\n    location: '<location>'\n    o365Policy: {\n      breakOutCategories: {\n        allow: true\n        default: true\n        optimize: true\n      }\n    }\n    tags: {\n      'hidden-title': 'This is visible in the resource name'\n      tagA: 'valueA'\n      tagB: 'valueB'\n    }\n    vpnSiteLinks: [\n      {\n        name: 'vSite-nvswaf'\n        properties: {\n          bgpProperties: {\n            asn: 65010\n            bgpPeeringAddress: '1.1.1.1'\n          }\n          ipAddress: '1.2.3.4'\n          linkProperties: {\n            linkProviderName: 'contoso'\n            linkSpeedInMbps: 5\n          }\n        }\n      }\n      {\n        name: 'Link1'\n        properties: {\n          bgpProperties: {\n            asn: 65020\n            bgpPeeringAddress: '192.168.1.0'\n          }\n          ipAddress: '2.2.2.2'\n          linkProperties: {\n            linkProviderName: 'contoso'\n            linkSpeedInMbps: 5\n          }\n        }\n      }\n    ]\n  }\n}"}
{"id": "avm_res_operational-insights_workspace_example_1", "source": "avm/res/operational-insights/workspace/README.md", "content_to_embed": "Recommended AVM Module for Log Analytics Workspaces: Advanced features - This instance deploys the module with advanced features like custom tables and data exports.\nResource Type Path: Microsoft.OperationalInsights/workspaces\nModule ID: br/public:avm/res/operational-insights/workspace:0.12\nParameters:\nparams: {\n    // Required parameters\n    name: 'oiwadv001'\n    // Non-required parameters\n    dailyQuotaGb: 10\n    dataExports: [\n      {\n        destination: {\n          metaData: {\n            eventHubName: '<eventHubName>'\n          }\n          resourceId: '<resourceId>'\n        }\n        enable: true\n        name: 'eventHubExport'\n        tableNames: [\n          'Alert'\n          'InsightsMetrics'\n        ]\n      }\n      {\n        destination: {\n          resourceId: '<resourceId>'\n        }\n        enable: true\n        name: 'storageAccountExport'\n        tableNames: [\n          'Operation'\n        ]\n      }\n    ]\n    dataSources: [\n      {\n        eventLogName: 'Application'\n        eventTypes: [\n          {\n            eventType: 'Error'\n          }\n          {\n            eventType: 'Warning'\n          }\n          {\n            eventType: 'Information'\n          }\n        ]\n        kind: 'WindowsEvent'\n        name: 'applicationEvent'\n      }\n      {\n        counterName: '% Processor Time'\n        instanceName: '*'\n        intervalSeconds: 60\n        kind: 'WindowsPerformanceCounter'\n        name: 'windowsPerfCounter1'\n        objectName: 'Processor'\n      }\n      {\n        kind: 'IISLogs'\n        name: 'sampleIISLog1'\n        state: 'OnPremiseEnabled'\n      }\n      {\n        kind: 'LinuxSyslog'\n        name: 'sampleSyslog1'\n        syslogName: 'kern'\n        syslogSeverities: [\n          {\n            severity: 'emerg'\n          }\n          {\n            severity: 'alert'\n          }\n          {\n            severity: 'crit'\n          }\n          {\n            severity: 'err'\n          }\n          {\n            severity: 'warning'\n          }\n        ]\n      }\n      {\n        kind: 'LinuxSyslogCollection'\n        name: 'sampleSyslogCollection1'\n        state: 'Enabled'\n      }\n      {\n        instanceName: '*'\n        intervalSeconds: 10\n        kind: 'LinuxPerformanceObject'\n        name: 'sampleLinuxPerf1'\n        objectName: 'Logical Disk'\n        syslogSeverities: [\n          {\n            counterName: '% Used Inodes'\n          }\n          {\n            counterName: 'Free Megabytes'\n          }\n          {\n            counterName: '% Used Space'\n          }\n          {\n            counterName: 'Disk Transfers/sec'\n          }\n          {\n            counterName: 'Disk Reads/sec'\n          }\n          {\n            counterName: 'Disk Writes/sec'\n          }\n        ]\n      }\n      {\n        kind: 'LinuxPerformanceCollection'\n        name: 'sampleLinuxPerfCollection1'\n        state: 'Enabled'\n      }\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n      {\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'sendingDiagnosticSettingsToSelf'\n        useThisWorkspace: true\n      }\n    ]\n    features: {\n      enableLogAccessUsingOnlyResourcePermissions: true\n    }\n    gallerySolutions: [\n      {\n        name: 'AzureAutomation(oiwadv001)'\n        plan: {\n          product: 'OMSGallery/AzureAutomation'\n        }\n      }\n    ]\n    linkedServices: [\n      {\n        name: 'Automation'\n        resourceId: '<resourceId>'\n      }\n    ]\n    linkedStorageAccounts: [\n      {\n        name: 'Query'\n        storageAccountIds: [\n          '<storageAccountResourceId>'\n        ]\n      }\n    ]\n    location: '<location>'\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    publicNetworkAccessForIngestion: 'Disabled'\n    publicNetworkAccessForQuery: 'Enabled'\n    savedSearches: [\n      {\n        category: 'VDC Saved Searches'\n        displayName: 'VMSS Instance Count2'\n        name: 'VMSSQueries'\n        query: 'Event | where Source == ServiceFabricNodeBootstrapAgent | summarize AggregatedValue = count() by Computer'\n      }\n    ]\n    storageInsightsConfigs: [\n      {\n        storageAccountResourceId: '<storageAccountResourceId>'\n        tables: [\n          'LinuxsyslogVer2v0'\n          'WADETWEventTable'\n          'WADServiceFabric*EventTable'\n          'WADWindowsEventLogsTable'\n        ]\n      }\n    ]\n    tables: [\n      {\n        name: 'CustomTableBasic_CL'\n        retentionInDays: 60\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n        schema: {\n          columns: [\n            {\n              name: 'TimeGenerated'\n              type: 'dateTime'\n            }\n            {\n              name: 'RawData'\n              type: 'string'\n            }\n          ]\n          name: 'CustomTableBasic_CL'\n        }\n        totalRetentionInDays: 90\n      }\n      {\n        name: 'CustomTableAdvanced_CL'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n        schema: {\n          columns: [\n            {\n              name: 'TimeGenerated'\n              type: 'dateTime'\n            }\n            {\n              name: 'EventTime'\n              type: 'dateTime'\n            }\n            {\n              name: 'EventLevel'\n              type: 'string'\n            }\n            {\n              name: 'EventCode'\n              type: 'int'\n            }\n            {\n              name: 'Message'\n              type: 'string'\n            }\n            {\n              name: 'RawData'\n              type: 'string'\n            }\n          ]\n          name: 'CustomTableAdvanced_CL'\n        }\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module workspace 'br/public:avm/res/operational-insights/workspace:0.12' = {\n  name: 'workspaceDeployment'\n  params: {\n    // Required parameters\n    name: 'oiwadv001'\n    // Non-required parameters\n    dailyQuotaGb: 10\n    dataExports: [\n      {\n        destination: {\n          metaData: {\n            eventHubName: '<eventHubName>'\n          }\n          resourceId: '<resourceId>'\n        }\n        enable: true\n        name: 'eventHubExport'\n        tableNames: [\n          'Alert'\n          'InsightsMetrics'\n        ]\n      }\n      {\n        destination: {\n          resourceId: '<resourceId>'\n        }\n        enable: true\n        name: 'storageAccountExport'\n        tableNames: [\n          'Operation'\n        ]\n      }\n    ]\n    dataSources: [\n      {\n        eventLogName: 'Application'\n        eventTypes: [\n          {\n            eventType: 'Error'\n          }\n          {\n            eventType: 'Warning'\n          }\n          {\n            eventType: 'Information'\n          }\n        ]\n        kind: 'WindowsEvent'\n        name: 'applicationEvent'\n      }\n      {\n        counterName: '% Processor Time'\n        instanceName: '*'\n        intervalSeconds: 60\n        kind: 'WindowsPerformanceCounter'\n        name: 'windowsPerfCounter1'\n        objectName: 'Processor'\n      }\n      {\n        kind: 'IISLogs'\n        name: 'sampleIISLog1'\n        state: 'OnPremiseEnabled'\n      }\n      {\n        kind: 'LinuxSyslog'\n        name: 'sampleSyslog1'\n        syslogName: 'kern'\n        syslogSeverities: [\n          {\n            severity: 'emerg'\n          }\n          {\n            severity: 'alert'\n          }\n          {\n            severity: 'crit'\n          }\n          {\n            severity: 'err'\n          }\n          {\n            severity: 'warning'\n          }\n        ]\n      }\n      {\n        kind: 'LinuxSyslogCollection'\n        name: 'sampleSyslogCollection1'\n        state: 'Enabled'\n      }\n      {\n        instanceName: '*'\n        intervalSeconds: 10\n        kind: 'LinuxPerformanceObject'\n        name: 'sampleLinuxPerf1'\n        objectName: 'Logical Disk'\n        syslogSeverities: [\n          {\n            counterName: '% Used Inodes'\n          }\n          {\n            counterName: 'Free Megabytes'\n          }\n          {\n            counterName: '% Used Space'\n          }\n          {\n            counterName: 'Disk Transfers/sec'\n          }\n          {\n            counterName: 'Disk Reads/sec'\n          }\n          {\n            counterName: 'Disk Writes/sec'\n          }\n        ]\n      }\n      {\n        kind: 'LinuxPerformanceCollection'\n        name: 'sampleLinuxPerfCollection1'\n        state: 'Enabled'\n      }\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n      {\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'sendingDiagnosticSettingsToSelf'\n        useThisWorkspace: true\n      }\n    ]\n    features: {\n      enableLogAccessUsingOnlyResourcePermissions: true\n    }\n    gallerySolutions: [\n      {\n        name: 'AzureAutomation(oiwadv001)'\n        plan: {\n          product: 'OMSGallery/AzureAutomation'\n        }\n      }\n    ]\n    linkedServices: [\n      {\n        name: 'Automation'\n        resourceId: '<resourceId>'\n      }\n    ]\n    linkedStorageAccounts: [\n      {\n        name: 'Query'\n        storageAccountIds: [\n          '<storageAccountResourceId>'\n        ]\n      }\n    ]\n    location: '<location>'\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    publicNetworkAccessForIngestion: 'Disabled'\n    publicNetworkAccessForQuery: 'Enabled'\n    savedSearches: [\n      {\n        category: 'VDC Saved Searches'\n        displayName: 'VMSS Instance Count2'\n        name: 'VMSSQueries'\n        query: 'Event | where Source == ServiceFabricNodeBootstrapAgent | summarize AggregatedValue = count() by Computer'\n      }\n    ]\n    storageInsightsConfigs: [\n      {\n        storageAccountResourceId: '<storageAccountResourceId>'\n        tables: [\n          'LinuxsyslogVer2v0'\n          'WADETWEventTable'\n          'WADServiceFabric*EventTable'\n          'WADWindowsEventLogsTable'\n        ]\n      }\n    ]\n    tables: [\n      {\n        name: 'CustomTableBasic_CL'\n        retentionInDays: 60\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n        schema: {\n          columns: [\n            {\n              name: 'TimeGenerated'\n              type: 'dateTime'\n            }\n            {\n              name: 'RawData'\n              type: 'string'\n            }\n          ]\n          name: 'CustomTableBasic_CL'\n        }\n        totalRetentionInDays: 90\n      }\n      {\n        name: 'CustomTableAdvanced_CL'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n        schema: {\n          columns: [\n            {\n              name: 'TimeGenerated'\n              type: 'dateTime'\n            }\n            {\n              name: 'EventTime'\n              type: 'dateTime'\n            }\n            {\n              name: 'EventLevel'\n              type: 'string'\n            }\n            {\n              name: 'EventCode'\n              type: 'int'\n            }\n            {\n              name: 'Message'\n              type: 'string'\n            }\n            {\n              name: 'RawData'\n              type: 'string'\n            }\n          ]\n          name: 'CustomTableAdvanced_CL'\n        }\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_operational-insights_workspace_example_2", "source": "avm/res/operational-insights/workspace/README.md", "content_to_embed": "Recommended AVM Module for Log Analytics Workspaces: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.OperationalInsights/workspaces\nModule ID: br/public:avm/res/operational-insights/workspace:0.12\nParameters:\nparams: {\n    // Required parameters\n    name: 'oiwmin001'\n    // Non-required parameters\n    location: '<location>'\n  }", "bicep": "module workspace 'br/public:avm/res/operational-insights/workspace:0.12' = {\n  name: 'workspaceDeployment'\n  params: {\n    // Required parameters\n    name: 'oiwmin001'\n    // Non-required parameters\n    location: '<location>'\n  }\n}"}
{"id": "avm_res_operational-insights_workspace_example_3", "source": "avm/res/operational-insights/workspace/README.md", "content_to_embed": "Recommended AVM Module for Log Analytics Workspaces: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.OperationalInsights/workspaces\nModule ID: br/public:avm/res/operational-insights/workspace:0.12\nParameters:\nparams: {\n    // Required parameters\n    name: 'oiwmax001'\n    // Non-required parameters\n    dailyQuotaGb: 10\n    dataSources: [\n      {\n        eventLogName: 'Application'\n        eventTypes: [\n          {\n            eventType: 'Error'\n          }\n          {\n            eventType: 'Warning'\n          }\n          {\n            eventType: 'Information'\n          }\n        ]\n        kind: 'WindowsEvent'\n        name: 'applicationEvent'\n      }\n      {\n        counterName: '% Processor Time'\n        instanceName: '*'\n        intervalSeconds: 60\n        kind: 'WindowsPerformanceCounter'\n        name: 'windowsPerfCounter1'\n        objectName: 'Processor'\n      }\n      {\n        kind: 'IISLogs'\n        name: 'sampleIISLog1'\n        state: 'OnPremiseEnabled'\n      }\n      {\n        kind: 'LinuxSyslog'\n        name: 'sampleSyslog1'\n        syslogName: 'kern'\n        syslogSeverities: [\n          {\n            severity: 'emerg'\n          }\n          {\n            severity: 'alert'\n          }\n          {\n            severity: 'crit'\n          }\n          {\n            severity: 'err'\n          }\n          {\n            severity: 'warning'\n          }\n        ]\n      }\n      {\n        kind: 'LinuxSyslogCollection'\n        name: 'sampleSyslogCollection1'\n        state: 'Enabled'\n      }\n      {\n        instanceName: '*'\n        intervalSeconds: 10\n        kind: 'LinuxPerformanceObject'\n        name: 'sampleLinuxPerf1'\n        objectName: 'Logical Disk'\n        syslogSeverities: [\n          {\n            counterName: '% Used Inodes'\n          }\n          {\n            counterName: 'Free Megabytes'\n          }\n          {\n            counterName: '% Used Space'\n          }\n          {\n            counterName: 'Disk Transfers/sec'\n          }\n          {\n            counterName: 'Disk Reads/sec'\n          }\n          {\n            counterName: 'Disk Writes/sec'\n          }\n        ]\n      }\n      {\n        kind: 'LinuxPerformanceCollection'\n        name: 'sampleLinuxPerfCollection1'\n        state: 'Enabled'\n      }\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    features: {\n      disableLocalAuth: true\n      enableDataExport: true\n      enableLogAccessUsingOnlyResourcePermissions: true\n      immediatePurgeDataOn30Days: true\n    }\n    gallerySolutions: [\n      {\n        name: 'AzureAutomation(oiwmax001)'\n        plan: {\n          product: 'OMSGallery/AzureAutomation'\n        }\n      }\n      {\n        name: 'SecurityInsights(oiwmax001)'\n        plan: {\n          product: 'OMSGallery/SecurityInsights'\n          publisher: 'Microsoft'\n        }\n      }\n      {\n        name: 'SQLAuditing(oiwmax001)'\n        plan: {\n          name: 'SQLAuditing(oiwmax001)'\n          product: 'SQLAuditing'\n          publisher: 'Microsoft'\n        }\n      }\n    ]\n    linkedServices: [\n      {\n        name: 'Automation'\n        resourceId: '<resourceId>'\n      }\n    ]\n    linkedStorageAccounts: [\n      {\n        name: 'Query'\n        storageAccountIds: [\n          '<storageAccountResourceId>'\n        ]\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: true\n    }\n    onboardWorkspaceToSentinel: true\n    publicNetworkAccessForIngestion: 'Disabled'\n    publicNetworkAccessForQuery: 'Disabled'\n    replication: {\n      enabled: true\n      location: '<location>'\n    }\n    roleAssignments: [\n      {\n        name: 'c3d53092-840c-4025-9c02-9bcb7895789c'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    savedSearches: [\n      {\n        category: 'VDC Saved Searches'\n        displayName: 'VMSS Instance Count2'\n        name: 'VMSSQueries'\n        query: 'Event | where Source == ServiceFabricNodeBootstrapAgent | summarize AggregatedValue = count() by Computer'\n        tags: [\n          {\n            Name: 'Environment'\n            Value: 'Non-Prod'\n          }\n          {\n            Name: 'Role'\n            Value: 'DeploymentValidation'\n          }\n        ]\n      }\n    ]\n    storageInsightsConfigs: [\n      {\n        storageAccountResourceId: '<storageAccountResourceId>'\n        tables: [\n          'LinuxsyslogVer2v0'\n          'WADETWEventTable'\n          'WADServiceFabric*EventTable'\n          'WADWindowsEventLogsTable'\n        ]\n      }\n    ]\n    tables: [\n      {\n        name: 'CustomTableBasic_CL'\n        retentionInDays: 60\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n        schema: {\n          columns: [\n            {\n              name: 'TimeGenerated'\n              type: 'dateTime'\n            }\n            {\n              name: 'RawData'\n              type: 'string'\n            }\n          ]\n          name: 'CustomTableBasic_CL'\n        }\n        totalRetentionInDays: 90\n      }\n      {\n        name: 'CustomTableAdvanced_CL'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n        schema: {\n          columns: [\n            {\n              name: 'TimeGenerated'\n              type: 'dateTime'\n            }\n            {\n              name: 'EventTime'\n              type: 'dateTime'\n            }\n            {\n              name: 'EventLevel'\n              type: 'string'\n            }\n            {\n              name: 'EventCode'\n              type: 'int'\n            }\n            {\n              name: 'Message'\n              type: 'string'\n            }\n            {\n              name: 'RawData'\n              type: 'string'\n            }\n          ]\n          name: 'CustomTableAdvanced_CL'\n        }\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module workspace 'br/public:avm/res/operational-insights/workspace:0.12' = {\n  name: 'workspaceDeployment'\n  params: {\n    // Required parameters\n    name: 'oiwmax001'\n    // Non-required parameters\n    dailyQuotaGb: 10\n    dataSources: [\n      {\n        eventLogName: 'Application'\n        eventTypes: [\n          {\n            eventType: 'Error'\n          }\n          {\n            eventType: 'Warning'\n          }\n          {\n            eventType: 'Information'\n          }\n        ]\n        kind: 'WindowsEvent'\n        name: 'applicationEvent'\n      }\n      {\n        counterName: '% Processor Time'\n        instanceName: '*'\n        intervalSeconds: 60\n        kind: 'WindowsPerformanceCounter'\n        name: 'windowsPerfCounter1'\n        objectName: 'Processor'\n      }\n      {\n        kind: 'IISLogs'\n        name: 'sampleIISLog1'\n        state: 'OnPremiseEnabled'\n      }\n      {\n        kind: 'LinuxSyslog'\n        name: 'sampleSyslog1'\n        syslogName: 'kern'\n        syslogSeverities: [\n          {\n            severity: 'emerg'\n          }\n          {\n            severity: 'alert'\n          }\n          {\n            severity: 'crit'\n          }\n          {\n            severity: 'err'\n          }\n          {\n            severity: 'warning'\n          }\n        ]\n      }\n      {\n        kind: 'LinuxSyslogCollection'\n        name: 'sampleSyslogCollection1'\n        state: 'Enabled'\n      }\n      {\n        instanceName: '*'\n        intervalSeconds: 10\n        kind: 'LinuxPerformanceObject'\n        name: 'sampleLinuxPerf1'\n        objectName: 'Logical Disk'\n        syslogSeverities: [\n          {\n            counterName: '% Used Inodes'\n          }\n          {\n            counterName: 'Free Megabytes'\n          }\n          {\n            counterName: '% Used Space'\n          }\n          {\n            counterName: 'Disk Transfers/sec'\n          }\n          {\n            counterName: 'Disk Reads/sec'\n          }\n          {\n            counterName: 'Disk Writes/sec'\n          }\n        ]\n      }\n      {\n        kind: 'LinuxPerformanceCollection'\n        name: 'sampleLinuxPerfCollection1'\n        state: 'Enabled'\n      }\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    features: {\n      disableLocalAuth: true\n      enableDataExport: true\n      enableLogAccessUsingOnlyResourcePermissions: true\n      immediatePurgeDataOn30Days: true\n    }\n    gallerySolutions: [\n      {\n        name: 'AzureAutomation(oiwmax001)'\n        plan: {\n          product: 'OMSGallery/AzureAutomation'\n        }\n      }\n      {\n        name: 'SecurityInsights(oiwmax001)'\n        plan: {\n          product: 'OMSGallery/SecurityInsights'\n          publisher: 'Microsoft'\n        }\n      }\n      {\n        name: 'SQLAuditing(oiwmax001)'\n        plan: {\n          name: 'SQLAuditing(oiwmax001)'\n          product: 'SQLAuditing'\n          publisher: 'Microsoft'\n        }\n      }\n    ]\n    linkedServices: [\n      {\n        name: 'Automation'\n        resourceId: '<resourceId>'\n      }\n    ]\n    linkedStorageAccounts: [\n      {\n        name: 'Query'\n        storageAccountIds: [\n          '<storageAccountResourceId>'\n        ]\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: true\n    }\n    onboardWorkspaceToSentinel: true\n    publicNetworkAccessForIngestion: 'Disabled'\n    publicNetworkAccessForQuery: 'Disabled'\n    replication: {\n      enabled: true\n      location: '<location>'\n    }\n    roleAssignments: [\n      {\n        name: 'c3d53092-840c-4025-9c02-9bcb7895789c'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    savedSearches: [\n      {\n        category: 'VDC Saved Searches'\n        displayName: 'VMSS Instance Count2'\n        name: 'VMSSQueries'\n        query: 'Event | where Source == ServiceFabricNodeBootstrapAgent | summarize AggregatedValue = count() by Computer'\n        tags: [\n          {\n            Name: 'Environment'\n            Value: 'Non-Prod'\n          }\n          {\n            Name: 'Role'\n            Value: 'DeploymentValidation'\n          }\n        ]\n      }\n    ]\n    storageInsightsConfigs: [\n      {\n        storageAccountResourceId: '<storageAccountResourceId>'\n        tables: [\n          'LinuxsyslogVer2v0'\n          'WADETWEventTable'\n          'WADServiceFabric*EventTable'\n          'WADWindowsEventLogsTable'\n        ]\n      }\n    ]\n    tables: [\n      {\n        name: 'CustomTableBasic_CL'\n        retentionInDays: 60\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n        schema: {\n          columns: [\n            {\n              name: 'TimeGenerated'\n              type: 'dateTime'\n            }\n            {\n              name: 'RawData'\n              type: 'string'\n            }\n          ]\n          name: 'CustomTableBasic_CL'\n        }\n        totalRetentionInDays: 90\n      }\n      {\n        name: 'CustomTableAdvanced_CL'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n        schema: {\n          columns: [\n            {\n              name: 'TimeGenerated'\n              type: 'dateTime'\n            }\n            {\n              name: 'EventTime'\n              type: 'dateTime'\n            }\n            {\n              name: 'EventLevel'\n              type: 'string'\n            }\n            {\n              name: 'EventCode'\n              type: 'int'\n            }\n            {\n              name: 'Message'\n              type: 'string'\n            }\n            {\n              name: 'RawData'\n              type: 'string'\n            }\n          ]\n          name: 'CustomTableAdvanced_CL'\n        }\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_operational-insights_workspace_example_4", "source": "avm/res/operational-insights/workspace/README.md", "content_to_embed": "Recommended AVM Module for Log Analytics Workspaces: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.OperationalInsights/workspaces\nModule ID: br/public:avm/res/operational-insights/workspace:0.12\nParameters:\nparams: {\n    // Required parameters\n    name: 'oiwwaf001'\n    // Non-required parameters\n    dailyQuotaGb: 10\n    dataSources: [\n      {\n        eventLogName: 'Application'\n        eventTypes: [\n          {\n            eventType: 'Error'\n          }\n          {\n            eventType: 'Warning'\n          }\n          {\n            eventType: 'Information'\n          }\n        ]\n        kind: 'WindowsEvent'\n        name: 'applicationEvent'\n      }\n      {\n        counterName: '% Processor Time'\n        instanceName: '*'\n        intervalSeconds: 60\n        kind: 'WindowsPerformanceCounter'\n        name: 'windowsPerfCounter1'\n        objectName: 'Processor'\n      }\n      {\n        kind: 'IISLogs'\n        name: 'sampleIISLog1'\n        state: 'OnPremiseEnabled'\n      }\n      {\n        kind: 'LinuxSyslog'\n        name: 'sampleSyslog1'\n        syslogName: 'kern'\n        syslogSeverities: [\n          {\n            severity: 'emerg'\n          }\n          {\n            severity: 'alert'\n          }\n          {\n            severity: 'crit'\n          }\n          {\n            severity: 'err'\n          }\n          {\n            severity: 'warning'\n          }\n        ]\n      }\n      {\n        kind: 'LinuxSyslogCollection'\n        name: 'sampleSyslogCollection1'\n        state: 'Enabled'\n      }\n      {\n        instanceName: '*'\n        intervalSeconds: 10\n        kind: 'LinuxPerformanceObject'\n        name: 'sampleLinuxPerf1'\n        objectName: 'Logical Disk'\n        syslogSeverities: [\n          {\n            counterName: '% Used Inodes'\n          }\n          {\n            counterName: 'Free Megabytes'\n          }\n          {\n            counterName: '% Used Space'\n          }\n          {\n            counterName: 'Disk Transfers/sec'\n          }\n          {\n            counterName: 'Disk Reads/sec'\n          }\n          {\n            counterName: 'Disk Writes/sec'\n          }\n        ]\n      }\n      {\n        kind: 'LinuxPerformanceCollection'\n        name: 'sampleLinuxPerfCollection1'\n        state: 'Enabled'\n      }\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    features: {\n      enableLogAccessUsingOnlyResourcePermissions: true\n    }\n    gallerySolutions: [\n      {\n        name: 'AzureAutomation(oiwwaf001)'\n        plan: {\n          product: 'OMSGallery/AzureAutomation'\n        }\n      }\n    ]\n    linkedServices: [\n      {\n        name: 'Automation'\n        resourceId: '<resourceId>'\n      }\n    ]\n    linkedStorageAccounts: [\n      {\n        name: 'Query'\n        storageAccountIds: [\n          '<storageAccountResourceId>'\n        ]\n      }\n    ]\n    location: '<location>'\n    managedIdentities: {\n      systemAssigned: true\n    }\n    publicNetworkAccessForIngestion: 'Disabled'\n    publicNetworkAccessForQuery: 'Disabled'\n    replication: {\n      enabled: true\n      location: '<location>'\n    }\n    storageInsightsConfigs: [\n      {\n        storageAccountResourceId: '<storageAccountResourceId>'\n        tables: [\n          'LinuxsyslogVer2v0'\n          'WADETWEventTable'\n          'WADServiceFabric*EventTable'\n          'WADWindowsEventLogsTable'\n        ]\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module workspace 'br/public:avm/res/operational-insights/workspace:0.12' = {\n  name: 'workspaceDeployment'\n  params: {\n    // Required parameters\n    name: 'oiwwaf001'\n    // Non-required parameters\n    dailyQuotaGb: 10\n    dataSources: [\n      {\n        eventLogName: 'Application'\n        eventTypes: [\n          {\n            eventType: 'Error'\n          }\n          {\n            eventType: 'Warning'\n          }\n          {\n            eventType: 'Information'\n          }\n        ]\n        kind: 'WindowsEvent'\n        name: 'applicationEvent'\n      }\n      {\n        counterName: '% Processor Time'\n        instanceName: '*'\n        intervalSeconds: 60\n        kind: 'WindowsPerformanceCounter'\n        name: 'windowsPerfCounter1'\n        objectName: 'Processor'\n      }\n      {\n        kind: 'IISLogs'\n        name: 'sampleIISLog1'\n        state: 'OnPremiseEnabled'\n      }\n      {\n        kind: 'LinuxSyslog'\n        name: 'sampleSyslog1'\n        syslogName: 'kern'\n        syslogSeverities: [\n          {\n            severity: 'emerg'\n          }\n          {\n            severity: 'alert'\n          }\n          {\n            severity: 'crit'\n          }\n          {\n            severity: 'err'\n          }\n          {\n            severity: 'warning'\n          }\n        ]\n      }\n      {\n        kind: 'LinuxSyslogCollection'\n        name: 'sampleSyslogCollection1'\n        state: 'Enabled'\n      }\n      {\n        instanceName: '*'\n        intervalSeconds: 10\n        kind: 'LinuxPerformanceObject'\n        name: 'sampleLinuxPerf1'\n        objectName: 'Logical Disk'\n        syslogSeverities: [\n          {\n            counterName: '% Used Inodes'\n          }\n          {\n            counterName: 'Free Megabytes'\n          }\n          {\n            counterName: '% Used Space'\n          }\n          {\n            counterName: 'Disk Transfers/sec'\n          }\n          {\n            counterName: 'Disk Reads/sec'\n          }\n          {\n            counterName: 'Disk Writes/sec'\n          }\n        ]\n      }\n      {\n        kind: 'LinuxPerformanceCollection'\n        name: 'sampleLinuxPerfCollection1'\n        state: 'Enabled'\n      }\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    features: {\n      enableLogAccessUsingOnlyResourcePermissions: true\n    }\n    gallerySolutions: [\n      {\n        name: 'AzureAutomation(oiwwaf001)'\n        plan: {\n          product: 'OMSGallery/AzureAutomation'\n        }\n      }\n    ]\n    linkedServices: [\n      {\n        name: 'Automation'\n        resourceId: '<resourceId>'\n      }\n    ]\n    linkedStorageAccounts: [\n      {\n        name: 'Query'\n        storageAccountIds: [\n          '<storageAccountResourceId>'\n        ]\n      }\n    ]\n    location: '<location>'\n    managedIdentities: {\n      systemAssigned: true\n    }\n    publicNetworkAccessForIngestion: 'Disabled'\n    publicNetworkAccessForQuery: 'Disabled'\n    replication: {\n      enabled: true\n      location: '<location>'\n    }\n    storageInsightsConfigs: [\n      {\n        storageAccountResourceId: '<storageAccountResourceId>'\n        tables: [\n          'LinuxsyslogVer2v0'\n          'WADETWEventTable'\n          'WADServiceFabric*EventTable'\n          'WADWindowsEventLogsTable'\n        ]\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_operations-management_solution_example_1", "source": "avm/res/operations-management/solution/README.md", "content_to_embed": "Recommended AVM Module for Operations Management Solutions: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.OperationsManagement/solutions\nModule ID: br/public:avm/res/operations-management/solution:0.3\nParameters:\nparams: {\n    // Required parameters\n    logAnalyticsWorkspaceName: '<logAnalyticsWorkspaceName>'\n    name: '<name>'\n    plan: {\n      product: 'OMSGallery/Updates'\n    }\n    // Non-required parameters\n    location: '<location>'\n  }", "bicep": "module solution 'br/public:avm/res/operations-management/solution:0.3' = {\n  name: 'solutionDeployment'\n  params: {\n    // Required parameters\n    logAnalyticsWorkspaceName: '<logAnalyticsWorkspaceName>'\n    name: '<name>'\n    plan: {\n      product: 'OMSGallery/Updates'\n    }\n    // Non-required parameters\n    location: '<location>'\n  }\n}"}
{"id": "avm_res_operations-management_solution_example_2", "source": "avm/res/operations-management/solution/README.md", "content_to_embed": "Recommended AVM Module for Operations Management Solutions: Microsoft solution - This instance deploys the module with a Microsoft solution.\nResource Type Path: Microsoft.OperationsManagement/solutions\nModule ID: br/public:avm/res/operations-management/solution:0.3\nParameters:\nparams: {\n    // Required parameters\n    logAnalyticsWorkspaceName: '<logAnalyticsWorkspaceName>'\n    name: '<name>'\n    plan: {\n      product: 'OMSGallery/AzureAutomation'\n    }\n    // Non-required parameters\n    location: '<location>'\n  }", "bicep": "module solution 'br/public:avm/res/operations-management/solution:0.3' = {\n  name: 'solutionDeployment'\n  params: {\n    // Required parameters\n    logAnalyticsWorkspaceName: '<logAnalyticsWorkspaceName>'\n    name: '<name>'\n    plan: {\n      product: 'OMSGallery/AzureAutomation'\n    }\n    // Non-required parameters\n    location: '<location>'\n  }\n}"}
{"id": "avm_res_operations-management_solution_example_3", "source": "avm/res/operations-management/solution/README.md", "content_to_embed": "Recommended AVM Module for Operations Management Solutions: Non-Microsoft solution - This instance deploys the module with a third party (Non-Microsoft) solution.\nResource Type Path: Microsoft.OperationsManagement/solutions\nModule ID: br/public:avm/res/operations-management/solution:0.3\nParameters:\nparams: {\n    // Required parameters\n    logAnalyticsWorkspaceName: '<logAnalyticsWorkspaceName>'\n    name: 'omsnonms001'\n    plan: {\n      name: 'nonmsTestSolutionPlan'\n      product: 'nonmsTestSolutionProduct'\n      publisher: 'nonmsTestSolutionPublisher'\n    }\n    // Non-required parameters\n    location: '<location>'\n  }", "bicep": "module solution 'br/public:avm/res/operations-management/solution:0.3' = {\n  name: 'solutionDeployment'\n  params: {\n    // Required parameters\n    logAnalyticsWorkspaceName: '<logAnalyticsWorkspaceName>'\n    name: 'omsnonms001'\n    plan: {\n      name: 'nonmsTestSolutionPlan'\n      product: 'nonmsTestSolutionProduct'\n      publisher: 'nonmsTestSolutionPublisher'\n    }\n    // Non-required parameters\n    location: '<location>'\n  }\n}"}
{"id": "avm_res_operations-management_solution_example_4", "source": "avm/res/operations-management/solution/README.md", "content_to_embed": "Recommended AVM Module for Operations Management Solutions: SQLAuditing solution - This instance deploys the module with the SQLAuditing solution. This solution is authored by Microsoft, but uses a non-standard value for the `product` parameter.\nResource Type Path: Microsoft.OperationsManagement/solutions\nModule ID: br/public:avm/res/operations-management/solution:0.3\nParameters:\nparams: {\n    // Required parameters\n    logAnalyticsWorkspaceName: '<logAnalyticsWorkspaceName>'\n    name: '<name>'\n    plan: {\n      product: 'SQLAuditing'\n      publisher: 'Microsoft'\n    }\n    // Non-required parameters\n    location: '<location>'\n  }", "bicep": "module solution 'br/public:avm/res/operations-management/solution:0.3' = {\n  name: 'solutionDeployment'\n  params: {\n    // Required parameters\n    logAnalyticsWorkspaceName: '<logAnalyticsWorkspaceName>'\n    name: '<name>'\n    plan: {\n      product: 'SQLAuditing'\n      publisher: 'Microsoft'\n    }\n    // Non-required parameters\n    location: '<location>'\n  }\n}"}
{"id": "avm_res_operations-management_solution_example_5", "source": "avm/res/operations-management/solution/README.md", "content_to_embed": "Recommended AVM Module for Operations Management Solutions: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.OperationsManagement/solutions\nModule ID: br/public:avm/res/operations-management/solution:0.3\nParameters:\nparams: {\n    // Required parameters\n    logAnalyticsWorkspaceName: '<logAnalyticsWorkspaceName>'\n    name: '<name>'\n    plan: {\n      name: '<name>'\n      product: 'OMSGallery/AzureAutomation'\n      publisher: 'Microsoft'\n    }\n    // Non-required parameters\n    location: '<location>'\n  }", "bicep": "module solution 'br/public:avm/res/operations-management/solution:0.3' = {\n  name: 'solutionDeployment'\n  params: {\n    // Required parameters\n    logAnalyticsWorkspaceName: '<logAnalyticsWorkspaceName>'\n    name: '<name>'\n    plan: {\n      name: '<name>'\n      product: 'OMSGallery/AzureAutomation'\n      publisher: 'Microsoft'\n    }\n    // Non-required parameters\n    location: '<location>'\n  }\n}"}
{"id": "avm_res_portal_dashboard_example_1", "source": "avm/res/portal/dashboard/README.md", "content_to_embed": "Recommended AVM Module for Portal Dashboards: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Portal/dashboards\nModule ID: br/public:avm/res/portal/dashboard:0.3\nParameters:\nparams: {\n    name: 'pdmin001'\n  }", "bicep": "module dashboard 'br/public:avm/res/portal/dashboard:0.3' = {\n  name: 'dashboardDeployment'\n  params: {\n    name: 'pdmin001'\n  }\n}"}
{"id": "avm_res_portal_dashboard_example_2", "source": "avm/res/portal/dashboard/README.md", "content_to_embed": "Recommended AVM Module for Portal Dashboards: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Portal/dashboards\nModule ID: br/public:avm/res/portal/dashboard:0.3\nParameters:\nparams: {\n    // Required parameters\n    name: 'pdmax001'\n    // Non-required parameters\n    lenses: [\n      {\n        order: 0\n        parts: [\n          {\n            metadata: {\n              inputs: []\n              type: 'Extension/Microsoft_Azure_Security/PartType/SecurityMetricGalleryTileViewModel'\n            }\n            position: {\n              colSpan: 2\n              rowSpan: 3\n              x: 0\n              y: 0\n            }\n          }\n          {\n            metadata: {\n              inputs: [\n                {\n                  isOptional: true\n                  name: 'isShared'\n                }\n                {\n                  isOptional: true\n                  name: 'queryId'\n                }\n                {\n                  isOptional: true\n                  name: 'formatResults'\n                }\n                {\n                  isOptional: true\n                  name: 'partTitle'\n                  value: 'Query 1'\n                }\n                {\n                  isOptional: true\n                  name: 'chartType'\n                  value: 1\n                }\n                {\n                  isOptional: true\n                  name: 'queryScope'\n                  value: {\n                    scope: 0\n                    values: []\n                  }\n                }\n                {\n                  isOptional: true\n                  name: 'query'\n                  value: 'summarize ResourceCount=count() by type\\n| order by ResourceCount desc\\n| take 5\\n| project [\\'Resource Type\\']=type, [\\'Resource Count\\']=ResourceCount'\n                }\n              ]\n              partHeader: {\n                subtitle: ''\n                title: 'Top 5 resource types'\n              }\n              settings: {}\n              type: 'Extension/HubsExtension/PartType/ArgQueryChartTile'\n            }\n            position: {\n              colSpan: 9\n              rowSpan: 3\n              x: 2\n              y: 0\n            }\n          }\n        ]\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    metadata: {\n      model: {\n        filterLocale: {\n          value: 'en-us'\n        }\n        filters: {\n          value: {\n            MsPortalFx_TimeRange: {\n              displayCache: {\n                name: 'UTC Time'\n                value: 'Past 24 hours'\n              }\n              filteredPartIds: []\n              model: {\n                format: 'utc'\n                granularity: 'auto'\n                relative: '24h'\n              }\n            }\n          }\n        }\n        timeRange: {\n          type: 'MsPortalFx.Composition.Configuration.ValueTypes.TimeRange'\n          value: {\n            relative: {\n              duration: 24\n              timeUnit: 1\n            }\n          }\n        }\n      }\n    }\n    roleAssignments: [\n      {\n        name: '15e2e690-5c9f-4cbf-9716-94ee73efab8b'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module dashboard 'br/public:avm/res/portal/dashboard:0.3' = {\n  name: 'dashboardDeployment'\n  params: {\n    // Required parameters\n    name: 'pdmax001'\n    // Non-required parameters\n    lenses: [\n      {\n        order: 0\n        parts: [\n          {\n            metadata: {\n              inputs: []\n              type: 'Extension/Microsoft_Azure_Security/PartType/SecurityMetricGalleryTileViewModel'\n            }\n            position: {\n              colSpan: 2\n              rowSpan: 3\n              x: 0\n              y: 0\n            }\n          }\n          {\n            metadata: {\n              inputs: [\n                {\n                  isOptional: true\n                  name: 'isShared'\n                }\n                {\n                  isOptional: true\n                  name: 'queryId'\n                }\n                {\n                  isOptional: true\n                  name: 'formatResults'\n                }\n                {\n                  isOptional: true\n                  name: 'partTitle'\n                  value: 'Query 1'\n                }\n                {\n                  isOptional: true\n                  name: 'chartType'\n                  value: 1\n                }\n                {\n                  isOptional: true\n                  name: 'queryScope'\n                  value: {\n                    scope: 0\n                    values: []\n                  }\n                }\n                {\n                  isOptional: true\n                  name: 'query'\n                  value: 'summarize ResourceCount=count() by type\\n| order by ResourceCount desc\\n| take 5\\n| project [\\'Resource Type\\']=type, [\\'Resource Count\\']=ResourceCount'\n                }\n              ]\n              partHeader: {\n                subtitle: ''\n                title: 'Top 5 resource types'\n              }\n              settings: {}\n              type: 'Extension/HubsExtension/PartType/ArgQueryChartTile'\n            }\n            position: {\n              colSpan: 9\n              rowSpan: 3\n              x: 2\n              y: 0\n            }\n          }\n        ]\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    metadata: {\n      model: {\n        filterLocale: {\n          value: 'en-us'\n        }\n        filters: {\n          value: {\n            MsPortalFx_TimeRange: {\n              displayCache: {\n                name: 'UTC Time'\n                value: 'Past 24 hours'\n              }\n              filteredPartIds: []\n              model: {\n                format: 'utc'\n                granularity: 'auto'\n                relative: '24h'\n              }\n            }\n          }\n        }\n        timeRange: {\n          type: 'MsPortalFx.Composition.Configuration.ValueTypes.TimeRange'\n          value: {\n            relative: {\n              duration: 24\n              timeUnit: 1\n            }\n          }\n        }\n      }\n    }\n    roleAssignments: [\n      {\n        name: '15e2e690-5c9f-4cbf-9716-94ee73efab8b'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_portal_dashboard_example_3", "source": "avm/res/portal/dashboard/README.md", "content_to_embed": "Recommended AVM Module for Portal Dashboards: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Portal/dashboards\nModule ID: br/public:avm/res/portal/dashboard:0.3\nParameters:\nparams: {\n    // Required parameters\n    name: 'pdwaf001'\n    // Non-required parameters\n    lenses: [\n      {\n        order: 0\n        parts: [\n          {\n            metadata: {\n              inputs: []\n              settings: {\n                content: {\n                  src: 'https://www.youtube.com/watch?v=JbIMrJKW5N0'\n                  subtitle: 'Learn more about AVM'\n                  title: 'Azure Verified Modules (AVM) introduction'\n                }\n              }\n              type: 'Extension/HubsExtension/PartType/VideoPart'\n            }\n            position: {\n              colSpan: 6\n              rowSpan: 4\n              x: 0\n              y: 0\n            }\n          }\n          {\n            metadata: {\n              inputs: []\n              type: 'Extension/Microsoft_AAD_IAM/PartType/UserManagementSummaryPart'\n            }\n            position: {\n              colSpan: 2\n              rowSpan: 2\n              x: 6\n              y: 0\n            }\n          }\n          {\n            metadata: {\n              inputs: []\n              settings: {\n                content: {}\n              }\n              type: 'Extension/HubsExtension/PartType/ClockPart'\n            }\n            position: {\n              colSpan: 2\n              rowSpan: 2\n              x: 8\n              y: 0\n            }\n          }\n          {\n            metadata: {\n              inputs: [\n                {\n                  isOptional: true\n                  name: 'selectedMenuItemId'\n                }\n              ]\n              type: 'Extension/HubsExtension/PartType/GalleryTile'\n            }\n            position: {\n              colSpan: 2\n              rowSpan: 2\n              x: 6\n              y: 2\n            }\n          }\n          {\n            metadata: {\n              inputs: []\n              type: 'Extension/HubsExtension/PartType/HelpAndSupportPart'\n            }\n            position: {\n              colSpan: 2\n              rowSpan: 2\n              x: 8\n              y: 2\n            }\n          }\n        ]\n      }\n    ]\n    location: '<location>'\n    metadata: {\n      model: {\n        filterLocale: {\n          value: 'en-us'\n        }\n        filters: {\n          value: {\n            MsPortalFx_TimeRange: {\n              displayCache: {\n                name: 'UTC Time'\n                value: 'Past 24 hours'\n              }\n              filteredPartIds: [\n                'StartboardPart-MonitorChartPart-f6c2e060-fabc-4ce5-b031-45f3296510dd'\n              ]\n              model: {\n                format: 'utc'\n                granularity: 'auto'\n                relative: '24h'\n              }\n            }\n          }\n        }\n        timeRange: {\n          type: 'MsPortalFx.Composition.Configuration.ValueTypes.TimeRange'\n          value: {\n            relative: {\n              duration: 24\n              timeUnit: 1\n            }\n          }\n        }\n      }\n    }\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module dashboard 'br/public:avm/res/portal/dashboard:0.3' = {\n  name: 'dashboardDeployment'\n  params: {\n    // Required parameters\n    name: 'pdwaf001'\n    // Non-required parameters\n    lenses: [\n      {\n        order: 0\n        parts: [\n          {\n            metadata: {\n              inputs: []\n              settings: {\n                content: {\n                  src: 'https://www.youtube.com/watch?v=JbIMrJKW5N0'\n                  subtitle: 'Learn more about AVM'\n                  title: 'Azure Verified Modules (AVM) introduction'\n                }\n              }\n              type: 'Extension/HubsExtension/PartType/VideoPart'\n            }\n            position: {\n              colSpan: 6\n              rowSpan: 4\n              x: 0\n              y: 0\n            }\n          }\n          {\n            metadata: {\n              inputs: []\n              type: 'Extension/Microsoft_AAD_IAM/PartType/UserManagementSummaryPart'\n            }\n            position: {\n              colSpan: 2\n              rowSpan: 2\n              x: 6\n              y: 0\n            }\n          }\n          {\n            metadata: {\n              inputs: []\n              settings: {\n                content: {}\n              }\n              type: 'Extension/HubsExtension/PartType/ClockPart'\n            }\n            position: {\n              colSpan: 2\n              rowSpan: 2\n              x: 8\n              y: 0\n            }\n          }\n          {\n            metadata: {\n              inputs: [\n                {\n                  isOptional: true\n                  name: 'selectedMenuItemId'\n                }\n              ]\n              type: 'Extension/HubsExtension/PartType/GalleryTile'\n            }\n            position: {\n              colSpan: 2\n              rowSpan: 2\n              x: 6\n              y: 2\n            }\n          }\n          {\n            metadata: {\n              inputs: []\n              type: 'Extension/HubsExtension/PartType/HelpAndSupportPart'\n            }\n            position: {\n              colSpan: 2\n              rowSpan: 2\n              x: 8\n              y: 2\n            }\n          }\n        ]\n      }\n    ]\n    location: '<location>'\n    metadata: {\n      model: {\n        filterLocale: {\n          value: 'en-us'\n        }\n        filters: {\n          value: {\n            MsPortalFx_TimeRange: {\n              displayCache: {\n                name: 'UTC Time'\n                value: 'Past 24 hours'\n              }\n              filteredPartIds: [\n                'StartboardPart-MonitorChartPart-f6c2e060-fabc-4ce5-b031-45f3296510dd'\n              ]\n              model: {\n                format: 'utc'\n                granularity: 'auto'\n                relative: '24h'\n              }\n            }\n          }\n        }\n        timeRange: {\n          type: 'MsPortalFx.Composition.Configuration.ValueTypes.TimeRange'\n          value: {\n            relative: {\n              duration: 24\n              timeUnit: 1\n            }\n          }\n        }\n      }\n    }\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_power-bi-dedicated_capacity_example_1", "source": "avm/res/power-bi-dedicated/capacity/README.md", "content_to_embed": "Recommended AVM Module for Power BI Dedicated Capacities: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.PowerBIDedicated/capacities\nModule ID: br/public:avm/res/power-bi-dedicated/capacity:0.2\nParameters:\nparams: {\n    // Required parameters\n    members: [\n      '<managedIdentityPrincipalId>'\n    ]\n    name: 'pbdcapmin001'\n    sku: {\n      capacity: 1\n    }\n  }", "bicep": "module capacity 'br/public:avm/res/power-bi-dedicated/capacity:0.2' = {\n  name: 'capacityDeployment'\n  params: {\n    // Required parameters\n    members: [\n      '<managedIdentityPrincipalId>'\n    ]\n    name: 'pbdcapmin001'\n    sku: {\n      capacity: 1\n    }\n  }\n}"}
{"id": "avm_res_power-bi-dedicated_capacity_example_2", "source": "avm/res/power-bi-dedicated/capacity/README.md", "content_to_embed": "Recommended AVM Module for Power BI Dedicated Capacities: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.PowerBIDedicated/capacities\nModule ID: br/public:avm/res/power-bi-dedicated/capacity:0.2\nParameters:\nparams: {\n    // Required parameters\n    members: [\n      '<managedIdentityPrincipalId>'\n    ]\n    name: 'pbdcapmax001'\n    sku: {\n      capacity: 1\n      name: 'A1'\n      tier: 'PBIE_Azure'\n    }\n    // Non-required parameters\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    mode: 'Gen2'\n    roleAssignments: [\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module capacity 'br/public:avm/res/power-bi-dedicated/capacity:0.2' = {\n  name: 'capacityDeployment'\n  params: {\n    // Required parameters\n    members: [\n      '<managedIdentityPrincipalId>'\n    ]\n    name: 'pbdcapmax001'\n    sku: {\n      capacity: 1\n      name: 'A1'\n      tier: 'PBIE_Azure'\n    }\n    // Non-required parameters\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    mode: 'Gen2'\n    roleAssignments: [\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_power-bi-dedicated_capacity_example_3", "source": "avm/res/power-bi-dedicated/capacity/README.md", "content_to_embed": "Recommended AVM Module for Power BI Dedicated Capacities: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Well-Architected Framework.\nResource Type Path: Microsoft.PowerBIDedicated/capacities\nModule ID: br/public:avm/res/power-bi-dedicated/capacity:0.2\nParameters:\nparams: {\n    // Required parameters\n    members: [\n      '<managedIdentityPrincipalId>'\n    ]\n    name: 'pbdcapwaf001'\n    sku: {\n      capacity: 1\n    }\n    // Non-required parameters\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module capacity 'br/public:avm/res/power-bi-dedicated/capacity:0.2' = {\n  name: 'capacityDeployment'\n  params: {\n    // Required parameters\n    members: [\n      '<managedIdentityPrincipalId>'\n    ]\n    name: 'pbdcapwaf001'\n    sku: {\n      capacity: 1\n    }\n    // Non-required parameters\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_purview_account_example_1", "source": "avm/res/purview/account/README.md", "content_to_embed": "Recommended AVM Module for Purview Accounts: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Purview/accounts\nModule ID: br/public:avm/res/purview/account:0.9\nParameters:\nparams: {\n    // Required parameters\n    name: 'pvamin001'\n    // Non-required parameters\n    location: '<location>'\n  }", "bicep": "module account 'br/public:avm/res/purview/account:0.9' = {\n  name: 'accountDeployment'\n  params: {\n    // Required parameters\n    name: 'pvamin001'\n    // Non-required parameters\n    location: '<location>'\n  }\n}"}
{"id": "avm_res_purview_account_example_2", "source": "avm/res/purview/account/README.md", "content_to_embed": "Recommended AVM Module for Purview Accounts: Public network access disabled for Purview managed resources - This instance deploys the module with public network access disabled for Purview managed resources.\nResource Type Path: Microsoft.Purview/accounts\nModule ID: br/public:avm/res/purview/account:0.9\nParameters:\nparams: {\n    // Required parameters\n    name: 'pvaing001'\n    // Non-required parameters\n    location: '<location>'\n    managedResourcesPublicNetworkAccess: 'Disabled'\n  }", "bicep": "module account 'br/public:avm/res/purview/account:0.9' = {\n  name: 'accountDeployment'\n  params: {\n    // Required parameters\n    name: 'pvaing001'\n    // Non-required parameters\n    location: '<location>'\n    managedResourcesPublicNetworkAccess: 'Disabled'\n  }\n}"}
{"id": "avm_res_purview_account_example_3", "source": "avm/res/purview/account/README.md", "content_to_embed": "Recommended AVM Module for Purview Accounts: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Purview/accounts\nModule ID: br/public:avm/res/purview/account:0.9\nParameters:\nparams: {\n    // Required parameters\n    name: 'pvamax001'\n    // Non-required parameters\n    accountPrivateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'account'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    eventHubPrivateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'namespace'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    managedResourceGroupName: 'pvamax001-managed-rg'\n    portalPrivateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'portal'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    publicNetworkAccess: 'Disabled'\n    roleAssignments: [\n      {\n        name: '8372742c-408e-4a8a-a748-aca787a0e33e'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    storageBlobPrivateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'blob'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n    ]\n    storageQueuePrivateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'queue'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module account 'br/public:avm/res/purview/account:0.9' = {\n  name: 'accountDeployment'\n  params: {\n    // Required parameters\n    name: 'pvamax001'\n    // Non-required parameters\n    accountPrivateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'account'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    eventHubPrivateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'namespace'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    managedResourceGroupName: 'pvamax001-managed-rg'\n    portalPrivateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'portal'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    publicNetworkAccess: 'Disabled'\n    roleAssignments: [\n      {\n        name: '8372742c-408e-4a8a-a748-aca787a0e33e'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    storageBlobPrivateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'blob'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n    ]\n    storageQueuePrivateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'queue'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_purview_account_example_4", "source": "avm/res/purview/account/README.md", "content_to_embed": "Recommended AVM Module for Purview Accounts: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Purview/accounts\nModule ID: br/public:avm/res/purview/account:0.9\nParameters:\nparams: {\n    // Required parameters\n    name: 'pvawaf001'\n    // Non-required parameters\n    accountPrivateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'account'\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    eventHubPrivateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'namespace'\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    location: '<location>'\n    managedResourceGroupName: 'pvawaf001-managed-rg'\n    portalPrivateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'portal'\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    publicNetworkAccess: 'Disabled'\n    storageBlobPrivateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'blob'\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    storageQueuePrivateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'queue'\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module account 'br/public:avm/res/purview/account:0.9' = {\n  name: 'accountDeployment'\n  params: {\n    // Required parameters\n    name: 'pvawaf001'\n    // Non-required parameters\n    accountPrivateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'account'\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    eventHubPrivateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'namespace'\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    location: '<location>'\n    managedResourceGroupName: 'pvawaf001-managed-rg'\n    portalPrivateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'portal'\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    publicNetworkAccess: 'Disabled'\n    storageBlobPrivateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'blob'\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    storageQueuePrivateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'queue'\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_recovery-services_vault_example_1", "source": "avm/res/recovery-services/vault/README.md", "content_to_embed": "Recommended AVM Module for Recovery Services Vaults: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.RecoveryServices/vaults\nModule ID: br/public:avm/res/recovery-services/vault:0.10\nParameters:\nparams: {\n    name: 'rsvmin001'\n  }", "bicep": "module vault 'br/public:avm/res/recovery-services/vault:0.10' = {\n  name: 'vaultDeployment'\n  params: {\n    name: 'rsvmin001'\n  }\n}"}
{"id": "avm_res_recovery-services_vault_example_2", "source": "avm/res/recovery-services/vault/README.md", "content_to_embed": "Recommended AVM Module for Recovery Services Vaults: Test case for disaster recovery enabled - This instance deploys the module with disaster recovery enabled.\nResource Type Path: Microsoft.RecoveryServices/vaults\nModule ID: br/public:avm/res/recovery-services/vault:0.10\nParameters:\nparams: {\n    // Required parameters\n    name: '<name>'\n    // Non-required parameters\n    replicationFabrics: [\n      {\n        location: 'NorthEurope'\n        replicationContainers: [\n          {\n            mappings: [\n              {\n                policyName: 'Default_values'\n                targetContainerName: 'pluto'\n                targetProtectionContainerResourceId: '<targetProtectionContainerResourceId>'\n              }\n            ]\n            name: 'ne-container1'\n          }\n          {\n            mappings: [\n              {\n                policyName: 'Default_values'\n                targetContainerFabricName: 'WE-2'\n                targetContainerName: 'we-container1'\n              }\n            ]\n            name: 'ne-container2'\n          }\n        ]\n      }\n      {\n        location: 'WestEurope'\n        name: 'WE-2'\n        replicationContainers: [\n          {\n            mappings: [\n              {\n                policyName: 'Default_values'\n                targetContainerFabricName: 'NorthEurope'\n                targetContainerName: 'ne-container2'\n              }\n            ]\n            name: 'we-container1'\n          }\n        ]\n      }\n    ]\n    replicationPolicies: [\n      {\n        name: 'Default_values'\n      }\n      {\n        appConsistentFrequencyInMinutes: 240\n        crashConsistentFrequencyInMinutes: 7\n        multiVmSyncStatus: 'Disable'\n        name: 'Custom_values'\n        recoveryPointHistory: 2880\n      }\n    ]\n  }", "bicep": "module vault 'br/public:avm/res/recovery-services/vault:0.10' = {\n  name: 'vaultDeployment'\n  params: {\n    // Required parameters\n    name: '<name>'\n    // Non-required parameters\n    replicationFabrics: [\n      {\n        location: 'NorthEurope'\n        replicationContainers: [\n          {\n            mappings: [\n              {\n                policyName: 'Default_values'\n                targetContainerName: 'pluto'\n                targetProtectionContainerResourceId: '<targetProtectionContainerResourceId>'\n              }\n            ]\n            name: 'ne-container1'\n          }\n          {\n            mappings: [\n              {\n                policyName: 'Default_values'\n                targetContainerFabricName: 'WE-2'\n                targetContainerName: 'we-container1'\n              }\n            ]\n            name: 'ne-container2'\n          }\n        ]\n      }\n      {\n        location: 'WestEurope'\n        name: 'WE-2'\n        replicationContainers: [\n          {\n            mappings: [\n              {\n                policyName: 'Default_values'\n                targetContainerFabricName: 'NorthEurope'\n                targetContainerName: 'ne-container2'\n              }\n            ]\n            name: 'we-container1'\n          }\n        ]\n      }\n    ]\n    replicationPolicies: [\n      {\n        name: 'Default_values'\n      }\n      {\n        appConsistentFrequencyInMinutes: 240\n        crashConsistentFrequencyInMinutes: 7\n        multiVmSyncStatus: 'Disable'\n        name: 'Custom_values'\n        recoveryPointHistory: 2880\n      }\n    ]\n  }\n}"}
{"id": "avm_res_recovery-services_vault_example_3", "source": "avm/res/recovery-services/vault/README.md", "content_to_embed": "Recommended AVM Module for Recovery Services Vaults: Using encryption with Customer-Managed-Key - This instance deploys the module using Customer-Managed-Keys using a User-Assigned Identity to access the Customer-Managed-Key secret.\nResource Type Path: Microsoft.RecoveryServices/vaults\nModule ID: br/public:avm/res/recovery-services/vault:0.10\nParameters:\nparams: {\n    // Required parameters\n    name: 'rsvencr001'\n    // Non-required parameters\n    customerManagedKey: {\n      autoRotationEnabled: false\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n      userAssignedIdentityResourceId: '<userAssignedIdentityResourceId>'\n    }\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n  }", "bicep": "module vault 'br/public:avm/res/recovery-services/vault:0.10' = {\n  name: 'vaultDeployment'\n  params: {\n    // Required parameters\n    name: 'rsvencr001'\n    // Non-required parameters\n    customerManagedKey: {\n      autoRotationEnabled: false\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n      userAssignedIdentityResourceId: '<userAssignedIdentityResourceId>'\n    }\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n  }\n}"}
{"id": "avm_res_recovery-services_vault_example_4", "source": "avm/res/recovery-services/vault/README.md", "content_to_embed": "Recommended AVM Module for Recovery Services Vaults: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.RecoveryServices/vaults\nModule ID: br/public:avm/res/recovery-services/vault:0.10\nParameters:\nparams: {\n    // Required parameters\n    name: 'rsvmax001'\n    // Non-required parameters\n    backupConfig: {\n      enhancedSecurityState: 'Disabled'\n      softDeleteFeatureState: 'Disabled'\n    }\n    backupPolicies: [\n      {\n        name: 'VMpolicy'\n        properties: {\n          backupManagementType: 'AzureIaasVM'\n          instantRPDetails: {}\n          instantRpRetentionRangeInDays: 2\n          protectedItemsCount: 0\n          retentionPolicy: {\n            dailySchedule: {\n              retentionDuration: {\n                count: 180\n                durationType: 'Days'\n              }\n              retentionTimes: [\n                '2019-11-07T07:00:00Z'\n              ]\n            }\n            monthlySchedule: {\n              retentionDuration: {\n                count: 60\n                durationType: 'Months'\n              }\n              retentionScheduleFormatType: 'Weekly'\n              retentionScheduleWeekly: {\n                daysOfTheWeek: [\n                  'Sunday'\n                ]\n                weeksOfTheMonth: [\n                  'First'\n                ]\n              }\n              retentionTimes: [\n                '2019-11-07T07:00:00Z'\n              ]\n            }\n            retentionPolicyType: 'LongTermRetentionPolicy'\n            weeklySchedule: {\n              daysOfTheWeek: [\n                'Sunday'\n              ]\n              retentionDuration: {\n                count: 12\n                durationType: 'Weeks'\n              }\n              retentionTimes: [\n                '2019-11-07T07:00:00Z'\n              ]\n            }\n            yearlySchedule: {\n              monthsOfYear: [\n                'January'\n              ]\n              retentionDuration: {\n                count: 10\n                durationType: 'Years'\n              }\n              retentionScheduleFormatType: 'Weekly'\n              retentionScheduleWeekly: {\n                daysOfTheWeek: [\n                  'Sunday'\n                ]\n                weeksOfTheMonth: [\n                  'First'\n                ]\n              }\n              retentionTimes: [\n                '2019-11-07T07:00:00Z'\n              ]\n            }\n          }\n          schedulePolicy: {\n            schedulePolicyType: 'SimpleSchedulePolicy'\n            scheduleRunFrequency: 'Daily'\n            scheduleRunTimes: [\n              '2019-11-07T07:00:00Z'\n            ]\n            scheduleWeeklyFrequency: 0\n          }\n          timeZone: 'UTC'\n        }\n      }\n      {\n        name: 'sqlpolicy'\n        properties: {\n          backupManagementType: 'AzureWorkload'\n          protectedItemsCount: 0\n          settings: {\n            isCompression: true\n            issqlcompression: true\n            timeZone: 'UTC'\n          }\n          subProtectionPolicy: [\n            {\n              policyType: 'Full'\n              retentionPolicy: {\n                monthlySchedule: {\n                  retentionDuration: {\n                    count: 60\n                    durationType: 'Months'\n                  }\n                  retentionScheduleFormatType: 'Weekly'\n                  retentionScheduleWeekly: {\n                    daysOfTheWeek: [\n                      'Sunday'\n                    ]\n                    weeksOfTheMonth: [\n                      'First'\n                    ]\n                  }\n                  retentionTimes: [\n                    '2019-11-07T22:00:00Z'\n                  ]\n                }\n                retentionPolicyType: 'LongTermRetentionPolicy'\n                weeklySchedule: {\n                  daysOfTheWeek: [\n                    'Sunday'\n                  ]\n                  retentionDuration: {\n                    count: 104\n                    durationType: 'Weeks'\n                  }\n                  retentionTimes: [\n                    '2019-11-07T22:00:00Z'\n                  ]\n                }\n                yearlySchedule: {\n                  monthsOfYear: [\n                    'January'\n                  ]\n                  retentionDuration: {\n                    count: 10\n                    durationType: 'Years'\n                  }\n                  retentionScheduleFormatType: 'Weekly'\n                  retentionScheduleWeekly: {\n                    daysOfTheWeek: [\n                      'Sunday'\n                    ]\n                    weeksOfTheMonth: [\n                      'First'\n                    ]\n                  }\n                  retentionTimes: [\n                    '2019-11-07T22:00:00Z'\n                  ]\n                }\n              }\n              schedulePolicy: {\n                schedulePolicyType: 'SimpleSchedulePolicy'\n                scheduleRunDays: [\n                  'Sunday'\n                ]\n                scheduleRunFrequency: 'Weekly'\n                scheduleRunTimes: [\n                  '2019-11-07T22:00:00Z'\n                ]\n                scheduleWeeklyFrequency: 0\n              }\n            }\n            {\n              policyType: 'Differential'\n              retentionPolicy: {\n                retentionDuration: {\n                  count: 30\n                  durationType: 'Days'\n                }\n                retentionPolicyType: 'SimpleRetentionPolicy'\n              }\n              schedulePolicy: {\n                schedulePolicyType: 'SimpleSchedulePolicy'\n                scheduleRunDays: [\n                  'Monday'\n                ]\n                scheduleRunFrequency: 'Weekly'\n                scheduleRunTimes: [\n                  '2017-03-07T02:00:00Z'\n                ]\n                scheduleWeeklyFrequency: 0\n              }\n            }\n            {\n              policyType: 'Log'\n              retentionPolicy: {\n                retentionDuration: {\n                  count: 15\n                  durationType: 'Days'\n                }\n                retentionPolicyType: 'SimpleRetentionPolicy'\n              }\n              schedulePolicy: {\n                scheduleFrequencyInMins: 120\n                schedulePolicyType: 'LogSchedulePolicy'\n              }\n            }\n          ]\n          workLoadType: 'SQLDataBase'\n        }\n      }\n      {\n        name: 'filesharepolicy'\n        properties: {\n          backupManagementType: 'AzureStorage'\n          protectedItemsCount: 0\n          retentionPolicy: {\n            dailySchedule: {\n              retentionDuration: {\n                count: 30\n                durationType: 'Days'\n              }\n              retentionTimes: [\n                '2019-11-07T04:30:00Z'\n              ]\n            }\n            retentionPolicyType: 'LongTermRetentionPolicy'\n          }\n          schedulePolicy: {\n            schedulePolicyType: 'SimpleSchedulePolicy'\n            scheduleRunFrequency: 'Daily'\n            scheduleRunTimes: [\n              '2019-11-07T04:30:00Z'\n            ]\n            scheduleWeeklyFrequency: 0\n          }\n          timeZone: 'UTC'\n          workloadType: 'AzureFileShare'\n        }\n      }\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    immutabilitySettingState: 'Unlocked'\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    monitoringSettings: {\n      azureMonitorAlertSettings: {\n        alertsForAllFailoverIssues: 'Enabled'\n        alertsForAllJobFailures: 'Enabled'\n        alertsForAllReplicationIssues: 'Enabled'\n      }\n      classicAlertSettings: {\n        alertsForCriticalOperations: 'Enabled'\n        emailNotificationsForSiteRecovery: 'Enabled'\n      }\n    }\n    privateEndpoints: [\n      {\n        ipConfigurations: [\n          {\n            name: 'myIpConfig-1'\n            properties: {\n              groupId: 'AzureSiteRecovery'\n              memberName: 'SiteRecovery-tel1'\n              privateIPAddress: '10.0.0.10'\n            }\n          }\n          {\n            name: 'myIPconfig-2'\n            properties: {\n              groupId: 'AzureSiteRecovery'\n              memberName: 'SiteRecovery-prot2'\n              privateIPAddress: '10.0.0.11'\n            }\n          }\n          {\n            name: 'myIPconfig-3'\n            properties: {\n              groupId: 'AzureSiteRecovery'\n              memberName: 'SiteRecovery-srs1'\n              privateIPAddress: '10.0.0.12'\n            }\n          }\n          {\n            name: 'myIPconfig-4'\n            properties: {\n              groupId: 'AzureSiteRecovery'\n              memberName: 'SiteRecovery-rcm1'\n              privateIPAddress: '10.0.0.13'\n            }\n          }\n          {\n            name: 'myIPconfig-5'\n            properties: {\n              groupId: 'AzureSiteRecovery'\n              memberName: 'SiteRecovery-id1'\n              privateIPAddress: '10.0.0.14'\n            }\n          }\n        ]\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n    ]\n    protectedItems: [\n      {\n        name: '<name>'\n        policyName: 'VMpolicy'\n        protectedItemType: 'Microsoft.Compute/virtualMachines'\n        protectionContainerName: '<protectionContainerName>'\n        sourceResourceId: '<sourceResourceId>'\n      }\n    ]\n    redundancySettings: {\n      standardTierStorageRedundancy: 'LocallyRedundant'\n    }\n    replicationAlertSettings: {\n      customEmailAddresses: [\n        'test.user@testcompany.com'\n      ]\n      locale: 'en-US'\n      sendToOwners: 'Send'\n    }\n    roleAssignments: [\n      {\n        name: '35288372-e6b4-4333-9ee6-dd997b96d52b'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    softDeleteSettings: {\n      enhancedSecurityState: 'Enabled'\n      softDeleteRetentionPeriodInDays: 14\n      softDeleteState: 'Enabled'\n    }\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module vault 'br/public:avm/res/recovery-services/vault:0.10' = {\n  name: 'vaultDeployment'\n  params: {\n    // Required parameters\n    name: 'rsvmax001'\n    // Non-required parameters\n    backupConfig: {\n      enhancedSecurityState: 'Disabled'\n      softDeleteFeatureState: 'Disabled'\n    }\n    backupPolicies: [\n      {\n        name: 'VMpolicy'\n        properties: {\n          backupManagementType: 'AzureIaasVM'\n          instantRPDetails: {}\n          instantRpRetentionRangeInDays: 2\n          protectedItemsCount: 0\n          retentionPolicy: {\n            dailySchedule: {\n              retentionDuration: {\n                count: 180\n                durationType: 'Days'\n              }\n              retentionTimes: [\n                '2019-11-07T07:00:00Z'\n              ]\n            }\n            monthlySchedule: {\n              retentionDuration: {\n                count: 60\n                durationType: 'Months'\n              }\n              retentionScheduleFormatType: 'Weekly'\n              retentionScheduleWeekly: {\n                daysOfTheWeek: [\n                  'Sunday'\n                ]\n                weeksOfTheMonth: [\n                  'First'\n                ]\n              }\n              retentionTimes: [\n                '2019-11-07T07:00:00Z'\n              ]\n            }\n            retentionPolicyType: 'LongTermRetentionPolicy'\n            weeklySchedule: {\n              daysOfTheWeek: [\n                'Sunday'\n              ]\n              retentionDuration: {\n                count: 12\n                durationType: 'Weeks'\n              }\n              retentionTimes: [\n                '2019-11-07T07:00:00Z'\n              ]\n            }\n            yearlySchedule: {\n              monthsOfYear: [\n                'January'\n              ]\n              retentionDuration: {\n                count: 10\n                durationType: 'Years'\n              }\n              retentionScheduleFormatType: 'Weekly'\n              retentionScheduleWeekly: {\n                daysOfTheWeek: [\n                  'Sunday'\n                ]\n                weeksOfTheMonth: [\n                  'First'\n                ]\n              }\n              retentionTimes: [\n                '2019-11-07T07:00:00Z'\n              ]\n            }\n          }\n          schedulePolicy: {\n            schedulePolicyType: 'SimpleSchedulePolicy'\n            scheduleRunFrequency: 'Daily'\n            scheduleRunTimes: [\n              '2019-11-07T07:00:00Z'\n            ]\n            scheduleWeeklyFrequency: 0\n          }\n          timeZone: 'UTC'\n        }\n      }\n      {\n        name: 'sqlpolicy'\n        properties: {\n          backupManagementType: 'AzureWorkload'\n          protectedItemsCount: 0\n          settings: {\n            isCompression: true\n            issqlcompression: true\n            timeZone: 'UTC'\n          }\n          subProtectionPolicy: [\n            {\n              policyType: 'Full'\n              retentionPolicy: {\n                monthlySchedule: {\n                  retentionDuration: {\n                    count: 60\n                    durationType: 'Months'\n                  }\n                  retentionScheduleFormatType: 'Weekly'\n                  retentionScheduleWeekly: {\n                    daysOfTheWeek: [\n                      'Sunday'\n                    ]\n                    weeksOfTheMonth: [\n                      'First'\n                    ]\n                  }\n                  retentionTimes: [\n                    '2019-11-07T22:00:00Z'\n                  ]\n                }\n                retentionPolicyType: 'LongTermRetentionPolicy'\n                weeklySchedule: {\n                  daysOfTheWeek: [\n                    'Sunday'\n                  ]\n                  retentionDuration: {\n                    count: 104\n                    durationType: 'Weeks'\n                  }\n                  retentionTimes: [\n                    '2019-11-07T22:00:00Z'\n                  ]\n                }\n                yearlySchedule: {\n                  monthsOfYear: [\n                    'January'\n                  ]\n                  retentionDuration: {\n                    count: 10\n                    durationType: 'Years'\n                  }\n                  retentionScheduleFormatType: 'Weekly'\n                  retentionScheduleWeekly: {\n                    daysOfTheWeek: [\n                      'Sunday'\n                    ]\n                    weeksOfTheMonth: [\n                      'First'\n                    ]\n                  }\n                  retentionTimes: [\n                    '2019-11-07T22:00:00Z'\n                  ]\n                }\n              }\n              schedulePolicy: {\n                schedulePolicyType: 'SimpleSchedulePolicy'\n                scheduleRunDays: [\n                  'Sunday'\n                ]\n                scheduleRunFrequency: 'Weekly'\n                scheduleRunTimes: [\n                  '2019-11-07T22:00:00Z'\n                ]\n                scheduleWeeklyFrequency: 0\n              }\n            }\n            {\n              policyType: 'Differential'\n              retentionPolicy: {\n                retentionDuration: {\n                  count: 30\n                  durationType: 'Days'\n                }\n                retentionPolicyType: 'SimpleRetentionPolicy'\n              }\n              schedulePolicy: {\n                schedulePolicyType: 'SimpleSchedulePolicy'\n                scheduleRunDays: [\n                  'Monday'\n                ]\n                scheduleRunFrequency: 'Weekly'\n                scheduleRunTimes: [\n                  '2017-03-07T02:00:00Z'\n                ]\n                scheduleWeeklyFrequency: 0\n              }\n            }\n            {\n              policyType: 'Log'\n              retentionPolicy: {\n                retentionDuration: {\n                  count: 15\n                  durationType: 'Days'\n                }\n                retentionPolicyType: 'SimpleRetentionPolicy'\n              }\n              schedulePolicy: {\n                scheduleFrequencyInMins: 120\n                schedulePolicyType: 'LogSchedulePolicy'\n              }\n            }\n          ]\n          workLoadType: 'SQLDataBase'\n        }\n      }\n      {\n        name: 'filesharepolicy'\n        properties: {\n          backupManagementType: 'AzureStorage'\n          protectedItemsCount: 0\n          retentionPolicy: {\n            dailySchedule: {\n              retentionDuration: {\n                count: 30\n                durationType: 'Days'\n              }\n              retentionTimes: [\n                '2019-11-07T04:30:00Z'\n              ]\n            }\n            retentionPolicyType: 'LongTermRetentionPolicy'\n          }\n          schedulePolicy: {\n            schedulePolicyType: 'SimpleSchedulePolicy'\n            scheduleRunFrequency: 'Daily'\n            scheduleRunTimes: [\n              '2019-11-07T04:30:00Z'\n            ]\n            scheduleWeeklyFrequency: 0\n          }\n          timeZone: 'UTC'\n          workloadType: 'AzureFileShare'\n        }\n      }\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    immutabilitySettingState: 'Unlocked'\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    monitoringSettings: {\n      azureMonitorAlertSettings: {\n        alertsForAllFailoverIssues: 'Enabled'\n        alertsForAllJobFailures: 'Enabled'\n        alertsForAllReplicationIssues: 'Enabled'\n      }\n      classicAlertSettings: {\n        alertsForCriticalOperations: 'Enabled'\n        emailNotificationsForSiteRecovery: 'Enabled'\n      }\n    }\n    privateEndpoints: [\n      {\n        ipConfigurations: [\n          {\n            name: 'myIpConfig-1'\n            properties: {\n              groupId: 'AzureSiteRecovery'\n              memberName: 'SiteRecovery-tel1'\n              privateIPAddress: '10.0.0.10'\n            }\n          }\n          {\n            name: 'myIPconfig-2'\n            properties: {\n              groupId: 'AzureSiteRecovery'\n              memberName: 'SiteRecovery-prot2'\n              privateIPAddress: '10.0.0.11'\n            }\n          }\n          {\n            name: 'myIPconfig-3'\n            properties: {\n              groupId: 'AzureSiteRecovery'\n              memberName: 'SiteRecovery-srs1'\n              privateIPAddress: '10.0.0.12'\n            }\n          }\n          {\n            name: 'myIPconfig-4'\n            properties: {\n              groupId: 'AzureSiteRecovery'\n              memberName: 'SiteRecovery-rcm1'\n              privateIPAddress: '10.0.0.13'\n            }\n          }\n          {\n            name: 'myIPconfig-5'\n            properties: {\n              groupId: 'AzureSiteRecovery'\n              memberName: 'SiteRecovery-id1'\n              privateIPAddress: '10.0.0.14'\n            }\n          }\n        ]\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n    ]\n    protectedItems: [\n      {\n        name: '<name>'\n        policyName: 'VMpolicy'\n        protectedItemType: 'Microsoft.Compute/virtualMachines'\n        protectionContainerName: '<protectionContainerName>'\n        sourceResourceId: '<sourceResourceId>'\n      }\n    ]\n    redundancySettings: {\n      standardTierStorageRedundancy: 'LocallyRedundant'\n    }\n    replicationAlertSettings: {\n      customEmailAddresses: [\n        'test.user@testcompany.com'\n      ]\n      locale: 'en-US'\n      sendToOwners: 'Send'\n    }\n    roleAssignments: [\n      {\n        name: '35288372-e6b4-4333-9ee6-dd997b96d52b'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    softDeleteSettings: {\n      enhancedSecurityState: 'Enabled'\n      softDeleteRetentionPeriodInDays: 14\n      softDeleteState: 'Enabled'\n    }\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_recovery-services_vault_example_5", "source": "avm/res/recovery-services/vault/README.md", "content_to_embed": "Recommended AVM Module for Recovery Services Vaults: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.RecoveryServices/vaults\nModule ID: br/public:avm/res/recovery-services/vault:0.10\nParameters:\nparams: {\n    // Required parameters\n    name: 'rsvwaf001'\n    // Non-required parameters\n    backupConfig: {\n      enhancedSecurityState: 'Disabled'\n      softDeleteFeatureState: 'Disabled'\n    }\n    backupPolicies: [\n      {\n        name: 'VMpolicy'\n        properties: {\n          backupManagementType: 'AzureIaasVM'\n          instantRPDetails: {}\n          instantRpRetentionRangeInDays: 2\n          protectedItemsCount: 0\n          retentionPolicy: {\n            dailySchedule: {\n              retentionDuration: {\n                count: 180\n                durationType: 'Days'\n              }\n              retentionTimes: [\n                '2019-11-07T07:00:00Z'\n              ]\n            }\n            monthlySchedule: {\n              retentionDuration: {\n                count: 60\n                durationType: 'Months'\n              }\n              retentionScheduleFormatType: 'Weekly'\n              retentionScheduleWeekly: {\n                daysOfTheWeek: [\n                  'Sunday'\n                ]\n                weeksOfTheMonth: [\n                  'First'\n                ]\n              }\n              retentionTimes: [\n                '2019-11-07T07:00:00Z'\n              ]\n            }\n            retentionPolicyType: 'LongTermRetentionPolicy'\n            weeklySchedule: {\n              daysOfTheWeek: [\n                'Sunday'\n              ]\n              retentionDuration: {\n                count: 12\n                durationType: 'Weeks'\n              }\n              retentionTimes: [\n                '2019-11-07T07:00:00Z'\n              ]\n            }\n            yearlySchedule: {\n              monthsOfYear: [\n                'January'\n              ]\n              retentionDuration: {\n                count: 10\n                durationType: 'Years'\n              }\n              retentionScheduleFormatType: 'Weekly'\n              retentionScheduleWeekly: {\n                daysOfTheWeek: [\n                  'Sunday'\n                ]\n                weeksOfTheMonth: [\n                  'First'\n                ]\n              }\n              retentionTimes: [\n                '2019-11-07T07:00:00Z'\n              ]\n            }\n          }\n          schedulePolicy: {\n            schedulePolicyType: 'SimpleSchedulePolicy'\n            scheduleRunFrequency: 'Daily'\n            scheduleRunTimes: [\n              '2019-11-07T07:00:00Z'\n            ]\n            scheduleWeeklyFrequency: 0\n          }\n          timeZone: 'UTC'\n        }\n      }\n      {\n        name: 'sqlpolicy'\n        properties: {\n          backupManagementType: 'AzureWorkload'\n          protectedItemsCount: 0\n          settings: {\n            isCompression: true\n            issqlcompression: true\n            timeZone: 'UTC'\n          }\n          subProtectionPolicy: [\n            {\n              policyType: 'Full'\n              retentionPolicy: {\n                monthlySchedule: {\n                  retentionDuration: {\n                    count: 60\n                    durationType: 'Months'\n                  }\n                  retentionScheduleFormatType: 'Weekly'\n                  retentionScheduleWeekly: {\n                    daysOfTheWeek: [\n                      'Sunday'\n                    ]\n                    weeksOfTheMonth: [\n                      'First'\n                    ]\n                  }\n                  retentionTimes: [\n                    '2019-11-07T22:00:00Z'\n                  ]\n                }\n                retentionPolicyType: 'LongTermRetentionPolicy'\n                weeklySchedule: {\n                  daysOfTheWeek: [\n                    'Sunday'\n                  ]\n                  retentionDuration: {\n                    count: 104\n                    durationType: 'Weeks'\n                  }\n                  retentionTimes: [\n                    '2019-11-07T22:00:00Z'\n                  ]\n                }\n                yearlySchedule: {\n                  monthsOfYear: [\n                    'January'\n                  ]\n                  retentionDuration: {\n                    count: 10\n                    durationType: 'Years'\n                  }\n                  retentionScheduleFormatType: 'Weekly'\n                  retentionScheduleWeekly: {\n                    daysOfTheWeek: [\n                      'Sunday'\n                    ]\n                    weeksOfTheMonth: [\n                      'First'\n                    ]\n                  }\n                  retentionTimes: [\n                    '2019-11-07T22:00:00Z'\n                  ]\n                }\n              }\n              schedulePolicy: {\n                schedulePolicyType: 'SimpleSchedulePolicy'\n                scheduleRunDays: [\n                  'Sunday'\n                ]\n                scheduleRunFrequency: 'Weekly'\n                scheduleRunTimes: [\n                  '2019-11-07T22:00:00Z'\n                ]\n                scheduleWeeklyFrequency: 0\n              }\n            }\n            {\n              policyType: 'Differential'\n              retentionPolicy: {\n                retentionDuration: {\n                  count: 30\n                  durationType: 'Days'\n                }\n                retentionPolicyType: 'SimpleRetentionPolicy'\n              }\n              schedulePolicy: {\n                schedulePolicyType: 'SimpleSchedulePolicy'\n                scheduleRunDays: [\n                  'Monday'\n                ]\n                scheduleRunFrequency: 'Weekly'\n                scheduleRunTimes: [\n                  '2017-03-07T02:00:00Z'\n                ]\n                scheduleWeeklyFrequency: 0\n              }\n            }\n            {\n              policyType: 'Log'\n              retentionPolicy: {\n                retentionDuration: {\n                  count: 15\n                  durationType: 'Days'\n                }\n                retentionPolicyType: 'SimpleRetentionPolicy'\n              }\n              schedulePolicy: {\n                scheduleFrequencyInMins: 120\n                schedulePolicyType: 'LogSchedulePolicy'\n              }\n            }\n          ]\n          workLoadType: 'SQLDataBase'\n        }\n      }\n      {\n        name: 'filesharepolicy'\n        properties: {\n          backupManagementType: 'AzureStorage'\n          protectedItemsCount: 0\n          retentionPolicy: {\n            dailySchedule: {\n              retentionDuration: {\n                count: 30\n                durationType: 'Days'\n              }\n              retentionTimes: [\n                '2019-11-07T04:30:00Z'\n              ]\n            }\n            retentionPolicyType: 'LongTermRetentionPolicy'\n          }\n          schedulePolicy: {\n            schedulePolicyType: 'SimpleSchedulePolicy'\n            scheduleRunFrequency: 'Daily'\n            scheduleRunTimes: [\n              '2019-11-07T04:30:00Z'\n            ]\n            scheduleWeeklyFrequency: 0\n          }\n          timeZone: 'UTC'\n          workloadType: 'AzureFileShare'\n        }\n      }\n    ]\n    customerManagedKey: {\n      autoRotationEnabled: false\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n      userAssignedIdentityResourceId: '<userAssignedIdentityResourceId>'\n    }\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    immutabilitySettingState: 'Unlocked'\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    monitoringSettings: {\n      azureMonitorAlertSettings: {\n        alertsForAllFailoverIssues: 'Enabled'\n        alertsForAllJobFailures: 'Enabled'\n        alertsForAllReplicationIssues: 'Enabled'\n      }\n      classicAlertSettings: {\n        alertsForCriticalOperations: 'Enabled'\n        emailNotificationsForSiteRecovery: 'Enabled'\n      }\n    }\n    privateEndpoints: [\n      {\n        ipConfigurations: [\n          {\n            name: 'myIpConfig-1'\n            properties: {\n              groupId: 'AzureSiteRecovery'\n              memberName: 'SiteRecovery-tel1'\n              privateIPAddress: '10.0.0.10'\n            }\n          }\n          {\n            name: 'myIPconfig-2'\n            properties: {\n              groupId: 'AzureSiteRecovery'\n              memberName: 'SiteRecovery-prot2'\n              privateIPAddress: '10.0.0.11'\n            }\n          }\n          {\n            name: 'myIPconfig-3'\n            properties: {\n              groupId: 'AzureSiteRecovery'\n              memberName: 'SiteRecovery-srs1'\n              privateIPAddress: '10.0.0.12'\n            }\n          }\n          {\n            name: 'myIPconfig-4'\n            properties: {\n              groupId: 'AzureSiteRecovery'\n              memberName: 'SiteRecovery-rcm1'\n              privateIPAddress: '10.0.0.13'\n            }\n          }\n          {\n            name: 'myIPconfig-5'\n            properties: {\n              groupId: 'AzureSiteRecovery'\n              memberName: 'SiteRecovery-id1'\n              privateIPAddress: '10.0.0.14'\n            }\n          }\n        ]\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n    ]\n    replicationAlertSettings: {\n      customEmailAddresses: [\n        'test.user@testcompany.com'\n      ]\n      locale: 'en-US'\n      sendToOwners: 'Send'\n    }\n    softDeleteSettings: {\n      enhancedSecurityState: 'Enabled'\n      softDeleteRetentionPeriodInDays: 14\n      softDeleteState: 'Enabled'\n    }\n  }", "bicep": "module vault 'br/public:avm/res/recovery-services/vault:0.10' = {\n  name: 'vaultDeployment'\n  params: {\n    // Required parameters\n    name: 'rsvwaf001'\n    // Non-required parameters\n    backupConfig: {\n      enhancedSecurityState: 'Disabled'\n      softDeleteFeatureState: 'Disabled'\n    }\n    backupPolicies: [\n      {\n        name: 'VMpolicy'\n        properties: {\n          backupManagementType: 'AzureIaasVM'\n          instantRPDetails: {}\n          instantRpRetentionRangeInDays: 2\n          protectedItemsCount: 0\n          retentionPolicy: {\n            dailySchedule: {\n              retentionDuration: {\n                count: 180\n                durationType: 'Days'\n              }\n              retentionTimes: [\n                '2019-11-07T07:00:00Z'\n              ]\n            }\n            monthlySchedule: {\n              retentionDuration: {\n                count: 60\n                durationType: 'Months'\n              }\n              retentionScheduleFormatType: 'Weekly'\n              retentionScheduleWeekly: {\n                daysOfTheWeek: [\n                  'Sunday'\n                ]\n                weeksOfTheMonth: [\n                  'First'\n                ]\n              }\n              retentionTimes: [\n                '2019-11-07T07:00:00Z'\n              ]\n            }\n            retentionPolicyType: 'LongTermRetentionPolicy'\n            weeklySchedule: {\n              daysOfTheWeek: [\n                'Sunday'\n              ]\n              retentionDuration: {\n                count: 12\n                durationType: 'Weeks'\n              }\n              retentionTimes: [\n                '2019-11-07T07:00:00Z'\n              ]\n            }\n            yearlySchedule: {\n              monthsOfYear: [\n                'January'\n              ]\n              retentionDuration: {\n                count: 10\n                durationType: 'Years'\n              }\n              retentionScheduleFormatType: 'Weekly'\n              retentionScheduleWeekly: {\n                daysOfTheWeek: [\n                  'Sunday'\n                ]\n                weeksOfTheMonth: [\n                  'First'\n                ]\n              }\n              retentionTimes: [\n                '2019-11-07T07:00:00Z'\n              ]\n            }\n          }\n          schedulePolicy: {\n            schedulePolicyType: 'SimpleSchedulePolicy'\n            scheduleRunFrequency: 'Daily'\n            scheduleRunTimes: [\n              '2019-11-07T07:00:00Z'\n            ]\n            scheduleWeeklyFrequency: 0\n          }\n          timeZone: 'UTC'\n        }\n      }\n      {\n        name: 'sqlpolicy'\n        properties: {\n          backupManagementType: 'AzureWorkload'\n          protectedItemsCount: 0\n          settings: {\n            isCompression: true\n            issqlcompression: true\n            timeZone: 'UTC'\n          }\n          subProtectionPolicy: [\n            {\n              policyType: 'Full'\n              retentionPolicy: {\n                monthlySchedule: {\n                  retentionDuration: {\n                    count: 60\n                    durationType: 'Months'\n                  }\n                  retentionScheduleFormatType: 'Weekly'\n                  retentionScheduleWeekly: {\n                    daysOfTheWeek: [\n                      'Sunday'\n                    ]\n                    weeksOfTheMonth: [\n                      'First'\n                    ]\n                  }\n                  retentionTimes: [\n                    '2019-11-07T22:00:00Z'\n                  ]\n                }\n                retentionPolicyType: 'LongTermRetentionPolicy'\n                weeklySchedule: {\n                  daysOfTheWeek: [\n                    'Sunday'\n                  ]\n                  retentionDuration: {\n                    count: 104\n                    durationType: 'Weeks'\n                  }\n                  retentionTimes: [\n                    '2019-11-07T22:00:00Z'\n                  ]\n                }\n                yearlySchedule: {\n                  monthsOfYear: [\n                    'January'\n                  ]\n                  retentionDuration: {\n                    count: 10\n                    durationType: 'Years'\n                  }\n                  retentionScheduleFormatType: 'Weekly'\n                  retentionScheduleWeekly: {\n                    daysOfTheWeek: [\n                      'Sunday'\n                    ]\n                    weeksOfTheMonth: [\n                      'First'\n                    ]\n                  }\n                  retentionTimes: [\n                    '2019-11-07T22:00:00Z'\n                  ]\n                }\n              }\n              schedulePolicy: {\n                schedulePolicyType: 'SimpleSchedulePolicy'\n                scheduleRunDays: [\n                  'Sunday'\n                ]\n                scheduleRunFrequency: 'Weekly'\n                scheduleRunTimes: [\n                  '2019-11-07T22:00:00Z'\n                ]\n                scheduleWeeklyFrequency: 0\n              }\n            }\n            {\n              policyType: 'Differential'\n              retentionPolicy: {\n                retentionDuration: {\n                  count: 30\n                  durationType: 'Days'\n                }\n                retentionPolicyType: 'SimpleRetentionPolicy'\n              }\n              schedulePolicy: {\n                schedulePolicyType: 'SimpleSchedulePolicy'\n                scheduleRunDays: [\n                  'Monday'\n                ]\n                scheduleRunFrequency: 'Weekly'\n                scheduleRunTimes: [\n                  '2017-03-07T02:00:00Z'\n                ]\n                scheduleWeeklyFrequency: 0\n              }\n            }\n            {\n              policyType: 'Log'\n              retentionPolicy: {\n                retentionDuration: {\n                  count: 15\n                  durationType: 'Days'\n                }\n                retentionPolicyType: 'SimpleRetentionPolicy'\n              }\n              schedulePolicy: {\n                scheduleFrequencyInMins: 120\n                schedulePolicyType: 'LogSchedulePolicy'\n              }\n            }\n          ]\n          workLoadType: 'SQLDataBase'\n        }\n      }\n      {\n        name: 'filesharepolicy'\n        properties: {\n          backupManagementType: 'AzureStorage'\n          protectedItemsCount: 0\n          retentionPolicy: {\n            dailySchedule: {\n              retentionDuration: {\n                count: 30\n                durationType: 'Days'\n              }\n              retentionTimes: [\n                '2019-11-07T04:30:00Z'\n              ]\n            }\n            retentionPolicyType: 'LongTermRetentionPolicy'\n          }\n          schedulePolicy: {\n            schedulePolicyType: 'SimpleSchedulePolicy'\n            scheduleRunFrequency: 'Daily'\n            scheduleRunTimes: [\n              '2019-11-07T04:30:00Z'\n            ]\n            scheduleWeeklyFrequency: 0\n          }\n          timeZone: 'UTC'\n          workloadType: 'AzureFileShare'\n        }\n      }\n    ]\n    customerManagedKey: {\n      autoRotationEnabled: false\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n      userAssignedIdentityResourceId: '<userAssignedIdentityResourceId>'\n    }\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    immutabilitySettingState: 'Unlocked'\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    monitoringSettings: {\n      azureMonitorAlertSettings: {\n        alertsForAllFailoverIssues: 'Enabled'\n        alertsForAllJobFailures: 'Enabled'\n        alertsForAllReplicationIssues: 'Enabled'\n      }\n      classicAlertSettings: {\n        alertsForCriticalOperations: 'Enabled'\n        emailNotificationsForSiteRecovery: 'Enabled'\n      }\n    }\n    privateEndpoints: [\n      {\n        ipConfigurations: [\n          {\n            name: 'myIpConfig-1'\n            properties: {\n              groupId: 'AzureSiteRecovery'\n              memberName: 'SiteRecovery-tel1'\n              privateIPAddress: '10.0.0.10'\n            }\n          }\n          {\n            name: 'myIPconfig-2'\n            properties: {\n              groupId: 'AzureSiteRecovery'\n              memberName: 'SiteRecovery-prot2'\n              privateIPAddress: '10.0.0.11'\n            }\n          }\n          {\n            name: 'myIPconfig-3'\n            properties: {\n              groupId: 'AzureSiteRecovery'\n              memberName: 'SiteRecovery-srs1'\n              privateIPAddress: '10.0.0.12'\n            }\n          }\n          {\n            name: 'myIPconfig-4'\n            properties: {\n              groupId: 'AzureSiteRecovery'\n              memberName: 'SiteRecovery-rcm1'\n              privateIPAddress: '10.0.0.13'\n            }\n          }\n          {\n            name: 'myIPconfig-5'\n            properties: {\n              groupId: 'AzureSiteRecovery'\n              memberName: 'SiteRecovery-id1'\n              privateIPAddress: '10.0.0.14'\n            }\n          }\n        ]\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n    ]\n    replicationAlertSettings: {\n      customEmailAddresses: [\n        'test.user@testcompany.com'\n      ]\n      locale: 'en-US'\n      sendToOwners: 'Send'\n    }\n    softDeleteSettings: {\n      enhancedSecurityState: 'Enabled'\n      softDeleteRetentionPeriodInDays: 14\n      softDeleteState: 'Enabled'\n    }\n  }\n}"}
{"id": "avm_res_relay_namespace_example_1", "source": "avm/res/relay/namespace/README.md", "content_to_embed": "Recommended AVM Module for Relay Namespaces: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Relay/namespaces\nModule ID: br/public:avm/res/relay/namespace:0.7\nParameters:\nparams: {\n    name: 'rnmin001'\n  }", "bicep": "module namespace 'br/public:avm/res/relay/namespace:0.7' = {\n  name: 'namespaceDeployment'\n  params: {\n    name: 'rnmin001'\n  }\n}"}
{"id": "avm_res_relay_namespace_example_2", "source": "avm/res/relay/namespace/README.md", "content_to_embed": "Recommended AVM Module for Relay Namespaces: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Relay/namespaces\nModule ID: br/public:avm/res/relay/namespace:0.7\nParameters:\nparams: {\n    // Required parameters\n    name: 'rnmax001'\n    // Non-required parameters\n    authorizationRules: [\n      {\n        name: 'RootManageSharedAccessKey'\n        rights: [\n          'Listen'\n          'Manage'\n          'Send'\n        ]\n      }\n      {\n        name: 'AnotherKey'\n        rights: [\n          'Listen'\n          'Send'\n        ]\n      }\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    hybridConnections: [\n      {\n        name: 'rnmaxhc001'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Reader'\n          }\n        ]\n        userMetadata: '[{\\'key\\':\\'endpoint\\',\\'value\\':\\'db-server.constoso.com:1433\\'}]'\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    networkRuleSets: {\n      defaultAction: 'Deny'\n      ipRules: [\n        {\n          action: 'Allow'\n          ipMask: '10.0.1.0/32'\n        }\n        {\n          action: 'Allow'\n          ipMask: '10.0.2.0/32'\n        }\n      ]\n      trustedServiceAccessEnabled: true\n      virtualNetworkRules: [\n        {\n          subnet: {\n            id: '<id>'\n            ignoreMissingVnetServiceEndpoint: true\n          }\n        }\n      ]\n    }\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'namespace'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    roleAssignments: [\n      {\n        name: 'd3dff05a-96d7-4d63-82c2-0fd8ac7b859d'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    skuName: 'Standard'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    wcfRelays: [\n      {\n        name: 'rnmaxwcf001'\n        relayType: 'NetTcp'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Reader'\n          }\n        ]\n      }\n    ]\n  }", "bicep": "module namespace 'br/public:avm/res/relay/namespace:0.7' = {\n  name: 'namespaceDeployment'\n  params: {\n    // Required parameters\n    name: 'rnmax001'\n    // Non-required parameters\n    authorizationRules: [\n      {\n        name: 'RootManageSharedAccessKey'\n        rights: [\n          'Listen'\n          'Manage'\n          'Send'\n        ]\n      }\n      {\n        name: 'AnotherKey'\n        rights: [\n          'Listen'\n          'Send'\n        ]\n      }\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    hybridConnections: [\n      {\n        name: 'rnmaxhc001'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Reader'\n          }\n        ]\n        userMetadata: '[{\\'key\\':\\'endpoint\\',\\'value\\':\\'db-server.constoso.com:1433\\'}]'\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    networkRuleSets: {\n      defaultAction: 'Deny'\n      ipRules: [\n        {\n          action: 'Allow'\n          ipMask: '10.0.1.0/32'\n        }\n        {\n          action: 'Allow'\n          ipMask: '10.0.2.0/32'\n        }\n      ]\n      trustedServiceAccessEnabled: true\n      virtualNetworkRules: [\n        {\n          subnet: {\n            id: '<id>'\n            ignoreMissingVnetServiceEndpoint: true\n          }\n        }\n      ]\n    }\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'namespace'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    roleAssignments: [\n      {\n        name: 'd3dff05a-96d7-4d63-82c2-0fd8ac7b859d'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    skuName: 'Standard'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    wcfRelays: [\n      {\n        name: 'rnmaxwcf001'\n        relayType: 'NetTcp'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Reader'\n          }\n        ]\n      }\n    ]\n  }\n}"}
{"id": "avm_res_relay_namespace_example_3", "source": "avm/res/relay/namespace/README.md", "content_to_embed": "Recommended AVM Module for Relay Namespaces: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Relay/namespaces\nModule ID: br/public:avm/res/relay/namespace:0.7\nParameters:\nparams: {\n    // Required parameters\n    name: 'rnwaf001'\n    // Non-required parameters\n    authorizationRules: [\n      {\n        name: 'RootManageSharedAccessKey'\n        rights: [\n          'Listen'\n          'Manage'\n          'Send'\n        ]\n      }\n      {\n        name: 'AnotherKey'\n        rights: [\n          'Listen'\n          'Send'\n        ]\n      }\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    hybridConnections: [\n      {\n        name: 'rnwafhc001'\n        userMetadata: '[{\\'key\\':\\'endpoint\\',\\'value\\':\\'db-server.constoso.com:1433\\'}]'\n      }\n    ]\n    networkRuleSets: {\n      defaultAction: 'Deny'\n      ipRules: [\n        {\n          action: 'Allow'\n          ipMask: '10.0.1.0/32'\n        }\n        {\n          action: 'Allow'\n          ipMask: '10.0.2.0/32'\n        }\n      ]\n      trustedServiceAccessEnabled: true\n      virtualNetworkRules: [\n        {\n          subnet: {\n            id: '<id>'\n            ignoreMissingVnetServiceEndpoint: true\n          }\n        }\n      ]\n    }\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'namespace'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    wcfRelays: [\n      {\n        name: 'rnwafwcf001'\n        relayType: 'NetTcp'\n      }\n    ]\n  }", "bicep": "module namespace 'br/public:avm/res/relay/namespace:0.7' = {\n  name: 'namespaceDeployment'\n  params: {\n    // Required parameters\n    name: 'rnwaf001'\n    // Non-required parameters\n    authorizationRules: [\n      {\n        name: 'RootManageSharedAccessKey'\n        rights: [\n          'Listen'\n          'Manage'\n          'Send'\n        ]\n      }\n      {\n        name: 'AnotherKey'\n        rights: [\n          'Listen'\n          'Send'\n        ]\n      }\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    hybridConnections: [\n      {\n        name: 'rnwafhc001'\n        userMetadata: '[{\\'key\\':\\'endpoint\\',\\'value\\':\\'db-server.constoso.com:1433\\'}]'\n      }\n    ]\n    networkRuleSets: {\n      defaultAction: 'Deny'\n      ipRules: [\n        {\n          action: 'Allow'\n          ipMask: '10.0.1.0/32'\n        }\n        {\n          action: 'Allow'\n          ipMask: '10.0.2.0/32'\n        }\n      ]\n      trustedServiceAccessEnabled: true\n      virtualNetworkRules: [\n        {\n          subnet: {\n            id: '<id>'\n            ignoreMissingVnetServiceEndpoint: true\n          }\n        }\n      ]\n    }\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'namespace'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    wcfRelays: [\n      {\n        name: 'rnwafwcf001'\n        relayType: 'NetTcp'\n      }\n    ]\n  }\n}"}
{"id": "avm_res_resource-graph_query_example_1", "source": "avm/res/resource-graph/query/README.md", "content_to_embed": "Recommended AVM Module for Resource Graph Queries: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.ResourceGraph/queries\nModule ID: br/public:avm/res/resource-graph/query:0.3\nParameters:\nparams: {\n    // Required parameters\n    name: 'rdsmin001'\n    query: 'Resources | limit 10'\n  }", "bicep": "module query 'br/public:avm/res/resource-graph/query:0.3' = {\n  name: 'queryDeployment'\n  params: {\n    // Required parameters\n    name: 'rdsmin001'\n    query: 'Resources | limit 10'\n  }\n}"}
{"id": "avm_res_resource-graph_query_example_2", "source": "avm/res/resource-graph/query/README.md", "content_to_embed": "Recommended AVM Module for Resource Graph Queries: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.ResourceGraph/queries\nModule ID: br/public:avm/res/resource-graph/query:0.3\nParameters:\nparams: {\n    // Required parameters\n    name: 'rdsmax001'\n    query: '<query>'\n    // Non-required parameters\n    location: '<location>'\n    lock: {\n      kind: 'None'\n    }\n    queryDescription: 'An example query to list first 5 subscriptions.'\n    roleAssignments: [\n      {\n        name: '9634350c-b241-4481-8c22-4166891596ab'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module query 'br/public:avm/res/resource-graph/query:0.3' = {\n  name: 'queryDeployment'\n  params: {\n    // Required parameters\n    name: 'rdsmax001'\n    query: '<query>'\n    // Non-required parameters\n    location: '<location>'\n    lock: {\n      kind: 'None'\n    }\n    queryDescription: 'An example query to list first 5 subscriptions.'\n    roleAssignments: [\n      {\n        name: '9634350c-b241-4481-8c22-4166891596ab'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_resource-graph_query_example_3", "source": "avm/res/resource-graph/query/README.md", "content_to_embed": "Recommended AVM Module for Resource Graph Queries: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Well-Architected Framework.\nResource Type Path: Microsoft.ResourceGraph/queries\nModule ID: br/public:avm/res/resource-graph/query:0.3\nParameters:\nparams: {\n    // Required parameters\n    name: 'rdswaf001'\n    query: 'resourcecontainers| where type == \\'microsoft.resources/subscriptions\\' | take 5'\n    // Non-required parameters\n    queryDescription: 'An example query to list first 5 subscriptions.'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module query 'br/public:avm/res/resource-graph/query:0.3' = {\n  name: 'queryDeployment'\n  params: {\n    // Required parameters\n    name: 'rdswaf001'\n    query: 'resourcecontainers| where type == \\'microsoft.resources/subscriptions\\' | take 5'\n    // Non-required parameters\n    queryDescription: 'An example query to list first 5 subscriptions.'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_resources_deployment-script_example_1", "source": "avm/res/resources/deployment-script/README.md", "content_to_embed": "Recommended AVM Module for Deployment Scripts: Using Azure CLI - This instance deploys the module with an Azure CLI script.\nResource Type Path: Microsoft.Resources/deploymentScripts\nModule ID: br/public:avm/res/resources/deployment-script:0.5\nParameters:\nparams: {\n    // Required parameters\n    kind: 'AzureCLI'\n    name: 'rdscli001'\n    // Non-required parameters\n    azCliVersion: '2.52.0'\n    environmentVariables: [\n      {\n        name: 'var1'\n        value: 'AVM Deployment Script test!'\n      }\n    ]\n    location: '<location>'\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    retentionInterval: 'P1D'\n    scriptContent: 'echo \\'Enviornment variable value is: \\' $var1'\n    storageAccountResourceId: '<storageAccountResourceId>'\n  }", "bicep": "module deploymentScript 'br/public:avm/res/resources/deployment-script:0.5' = {\n  name: 'deploymentScriptDeployment'\n  params: {\n    // Required parameters\n    kind: 'AzureCLI'\n    name: 'rdscli001'\n    // Non-required parameters\n    azCliVersion: '2.52.0'\n    environmentVariables: [\n      {\n        name: 'var1'\n        value: 'AVM Deployment Script test!'\n      }\n    ]\n    location: '<location>'\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    retentionInterval: 'P1D'\n    scriptContent: 'echo \\'Enviornment variable value is: \\' $var1'\n    storageAccountResourceId: '<storageAccountResourceId>'\n  }\n}"}
{"id": "avm_res_resources_deployment-script_example_2", "source": "avm/res/resources/deployment-script/README.md", "content_to_embed": "Recommended AVM Module for Deployment Scripts: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Resources/deploymentScripts\nModule ID: br/public:avm/res/resources/deployment-script:0.5\nParameters:\nparams: {\n    // Required parameters\n    kind: 'AzurePowerShell'\n    name: 'rdsmin001'\n    // Non-required parameters\n    azPowerShellVersion: '12.3'\n    location: '<location>'\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    scriptContent: 'Write-Host \\'AVM Deployment Script test!\\''\n  }", "bicep": "module deploymentScript 'br/public:avm/res/resources/deployment-script:0.5' = {\n  name: 'deploymentScriptDeployment'\n  params: {\n    // Required parameters\n    kind: 'AzurePowerShell'\n    name: 'rdsmin001'\n    // Non-required parameters\n    azPowerShellVersion: '12.3'\n    location: '<location>'\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    scriptContent: 'Write-Host \\'AVM Deployment Script test!\\''\n  }\n}"}
{"id": "avm_res_resources_deployment-script_example_3", "source": "avm/res/resources/deployment-script/README.md", "content_to_embed": "Recommended AVM Module for Deployment Scripts: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Resources/deploymentScripts\nModule ID: br/public:avm/res/resources/deployment-script:0.5\nParameters:\nparams: {\n    // Required parameters\n    kind: 'AzureCLI'\n    name: 'rdsmax001'\n    // Non-required parameters\n    arguments: '-argument1 \\\\\\'test\\\\\\''\n    azCliVersion: '2.52.0'\n    cleanupPreference: 'Always'\n    containerGroupName: 'dep-cg-rdsmax'\n    environmentVariables: [\n      {\n        name: 'var1'\n        value: 'test'\n      }\n      {\n        name: 'var2'\n        secureValue: '<secureValue>'\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'None'\n    }\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    retentionInterval: 'P1D'\n    roleAssignments: [\n      {\n        name: 'd8eadbae-2c20-4e8f-9a48-4c6d739d0c4a'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    runOnce: true\n    scriptContent: 'echo \\'AVM Deployment Script test!\\''\n    storageAccountResourceId: '<storageAccountResourceId>'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    timeout: 'PT1H'\n  }", "bicep": "module deploymentScript 'br/public:avm/res/resources/deployment-script:0.5' = {\n  name: 'deploymentScriptDeployment'\n  params: {\n    // Required parameters\n    kind: 'AzureCLI'\n    name: 'rdsmax001'\n    // Non-required parameters\n    arguments: '-argument1 \\\\\\'test\\\\\\''\n    azCliVersion: '2.52.0'\n    cleanupPreference: 'Always'\n    containerGroupName: 'dep-cg-rdsmax'\n    environmentVariables: [\n      {\n        name: 'var1'\n        value: 'test'\n      }\n      {\n        name: 'var2'\n        secureValue: '<secureValue>'\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'None'\n    }\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    retentionInterval: 'P1D'\n    roleAssignments: [\n      {\n        name: 'd8eadbae-2c20-4e8f-9a48-4c6d739d0c4a'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    runOnce: true\n    scriptContent: 'echo \\'AVM Deployment Script test!\\''\n    storageAccountResourceId: '<storageAccountResourceId>'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    timeout: 'PT1H'\n  }\n}"}
{"id": "avm_res_resources_deployment-script_example_4", "source": "avm/res/resources/deployment-script/README.md", "content_to_embed": "Recommended AVM Module for Deployment Scripts: Using Private Endpoint - This instance deploys the module with access to a private endpoint.\nResource Type Path: Microsoft.Resources/deploymentScripts\nModule ID: br/public:avm/res/resources/deployment-script:0.5\nParameters:\nparams: {\n    // Required parameters\n    kind: 'AzureCLI'\n    name: 'rdspe001'\n    // Non-required parameters\n    azCliVersion: '2.52.0'\n    cleanupPreference: 'Always'\n    location: '<location>'\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    retentionInterval: 'P1D'\n    runOnce: true\n    scriptContent: 'echo \\'AVM Deployment Script test!\\''\n    storageAccountResourceId: '<storageAccountResourceId>'\n    subnetResourceIds: [\n      '<subnetResourceId>'\n    ]\n    timeout: 'PT1H'\n  }", "bicep": "module deploymentScript 'br/public:avm/res/resources/deployment-script:0.5' = {\n  name: 'deploymentScriptDeployment'\n  params: {\n    // Required parameters\n    kind: 'AzureCLI'\n    name: 'rdspe001'\n    // Non-required parameters\n    azCliVersion: '2.52.0'\n    cleanupPreference: 'Always'\n    location: '<location>'\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    retentionInterval: 'P1D'\n    runOnce: true\n    scriptContent: 'echo \\'AVM Deployment Script test!\\''\n    storageAccountResourceId: '<storageAccountResourceId>'\n    subnetResourceIds: [\n      '<subnetResourceId>'\n    ]\n    timeout: 'PT1H'\n  }\n}"}
{"id": "avm_res_resources_deployment-script_example_5", "source": "avm/res/resources/deployment-script/README.md", "content_to_embed": "Recommended AVM Module for Deployment Scripts: Using Private Networking - This instance deploys the module with access to a private network.\nResource Type Path: Microsoft.Resources/deploymentScripts\nModule ID: br/public:avm/res/resources/deployment-script:0.5\nParameters:\nparams: {\n    // Required parameters\n    kind: 'AzureCLI'\n    name: 'rdsnet001'\n    // Non-required parameters\n    azCliVersion: '2.52.0'\n    cleanupPreference: 'Always'\n    location: '<location>'\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    retentionInterval: 'P1D'\n    runOnce: true\n    scriptContent: 'echo \\'AVM Deployment Script test!\\''\n    storageAccountResourceId: '<storageAccountResourceId>'\n    subnetResourceIds: [\n      '<subnetResourceId>'\n    ]\n    timeout: 'PT1H'\n  }", "bicep": "module deploymentScript 'br/public:avm/res/resources/deployment-script:0.5' = {\n  name: 'deploymentScriptDeployment'\n  params: {\n    // Required parameters\n    kind: 'AzureCLI'\n    name: 'rdsnet001'\n    // Non-required parameters\n    azCliVersion: '2.52.0'\n    cleanupPreference: 'Always'\n    location: '<location>'\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    retentionInterval: 'P1D'\n    runOnce: true\n    scriptContent: 'echo \\'AVM Deployment Script test!\\''\n    storageAccountResourceId: '<storageAccountResourceId>'\n    subnetResourceIds: [\n      '<subnetResourceId>'\n    ]\n    timeout: 'PT1H'\n  }\n}"}
{"id": "avm_res_resources_deployment-script_example_6", "source": "avm/res/resources/deployment-script/README.md", "content_to_embed": "Recommended AVM Module for Deployment Scripts: Using Azure PowerShell - This instance deploys the module with an Azure PowerShell script.\nResource Type Path: Microsoft.Resources/deploymentScripts\nModule ID: br/public:avm/res/resources/deployment-script:0.5\nParameters:\nparams: {\n    // Required parameters\n    kind: 'AzurePowerShell'\n    name: 'rdsps001'\n    // Non-required parameters\n    arguments: '-var1 \\\\\\'AVM Deployment Script test!\\\\\\''\n    azPowerShellVersion: '12.3'\n    location: '<location>'\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    retentionInterval: 'P1D'\n    scriptContent: 'param([string] $var1);Write-Host \\'Argument var1 value is:\\' $var1'\n    storageAccountResourceId: '<storageAccountResourceId>'\n  }", "bicep": "module deploymentScript 'br/public:avm/res/resources/deployment-script:0.5' = {\n  name: 'deploymentScriptDeployment'\n  params: {\n    // Required parameters\n    kind: 'AzurePowerShell'\n    name: 'rdsps001'\n    // Non-required parameters\n    arguments: '-var1 \\\\\\'AVM Deployment Script test!\\\\\\''\n    azPowerShellVersion: '12.3'\n    location: '<location>'\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    retentionInterval: 'P1D'\n    scriptContent: 'param([string] $var1);Write-Host \\'Argument var1 value is:\\' $var1'\n    storageAccountResourceId: '<storageAccountResourceId>'\n  }\n}"}
{"id": "avm_res_resources_deployment-script_example_7", "source": "avm/res/resources/deployment-script/README.md", "content_to_embed": "Recommended AVM Module for Deployment Scripts: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Well-Architected Framework.\nResource Type Path: Microsoft.Resources/deploymentScripts\nModule ID: br/public:avm/res/resources/deployment-script:0.5\nParameters:\nparams: {\n    // Required parameters\n    kind: 'AzureCLI'\n    name: 'rdswaf001'\n    // Non-required parameters\n    azCliVersion: '2.52.0'\n    cleanupPreference: 'Always'\n    location: '<location>'\n    lock: {\n      kind: 'None'\n    }\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    retentionInterval: 'P1D'\n    runOnce: true\n    scriptContent: 'echo \\'AVM Deployment Script test!\\''\n    storageAccountResourceId: '<storageAccountResourceId>'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    timeout: 'PT1H'\n  }", "bicep": "module deploymentScript 'br/public:avm/res/resources/deployment-script:0.5' = {\n  name: 'deploymentScriptDeployment'\n  params: {\n    // Required parameters\n    kind: 'AzureCLI'\n    name: 'rdswaf001'\n    // Non-required parameters\n    azCliVersion: '2.52.0'\n    cleanupPreference: 'Always'\n    location: '<location>'\n    lock: {\n      kind: 'None'\n    }\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    retentionInterval: 'P1D'\n    runOnce: true\n    scriptContent: 'echo \\'AVM Deployment Script test!\\''\n    storageAccountResourceId: '<storageAccountResourceId>'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    timeout: 'PT1H'\n  }\n}"}
{"id": "avm_res_resources_resource-group_example_1", "source": "avm/res/resources/resource-group/README.md", "content_to_embed": "Recommended AVM Module for Resource Groups: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Resources/resourceGroups\nModule ID: br/public:avm/res/resources/resource-group:0.4\nParameters:\nparams: {\n    name: 'avm-resources.resourcegroups-rrgmin-rg'\n  }", "bicep": "module resourceGroup 'br/public:avm/res/resources/resource-group:0.4' = {\n  name: 'resourceGroupDeployment'\n  params: {\n    name: 'avm-resources.resourcegroups-rrgmin-rg'\n  }\n}"}
{"id": "avm_res_resources_resource-group_example_2", "source": "avm/res/resources/resource-group/README.md", "content_to_embed": "Recommended AVM Module for Resource Groups: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Resources/resourceGroups\nModule ID: br/public:avm/res/resources/resource-group:0.4\nParameters:\nparams: {\n    // Required parameters\n    name: 'avm-resources.resourcegroups-rrgmax-rg'\n    // Non-required parameters\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    roleAssignments: [\n      {\n        name: '3566ddd3-870d-4618-bd22-3d50915a21ef'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module resourceGroup 'br/public:avm/res/resources/resource-group:0.4' = {\n  name: 'resourceGroupDeployment'\n  params: {\n    // Required parameters\n    name: 'avm-resources.resourcegroups-rrgmax-rg'\n    // Non-required parameters\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    roleAssignments: [\n      {\n        name: '3566ddd3-870d-4618-bd22-3d50915a21ef'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_resources_resource-group_example_3", "source": "avm/res/resources/resource-group/README.md", "content_to_embed": "Recommended AVM Module for Resource Groups: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Well-Architected Framework.\nResource Type Path: Microsoft.Resources/resourceGroups\nModule ID: br/public:avm/res/resources/resource-group:0.4\nParameters:\nparams: {\n    // Required parameters\n    name: 'avm-resources.resourcegroups-rrgwaf-rg'\n    // Non-required parameters\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module resourceGroup 'br/public:avm/res/resources/resource-group:0.4' = {\n  name: 'resourceGroupDeployment'\n  params: {\n    // Required parameters\n    name: 'avm-resources.resourcegroups-rrgwaf-rg'\n    // Non-required parameters\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_search_search-service_example_1", "source": "avm/res/search/search-service/README.md", "content_to_embed": "Recommended AVM Module for Search Services: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Search/searchServices\nModule ID: br/public:avm/res/search/search-service:0.11\nParameters:\nparams: {\n    name: 'sssmin002'\n  }", "bicep": "module searchService 'br/public:avm/res/search/search-service:0.11' = {\n  name: 'searchServiceDeployment'\n  params: {\n    name: 'sssmin002'\n  }\n}"}
{"id": "avm_res_search_search-service_example_2", "source": "avm/res/search/search-service/README.md", "content_to_embed": "Recommended AVM Module for Search Services: Deploying with a key vault reference to save secrets - This instance deploys the module saving admin key secrets in a key vault.\nResource Type Path: Microsoft.Search/searchServices\nModule ID: br/public:avm/res/search/search-service:0.11\nParameters:\nparams: {\n    // Required parameters\n    name: 'kv-ref'\n    // Non-required parameters\n    authOptions: {\n      aadOrApiKey: {\n        aadAuthFailureMode: 'http401WithBearerChallenge'\n      }\n    }\n    disableLocalAuth: false\n    secretsExportConfiguration: {\n      keyVaultResourceId: '<keyVaultResourceId>'\n      primaryAdminKeyName: 'Primary-Admin-Key'\n      secondaryAdminKeyName: 'Secondary-Admin-Key'\n    }\n  }", "bicep": "module searchService 'br/public:avm/res/search/search-service:0.11' = {\n  name: 'searchServiceDeployment'\n  params: {\n    // Required parameters\n    name: 'kv-ref'\n    // Non-required parameters\n    authOptions: {\n      aadOrApiKey: {\n        aadAuthFailureMode: 'http401WithBearerChallenge'\n      }\n    }\n    disableLocalAuth: false\n    secretsExportConfiguration: {\n      keyVaultResourceId: '<keyVaultResourceId>'\n      primaryAdminKeyName: 'Primary-Admin-Key'\n      secondaryAdminKeyName: 'Secondary-Admin-Key'\n    }\n  }\n}"}
{"id": "avm_res_search_search-service_example_3", "source": "avm/res/search/search-service/README.md", "content_to_embed": "Recommended AVM Module for Search Services: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Search/searchServices\nModule ID: br/public:avm/res/search/search-service:0.11\nParameters:\nparams: {\n    // Required parameters\n    name: 'sssmax001'\n    // Non-required parameters\n    authOptions: {\n      aadOrApiKey: {\n        aadAuthFailureMode: 'http401WithBearerChallenge'\n      }\n    }\n    cmkEnforcement: 'Enabled'\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    disableLocalAuth: false\n    hostingMode: 'highDensity'\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    networkRuleSet: {\n      bypass: 'AzurePortal'\n      ipRules: [\n        {\n          value: '40.74.28.0/23'\n        }\n        {\n          value: '87.147.204.13'\n        }\n      ]\n    }\n    partitionCount: 2\n    replicaCount: 3\n    roleAssignments: [\n      {\n        name: '73ec30e0-2e25-475f-beec-d90cab332eb7'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    semanticSearch: 'standard'\n    sku: 'standard3'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module searchService 'br/public:avm/res/search/search-service:0.11' = {\n  name: 'searchServiceDeployment'\n  params: {\n    // Required parameters\n    name: 'sssmax001'\n    // Non-required parameters\n    authOptions: {\n      aadOrApiKey: {\n        aadAuthFailureMode: 'http401WithBearerChallenge'\n      }\n    }\n    cmkEnforcement: 'Enabled'\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    disableLocalAuth: false\n    hostingMode: 'highDensity'\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    networkRuleSet: {\n      bypass: 'AzurePortal'\n      ipRules: [\n        {\n          value: '40.74.28.0/23'\n        }\n        {\n          value: '87.147.204.13'\n        }\n      ]\n    }\n    partitionCount: 2\n    replicaCount: 3\n    roleAssignments: [\n      {\n        name: '73ec30e0-2e25-475f-beec-d90cab332eb7'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    semanticSearch: 'standard'\n    sku: 'standard3'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_search_search-service_example_4", "source": "avm/res/search/search-service/README.md", "content_to_embed": "Recommended AVM Module for Search Services: Private endpoint-enabled deployment - This instance deploys the module with private endpoints.\nResource Type Path: Microsoft.Search/searchServices\nModule ID: br/public:avm/res/search/search-service:0.11\nParameters:\nparams: {\n    // Required parameters\n    name: 'ssspr001'\n    // Non-required parameters\n    privateEndpoints: [\n      {\n        applicationSecurityGroupResourceIds: [\n          '<applicationSecurityGroupResourceId>'\n        ]\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          Role: 'DeploymentValidation'\n        }\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    publicNetworkAccess: 'Disabled'\n    sharedPrivateLinkResources: [\n      {\n        groupId: 'blob'\n        privateLinkResourceId: '<privateLinkResourceId>'\n        requestMessage: 'Please approve this request'\n        resourceRegion: '<resourceRegion>'\n      }\n      {\n        groupId: 'vault'\n        privateLinkResourceId: '<privateLinkResourceId>'\n        requestMessage: 'Please approve this request'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module searchService 'br/public:avm/res/search/search-service:0.11' = {\n  name: 'searchServiceDeployment'\n  params: {\n    // Required parameters\n    name: 'ssspr001'\n    // Non-required parameters\n    privateEndpoints: [\n      {\n        applicationSecurityGroupResourceIds: [\n          '<applicationSecurityGroupResourceId>'\n        ]\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          Role: 'DeploymentValidation'\n        }\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    publicNetworkAccess: 'Disabled'\n    sharedPrivateLinkResources: [\n      {\n        groupId: 'blob'\n        privateLinkResourceId: '<privateLinkResourceId>'\n        requestMessage: 'Please approve this request'\n        resourceRegion: '<resourceRegion>'\n      }\n      {\n        groupId: 'vault'\n        privateLinkResourceId: '<privateLinkResourceId>'\n        requestMessage: 'Please approve this request'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_search_search-service_example_5", "source": "avm/res/search/search-service/README.md", "content_to_embed": "Recommended AVM Module for Search Services: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Search/searchServices\nModule ID: br/public:avm/res/search/search-service:0.11\nParameters:\nparams: {\n    // Required parameters\n    name: 'ssswaf001'\n    // Non-required parameters\n    authOptions: {\n      aadOrApiKey: {\n        aadAuthFailureMode: 'http401WithBearerChallenge'\n      }\n    }\n    cmkEnforcement: 'Enabled'\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    disableLocalAuth: false\n    hostingMode: 'highDensity'\n    managedIdentities: {\n      systemAssigned: true\n    }\n    networkRuleSet: {\n      bypass: 'AzureServices'\n      ipRules: [\n        {\n          value: '40.74.28.0/23'\n        }\n        {\n          value: '87.147.204.13'\n        }\n      ]\n    }\n    partitionCount: 2\n    replicaCount: 3\n    sku: 'standard3'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module searchService 'br/public:avm/res/search/search-service:0.11' = {\n  name: 'searchServiceDeployment'\n  params: {\n    // Required parameters\n    name: 'ssswaf001'\n    // Non-required parameters\n    authOptions: {\n      aadOrApiKey: {\n        aadAuthFailureMode: 'http401WithBearerChallenge'\n      }\n    }\n    cmkEnforcement: 'Enabled'\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    disableLocalAuth: false\n    hostingMode: 'highDensity'\n    managedIdentities: {\n      systemAssigned: true\n    }\n    networkRuleSet: {\n      bypass: 'AzureServices'\n      ipRules: [\n        {\n          value: '40.74.28.0/23'\n        }\n        {\n          value: '87.147.204.13'\n        }\n      ]\n    }\n    partitionCount: 2\n    replicaCount: 3\n    sku: 'standard3'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_security-insights_data-connector_example_1", "source": "avm/res/security-insights/data-connector/README.md", "content_to_embed": "Recommended AVM Module for Security Insights Data Connectors: Using defaults - This instance deploys the module with minimal required parameters.\nResource Type Path: Microsoft.SecurityInsights/dataConnectors\nModule ID: br/public:avm/res/security-insights/data-connector:0.1\nParameters:\nparams: {\n    // Required parameters\n    properties: {\n      kind: 'MicrosoftThreatIntelligence'\n      properties: {\n        dataTypes: {\n          microsoftEmergingThreatFeed: {\n            lookbackPeriod: '2025-01-01T00:00:00Z'\n            state: 'Enabled'\n          }\n        }\n        tenantId: '<tenantId>'\n      }\n    }\n    workspaceResourceId: '<workspaceResourceId>'\n    // Non-required parameters\n    name: 'MicrosoftThreatIntelligence'\n  }", "bicep": "module dataConnector 'br/public:avm/res/security-insights/data-connector:0.1' = {\n  name: 'dataConnectorDeployment'\n  params: {\n    // Required parameters\n    properties: {\n      kind: 'MicrosoftThreatIntelligence'\n      properties: {\n        dataTypes: {\n          microsoftEmergingThreatFeed: {\n            lookbackPeriod: '2025-01-01T00:00:00Z'\n            state: 'Enabled'\n          }\n        }\n        tenantId: '<tenantId>'\n      }\n    }\n    workspaceResourceId: '<workspaceResourceId>'\n    // Non-required parameters\n    name: 'MicrosoftThreatIntelligence'\n  }\n}"}
{"id": "avm_res_security-insights_data-connector_example_2", "source": "avm/res/security-insights/data-connector/README.md", "content_to_embed": "Recommended AVM Module for Security Insights Data Connectors: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.SecurityInsights/dataConnectors\nModule ID: br/public:avm/res/security-insights/data-connector:0.1\nParameters:\nparams: {\n    // Required parameters\n    properties: {\n      kind: 'MicrosoftThreatIntelligence'\n      properties: {\n        dataTypes: {\n          microsoftEmergingThreatFeed: {\n            lookbackPeriod: '2025-01-01T00:00:00Z'\n            state: 'Enabled'\n          }\n        }\n        tenantId: '<tenantId>'\n      }\n    }\n    workspaceResourceId: '<workspaceResourceId>'\n    // Non-required parameters\n    location: '<location>'\n    name: 'MicrosoftThreatIntelligence'\n  }", "bicep": "module dataConnector 'br/public:avm/res/security-insights/data-connector:0.1' = {\n  name: 'dataConnectorDeployment'\n  params: {\n    // Required parameters\n    properties: {\n      kind: 'MicrosoftThreatIntelligence'\n      properties: {\n        dataTypes: {\n          microsoftEmergingThreatFeed: {\n            lookbackPeriod: '2025-01-01T00:00:00Z'\n            state: 'Enabled'\n          }\n        }\n        tenantId: '<tenantId>'\n      }\n    }\n    workspaceResourceId: '<workspaceResourceId>'\n    // Non-required parameters\n    location: '<location>'\n    name: 'MicrosoftThreatIntelligence'\n  }\n}"}
{"id": "avm_res_security-insights_data-connector_example_3", "source": "avm/res/security-insights/data-connector/README.md", "content_to_embed": "Recommended AVM Module for Security Insights Data Connectors: WAF-aligned - This instance deploys the module with WAF-aligned requirements.\nResource Type Path: Microsoft.SecurityInsights/dataConnectors\nModule ID: br/public:avm/res/security-insights/data-connector:0.1\nParameters:\nparams: {\n    // Required parameters\n    properties: {\n      kind: 'MicrosoftThreatIntelligence'\n      properties: {\n        dataTypes: {\n          microsoftEmergingThreatFeed: {\n            lookbackPeriod: '2025-01-01T00:00:00Z'\n            state: 'Enabled'\n          }\n        }\n        tenantId: '<tenantId>'\n      }\n    }\n    workspaceResourceId: '<workspaceResourceId>'\n    // Non-required parameters\n    name: 'MicrosoftThreatIntelligence'\n  }", "bicep": "module dataConnector 'br/public:avm/res/security-insights/data-connector:0.1' = {\n  name: 'dataConnectorDeployment'\n  params: {\n    // Required parameters\n    properties: {\n      kind: 'MicrosoftThreatIntelligence'\n      properties: {\n        dataTypes: {\n          microsoftEmergingThreatFeed: {\n            lookbackPeriod: '2025-01-01T00:00:00Z'\n            state: 'Enabled'\n          }\n        }\n        tenantId: '<tenantId>'\n      }\n    }\n    workspaceResourceId: '<workspaceResourceId>'\n    // Non-required parameters\n    name: 'MicrosoftThreatIntelligence'\n  }\n}"}
{"id": "avm_res_security-insights_setting_example_1", "source": "avm/res/security-insights/setting/README.md", "content_to_embed": "Recommended AVM Module for Security Insights Settings: Using defaults - This instance deploys the module with minimal required parameters.\nResource Type Path: Microsoft.SecurityInsights/settings\nModule ID: br/public:avm/res/security-insights/setting:0.1\nParameters:\nparams: {\n    // Required parameters\n    name: 'Anomalies'\n    settingsType: 'Anomalies'\n    workspaceResourceId: '<workspaceResourceId>'\n  }", "bicep": "module setting 'br/public:avm/res/security-insights/setting:0.1' = {\n  name: 'settingDeployment'\n  params: {\n    // Required parameters\n    name: 'Anomalies'\n    settingsType: 'Anomalies'\n    workspaceResourceId: '<workspaceResourceId>'\n  }\n}"}
{"id": "avm_res_security-insights_setting_example_2", "source": "avm/res/security-insights/setting/README.md", "content_to_embed": "Recommended AVM Module for Security Insights Settings: Using maximum parameters - This instance deploys the module with all possible parameters.\nResource Type Path: Microsoft.SecurityInsights/settings\nModule ID: br/public:avm/res/security-insights/setting:0.1\nParameters:\nparams: {\n    // Required parameters\n    name: 'Anomalies'\n    settingsType: 'Anomalies'\n    workspaceResourceId: '<workspaceResourceId>'\n    // Non-required parameters\n    properties: {}\n  }", "bicep": "module setting 'br/public:avm/res/security-insights/setting:0.1' = {\n  name: 'settingDeployment'\n  params: {\n    // Required parameters\n    name: 'Anomalies'\n    settingsType: 'Anomalies'\n    workspaceResourceId: '<workspaceResourceId>'\n    // Non-required parameters\n    properties: {}\n  }\n}"}
{"id": "avm_res_security-insights_setting_example_3", "source": "avm/res/security-insights/setting/README.md", "content_to_embed": "Recommended AVM Module for Security Insights Settings: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Well-Architected Framework.\nResource Type Path: Microsoft.SecurityInsights/settings\nModule ID: br/public:avm/res/security-insights/setting:0.1\nParameters:\nparams: {\n    // Required parameters\n    name: 'Anomalies'\n    settingsType: 'Anomalies'\n    workspaceResourceId: '<workspaceResourceId>'\n    // Non-required parameters\n    properties: {}\n  }", "bicep": "module setting 'br/public:avm/res/security-insights/setting:0.1' = {\n  name: 'settingDeployment'\n  params: {\n    // Required parameters\n    name: 'Anomalies'\n    settingsType: 'Anomalies'\n    workspaceResourceId: '<workspaceResourceId>'\n    // Non-required parameters\n    properties: {}\n  }\n}"}
{"id": "avm_res_service-bus_namespace_example_1", "source": "avm/res/service-bus/namespace/README.md", "content_to_embed": "Recommended AVM Module for Service Bus Namespaces: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.ServiceBus/namespaces\nModule ID: br/public:avm/res/service-bus/namespace:0.15\nParameters:\nparams: {\n    // Required parameters\n    name: 'sbnmin001'\n    // Non-required parameters\n    skuObject: {\n      capacity: 2\n      name: 'Premium'\n    }\n  }", "bicep": "module namespace 'br/public:avm/res/service-bus/namespace:0.15' = {\n  name: 'namespaceDeployment'\n  params: {\n    // Required parameters\n    name: 'sbnmin001'\n    // Non-required parameters\n    skuObject: {\n      capacity: 2\n      name: 'Premium'\n    }\n  }\n}"}
{"id": "avm_res_service-bus_namespace_example_2", "source": "avm/res/service-bus/namespace/README.md", "content_to_embed": "Recommended AVM Module for Service Bus Namespaces: Using encryption parameter set - This instance deploys the module with features enabled for CMK encryption.\nResource Type Path: Microsoft.ServiceBus/namespaces\nModule ID: br/public:avm/res/service-bus/namespace:0.15\nParameters:\nparams: {\n    // Required parameters\n    name: 'sbnencr001'\n    // Non-required parameters\n    customerManagedKey: {\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n      userAssignedIdentityResourceId: '<userAssignedIdentityResourceId>'\n    }\n    managedIdentities: {\n      systemAssigned: false\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    skuObject: {\n      capacity: 1\n      name: 'Premium'\n    }\n  }", "bicep": "module namespace 'br/public:avm/res/service-bus/namespace:0.15' = {\n  name: 'namespaceDeployment'\n  params: {\n    // Required parameters\n    name: 'sbnencr001'\n    // Non-required parameters\n    customerManagedKey: {\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n      userAssignedIdentityResourceId: '<userAssignedIdentityResourceId>'\n    }\n    managedIdentities: {\n      systemAssigned: false\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    skuObject: {\n      capacity: 1\n      name: 'Premium'\n    }\n  }\n}"}
{"id": "avm_res_service-bus_namespace_example_3", "source": "avm/res/service-bus/namespace/README.md", "content_to_embed": "Recommended AVM Module for Service Bus Namespaces: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.ServiceBus/namespaces\nModule ID: br/public:avm/res/service-bus/namespace:0.15\nParameters:\nparams: {\n    // Required parameters\n    name: 'sbnmax001'\n    // Non-required parameters\n    authorizationRules: [\n      {\n        name: 'RootManageSharedAccessKey'\n        rights: [\n          'Listen'\n          'Manage'\n          'Send'\n        ]\n      }\n      {\n        name: 'AnotherKey'\n        rights: [\n          'Listen'\n          'Send'\n        ]\n      }\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        logCategoriesAndGroups: [\n          {\n            category: 'RuntimeAuditLogs'\n          }\n        ]\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'diagnosticsetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    disableLocalAuth: true\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    minimumTlsVersion: '1.2'\n    networkRuleSets: {\n      defaultAction: 'Deny'\n      ipRules: [\n        {\n          action: 'Allow'\n          ipMask: '10.0.1.0/32'\n        }\n        {\n          action: 'Allow'\n          ipMask: '10.0.2.0/32'\n        }\n      ]\n      trustedServiceAccessEnabled: true\n      virtualNetworkRules: [\n        {\n          ignoreMissingVnetServiceEndpoint: true\n          subnetResourceId: '<subnetResourceId>'\n        }\n      ]\n    }\n    premiumMessagingPartitions: 1\n    privateEndpoints: [\n      {\n        customDnsConfigs: [\n          {\n            fqdn: 'abc.namespace.com'\n            ipAddresses: [\n              '10.0.0.10'\n            ]\n          }\n        ]\n        ipConfigurations: [\n          {\n            name: 'myIPconfig'\n            properties: {\n              groupId: 'namespace'\n              memberName: 'namespace'\n              privateIPAddress: '10.0.0.10'\n            }\n          }\n        ]\n        name: 'myPrivateEndpoint'\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        privateLinkServiceConnectionName: 'customLinkName'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    publicNetworkAccess: 'Enabled'\n    queues: [\n      {\n        authorizationRules: [\n          {\n            name: 'RootManageSharedAccessKey'\n            rights: [\n              'Listen'\n              'Manage'\n              'Send'\n            ]\n          }\n          {\n            name: 'AnotherKey'\n            rights: [\n              'Listen'\n              'Send'\n            ]\n          }\n        ]\n        autoDeleteOnIdle: 'PT5M'\n        maxMessageSizeInKilobytes: 2048\n        name: 'sbnmaxq001'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n      }\n    ]\n    roleAssignments: [\n      {\n        name: '2c42f915-20bf-4094-ba42-fee1f811d374'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    skuObject: {\n      capacity: 16\n      name: 'Premium'\n    }\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    topics: [\n      {\n        authorizationRules: [\n          {\n            name: 'RootManageSharedAccessKey'\n            rights: [\n              'Listen'\n              'Manage'\n              'Send'\n            ]\n          }\n          {\n            name: 'AnotherKey'\n            rights: [\n              'Listen'\n              'Send'\n            ]\n          }\n        ]\n        name: 'sbnmaxt001'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n        subscriptions: [\n          {\n            name: 'subscriptionwithoutrules001'\n          }\n          {\n            name: 'subscriptionwithsqlfilterrule001'\n            rules: [\n              {\n                action: {\n                  compatibilityLevel: 20\n                  requiresPreprocessing: true\n                  sqlExpression: 'SET Foo = 1;'\n                }\n                filterType: 'SqlFilter'\n                name: 'test-sql-filter'\n                sqlFilter: {\n                  sqlExpression: 'Test=1'\n                }\n              }\n            ]\n          }\n          {\n            name: 'subscriptionwithcorrelationfilterrule001'\n            rules: [\n              {\n                action: {\n                  compatibilityLevel: 20\n                  requiresPreprocessing: true\n                  sqlExpression: 'SET Foo = 1;'\n                }\n                correlationFilter: {\n                  contentType: 'application/json'\n                  correlationId: 'Test'\n                  label: 'Test'\n                  messageId: 'Test'\n                  properties: {\n                    barHeader: 'Bar'\n                    fooHeader: 'Foo'\n                  }\n                  replyTo: 'Test'\n                  replyToSessionId: 'Test'\n                  sessionId: 'Test'\n                  to: 'Test'\n                }\n                filterType: 'CorrelationFilter'\n                name: 'test-correlation-filter'\n              }\n            ]\n          }\n        ]\n      }\n    ]\n  }", "bicep": "module namespace 'br/public:avm/res/service-bus/namespace:0.15' = {\n  name: 'namespaceDeployment'\n  params: {\n    // Required parameters\n    name: 'sbnmax001'\n    // Non-required parameters\n    authorizationRules: [\n      {\n        name: 'RootManageSharedAccessKey'\n        rights: [\n          'Listen'\n          'Manage'\n          'Send'\n        ]\n      }\n      {\n        name: 'AnotherKey'\n        rights: [\n          'Listen'\n          'Send'\n        ]\n      }\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        logCategoriesAndGroups: [\n          {\n            category: 'RuntimeAuditLogs'\n          }\n        ]\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'diagnosticsetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    disableLocalAuth: true\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    minimumTlsVersion: '1.2'\n    networkRuleSets: {\n      defaultAction: 'Deny'\n      ipRules: [\n        {\n          action: 'Allow'\n          ipMask: '10.0.1.0/32'\n        }\n        {\n          action: 'Allow'\n          ipMask: '10.0.2.0/32'\n        }\n      ]\n      trustedServiceAccessEnabled: true\n      virtualNetworkRules: [\n        {\n          ignoreMissingVnetServiceEndpoint: true\n          subnetResourceId: '<subnetResourceId>'\n        }\n      ]\n    }\n    premiumMessagingPartitions: 1\n    privateEndpoints: [\n      {\n        customDnsConfigs: [\n          {\n            fqdn: 'abc.namespace.com'\n            ipAddresses: [\n              '10.0.0.10'\n            ]\n          }\n        ]\n        ipConfigurations: [\n          {\n            name: 'myIPconfig'\n            properties: {\n              groupId: 'namespace'\n              memberName: 'namespace'\n              privateIPAddress: '10.0.0.10'\n            }\n          }\n        ]\n        name: 'myPrivateEndpoint'\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        privateLinkServiceConnectionName: 'customLinkName'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    publicNetworkAccess: 'Enabled'\n    queues: [\n      {\n        authorizationRules: [\n          {\n            name: 'RootManageSharedAccessKey'\n            rights: [\n              'Listen'\n              'Manage'\n              'Send'\n            ]\n          }\n          {\n            name: 'AnotherKey'\n            rights: [\n              'Listen'\n              'Send'\n            ]\n          }\n        ]\n        autoDeleteOnIdle: 'PT5M'\n        maxMessageSizeInKilobytes: 2048\n        name: 'sbnmaxq001'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n      }\n    ]\n    roleAssignments: [\n      {\n        name: '2c42f915-20bf-4094-ba42-fee1f811d374'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    skuObject: {\n      capacity: 16\n      name: 'Premium'\n    }\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    topics: [\n      {\n        authorizationRules: [\n          {\n            name: 'RootManageSharedAccessKey'\n            rights: [\n              'Listen'\n              'Manage'\n              'Send'\n            ]\n          }\n          {\n            name: 'AnotherKey'\n            rights: [\n              'Listen'\n              'Send'\n            ]\n          }\n        ]\n        name: 'sbnmaxt001'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n        subscriptions: [\n          {\n            name: 'subscriptionwithoutrules001'\n          }\n          {\n            name: 'subscriptionwithsqlfilterrule001'\n            rules: [\n              {\n                action: {\n                  compatibilityLevel: 20\n                  requiresPreprocessing: true\n                  sqlExpression: 'SET Foo = 1;'\n                }\n                filterType: 'SqlFilter'\n                name: 'test-sql-filter'\n                sqlFilter: {\n                  sqlExpression: 'Test=1'\n                }\n              }\n            ]\n          }\n          {\n            name: 'subscriptionwithcorrelationfilterrule001'\n            rules: [\n              {\n                action: {\n                  compatibilityLevel: 20\n                  requiresPreprocessing: true\n                  sqlExpression: 'SET Foo = 1;'\n                }\n                correlationFilter: {\n                  contentType: 'application/json'\n                  correlationId: 'Test'\n                  label: 'Test'\n                  messageId: 'Test'\n                  properties: {\n                    barHeader: 'Bar'\n                    fooHeader: 'Foo'\n                  }\n                  replyTo: 'Test'\n                  replyToSessionId: 'Test'\n                  sessionId: 'Test'\n                  to: 'Test'\n                }\n                filterType: 'CorrelationFilter'\n                name: 'test-correlation-filter'\n              }\n            ]\n          }\n        ]\n      }\n    ]\n  }\n}"}
{"id": "avm_res_service-bus_namespace_example_4", "source": "avm/res/service-bus/namespace/README.md", "content_to_embed": "Recommended AVM Module for Service Bus Namespaces: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Well-Architected Framework.\nResource Type Path: Microsoft.ServiceBus/namespaces\nModule ID: br/public:avm/res/service-bus/namespace:0.15\nParameters:\nparams: {\n    // Required parameters\n    name: 'sbnwaf001'\n    // Non-required parameters\n    authorizationRules: [\n      {\n        name: 'RootManageSharedAccessKey'\n        rights: [\n          'Listen'\n          'Manage'\n          'Send'\n        ]\n      }\n      {\n        name: 'AnotherKey'\n        rights: [\n          'Listen'\n          'Send'\n        ]\n      }\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    networkRuleSets: {\n      defaultAction: 'Deny'\n      ipRules: [\n        {\n          action: 'Allow'\n          ipMask: '10.0.1.0/32'\n        }\n        {\n          action: 'Allow'\n          ipMask: '10.0.2.0/32'\n        }\n      ]\n      trustedServiceAccessEnabled: true\n      virtualNetworkRules: [\n        {\n          ignoreMissingVnetServiceEndpoint: true\n          subnetResourceId: '<subnetResourceId>'\n        }\n      ]\n    }\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'namespace'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n    ]\n    publicNetworkAccess: 'Disabled'\n    queues: [\n      {\n        authorizationRules: [\n          {\n            name: 'RootManageSharedAccessKey'\n            rights: [\n              'Listen'\n              'Manage'\n              'Send'\n            ]\n          }\n          {\n            name: 'AnotherKey'\n            rights: [\n              'Listen'\n              'Send'\n            ]\n          }\n        ]\n        autoDeleteOnIdle: 'PT5M'\n        maxMessageSizeInKilobytes: 2048\n        name: 'sbnwafq001'\n        roleAssignments: []\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    topics: [\n      {\n        authorizationRules: [\n          {\n            name: 'RootManageSharedAccessKey'\n            rights: [\n              'Listen'\n              'Manage'\n              'Send'\n            ]\n          }\n          {\n            name: 'AnotherKey'\n            rights: [\n              'Listen'\n              'Send'\n            ]\n          }\n        ]\n        name: 'sbnwaft001'\n        roleAssignments: []\n      }\n    ]\n  }", "bicep": "module namespace 'br/public:avm/res/service-bus/namespace:0.15' = {\n  name: 'namespaceDeployment'\n  params: {\n    // Required parameters\n    name: 'sbnwaf001'\n    // Non-required parameters\n    authorizationRules: [\n      {\n        name: 'RootManageSharedAccessKey'\n        rights: [\n          'Listen'\n          'Manage'\n          'Send'\n        ]\n      }\n      {\n        name: 'AnotherKey'\n        rights: [\n          'Listen'\n          'Send'\n        ]\n      }\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    networkRuleSets: {\n      defaultAction: 'Deny'\n      ipRules: [\n        {\n          action: 'Allow'\n          ipMask: '10.0.1.0/32'\n        }\n        {\n          action: 'Allow'\n          ipMask: '10.0.2.0/32'\n        }\n      ]\n      trustedServiceAccessEnabled: true\n      virtualNetworkRules: [\n        {\n          ignoreMissingVnetServiceEndpoint: true\n          subnetResourceId: '<subnetResourceId>'\n        }\n      ]\n    }\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'namespace'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n    ]\n    publicNetworkAccess: 'Disabled'\n    queues: [\n      {\n        authorizationRules: [\n          {\n            name: 'RootManageSharedAccessKey'\n            rights: [\n              'Listen'\n              'Manage'\n              'Send'\n            ]\n          }\n          {\n            name: 'AnotherKey'\n            rights: [\n              'Listen'\n              'Send'\n            ]\n          }\n        ]\n        autoDeleteOnIdle: 'PT5M'\n        maxMessageSizeInKilobytes: 2048\n        name: 'sbnwafq001'\n        roleAssignments: []\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    topics: [\n      {\n        authorizationRules: [\n          {\n            name: 'RootManageSharedAccessKey'\n            rights: [\n              'Listen'\n              'Manage'\n              'Send'\n            ]\n          }\n          {\n            name: 'AnotherKey'\n            rights: [\n              'Listen'\n              'Send'\n            ]\n          }\n        ]\n        name: 'sbnwaft001'\n        roleAssignments: []\n      }\n    ]\n  }\n}"}
{"id": "avm_res_service-fabric_cluster_example_1", "source": "avm/res/service-fabric/cluster/README.md", "content_to_embed": "Recommended AVM Module for Service Fabric Clusters: Using client and server certificate parameter set - This instance deploys the module with client and server certificates using thumbprints and common names.\nResource Type Path: Microsoft.ServiceFabric/clusters\nModule ID: br/public:avm/res/service-fabric/cluster:0.5\nParameters:\nparams: {\n    // Required parameters\n    managementEndpoint: 'https://sfccrt001.westeurope.cloudapp.azure.com:19080'\n    name: 'sfccrt001'\n    nodeTypes: [\n      {\n        applicationPorts: {\n          endPort: 30000\n          startPort: 20000\n        }\n        clientConnectionEndpointPort: 19000\n        durabilityLevel: 'Bronze'\n        ephemeralPorts: {\n          endPort: 65534\n          startPort: 49152\n        }\n        httpGatewayEndpointPort: 19080\n        isPrimary: true\n        name: 'Node01'\n      }\n    ]\n    reliabilityLevel: 'None'\n    // Non-required parameters\n    certificateCommonNames: {\n      commonNames: [\n        {\n          certificateCommonName: 'certcommon'\n          certificateIssuerThumbprint: '0AC113D5E1D94C401DDEB0EE2B1B96CC130'\n        }\n      ]\n      x509StoreName: 'My'\n    }\n    clientCertificateThumbprints: [\n      {\n        certificateThumbprint: 'D945B0AC4BDF78D31FB6F09CF375E0B9DC7BBBBE'\n        isAdmin: true\n      }\n    ]\n  }", "bicep": "module cluster 'br/public:avm/res/service-fabric/cluster:0.5' = {\n  name: 'clusterDeployment'\n  params: {\n    // Required parameters\n    managementEndpoint: 'https://sfccrt001.westeurope.cloudapp.azure.com:19080'\n    name: 'sfccrt001'\n    nodeTypes: [\n      {\n        applicationPorts: {\n          endPort: 30000\n          startPort: 20000\n        }\n        clientConnectionEndpointPort: 19000\n        durabilityLevel: 'Bronze'\n        ephemeralPorts: {\n          endPort: 65534\n          startPort: 49152\n        }\n        httpGatewayEndpointPort: 19080\n        isPrimary: true\n        name: 'Node01'\n      }\n    ]\n    reliabilityLevel: 'None'\n    // Non-required parameters\n    certificateCommonNames: {\n      commonNames: [\n        {\n          certificateCommonName: 'certcommon'\n          certificateIssuerThumbprint: '0AC113D5E1D94C401DDEB0EE2B1B96CC130'\n        }\n      ]\n      x509StoreName: 'My'\n    }\n    clientCertificateThumbprints: [\n      {\n        certificateThumbprint: 'D945B0AC4BDF78D31FB6F09CF375E0B9DC7BBBBE'\n        isAdmin: true\n      }\n    ]\n  }\n}"}
{"id": "avm_res_service-fabric_cluster_example_2", "source": "avm/res/service-fabric/cluster/README.md", "content_to_embed": "Recommended AVM Module for Service Fabric Clusters: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.ServiceFabric/clusters\nModule ID: br/public:avm/res/service-fabric/cluster:0.5\nParameters:\nparams: {\n    // Required parameters\n    managementEndpoint: 'https://sfcmin001.westeurope.cloudapp.azure.com:19080'\n    name: 'sfcmin001'\n    nodeTypes: [\n      {\n        applicationPorts: {\n          endPort: 30000\n          startPort: 20000\n        }\n        clientConnectionEndpointPort: 19000\n        durabilityLevel: 'Bronze'\n        ephemeralPorts: {\n          endPort: 65534\n          startPort: 49152\n        }\n        httpGatewayEndpointPort: 19080\n        isPrimary: true\n        name: 'Node01'\n      }\n    ]\n    reliabilityLevel: 'None'\n    // Non-required parameters\n    certificate: {\n      thumbprint: '0AC113D5E1D94C401DDEB0EE2B1B96CC130'\n    }\n  }", "bicep": "module cluster 'br/public:avm/res/service-fabric/cluster:0.5' = {\n  name: 'clusterDeployment'\n  params: {\n    // Required parameters\n    managementEndpoint: 'https://sfcmin001.westeurope.cloudapp.azure.com:19080'\n    name: 'sfcmin001'\n    nodeTypes: [\n      {\n        applicationPorts: {\n          endPort: 30000\n          startPort: 20000\n        }\n        clientConnectionEndpointPort: 19000\n        durabilityLevel: 'Bronze'\n        ephemeralPorts: {\n          endPort: 65534\n          startPort: 49152\n        }\n        httpGatewayEndpointPort: 19080\n        isPrimary: true\n        name: 'Node01'\n      }\n    ]\n    reliabilityLevel: 'None'\n    // Non-required parameters\n    certificate: {\n      thumbprint: '0AC113D5E1D94C401DDEB0EE2B1B96CC130'\n    }\n  }\n}"}
{"id": "avm_res_service-fabric_cluster_example_3", "source": "avm/res/service-fabric/cluster/README.md", "content_to_embed": "Recommended AVM Module for Service Fabric Clusters: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.ServiceFabric/clusters\nModule ID: br/public:avm/res/service-fabric/cluster:0.5\nParameters:\nparams: {\n    // Required parameters\n    managementEndpoint: 'https://sfcmax001.westeurope.cloudapp.azure.com:19080'\n    name: 'sfcmax001'\n    nodeTypes: [\n      {\n        applicationPorts: {\n          endPort: 30000\n          startPort: 20000\n        }\n        clientConnectionEndpointPort: 19000\n        durabilityLevel: 'Silver'\n        ephemeralPorts: {\n          endPort: 65534\n          startPort: 49152\n        }\n        httpGatewayEndpointPort: 19080\n        isPrimary: true\n        isStateless: false\n        multipleAvailabilityZones: false\n        name: 'Node01'\n        placementProperties: {}\n        reverseProxyEndpointPort: ''\n        vmInstanceCount: 5\n      }\n      {\n        applicationPorts: {\n          endPort: 30000\n          startPort: 20000\n        }\n        clientConnectionEndpointPort: 19000\n        durabilityLevel: 'Bronze'\n        ephemeralPorts: {\n          endPort: 64000\n          httpGatewayEndpointPort: 19007\n          isPrimary: true\n          name: 'Node02'\n          startPort: 49000\n          vmInstanceCount: 5\n        }\n      }\n    ]\n    reliabilityLevel: 'Silver'\n    // Non-required parameters\n    addOnFeatures: [\n      'BackupRestoreService'\n      'DnsService'\n      'RepairManager'\n      'ResourceMonitorService'\n    ]\n    applicationTypes: [\n      {\n        name: 'WordCount'\n      }\n    ]\n    azureActiveDirectory: {\n      clientApplication: '<clientApplication>'\n      clusterApplication: 'cf33fea8-b30f-424f-ab73-c48d99e0b222'\n      tenantId: '<tenantId>'\n    }\n    certificateCommonNames: {\n      commonNames: [\n        {\n          certificateCommonName: 'certcommon'\n          certificateIssuerThumbprint: '0AC113D5E1D94C401DDEB0EE2B1B96CC130'\n        }\n      ]\n      x509StoreName: 'My'\n    }\n    clientCertificateCommonNames: [\n      {\n        certificateCommonName: 'clientcommoncert1'\n        certificateIssuerThumbprint: '0AC113D5E1D94C401DDEB0EE2B1B96CC130'\n        isAdmin: false\n      }\n      {\n        certificateCommonName: 'clientcommoncert2'\n        certificateIssuerThumbprint: '0AC113D5E1D94C401DDEB0EE2B1B96CC131'\n        isAdmin: false\n      }\n    ]\n    diagnosticsStorageAccountConfig: {\n      blobEndpoint: '<blobEndpoint>'\n      protectedAccountKeyName: 'StorageAccountKey1'\n      queueEndpoint: '<queueEndpoint>'\n      storageAccountName: '<storageAccountName>'\n      tableEndpoint: '<tableEndpoint>'\n    }\n    fabricSettings: [\n      {\n        name: 'Security'\n        parameters: [\n          {\n            name: 'ClusterProtectionLevel'\n            value: 'EncryptAndSign'\n          }\n        ]\n      }\n      {\n        name: 'UpgradeService'\n        parameters: [\n          {\n            name: 'AppPollIntervalInSeconds'\n            value: '60'\n          }\n        ]\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    maxUnusedVersionsToKeep: 2\n    notifications: [\n      {\n        isEnabled: true\n        notificationCategory: 'WaveProgress'\n        notificationLevel: 'Critical'\n        notificationTargets: [\n          {\n            notificationChannel: 'EmailUser'\n            receivers: [\n              'SomeReceiver'\n            ]\n          }\n        ]\n      }\n    ]\n    roleAssignments: [\n      {\n        name: '26b52f01-eebc-4056-a516-41541369258c'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      clusterName: 'sfcmax001'\n      'hidden-title': 'This is visible in the resource name'\n      resourceType: 'Service Fabric'\n    }\n    upgradeDescription: {\n      deltaHealthPolicy: {\n        maxPercentDeltaUnhealthyApplications: 0\n        maxPercentDeltaUnhealthyNodes: 0\n        maxPercentUpgradeDomainDeltaUnhealthyNodes: 0\n      }\n      forceRestart: false\n      healthCheckRetryTimeout: '00:45:00'\n      healthCheckStableDuration: '00:01:00'\n      healthCheckWaitDuration: '00:00:30'\n      healthPolicy: {\n        maxPercentUnhealthyApplications: 0\n        maxPercentUnhealthyNodes: 0\n      }\n      upgradeDomainTimeout: '02:00:00'\n      upgradeReplicaSetCheckTimeout: '1.00:00:00'\n      upgradeTimeout: '02:00:00'\n    }\n    vmImage: 'Linux'\n  }", "bicep": "module cluster 'br/public:avm/res/service-fabric/cluster:0.5' = {\n  name: 'clusterDeployment'\n  params: {\n    // Required parameters\n    managementEndpoint: 'https://sfcmax001.westeurope.cloudapp.azure.com:19080'\n    name: 'sfcmax001'\n    nodeTypes: [\n      {\n        applicationPorts: {\n          endPort: 30000\n          startPort: 20000\n        }\n        clientConnectionEndpointPort: 19000\n        durabilityLevel: 'Silver'\n        ephemeralPorts: {\n          endPort: 65534\n          startPort: 49152\n        }\n        httpGatewayEndpointPort: 19080\n        isPrimary: true\n        isStateless: false\n        multipleAvailabilityZones: false\n        name: 'Node01'\n        placementProperties: {}\n        reverseProxyEndpointPort: ''\n        vmInstanceCount: 5\n      }\n      {\n        applicationPorts: {\n          endPort: 30000\n          startPort: 20000\n        }\n        clientConnectionEndpointPort: 19000\n        durabilityLevel: 'Bronze'\n        ephemeralPorts: {\n          endPort: 64000\n          httpGatewayEndpointPort: 19007\n          isPrimary: true\n          name: 'Node02'\n          startPort: 49000\n          vmInstanceCount: 5\n        }\n      }\n    ]\n    reliabilityLevel: 'Silver'\n    // Non-required parameters\n    addOnFeatures: [\n      'BackupRestoreService'\n      'DnsService'\n      'RepairManager'\n      'ResourceMonitorService'\n    ]\n    applicationTypes: [\n      {\n        name: 'WordCount'\n      }\n    ]\n    azureActiveDirectory: {\n      clientApplication: '<clientApplication>'\n      clusterApplication: 'cf33fea8-b30f-424f-ab73-c48d99e0b222'\n      tenantId: '<tenantId>'\n    }\n    certificateCommonNames: {\n      commonNames: [\n        {\n          certificateCommonName: 'certcommon'\n          certificateIssuerThumbprint: '0AC113D5E1D94C401DDEB0EE2B1B96CC130'\n        }\n      ]\n      x509StoreName: 'My'\n    }\n    clientCertificateCommonNames: [\n      {\n        certificateCommonName: 'clientcommoncert1'\n        certificateIssuerThumbprint: '0AC113D5E1D94C401DDEB0EE2B1B96CC130'\n        isAdmin: false\n      }\n      {\n        certificateCommonName: 'clientcommoncert2'\n        certificateIssuerThumbprint: '0AC113D5E1D94C401DDEB0EE2B1B96CC131'\n        isAdmin: false\n      }\n    ]\n    diagnosticsStorageAccountConfig: {\n      blobEndpoint: '<blobEndpoint>'\n      protectedAccountKeyName: 'StorageAccountKey1'\n      queueEndpoint: '<queueEndpoint>'\n      storageAccountName: '<storageAccountName>'\n      tableEndpoint: '<tableEndpoint>'\n    }\n    fabricSettings: [\n      {\n        name: 'Security'\n        parameters: [\n          {\n            name: 'ClusterProtectionLevel'\n            value: 'EncryptAndSign'\n          }\n        ]\n      }\n      {\n        name: 'UpgradeService'\n        parameters: [\n          {\n            name: 'AppPollIntervalInSeconds'\n            value: '60'\n          }\n        ]\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    maxUnusedVersionsToKeep: 2\n    notifications: [\n      {\n        isEnabled: true\n        notificationCategory: 'WaveProgress'\n        notificationLevel: 'Critical'\n        notificationTargets: [\n          {\n            notificationChannel: 'EmailUser'\n            receivers: [\n              'SomeReceiver'\n            ]\n          }\n        ]\n      }\n    ]\n    roleAssignments: [\n      {\n        name: '26b52f01-eebc-4056-a516-41541369258c'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      clusterName: 'sfcmax001'\n      'hidden-title': 'This is visible in the resource name'\n      resourceType: 'Service Fabric'\n    }\n    upgradeDescription: {\n      deltaHealthPolicy: {\n        maxPercentDeltaUnhealthyApplications: 0\n        maxPercentDeltaUnhealthyNodes: 0\n        maxPercentUpgradeDomainDeltaUnhealthyNodes: 0\n      }\n      forceRestart: false\n      healthCheckRetryTimeout: '00:45:00'\n      healthCheckStableDuration: '00:01:00'\n      healthCheckWaitDuration: '00:00:30'\n      healthPolicy: {\n        maxPercentUnhealthyApplications: 0\n        maxPercentUnhealthyNodes: 0\n      }\n      upgradeDomainTimeout: '02:00:00'\n      upgradeReplicaSetCheckTimeout: '1.00:00:00'\n      upgradeTimeout: '02:00:00'\n    }\n    vmImage: 'Linux'\n  }\n}"}
{"id": "avm_res_service-fabric_cluster_example_4", "source": "avm/res/service-fabric/cluster/README.md", "content_to_embed": "Recommended AVM Module for Service Fabric Clusters: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.ServiceFabric/clusters\nModule ID: br/public:avm/res/service-fabric/cluster:0.5\nParameters:\nparams: {\n    // Required parameters\n    managementEndpoint: 'https://sfcwaf001.westeurope.cloudapp.azure.com:19080'\n    name: 'sfcwaf001'\n    nodeTypes: [\n      {\n        applicationPorts: {\n          endPort: 30000\n          startPort: 20000\n        }\n        clientConnectionEndpointPort: 19000\n        durabilityLevel: 'Silver'\n        ephemeralPorts: {\n          endPort: 65534\n          startPort: 49152\n        }\n        httpGatewayEndpointPort: 19080\n        isPrimary: true\n        isStateless: false\n        multipleAvailabilityZones: false\n        name: 'Node01'\n        placementProperties: {}\n        reverseProxyEndpointPort: ''\n        vmInstanceCount: 5\n      }\n      {\n        applicationPorts: {\n          endPort: 30000\n          startPort: 20000\n        }\n        clientConnectionEndpointPort: 19000\n        durabilityLevel: 'Bronze'\n        ephemeralPorts: {\n          endPort: 64000\n          httpGatewayEndpointPort: 19007\n          isPrimary: true\n          name: 'Node02'\n          startPort: 49000\n          vmInstanceCount: 5\n        }\n      }\n    ]\n    reliabilityLevel: 'Silver'\n    // Non-required parameters\n    addOnFeatures: [\n      'BackupRestoreService'\n      'DnsService'\n      'RepairManager'\n      'ResourceMonitorService'\n    ]\n    applicationTypes: [\n      {\n        name: 'WordCount'\n      }\n    ]\n    azureActiveDirectory: {\n      clientApplication: '<clientApplication>'\n      clusterApplication: 'cf33fea8-b30f-424f-ab73-c48d99e0b222'\n      tenantId: '<tenantId>'\n    }\n    certificate: {\n      thumbprint: '0AC113D5E1D94C401DDEB0EE2B1B96CC130'\n      x509StoreName: 'My'\n    }\n    clientCertificateCommonNames: [\n      {\n        certificateCommonName: 'clientcommoncert1'\n        certificateIssuerThumbprint: '0AC113D5E1D94C401DDEB0EE2B1B96CC130'\n        isAdmin: false\n      }\n      {\n        certificateCommonName: 'clientcommoncert2'\n        certificateIssuerThumbprint: '0AC113D5E1D94C401DDEB0EE2B1B96CC131'\n        isAdmin: false\n      }\n    ]\n    diagnosticsStorageAccountConfig: {\n      blobEndpoint: '<blobEndpoint>'\n      protectedAccountKeyName: 'StorageAccountKey1'\n      queueEndpoint: '<queueEndpoint>'\n      storageAccountName: '<storageAccountName>'\n      tableEndpoint: '<tableEndpoint>'\n    }\n    fabricSettings: [\n      {\n        name: 'Security'\n        parameters: [\n          {\n            name: 'ClusterProtectionLevel'\n            value: 'EncryptAndSign'\n          }\n        ]\n      }\n      {\n        name: 'UpgradeService'\n        parameters: [\n          {\n            name: 'AppPollIntervalInSeconds'\n            value: '60'\n          }\n        ]\n      }\n    ]\n    maxUnusedVersionsToKeep: 2\n    notifications: [\n      {\n        isEnabled: true\n        notificationCategory: 'WaveProgress'\n        notificationLevel: 'Critical'\n        notificationTargets: [\n          {\n            notificationChannel: 'EmailUser'\n            receivers: [\n              'SomeReceiver'\n            ]\n          }\n        ]\n      }\n    ]\n    tags: {\n      clusterName: 'sfcwaf001'\n      'hidden-title': 'This is visible in the resource name'\n      resourceType: 'Service Fabric'\n    }\n    upgradeDescription: {\n      deltaHealthPolicy: {\n        maxPercentDeltaUnhealthyApplications: 0\n        maxPercentDeltaUnhealthyNodes: 0\n        maxPercentUpgradeDomainDeltaUnhealthyNodes: 0\n      }\n      forceRestart: false\n      healthCheckRetryTimeout: '00:45:00'\n      healthCheckStableDuration: '00:01:00'\n      healthCheckWaitDuration: '00:00:30'\n      healthPolicy: {\n        maxPercentUnhealthyApplications: 0\n        maxPercentUnhealthyNodes: 0\n      }\n      upgradeDomainTimeout: '02:00:00'\n      upgradeReplicaSetCheckTimeout: '1.00:00:00'\n      upgradeTimeout: '02:00:00'\n    }\n    vmImage: 'Linux'\n  }", "bicep": "module cluster 'br/public:avm/res/service-fabric/cluster:0.5' = {\n  name: 'clusterDeployment'\n  params: {\n    // Required parameters\n    managementEndpoint: 'https://sfcwaf001.westeurope.cloudapp.azure.com:19080'\n    name: 'sfcwaf001'\n    nodeTypes: [\n      {\n        applicationPorts: {\n          endPort: 30000\n          startPort: 20000\n        }\n        clientConnectionEndpointPort: 19000\n        durabilityLevel: 'Silver'\n        ephemeralPorts: {\n          endPort: 65534\n          startPort: 49152\n        }\n        httpGatewayEndpointPort: 19080\n        isPrimary: true\n        isStateless: false\n        multipleAvailabilityZones: false\n        name: 'Node01'\n        placementProperties: {}\n        reverseProxyEndpointPort: ''\n        vmInstanceCount: 5\n      }\n      {\n        applicationPorts: {\n          endPort: 30000\n          startPort: 20000\n        }\n        clientConnectionEndpointPort: 19000\n        durabilityLevel: 'Bronze'\n        ephemeralPorts: {\n          endPort: 64000\n          httpGatewayEndpointPort: 19007\n          isPrimary: true\n          name: 'Node02'\n          startPort: 49000\n          vmInstanceCount: 5\n        }\n      }\n    ]\n    reliabilityLevel: 'Silver'\n    // Non-required parameters\n    addOnFeatures: [\n      'BackupRestoreService'\n      'DnsService'\n      'RepairManager'\n      'ResourceMonitorService'\n    ]\n    applicationTypes: [\n      {\n        name: 'WordCount'\n      }\n    ]\n    azureActiveDirectory: {\n      clientApplication: '<clientApplication>'\n      clusterApplication: 'cf33fea8-b30f-424f-ab73-c48d99e0b222'\n      tenantId: '<tenantId>'\n    }\n    certificate: {\n      thumbprint: '0AC113D5E1D94C401DDEB0EE2B1B96CC130'\n      x509StoreName: 'My'\n    }\n    clientCertificateCommonNames: [\n      {\n        certificateCommonName: 'clientcommoncert1'\n        certificateIssuerThumbprint: '0AC113D5E1D94C401DDEB0EE2B1B96CC130'\n        isAdmin: false\n      }\n      {\n        certificateCommonName: 'clientcommoncert2'\n        certificateIssuerThumbprint: '0AC113D5E1D94C401DDEB0EE2B1B96CC131'\n        isAdmin: false\n      }\n    ]\n    diagnosticsStorageAccountConfig: {\n      blobEndpoint: '<blobEndpoint>'\n      protectedAccountKeyName: 'StorageAccountKey1'\n      queueEndpoint: '<queueEndpoint>'\n      storageAccountName: '<storageAccountName>'\n      tableEndpoint: '<tableEndpoint>'\n    }\n    fabricSettings: [\n      {\n        name: 'Security'\n        parameters: [\n          {\n            name: 'ClusterProtectionLevel'\n            value: 'EncryptAndSign'\n          }\n        ]\n      }\n      {\n        name: 'UpgradeService'\n        parameters: [\n          {\n            name: 'AppPollIntervalInSeconds'\n            value: '60'\n          }\n        ]\n      }\n    ]\n    maxUnusedVersionsToKeep: 2\n    notifications: [\n      {\n        isEnabled: true\n        notificationCategory: 'WaveProgress'\n        notificationLevel: 'Critical'\n        notificationTargets: [\n          {\n            notificationChannel: 'EmailUser'\n            receivers: [\n              'SomeReceiver'\n            ]\n          }\n        ]\n      }\n    ]\n    tags: {\n      clusterName: 'sfcwaf001'\n      'hidden-title': 'This is visible in the resource name'\n      resourceType: 'Service Fabric'\n    }\n    upgradeDescription: {\n      deltaHealthPolicy: {\n        maxPercentDeltaUnhealthyApplications: 0\n        maxPercentDeltaUnhealthyNodes: 0\n        maxPercentUpgradeDomainDeltaUnhealthyNodes: 0\n      }\n      forceRestart: false\n      healthCheckRetryTimeout: '00:45:00'\n      healthCheckStableDuration: '00:01:00'\n      healthCheckWaitDuration: '00:00:30'\n      healthPolicy: {\n        maxPercentUnhealthyApplications: 0\n        maxPercentUnhealthyNodes: 0\n      }\n      upgradeDomainTimeout: '02:00:00'\n      upgradeReplicaSetCheckTimeout: '1.00:00:00'\n      upgradeTimeout: '02:00:00'\n    }\n    vmImage: 'Linux'\n  }\n}"}
{"id": "avm_res_service-networking_traffic-controller_example_1", "source": "avm/res/service-networking/traffic-controller/README.md", "content_to_embed": "Recommended AVM Module for Application Gateway for Containers: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.ServiceNetworking/trafficControllers\nModule ID: br/public:avm/res/service-networking/traffic-controller:0.1\nParameters:\nparams: {\n    // Required parameters\n    name: 'sntcmin001'\n    // Non-required parameters\n    location: '<location>'\n  }", "bicep": "module trafficController 'br/public:avm/res/service-networking/traffic-controller:0.1' = {\n  name: 'trafficControllerDeployment'\n  params: {\n    // Required parameters\n    name: 'sntcmin001'\n    // Non-required parameters\n    location: '<location>'\n  }\n}"}
{"id": "avm_res_service-networking_traffic-controller_example_2", "source": "avm/res/service-networking/traffic-controller/README.md", "content_to_embed": "Recommended AVM Module for Application Gateway for Containers: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.ServiceNetworking/trafficControllers\nModule ID: br/public:avm/res/service-networking/traffic-controller:0.1\nParameters:\nparams: {\n    // Required parameters\n    name: 'sntcmax001'\n    // Non-required parameters\n    associations: [\n      {\n        name: 'association1'\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    frontends: [\n      {\n        name: 'frontend1'\n      }\n      {\n        name: 'frontend2'\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    roleAssignments: [\n      {\n        name: 'a6931c52-0b79-4fe9-ad3d-72188dfff379'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module trafficController 'br/public:avm/res/service-networking/traffic-controller:0.1' = {\n  name: 'trafficControllerDeployment'\n  params: {\n    // Required parameters\n    name: 'sntcmax001'\n    // Non-required parameters\n    associations: [\n      {\n        name: 'association1'\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    frontends: [\n      {\n        name: 'frontend1'\n      }\n      {\n        name: 'frontend2'\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    roleAssignments: [\n      {\n        name: 'a6931c52-0b79-4fe9-ad3d-72188dfff379'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_service-networking_traffic-controller_example_3", "source": "avm/res/service-networking/traffic-controller/README.md", "content_to_embed": "Recommended AVM Module for Application Gateway for Containers: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.ServiceNetworking/trafficControllers\nModule ID: br/public:avm/res/service-networking/traffic-controller:0.1\nParameters:\nparams: {\n    // Required parameters\n    name: 'sntcwaf001'\n    // Non-required parameters\n    associations: [\n      {\n        name: 'association1'\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    frontends: [\n      {\n        name: 'frontend1'\n      }\n      {\n        name: 'frontend2'\n      }\n    ]\n    location: '<location>'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module trafficController 'br/public:avm/res/service-networking/traffic-controller:0.1' = {\n  name: 'trafficControllerDeployment'\n  params: {\n    // Required parameters\n    name: 'sntcwaf001'\n    // Non-required parameters\n    associations: [\n      {\n        name: 'association1'\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    frontends: [\n      {\n        name: 'frontend1'\n      }\n      {\n        name: 'frontend2'\n      }\n    ]\n    location: '<location>'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_signal-r-service_signal-r_example_1", "source": "avm/res/signal-r-service/signal-r/README.md", "content_to_embed": "Recommended AVM Module for SignalR Service SignalR: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.SignalRService/signalR\nModule ID: br/public:avm/res/signal-r-service/signal-r:0.10\nParameters:\nparams: {\n    name: 'srsdrmin-001'\n  }", "bicep": "module signalR 'br/public:avm/res/signal-r-service/signal-r:0.10' = {\n  name: 'signalRDeployment'\n  params: {\n    name: 'srsdrmin-001'\n  }\n}"}
{"id": "avm_res_signal-r-service_signal-r_example_2", "source": "avm/res/signal-r-service/signal-r/README.md", "content_to_embed": "Recommended AVM Module for SignalR Service SignalR: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.SignalRService/signalR\nModule ID: br/public:avm/res/signal-r-service/signal-r:0.10\nParameters:\nparams: {\n    // Required parameters\n    name: 'srssrmax-001'\n    // Non-required parameters\n    capacity: 2\n    clientCertEnabled: false\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    disableAadAuth: false\n    disableLocalAuth: true\n    kind: 'SignalR'\n    liveTraceCatagoriesToEnable: [\n      'ConnectivityLogs'\n      'HttpRequestLogs'\n      'MessagingLogs'\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: false\n      userAssignedResourceIds: '<userAssignedResourceIds>'\n    }\n    networkAcls: {\n      defaultAction: 'Allow'\n      privateEndpoints: [\n        {\n          allow: []\n          deny: [\n            'ServerConnection'\n            'Trace'\n          ]\n          name: 'pe-srssrmax-001'\n        }\n      ]\n      publicNetwork: {\n        allow: []\n        deny: [\n          'RESTAPI'\n          'Trace'\n        ]\n      }\n    }\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    resourceLogConfigurationsToEnable: [\n      'ConnectivityLogs'\n      'HttpRequestLogs'\n      'MessagingLogs'\n    ]\n    roleAssignments: [\n      {\n        name: 'd8c98876-5377-4b49-98ae-41a8b5537761'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    sku: 'Standard_S1'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module signalR 'br/public:avm/res/signal-r-service/signal-r:0.10' = {\n  name: 'signalRDeployment'\n  params: {\n    // Required parameters\n    name: 'srssrmax-001'\n    // Non-required parameters\n    capacity: 2\n    clientCertEnabled: false\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    disableAadAuth: false\n    disableLocalAuth: true\n    kind: 'SignalR'\n    liveTraceCatagoriesToEnable: [\n      'ConnectivityLogs'\n      'HttpRequestLogs'\n      'MessagingLogs'\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: false\n      userAssignedResourceIds: '<userAssignedResourceIds>'\n    }\n    networkAcls: {\n      defaultAction: 'Allow'\n      privateEndpoints: [\n        {\n          allow: []\n          deny: [\n            'ServerConnection'\n            'Trace'\n          ]\n          name: 'pe-srssrmax-001'\n        }\n      ]\n      publicNetwork: {\n        allow: []\n        deny: [\n          'RESTAPI'\n          'Trace'\n        ]\n      }\n    }\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    resourceLogConfigurationsToEnable: [\n      'ConnectivityLogs'\n      'HttpRequestLogs'\n      'MessagingLogs'\n    ]\n    roleAssignments: [\n      {\n        name: 'd8c98876-5377-4b49-98ae-41a8b5537761'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    sku: 'Standard_S1'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_signal-r-service_signal-r_example_3", "source": "avm/res/signal-r-service/signal-r/README.md", "content_to_embed": "Recommended AVM Module for SignalR Service SignalR: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.SignalRService/signalR\nModule ID: br/public:avm/res/signal-r-service/signal-r:0.10\nParameters:\nparams: {\n    // Required parameters\n    name: 'srssrwaf-001'\n    // Non-required parameters\n    capacity: 2\n    clientCertEnabled: false\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    disableAadAuth: false\n    disableLocalAuth: true\n    kind: 'SignalR'\n    networkAcls: {\n      defaultAction: 'Allow'\n      privateEndpoints: [\n        {\n          allow: []\n          deny: [\n            'ServerConnection'\n            'Trace'\n          ]\n          name: 'pe-srssrwaf-001'\n        }\n      ]\n      publicNetwork: {\n        allow: []\n        deny: [\n          'RESTAPI'\n          'Trace'\n        ]\n      }\n    }\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n    ]\n    resourceLogConfigurationsToEnable: [\n      'ConnectivityLogs'\n    ]\n    sku: 'Standard_S1'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module signalR 'br/public:avm/res/signal-r-service/signal-r:0.10' = {\n  name: 'signalRDeployment'\n  params: {\n    // Required parameters\n    name: 'srssrwaf-001'\n    // Non-required parameters\n    capacity: 2\n    clientCertEnabled: false\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    disableAadAuth: false\n    disableLocalAuth: true\n    kind: 'SignalR'\n    networkAcls: {\n      defaultAction: 'Allow'\n      privateEndpoints: [\n        {\n          allow: []\n          deny: [\n            'ServerConnection'\n            'Trace'\n          ]\n          name: 'pe-srssrwaf-001'\n        }\n      ]\n      publicNetwork: {\n        allow: []\n        deny: [\n          'RESTAPI'\n          'Trace'\n        ]\n      }\n    }\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n    ]\n    resourceLogConfigurationsToEnable: [\n      'ConnectivityLogs'\n    ]\n    sku: 'Standard_S1'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_signal-r-service_web-pub-sub_example_1", "source": "avm/res/signal-r-service/web-pub-sub/README.md", "content_to_embed": "Recommended AVM Module for SignalR Web PubSub Services: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.SignalRService/webPubSub\nModule ID: br/public:avm/res/signal-r-service/web-pub-sub:0.7\nParameters:\nparams: {\n    name: 'srswpsmin-001'\n  }", "bicep": "module webPubSub 'br/public:avm/res/signal-r-service/web-pub-sub:0.7' = {\n  name: 'webPubSubDeployment'\n  params: {\n    name: 'srswpsmin-001'\n  }\n}"}
{"id": "avm_res_signal-r-service_web-pub-sub_example_2", "source": "avm/res/signal-r-service/web-pub-sub/README.md", "content_to_embed": "Recommended AVM Module for SignalR Web PubSub Services: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.SignalRService/webPubSub\nModule ID: br/public:avm/res/signal-r-service/web-pub-sub:0.7\nParameters:\nparams: {\n    // Required parameters\n    name: 'srswpsmax-001'\n    // Non-required parameters\n    capacity: 2\n    clientCertEnabled: false\n    disableAadAuth: false\n    disableLocalAuth: true\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: true\n    }\n    networkAcls: {\n      defaultAction: 'Allow'\n      privateEndpoints: [\n        {\n          allow: []\n          deny: [\n            'ServerConnection'\n            'Trace'\n          ]\n          name: 'pe-srswpsmax-001'\n        }\n      ]\n      publicNetwork: {\n        allow: []\n        deny: [\n          'RESTAPI'\n          'Trace'\n        ]\n      }\n    }\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'webpubsub'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    resourceLogConfigurationsToEnable: [\n      'ConnectivityLogs'\n    ]\n    roleAssignments: [\n      {\n        name: '8e40bf2f-0457-4292-a83a-eedc36d04f6a'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    sku: 'Standard_S1'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module webPubSub 'br/public:avm/res/signal-r-service/web-pub-sub:0.7' = {\n  name: 'webPubSubDeployment'\n  params: {\n    // Required parameters\n    name: 'srswpsmax-001'\n    // Non-required parameters\n    capacity: 2\n    clientCertEnabled: false\n    disableAadAuth: false\n    disableLocalAuth: true\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: true\n    }\n    networkAcls: {\n      defaultAction: 'Allow'\n      privateEndpoints: [\n        {\n          allow: []\n          deny: [\n            'ServerConnection'\n            'Trace'\n          ]\n          name: 'pe-srswpsmax-001'\n        }\n      ]\n      publicNetwork: {\n        allow: []\n        deny: [\n          'RESTAPI'\n          'Trace'\n        ]\n      }\n    }\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'webpubsub'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    resourceLogConfigurationsToEnable: [\n      'ConnectivityLogs'\n    ]\n    roleAssignments: [\n      {\n        name: '8e40bf2f-0457-4292-a83a-eedc36d04f6a'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    sku: 'Standard_S1'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_signal-r-service_web-pub-sub_example_3", "source": "avm/res/signal-r-service/web-pub-sub/README.md", "content_to_embed": "Recommended AVM Module for SignalR Web PubSub Services: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.SignalRService/webPubSub\nModule ID: br/public:avm/res/signal-r-service/web-pub-sub:0.7\nParameters:\nparams: {\n    // Required parameters\n    name: 'srswpswaf-001'\n    // Non-required parameters\n    capacity: 2\n    clientCertEnabled: false\n    disableAadAuth: false\n    disableLocalAuth: true\n    managedIdentities: {\n      systemAssigned: true\n    }\n    networkAcls: {\n      defaultAction: 'Allow'\n      privateEndpoints: [\n        {\n          allow: []\n          deny: [\n            'ServerConnection'\n            'Trace'\n          ]\n          name: 'pe-srswpswaf-001'\n        }\n      ]\n      publicNetwork: {\n        allow: []\n        deny: [\n          'RESTAPI'\n          'Trace'\n        ]\n      }\n    }\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'webpubsub'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n    ]\n    resourceLogConfigurationsToEnable: [\n      'ConnectivityLogs'\n    ]\n    sku: 'Standard_S1'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module webPubSub 'br/public:avm/res/signal-r-service/web-pub-sub:0.7' = {\n  name: 'webPubSubDeployment'\n  params: {\n    // Required parameters\n    name: 'srswpswaf-001'\n    // Non-required parameters\n    capacity: 2\n    clientCertEnabled: false\n    disableAadAuth: false\n    disableLocalAuth: true\n    managedIdentities: {\n      systemAssigned: true\n    }\n    networkAcls: {\n      defaultAction: 'Allow'\n      privateEndpoints: [\n        {\n          allow: []\n          deny: [\n            'ServerConnection'\n            'Trace'\n          ]\n          name: 'pe-srswpswaf-001'\n        }\n      ]\n      publicNetwork: {\n        allow: []\n        deny: [\n          'RESTAPI'\n          'Trace'\n        ]\n      }\n    }\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'webpubsub'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n    ]\n    resourceLogConfigurationsToEnable: [\n      'ConnectivityLogs'\n    ]\n    sku: 'Standard_S1'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_sql_instance-pool_example_1", "source": "avm/res/sql/instance-pool/README.md", "content_to_embed": "Recommended AVM Module for SQL Server Instance Pool: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Sql/instancePools\nModule ID: br/public:avm/res/sql/instance-pool:0.1\nParameters:\nparams: {\n    // Required parameters\n    name: '<name>'\n    subnetResourceId: '<subnetResourceId>'\n    // Non-required parameters\n    location: '<location>'\n  }", "bicep": "module instancePool 'br/public:avm/res/sql/instance-pool:0.1' = {\n  name: 'instancePoolDeployment'\n  params: {\n    // Required parameters\n    name: '<name>'\n    subnetResourceId: '<subnetResourceId>'\n    // Non-required parameters\n    location: '<location>'\n  }\n}"}
{"id": "avm_res_sql_instance-pool_example_2", "source": "avm/res/sql/instance-pool/README.md", "content_to_embed": "Recommended AVM Module for SQL Server Instance Pool: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Well-Architected Framework.\nResource Type Path: Microsoft.Sql/instancePools\nModule ID: br/public:avm/res/sql/instance-pool:0.1\nParameters:\nparams: {\n    // Required parameters\n    name: '<name>'\n    subnetResourceId: '<subnetResourceId>'\n    // Non-required parameters\n    location: '<location>'\n    skuName: 'GP_Gen5'\n  }", "bicep": "module instancePool 'br/public:avm/res/sql/instance-pool:0.1' = {\n  name: 'instancePoolDeployment'\n  params: {\n    // Required parameters\n    name: '<name>'\n    subnetResourceId: '<subnetResourceId>'\n    // Non-required parameters\n    location: '<location>'\n    skuName: 'GP_Gen5'\n  }\n}"}
{"id": "avm_res_sql_managed-instance_example_1", "source": "avm/res/sql/managed-instance/README.md", "content_to_embed": "Recommended AVM Module for SQL Managed Instances: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Sql/managedInstances\nModule ID: br/public:avm/res/sql/managed-instance:0.4\nParameters:\nparams: {\n    // Required parameters\n    name: 'sqlmimin'\n    subnetResourceId: '<subnetResourceId>'\n    // Non-required parameters\n    administratorLogin: 'adminUserName'\n    administratorLoginPassword: '<administratorLoginPassword>'\n  }", "bicep": "module managedInstance 'br/public:avm/res/sql/managed-instance:0.4' = {\n  name: 'managedInstanceDeployment'\n  params: {\n    // Required parameters\n    name: 'sqlmimin'\n    subnetResourceId: '<subnetResourceId>'\n    // Non-required parameters\n    administratorLogin: 'adminUserName'\n    administratorLoginPassword: '<administratorLoginPassword>'\n  }\n}"}
{"id": "avm_res_sql_managed-instance_example_2", "source": "avm/res/sql/managed-instance/README.md", "content_to_embed": "Recommended AVM Module for SQL Managed Instances: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Sql/managedInstances\nModule ID: br/public:avm/res/sql/managed-instance:0.4\nParameters:\nparams: {\n    // Required parameters\n    name: 'sqlmimax'\n    subnetResourceId: '<subnetResourceId>'\n    // Non-required parameters\n    administratorLogin: 'adminUserName'\n    administratorLoginPassword: '<administratorLoginPassword>'\n    collation: 'SQL_Latin1_General_CP1_CI_AS'\n    databases: [\n      {\n        backupLongTermRetentionPolicy: {\n          name: 'default'\n        }\n        backupShortTermRetentionPolicy: {\n          name: 'default'\n        }\n        diagnosticSettings: [\n          {\n            eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n            eventHubName: '<eventHubName>'\n            name: 'customSetting'\n            storageAccountResourceId: '<storageAccountResourceId>'\n            workspaceResourceId: '<workspaceResourceId>'\n          }\n        ]\n        name: 'sqlmimax-db-001'\n      }\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        logCategoriesAndGroups: [\n          {\n            categoryGroup: 'allLogs'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    dnsZonePartnerResourceId: ''\n    encryptionProtector: {\n      serverKeyName: '<serverKeyName>'\n      serverKeyType: 'AzureKeyVault'\n    }\n    hardwareFamily: 'Gen5'\n    keys: [\n      {\n        name: '<name>'\n        serverKeyType: 'AzureKeyVault'\n        uri: '<uri>'\n      }\n    ]\n    licenseType: 'LicenseIncluded'\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    maintenanceWindow: 'Custom1'\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    primaryUserAssignedIdentityResourceId: '<primaryUserAssignedIdentityResourceId>'\n    proxyOverride: 'Proxy'\n    publicDataEndpointEnabled: false\n    roleAssignments: [\n      {\n        name: '4de0cbb1-1f3d-4eb3-ac11-5797f548199b'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    securityAlertPolicy: {\n      disabledAlerts: [\n        'Unsafe_Action'\n      ]\n      emailAccountAdmins: true\n      emailAddresses: [\n        'test1@contoso.com'\n        'test2@contoso.com'\n      ]\n      name: 'default'\n      retentionDays: 7\n      state: 'Enabled'\n      storageAccountResourceId: '<storageAccountResourceId>'\n    }\n    servicePrincipal: 'SystemAssigned'\n    skuName: 'GP_Gen5'\n    skuTier: 'GeneralPurpose'\n    storageSizeInGB: 32\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    timezoneId: 'UTC'\n    vCores: 4\n    vulnerabilityAssessment: {\n      name: 'default'\n      recurringScans: {\n        emails: [\n          'test1@contoso.com'\n          'test2@contoso.com'\n        ]\n        emailSubscriptionAdmins: true\n        isEnabled: true\n      }\n      storageAccountResourceId: '<storageAccountResourceId>'\n    }\n  }", "bicep": "module managedInstance 'br/public:avm/res/sql/managed-instance:0.4' = {\n  name: 'managedInstanceDeployment'\n  params: {\n    // Required parameters\n    name: 'sqlmimax'\n    subnetResourceId: '<subnetResourceId>'\n    // Non-required parameters\n    administratorLogin: 'adminUserName'\n    administratorLoginPassword: '<administratorLoginPassword>'\n    collation: 'SQL_Latin1_General_CP1_CI_AS'\n    databases: [\n      {\n        backupLongTermRetentionPolicy: {\n          name: 'default'\n        }\n        backupShortTermRetentionPolicy: {\n          name: 'default'\n        }\n        diagnosticSettings: [\n          {\n            eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n            eventHubName: '<eventHubName>'\n            name: 'customSetting'\n            storageAccountResourceId: '<storageAccountResourceId>'\n            workspaceResourceId: '<workspaceResourceId>'\n          }\n        ]\n        name: 'sqlmimax-db-001'\n      }\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        logCategoriesAndGroups: [\n          {\n            categoryGroup: 'allLogs'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    dnsZonePartnerResourceId: ''\n    encryptionProtector: {\n      serverKeyName: '<serverKeyName>'\n      serverKeyType: 'AzureKeyVault'\n    }\n    hardwareFamily: 'Gen5'\n    keys: [\n      {\n        name: '<name>'\n        serverKeyType: 'AzureKeyVault'\n        uri: '<uri>'\n      }\n    ]\n    licenseType: 'LicenseIncluded'\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    maintenanceWindow: 'Custom1'\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    primaryUserAssignedIdentityResourceId: '<primaryUserAssignedIdentityResourceId>'\n    proxyOverride: 'Proxy'\n    publicDataEndpointEnabled: false\n    roleAssignments: [\n      {\n        name: '4de0cbb1-1f3d-4eb3-ac11-5797f548199b'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    securityAlertPolicy: {\n      disabledAlerts: [\n        'Unsafe_Action'\n      ]\n      emailAccountAdmins: true\n      emailAddresses: [\n        'test1@contoso.com'\n        'test2@contoso.com'\n      ]\n      name: 'default'\n      retentionDays: 7\n      state: 'Enabled'\n      storageAccountResourceId: '<storageAccountResourceId>'\n    }\n    servicePrincipal: 'SystemAssigned'\n    skuName: 'GP_Gen5'\n    skuTier: 'GeneralPurpose'\n    storageSizeInGB: 32\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    timezoneId: 'UTC'\n    vCores: 4\n    vulnerabilityAssessment: {\n      name: 'default'\n      recurringScans: {\n        emails: [\n          'test1@contoso.com'\n          'test2@contoso.com'\n        ]\n        emailSubscriptionAdmins: true\n        isEnabled: true\n      }\n      storageAccountResourceId: '<storageAccountResourceId>'\n    }\n  }\n}"}
{"id": "avm_res_sql_managed-instance_example_3", "source": "avm/res/sql/managed-instance/README.md", "content_to_embed": "Recommended AVM Module for SQL Managed Instances: With vulnerability assessment - This instance deploys the module with a vulnerability assessment.\nResource Type Path: Microsoft.Sql/managedInstances\nModule ID: br/public:avm/res/sql/managed-instance:0.4\nParameters:\nparams: {\n    // Required parameters\n    name: 'sqlmivln'\n    subnetResourceId: '<subnetResourceId>'\n    // Non-required parameters\n    administratorLogin: 'adminUserName'\n    administratorLoginPassword: '<administratorLoginPassword>'\n    managedIdentities: {\n      systemAssigned: true\n    }\n    securityAlertPolicy: {\n      disabledAlerts: [\n        'Unsafe_Action'\n      ]\n      emailAccountAdmins: true\n      emailAddresses: [\n        'test1@contoso.com'\n        'test2@contoso.com'\n      ]\n      name: 'default'\n      retentionDays: 7\n      state: 'Enabled'\n      storageAccountResourceId: '<storageAccountResourceId>'\n    }\n    vulnerabilityAssessment: {\n      name: 'default'\n      recurringScans: {\n        emails: [\n          'test1@contoso.com'\n          'test2@contoso.com'\n        ]\n        emailSubscriptionAdmins: true\n        isEnabled: true\n      }\n      storageAccountResourceId: '<storageAccountResourceId>'\n    }\n  }", "bicep": "module managedInstance 'br/public:avm/res/sql/managed-instance:0.4' = {\n  name: 'managedInstanceDeployment'\n  params: {\n    // Required parameters\n    name: 'sqlmivln'\n    subnetResourceId: '<subnetResourceId>'\n    // Non-required parameters\n    administratorLogin: 'adminUserName'\n    administratorLoginPassword: '<administratorLoginPassword>'\n    managedIdentities: {\n      systemAssigned: true\n    }\n    securityAlertPolicy: {\n      disabledAlerts: [\n        'Unsafe_Action'\n      ]\n      emailAccountAdmins: true\n      emailAddresses: [\n        'test1@contoso.com'\n        'test2@contoso.com'\n      ]\n      name: 'default'\n      retentionDays: 7\n      state: 'Enabled'\n      storageAccountResourceId: '<storageAccountResourceId>'\n    }\n    vulnerabilityAssessment: {\n      name: 'default'\n      recurringScans: {\n        emails: [\n          'test1@contoso.com'\n          'test2@contoso.com'\n        ]\n        emailSubscriptionAdmins: true\n        isEnabled: true\n      }\n      storageAccountResourceId: '<storageAccountResourceId>'\n    }\n  }\n}"}
{"id": "avm_res_sql_managed-instance_example_4", "source": "avm/res/sql/managed-instance/README.md", "content_to_embed": "Recommended AVM Module for SQL Managed Instances: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Sql/managedInstances\nModule ID: br/public:avm/res/sql/managed-instance:0.4\nParameters:\nparams: {\n    // Required parameters\n    name: 'sqlmiwaf'\n    subnetResourceId: '<subnetResourceId>'\n    // Non-required parameters\n    administratorLogin: 'adminUserName'\n    administratorLoginPassword: '<administratorLoginPassword>'\n    collation: 'SQL_Latin1_General_CP1_CI_AS'\n    databases: [\n      {\n        backupLongTermRetentionPolicy: {\n          name: 'default'\n        }\n        backupShortTermRetentionPolicy: {\n          name: 'default'\n        }\n        diagnosticSettings: [\n          {\n            eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n            eventHubName: '<eventHubName>'\n            name: 'customSetting'\n            storageAccountResourceId: '<storageAccountResourceId>'\n            workspaceResourceId: '<workspaceResourceId>'\n          }\n        ]\n        name: 'sqlmiwaf-db-001'\n      }\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        logCategoriesAndGroups: [\n          {\n            categoryGroup: 'allLogs'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    dnsZonePartnerResourceId: ''\n    encryptionProtector: {\n      serverKeyName: '<serverKeyName>'\n      serverKeyType: 'AzureKeyVault'\n    }\n    hardwareFamily: 'Gen5'\n    keys: [\n      {\n        name: '<name>'\n        serverKeyType: 'AzureKeyVault'\n        uri: '<uri>'\n      }\n    ]\n    licenseType: 'LicenseIncluded'\n    maintenanceWindow: 'Custom2'\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    primaryUserAssignedIdentityResourceId: '<primaryUserAssignedIdentityResourceId>'\n    proxyOverride: 'Proxy'\n    publicDataEndpointEnabled: false\n    securityAlertPolicy: {\n      emailAccountAdmins: true\n      emailAddresses: [\n        'test1@contoso.com'\n        'test2@contoso.com'\n      ]\n      name: 'default'\n      state: 'Enabled'\n      storageAccountResourceId: '<storageAccountResourceId>'\n    }\n    servicePrincipal: 'SystemAssigned'\n    skuName: 'GP_Gen5'\n    skuTier: 'GeneralPurpose'\n    storageSizeInGB: 32\n    timezoneId: 'UTC'\n    vCores: 4\n    vulnerabilityAssessment: {\n      name: 'default'\n      recurringScans: {\n        emails: [\n          'test1@contoso.com'\n          'test2@contoso.com'\n        ]\n        emailSubscriptionAdmins: true\n        isEnabled: true\n      }\n      storageAccountResourceId: '<storageAccountResourceId>'\n    }\n  }", "bicep": "module managedInstance 'br/public:avm/res/sql/managed-instance:0.4' = {\n  name: 'managedInstanceDeployment'\n  params: {\n    // Required parameters\n    name: 'sqlmiwaf'\n    subnetResourceId: '<subnetResourceId>'\n    // Non-required parameters\n    administratorLogin: 'adminUserName'\n    administratorLoginPassword: '<administratorLoginPassword>'\n    collation: 'SQL_Latin1_General_CP1_CI_AS'\n    databases: [\n      {\n        backupLongTermRetentionPolicy: {\n          name: 'default'\n        }\n        backupShortTermRetentionPolicy: {\n          name: 'default'\n        }\n        diagnosticSettings: [\n          {\n            eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n            eventHubName: '<eventHubName>'\n            name: 'customSetting'\n            storageAccountResourceId: '<storageAccountResourceId>'\n            workspaceResourceId: '<workspaceResourceId>'\n          }\n        ]\n        name: 'sqlmiwaf-db-001'\n      }\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        logCategoriesAndGroups: [\n          {\n            categoryGroup: 'allLogs'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    dnsZonePartnerResourceId: ''\n    encryptionProtector: {\n      serverKeyName: '<serverKeyName>'\n      serverKeyType: 'AzureKeyVault'\n    }\n    hardwareFamily: 'Gen5'\n    keys: [\n      {\n        name: '<name>'\n        serverKeyType: 'AzureKeyVault'\n        uri: '<uri>'\n      }\n    ]\n    licenseType: 'LicenseIncluded'\n    maintenanceWindow: 'Custom2'\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    primaryUserAssignedIdentityResourceId: '<primaryUserAssignedIdentityResourceId>'\n    proxyOverride: 'Proxy'\n    publicDataEndpointEnabled: false\n    securityAlertPolicy: {\n      emailAccountAdmins: true\n      emailAddresses: [\n        'test1@contoso.com'\n        'test2@contoso.com'\n      ]\n      name: 'default'\n      state: 'Enabled'\n      storageAccountResourceId: '<storageAccountResourceId>'\n    }\n    servicePrincipal: 'SystemAssigned'\n    skuName: 'GP_Gen5'\n    skuTier: 'GeneralPurpose'\n    storageSizeInGB: 32\n    timezoneId: 'UTC'\n    vCores: 4\n    vulnerabilityAssessment: {\n      name: 'default'\n      recurringScans: {\n        emails: [\n          'test1@contoso.com'\n          'test2@contoso.com'\n        ]\n        emailSubscriptionAdmins: true\n        isEnabled: true\n      }\n      storageAccountResourceId: '<storageAccountResourceId>'\n    }\n  }\n}"}
{"id": "avm_res_sql_server_example_1", "source": "avm/res/sql/server/README.md", "content_to_embed": "Recommended AVM Module for Azure SQL Servers: With an administrator - This instance deploys the module with a Microsoft Entra ID identity as SQL administrator.\nResource Type Path: Microsoft.Sql/servers\nModule ID: br/public:avm/res/sql/server:0.20\nParameters:\nparams: {\n    // Required parameters\n    name: 'sqlsadmin'\n    // Non-required parameters\n    administrators: {\n      azureADOnlyAuthentication: true\n      login: 'myspn'\n      principalType: 'Application'\n      sid: '<sid>'\n    }\n    location: '<location>'\n  }", "bicep": "module server 'br/public:avm/res/sql/server:0.20' = {\n  name: 'serverDeployment'\n  params: {\n    // Required parameters\n    name: 'sqlsadmin'\n    // Non-required parameters\n    administrators: {\n      azureADOnlyAuthentication: true\n      login: 'myspn'\n      principalType: 'Application'\n      sid: '<sid>'\n    }\n    location: '<location>'\n  }\n}"}
{"id": "avm_res_sql_server_example_2", "source": "avm/res/sql/server/README.md", "content_to_embed": "Recommended AVM Module for Azure SQL Servers: With audit settings - This instance deploys the module with auditing settings.\nResource Type Path: Microsoft.Sql/servers\nModule ID: br/public:avm/res/sql/server:0.20\nParameters:\nparams: {\n    // Required parameters\n    name: 'ssaud001'\n    // Non-required parameters\n    administratorLogin: 'adminUserName'\n    administratorLoginPassword: '<administratorLoginPassword>'\n    auditSettings: {\n      isManagedIdentityInUse: true\n      state: 'Enabled'\n      storageAccountResourceId: '<storageAccountResourceId>'\n    }\n    location: '<location>'\n    managedIdentities: {\n      systemAssigned: true\n    }\n  }", "bicep": "module server 'br/public:avm/res/sql/server:0.20' = {\n  name: 'serverDeployment'\n  params: {\n    // Required parameters\n    name: 'ssaud001'\n    // Non-required parameters\n    administratorLogin: 'adminUserName'\n    administratorLoginPassword: '<administratorLoginPassword>'\n    auditSettings: {\n      isManagedIdentityInUse: true\n      state: 'Enabled'\n      storageAccountResourceId: '<storageAccountResourceId>'\n    }\n    location: '<location>'\n    managedIdentities: {\n      systemAssigned: true\n    }\n  }\n}"}
{"id": "avm_res_sql_server_example_3", "source": "avm/res/sql/server/README.md", "content_to_embed": "Recommended AVM Module for Azure SQL Servers: Using Customer-Managed-Keys with User-Assigned identity - This instance deploys the module with Customer-Managed-Keys using a User-Assigned Identity to access the key.\nResource Type Path: Microsoft.Sql/servers\nModule ID: br/public:avm/res/sql/server:0.20\nParameters:\nparams: {\n    // Required parameters\n    name: 'sscmk001'\n    // Non-required parameters\n    administrators: {\n      azureADOnlyAuthentication: true\n      login: 'myspn'\n      principalType: 'Application'\n      sid: '<sid>'\n      tenantId: '<tenantId>'\n    }\n    customerManagedKey: {\n      autoRotationEnabled: true\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n      keyVersion: '<keyVersion>'\n    }\n    databases: [\n      {\n        availabilityZone: -1\n        customerManagedKey: {\n          autoRotationEnabled: true\n          keyName: '<keyName>'\n          keyVaultResourceId: '<keyVaultResourceId>'\n          keyVersion: '<keyVersion>'\n        }\n        managedIdentities: {\n          userAssignedResourceIds: [\n            '<databaseIdentityResourceId>'\n          ]\n        }\n        maxSizeBytes: 2147483648\n        name: 'sscmk-db'\n        sku: {\n          name: 'Basic'\n          tier: 'Basic'\n        }\n        zoneRedundant: false\n      }\n    ]\n    managedIdentities: {\n      systemAssigned: false\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    primaryUserAssignedIdentityResourceId: '<primaryUserAssignedIdentityResourceId>'\n  }", "bicep": "module server 'br/public:avm/res/sql/server:0.20' = {\n  name: 'serverDeployment'\n  params: {\n    // Required parameters\n    name: 'sscmk001'\n    // Non-required parameters\n    administrators: {\n      azureADOnlyAuthentication: true\n      login: 'myspn'\n      principalType: 'Application'\n      sid: '<sid>'\n      tenantId: '<tenantId>'\n    }\n    customerManagedKey: {\n      autoRotationEnabled: true\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n      keyVersion: '<keyVersion>'\n    }\n    databases: [\n      {\n        availabilityZone: -1\n        customerManagedKey: {\n          autoRotationEnabled: true\n          keyName: '<keyName>'\n          keyVaultResourceId: '<keyVaultResourceId>'\n          keyVersion: '<keyVersion>'\n        }\n        managedIdentities: {\n          userAssignedResourceIds: [\n            '<databaseIdentityResourceId>'\n          ]\n        }\n        maxSizeBytes: 2147483648\n        name: 'sscmk-db'\n        sku: {\n          name: 'Basic'\n          tier: 'Basic'\n        }\n        zoneRedundant: false\n      }\n    ]\n    managedIdentities: {\n      systemAssigned: false\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    primaryUserAssignedIdentityResourceId: '<primaryUserAssignedIdentityResourceId>'\n  }\n}"}
{"id": "avm_res_sql_server_example_4", "source": "avm/res/sql/server/README.md", "content_to_embed": "Recommended AVM Module for Azure SQL Servers: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Sql/servers\nModule ID: br/public:avm/res/sql/server:0.20\nParameters:\nparams: {\n    // Required parameters\n    name: 'ssmin001'\n    // Non-required parameters\n    administrators: {\n      azureADOnlyAuthentication: true\n      login: '<login>'\n      principalType: 'Application'\n      sid: '<sid>'\n    }\n    location: '<location>'\n  }", "bicep": "module server 'br/public:avm/res/sql/server:0.20' = {\n  name: 'serverDeployment'\n  params: {\n    // Required parameters\n    name: 'ssmin001'\n    // Non-required parameters\n    administrators: {\n      azureADOnlyAuthentication: true\n      login: '<login>'\n      principalType: 'Application'\n      sid: '<sid>'\n    }\n    location: '<location>'\n  }\n}"}
{"id": "avm_res_sql_server_example_5", "source": "avm/res/sql/server/README.md", "content_to_embed": "Recommended AVM Module for Azure SQL Servers: Using elastic pool - This instance deploys the module with an elastic pool.\nResource Type Path: Microsoft.Sql/servers\nModule ID: br/public:avm/res/sql/server:0.20\nParameters:\nparams: {\n    // Required parameters\n    name: 'ssep001'\n    // Non-required parameters\n    administratorLogin: 'adminUserName'\n    administratorLoginPassword: '<administratorLoginPassword>'\n    elasticPools: [\n      {\n        availabilityZone: -1\n        name: 'ssep-ep-001'\n        zoneRedundant: false\n      }\n      {\n        availabilityZone: -1\n        name: 'ssep-ep-002'\n        perDatabaseSettings: {\n          maxCapacity: '4'\n          minCapacity: '0.5'\n        }\n        sku: {\n          capacity: 4\n          name: 'GP_Gen5'\n          tier: 'GeneralPurpose'\n        }\n        zoneRedundant: false\n      }\n    ]\n    location: '<location>'\n  }", "bicep": "module server 'br/public:avm/res/sql/server:0.20' = {\n  name: 'serverDeployment'\n  params: {\n    // Required parameters\n    name: 'ssep001'\n    // Non-required parameters\n    administratorLogin: 'adminUserName'\n    administratorLoginPassword: '<administratorLoginPassword>'\n    elasticPools: [\n      {\n        availabilityZone: -1\n        name: 'ssep-ep-001'\n        zoneRedundant: false\n      }\n      {\n        availabilityZone: -1\n        name: 'ssep-ep-002'\n        perDatabaseSettings: {\n          maxCapacity: '4'\n          minCapacity: '0.5'\n        }\n        sku: {\n          capacity: 4\n          name: 'GP_Gen5'\n          tier: 'GeneralPurpose'\n        }\n        zoneRedundant: false\n      }\n    ]\n    location: '<location>'\n  }\n}"}
{"id": "avm_res_sql_server_example_6", "source": "avm/res/sql/server/README.md", "content_to_embed": "Recommended AVM Module for Azure SQL Servers: Using failover groups - This instance deploys the module with failover groups.\nResource Type Path: Microsoft.Sql/servers\nModule ID: br/public:avm/res/sql/server:0.20\nParameters:\nparams: {\n    // Required parameters\n    name: 'ssfog001'\n    // Non-required parameters\n    administratorLogin: 'adminUserName'\n    administratorLoginPassword: '<administratorLoginPassword>'\n    databases: [\n      {\n        availabilityZone: -1\n        maxSizeBytes: 2147483648\n        name: 'ssfog-db1'\n        sku: {\n          name: 'S1'\n          tier: 'Standard'\n        }\n        zoneRedundant: false\n      }\n      {\n        availabilityZone: -1\n        maxSizeBytes: 2147483648\n        name: 'ssfog-db2'\n        sku: {\n          capacity: 2\n          name: 'GP_Gen5'\n          tier: 'GeneralPurpose'\n        }\n        zoneRedundant: false\n      }\n      {\n        availabilityZone: -1\n        maxSizeBytes: 2147483648\n        name: 'ssfog-db3'\n        sku: {\n          name: 'S1'\n          tier: 'Standard'\n        }\n        zoneRedundant: false\n      }\n    ]\n    failoverGroups: [\n      {\n        databases: [\n          'ssfog-db1'\n        ]\n        name: 'ssfog-fg-geo'\n        partnerServerResourceIds: [\n          '<secondaryServerResourceId>'\n        ]\n        readWriteEndpoint: {\n          failoverPolicy: 'Manual'\n        }\n        secondaryType: 'Geo'\n      }\n      {\n        databases: [\n          'ssfog-db2'\n        ]\n        name: 'ssfog-fg-standby'\n        partnerServerResourceIds: [\n          '<secondaryServerResourceId>'\n        ]\n        readWriteEndpoint: {\n          failoverPolicy: 'Automatic'\n          failoverWithDataLossGracePeriodMinutes: 60\n        }\n        secondaryType: 'Standby'\n      }\n      {\n        databases: [\n          'ssfog-db3'\n        ]\n        name: 'ssfog-fg-readonly'\n        partnerServerResourceIds: [\n          '<secondaryServerResourceId>'\n        ]\n        readOnlyEndpoint: {\n          failoverPolicy: 'Enabled'\n          targetServer: '<targetServer>'\n        }\n        readWriteEndpoint: {\n          failoverPolicy: 'Manual'\n        }\n        secondaryType: 'Geo'\n      }\n    ]\n    location: '<location>'\n  }", "bicep": "module server 'br/public:avm/res/sql/server:0.20' = {\n  name: 'serverDeployment'\n  params: {\n    // Required parameters\n    name: 'ssfog001'\n    // Non-required parameters\n    administratorLogin: 'adminUserName'\n    administratorLoginPassword: '<administratorLoginPassword>'\n    databases: [\n      {\n        availabilityZone: -1\n        maxSizeBytes: 2147483648\n        name: 'ssfog-db1'\n        sku: {\n          name: 'S1'\n          tier: 'Standard'\n        }\n        zoneRedundant: false\n      }\n      {\n        availabilityZone: -1\n        maxSizeBytes: 2147483648\n        name: 'ssfog-db2'\n        sku: {\n          capacity: 2\n          name: 'GP_Gen5'\n          tier: 'GeneralPurpose'\n        }\n        zoneRedundant: false\n      }\n      {\n        availabilityZone: -1\n        maxSizeBytes: 2147483648\n        name: 'ssfog-db3'\n        sku: {\n          name: 'S1'\n          tier: 'Standard'\n        }\n        zoneRedundant: false\n      }\n    ]\n    failoverGroups: [\n      {\n        databases: [\n          'ssfog-db1'\n        ]\n        name: 'ssfog-fg-geo'\n        partnerServerResourceIds: [\n          '<secondaryServerResourceId>'\n        ]\n        readWriteEndpoint: {\n          failoverPolicy: 'Manual'\n        }\n        secondaryType: 'Geo'\n      }\n      {\n        databases: [\n          'ssfog-db2'\n        ]\n        name: 'ssfog-fg-standby'\n        partnerServerResourceIds: [\n          '<secondaryServerResourceId>'\n        ]\n        readWriteEndpoint: {\n          failoverPolicy: 'Automatic'\n          failoverWithDataLossGracePeriodMinutes: 60\n        }\n        secondaryType: 'Standby'\n      }\n      {\n        databases: [\n          'ssfog-db3'\n        ]\n        name: 'ssfog-fg-readonly'\n        partnerServerResourceIds: [\n          '<secondaryServerResourceId>'\n        ]\n        readOnlyEndpoint: {\n          failoverPolicy: 'Enabled'\n          targetServer: '<targetServer>'\n        }\n        readWriteEndpoint: {\n          failoverPolicy: 'Manual'\n        }\n        secondaryType: 'Geo'\n      }\n    ]\n    location: '<location>'\n  }\n}"}
{"id": "avm_res_sql_server_example_7", "source": "avm/res/sql/server/README.md", "content_to_embed": "Recommended AVM Module for Azure SQL Servers: Deploying with a key vault reference to save secrets - This instance deploys the module saving all its secrets in a key vault.\nResource Type Path: Microsoft.Sql/servers\nModule ID: br/public:avm/res/sql/server:0.20\nParameters:\nparams: {\n    // Required parameters\n    name: 'sqlkvs001'\n    // Non-required parameters\n    administratorLogin: 'adminUserName'\n    administratorLoginPassword: '<administratorLoginPassword>'\n    databases: [\n      {\n        availabilityZone: -1\n        name: 'myDatabase'\n        zoneRedundant: false\n      }\n    ]\n    location: '<location>'\n    secretsExportConfiguration: {\n      keyVaultResourceId: '<keyVaultResourceId>'\n      sqlAdminPasswordSecretName: 'adminLoginPasswordKey'\n      sqlAzureConnectionStringSecretName: 'sqlConnectionStringKey'\n    }\n  }", "bicep": "module server 'br/public:avm/res/sql/server:0.20' = {\n  name: 'serverDeployment'\n  params: {\n    // Required parameters\n    name: 'sqlkvs001'\n    // Non-required parameters\n    administratorLogin: 'adminUserName'\n    administratorLoginPassword: '<administratorLoginPassword>'\n    databases: [\n      {\n        availabilityZone: -1\n        name: 'myDatabase'\n        zoneRedundant: false\n      }\n    ]\n    location: '<location>'\n    secretsExportConfiguration: {\n      keyVaultResourceId: '<keyVaultResourceId>'\n      sqlAdminPasswordSecretName: 'adminLoginPasswordKey'\n      sqlAzureConnectionStringSecretName: 'sqlConnectionStringKey'\n    }\n  }\n}"}
{"id": "avm_res_sql_server_example_8", "source": "avm/res/sql/server/README.md", "content_to_embed": "Recommended AVM Module for Azure SQL Servers: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Sql/servers\nModule ID: br/public:avm/res/sql/server:0.20\nParameters:\nparams: {\n    // Required parameters\n    name: 'sqlsmax'\n    // Non-required parameters\n    administratorLogin: 'adminUserName'\n    administratorLoginPassword: '<administratorLoginPassword>'\n    customerManagedKey: {\n      autoRotationEnabled: true\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n      keyVersion: '<keyVersion>'\n    }\n    databases: [\n      {\n        availabilityZone: -1\n        backupLongTermRetentionPolicy: {\n          monthlyRetention: 'P6M'\n        }\n        backupShortTermRetentionPolicy: {\n          retentionDays: 14\n        }\n        collation: 'SQL_Latin1_General_CP1_CI_AS'\n        customerManagedKey: {\n          autoRotationEnabled: true\n          keyName: '<keyName>'\n          keyVaultResourceId: '<keyVaultResourceId>'\n          keyVersion: '<keyVersion>'\n        }\n        diagnosticSettings: [\n          {\n            eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n            eventHubName: '<eventHubName>'\n            name: 'customSetting'\n            storageAccountResourceId: '<storageAccountResourceId>'\n            workspaceResourceId: '<workspaceResourceId>'\n          }\n        ]\n        elasticPoolResourceId: '<elasticPoolResourceId>'\n        licenseType: 'LicenseIncluded'\n        lock: {\n          kind: 'CanNotDelete'\n          name: 'myCustomLockName'\n        }\n        managedIdentities: {\n          userAssignedResourceIds: [\n            '<databaseIdentityResourceId>'\n          ]\n        }\n        maxSizeBytes: 34359738368\n        name: 'sqlsmaxdb-001'\n        sku: {\n          capacity: 0\n          name: 'ElasticPool'\n          tier: 'GeneralPurpose'\n        }\n      }\n    ]\n    elasticPools: [\n      {\n        availabilityZone: -1\n        lock: {\n          kind: 'CanNotDelete'\n          name: 'myCustomLockName'\n        }\n        name: 'sqlsmax-ep-001'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'SQL DB Contributor'\n          }\n        ]\n        sku: {\n          capacity: 10\n          name: 'GP_Gen5'\n          tier: 'GeneralPurpose'\n        }\n      }\n    ]\n    firewallRules: [\n      {\n        endIpAddress: '0.0.0.0'\n        name: 'AllowAllWindowsAzureIps'\n        startIpAddress: '0.0.0.0'\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<serverIdentityResourceId>'\n      ]\n    }\n    primaryUserAssignedIdentityResourceId: '<primaryUserAssignedIdentityResourceId>'\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    restrictOutboundNetworkAccess: 'Disabled'\n    roleAssignments: [\n      {\n        name: '7027a5c5-d1b1-49e0-80cc-ffdff3a3ada9'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    securityAlertPolicies: [\n      {\n        emailAccountAdmins: true\n        name: 'Default'\n        state: 'Enabled'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    virtualNetworkRules: [\n      {\n        ignoreMissingVnetServiceEndpoint: true\n        name: 'newVnetRule1'\n        virtualNetworkSubnetResourceId: '<virtualNetworkSubnetResourceId>'\n      }\n    ]\n    vulnerabilityAssessmentsObj: {\n      name: 'default'\n      recurringScans: {\n        emails: [\n          'test1@contoso.com'\n          'test2@contoso.com'\n        ]\n        emailSubscriptionAdmins: true\n        isEnabled: true\n      }\n      storageAccountResourceId: '<storageAccountResourceId>'\n    }\n  }", "bicep": "module server 'br/public:avm/res/sql/server:0.20' = {\n  name: 'serverDeployment'\n  params: {\n    // Required parameters\n    name: 'sqlsmax'\n    // Non-required parameters\n    administratorLogin: 'adminUserName'\n    administratorLoginPassword: '<administratorLoginPassword>'\n    customerManagedKey: {\n      autoRotationEnabled: true\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n      keyVersion: '<keyVersion>'\n    }\n    databases: [\n      {\n        availabilityZone: -1\n        backupLongTermRetentionPolicy: {\n          monthlyRetention: 'P6M'\n        }\n        backupShortTermRetentionPolicy: {\n          retentionDays: 14\n        }\n        collation: 'SQL_Latin1_General_CP1_CI_AS'\n        customerManagedKey: {\n          autoRotationEnabled: true\n          keyName: '<keyName>'\n          keyVaultResourceId: '<keyVaultResourceId>'\n          keyVersion: '<keyVersion>'\n        }\n        diagnosticSettings: [\n          {\n            eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n            eventHubName: '<eventHubName>'\n            name: 'customSetting'\n            storageAccountResourceId: '<storageAccountResourceId>'\n            workspaceResourceId: '<workspaceResourceId>'\n          }\n        ]\n        elasticPoolResourceId: '<elasticPoolResourceId>'\n        licenseType: 'LicenseIncluded'\n        lock: {\n          kind: 'CanNotDelete'\n          name: 'myCustomLockName'\n        }\n        managedIdentities: {\n          userAssignedResourceIds: [\n            '<databaseIdentityResourceId>'\n          ]\n        }\n        maxSizeBytes: 34359738368\n        name: 'sqlsmaxdb-001'\n        sku: {\n          capacity: 0\n          name: 'ElasticPool'\n          tier: 'GeneralPurpose'\n        }\n      }\n    ]\n    elasticPools: [\n      {\n        availabilityZone: -1\n        lock: {\n          kind: 'CanNotDelete'\n          name: 'myCustomLockName'\n        }\n        name: 'sqlsmax-ep-001'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'SQL DB Contributor'\n          }\n        ]\n        sku: {\n          capacity: 10\n          name: 'GP_Gen5'\n          tier: 'GeneralPurpose'\n        }\n      }\n    ]\n    firewallRules: [\n      {\n        endIpAddress: '0.0.0.0'\n        name: 'AllowAllWindowsAzureIps'\n        startIpAddress: '0.0.0.0'\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<serverIdentityResourceId>'\n      ]\n    }\n    primaryUserAssignedIdentityResourceId: '<primaryUserAssignedIdentityResourceId>'\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    restrictOutboundNetworkAccess: 'Disabled'\n    roleAssignments: [\n      {\n        name: '7027a5c5-d1b1-49e0-80cc-ffdff3a3ada9'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    securityAlertPolicies: [\n      {\n        emailAccountAdmins: true\n        name: 'Default'\n        state: 'Enabled'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    virtualNetworkRules: [\n      {\n        ignoreMissingVnetServiceEndpoint: true\n        name: 'newVnetRule1'\n        virtualNetworkSubnetResourceId: '<virtualNetworkSubnetResourceId>'\n      }\n    ]\n    vulnerabilityAssessmentsObj: {\n      name: 'default'\n      recurringScans: {\n        emails: [\n          'test1@contoso.com'\n          'test2@contoso.com'\n        ]\n        emailSubscriptionAdmins: true\n        isEnabled: true\n      }\n      storageAccountResourceId: '<storageAccountResourceId>'\n    }\n  }\n}"}
{"id": "avm_res_sql_server_example_9", "source": "avm/res/sql/server/README.md", "content_to_embed": "Recommended AVM Module for Azure SQL Servers: With a secondary database - This instance deploys the module with a secondary database.\nResource Type Path: Microsoft.Sql/servers\nModule ID: br/public:avm/res/sql/server:0.20\nParameters:\nparams: {\n    // Required parameters\n    name: 'sqlsec-sec'\n    // Non-required parameters\n    administratorLogin: 'adminUserName'\n    administratorLoginPassword: '<administratorLoginPassword>'\n    databases: [\n      {\n        availabilityZone: -1\n        createMode: 'Secondary'\n        maxSizeBytes: 2147483648\n        name: '<name>'\n        sku: {\n          name: 'Basic'\n          tier: 'Basic'\n        }\n        sourceDatabaseResourceId: '<sourceDatabaseResourceId>'\n        zoneRedundant: false\n      }\n    ]\n    location: '<location>'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module server 'br/public:avm/res/sql/server:0.20' = {\n  name: 'serverDeployment'\n  params: {\n    // Required parameters\n    name: 'sqlsec-sec'\n    // Non-required parameters\n    administratorLogin: 'adminUserName'\n    administratorLoginPassword: '<administratorLoginPassword>'\n    databases: [\n      {\n        availabilityZone: -1\n        createMode: 'Secondary'\n        maxSizeBytes: 2147483648\n        name: '<name>'\n        sku: {\n          name: 'Basic'\n          tier: 'Basic'\n        }\n        sourceDatabaseResourceId: '<sourceDatabaseResourceId>'\n        zoneRedundant: false\n      }\n    ]\n    location: '<location>'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_sql_server_example_10", "source": "avm/res/sql/server/README.md", "content_to_embed": "Recommended AVM Module for Azure SQL Servers: With vulnerability assessment - This instance deploys the module with a vulnerability assessment.\nResource Type Path: Microsoft.Sql/servers\nModule ID: br/public:avm/res/sql/server:0.20\nParameters:\nparams: {\n    // Required parameters\n    name: 'sqlsvln'\n    // Non-required parameters\n    administratorLogin: 'adminUserName'\n    administratorLoginPassword: '<administratorLoginPassword>'\n    location: '<location>'\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    primaryUserAssignedIdentityResourceId: '<primaryUserAssignedIdentityResourceId>'\n    securityAlertPolicies: [\n      {\n        emailAccountAdmins: true\n        name: 'Default'\n        state: 'Enabled'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    vulnerabilityAssessmentsObj: {\n      createStorageRoleAssignment: true\n      name: 'default'\n      recurringScans: {\n        emails: [\n          'test1@contoso.com'\n          'test2@contoso.com'\n        ]\n        emailSubscriptionAdmins: true\n        isEnabled: true\n      }\n      storageAccountResourceId: '<storageAccountResourceId>'\n      useStorageAccountAccessKey: false\n    }\n  }", "bicep": "module server 'br/public:avm/res/sql/server:0.20' = {\n  name: 'serverDeployment'\n  params: {\n    // Required parameters\n    name: 'sqlsvln'\n    // Non-required parameters\n    administratorLogin: 'adminUserName'\n    administratorLoginPassword: '<administratorLoginPassword>'\n    location: '<location>'\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    primaryUserAssignedIdentityResourceId: '<primaryUserAssignedIdentityResourceId>'\n    securityAlertPolicies: [\n      {\n        emailAccountAdmins: true\n        name: 'Default'\n        state: 'Enabled'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    vulnerabilityAssessmentsObj: {\n      createStorageRoleAssignment: true\n      name: 'default'\n      recurringScans: {\n        emails: [\n          'test1@contoso.com'\n          'test2@contoso.com'\n        ]\n        emailSubscriptionAdmins: true\n        isEnabled: true\n      }\n      storageAccountResourceId: '<storageAccountResourceId>'\n      useStorageAccountAccessKey: false\n    }\n  }\n}"}
{"id": "avm_res_sql_server_example_11", "source": "avm/res/sql/server/README.md", "content_to_embed": "Recommended AVM Module for Azure SQL Servers: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Sql/servers\nModule ID: br/public:avm/res/sql/server:0.20\nParameters:\nparams: {\n    // Required parameters\n    name: 'sqlswaf'\n    // Non-required parameters\n    administrators: {\n      azureADOnlyAuthentication: true\n      login: 'myspn'\n      principalType: 'Application'\n      sid: '<sid>'\n      tenantId: '<tenantId>'\n    }\n    connectionPolicy: 'Redirect'\n    customerManagedKey: {\n      autoRotationEnabled: true\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n      keyVersion: '<keyVersion>'\n    }\n    databases: [\n      {\n        availabilityZone: 1\n        backupLongTermRetentionPolicy: {\n          monthlyRetention: 'P6M'\n        }\n        backupShortTermRetentionPolicy: {\n          retentionDays: 14\n        }\n        collation: 'SQL_Latin1_General_CP1_CI_AS'\n        diagnosticSettings: [\n          {\n            eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n            eventHubName: '<eventHubName>'\n            name: 'customSetting'\n            storageAccountResourceId: '<storageAccountResourceId>'\n            workspaceResourceId: '<workspaceResourceId>'\n          }\n        ]\n        elasticPoolResourceId: '<elasticPoolResourceId>'\n        licenseType: 'LicenseIncluded'\n        maxSizeBytes: 34359738368\n        name: 'sqlswafdb-001'\n        sku: {\n          capacity: 0\n          name: 'ElasticPool'\n          tier: 'GeneralPurpose'\n        }\n      }\n    ]\n    elasticPools: [\n      {\n        availabilityZone: -1\n        maintenanceConfigurationId: '<maintenanceConfigurationId>'\n        name: 'sqlswaf-ep-001'\n        sku: {\n          capacity: 10\n          name: 'GP_Gen5'\n          tier: 'GeneralPurpose'\n        }\n      }\n    ]\n    location: '<location>'\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    primaryUserAssignedIdentityResourceId: '<primaryUserAssignedIdentityResourceId>'\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'sqlServer'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n    ]\n    restrictOutboundNetworkAccess: 'Disabled'\n    securityAlertPolicies: [\n      {\n        emailAccountAdmins: true\n        name: 'Default'\n        state: 'Enabled'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    virtualNetworkRules: [\n      {\n        ignoreMissingVnetServiceEndpoint: true\n        name: 'newVnetRule1'\n        virtualNetworkSubnetResourceId: '<virtualNetworkSubnetResourceId>'\n      }\n    ]\n    vulnerabilityAssessmentsObj: {\n      name: 'default'\n      recurringScans: {\n        emails: [\n          'test1@contoso.com'\n          'test2@contoso.com'\n        ]\n        emailSubscriptionAdmins: true\n        isEnabled: true\n      }\n      storageAccountResourceId: '<storageAccountResourceId>'\n    }\n  }", "bicep": "module server 'br/public:avm/res/sql/server:0.20' = {\n  name: 'serverDeployment'\n  params: {\n    // Required parameters\n    name: 'sqlswaf'\n    // Non-required parameters\n    administrators: {\n      azureADOnlyAuthentication: true\n      login: 'myspn'\n      principalType: 'Application'\n      sid: '<sid>'\n      tenantId: '<tenantId>'\n    }\n    connectionPolicy: 'Redirect'\n    customerManagedKey: {\n      autoRotationEnabled: true\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n      keyVersion: '<keyVersion>'\n    }\n    databases: [\n      {\n        availabilityZone: 1\n        backupLongTermRetentionPolicy: {\n          monthlyRetention: 'P6M'\n        }\n        backupShortTermRetentionPolicy: {\n          retentionDays: 14\n        }\n        collation: 'SQL_Latin1_General_CP1_CI_AS'\n        diagnosticSettings: [\n          {\n            eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n            eventHubName: '<eventHubName>'\n            name: 'customSetting'\n            storageAccountResourceId: '<storageAccountResourceId>'\n            workspaceResourceId: '<workspaceResourceId>'\n          }\n        ]\n        elasticPoolResourceId: '<elasticPoolResourceId>'\n        licenseType: 'LicenseIncluded'\n        maxSizeBytes: 34359738368\n        name: 'sqlswafdb-001'\n        sku: {\n          capacity: 0\n          name: 'ElasticPool'\n          tier: 'GeneralPurpose'\n        }\n      }\n    ]\n    elasticPools: [\n      {\n        availabilityZone: -1\n        maintenanceConfigurationId: '<maintenanceConfigurationId>'\n        name: 'sqlswaf-ep-001'\n        sku: {\n          capacity: 10\n          name: 'GP_Gen5'\n          tier: 'GeneralPurpose'\n        }\n      }\n    ]\n    location: '<location>'\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    primaryUserAssignedIdentityResourceId: '<primaryUserAssignedIdentityResourceId>'\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'sqlServer'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n    ]\n    restrictOutboundNetworkAccess: 'Disabled'\n    securityAlertPolicies: [\n      {\n        emailAccountAdmins: true\n        name: 'Default'\n        state: 'Enabled'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    virtualNetworkRules: [\n      {\n        ignoreMissingVnetServiceEndpoint: true\n        name: 'newVnetRule1'\n        virtualNetworkSubnetResourceId: '<virtualNetworkSubnetResourceId>'\n      }\n    ]\n    vulnerabilityAssessmentsObj: {\n      name: 'default'\n      recurringScans: {\n        emails: [\n          'test1@contoso.com'\n          'test2@contoso.com'\n        ]\n        emailSubscriptionAdmins: true\n        isEnabled: true\n      }\n      storageAccountResourceId: '<storageAccountResourceId>'\n    }\n  }\n}"}
{"id": "avm_res_storage_storage-account_example_1", "source": "avm/res/storage/storage-account/README.md", "content_to_embed": "Recommended AVM Module for Storage Accounts: Deploying as a Blob Storage - This instance deploys the module as a Blob Storage account.\nResource Type Path: Microsoft.Storage/storageAccounts\nModule ID: br/public:avm/res/storage/storage-account:0.29\nParameters:\nparams: {\n    // Required parameters\n    name: 'ssablob001'\n    // Non-required parameters\n    kind: 'BlobStorage'\n    skuName: 'Standard_LRS'\n  }", "bicep": "module storageAccount 'br/public:avm/res/storage/storage-account:0.29' = {\n  name: 'storageAccountDeployment'\n  params: {\n    // Required parameters\n    name: 'ssablob001'\n    // Non-required parameters\n    kind: 'BlobStorage'\n    skuName: 'Standard_LRS'\n  }\n}"}
{"id": "avm_res_storage_storage-account_example_2", "source": "avm/res/storage/storage-account/README.md", "content_to_embed": "Recommended AVM Module for Storage Accounts: Deploying as a Block Blob Storage - This instance deploys the module as a Premium Block Blob Storage account.\nResource Type Path: Microsoft.Storage/storageAccounts\nModule ID: br/public:avm/res/storage/storage-account:0.29\nParameters:\nparams: {\n    // Required parameters\n    name: 'ssablock001'\n    // Non-required parameters\n    kind: 'BlockBlobStorage'\n    skuName: 'Premium_LRS'\n  }", "bicep": "module storageAccount 'br/public:avm/res/storage/storage-account:0.29' = {\n  name: 'storageAccountDeployment'\n  params: {\n    // Required parameters\n    name: 'ssablock001'\n    // Non-required parameters\n    kind: 'BlockBlobStorage'\n    skuName: 'Premium_LRS'\n  }\n}"}
{"id": "avm_res_storage_storage-account_example_3", "source": "avm/res/storage/storage-account/README.md", "content_to_embed": "Recommended AVM Module for Storage Accounts: Using only changefeed configuration - This instance deploys the module with the minimum set of required parameters for the changefeed configuration.\nResource Type Path: Microsoft.Storage/storageAccounts\nModule ID: br/public:avm/res/storage/storage-account:0.29\nParameters:\nparams: {\n    // Required parameters\n    name: 'ssachf001'\n    // Non-required parameters\n    allowBlobPublicAccess: false\n    blobServices: {\n      changeFeedEnabled: true\n    }\n  }", "bicep": "module storageAccount 'br/public:avm/res/storage/storage-account:0.29' = {\n  name: 'storageAccountDeployment'\n  params: {\n    // Required parameters\n    name: 'ssachf001'\n    // Non-required parameters\n    allowBlobPublicAccess: false\n    blobServices: {\n      changeFeedEnabled: true\n    }\n  }\n}"}
{"id": "avm_res_storage_storage-account_example_4", "source": "avm/res/storage/storage-account/README.md", "content_to_embed": "Recommended AVM Module for Storage Accounts: Using managed HSM Customer-Managed-Keys with User-Assigned identity - This instance deploys the module with Managed HSM-based Customer Managed Key (CMK) encryption, using a User-Assigned Managed Identity to access the HSM key.\nResource Type Path: Microsoft.Storage/storageAccounts\nModule ID: br/public:avm/res/storage/storage-account:0.29\nParameters:\nparams: {\n    // Required parameters\n    name: 'ssauhsm001'\n    // Non-required parameters\n    blobServices: {\n      containers: [\n        {\n          name: 'container'\n          publicAccess: 'None'\n        }\n      ]\n    }\n    customerManagedKey: {\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n      userAssignedIdentityResourceId: '<userAssignedIdentityResourceId>'\n    }\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n  }", "bicep": "module storageAccount 'br/public:avm/res/storage/storage-account:0.29' = {\n  name: 'storageAccountDeployment'\n  params: {\n    // Required parameters\n    name: 'ssauhsm001'\n    // Non-required parameters\n    blobServices: {\n      containers: [\n        {\n          name: 'container'\n          publicAccess: 'None'\n        }\n      ]\n    }\n    customerManagedKey: {\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n      userAssignedIdentityResourceId: '<userAssignedIdentityResourceId>'\n    }\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n  }\n}"}
{"id": "avm_res_storage_storage-account_example_5", "source": "avm/res/storage/storage-account/README.md", "content_to_embed": "Recommended AVM Module for Storage Accounts: Using Customer-Managed-Keys with System-Assigned identity - This instance deploys the module using Customer-Managed-Keys using a System-Assigned Identity. This required the service to be deployed twice, once as a pre-requisite to create the System-Assigned Identity, and once to use it for accessing the Customer-Managed-Key secret.\nResource Type Path: Microsoft.Storage/storageAccounts\nModule ID: br/public:avm/res/storage/storage-account:0.29\nParameters:\nparams: {\n    // Required parameters\n    name: '<name>'\n    // Non-required parameters\n    blobServices: {\n      containers: [\n        {\n          name: 'container'\n          publicAccess: 'None'\n        }\n      ]\n    }\n    customerManagedKey: {\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n    }\n    managedIdentities: {\n      systemAssigned: true\n    }\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'blob'\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n  }", "bicep": "module storageAccount 'br/public:avm/res/storage/storage-account:0.29' = {\n  name: 'storageAccountDeployment'\n  params: {\n    // Required parameters\n    name: '<name>'\n    // Non-required parameters\n    blobServices: {\n      containers: [\n        {\n          name: 'container'\n          publicAccess: 'None'\n        }\n      ]\n    }\n    customerManagedKey: {\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n    }\n    managedIdentities: {\n      systemAssigned: true\n    }\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'blob'\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n  }\n}"}
{"id": "avm_res_storage_storage-account_example_6", "source": "avm/res/storage/storage-account/README.md", "content_to_embed": "Recommended AVM Module for Storage Accounts: Using Customer-Managed-Keys with User-Assigned identity - This instance deploys the module using Customer-Managed-Keys using a User-Assigned Identity to access the Customer-Managed-Key secret.\nResource Type Path: Microsoft.Storage/storageAccounts\nModule ID: br/public:avm/res/storage/storage-account:0.29\nParameters:\nparams: {\n    // Required parameters\n    name: 'ssauacr001'\n    // Non-required parameters\n    blobServices: {\n      containers: [\n        {\n          name: 'container'\n          publicAccess: 'None'\n        }\n      ]\n    }\n    customerManagedKey: {\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n      userAssignedIdentityResourceId: '<userAssignedIdentityResourceId>'\n    }\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    networkAcls: {\n      bypass: 'AzureServices'\n      defaultAction: 'Deny'\n    }\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'blob'\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n  }", "bicep": "module storageAccount 'br/public:avm/res/storage/storage-account:0.29' = {\n  name: 'storageAccountDeployment'\n  params: {\n    // Required parameters\n    name: 'ssauacr001'\n    // Non-required parameters\n    blobServices: {\n      containers: [\n        {\n          name: 'container'\n          publicAccess: 'None'\n        }\n      ]\n    }\n    customerManagedKey: {\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n      userAssignedIdentityResourceId: '<userAssignedIdentityResourceId>'\n    }\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    networkAcls: {\n      bypass: 'AzureServices'\n      defaultAction: 'Deny'\n    }\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'blob'\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n  }\n}"}
{"id": "avm_res_storage_storage-account_example_7", "source": "avm/res/storage/storage-account/README.md", "content_to_embed": "Recommended AVM Module for Storage Accounts: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Storage/storageAccounts\nModule ID: br/public:avm/res/storage/storage-account:0.29\nParameters:\nparams: {\n    // Required parameters\n    name: 'ssamin001'\n    // Non-required parameters\n    allowBlobPublicAccess: false\n    networkAcls: {\n      bypass: 'AzureServices'\n      defaultAction: 'Deny'\n    }\n  }", "bicep": "module storageAccount 'br/public:avm/res/storage/storage-account:0.29' = {\n  name: 'storageAccountDeployment'\n  params: {\n    // Required parameters\n    name: 'ssamin001'\n    // Non-required parameters\n    allowBlobPublicAccess: false\n    networkAcls: {\n      bypass: 'AzureServices'\n      defaultAction: 'Deny'\n    }\n  }\n}"}
{"id": "avm_res_storage_storage-account_example_8", "source": "avm/res/storage/storage-account/README.md", "content_to_embed": "Recommended AVM Module for Storage Accounts: Using extended zones - This instance deploys the module within an Azure Extended Zone.\nResource Type Path: Microsoft.Storage/storageAccounts\nModule ID: br/public:avm/res/storage/storage-account:0.29\nParameters:\nparams: {\n    // Required parameters\n    name: 'ssaexzn001'\n    // Non-required parameters\n    allowBlobPublicAccess: false\n    extendedLocationZone: '<extendedLocationZone>'\n    kind: 'StorageV2'\n    location: '<location>'\n    skuName: 'Premium_LRS'\n  }", "bicep": "module storageAccount 'br/public:avm/res/storage/storage-account:0.29' = {\n  name: 'storageAccountDeployment'\n  params: {\n    // Required parameters\n    name: 'ssaexzn001'\n    // Non-required parameters\n    allowBlobPublicAccess: false\n    extendedLocationZone: '<extendedLocationZone>'\n    kind: 'StorageV2'\n    location: '<location>'\n    skuName: 'Premium_LRS'\n  }\n}"}
{"id": "avm_res_storage_storage-account_example_9", "source": "avm/res/storage/storage-account/README.md", "content_to_embed": "Recommended AVM Module for Storage Accounts: With immutability policy - This instance deploys the module with the immutability policy enabled.\nResource Type Path: Microsoft.Storage/storageAccounts\nModule ID: br/public:avm/res/storage/storage-account:0.29\nParameters:\nparams: {\n    // Required parameters\n    name: 'ssaim001'\n    // Non-required parameters\n    allowBlobPublicAccess: false\n    blobServices: {\n      containers: [\n        {\n          immutabilityPolicy: {\n            allowProtectedAppendWrites: false\n          }\n          immutableStorageWithVersioningEnabled: true\n          metadata: {\n            testKey: 'testValue'\n          }\n          name: 'archivecontainer'\n          publicAccess: 'None'\n        }\n      ]\n      isVersioningEnabled: true\n    }\n    immutableStorageWithVersioning: {\n      enabled: true\n      immutabilityPolicy: {\n        allowProtectedAppendWrites: true\n        immutabilityPeriodSinceCreationInDays: 7\n        state: 'Unlocked'\n      }\n    }\n    networkAcls: {\n      bypass: 'AzureServices'\n      defaultAction: 'Deny'\n    }\n  }", "bicep": "module storageAccount 'br/public:avm/res/storage/storage-account:0.29' = {\n  name: 'storageAccountDeployment'\n  params: {\n    // Required parameters\n    name: 'ssaim001'\n    // Non-required parameters\n    allowBlobPublicAccess: false\n    blobServices: {\n      containers: [\n        {\n          immutabilityPolicy: {\n            allowProtectedAppendWrites: false\n          }\n          immutableStorageWithVersioningEnabled: true\n          metadata: {\n            testKey: 'testValue'\n          }\n          name: 'archivecontainer'\n          publicAccess: 'None'\n        }\n      ]\n      isVersioningEnabled: true\n    }\n    immutableStorageWithVersioning: {\n      enabled: true\n      immutabilityPolicy: {\n        allowProtectedAppendWrites: true\n        immutabilityPeriodSinceCreationInDays: 7\n        state: 'Unlocked'\n      }\n    }\n    networkAcls: {\n      bypass: 'AzureServices'\n      defaultAction: 'Deny'\n    }\n  }\n}"}
{"id": "avm_res_storage_storage-account_example_10", "source": "avm/res/storage/storage-account/README.md", "content_to_embed": "Recommended AVM Module for Storage Accounts: Deploying with a key vault reference to save secrets - This instance deploys the module saving all its secrets in a key vault.\nResource Type Path: Microsoft.Storage/storageAccounts\nModule ID: br/public:avm/res/storage/storage-account:0.29\nParameters:\nparams: {\n    // Required parameters\n    name: 'kvref'\n    // Non-required parameters\n    secretsExportConfiguration: {\n      accessKey1Name: 'custom-key1-name'\n      accessKey2Name: 'custom-key2-name'\n      connectionString1Name: 'custom-connectionString1-name'\n      connectionString2Name: 'custom-connectionString2-name'\n      keyVaultResourceId: '<keyVaultResourceId>'\n    }\n  }", "bicep": "module storageAccount 'br/public:avm/res/storage/storage-account:0.29' = {\n  name: 'storageAccountDeployment'\n  params: {\n    // Required parameters\n    name: 'kvref'\n    // Non-required parameters\n    secretsExportConfiguration: {\n      accessKey1Name: 'custom-key1-name'\n      accessKey2Name: 'custom-key2-name'\n      connectionString1Name: 'custom-connectionString1-name'\n      connectionString2Name: 'custom-connectionString2-name'\n      keyVaultResourceId: '<keyVaultResourceId>'\n    }\n  }\n}"}
{"id": "avm_res_storage_storage-account_example_11", "source": "avm/res/storage/storage-account/README.md", "content_to_embed": "Recommended AVM Module for Storage Accounts: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Storage/storageAccounts\nModule ID: br/public:avm/res/storage/storage-account:0.29\nParameters:\nparams: {\n    // Required parameters\n    name: 'ssamax001'\n    // Non-required parameters\n    allowBlobPublicAccess: false\n    blobServices: {\n      automaticSnapshotPolicyEnabled: true\n      containerDeleteRetentionPolicyDays: 10\n      containerDeleteRetentionPolicyEnabled: true\n      containers: [\n        {\n          enableNfsV3AllSquash: true\n          enableNfsV3RootSquash: true\n          name: 'avdscripts'\n          publicAccess: 'None'\n          roleAssignments: [\n            {\n              principalId: '<principalId>'\n              principalType: 'ServicePrincipal'\n              roleDefinitionIdOrName: 'Owner'\n            }\n            {\n              principalId: '<principalId>'\n              principalType: 'ServicePrincipal'\n              roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n            }\n            {\n              principalId: '<principalId>'\n              principalType: 'ServicePrincipal'\n              roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n            }\n          ]\n        }\n        {\n          metadata: {\n            testKey: 'testValue'\n          }\n          name: 'archivecontainer'\n          publicAccess: 'None'\n        }\n      ]\n      corsRules: [\n        {\n          allowedHeaders: [\n            'x-ms-meta-data'\n            'x-ms-meta-source-path'\n            'x-ms-meta-target-path'\n          ]\n          allowedMethods: [\n            'GET'\n            'PUT'\n          ]\n          allowedOrigins: [\n            'http://*.contoso.com'\n            'http://www.fabrikam.com'\n          ]\n          exposedHeaders: [\n            'x-ms-meta-data'\n            'x-ms-meta-source-path'\n            'x-ms-meta-target-path'\n          ]\n          maxAgeInSeconds: 200\n        }\n      ]\n      deleteRetentionPolicyDays: 9\n      deleteRetentionPolicyEnabled: true\n      diagnosticSettings: [\n        {\n          eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n          eventHubName: '<eventHubName>'\n          metricCategories: [\n            {\n              category: 'AllMetrics'\n            }\n          ]\n          name: 'customSetting'\n          storageAccountResourceId: '<storageAccountResourceId>'\n          workspaceResourceId: '<workspaceResourceId>'\n        }\n      ]\n      isVersioningEnabled: false\n      lastAccessTimeTrackingPolicyEnabled: true\n      versionDeletePolicyDays: 3\n    }\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    enableHierarchicalNamespace: true\n    enableNfsV3: true\n    enableSftp: true\n    fileServices: {\n      corsRules: [\n        {\n          allowedHeaders: [\n            'x-ms-meta-data'\n            'x-ms-meta-source-path'\n            'x-ms-meta-target-path'\n          ]\n          allowedMethods: [\n            'GET'\n            'PUT'\n          ]\n          allowedOrigins: [\n            'http://*.contoso.com'\n            'http://www.fabrikam.com'\n          ]\n          exposedHeaders: [\n            'x-ms-meta-data'\n            'x-ms-meta-source-path'\n            'x-ms-meta-target-path'\n          ]\n          maxAgeInSeconds: 200\n        }\n      ]\n      diagnosticSettings: [\n        {\n          eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n          eventHubName: '<eventHubName>'\n          metricCategories: [\n            {\n              category: 'AllMetrics'\n            }\n          ]\n          name: 'customSetting'\n          storageAccountResourceId: '<storageAccountResourceId>'\n          workspaceResourceId: '<workspaceResourceId>'\n        }\n      ]\n      shares: [\n        {\n          accessTier: 'Hot'\n          name: 'avdprofiles'\n          roleAssignments: [\n            {\n              name: 'cff1213b-7877-4425-b67c-bb1de8950dfb'\n              principalId: '<principalId>'\n              principalType: 'ServicePrincipal'\n              roleDefinitionIdOrName: 'Owner'\n            }\n            {\n              name: '<name>'\n              principalId: '<principalId>'\n              principalType: 'ServicePrincipal'\n              roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n            }\n            {\n              principalId: '<principalId>'\n              principalType: 'ServicePrincipal'\n              roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n            }\n          ]\n          shareQuota: 5120\n        }\n        {\n          name: 'avdprofiles2'\n          shareQuota: 102400\n        }\n      ]\n    }\n    largeFileSharesState: 'Enabled'\n    localUsers: [\n      {\n        hasSharedKey: false\n        hasSshKey: true\n        hasSshPassword: false\n        homeDirectory: 'avdscripts'\n        name: 'testuser'\n        permissionScopes: [\n          {\n            permissions: 'r'\n            resourceName: 'avdscripts'\n            service: 'blob'\n          }\n        ]\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n      notes: 'This is a custom lock note.'\n    }\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    managementPolicyRules: [\n      {\n        definition: {\n          actions: {\n            baseBlob: {\n              delete: {\n                daysAfterModificationGreaterThan: 30\n              }\n              tierToCool: {\n                daysAfterLastAccessTimeGreaterThan: 5\n              }\n            }\n          }\n          filters: {\n            blobIndexMatch: [\n              {\n                name: 'BlobIndex'\n                op: '=='\n                value: '1'\n              }\n            ]\n            blobTypes: [\n              'blockBlob'\n            ]\n            prefixMatch: [\n              'sample-container/log'\n            ]\n          }\n        }\n        enabled: true\n        name: 'FirstRule'\n        type: 'Lifecycle'\n      }\n    ]\n    networkAcls: {\n      bypass: 'AzureServices'\n      defaultAction: 'Deny'\n      ipRules: [\n        {\n          action: 'Allow'\n          value: '1.1.1.1'\n        }\n      ]\n      resourceAccessRules: [\n        {\n          resourceId: '<resourceId>'\n          tenantId: '<tenantId>'\n        }\n      ]\n      virtualNetworkRules: [\n        {\n          action: 'Allow'\n          id: '<id>'\n        }\n      ]\n    }\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'blob'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'blob'\n        subnetResourceId: '<subnetResourceId>'\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'table'\n        subnetResourceId: '<subnetResourceId>'\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'queue'\n        subnetResourceId: '<subnetResourceId>'\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'file'\n        subnetResourceId: '<subnetResourceId>'\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'web'\n        subnetResourceId: '<subnetResourceId>'\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'dfs'\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    queueServices: {\n      corsRules: [\n        {\n          allowedHeaders: [\n            'x-ms-meta-data'\n            'x-ms-meta-source-path'\n            'x-ms-meta-target-path'\n          ]\n          allowedMethods: [\n            'GET'\n            'PUT'\n          ]\n          allowedOrigins: [\n            'http://*.contoso.com'\n            'http://www.fabrikam.com'\n          ]\n          exposedHeaders: [\n            'x-ms-meta-data'\n            'x-ms-meta-source-path'\n            'x-ms-meta-target-path'\n          ]\n          maxAgeInSeconds: 200\n        }\n      ]\n      diagnosticSettings: [\n        {\n          eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n          eventHubName: '<eventHubName>'\n          metricCategories: [\n            {\n              category: 'AllMetrics'\n            }\n          ]\n          name: 'customSetting'\n          storageAccountResourceId: '<storageAccountResourceId>'\n          workspaceResourceId: '<workspaceResourceId>'\n        }\n      ]\n      queues: [\n        {\n          metadata: {\n            key1: 'value1'\n            key2: 'value2'\n          }\n          name: 'queue1'\n          roleAssignments: [\n            {\n              principalId: '<principalId>'\n              principalType: 'ServicePrincipal'\n              roleDefinitionIdOrName: 'Owner'\n            }\n            {\n              principalId: '<principalId>'\n              principalType: 'ServicePrincipal'\n              roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n            }\n            {\n              principalId: '<principalId>'\n              principalType: 'ServicePrincipal'\n              roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n            }\n          ]\n        }\n        {\n          metadata: {}\n          name: 'queue2'\n        }\n      ]\n    }\n    requireInfrastructureEncryption: true\n    roleAssignments: [\n      {\n        name: '30b99723-a3d8-4e31-8872-b80c960d62bd'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    sasExpirationPeriod: '180.00:00:00'\n    skuName: 'Standard_LRS'\n    tableServices: {\n      corsRules: [\n        {\n          allowedHeaders: [\n            'x-ms-meta-data'\n            'x-ms-meta-source-path'\n            'x-ms-meta-target-path'\n          ]\n          allowedMethods: [\n            'GET'\n            'PUT'\n          ]\n          allowedOrigins: [\n            'http://*.contoso.com'\n            'http://www.fabrikam.com'\n          ]\n          exposedHeaders: [\n            'x-ms-meta-data'\n            'x-ms-meta-source-path'\n            'x-ms-meta-target-path'\n          ]\n          maxAgeInSeconds: 200\n        }\n      ]\n      diagnosticSettings: [\n        {\n          eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n          eventHubName: '<eventHubName>'\n          metricCategories: [\n            {\n              category: 'AllMetrics'\n            }\n          ]\n          name: 'customSetting'\n          storageAccountResourceId: '<storageAccountResourceId>'\n          workspaceResourceId: '<workspaceResourceId>'\n        }\n      ]\n      tables: [\n        {\n          name: 'table1'\n          roleAssignments: [\n            {\n              principalId: '<principalId>'\n              principalType: 'ServicePrincipal'\n              roleDefinitionIdOrName: 'Owner'\n            }\n            {\n              principalId: '<principalId>'\n              principalType: 'ServicePrincipal'\n              roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n            }\n            {\n              principalId: '<principalId>'\n              principalType: 'ServicePrincipal'\n              roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n            }\n          ]\n        }\n        {\n          name: 'table2'\n          roleAssignments: [\n            {\n              principalId: '<principalId>'\n              principalType: 'ServicePrincipal'\n              roleDefinitionIdOrName: 'Owner'\n            }\n            {\n              principalId: '<principalId>'\n              principalType: 'ServicePrincipal'\n              roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n            }\n            {\n              principalId: '<principalId>'\n              principalType: 'ServicePrincipal'\n              roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n            }\n          ]\n        }\n      ]\n    }\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module storageAccount 'br/public:avm/res/storage/storage-account:0.29' = {\n  name: 'storageAccountDeployment'\n  params: {\n    // Required parameters\n    name: 'ssamax001'\n    // Non-required parameters\n    allowBlobPublicAccess: false\n    blobServices: {\n      automaticSnapshotPolicyEnabled: true\n      containerDeleteRetentionPolicyDays: 10\n      containerDeleteRetentionPolicyEnabled: true\n      containers: [\n        {\n          enableNfsV3AllSquash: true\n          enableNfsV3RootSquash: true\n          name: 'avdscripts'\n          publicAccess: 'None'\n          roleAssignments: [\n            {\n              principalId: '<principalId>'\n              principalType: 'ServicePrincipal'\n              roleDefinitionIdOrName: 'Owner'\n            }\n            {\n              principalId: '<principalId>'\n              principalType: 'ServicePrincipal'\n              roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n            }\n            {\n              principalId: '<principalId>'\n              principalType: 'ServicePrincipal'\n              roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n            }\n          ]\n        }\n        {\n          metadata: {\n            testKey: 'testValue'\n          }\n          name: 'archivecontainer'\n          publicAccess: 'None'\n        }\n      ]\n      corsRules: [\n        {\n          allowedHeaders: [\n            'x-ms-meta-data'\n            'x-ms-meta-source-path'\n            'x-ms-meta-target-path'\n          ]\n          allowedMethods: [\n            'GET'\n            'PUT'\n          ]\n          allowedOrigins: [\n            'http://*.contoso.com'\n            'http://www.fabrikam.com'\n          ]\n          exposedHeaders: [\n            'x-ms-meta-data'\n            'x-ms-meta-source-path'\n            'x-ms-meta-target-path'\n          ]\n          maxAgeInSeconds: 200\n        }\n      ]\n      deleteRetentionPolicyDays: 9\n      deleteRetentionPolicyEnabled: true\n      diagnosticSettings: [\n        {\n          eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n          eventHubName: '<eventHubName>'\n          metricCategories: [\n            {\n              category: 'AllMetrics'\n            }\n          ]\n          name: 'customSetting'\n          storageAccountResourceId: '<storageAccountResourceId>'\n          workspaceResourceId: '<workspaceResourceId>'\n        }\n      ]\n      isVersioningEnabled: false\n      lastAccessTimeTrackingPolicyEnabled: true\n      versionDeletePolicyDays: 3\n    }\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    enableHierarchicalNamespace: true\n    enableNfsV3: true\n    enableSftp: true\n    fileServices: {\n      corsRules: [\n        {\n          allowedHeaders: [\n            'x-ms-meta-data'\n            'x-ms-meta-source-path'\n            'x-ms-meta-target-path'\n          ]\n          allowedMethods: [\n            'GET'\n            'PUT'\n          ]\n          allowedOrigins: [\n            'http://*.contoso.com'\n            'http://www.fabrikam.com'\n          ]\n          exposedHeaders: [\n            'x-ms-meta-data'\n            'x-ms-meta-source-path'\n            'x-ms-meta-target-path'\n          ]\n          maxAgeInSeconds: 200\n        }\n      ]\n      diagnosticSettings: [\n        {\n          eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n          eventHubName: '<eventHubName>'\n          metricCategories: [\n            {\n              category: 'AllMetrics'\n            }\n          ]\n          name: 'customSetting'\n          storageAccountResourceId: '<storageAccountResourceId>'\n          workspaceResourceId: '<workspaceResourceId>'\n        }\n      ]\n      shares: [\n        {\n          accessTier: 'Hot'\n          name: 'avdprofiles'\n          roleAssignments: [\n            {\n              name: 'cff1213b-7877-4425-b67c-bb1de8950dfb'\n              principalId: '<principalId>'\n              principalType: 'ServicePrincipal'\n              roleDefinitionIdOrName: 'Owner'\n            }\n            {\n              name: '<name>'\n              principalId: '<principalId>'\n              principalType: 'ServicePrincipal'\n              roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n            }\n            {\n              principalId: '<principalId>'\n              principalType: 'ServicePrincipal'\n              roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n            }\n          ]\n          shareQuota: 5120\n        }\n        {\n          name: 'avdprofiles2'\n          shareQuota: 102400\n        }\n      ]\n    }\n    largeFileSharesState: 'Enabled'\n    localUsers: [\n      {\n        hasSharedKey: false\n        hasSshKey: true\n        hasSshPassword: false\n        homeDirectory: 'avdscripts'\n        name: 'testuser'\n        permissionScopes: [\n          {\n            permissions: 'r'\n            resourceName: 'avdscripts'\n            service: 'blob'\n          }\n        ]\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n      notes: 'This is a custom lock note.'\n    }\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    managementPolicyRules: [\n      {\n        definition: {\n          actions: {\n            baseBlob: {\n              delete: {\n                daysAfterModificationGreaterThan: 30\n              }\n              tierToCool: {\n                daysAfterLastAccessTimeGreaterThan: 5\n              }\n            }\n          }\n          filters: {\n            blobIndexMatch: [\n              {\n                name: 'BlobIndex'\n                op: '=='\n                value: '1'\n              }\n            ]\n            blobTypes: [\n              'blockBlob'\n            ]\n            prefixMatch: [\n              'sample-container/log'\n            ]\n          }\n        }\n        enabled: true\n        name: 'FirstRule'\n        type: 'Lifecycle'\n      }\n    ]\n    networkAcls: {\n      bypass: 'AzureServices'\n      defaultAction: 'Deny'\n      ipRules: [\n        {\n          action: 'Allow'\n          value: '1.1.1.1'\n        }\n      ]\n      resourceAccessRules: [\n        {\n          resourceId: '<resourceId>'\n          tenantId: '<tenantId>'\n        }\n      ]\n      virtualNetworkRules: [\n        {\n          action: 'Allow'\n          id: '<id>'\n        }\n      ]\n    }\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'blob'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'blob'\n        subnetResourceId: '<subnetResourceId>'\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'table'\n        subnetResourceId: '<subnetResourceId>'\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'queue'\n        subnetResourceId: '<subnetResourceId>'\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'file'\n        subnetResourceId: '<subnetResourceId>'\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'web'\n        subnetResourceId: '<subnetResourceId>'\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'dfs'\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    queueServices: {\n      corsRules: [\n        {\n          allowedHeaders: [\n            'x-ms-meta-data'\n            'x-ms-meta-source-path'\n            'x-ms-meta-target-path'\n          ]\n          allowedMethods: [\n            'GET'\n            'PUT'\n          ]\n          allowedOrigins: [\n            'http://*.contoso.com'\n            'http://www.fabrikam.com'\n          ]\n          exposedHeaders: [\n            'x-ms-meta-data'\n            'x-ms-meta-source-path'\n            'x-ms-meta-target-path'\n          ]\n          maxAgeInSeconds: 200\n        }\n      ]\n      diagnosticSettings: [\n        {\n          eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n          eventHubName: '<eventHubName>'\n          metricCategories: [\n            {\n              category: 'AllMetrics'\n            }\n          ]\n          name: 'customSetting'\n          storageAccountResourceId: '<storageAccountResourceId>'\n          workspaceResourceId: '<workspaceResourceId>'\n        }\n      ]\n      queues: [\n        {\n          metadata: {\n            key1: 'value1'\n            key2: 'value2'\n          }\n          name: 'queue1'\n          roleAssignments: [\n            {\n              principalId: '<principalId>'\n              principalType: 'ServicePrincipal'\n              roleDefinitionIdOrName: 'Owner'\n            }\n            {\n              principalId: '<principalId>'\n              principalType: 'ServicePrincipal'\n              roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n            }\n            {\n              principalId: '<principalId>'\n              principalType: 'ServicePrincipal'\n              roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n            }\n          ]\n        }\n        {\n          metadata: {}\n          name: 'queue2'\n        }\n      ]\n    }\n    requireInfrastructureEncryption: true\n    roleAssignments: [\n      {\n        name: '30b99723-a3d8-4e31-8872-b80c960d62bd'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    sasExpirationPeriod: '180.00:00:00'\n    skuName: 'Standard_LRS'\n    tableServices: {\n      corsRules: [\n        {\n          allowedHeaders: [\n            'x-ms-meta-data'\n            'x-ms-meta-source-path'\n            'x-ms-meta-target-path'\n          ]\n          allowedMethods: [\n            'GET'\n            'PUT'\n          ]\n          allowedOrigins: [\n            'http://*.contoso.com'\n            'http://www.fabrikam.com'\n          ]\n          exposedHeaders: [\n            'x-ms-meta-data'\n            'x-ms-meta-source-path'\n            'x-ms-meta-target-path'\n          ]\n          maxAgeInSeconds: 200\n        }\n      ]\n      diagnosticSettings: [\n        {\n          eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n          eventHubName: '<eventHubName>'\n          metricCategories: [\n            {\n              category: 'AllMetrics'\n            }\n          ]\n          name: 'customSetting'\n          storageAccountResourceId: '<storageAccountResourceId>'\n          workspaceResourceId: '<workspaceResourceId>'\n        }\n      ]\n      tables: [\n        {\n          name: 'table1'\n          roleAssignments: [\n            {\n              principalId: '<principalId>'\n              principalType: 'ServicePrincipal'\n              roleDefinitionIdOrName: 'Owner'\n            }\n            {\n              principalId: '<principalId>'\n              principalType: 'ServicePrincipal'\n              roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n            }\n            {\n              principalId: '<principalId>'\n              principalType: 'ServicePrincipal'\n              roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n            }\n          ]\n        }\n        {\n          name: 'table2'\n          roleAssignments: [\n            {\n              principalId: '<principalId>'\n              principalType: 'ServicePrincipal'\n              roleDefinitionIdOrName: 'Owner'\n            }\n            {\n              principalId: '<principalId>'\n              principalType: 'ServicePrincipal'\n              roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n            }\n            {\n              principalId: '<principalId>'\n              principalType: 'ServicePrincipal'\n              roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n            }\n          ]\n        }\n      ]\n    }\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_storage_storage-account_example_12", "source": "avm/res/storage/storage-account/README.md", "content_to_embed": "Recommended AVM Module for Storage Accounts: Deploying with a NFS File Share - This instance deploys the module with a NFS File Share.\nResource Type Path: Microsoft.Storage/storageAccounts\nModule ID: br/public:avm/res/storage/storage-account:0.29\nParameters:\nparams: {\n    // Required parameters\n    name: 'ssanfs001'\n    // Non-required parameters\n    fileServices: {\n      shares: [\n        {\n          enabledProtocols: 'NFS'\n          name: 'nfsfileshare'\n        }\n      ]\n    }\n    kind: 'FileStorage'\n    skuName: 'Premium_LRS'\n  }", "bicep": "module storageAccount 'br/public:avm/res/storage/storage-account:0.29' = {\n  name: 'storageAccountDeployment'\n  params: {\n    // Required parameters\n    name: 'ssanfs001'\n    // Non-required parameters\n    fileServices: {\n      shares: [\n        {\n          enabledProtocols: 'NFS'\n          name: 'nfsfileshare'\n        }\n      ]\n    }\n    kind: 'FileStorage'\n    skuName: 'Premium_LRS'\n  }\n}"}
{"id": "avm_res_storage_storage-account_example_13", "source": "avm/res/storage/storage-account/README.md", "content_to_embed": "Recommended AVM Module for Storage Accounts: Using object replication - This instance deploys the module with Object Replication features to async replicate blobs from one account to another.\nResource Type Path: Microsoft.Storage/storageAccounts\nModule ID: br/public:avm/res/storage/storage-account:0.29\nParameters:\nparams: {\n    // Required parameters\n    name: 'ssaobre001'\n    // Non-required parameters\n    blobServices: {\n      changeFeedEnabled: true\n      containers: [\n        {\n          name: 'container01'\n        }\n      ]\n      isVersioningEnabled: true\n    }\n    objectReplicationPolicies: [\n      {\n        destinationStorageAccountResourceId: '<destinationStorageAccountResourceId>'\n        rules: [\n          {\n            containerName: 'container01'\n            filters: {\n              minCreationTime: '2025-01-01T00:00:00Z'\n              prefixMatch: [\n                'documents/'\n                'images/'\n              ]\n            }\n          }\n        ]\n      }\n    ]\n    skuName: 'Standard_LRS'\n  }", "bicep": "module storageAccount 'br/public:avm/res/storage/storage-account:0.29' = {\n  name: 'storageAccountDeployment'\n  params: {\n    // Required parameters\n    name: 'ssaobre001'\n    // Non-required parameters\n    blobServices: {\n      changeFeedEnabled: true\n      containers: [\n        {\n          name: 'container01'\n        }\n      ]\n      isVersioningEnabled: true\n    }\n    objectReplicationPolicies: [\n      {\n        destinationStorageAccountResourceId: '<destinationStorageAccountResourceId>'\n        rules: [\n          {\n            containerName: 'container01'\n            filters: {\n              minCreationTime: '2025-01-01T00:00:00Z'\n              prefixMatch: [\n                'documents/'\n                'images/'\n              ]\n            }\n          }\n        ]\n      }\n    ]\n    skuName: 'Standard_LRS'\n  }\n}"}
{"id": "avm_res_storage_storage-account_example_14", "source": "avm/res/storage/storage-account/README.md", "content_to_embed": "Recommended AVM Module for Storage Accounts: Deploying as Storage Account version 1 - This instance deploys the module as Storage Account version 1.\nResource Type Path: Microsoft.Storage/storageAccounts\nModule ID: br/public:avm/res/storage/storage-account:0.29\nParameters:\nparams: {\n    // Required parameters\n    name: 'ssav1001'\n    // Non-required parameters\n    kind: 'Storage'\n  }", "bicep": "module storageAccount 'br/public:avm/res/storage/storage-account:0.29' = {\n  name: 'storageAccountDeployment'\n  params: {\n    // Required parameters\n    name: 'ssav1001'\n    // Non-required parameters\n    kind: 'Storage'\n  }\n}"}
{"id": "avm_res_storage_storage-account_example_15", "source": "avm/res/storage/storage-account/README.md", "content_to_embed": "Recommended AVM Module for Storage Accounts: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Storage/storageAccounts\nModule ID: br/public:avm/res/storage/storage-account:0.29\nParameters:\nparams: {\n    // Required parameters\n    name: 'ssawaf001'\n    // Non-required parameters\n    allowBlobPublicAccess: false\n    blobServices: {\n      automaticSnapshotPolicyEnabled: true\n      containerDeleteRetentionPolicyDays: 10\n      containerDeleteRetentionPolicyEnabled: true\n      containers: [\n        {\n          name: 'avdscripts'\n          publicAccess: 'None'\n        }\n        {\n          immutabilityPolicy: {\n            allowProtectedAppendWrites: false\n            allowProtectedAppendWritesAll: true\n            immutabilityPeriodSinceCreationInDays: 7\n          }\n          metadata: {\n            testKey: 'testValue'\n          }\n          name: 'archivecontainer'\n          publicAccess: 'None'\n        }\n      ]\n      deleteRetentionPolicyDays: 9\n      deleteRetentionPolicyEnabled: true\n      diagnosticSettings: [\n        {\n          eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n          eventHubName: '<eventHubName>'\n          metricCategories: [\n            {\n              category: 'AllMetrics'\n            }\n          ]\n          name: 'customSetting'\n          storageAccountResourceId: '<storageAccountResourceId>'\n          workspaceResourceId: '<workspaceResourceId>'\n        }\n      ]\n      isVersioningEnabled: true\n      lastAccessTimeTrackingPolicyEnabled: true\n      versionDeletePolicyDays: 3\n    }\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    fileServices: {\n      diagnosticSettings: [\n        {\n          eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n          eventHubName: '<eventHubName>'\n          metricCategories: [\n            {\n              category: 'AllMetrics'\n            }\n          ]\n          name: 'customSetting'\n          storageAccountResourceId: '<storageAccountResourceId>'\n          workspaceResourceId: '<workspaceResourceId>'\n        }\n      ]\n      shares: [\n        {\n          accessTier: 'Hot'\n          name: 'avdprofiles'\n          shareQuota: 5120\n        }\n        {\n          name: 'avdprofiles2'\n          shareQuota: 102400\n        }\n      ]\n    }\n    largeFileSharesState: 'Enabled'\n    localUsers: [\n      {\n        hasSharedKey: false\n        hasSshKey: true\n        hasSshPassword: false\n        homeDirectory: 'avdscripts'\n        name: 'testuser'\n        permissionScopes: [\n          {\n            permissions: 'r'\n            resourceName: 'avdscripts'\n            service: 'blob'\n          }\n        ]\n      }\n    ]\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    managementPolicyRules: [\n      {\n        definition: {\n          actions: {\n            baseBlob: {\n              delete: {\n                daysAfterModificationGreaterThan: 30\n              }\n              tierToCool: {\n                daysAfterLastAccessTimeGreaterThan: 5\n              }\n            }\n          }\n          filters: {\n            blobIndexMatch: [\n              {\n                name: 'BlobIndex'\n                op: '=='\n                value: '1'\n              }\n            ]\n            blobTypes: [\n              'blockBlob'\n            ]\n            prefixMatch: [\n              'sample-container/log'\n            ]\n          }\n        }\n        enabled: true\n        name: 'FirstRule'\n        type: 'Lifecycle'\n      }\n    ]\n    networkAcls: {\n      bypass: 'AzureServices'\n      defaultAction: 'Deny'\n      ipRules: [\n        {\n          action: 'Allow'\n          value: '1.1.1.1'\n        }\n      ]\n      virtualNetworkRules: [\n        {\n          action: 'Allow'\n          id: '<id>'\n        }\n      ]\n    }\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'blob'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n    ]\n    queueServices: {\n      diagnosticSettings: [\n        {\n          eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n          eventHubName: '<eventHubName>'\n          metricCategories: [\n            {\n              category: 'AllMetrics'\n            }\n          ]\n          name: 'customSetting'\n          storageAccountResourceId: '<storageAccountResourceId>'\n          workspaceResourceId: '<workspaceResourceId>'\n        }\n      ]\n      queues: [\n        {\n          metadata: {\n            key1: 'value1'\n            key2: 'value2'\n          }\n          name: 'queue1'\n        }\n        {\n          metadata: {}\n          name: 'queue2'\n        }\n      ]\n    }\n    requireInfrastructureEncryption: true\n    sasExpirationPeriod: '180.00:00:00'\n    skuName: 'Standard_ZRS'\n    tableServices: {\n      diagnosticSettings: [\n        {\n          eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n          eventHubName: '<eventHubName>'\n          metricCategories: [\n            {\n              category: 'AllMetrics'\n            }\n          ]\n          name: 'customSetting'\n          storageAccountResourceId: '<storageAccountResourceId>'\n          workspaceResourceId: '<workspaceResourceId>'\n        }\n      ]\n      tables: [\n        {\n          name: 'table1'\n        }\n        {\n          name: 'table2'\n        }\n      ]\n    }\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module storageAccount 'br/public:avm/res/storage/storage-account:0.29' = {\n  name: 'storageAccountDeployment'\n  params: {\n    // Required parameters\n    name: 'ssawaf001'\n    // Non-required parameters\n    allowBlobPublicAccess: false\n    blobServices: {\n      automaticSnapshotPolicyEnabled: true\n      containerDeleteRetentionPolicyDays: 10\n      containerDeleteRetentionPolicyEnabled: true\n      containers: [\n        {\n          name: 'avdscripts'\n          publicAccess: 'None'\n        }\n        {\n          immutabilityPolicy: {\n            allowProtectedAppendWrites: false\n            allowProtectedAppendWritesAll: true\n            immutabilityPeriodSinceCreationInDays: 7\n          }\n          metadata: {\n            testKey: 'testValue'\n          }\n          name: 'archivecontainer'\n          publicAccess: 'None'\n        }\n      ]\n      deleteRetentionPolicyDays: 9\n      deleteRetentionPolicyEnabled: true\n      diagnosticSettings: [\n        {\n          eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n          eventHubName: '<eventHubName>'\n          metricCategories: [\n            {\n              category: 'AllMetrics'\n            }\n          ]\n          name: 'customSetting'\n          storageAccountResourceId: '<storageAccountResourceId>'\n          workspaceResourceId: '<workspaceResourceId>'\n        }\n      ]\n      isVersioningEnabled: true\n      lastAccessTimeTrackingPolicyEnabled: true\n      versionDeletePolicyDays: 3\n    }\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    fileServices: {\n      diagnosticSettings: [\n        {\n          eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n          eventHubName: '<eventHubName>'\n          metricCategories: [\n            {\n              category: 'AllMetrics'\n            }\n          ]\n          name: 'customSetting'\n          storageAccountResourceId: '<storageAccountResourceId>'\n          workspaceResourceId: '<workspaceResourceId>'\n        }\n      ]\n      shares: [\n        {\n          accessTier: 'Hot'\n          name: 'avdprofiles'\n          shareQuota: 5120\n        }\n        {\n          name: 'avdprofiles2'\n          shareQuota: 102400\n        }\n      ]\n    }\n    largeFileSharesState: 'Enabled'\n    localUsers: [\n      {\n        hasSharedKey: false\n        hasSshKey: true\n        hasSshPassword: false\n        homeDirectory: 'avdscripts'\n        name: 'testuser'\n        permissionScopes: [\n          {\n            permissions: 'r'\n            resourceName: 'avdscripts'\n            service: 'blob'\n          }\n        ]\n      }\n    ]\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    managementPolicyRules: [\n      {\n        definition: {\n          actions: {\n            baseBlob: {\n              delete: {\n                daysAfterModificationGreaterThan: 30\n              }\n              tierToCool: {\n                daysAfterLastAccessTimeGreaterThan: 5\n              }\n            }\n          }\n          filters: {\n            blobIndexMatch: [\n              {\n                name: 'BlobIndex'\n                op: '=='\n                value: '1'\n              }\n            ]\n            blobTypes: [\n              'blockBlob'\n            ]\n            prefixMatch: [\n              'sample-container/log'\n            ]\n          }\n        }\n        enabled: true\n        name: 'FirstRule'\n        type: 'Lifecycle'\n      }\n    ]\n    networkAcls: {\n      bypass: 'AzureServices'\n      defaultAction: 'Deny'\n      ipRules: [\n        {\n          action: 'Allow'\n          value: '1.1.1.1'\n        }\n      ]\n      virtualNetworkRules: [\n        {\n          action: 'Allow'\n          id: '<id>'\n        }\n      ]\n    }\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'blob'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n    ]\n    queueServices: {\n      diagnosticSettings: [\n        {\n          eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n          eventHubName: '<eventHubName>'\n          metricCategories: [\n            {\n              category: 'AllMetrics'\n            }\n          ]\n          name: 'customSetting'\n          storageAccountResourceId: '<storageAccountResourceId>'\n          workspaceResourceId: '<workspaceResourceId>'\n        }\n      ]\n      queues: [\n        {\n          metadata: {\n            key1: 'value1'\n            key2: 'value2'\n          }\n          name: 'queue1'\n        }\n        {\n          metadata: {}\n          name: 'queue2'\n        }\n      ]\n    }\n    requireInfrastructureEncryption: true\n    sasExpirationPeriod: '180.00:00:00'\n    skuName: 'Standard_ZRS'\n    tableServices: {\n      diagnosticSettings: [\n        {\n          eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n          eventHubName: '<eventHubName>'\n          metricCategories: [\n            {\n              category: 'AllMetrics'\n            }\n          ]\n          name: 'customSetting'\n          storageAccountResourceId: '<storageAccountResourceId>'\n          workspaceResourceId: '<workspaceResourceId>'\n        }\n      ]\n      tables: [\n        {\n          name: 'table1'\n        }\n        {\n          name: 'table2'\n        }\n      ]\n    }\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_synapse_private-link-hub_example_1", "source": "avm/res/synapse/private-link-hub/README.md", "content_to_embed": "Recommended AVM Module for Azure Synapse Analytics: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Synapse/privateLinkHubs\nModule ID: br/public:avm/res/synapse/private-link-hub:0.6\nParameters:\nparams: {\n    name: 'splhmin001'\n  }", "bicep": "module privateLinkHub 'br/public:avm/res/synapse/private-link-hub:0.6' = {\n  name: 'privateLinkHubDeployment'\n  params: {\n    name: 'splhmin001'\n  }\n}"}
{"id": "avm_res_synapse_private-link-hub_example_2", "source": "avm/res/synapse/private-link-hub/README.md", "content_to_embed": "Recommended AVM Module for Azure Synapse Analytics: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Synapse/privateLinkHubs\nModule ID: br/public:avm/res/synapse/private-link-hub:0.6\nParameters:\nparams: {\n    // Required parameters\n    name: 'splhmax001'\n    // Non-required parameters\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    roleAssignments: [\n      {\n        name: '049a8b5a-70dc-4749-965c-b009733cf432'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Reader'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module privateLinkHub 'br/public:avm/res/synapse/private-link-hub:0.6' = {\n  name: 'privateLinkHubDeployment'\n  params: {\n    // Required parameters\n    name: 'splhmax001'\n    // Non-required parameters\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    roleAssignments: [\n      {\n        name: '049a8b5a-70dc-4749-965c-b009733cf432'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Reader'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_synapse_private-link-hub_example_3", "source": "avm/res/synapse/private-link-hub/README.md", "content_to_embed": "Recommended AVM Module for Azure Synapse Analytics: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Synapse/privateLinkHubs\nModule ID: br/public:avm/res/synapse/private-link-hub:0.6\nParameters:\nparams: {\n    // Required parameters\n    name: 'splhwaf001'\n    // Non-required parameters\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'Web'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module privateLinkHub 'br/public:avm/res/synapse/private-link-hub:0.6' = {\n  name: 'privateLinkHubDeployment'\n  params: {\n    // Required parameters\n    name: 'splhwaf001'\n    // Non-required parameters\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'Web'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_synapse_workspace_example_1", "source": "avm/res/synapse/workspace/README.md", "content_to_embed": "Recommended AVM Module for Synapse Workspaces: Using Big Data Pool - This instance deploys the module with the configuration of Big Data Pool.\nResource Type Path: Microsoft.Synapse/workspaces\nModule ID: br/public:avm/res/synapse/workspace:0.14\nParameters:\nparams: {\n    // Required parameters\n    defaultDataLakeStorageAccountResourceId: '<defaultDataLakeStorageAccountResourceId>'\n    defaultDataLakeStorageFilesystem: '<defaultDataLakeStorageFilesystem>'\n    name: 'swbdp001'\n    sqlAdministratorLogin: 'synwsadmin'\n    // Non-required parameters\n    bigDataPools: [\n      {\n        autoPauseDelayInMinutes: 10\n        autoScale: {\n          maxNodeCount: 5\n          minNodeCount: 3\n        }\n        autotuneEnabled: true\n        cacheSize: 50\n        dynamicExecutorAllocation: {\n          maxExecutors: 4\n          minExecutors: 1\n        }\n        name: 'depbdp01'\n        nodeSize: 'Small'\n        nodeSizeFamily: 'MemoryOptimized'\n        sessionLevelPackagesEnabled: true\n      }\n      {\n        name: 'depbdp02'\n        nodeSize: 'Small'\n        nodeSizeFamily: 'MemoryOptimized'\n      }\n    ]\n  }", "bicep": "module workspace 'br/public:avm/res/synapse/workspace:0.14' = {\n  name: 'workspaceDeployment'\n  params: {\n    // Required parameters\n    defaultDataLakeStorageAccountResourceId: '<defaultDataLakeStorageAccountResourceId>'\n    defaultDataLakeStorageFilesystem: '<defaultDataLakeStorageFilesystem>'\n    name: 'swbdp001'\n    sqlAdministratorLogin: 'synwsadmin'\n    // Non-required parameters\n    bigDataPools: [\n      {\n        autoPauseDelayInMinutes: 10\n        autoScale: {\n          maxNodeCount: 5\n          minNodeCount: 3\n        }\n        autotuneEnabled: true\n        cacheSize: 50\n        dynamicExecutorAllocation: {\n          maxExecutors: 4\n          minExecutors: 1\n        }\n        name: 'depbdp01'\n        nodeSize: 'Small'\n        nodeSizeFamily: 'MemoryOptimized'\n        sessionLevelPackagesEnabled: true\n      }\n      {\n        name: 'depbdp02'\n        nodeSize: 'Small'\n        nodeSizeFamily: 'MemoryOptimized'\n      }\n    ]\n  }\n}"}
{"id": "avm_res_synapse_workspace_example_2", "source": "avm/res/synapse/workspace/README.md", "content_to_embed": "Recommended AVM Module for Synapse Workspaces: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Synapse/workspaces\nModule ID: br/public:avm/res/synapse/workspace:0.14\nParameters:\nparams: {\n    // Required parameters\n    defaultDataLakeStorageAccountResourceId: '<defaultDataLakeStorageAccountResourceId>'\n    defaultDataLakeStorageFilesystem: '<defaultDataLakeStorageFilesystem>'\n    name: 'swmin001'\n    sqlAdministratorLogin: 'synwsadmin'\n  }", "bicep": "module workspace 'br/public:avm/res/synapse/workspace:0.14' = {\n  name: 'workspaceDeployment'\n  params: {\n    // Required parameters\n    defaultDataLakeStorageAccountResourceId: '<defaultDataLakeStorageAccountResourceId>'\n    defaultDataLakeStorageFilesystem: '<defaultDataLakeStorageFilesystem>'\n    name: 'swmin001'\n    sqlAdministratorLogin: 'synwsadmin'\n  }\n}"}
{"id": "avm_res_synapse_workspace_example_3", "source": "avm/res/synapse/workspace/README.md", "content_to_embed": "Recommended AVM Module for Synapse Workspaces: Using encryption with Customer-Managed-Key - This instance deploys the module using Customer-Managed-Keys using a System-Assigned Identity to access the Customer-Managed-Key secret.\nResource Type Path: Microsoft.Synapse/workspaces\nModule ID: br/public:avm/res/synapse/workspace:0.14\nParameters:\nparams: {\n    // Required parameters\n    defaultDataLakeStorageAccountResourceId: '<defaultDataLakeStorageAccountResourceId>'\n    defaultDataLakeStorageFilesystem: '<defaultDataLakeStorageFilesystem>'\n    name: 'swensa001'\n    sqlAdministratorLogin: 'synwsadmin'\n    // Non-required parameters\n    customerManagedKey: {\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n    }\n    encryptionActivateWorkspace: true\n  }", "bicep": "module workspace 'br/public:avm/res/synapse/workspace:0.14' = {\n  name: 'workspaceDeployment'\n  params: {\n    // Required parameters\n    defaultDataLakeStorageAccountResourceId: '<defaultDataLakeStorageAccountResourceId>'\n    defaultDataLakeStorageFilesystem: '<defaultDataLakeStorageFilesystem>'\n    name: 'swensa001'\n    sqlAdministratorLogin: 'synwsadmin'\n    // Non-required parameters\n    customerManagedKey: {\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n    }\n    encryptionActivateWorkspace: true\n  }\n}"}
{"id": "avm_res_synapse_workspace_example_4", "source": "avm/res/synapse/workspace/README.md", "content_to_embed": "Recommended AVM Module for Synapse Workspaces: Using encryption with Customer-Managed-Key - This instance deploys the module using Customer-Managed-Keys using a User-Assigned Identity to access the Customer-Managed-Key secret.\nResource Type Path: Microsoft.Synapse/workspaces\nModule ID: br/public:avm/res/synapse/workspace:0.14\nParameters:\nparams: {\n    // Required parameters\n    defaultDataLakeStorageAccountResourceId: '<defaultDataLakeStorageAccountResourceId>'\n    defaultDataLakeStorageFilesystem: '<defaultDataLakeStorageFilesystem>'\n    name: 'swenua001'\n    sqlAdministratorLogin: 'synwsadmin'\n    // Non-required parameters\n    customerManagedKey: {\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n      userAssignedIdentityResourceId: '<userAssignedIdentityResourceId>'\n    }\n  }", "bicep": "module workspace 'br/public:avm/res/synapse/workspace:0.14' = {\n  name: 'workspaceDeployment'\n  params: {\n    // Required parameters\n    defaultDataLakeStorageAccountResourceId: '<defaultDataLakeStorageAccountResourceId>'\n    defaultDataLakeStorageFilesystem: '<defaultDataLakeStorageFilesystem>'\n    name: 'swenua001'\n    sqlAdministratorLogin: 'synwsadmin'\n    // Non-required parameters\n    customerManagedKey: {\n      keyName: '<keyName>'\n      keyVaultResourceId: '<keyVaultResourceId>'\n      userAssignedIdentityResourceId: '<userAssignedIdentityResourceId>'\n    }\n  }\n}"}
{"id": "avm_res_synapse_workspace_example_5", "source": "avm/res/synapse/workspace/README.md", "content_to_embed": "Recommended AVM Module for Synapse Workspaces: Using firewall rules - This instance deploys the module with the configuration of firewall rules.\nResource Type Path: Microsoft.Synapse/workspaces\nModule ID: br/public:avm/res/synapse/workspace:0.14\nParameters:\nparams: {\n    // Required parameters\n    defaultDataLakeStorageAccountResourceId: '<defaultDataLakeStorageAccountResourceId>'\n    defaultDataLakeStorageFilesystem: '<defaultDataLakeStorageFilesystem>'\n    name: 'swfwr001'\n    sqlAdministratorLogin: 'synwsadmin'\n    // Non-required parameters\n    firewallRules: [\n      {\n        endIpAddress: '87.14.134.20'\n        name: 'fwrule01'\n        startIpAddress: '87.14.134.20'\n      }\n      {\n        endIpAddress: '87.14.134.22'\n        name: 'fwrule02'\n        startIpAddress: '87.14.134.21'\n      }\n    ]\n  }", "bicep": "module workspace 'br/public:avm/res/synapse/workspace:0.14' = {\n  name: 'workspaceDeployment'\n  params: {\n    // Required parameters\n    defaultDataLakeStorageAccountResourceId: '<defaultDataLakeStorageAccountResourceId>'\n    defaultDataLakeStorageFilesystem: '<defaultDataLakeStorageFilesystem>'\n    name: 'swfwr001'\n    sqlAdministratorLogin: 'synwsadmin'\n    // Non-required parameters\n    firewallRules: [\n      {\n        endIpAddress: '87.14.134.20'\n        name: 'fwrule01'\n        startIpAddress: '87.14.134.20'\n      }\n      {\n        endIpAddress: '87.14.134.22'\n        name: 'fwrule02'\n        startIpAddress: '87.14.134.21'\n      }\n    ]\n  }\n}"}
{"id": "avm_res_synapse_workspace_example_6", "source": "avm/res/synapse/workspace/README.md", "content_to_embed": "Recommended AVM Module for Synapse Workspaces: Using managed Vnet - This instance deploys the module using a managed Vnet.\nResource Type Path: Microsoft.Synapse/workspaces\nModule ID: br/public:avm/res/synapse/workspace:0.14\nParameters:\nparams: {\n    // Required parameters\n    defaultDataLakeStorageAccountResourceId: '<defaultDataLakeStorageAccountResourceId>'\n    defaultDataLakeStorageFilesystem: '<defaultDataLakeStorageFilesystem>'\n    name: 'swmanv001'\n    sqlAdministratorLogin: 'synwsadmin'\n    // Non-required parameters\n    allowedAadTenantIdsForLinking: [\n      '<tenantId>'\n    ]\n    managedVirtualNetwork: true\n    preventDataExfiltration: true\n  }", "bicep": "module workspace 'br/public:avm/res/synapse/workspace:0.14' = {\n  name: 'workspaceDeployment'\n  params: {\n    // Required parameters\n    defaultDataLakeStorageAccountResourceId: '<defaultDataLakeStorageAccountResourceId>'\n    defaultDataLakeStorageFilesystem: '<defaultDataLakeStorageFilesystem>'\n    name: 'swmanv001'\n    sqlAdministratorLogin: 'synwsadmin'\n    // Non-required parameters\n    allowedAadTenantIdsForLinking: [\n      '<tenantId>'\n    ]\n    managedVirtualNetwork: true\n    preventDataExfiltration: true\n  }\n}"}
{"id": "avm_res_synapse_workspace_example_7", "source": "avm/res/synapse/workspace/README.md", "content_to_embed": "Recommended AVM Module for Synapse Workspaces: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Synapse/workspaces\nModule ID: br/public:avm/res/synapse/workspace:0.14\nParameters:\nparams: {\n    // Required parameters\n    defaultDataLakeStorageAccountResourceId: '<defaultDataLakeStorageAccountResourceId>'\n    defaultDataLakeStorageFilesystem: '<defaultDataLakeStorageFilesystem>'\n    name: 'swmax001'\n    sqlAdministratorLogin: 'synwsadmin'\n    // Non-required parameters\n    administrator: {\n      administratorType: 'ServicePrincipal'\n      login: 'dep-msi-swmax'\n      sid: '<sid>'\n    }\n    bigDataPools: [\n      {\n        autoPauseDelayInMinutes: 5\n        autoScale: {\n          maxNodeCount: 10\n          minNodeCount: 3\n        }\n        autotuneEnabled: true\n        cacheSize: 50\n        defaultSparkLogFolder: '/logs'\n        diagnosticSettings: [\n          {\n            eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n            eventHubName: '<eventHubName>'\n            metricCategories: [\n              {\n                category: 'AllMetrics'\n              }\n            ]\n            name: 'customSetting'\n            storageAccountResourceId: '<storageAccountResourceId>'\n            workspaceResourceId: '<workspaceResourceId>'\n          }\n        ]\n        dynamicExecutorAllocation: {\n          maxExecutors: 9\n          minExecutors: 1\n        }\n        lock: {\n          kind: 'CanNotDelete'\n          name: 'myCustomLockName'\n        }\n        name: 'depbdp01'\n        nodeSize: 'Large'\n        nodeSizeFamily: 'MemoryOptimized'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Reader'\n          }\n        ]\n        sessionLevelPackagesEnabled: true\n        sparkConfigProperties: {\n          configurationType: 'File'\n          content: '<content>'\n          filename: 'spark-defaults.conf'\n        }\n        sparkEventsFolder: '/events'\n      }\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        logCategoriesAndGroups: [\n          {\n            category: 'SynapseRbacOperations'\n          }\n          {\n            category: 'SynapseLinkEvent'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    initialWorkspaceAdminObjectID: '<initialWorkspaceAdminObjectID>'\n    integrationRuntimes: [\n      {\n        name: 'shir01'\n        type: 'SelfHosted'\n      }\n    ]\n    location: '<location>'\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    managedVirtualNetwork: true\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'SQL'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'SQL'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'SqlOnDemand'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'Dev'\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    roleAssignments: [\n      {\n        name: '499f9243-2170-4204-807d-ee6d0f94a0d0'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    sqlPools: [\n      {\n        collation: 'SQL_Latin1_General_CP1_CS_AS'\n        diagnosticSettings: [\n          {\n            eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n            eventHubName: '<eventHubName>'\n            metricCategories: [\n              {\n                category: 'AllMetrics'\n              }\n            ]\n            name: 'customSetting'\n            storageAccountResourceId: '<storageAccountResourceId>'\n            workspaceResourceId: '<workspaceResourceId>'\n          }\n        ]\n        lock: {\n          kind: 'CanNotDelete'\n          name: 'myCustomLockName'\n        }\n        maxSizeBytes: 1099511627776\n        name: 'depsqlp01'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Reader'\n          }\n        ]\n        sku: 'DW100c'\n        storageAccountType: 'GRS'\n        transparentDataEncryption: 'Enabled'\n      }\n    ]\n  }", "bicep": "module workspace 'br/public:avm/res/synapse/workspace:0.14' = {\n  name: 'workspaceDeployment'\n  params: {\n    // Required parameters\n    defaultDataLakeStorageAccountResourceId: '<defaultDataLakeStorageAccountResourceId>'\n    defaultDataLakeStorageFilesystem: '<defaultDataLakeStorageFilesystem>'\n    name: 'swmax001'\n    sqlAdministratorLogin: 'synwsadmin'\n    // Non-required parameters\n    administrator: {\n      administratorType: 'ServicePrincipal'\n      login: 'dep-msi-swmax'\n      sid: '<sid>'\n    }\n    bigDataPools: [\n      {\n        autoPauseDelayInMinutes: 5\n        autoScale: {\n          maxNodeCount: 10\n          minNodeCount: 3\n        }\n        autotuneEnabled: true\n        cacheSize: 50\n        defaultSparkLogFolder: '/logs'\n        diagnosticSettings: [\n          {\n            eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n            eventHubName: '<eventHubName>'\n            metricCategories: [\n              {\n                category: 'AllMetrics'\n              }\n            ]\n            name: 'customSetting'\n            storageAccountResourceId: '<storageAccountResourceId>'\n            workspaceResourceId: '<workspaceResourceId>'\n          }\n        ]\n        dynamicExecutorAllocation: {\n          maxExecutors: 9\n          minExecutors: 1\n        }\n        lock: {\n          kind: 'CanNotDelete'\n          name: 'myCustomLockName'\n        }\n        name: 'depbdp01'\n        nodeSize: 'Large'\n        nodeSizeFamily: 'MemoryOptimized'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Reader'\n          }\n        ]\n        sessionLevelPackagesEnabled: true\n        sparkConfigProperties: {\n          configurationType: 'File'\n          content: '<content>'\n          filename: 'spark-defaults.conf'\n        }\n        sparkEventsFolder: '/events'\n      }\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        logCategoriesAndGroups: [\n          {\n            category: 'SynapseRbacOperations'\n          }\n          {\n            category: 'SynapseLinkEvent'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    initialWorkspaceAdminObjectID: '<initialWorkspaceAdminObjectID>'\n    integrationRuntimes: [\n      {\n        name: 'shir01'\n        type: 'SelfHosted'\n      }\n    ]\n    location: '<location>'\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    managedVirtualNetwork: true\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'SQL'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'SQL'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'SqlOnDemand'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'Dev'\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    roleAssignments: [\n      {\n        name: '499f9243-2170-4204-807d-ee6d0f94a0d0'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    sqlPools: [\n      {\n        collation: 'SQL_Latin1_General_CP1_CS_AS'\n        diagnosticSettings: [\n          {\n            eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n            eventHubName: '<eventHubName>'\n            metricCategories: [\n              {\n                category: 'AllMetrics'\n              }\n            ]\n            name: 'customSetting'\n            storageAccountResourceId: '<storageAccountResourceId>'\n            workspaceResourceId: '<workspaceResourceId>'\n          }\n        ]\n        lock: {\n          kind: 'CanNotDelete'\n          name: 'myCustomLockName'\n        }\n        maxSizeBytes: 1099511627776\n        name: 'depsqlp01'\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Reader'\n          }\n        ]\n        sku: 'DW100c'\n        storageAccountType: 'GRS'\n        transparentDataEncryption: 'Enabled'\n      }\n    ]\n  }\n}"}
{"id": "avm_res_synapse_workspace_example_8", "source": "avm/res/synapse/workspace/README.md", "content_to_embed": "Recommended AVM Module for Synapse Workspaces: Using SQL Pool - This instance deploys the module with the configuration of SQL Pool.\nResource Type Path: Microsoft.Synapse/workspaces\nModule ID: br/public:avm/res/synapse/workspace:0.14\nParameters:\nparams: {\n    // Required parameters\n    defaultDataLakeStorageAccountResourceId: '<defaultDataLakeStorageAccountResourceId>'\n    defaultDataLakeStorageFilesystem: '<defaultDataLakeStorageFilesystem>'\n    name: 'swsqlp001'\n    sqlAdministratorLogin: 'synwsadmin'\n    // Non-required parameters\n    sqlPools: [\n      {\n        name: 'depsqlp01'\n      }\n      {\n        collation: 'SQL_Latin1_General_CP1_CI_AS'\n        maxSizeBytes: 1099511627776\n        name: 'depsqlp02'\n        sku: 'DW200c'\n        storageAccountType: 'LRS'\n        transparentDataEncryption: 'Enabled'\n      }\n    ]\n  }", "bicep": "module workspace 'br/public:avm/res/synapse/workspace:0.14' = {\n  name: 'workspaceDeployment'\n  params: {\n    // Required parameters\n    defaultDataLakeStorageAccountResourceId: '<defaultDataLakeStorageAccountResourceId>'\n    defaultDataLakeStorageFilesystem: '<defaultDataLakeStorageFilesystem>'\n    name: 'swsqlp001'\n    sqlAdministratorLogin: 'synwsadmin'\n    // Non-required parameters\n    sqlPools: [\n      {\n        name: 'depsqlp01'\n      }\n      {\n        collation: 'SQL_Latin1_General_CP1_CI_AS'\n        maxSizeBytes: 1099511627776\n        name: 'depsqlp02'\n        sku: 'DW200c'\n        storageAccountType: 'LRS'\n        transparentDataEncryption: 'Enabled'\n      }\n    ]\n  }\n}"}
{"id": "avm_res_synapse_workspace_example_9", "source": "avm/res/synapse/workspace/README.md", "content_to_embed": "Recommended AVM Module for Synapse Workspaces: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Synapse/workspaces\nModule ID: br/public:avm/res/synapse/workspace:0.14\nParameters:\nparams: {\n    // Required parameters\n    defaultDataLakeStorageAccountResourceId: '<defaultDataLakeStorageAccountResourceId>'\n    defaultDataLakeStorageFilesystem: '<defaultDataLakeStorageFilesystem>'\n    name: 'swwaf002'\n    sqlAdministratorLogin: 'synwsadmin'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        logCategoriesAndGroups: [\n          {\n            category: 'SynapseRbacOperations'\n          }\n          {\n            category: 'SynapseLinkEvent'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    integrationRuntimes: [\n      {\n        name: 'shir01'\n        type: 'SelfHosted'\n      }\n    ]\n    managedVirtualNetwork: true\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'SQL'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module workspace 'br/public:avm/res/synapse/workspace:0.14' = {\n  name: 'workspaceDeployment'\n  params: {\n    // Required parameters\n    defaultDataLakeStorageAccountResourceId: '<defaultDataLakeStorageAccountResourceId>'\n    defaultDataLakeStorageFilesystem: '<defaultDataLakeStorageFilesystem>'\n    name: 'swwaf002'\n    sqlAdministratorLogin: 'synwsadmin'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        logCategoriesAndGroups: [\n          {\n            category: 'SynapseRbacOperations'\n          }\n          {\n            category: 'SynapseLinkEvent'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    integrationRuntimes: [\n      {\n        name: 'shir01'\n        type: 'SelfHosted'\n      }\n    ]\n    managedVirtualNetwork: true\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        service: 'SQL'\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_virtual-machine-images_image-template_example_1", "source": "avm/res/virtual-machine-images/image-template/README.md", "content_to_embed": "Recommended AVM Module for Virtual Machine Image Templates: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.VirtualMachineImages/imageTemplates\nModule ID: br/public:avm/res/virtual-machine-images/image-template:0.6\nParameters:\nparams: {\n    // Required parameters\n    distributions: [\n      {\n        imageName: 'mi-vmiitmin-001'\n        type: 'ManagedImage'\n      }\n    ]\n    imageSource: {\n      offer: 'Windows-11'\n      publisher: 'MicrosoftWindowsDesktop'\n      sku: 'win11-23h2-ent'\n      type: 'PlatformImage'\n      version: 'latest'\n    }\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    name: 'vmiitmin001'\n  }", "bicep": "module imageTemplate 'br/public:avm/res/virtual-machine-images/image-template:0.6' = {\n  name: 'imageTemplateDeployment'\n  params: {\n    // Required parameters\n    distributions: [\n      {\n        imageName: 'mi-vmiitmin-001'\n        type: 'ManagedImage'\n      }\n    ]\n    imageSource: {\n      offer: 'Windows-11'\n      publisher: 'MicrosoftWindowsDesktop'\n      sku: 'win11-23h2-ent'\n      type: 'PlatformImage'\n      version: 'latest'\n    }\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    name: 'vmiitmin001'\n  }\n}"}
{"id": "avm_res_virtual-machine-images_image-template_example_2", "source": "avm/res/virtual-machine-images/image-template/README.md", "content_to_embed": "Recommended AVM Module for Virtual Machine Image Templates: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.VirtualMachineImages/imageTemplates\nModule ID: br/public:avm/res/virtual-machine-images/image-template:0.6\nParameters:\nparams: {\n    // Required parameters\n    distributions: [\n      {\n        imageName: 'mi-vmiitmax-001'\n        type: 'ManagedImage'\n      }\n      {\n        imageName: 'umi-vmiitmax-001'\n        type: 'VHD'\n      }\n      {\n        replicationRegions: [\n          '<resourceLocation>'\n        ]\n        sharedImageGalleryImageDefinitionResourceId: '<sharedImageGalleryImageDefinitionResourceId>'\n        sharedImageGalleryImageDefinitionTargetVersion: '<sharedImageGalleryImageDefinitionTargetVersion>'\n        type: 'SharedImage'\n      }\n    ]\n    imageSource: {\n      offer: 'ubuntu-24_04-lts'\n      publisher: 'canonical'\n      sku: 'server'\n      type: 'PlatformImage'\n      version: 'latest'\n    }\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    name: 'vmiitmax001'\n    // Non-required parameters\n    autoRunState: 'Enabled'\n    buildTimeoutInMinutes: 60\n    customizationSteps: [\n      {\n        name: 'PowerShell installation'\n        scriptUri: '<scriptUri>'\n        type: 'Shell'\n      }\n      {\n        destination: 'Initialize-LinuxSoftware.ps1'\n        name: 'Initialize-LinuxSoftware'\n        sourceUri: '<sourceUri>'\n        type: 'File'\n      }\n      {\n        inline: [\n          'pwsh \\'Initialize-LinuxSoftware.ps1\\''\n        ]\n        name: 'Software installation'\n        type: 'Shell'\n      }\n    ]\n    errorHandlingOnCustomizerError: 'cleanup'\n    errorHandlingOnValidationError: 'abort'\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedResourceTags: {\n      testKey1: 'testValue1'\n      testKey2: 'testValue2'\n    }\n    optimizeVmBoot: 'Enabled'\n    osDiskSizeGB: 127\n    roleAssignments: [\n      {\n        name: 'bb257a92-dc06-4831-9b74-ee5442d8ce0f'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    stagingResourceGroupResourceId: '<stagingResourceGroupResourceId>'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    validationProcess: {\n      continueDistributeOnFailure: true\n      inVMValidations: [\n        {\n          inline: [\n            'echo \\'Software validation successful.\\''\n          ]\n          name: 'Validate-Software'\n          type: 'Shell'\n        }\n      ]\n      sourceValidationOnly: false\n    }\n    vmSize: 'Standard_D2s_v3'\n    vmUserAssignedIdentities: [\n      '<managedIdentityResourceId>'\n    ]\n    vnetConfig: {\n      proxyVmSize: 'Standard_A1_v2'\n      subnetResourceId: '<subnetResourceId>'\n    }\n  }", "bicep": "module imageTemplate 'br/public:avm/res/virtual-machine-images/image-template:0.6' = {\n  name: 'imageTemplateDeployment'\n  params: {\n    // Required parameters\n    distributions: [\n      {\n        imageName: 'mi-vmiitmax-001'\n        type: 'ManagedImage'\n      }\n      {\n        imageName: 'umi-vmiitmax-001'\n        type: 'VHD'\n      }\n      {\n        replicationRegions: [\n          '<resourceLocation>'\n        ]\n        sharedImageGalleryImageDefinitionResourceId: '<sharedImageGalleryImageDefinitionResourceId>'\n        sharedImageGalleryImageDefinitionTargetVersion: '<sharedImageGalleryImageDefinitionTargetVersion>'\n        type: 'SharedImage'\n      }\n    ]\n    imageSource: {\n      offer: 'ubuntu-24_04-lts'\n      publisher: 'canonical'\n      sku: 'server'\n      type: 'PlatformImage'\n      version: 'latest'\n    }\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    name: 'vmiitmax001'\n    // Non-required parameters\n    autoRunState: 'Enabled'\n    buildTimeoutInMinutes: 60\n    customizationSteps: [\n      {\n        name: 'PowerShell installation'\n        scriptUri: '<scriptUri>'\n        type: 'Shell'\n      }\n      {\n        destination: 'Initialize-LinuxSoftware.ps1'\n        name: 'Initialize-LinuxSoftware'\n        sourceUri: '<sourceUri>'\n        type: 'File'\n      }\n      {\n        inline: [\n          'pwsh \\'Initialize-LinuxSoftware.ps1\\''\n        ]\n        name: 'Software installation'\n        type: 'Shell'\n      }\n    ]\n    errorHandlingOnCustomizerError: 'cleanup'\n    errorHandlingOnValidationError: 'abort'\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedResourceTags: {\n      testKey1: 'testValue1'\n      testKey2: 'testValue2'\n    }\n    optimizeVmBoot: 'Enabled'\n    osDiskSizeGB: 127\n    roleAssignments: [\n      {\n        name: 'bb257a92-dc06-4831-9b74-ee5442d8ce0f'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    stagingResourceGroupResourceId: '<stagingResourceGroupResourceId>'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    validationProcess: {\n      continueDistributeOnFailure: true\n      inVMValidations: [\n        {\n          inline: [\n            'echo \\'Software validation successful.\\''\n          ]\n          name: 'Validate-Software'\n          type: 'Shell'\n        }\n      ]\n      sourceValidationOnly: false\n    }\n    vmSize: 'Standard_D2s_v3'\n    vmUserAssignedIdentities: [\n      '<managedIdentityResourceId>'\n    ]\n    vnetConfig: {\n      proxyVmSize: 'Standard_A1_v2'\n      subnetResourceId: '<subnetResourceId>'\n    }\n  }\n}"}
{"id": "avm_res_virtual-machine-images_image-template_example_3", "source": "avm/res/virtual-machine-images/image-template/README.md", "content_to_embed": "Recommended AVM Module for Virtual Machine Image Templates: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.VirtualMachineImages/imageTemplates\nModule ID: br/public:avm/res/virtual-machine-images/image-template:0.6\nParameters:\nparams: {\n    // Required parameters\n    distributions: [\n      {\n        sharedImageGalleryImageDefinitionResourceId: '<sharedImageGalleryImageDefinitionResourceId>'\n        type: 'SharedImage'\n      }\n    ]\n    imageSource: {\n      offer: 'Windows-11'\n      publisher: 'MicrosoftWindowsDesktop'\n      sku: 'win11-22h2-avd'\n      type: 'PlatformImage'\n      version: 'latest'\n    }\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    name: 'vmiitwaf001'\n    // Non-required parameters\n    customizationSteps: [\n      {\n        restartTimeout: '10m'\n        type: 'WindowsRestart'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    vnetConfig: {\n      containerInstanceSubnetResourceId: '<containerInstanceSubnetResourceId>'\n      subnetResourceId: '<subnetResourceId>'\n    }\n  }", "bicep": "module imageTemplate 'br/public:avm/res/virtual-machine-images/image-template:0.6' = {\n  name: 'imageTemplateDeployment'\n  params: {\n    // Required parameters\n    distributions: [\n      {\n        sharedImageGalleryImageDefinitionResourceId: '<sharedImageGalleryImageDefinitionResourceId>'\n        type: 'SharedImage'\n      }\n    ]\n    imageSource: {\n      offer: 'Windows-11'\n      publisher: 'MicrosoftWindowsDesktop'\n      sku: 'win11-22h2-avd'\n      type: 'PlatformImage'\n      version: 'latest'\n    }\n    managedIdentities: {\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    name: 'vmiitwaf001'\n    // Non-required parameters\n    customizationSteps: [\n      {\n        restartTimeout: '10m'\n        type: 'WindowsRestart'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    vnetConfig: {\n      containerInstanceSubnetResourceId: '<containerInstanceSubnetResourceId>'\n      subnetResourceId: '<subnetResourceId>'\n    }\n  }\n}"}
{"id": "avm_res_web_connection_example_1", "source": "avm/res/web/connection/README.md", "content_to_embed": "Recommended AVM Module for API Connections: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Web/connections\nModule ID: br/public:avm/res/web/connection:0.4\nParameters:\nparams: {\n    // Required parameters\n    displayName: 'azuremonitorlogs'\n    name: 'azuremonitor'\n    // Non-required parameters\n    api: {\n      id: '<id>'\n    }\n    location: '<location>'\n  }", "bicep": "module connection 'br/public:avm/res/web/connection:0.4' = {\n  name: 'connectionDeployment'\n  params: {\n    // Required parameters\n    displayName: 'azuremonitorlogs'\n    name: 'azuremonitor'\n    // Non-required parameters\n    api: {\n      id: '<id>'\n    }\n    location: '<location>'\n  }\n}"}
{"id": "avm_res_web_connection_example_2", "source": "avm/res/web/connection/README.md", "content_to_embed": "Recommended AVM Module for API Connections: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Web/connections\nModule ID: br/public:avm/res/web/connection:0.4\nParameters:\nparams: {\n    // Required parameters\n    displayName: 'azuremonitorlogs'\n    name: 'azuremonitor'\n    // Non-required parameters\n    api: {\n      id: '<id>'\n    }\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    roleAssignments: [\n      {\n        name: '396667c8-de54-4dcb-916a-72af71359f34'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module connection 'br/public:avm/res/web/connection:0.4' = {\n  name: 'connectionDeployment'\n  params: {\n    // Required parameters\n    displayName: 'azuremonitorlogs'\n    name: 'azuremonitor'\n    // Non-required parameters\n    api: {\n      id: '<id>'\n    }\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    roleAssignments: [\n      {\n        name: '396667c8-de54-4dcb-916a-72af71359f34'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_web_connection_example_3", "source": "avm/res/web/connection/README.md", "content_to_embed": "Recommended AVM Module for API Connections: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Web/connections\nModule ID: br/public:avm/res/web/connection:0.4\nParameters:\nparams: {\n    // Required parameters\n    displayName: 'azuremonitorlogs'\n    name: 'azuremonitor'\n    // Non-required parameters\n    api: {\n      id: '<id>'\n    }\n    location: '<location>'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }", "bicep": "module connection 'br/public:avm/res/web/connection:0.4' = {\n  name: 'connectionDeployment'\n  params: {\n    // Required parameters\n    displayName: 'azuremonitorlogs'\n    name: 'azuremonitor'\n    // Non-required parameters\n    api: {\n      id: '<id>'\n    }\n    location: '<location>'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n  }\n}"}
{"id": "avm_res_web_hosting-environment_example_1", "source": "avm/res/web/hosting-environment/README.md", "content_to_embed": "Recommended AVM Module for App Service Environments: Using default parameter set - This instance deploys the module with a base set of parameters. Note it does include the use of Availability zones by default.\nResource Type Path: Microsoft.Web/hostingEnvironments\nModule ID: br/public:avm/res/web/hosting-environment:0.4\nParameters:\nparams: {\n    // Required parameters\n    name: 'whemin001'\n    subnetResourceId: '<subnetResourceId>'\n  }", "bicep": "module hostingEnvironment 'br/public:avm/res/web/hosting-environment:0.4' = {\n  name: 'hostingEnvironmentDeployment'\n  params: {\n    // Required parameters\n    name: 'whemin001'\n    subnetResourceId: '<subnetResourceId>'\n  }\n}"}
{"id": "avm_res_web_hosting-environment_example_2", "source": "avm/res/web/hosting-environment/README.md", "content_to_embed": "Recommended AVM Module for App Service Environments: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Web/hostingEnvironments\nModule ID: br/public:avm/res/web/hosting-environment:0.4\nParameters:\nparams: {\n    // Required parameters\n    name: 'whemax001'\n    subnetResourceId: '<subnetResourceId>'\n    // Non-required parameters\n    clusterSettings: [\n      {\n        name: 'DisableTls1.0'\n        value: '1'\n      }\n    ]\n    customDnsSuffix: 'internal.contoso.com'\n    customDnsSuffixCertificateUrl: '<customDnsSuffixCertificateUrl>'\n    customDnsSuffixKeyVaultReferenceIdentity: '<customDnsSuffixKeyVaultReferenceIdentity>'\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    internalLoadBalancingMode: 'Web, Publishing'\n    kind: 'ASEv3'\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    networkConfiguration: {\n      properties: {\n        allowNewPrivateEndpointConnections: true\n        ftpEnabled: true\n        inboundIpAddressOverride: '10.0.0.10'\n        remoteDebugEnabled: true\n      }\n    }\n    roleAssignments: [\n      {\n        name: '97fc1da9-bfe4-409d-b17a-da9a82fad0d0'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      'hidden-title': 'This is visible in the resource name'\n      hostingEnvironmentName: 'whemax001'\n      resourceType: 'App Service Environment'\n    }\n    upgradePreference: 'Late'\n    zoneRedundant: true\n  }", "bicep": "module hostingEnvironment 'br/public:avm/res/web/hosting-environment:0.4' = {\n  name: 'hostingEnvironmentDeployment'\n  params: {\n    // Required parameters\n    name: 'whemax001'\n    subnetResourceId: '<subnetResourceId>'\n    // Non-required parameters\n    clusterSettings: [\n      {\n        name: 'DisableTls1.0'\n        value: '1'\n      }\n    ]\n    customDnsSuffix: 'internal.contoso.com'\n    customDnsSuffixCertificateUrl: '<customDnsSuffixCertificateUrl>'\n    customDnsSuffixKeyVaultReferenceIdentity: '<customDnsSuffixKeyVaultReferenceIdentity>'\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    internalLoadBalancingMode: 'Web, Publishing'\n    kind: 'ASEv3'\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    networkConfiguration: {\n      properties: {\n        allowNewPrivateEndpointConnections: true\n        ftpEnabled: true\n        inboundIpAddressOverride: '10.0.0.10'\n        remoteDebugEnabled: true\n      }\n    }\n    roleAssignments: [\n      {\n        name: '97fc1da9-bfe4-409d-b17a-da9a82fad0d0'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    tags: {\n      'hidden-title': 'This is visible in the resource name'\n      hostingEnvironmentName: 'whemax001'\n      resourceType: 'App Service Environment'\n    }\n    upgradePreference: 'Late'\n    zoneRedundant: true\n  }\n}"}
{"id": "avm_res_web_hosting-environment_example_3", "source": "avm/res/web/hosting-environment/README.md", "content_to_embed": "Recommended AVM Module for App Service Environments: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Web/hostingEnvironments\nModule ID: br/public:avm/res/web/hosting-environment:0.4\nParameters:\nparams: {\n    // Required parameters\n    name: 'whewaf001'\n    subnetResourceId: '<subnetResourceId>'\n    // Non-required parameters\n    clusterSettings: [\n      {\n        name: 'DisableTls1.0'\n        value: '1'\n      }\n    ]\n    customDnsSuffix: 'internal.contoso.com'\n    customDnsSuffixCertificateUrl: '<customDnsSuffixCertificateUrl>'\n    customDnsSuffixKeyVaultReferenceIdentity: '<customDnsSuffixKeyVaultReferenceIdentity>'\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    internalLoadBalancingMode: 'Web, Publishing'\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    networkConfiguration: {\n      properties: {\n        allowNewPrivateEndpointConnections: true\n        ftpEnabled: true\n        remoteDebugEnabled: true\n      }\n    }\n    tags: {\n      'hidden-title': 'This is visible in the resource name'\n      hostingEnvironmentName: 'whewaf001'\n      resourceType: 'App Service Environment'\n    }\n    upgradePreference: 'Late'\n  }", "bicep": "module hostingEnvironment 'br/public:avm/res/web/hosting-environment:0.4' = {\n  name: 'hostingEnvironmentDeployment'\n  params: {\n    // Required parameters\n    name: 'whewaf001'\n    subnetResourceId: '<subnetResourceId>'\n    // Non-required parameters\n    clusterSettings: [\n      {\n        name: 'DisableTls1.0'\n        value: '1'\n      }\n    ]\n    customDnsSuffix: 'internal.contoso.com'\n    customDnsSuffixCertificateUrl: '<customDnsSuffixCertificateUrl>'\n    customDnsSuffixKeyVaultReferenceIdentity: '<customDnsSuffixKeyVaultReferenceIdentity>'\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    internalLoadBalancingMode: 'Web, Publishing'\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    networkConfiguration: {\n      properties: {\n        allowNewPrivateEndpointConnections: true\n        ftpEnabled: true\n        remoteDebugEnabled: true\n      }\n    }\n    tags: {\n      'hidden-title': 'This is visible in the resource name'\n      hostingEnvironmentName: 'whewaf001'\n      resourceType: 'App Service Environment'\n    }\n    upgradePreference: 'Late'\n  }\n}"}
{"id": "avm_res_web_serverfarm_example_1", "source": "avm/res/web/serverfarm/README.md", "content_to_embed": "Recommended AVM Module for App Service Plan: Using default parameter set - This instance deploys the module with a base set of parameters. Note it does include the use of Availability zones by default.\nResource Type Path: Microsoft.Web/serverfarms\nModule ID: br/public:avm/res/web/serverfarm:0.5\nParameters:\nparams: {\n    name: 'wsfmin001'\n  }", "bicep": "module serverfarm 'br/public:avm/res/web/serverfarm:0.5' = {\n  name: 'serverfarmDeployment'\n  params: {\n    name: 'wsfmin001'\n  }\n}"}
{"id": "avm_res_web_serverfarm_example_2", "source": "avm/res/web/serverfarm/README.md", "content_to_embed": "Recommended AVM Module for App Service Plan: Flexible Consumption - This instance deploys the module in a flexible consumption app service plan.\nResource Type Path: Microsoft.Web/serverfarms\nModule ID: br/public:avm/res/web/serverfarm:0.5\nParameters:\nparams: {\n    // Required parameters\n    name: 'wsffcp001'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSettingwsffcp'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    reserved: true\n    skuName: 'FC1'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    zoneRedundant: false\n  }", "bicep": "module serverfarm 'br/public:avm/res/web/serverfarm:0.5' = {\n  name: 'serverfarmDeployment'\n  params: {\n    // Required parameters\n    name: 'wsffcp001'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSettingwsffcp'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    reserved: true\n    skuName: 'FC1'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    zoneRedundant: false\n  }\n}"}
{"id": "avm_res_web_serverfarm_example_3", "source": "avm/res/web/serverfarm/README.md", "content_to_embed": "Recommended AVM Module for App Service Plan: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Web/serverfarms\nModule ID: br/public:avm/res/web/serverfarm:0.5\nParameters:\nparams: {\n    // Required parameters\n    name: 'wsfmax001'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSettingwsfmax'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    kind: 'app'\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'lock'\n    }\n    perSiteScaling: true\n    roleAssignments: [\n      {\n        name: '97fc1da9-bfe4-409d-b17a-da9a82fad0d0'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    skuCapacity: 3\n    skuName: 'P1v3'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    zoneRedundant: true\n  }", "bicep": "module serverfarm 'br/public:avm/res/web/serverfarm:0.5' = {\n  name: 'serverfarmDeployment'\n  params: {\n    // Required parameters\n    name: 'wsfmax001'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSettingwsfmax'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    kind: 'app'\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'lock'\n    }\n    perSiteScaling: true\n    roleAssignments: [\n      {\n        name: '97fc1da9-bfe4-409d-b17a-da9a82fad0d0'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    skuCapacity: 3\n    skuName: 'P1v3'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    zoneRedundant: true\n  }\n}"}
{"id": "avm_res_web_serverfarm_example_4", "source": "avm/res/web/serverfarm/README.md", "content_to_embed": "Recommended AVM Module for App Service Plan: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Web/serverfarms\nModule ID: br/public:avm/res/web/serverfarm:0.5\nParameters:\nparams: {\n    // Required parameters\n    name: 'wsfwaf001'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSettingwsfwaf'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    kind: 'app'\n    skuCapacity: 3\n    skuName: 'P1v3'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    zoneRedundant: true\n  }", "bicep": "module serverfarm 'br/public:avm/res/web/serverfarm:0.5' = {\n  name: 'serverfarmDeployment'\n  params: {\n    // Required parameters\n    name: 'wsfwaf001'\n    // Non-required parameters\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSettingwsfwaf'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    kind: 'app'\n    skuCapacity: 3\n    skuName: 'P1v3'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    zoneRedundant: true\n  }\n}"}
{"id": "avm_res_web_site_example_1", "source": "avm/res/web/site/README.md", "content_to_embed": "Recommended AVM Module for Web/Function Apps: Function App, using only defaults - This instance deploys the module as Function App with the minimum set of required parameters.\nResource Type Path: Microsoft.Web/sites\nModule ID: br/public:avm/res/web/site:0.19\nParameters:\nparams: {\n    // Required parameters\n    kind: 'functionapp'\n    name: 'wsfamin001'\n    serverFarmResourceId: '<serverFarmResourceId>'\n  }", "bicep": "module site 'br/public:avm/res/web/site:0.19' = {\n  name: 'siteDeployment'\n  params: {\n    // Required parameters\n    kind: 'functionapp'\n    name: 'wsfamin001'\n    serverFarmResourceId: '<serverFarmResourceId>'\n  }\n}"}
{"id": "avm_res_web_site_example_2", "source": "avm/res/web/site/README.md", "content_to_embed": "Recommended AVM Module for Web/Function Apps: Function App, using large parameter set - This instance deploys the module as Function App with most of its features enabled.\nResource Type Path: Microsoft.Web/sites\nModule ID: br/public:avm/res/web/site:0.19\nParameters:\nparams: {\n    // Required parameters\n    kind: 'functionapp'\n    name: 'wsfamax001'\n    serverFarmResourceId: '<serverFarmResourceId>'\n    // Non-required parameters\n    basicPublishingCredentialsPolicies: [\n      {\n        allow: false\n        name: 'ftp'\n      }\n      {\n        allow: false\n        name: 'scm'\n      }\n    ]\n    configs: [\n      {\n        applicationInsightResourceId: '<applicationInsightResourceId>'\n        name: 'appsettings'\n        properties: {\n          AzureFunctionsJobHost__logging__logLevel__default: 'Trace'\n          EASYAUTH_SECRET: '<EASYAUTH_SECRET>'\n          FUNCTIONS_EXTENSION_VERSION: '~4'\n          FUNCTIONS_WORKER_RUNTIME: 'dotnet'\n        }\n        storageAccountResourceId: '<storageAccountResourceId>'\n        storageAccountUseIdentityAuthentication: true\n      }\n      {\n        name: 'authsettingsV2'\n        properties: {\n          globalValidation: {\n            requireAuthentication: true\n            unauthenticatedClientAction: 'Return401'\n          }\n          httpSettings: {\n            forwardProxy: {\n              convention: 'NoProxy'\n            }\n            requireHttps: true\n            routes: {\n              apiPrefix: '/.auth'\n            }\n          }\n          identityProviders: {\n            azureActiveDirectory: {\n              enabled: true\n              login: {\n                disableWWWAuthenticate: false\n              }\n              registration: {\n                clientId: 'd874dd2f-2032-4db1-a053-f0ec243685aa'\n                clientSecretSettingName: 'EASYAUTH_SECRET'\n                openIdIssuer: '<openIdIssuer>'\n              }\n              validation: {\n                allowedAudiences: [\n                  'api://d874dd2f-2032-4db1-a053-f0ec243685aa'\n                ]\n                defaultAuthorizationPolicy: {\n                  allowedPrincipals: {}\n                }\n                jwtClaimChecks: {}\n              }\n            }\n          }\n          login: {\n            allowedExternalRedirectUrls: [\n              'string'\n            ]\n            cookieExpiration: {\n              convention: 'FixedTime'\n              timeToExpiration: '08:00:00'\n            }\n            nonce: {\n              nonceExpirationInterval: '00:05:00'\n              validateNonce: true\n            }\n            preserveUrlFragmentsForLogins: false\n            routes: {}\n            tokenStore: {\n              azureBlobStorage: {}\n              enabled: true\n              fileSystem: {}\n              tokenRefreshExtensionHours: 72\n            }\n          }\n          platform: {\n            enabled: true\n            runtimeVersion: '~1'\n          }\n        }\n      }\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    hybridConnectionRelays: [\n      {\n        hybridConnectionResourceId: '<hybridConnectionResourceId>'\n        sendKeyName: 'defaultSender'\n      }\n    ]\n    keyVaultAccessIdentityResourceId: '<keyVaultAccessIdentityResourceId>'\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    roleAssignments: [\n      {\n        name: '9efc9c10-f482-4af0-9acb-03b5a16f947e'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    siteConfig: {\n      alwaysOn: true\n      use32BitWorkerProcess: false\n    }\n  }", "bicep": "module site 'br/public:avm/res/web/site:0.19' = {\n  name: 'siteDeployment'\n  params: {\n    // Required parameters\n    kind: 'functionapp'\n    name: 'wsfamax001'\n    serverFarmResourceId: '<serverFarmResourceId>'\n    // Non-required parameters\n    basicPublishingCredentialsPolicies: [\n      {\n        allow: false\n        name: 'ftp'\n      }\n      {\n        allow: false\n        name: 'scm'\n      }\n    ]\n    configs: [\n      {\n        applicationInsightResourceId: '<applicationInsightResourceId>'\n        name: 'appsettings'\n        properties: {\n          AzureFunctionsJobHost__logging__logLevel__default: 'Trace'\n          EASYAUTH_SECRET: '<EASYAUTH_SECRET>'\n          FUNCTIONS_EXTENSION_VERSION: '~4'\n          FUNCTIONS_WORKER_RUNTIME: 'dotnet'\n        }\n        storageAccountResourceId: '<storageAccountResourceId>'\n        storageAccountUseIdentityAuthentication: true\n      }\n      {\n        name: 'authsettingsV2'\n        properties: {\n          globalValidation: {\n            requireAuthentication: true\n            unauthenticatedClientAction: 'Return401'\n          }\n          httpSettings: {\n            forwardProxy: {\n              convention: 'NoProxy'\n            }\n            requireHttps: true\n            routes: {\n              apiPrefix: '/.auth'\n            }\n          }\n          identityProviders: {\n            azureActiveDirectory: {\n              enabled: true\n              login: {\n                disableWWWAuthenticate: false\n              }\n              registration: {\n                clientId: 'd874dd2f-2032-4db1-a053-f0ec243685aa'\n                clientSecretSettingName: 'EASYAUTH_SECRET'\n                openIdIssuer: '<openIdIssuer>'\n              }\n              validation: {\n                allowedAudiences: [\n                  'api://d874dd2f-2032-4db1-a053-f0ec243685aa'\n                ]\n                defaultAuthorizationPolicy: {\n                  allowedPrincipals: {}\n                }\n                jwtClaimChecks: {}\n              }\n            }\n          }\n          login: {\n            allowedExternalRedirectUrls: [\n              'string'\n            ]\n            cookieExpiration: {\n              convention: 'FixedTime'\n              timeToExpiration: '08:00:00'\n            }\n            nonce: {\n              nonceExpirationInterval: '00:05:00'\n              validateNonce: true\n            }\n            preserveUrlFragmentsForLogins: false\n            routes: {}\n            tokenStore: {\n              azureBlobStorage: {}\n              enabled: true\n              fileSystem: {}\n              tokenRefreshExtensionHours: 72\n            }\n          }\n          platform: {\n            enabled: true\n            runtimeVersion: '~1'\n          }\n        }\n      }\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    hybridConnectionRelays: [\n      {\n        hybridConnectionResourceId: '<hybridConnectionResourceId>'\n        sendKeyName: 'defaultSender'\n      }\n    ]\n    keyVaultAccessIdentityResourceId: '<keyVaultAccessIdentityResourceId>'\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    roleAssignments: [\n      {\n        name: '9efc9c10-f482-4af0-9acb-03b5a16f947e'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    siteConfig: {\n      alwaysOn: true\n      use32BitWorkerProcess: false\n    }\n  }\n}"}
{"id": "avm_res_web_site_example_3", "source": "avm/res/web/site/README.md", "content_to_embed": "Recommended AVM Module for Web/Function Apps: Linux Container Web App, using only defaults - This instance deploys the module as Linux Container Web App with the minimum set of required parameters.\nResource Type Path: Microsoft.Web/sites\nModule ID: br/public:avm/res/web/site:0.19\nParameters:\nparams: {\n    // Required parameters\n    kind: 'app,linux,container'\n    name: 'wslwamin001'\n    serverFarmResourceId: '<serverFarmResourceId>'\n    // Non-required parameters\n    siteConfig: {\n      appSettings: [\n        {\n          name: 'WEBSITES_ENABLE_APP_SERVICE_STORAGE'\n          value: 'false'\n        }\n      ]\n      ftpsState: 'FtpsOnly'\n      linuxFxVersion: 'DOCKER|mcr.microsoft.com/appsvc/staticsite:latest'\n      minTlsVersion: '1.2'\n    }\n  }", "bicep": "module site 'br/public:avm/res/web/site:0.19' = {\n  name: 'siteDeployment'\n  params: {\n    // Required parameters\n    kind: 'app,linux,container'\n    name: 'wslwamin001'\n    serverFarmResourceId: '<serverFarmResourceId>'\n    // Non-required parameters\n    siteConfig: {\n      appSettings: [\n        {\n          name: 'WEBSITES_ENABLE_APP_SERVICE_STORAGE'\n          value: 'false'\n        }\n      ]\n      ftpsState: 'FtpsOnly'\n      linuxFxVersion: 'DOCKER|mcr.microsoft.com/appsvc/staticsite:latest'\n      minTlsVersion: '1.2'\n    }\n  }\n}"}
{"id": "avm_res_web_site_example_4", "source": "avm/res/web/site/README.md", "content_to_embed": "Recommended AVM Module for Web/Function Apps: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Web/sites\nModule ID: br/public:avm/res/web/site:0.19\nParameters:\nparams: {\n    // Required parameters\n    kind: 'app'\n    name: 'wswaf001'\n    serverFarmResourceId: '<serverFarmResourceId>'\n    // Non-required parameters\n    basicPublishingCredentialsPolicies: [\n      {\n        allow: false\n        name: 'ftp'\n      }\n      {\n        allow: false\n        name: 'scm'\n      }\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    httpsOnly: true\n    outboundVnetRouting: {\n      allTraffic: true\n      contentShareTraffic: true\n      imagePullTraffic: true\n    }\n    publicNetworkAccess: 'Disabled'\n    scmSiteAlsoStopped: true\n    siteConfig: {\n      alwaysOn: true\n      ftpsState: 'FtpsOnly'\n      healthCheckPath: '/healthz'\n      metadata: [\n        {\n          name: 'CURRENT_STACK'\n          value: 'dotnetcore'\n        }\n      ]\n      minTlsVersion: '1.2'\n    }\n  }", "bicep": "module site 'br/public:avm/res/web/site:0.19' = {\n  name: 'siteDeployment'\n  params: {\n    // Required parameters\n    kind: 'app'\n    name: 'wswaf001'\n    serverFarmResourceId: '<serverFarmResourceId>'\n    // Non-required parameters\n    basicPublishingCredentialsPolicies: [\n      {\n        allow: false\n        name: 'ftp'\n      }\n      {\n        allow: false\n        name: 'scm'\n      }\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    httpsOnly: true\n    outboundVnetRouting: {\n      allTraffic: true\n      contentShareTraffic: true\n      imagePullTraffic: true\n    }\n    publicNetworkAccess: 'Disabled'\n    scmSiteAlsoStopped: true\n    siteConfig: {\n      alwaysOn: true\n      ftpsState: 'FtpsOnly'\n      healthCheckPath: '/healthz'\n      metadata: [\n        {\n          name: 'CURRENT_STACK'\n          value: 'dotnetcore'\n        }\n      ]\n      minTlsVersion: '1.2'\n    }\n  }\n}"}
{"id": "avm_res_web_site_example_5", "source": "avm/res/web/site/README.md", "content_to_embed": "Recommended AVM Module for Web/Function Apps: Access Restrictions - This instance deploys the module demonstrating access restrictions for Front Door and Application Gateway scenarios.\nResource Type Path: Microsoft.Web/sites\nModule ID: br/public:avm/res/web/site:0.19\nParameters:\nparams: {\n    // Required parameters\n    kind: 'app'\n    name: 'wsacr001'\n    serverFarmResourceId: '<serverFarmResourceId>'\n    // Non-required parameters\n    configs: [\n      {\n        name: 'web'\n        properties: {\n          ipSecurityRestrictions: [\n            {\n              action: 'Allow'\n              description: 'Allow access from Azure Front Door'\n              ipAddress: 'AzureFrontDoor.Backend'\n              name: 'Azure Front Door'\n              priority: 100\n              tag: 'ServiceTag'\n            }\n            {\n              action: 'Allow'\n              description: 'Allow access from Application Gateway'\n              ipAddress: 'GatewayManager'\n              name: 'Application Gateway'\n              priority: 200\n              tag: 'ServiceTag'\n            }\n            {\n              action: 'Allow'\n              description: 'Allow access from office network'\n              ipAddress: '203.0.113.0/24'\n              name: 'Office Network'\n              priority: 300\n            }\n            {\n              action: 'Allow'\n              description: 'Allow specific Front Door instance with X-Azure-FDID header'\n              headers: {\n                'x-azure-fdid': [\n                  'xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx'\n                ]\n              }\n              ipAddress: 'AzureFrontDoor.Backend'\n              name: 'Specific Front Door Instance'\n              priority: 400\n              tag: 'ServiceTag'\n            }\n          ]\n          ipSecurityRestrictionsDefaultAction: 'Allow'\n        }\n      }\n    ]\n    httpsOnly: true\n    siteConfig: {\n      alwaysOn: true\n      ftpsState: 'FtpsOnly'\n      minTlsVersion: '1.2'\n    }\n  }", "bicep": "module site 'br/public:avm/res/web/site:0.19' = {\n  name: 'siteDeployment'\n  params: {\n    // Required parameters\n    kind: 'app'\n    name: 'wsacr001'\n    serverFarmResourceId: '<serverFarmResourceId>'\n    // Non-required parameters\n    configs: [\n      {\n        name: 'web'\n        properties: {\n          ipSecurityRestrictions: [\n            {\n              action: 'Allow'\n              description: 'Allow access from Azure Front Door'\n              ipAddress: 'AzureFrontDoor.Backend'\n              name: 'Azure Front Door'\n              priority: 100\n              tag: 'ServiceTag'\n            }\n            {\n              action: 'Allow'\n              description: 'Allow access from Application Gateway'\n              ipAddress: 'GatewayManager'\n              name: 'Application Gateway'\n              priority: 200\n              tag: 'ServiceTag'\n            }\n            {\n              action: 'Allow'\n              description: 'Allow access from office network'\n              ipAddress: '203.0.113.0/24'\n              name: 'Office Network'\n              priority: 300\n            }\n            {\n              action: 'Allow'\n              description: 'Allow specific Front Door instance with X-Azure-FDID header'\n              headers: {\n                'x-azure-fdid': [\n                  'xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx'\n                ]\n              }\n              ipAddress: 'AzureFrontDoor.Backend'\n              name: 'Specific Front Door Instance'\n              priority: 400\n              tag: 'ServiceTag'\n            }\n          ]\n          ipSecurityRestrictionsDefaultAction: 'Allow'\n        }\n      }\n    ]\n    httpsOnly: true\n    siteConfig: {\n      alwaysOn: true\n      ftpsState: 'FtpsOnly'\n      minTlsVersion: '1.2'\n    }\n  }\n}"}
{"id": "avm_res_web_site_example_6", "source": "avm/res/web/site/README.md", "content_to_embed": "Recommended AVM Module for Web/Function Apps: Web App with Azure Storage Accounts Configuration - This instance deploys the module as Web App with azurestorageaccounts configuration demonstrating the correct structure for mounting Azure Storage Accounts.\nResource Type Path: Microsoft.Web/sites\nModule ID: br/public:avm/res/web/site:0.19\nParameters:\nparams: {\n    // Required parameters\n    kind: 'app'\n    name: 'wsazstor001'\n    serverFarmResourceId: '<serverFarmResourceId>'\n    // Non-required parameters\n    configs: [\n      {\n        name: 'azurestorageaccounts'\n        properties: {\n          'config-storage': {\n            accessKey: '<accessKey>'\n            accountName: '<accountName>'\n            mountPath: '\\\\mounts\\\\config'\n            protocol: 'Smb'\n            shareName: 'config-share'\n            type: 'AzureFiles'\n          }\n          'data-storage': {\n            accessKey: '<accessKey>'\n            accountName: '<accountName>'\n            mountPath: '\\\\mounts\\\\data'\n            protocol: 'Smb'\n            shareName: 'data-share'\n            type: 'AzureFiles'\n          }\n          'logs-storage': {\n            accessKey: '<accessKey>'\n            accountName: '<accountName>'\n            mountPath: '\\\\mounts\\\\logs'\n            protocol: 'Smb'\n            shareName: 'logs-share'\n            type: 'AzureFiles'\n          }\n        }\n      }\n      {\n        name: 'appsettings'\n        properties: {\n          STORAGE_CONFIG_MOUNT: '\\\\mounts\\\\config'\n          STORAGE_DATA_MOUNT: '\\\\mounts\\\\data'\n          STORAGE_LOGS_MOUNT: '\\\\mounts\\\\logs'\n        }\n      }\n    ]\n    location: '<location>'\n  }", "bicep": "module site 'br/public:avm/res/web/site:0.19' = {\n  name: 'siteDeployment'\n  params: {\n    // Required parameters\n    kind: 'app'\n    name: 'wsazstor001'\n    serverFarmResourceId: '<serverFarmResourceId>'\n    // Non-required parameters\n    configs: [\n      {\n        name: 'azurestorageaccounts'\n        properties: {\n          'config-storage': {\n            accessKey: '<accessKey>'\n            accountName: '<accountName>'\n            mountPath: '\\\\mounts\\\\config'\n            protocol: 'Smb'\n            shareName: 'config-share'\n            type: 'AzureFiles'\n          }\n          'data-storage': {\n            accessKey: '<accessKey>'\n            accountName: '<accountName>'\n            mountPath: '\\\\mounts\\\\data'\n            protocol: 'Smb'\n            shareName: 'data-share'\n            type: 'AzureFiles'\n          }\n          'logs-storage': {\n            accessKey: '<accessKey>'\n            accountName: '<accountName>'\n            mountPath: '\\\\mounts\\\\logs'\n            protocol: 'Smb'\n            shareName: 'logs-share'\n            type: 'AzureFiles'\n          }\n        }\n      }\n      {\n        name: 'appsettings'\n        properties: {\n          STORAGE_CONFIG_MOUNT: '\\\\mounts\\\\config'\n          STORAGE_DATA_MOUNT: '\\\\mounts\\\\data'\n          STORAGE_LOGS_MOUNT: '\\\\mounts\\\\logs'\n        }\n      }\n    ]\n    location: '<location>'\n  }\n}"}
{"id": "avm_res_web_site_example_7", "source": "avm/res/web/site/README.md", "content_to_embed": "Recommended AVM Module for Web/Function Apps: Web App, using only defaults - This instance deploys the module as Web App with the minimum set of required parameters.\nResource Type Path: Microsoft.Web/sites\nModule ID: br/public:avm/res/web/site:0.19\nParameters:\nparams: {\n    // Required parameters\n    kind: 'app'\n    name: 'wswamin001'\n    serverFarmResourceId: '<serverFarmResourceId>'\n  }", "bicep": "module site 'br/public:avm/res/web/site:0.19' = {\n  name: 'siteDeployment'\n  params: {\n    // Required parameters\n    kind: 'app'\n    name: 'wswamin001'\n    serverFarmResourceId: '<serverFarmResourceId>'\n  }\n}"}
{"id": "avm_res_web_site_example_8", "source": "avm/res/web/site/README.md", "content_to_embed": "Recommended AVM Module for Web/Function Apps: Web App, using large parameter set - This instance deploys the module as Web App with most of its features enabled.\nResource Type Path: Microsoft.Web/sites\nModule ID: br/public:avm/res/web/site:0.19\nParameters:\nparams: {\n    // Required parameters\n    kind: 'app'\n    name: 'wswamax001'\n    serverFarmResourceId: '<serverFarmResourceId>'\n    // Non-required parameters\n    basicPublishingCredentialsPolicies: [\n      {\n        allow: false\n        name: 'ftp'\n      }\n      {\n        allow: false\n        name: 'scm'\n      }\n    ]\n    configs: [\n      {\n        name: 'appsettings'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        storageAccountUseIdentityAuthentication: true\n      }\n      {\n        name: 'logs'\n        properties: {\n          applicationLogs: {\n            fileSystem: {\n              level: 'Verbose'\n            }\n          }\n          detailedErrorMessages: {\n            enabled: true\n          }\n          failedRequestsTracing: {\n            enabled: true\n          }\n          httpLogs: {\n            fileSystem: {\n              enabled: true\n              retentionInDays: 1\n              retentionInMb: 35\n            }\n          }\n        }\n      }\n      {\n        name: 'web'\n        properties: {\n          apiManagementConfig: {\n            id: '<id>'\n          }\n          ipSecurityRestrictions: [\n            {\n              action: 'Allow'\n              description: 'Test IP Restriction'\n              ipAddress: 'ApiManagement'\n              name: 'Test Restriction'\n              priority: 200\n              tag: 'ServiceTag'\n            }\n          ]\n        }\n      }\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    dnsConfiguration: {\n      dnsMaxCacheTimeout: 45\n      dnsRetryAttemptCount: 3\n      dnsRetryAttemptTimeout: 5\n      dnsServers: [\n        '168.63.129.16'\n      ]\n    }\n    httpsOnly: true\n    hybridConnectionRelays: [\n      {\n        hybridConnectionResourceId: '<hybridConnectionResourceId>'\n        sendKeyName: 'defaultSender'\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    outboundVnetRouting: {\n      allTraffic: true\n      contentShareTraffic: true\n      imagePullTraffic: true\n    }\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    publicNetworkAccess: 'Disabled'\n    roleAssignments: [\n      {\n        name: '0c2c82ef-069c-4085-b1bc-01614e0aa5ff'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    scmSiteAlsoStopped: true\n    siteConfig: {\n      alwaysOn: true\n      metadata: [\n        {\n          name: 'CURRENT_STACK'\n          value: 'dotnetcore'\n        }\n      ]\n    }\n    slots: [\n      {\n        basicPublishingCredentialsPolicies: [\n          {\n            allow: false\n            name: 'ftp'\n          }\n          {\n            allow: false\n            name: 'scm'\n          }\n        ]\n        configs: [\n          {\n            name: 'appsettings'\n            storageAccountResourceId: '<storageAccountResourceId>'\n            storageAccountUseIdentityAuthentication: true\n          }\n        ]\n        diagnosticSettings: [\n          {\n            eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n            eventHubName: '<eventHubName>'\n            name: 'customSetting'\n            storageAccountResourceId: '<storageAccountResourceId>'\n            workspaceResourceId: '<workspaceResourceId>'\n          }\n        ]\n        dnsConfiguration: {\n          dnsMaxCacheTimeout: 45\n          dnsRetryAttemptCount: 3\n          dnsRetryAttemptTimeout: 5\n          dnsServers: [\n            '168.63.129.20'\n          ]\n        }\n        hybridConnectionRelays: [\n          {\n            hybridConnectionResourceId: '<hybridConnectionResourceId>'\n            sendKeyName: 'defaultSender'\n          }\n        ]\n        name: 'slot1'\n        privateEndpoints: [\n          {\n            privateDnsZoneGroup: {\n              privateDnsZoneGroupConfigs: [\n                {\n                  privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n                }\n              ]\n            }\n            service: 'sites-slot1'\n            subnetResourceId: '<subnetResourceId>'\n            tags: {\n              Environment: 'Non-Prod'\n              'hidden-title': 'This is visible in the resource name'\n              Role: 'DeploymentValidation'\n            }\n          }\n        ]\n        roleAssignments: [\n          {\n            name: '845ed19c-78e7-4422-aa3d-b78b67cd78a2'\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            name: '<name>'\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n        siteConfig: {\n          alwaysOn: true\n          metadata: [\n            {\n              name: 'CURRENT_STACK'\n              value: 'dotnetcore'\n            }\n          ]\n        }\n      }\n      {\n        basicPublishingCredentialsPolicies: [\n          {\n            name: 'ftp'\n          }\n          {\n            name: 'scm'\n          }\n        ]\n        configs: [\n          {\n            name: 'appsettings'\n            storageAccountResourceId: '<storageAccountResourceId>'\n            storageAccountUseIdentityAuthentication: true\n          }\n        ]\n        name: 'slot2'\n      }\n    ]\n  }", "bicep": "module site 'br/public:avm/res/web/site:0.19' = {\n  name: 'siteDeployment'\n  params: {\n    // Required parameters\n    kind: 'app'\n    name: 'wswamax001'\n    serverFarmResourceId: '<serverFarmResourceId>'\n    // Non-required parameters\n    basicPublishingCredentialsPolicies: [\n      {\n        allow: false\n        name: 'ftp'\n      }\n      {\n        allow: false\n        name: 'scm'\n      }\n    ]\n    configs: [\n      {\n        name: 'appsettings'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        storageAccountUseIdentityAuthentication: true\n      }\n      {\n        name: 'logs'\n        properties: {\n          applicationLogs: {\n            fileSystem: {\n              level: 'Verbose'\n            }\n          }\n          detailedErrorMessages: {\n            enabled: true\n          }\n          failedRequestsTracing: {\n            enabled: true\n          }\n          httpLogs: {\n            fileSystem: {\n              enabled: true\n              retentionInDays: 1\n              retentionInMb: 35\n            }\n          }\n        }\n      }\n      {\n        name: 'web'\n        properties: {\n          apiManagementConfig: {\n            id: '<id>'\n          }\n          ipSecurityRestrictions: [\n            {\n              action: 'Allow'\n              description: 'Test IP Restriction'\n              ipAddress: 'ApiManagement'\n              name: 'Test Restriction'\n              priority: 200\n              tag: 'ServiceTag'\n            }\n          ]\n        }\n      }\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    dnsConfiguration: {\n      dnsMaxCacheTimeout: 45\n      dnsRetryAttemptCount: 3\n      dnsRetryAttemptTimeout: 5\n      dnsServers: [\n        '168.63.129.16'\n      ]\n    }\n    httpsOnly: true\n    hybridConnectionRelays: [\n      {\n        hybridConnectionResourceId: '<hybridConnectionResourceId>'\n        sendKeyName: 'defaultSender'\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    outboundVnetRouting: {\n      allTraffic: true\n      contentShareTraffic: true\n      imagePullTraffic: true\n    }\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    publicNetworkAccess: 'Disabled'\n    roleAssignments: [\n      {\n        name: '0c2c82ef-069c-4085-b1bc-01614e0aa5ff'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    scmSiteAlsoStopped: true\n    siteConfig: {\n      alwaysOn: true\n      metadata: [\n        {\n          name: 'CURRENT_STACK'\n          value: 'dotnetcore'\n        }\n      ]\n    }\n    slots: [\n      {\n        basicPublishingCredentialsPolicies: [\n          {\n            allow: false\n            name: 'ftp'\n          }\n          {\n            allow: false\n            name: 'scm'\n          }\n        ]\n        configs: [\n          {\n            name: 'appsettings'\n            storageAccountResourceId: '<storageAccountResourceId>'\n            storageAccountUseIdentityAuthentication: true\n          }\n        ]\n        diagnosticSettings: [\n          {\n            eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n            eventHubName: '<eventHubName>'\n            name: 'customSetting'\n            storageAccountResourceId: '<storageAccountResourceId>'\n            workspaceResourceId: '<workspaceResourceId>'\n          }\n        ]\n        dnsConfiguration: {\n          dnsMaxCacheTimeout: 45\n          dnsRetryAttemptCount: 3\n          dnsRetryAttemptTimeout: 5\n          dnsServers: [\n            '168.63.129.20'\n          ]\n        }\n        hybridConnectionRelays: [\n          {\n            hybridConnectionResourceId: '<hybridConnectionResourceId>'\n            sendKeyName: 'defaultSender'\n          }\n        ]\n        name: 'slot1'\n        privateEndpoints: [\n          {\n            privateDnsZoneGroup: {\n              privateDnsZoneGroupConfigs: [\n                {\n                  privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n                }\n              ]\n            }\n            service: 'sites-slot1'\n            subnetResourceId: '<subnetResourceId>'\n            tags: {\n              Environment: 'Non-Prod'\n              'hidden-title': 'This is visible in the resource name'\n              Role: 'DeploymentValidation'\n            }\n          }\n        ]\n        roleAssignments: [\n          {\n            name: '845ed19c-78e7-4422-aa3d-b78b67cd78a2'\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            name: '<name>'\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n        siteConfig: {\n          alwaysOn: true\n          metadata: [\n            {\n              name: 'CURRENT_STACK'\n              value: 'dotnetcore'\n            }\n          ]\n        }\n      }\n      {\n        basicPublishingCredentialsPolicies: [\n          {\n            name: 'ftp'\n          }\n          {\n            name: 'scm'\n          }\n        ]\n        configs: [\n          {\n            name: 'appsettings'\n            storageAccountResourceId: '<storageAccountResourceId>'\n            storageAccountUseIdentityAuthentication: true\n          }\n        ]\n        name: 'slot2'\n      }\n    ]\n  }\n}"}
{"id": "avm_res_web_site_example_9", "source": "avm/res/web/site/README.md", "content_to_embed": "Recommended AVM Module for Web/Function Apps: Linux Web App, using only defaults - This instance deploys the module as a Linux Web App with the minimum set of required parameters.\nResource Type Path: Microsoft.Web/sites\nModule ID: br/public:avm/res/web/site:0.19\nParameters:\nparams: {\n    // Required parameters\n    kind: 'app,linux'\n    name: 'wswalmin001'\n    serverFarmResourceId: '<serverFarmResourceId>'\n  }", "bicep": "module site 'br/public:avm/res/web/site:0.19' = {\n  name: 'siteDeployment'\n  params: {\n    // Required parameters\n    kind: 'app,linux'\n    name: 'wswalmin001'\n    serverFarmResourceId: '<serverFarmResourceId>'\n  }\n}"}
{"id": "avm_res_web_site_example_10", "source": "avm/res/web/site/README.md", "content_to_embed": "Recommended AVM Module for Web/Function Apps: Linux Web App, using large parameter set - This instance deploys the module asa Linux Web App with most of its features enabled.\nResource Type Path: Microsoft.Web/sites\nModule ID: br/public:avm/res/web/site:0.19\nParameters:\nparams: {\n    // Required parameters\n    kind: 'app,linux'\n    name: 'wswalmax001'\n    serverFarmResourceId: '<serverFarmResourceId>'\n    // Non-required parameters\n    basicPublishingCredentialsPolicies: [\n      {\n        allow: false\n        name: 'ftp'\n      }\n      {\n        allow: false\n        name: 'scm'\n      }\n    ]\n    configs: [\n      {\n        name: 'appsettings'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        storageAccountUseIdentityAuthentication: true\n      }\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    httpsOnly: true\n    hybridConnectionRelays: [\n      {\n        hybridConnectionResourceId: '<hybridConnectionResourceId>'\n        sendKeyName: 'defaultSender'\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    outboundVnetRouting: {\n      allTraffic: true\n      contentShareTraffic: true\n      imagePullTraffic: true\n    }\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    publicNetworkAccess: 'Disabled'\n    roleAssignments: [\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    scmSiteAlsoStopped: true\n    siteConfig: {\n      alwaysOn: true\n      metadata: [\n        {\n          name: 'CURRENT_STACK'\n          value: 'dotnetcore'\n        }\n      ]\n    }\n    slots: [\n      {\n        basicPublishingCredentialsPolicies: [\n          {\n            allow: false\n            name: 'ftp'\n          }\n          {\n            allow: false\n            name: 'scm'\n          }\n        ]\n        configs: [\n          {\n            name: 'appsettings'\n            storageAccountResourceId: '<storageAccountResourceId>'\n            storageAccountUseIdentityAuthentication: true\n          }\n        ]\n        diagnosticSettings: [\n          {\n            eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n            eventHubName: '<eventHubName>'\n            name: 'customSetting'\n            storageAccountResourceId: '<storageAccountResourceId>'\n            workspaceResourceId: '<workspaceResourceId>'\n          }\n        ]\n        hybridConnectionRelays: [\n          {\n            hybridConnectionResourceId: '<hybridConnectionResourceId>'\n            sendKeyName: 'defaultSender'\n          }\n        ]\n        name: 'slot1'\n        privateEndpoints: [\n          {\n            privateDnsZoneGroup: {\n              privateDnsZoneGroupConfigs: [\n                {\n                  privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n                }\n              ]\n            }\n            service: 'sites-slot1'\n            subnetResourceId: '<subnetResourceId>'\n            tags: {\n              Environment: 'Non-Prod'\n              'hidden-title': 'This is visible in the resource name'\n              Role: 'DeploymentValidation'\n            }\n          }\n        ]\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n        siteConfig: {\n          alwaysOn: true\n          metadata: [\n            {\n              name: 'CURRENT_STACK'\n              value: 'dotnetcore'\n            }\n          ]\n        }\n      }\n      {\n        basicPublishingCredentialsPolicies: [\n          {\n            name: 'ftp'\n          }\n          {\n            name: 'scm'\n          }\n        ]\n        configs: [\n          {\n            name: 'appsettings'\n            storageAccountResourceId: '<storageAccountResourceId>'\n            storageAccountUseIdentityAuthentication: true\n          }\n        ]\n        name: 'slot2'\n      }\n    ]\n  }", "bicep": "module site 'br/public:avm/res/web/site:0.19' = {\n  name: 'siteDeployment'\n  params: {\n    // Required parameters\n    kind: 'app,linux'\n    name: 'wswalmax001'\n    serverFarmResourceId: '<serverFarmResourceId>'\n    // Non-required parameters\n    basicPublishingCredentialsPolicies: [\n      {\n        allow: false\n        name: 'ftp'\n      }\n      {\n        allow: false\n        name: 'scm'\n      }\n    ]\n    configs: [\n      {\n        name: 'appsettings'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        storageAccountUseIdentityAuthentication: true\n      }\n    ]\n    diagnosticSettings: [\n      {\n        eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n        eventHubName: '<eventHubName>'\n        metricCategories: [\n          {\n            category: 'AllMetrics'\n          }\n        ]\n        name: 'customSetting'\n        storageAccountResourceId: '<storageAccountResourceId>'\n        workspaceResourceId: '<workspaceResourceId>'\n      }\n    ]\n    httpsOnly: true\n    hybridConnectionRelays: [\n      {\n        hybridConnectionResourceId: '<hybridConnectionResourceId>'\n        sendKeyName: 'defaultSender'\n      }\n    ]\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    outboundVnetRouting: {\n      allTraffic: true\n      contentShareTraffic: true\n      imagePullTraffic: true\n    }\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    publicNetworkAccess: 'Disabled'\n    roleAssignments: [\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    scmSiteAlsoStopped: true\n    siteConfig: {\n      alwaysOn: true\n      metadata: [\n        {\n          name: 'CURRENT_STACK'\n          value: 'dotnetcore'\n        }\n      ]\n    }\n    slots: [\n      {\n        basicPublishingCredentialsPolicies: [\n          {\n            allow: false\n            name: 'ftp'\n          }\n          {\n            allow: false\n            name: 'scm'\n          }\n        ]\n        configs: [\n          {\n            name: 'appsettings'\n            storageAccountResourceId: '<storageAccountResourceId>'\n            storageAccountUseIdentityAuthentication: true\n          }\n        ]\n        diagnosticSettings: [\n          {\n            eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n            eventHubName: '<eventHubName>'\n            name: 'customSetting'\n            storageAccountResourceId: '<storageAccountResourceId>'\n            workspaceResourceId: '<workspaceResourceId>'\n          }\n        ]\n        hybridConnectionRelays: [\n          {\n            hybridConnectionResourceId: '<hybridConnectionResourceId>'\n            sendKeyName: 'defaultSender'\n          }\n        ]\n        name: 'slot1'\n        privateEndpoints: [\n          {\n            privateDnsZoneGroup: {\n              privateDnsZoneGroupConfigs: [\n                {\n                  privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n                }\n              ]\n            }\n            service: 'sites-slot1'\n            subnetResourceId: '<subnetResourceId>'\n            tags: {\n              Environment: 'Non-Prod'\n              'hidden-title': 'This is visible in the resource name'\n              Role: 'DeploymentValidation'\n            }\n          }\n        ]\n        roleAssignments: [\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'Owner'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n          }\n          {\n            principalId: '<principalId>'\n            principalType: 'ServicePrincipal'\n            roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n          }\n        ]\n        siteConfig: {\n          alwaysOn: true\n          metadata: [\n            {\n              name: 'CURRENT_STACK'\n              value: 'dotnetcore'\n            }\n          ]\n        }\n      }\n      {\n        basicPublishingCredentialsPolicies: [\n          {\n            name: 'ftp'\n          }\n          {\n            name: 'scm'\n          }\n        ]\n        configs: [\n          {\n            name: 'appsettings'\n            storageAccountResourceId: '<storageAccountResourceId>'\n            storageAccountUseIdentityAuthentication: true\n          }\n        ]\n        name: 'slot2'\n      }\n    ]\n  }\n}"}
{"id": "avm_res_web_site_example_11", "source": "avm/res/web/site/README.md", "content_to_embed": "Recommended AVM Module for Web/Function Apps: Windows Web App for Containers, using only defaults - This instance deploys the module as a Windows based Container Web App with the minimum set of required parameters.\nResource Type Path: Microsoft.Web/sites\nModule ID: br/public:avm/res/web/site:0.19\nParameters:\nparams: {\n    // Required parameters\n    kind: 'app,container,windows'\n    name: 'wswcamin001'\n    serverFarmResourceId: '<serverFarmResourceId>'\n    // Non-required parameters\n    siteConfig: {\n      appSettings: [\n        {\n          name: 'WEBSITES_ENABLE_APP_SERVICE_STORAGE'\n          value: 'false'\n        }\n      ]\n      ftpsState: 'FtpsOnly'\n      minTlsVersion: '1.2'\n      windowsFxVersion: 'DOCKER|mcr.microsoft.com/azure-app-service/windows/parkingpage:latest'\n    }\n  }", "bicep": "module site 'br/public:avm/res/web/site:0.19' = {\n  name: 'siteDeployment'\n  params: {\n    // Required parameters\n    kind: 'app,container,windows'\n    name: 'wswcamin001'\n    serverFarmResourceId: '<serverFarmResourceId>'\n    // Non-required parameters\n    siteConfig: {\n      appSettings: [\n        {\n          name: 'WEBSITES_ENABLE_APP_SERVICE_STORAGE'\n          value: 'false'\n        }\n      ]\n      ftpsState: 'FtpsOnly'\n      minTlsVersion: '1.2'\n      windowsFxVersion: 'DOCKER|mcr.microsoft.com/azure-app-service/windows/parkingpage:latest'\n    }\n  }\n}"}
{"id": "avm_res_web_static-site_example_1", "source": "avm/res/web/static-site/README.md", "content_to_embed": "Recommended AVM Module for Static Web Apps: Using only defaults - This instance deploys the module with the minimum set of required parameters.\nResource Type Path: Microsoft.Web/staticSites\nModule ID: br/public:avm/res/web/static-site:0.9\nParameters:\nparams: {\n    name: 'wssmin001'\n  }", "bicep": "module staticSite 'br/public:avm/res/web/static-site:0.9' = {\n  name: 'staticSiteDeployment'\n  params: {\n    name: 'wssmin001'\n  }\n}"}
{"id": "avm_res_web_static-site_example_2", "source": "avm/res/web/static-site/README.md", "content_to_embed": "Recommended AVM Module for Static Web Apps: Using large parameter set - This instance deploys the module with most of its features enabled.\nResource Type Path: Microsoft.Web/staticSites\nModule ID: br/public:avm/res/web/static-site:0.9\nParameters:\nparams: {\n    // Required parameters\n    name: 'wssmax001'\n    // Non-required parameters\n    allowConfigFileUpdates: true\n    appSettings: {\n      foo: 'bar'\n      setting: 1\n    }\n    enterpriseGradeCdnStatus: 'Disabled'\n    functionAppSettings: {\n      foo: 'bar'\n      setting: 1\n    }\n    linkedBackend: {\n      resourceId: '<resourceId>'\n    }\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    publicNetworkAccess: 'Enabled'\n    roleAssignments: [\n      {\n        name: 'ba1328f0-c7ab-47bf-afbf-0637b9c02bbe'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    sku: 'Standard'\n    stagingEnvironmentPolicy: 'Enabled'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    virtualNetworkResourceId: '<virtualNetworkResourceId>'\n  }", "bicep": "module staticSite 'br/public:avm/res/web/static-site:0.9' = {\n  name: 'staticSiteDeployment'\n  params: {\n    // Required parameters\n    name: 'wssmax001'\n    // Non-required parameters\n    allowConfigFileUpdates: true\n    appSettings: {\n      foo: 'bar'\n      setting: 1\n    }\n    enterpriseGradeCdnStatus: 'Disabled'\n    functionAppSettings: {\n      foo: 'bar'\n      setting: 1\n    }\n    linkedBackend: {\n      resourceId: '<resourceId>'\n    }\n    location: '<location>'\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myCustomLockName'\n    }\n    managedIdentities: {\n      systemAssigned: true\n      userAssignedResourceIds: [\n        '<managedIdentityResourceId>'\n      ]\n    }\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n      }\n    ]\n    publicNetworkAccess: 'Enabled'\n    roleAssignments: [\n      {\n        name: 'ba1328f0-c7ab-47bf-afbf-0637b9c02bbe'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'Owner'\n      }\n      {\n        name: '<name>'\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n      }\n      {\n        principalId: '<principalId>'\n        principalType: 'ServicePrincipal'\n        roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n      }\n    ]\n    sku: 'Standard'\n    stagingEnvironmentPolicy: 'Enabled'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    virtualNetworkResourceId: '<virtualNetworkResourceId>'\n  }\n}"}
{"id": "avm_res_web_static-site_example_3", "source": "avm/res/web/static-site/README.md", "content_to_embed": "Recommended AVM Module for Static Web Apps: WAF-aligned - This instance deploys the module in alignment with the best-practices of the Azure Well-Architected Framework.\nResource Type Path: Microsoft.Web/staticSites\nModule ID: br/public:avm/res/web/static-site:0.9\nParameters:\nparams: {\n    // Required parameters\n    name: 'wsswaf001'\n    // Non-required parameters\n    allowConfigFileUpdates: true\n    appSettings: {\n      foo: 'bar'\n      setting: 1\n    }\n    enterpriseGradeCdnStatus: 'Disabled'\n    functionAppSettings: {\n      foo: 'bar'\n      setting: 1\n    }\n    linkedBackend: {\n      resourceId: '<resourceId>'\n    }\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n    ]\n    sku: 'Standard'\n    stagingEnvironmentPolicy: 'Enabled'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    virtualNetworkResourceId: '<virtualNetworkResourceId>'\n  }", "bicep": "module staticSite 'br/public:avm/res/web/static-site:0.9' = {\n  name: 'staticSiteDeployment'\n  params: {\n    // Required parameters\n    name: 'wsswaf001'\n    // Non-required parameters\n    allowConfigFileUpdates: true\n    appSettings: {\n      foo: 'bar'\n      setting: 1\n    }\n    enterpriseGradeCdnStatus: 'Disabled'\n    functionAppSettings: {\n      foo: 'bar'\n      setting: 1\n    }\n    linkedBackend: {\n      resourceId: '<resourceId>'\n    }\n    privateEndpoints: [\n      {\n        privateDnsZoneGroup: {\n          privateDnsZoneGroupConfigs: [\n            {\n              privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n            }\n          ]\n        }\n        subnetResourceId: '<subnetResourceId>'\n        tags: {\n          Environment: 'Non-Prod'\n          'hidden-title': 'This is visible in the resource name'\n          Role: 'DeploymentValidation'\n        }\n      }\n    ]\n    sku: 'Standard'\n    stagingEnvironmentPolicy: 'Enabled'\n    tags: {\n      Environment: 'Non-Prod'\n      'hidden-title': 'This is visible in the resource name'\n      Role: 'DeploymentValidation'\n    }\n    virtualNetworkResourceId: '<virtualNetworkResourceId>'\n  }\n}"}
{"id": "avm_utl_types_avm-common-types_example_1", "source": "avm/utl/types/avm-common-types/README.md", "content_to_embed": "Recommended AVM Module for Default interface types for AVM modules: Import all - This example imports all available types of the given module.\nResource Type Path: Types/AvmCommonTypes\nModule ID: br/public:avm/utl/types/avm-common-types:0.6\nParameters:\n(No explicit params block found.)", "bicep": "targetScope = 'subscription'\n\nmetadata name = 'Import all'\nmetadata description = '''\nThis example imports all available types of the given module.\n\nNote: In your module you would import only the types you need.\n'''\n\n// ============== //\n// Test Execution //\n// ============== //\n\nimport {\n  customerManagedKeyType\n  customerManagedKeyWithAutoRotateType\n  diagnosticSettingFullType\n  diagnosticSettingLogsOnlyType\n  diagnosticSettingMetricsOnlyType\n  roleAssignmentType\n  lockType\n  managedIdentityAllType\n  managedIdentityOnlySysAssignedType\n  managedIdentityOnlyUserAssignedType\n  privateEndpointMultiServiceType\n  privateEndpointSingleServiceType\n  secretToSetType\n  secretSetOutputType\n} from '../../../main.bicep' // Would be: br/public:avm/utl/types/avm-common-types:<version>\n\n//  ====================== //\n//   Diagnostic Settings   //\n//  ====================== //\nparam diagnosticFull diagnosticSettingFullType[] = [\n  {\n    eventHubAuthorizationRuleResourceId: '/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/myRg/providers/Microsoft.EventHub/namespaces/myNamespace/eventhubs/myHub/authorizationRules/myRule'\n    eventHubName: 'myHub'\n    logAnalyticsDestinationType: 'AzureDiagnostics'\n    logCategoriesAndGroups: [\n      {\n        categoryGroup: 'allLogs'\n      }\n      {\n        category: 'jobs'\n      }\n      {\n        category: 'notebook'\n      }\n    ]\n    marketplacePartnerResourceId: '/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/myRg/providers/Microsoft.Datadog/monitors/dd1'\n    metricCategories: [\n      {\n        category: 'AllMetrics'\n      }\n    ]\n    name: 'mySettings'\n    storageAccountResourceId: '/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/myRg/providers/Microsoft.Storage/storageAccounts/myStorageAccount'\n    workspaceResourceId: '/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/myRg/providers/Microsoft.OperationalInsights/workspaces/myLaw'\n  }\n  {\n    eventHubAuthorizationRuleResourceId: '/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/myRg/providers/Microsoft.EventHub/namespaces/myNamespace/eventhubs/myHub/authorizationRules/myRule'\n    eventHubName: 'myHub'\n    storageAccountResourceId: '/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/myRg/providers/Microsoft.Storage/storageAccounts/myStorageAccount'\n    workspaceResourceId: '/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/myRg/providers/Microsoft.OperationalInsights/workspaces/myLaw'\n  }\n]\noutput diagnosticFullOutput diagnosticSettingFullType[] = diagnosticFull\n\nparam diagnosticMetricsOnly diagnosticSettingMetricsOnlyType[] = [\n  {\n    eventHubAuthorizationRuleResourceId: '/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/myRg/providers/Microsoft.EventHub/namespaces/myNamespace/eventhubs/myHub/authorizationRules/myRule'\n    eventHubName: 'myHub'\n    logAnalyticsDestinationType: 'AzureDiagnostics'\n    marketplacePartnerResourceId: '/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/myRg/providers/Microsoft.Datadog/monitors/dd1'\n    metricCategories: [\n      {\n        category: 'AllMetrics'\n      }\n    ]\n    name: 'mySettings'\n    storageAccountResourceId: '/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/myRg/providers/Microsoft.Storage/storageAccounts/myStorageAccount'\n    workspaceResourceId: '/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/myRg/providers/Microsoft.OperationalInsights/workspaces/myLaw'\n  }\n]\noutput diagnosticMetricsOnlyOutput diagnosticSettingFullType[] = diagnosticMetricsOnly\n\nparam diagnosticLogsOnly diagnosticSettingLogsOnlyType[] = [\n  {\n    eventHubAuthorizationRuleResourceId: '/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/myRg/providers/Microsoft.EventHub/namespaces/myNamespace/eventhubs/myHub/authorizationRules/myRule'\n    eventHubName: 'myHub'\n    logAnalyticsDestinationType: 'AzureDiagnostics'\n    logCategoriesAndGroups: [\n      {\n        categoryGroup: 'allLogs'\n      }\n      {\n        category: 'jobs'\n      }\n      {\n        category: 'notebook'\n      }\n    ]\n    marketplacePartnerResourceId: '/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/myRg/providers/Microsoft.Datadog/monitors/dd1'\n    name: 'mySettings'\n    storageAccountResourceId: '/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/myRg/providers/Microsoft.Storage/storageAccounts/myStorageAccount'\n    workspaceResourceId: '/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/myRg/providers/Microsoft.OperationalInsights/workspaces/myLaw'\n  }\n]\noutput diagnosticLogsOnlyOutput diagnosticSettingFullType[] = diagnosticLogsOnly\n\n//  =================== //\n//   Role Assignments   //\n//  =================== //\nparam roleAssignments roleAssignmentType[] = [\n  {\n    principalId: '11111111-1111-1111-1111-111111111111'\n    roleDefinitionIdOrName: subscriptionResourceId(\n      'Microsoft.Authorization/roleDefinitions',\n      'acdd72a7-3385-48ef-bd42-f606fba81ae7'\n    ) // Reader\n    condition: '((!(ActionMatches{\\'Microsoft.Storage/storageAccounts/blobServices/containers/blobs/read\\'})) OR (@Resource[Microsoft.Storage/storageAccounts/blobServices/containers:name] StringEquals \\'blobs-example-container\\'))'\n    conditionVersion: '2.0'\n    delegatedManagedIdentityResourceId: '/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/myRg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/myIdentity'\n    description: 'my description'\n    name: 'myRoleAssignment'\n    principalType: 'ServicePrincipal'\n  }\n  {\n    principalId: '22222222-2222-2222-2222-222222222222'\n    roleDefinitionIdOrName: 'Reader'\n    principalType: 'ServicePrincipal'\n  }\n  {\n    principalId: '33333333-3333-3333-3333-333333333333'\n    roleDefinitionIdOrName: 'acdd72a7-3385-48ef-bd42-f606fba81ae7' //Reader\n    principalType: 'ServicePrincipal'\n  }\n]\noutput roleAssignmentsOutput roleAssignmentType[] = roleAssignments\n\n// ========= //\n//   Locks   //\n// ========= //\nparam lockDefaultNote lockType = {\n  kind: 'CanNotDelete'\n  name: 'myLock'\n}\noutput lockDefaultNoteOutput lockType = lockDefaultNote\n\nparam lockCustomNote lockType = {\n  kind: 'CanNotDelete'\n  name: 'myLock'\n  notes: 'This is a lock to prevent deletion of the resource.'\n}\noutput lockCustomNoteOutput lockType = lockCustomNote\n\n// ====================== //\n//   Managed Idenitites   //\n// ====================== //\nparam managedIdentityFull managedIdentityAllType = {\n  systemAssigned: true\n  userAssignedResourceIds: [\n    '/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/myRg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/myIdentity'\n  ]\n}\noutput managedIdentityFullOutput managedIdentityAllType = managedIdentityFull\n\nparam managedIdentityOnlySysAssigned managedIdentityOnlySysAssignedType = {\n  systemAssigned: true\n}\noutput managedIdentityOnlySysAssignedOutput managedIdentityAllType = managedIdentityOnlySysAssigned\n\nparam managedIdentityOnlyUserAssigned managedIdentityOnlyUserAssignedType = {\n  userAssignedResourceIds: [\n    '/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/myRg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/myIdentity'\n  ]\n}\noutput managedIdentityOnlyUserAssignedOutput managedIdentityAllType = managedIdentityOnlyUserAssigned\n\n// ===================== //\n//   Private Endpoints   //\n// ===================== //\nparam privateEndpointMultiService privateEndpointMultiServiceType[] = [\n  {\n    lock: {\n      kind: 'CanNotDelete'\n      name: 'myLock'\n    }\n    roleAssignments: [\n      {\n        principalId: '11111111-1111-1111-1111-111111111111'\n        roleDefinitionIdOrName: subscriptionResourceId(\n          'Microsoft.Authorization/roleDefinitions',\n          'acdd72a7-3385-48ef-bd42-f606fba81ae7'\n        ) // Reader\n      }\n    ]\n    subnetResourceId: '/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/myRg/providers/Microsoft.Network/virtualNetworks/myVnet/subnets/defaultSubnet'\n    resourceGroupResourceId: '/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/myRg'\n    service: 'blob'\n    applicationSecurityGroupResourceIds: [\n      '/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/myRg/providers/Microsoft.Network/applicationSecurityGroups/myAsg'\n    ]\n    customDnsConfigs: [\n      {\n        ipAddresses: [\n          '1.2.3.4'\n        ]\n      }\n    ]\n    customNetworkInterfaceName: 'myInterface'\n    ipConfigurations: [\n      {\n        name: 'myIpConfig'\n        properties: {\n          groupId: 'blob'\n          memberName: 'blob'\n          privateIPAddress: '1.2.3.4'\n        }\n      }\n    ]\n    isManualConnection: false\n    location: 'WestEurope'\n    manualConnectionRequestMessage: 'Please approve this connection.'\n    name: 'myPrivateEndpoint'\n    privateDnsZoneGroup: {\n      privateDnsZoneGroupConfigs: [\n        {\n          privateDnsZoneResourceId: '/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/myRg/providers/Microsoft.Network/privateDnsZones/myZone'\n          name: 'myConfig'\n        }\n      ]\n    }\n    privateLinkServiceConnectionName: 'myConnection'\n    tags: {\n      Environment: 'Non-Prod'\n      Role: 'DeploymentValidation'\n    }\n  }\n]\noutput privateEndpointMultiServiceOutput privateEndpointMultiServiceType[] = privateEndpointMultiService\n\nparam privateEndpointSingleService privateEndpointSingleServiceType[] = [\n  {\n    subnetResourceId: '/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/myRg/providers/Microsoft.Network/virtualNetworks/myVnet/subnets/defaultSubnet'\n  }\n]\noutput privateEndpointSingleServiceOutput privateEndpointSingleServiceType[] = privateEndpointSingleService\n\n// ======================== //\n//   Customer-Managed Keys  //\n// ======================== //\nparam customerManagedKeyFull customerManagedKeyType = {\n  keyName: 'myKey'\n  keyVaultResourceId: '/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/myRg/providers/Microsoft.KeyVault/vaults/myVault'\n  keyVersion: '2f4783701d724537a4e0c2d473c31846'\n  userAssignedIdentityResourceId: '/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/myRg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/myIdentity'\n}\noutput customerManagedKeyFullOutput customerManagedKeyType = customerManagedKeyFull\n\nparam customerManagedKeyDefaults customerManagedKeyType = {\n  keyName: 'myKey'\n  keyVaultResourceId: '/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/myRg/providers/Microsoft.KeyVault/vaults/myVault'\n}\noutput customerManagedKeyDefaultsOutput customerManagedKeyType = customerManagedKeyDefaults\n\nparam customerManagedKeyWithAutoRotate customerManagedKeyWithAutoRotateType = {\n  keyName: 'myKey'\n  keyVaultResourceId: '/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/myRg/providers/Microsoft.KeyVault/vaults/myVault'\n  autoRotationEnabled: false\n  userAssignedIdentityResourceId: '/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/myRg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/myIdentity'\n}\noutput customerManagedKeyWithAutoRotateOutput customerManagedKeyWithAutoRotateType = customerManagedKeyWithAutoRotate\n\n// ================== //\n//   Secrets Export   //\n// ================== //\nparam secretToSet secretToSetType[] = [\n  {\n    name: 'mySecret'\n    value: 'definitelyAValue'\n  }\n]\n#disable-next-line outputs-should-not-contain-secrets // Does not contain a secret\noutput secretToSetOutput secretToSetType[] = secretToSet\n\nparam secretSet secretSetOutputType[] = [\n  {\n    secretResourceId: '/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/myRg/providers/Microsoft.KeyVault/vaults/myVault/secrets/mySecret'\n    secretUri: 'https://myVault.${az.environment().suffixes.keyvaultDns}/secrets/mySecret'\n    secretUriWithVersion: 'https://myVault.${az.environment().suffixes.keyvaultDns}/secrets/mySecret/2f4783701d724537a4e0c2d473c31846'\n  }\n]\noutput secretSetOutput secretSetOutputType[] = secretSet"}
