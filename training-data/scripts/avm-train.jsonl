{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy an Azure API Connection: Using only defaults"}, {"role": "assistant", "content": "module connection 'br/public:avm/res/web/connection:<version>' = {\n name: 'connectionDeployment'\n params: {\n // Required parameters\n displayName: 'azuremonitorlogs'\n name: 'azuremonitor'\n // Non-required parameters\n api: {\n id: '<id>'\n }\n location: '<location>'\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy an App Service Environment: Using default parameter set"}, {"role": "assistant", "content": "module hostingEnvironment 'br/public:avm/res/web/hosting-environment:<version>' = {\n name: 'hostingEnvironmentDeployment'\n params: {\n // Required parameters\n name: 'whewaf001'\n subnetResourceId: '<subnetResourceId>'\n // Non-required parameters\n clusterSettings: [\n {\n name: 'DisableTls1.0'\n value: '1'\n }\n ]\n customDnsSuffix: 'internal.contoso.com'\n customDnsSuffixCertificateUrl: '<customDnsSuffixCertificateUrl>'\n customDnsSuffixKeyVaultReferenceIdentity: '<customDnsSuffixKeyVaultReferenceIdentity>'\n diagnosticSettings: [\n {\n eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n eventHubName: '<eventHubName>'\n name: 'customSetting'\n storageAccountResourceId: '<storageAccountResourceId>'\n workspaceResourceId: '<workspaceResourceId>'\n }\n ]\n internalLoadBalancingMode: 'Web, Publishing'\n managedIdentities: {\n systemAssigned: true\n userAssignedResourceIds: [\n '<managedIdentityResourceId>'\n ]\n }\n networkConfiguration: {\n properties: {\n allowNewPrivateEndpointConnections: true\n ftpEnabled: true\n remoteDebugEnabled: true\n }\n }\n tags: {\n 'hidden-title': 'This is visible in the resource name'\n hostingEnvironmentName: 'whewaf001'\n resourceType: 'App Service Environment'\n }\n upgradePreference: 'Late'\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy an App Service Plan: Using default parameter set"}, {"role": "assistant", "content": "module serverfarm 'br/public:avm/res/web/serverfarm:<version>' = {\n name: 'serverfarmDeployment'\n params: {\n // Required parameters\n name: 'wsfwaf001'\n // Non-required parameters\n diagnosticSettings: [\n {\n eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n eventHubName: '<eventHubName>'\n metricCategories: [\n {\n category: 'AllMetrics'\n }\n ]\n name: 'customSettingwsfwaf'\n storageAccountResourceId: '<storageAccountResourceId>'\n workspaceResourceId: '<workspaceResourceId>'\n }\n ]\n kind: 'app'\n skuCapacity: 3\n skuName: 'P1v3'\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n zoneRedundant: true\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Web or Function App: Function App, using only defaults"}, {"role": "assistant", "content": "appSettingsKeyValuePairs: {\n AzureFunctionsJobHost__logging__logLevel__default: 'Trace'\n EASYAUTH_SECRET: 'https://adp-#_namePrefix_#-az-kv-x-001.vault.azure.net/secrets/Modules-Test-SP-Password'\n FUNCTIONS_EXTENSION_VERSION: '~4'\n FUNCTIONS_WORKER_RUNTIME: 'dotnet'\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Static Web App: Using only defaults"}, {"role": "assistant", "content": "module staticSite 'br/public:avm/res/web/static-site:<version>' = {\n name: 'staticSiteDeployment'\n params: {\n // Required parameters\n name: 'wsswaf001'\n // Non-required parameters\n allowConfigFileUpdates: true\n appSettings: {\n foo: 'bar'\n setting: 1\n }\n enterpriseGradeCdnStatus: 'Disabled'\n functionAppSettings: {\n foo: 'bar'\n setting: 1\n }\n linkedBackend: {\n resourceId: '<resourceId>'\n }\n privateEndpoints: [\n {\n privateDnsZoneGroup: {\n privateDnsZoneGroupConfigs: [\n {\n privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n }\n ]\n }\n subnetResourceId: '<subnetResourceId>'\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n ]\n sku: 'Standard'\n stagingEnvironmentPolicy: 'Enabled'\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n virtualNetworkResourceId: '<virtualNetworkResourceId>'\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Virtual Machine Image Template that can be consumed by the Azure Image Builder (AIB): Using only defaults"}, {"role": "assistant", "content": "source: {\n type: 'SharedImageVersion'\n imageVersionID: '/subscriptions/<subscriptionId>/resourceGroups/<resourceGroup>/providers/Microsoft.Compute/galleries/<sharedImageGalleryName>/images/<imageDefinitionName/versions/<imageVersion>'\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy an Azure Synapse Analytics (Private Link Hub): Using only defaults"}, {"role": "assistant", "content": "module privateLinkHub 'br/public:avm/res/synapse/private-link-hub:<version>' = {\n name: 'privateLinkHubDeployment'\n params: {\n // Required parameters\n name: 'splhwaf001'\n // Non-required parameters\n privateEndpoints: [\n {\n privateDnsZoneGroup: {\n privateDnsZoneGroupConfigs: [\n {\n privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n }\n ]\n }\n service: 'Web'\n subnetResourceId: '<subnetResourceId>'\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n ]\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Synapse Workspace: Using Big Data Pool"}, {"role": "assistant", "content": "module workspace 'br/public:avm/res/synapse/workspace:<version>' = {\n name: 'workspaceDeployment'\n params: {\n // Required parameters\n defaultDataLakeStorageAccountResourceId: '<defaultDataLakeStorageAccountResourceId>'\n defaultDataLakeStorageFilesystem: '<defaultDataLakeStorageFilesystem>'\n name: 'swwaf002'\n sqlAdministratorLogin: 'synwsadmin'\n // Non-required parameters\n diagnosticSettings: [\n {\n eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n eventHubName: '<eventHubName>'\n logCategoriesAndGroups: [\n {\n category: 'SynapseRbacOperations'\n }\n {\n category: 'SynapseLinkEvent'\n }\n ]\n name: 'customSetting'\n storageAccountResourceId: '<storageAccountResourceId>'\n workspaceResourceId: '<workspaceResourceId>'\n }\n ]\n integrationRuntimes: [\n {\n name: 'shir01'\n type: 'SelfHosted'\n }\n ]\n managedVirtualNetwork: true\n privateEndpoints: [\n {\n privateDnsZoneGroup: {\n privateDnsZoneGroupConfigs: [\n {\n privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n }\n ]\n }\n service: 'SQL'\n subnetResourceId: '<subnetResourceId>'\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n ]\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Storage Account: Deploying as a Blob Storage"}, {"role": "assistant", "content": "module storageAccount 'br/public:avm/res/storage/storage-account:<version>' = {\n name: 'storageAccountDeployment'\n params: {\n // Required parameters\n name: 'ssawaf001'\n // Non-required parameters\n allowBlobPublicAccess: false\n blobServices: {\n automaticSnapshotPolicyEnabled: true\n containerDeleteRetentionPolicyDays: 10\n containerDeleteRetentionPolicyEnabled: true\n containers: [\n {\n name: 'avdscripts'\n publicAccess: 'None'\n }\n {\n immutabilityPolicy: {\n allowProtectedAppendWrites: false\n allowProtectedAppendWritesAll: true\n immutabilityPeriodSinceCreationInDays: 7\n }\n metadata: {\n testKey: 'testValue'\n }\n name: 'archivecontainer'\n publicAccess: 'None'\n }\n ]\n deleteRetentionPolicyDays: 9\n deleteRetentionPolicyEnabled: true\n diagnosticSettings: [\n {\n eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n eventHubName: '<eventHubName>'\n metricCategories: [\n {\n category: 'AllMetrics'\n }\n ]\n name: 'customSetting'\n storageAccountResourceId: '<storageAccountResourceId>'\n workspaceResourceId: '<workspaceResourceId>'\n }\n ]\n lastAccessTimeTrackingPolicyEnabled: true\n }\n diagnosticSettings: [\n {\n eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n eventHubName: '<eventHubName>'\n metricCategories: [\n {\n category: 'AllMetrics'\n }\n ]\n name: 'customSetting'\n storageAccountResourceId: '<storageAccountResourceId>'\n workspaceResourceId: '<workspaceResourceId>'\n }\n ]\n fileServices: {\n diagnosticSettings: [\n {\n eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n eventHubName: '<eventHubName>'\n metricCategories: [\n {\n category: 'AllMetrics'\n }\n ]\n name: 'customSetting'\n storageAccountResourceId: '<storageAccountResourceId>'\n workspaceResourceId: '<workspaceResourceId>'\n }\n ]\n shares: [\n {\n accessTier: 'Hot'\n name: 'avdprofiles'\n shareQuota: 5120\n }\n {\n name: 'avdprofiles2'\n shareQuota: 102400\n }\n ]\n }\n largeFileSharesState: 'Enabled'\n localUsers: [\n {\n hasSharedKey: false\n hasSshKey: true\n hasSshPassword: false\n homeDirectory: 'avdscripts'\n name: 'testuser'\n permissionScopes: [\n {\n permissions: 'r'\n resourceName: 'avdscripts'\n service: 'blob'\n }\n ]\n }\n ]\n managedIdentities: {\n systemAssigned: true\n userAssignedResourceIds: [\n '<managedIdentityResourceId>'\n ]\n }\n managementPolicyRules: [\n {\n definition: {\n actions: {\n baseBlob: {\n delete: {\n daysAfterModificationGreaterThan: 30\n }\n tierToCool: {\n daysAfterLastAccessTimeGreaterThan: 5\n }\n }\n }\n filters: {\n blobIndexMatch: [\n {\n name: 'BlobIndex'\n op: '=='\n value: '1'\n }\n ]\n blobTypes: [\n 'blockBlob'\n ]\n prefixMatch: [\n 'sample-container/log'\n ]\n }\n }\n enabled: true\n name: 'FirstRule'\n type: 'Lifecycle'\n }\n ]\n networkAcls: {\n bypass: 'AzureServices'\n defaultAction: 'Deny'\n ipRules: [\n {\n action: 'Allow'\n value: '1.1.1.1'\n }\n ]\n virtualNetworkRules: [\n {\n action: 'Allow'\n id: '<id>'\n }\n ]\n }\n privateEndpoints: [\n {\n privateDnsZoneGroup: {\n privateDnsZoneGroupConfigs: [\n {\n privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n }\n ]\n }\n service: 'blob'\n subnetResourceId: '<subnetResourceId>'\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n ]\n queueServices: {\n diagnosticSettings: [\n {\n eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n eventHubName: '<eventHubName>'\n metricCategories: [\n {\n category: 'AllMetrics'\n }\n ]\n name: 'customSetting'\n storageAccountResourceId: '<storageAccountResourceId>'\n workspaceResourceId: '<workspaceResourceId>'\n }\n ]\n queues: [\n {\n metadata: {\n key1: 'value1'\n key2: 'value2'\n }\n name: 'queue1'\n }\n {\n metadata: {}\n name: 'queue2'\n }\n ]\n }\n requireInfrastructureEncryption: true\n sasExpirationPeriod: '180.00:00:00'\n skuName: 'Standard_ZRS'\n tableServices: {\n diagnosticSettings: [\n {\n eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n eventHubName: '<eventHubName>'\n metricCategories: [\n {\n category: 'AllMetrics'\n }\n ]\n name: 'customSetting'\n storageAccountResourceId: '<storageAccountResourceId>'\n workspaceResourceId: '<workspaceResourceId>'\n }\n ]\n tables: [\n {\n name: 'table1'\n }\n {\n name: 'table2'\n }\n ]\n }\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy an Azure SQL Server Instance Pool: Using only defaults"}, {"role": "assistant", "content": "module instancePool 'br/public:avm/res/sql/instance-pool:<version>' = {\n name: 'instancePoolDeployment'\n params: {\n // Required parameters\n name: '<name>'\n subnetResourceId: '<subnetResourceId>'\n // Non-required parameters\n location: '<location>'\n skuName: 'GP_Gen5'\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a SQL Managed Instance: Using only defaults"}, {"role": "assistant", "content": "module managedInstance 'br/public:avm/res/sql/managed-instance:<version>' = {\n name: 'managedInstanceDeployment'\n params: {\n // Required parameters\n name: 'sqlmiwaf'\n subnetResourceId: '<subnetResourceId>'\n // Non-required parameters\n administratorLogin: 'adminUserName'\n administratorLoginPassword: '<administratorLoginPassword>'\n collation: 'SQL_Latin1_General_CP1_CI_AS'\n databases: [\n {\n backupLongTermRetentionPolicy: {\n name: 'default'\n }\n backupShortTermRetentionPolicy: {\n name: 'default'\n }\n diagnosticSettings: [\n {\n eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n eventHubName: '<eventHubName>'\n name: 'customSetting'\n storageAccountResourceId: '<storageAccountResourceId>'\n workspaceResourceId: '<workspaceResourceId>'\n }\n ]\n name: 'sqlmiwaf-db-001'\n }\n ]\n diagnosticSettings: [\n {\n eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n eventHubName: '<eventHubName>'\n logCategoriesAndGroups: [\n {\n categoryGroup: 'allLogs'\n }\n ]\n name: 'customSetting'\n storageAccountResourceId: '<storageAccountResourceId>'\n workspaceResourceId: '<workspaceResourceId>'\n }\n ]\n dnsZonePartnerResourceId: ''\n encryptionProtector: {\n serverKeyName: '<serverKeyName>'\n serverKeyType: 'AzureKeyVault'\n }\n hardwareFamily: 'Gen5'\n keys: [\n {\n name: '<name>'\n serverKeyType: 'AzureKeyVault'\n uri: '<uri>'\n }\n ]\n licenseType: 'LicenseIncluded'\n maintenanceWindow: 'Custom2'\n managedIdentities: {\n systemAssigned: true\n userAssignedResourceIds: [\n '<managedIdentityResourceId>'\n ]\n }\n primaryUserAssignedIdentityResourceId: '<primaryUserAssignedIdentityResourceId>'\n proxyOverride: 'Proxy'\n publicDataEndpointEnabled: false\n securityAlertPolicy: {\n emailAccountAdmins: true\n emailAddresses: [\n 'test1@contoso.com'\n 'test2@contoso.com'\n ]\n name: 'default'\n state: 'Enabled'\n storageAccountResourceId: '<storageAccountResourceId>'\n }\n servicePrincipal: 'SystemAssigned'\n skuName: 'GP_Gen5'\n skuTier: 'GeneralPurpose'\n storageSizeInGB: 32\n timezoneId: 'UTC'\n vCores: 4\n vulnerabilityAssessment: {\n name: 'default'\n recurringScans: {\n emails: [\n 'test1@contoso.com'\n 'test2@contoso.com'\n ]\n emailSubscriptionAdmins: true\n isEnabled: true\n }\n storageAccountResourceId: '<storageAccountResourceId>'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy an Azure SQL Server: With an administrator"}, {"role": "assistant", "content": "administrators: {\n azureADOnlyAuthentication: true\n login: 'John Doe' // if application can be anything\n sid: '[[objectId]]' // if application the object ID\n 'principalType' : 'User' // options: 'User' 'Group' 'Application'\n tenantId: '[[tenantId]]'\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a SignalR Service SignalR: Using only defaults"}, {"role": "assistant", "content": "module signalR 'br/public:avm/res/signal-r-service/signal-r:<version>' = {\n name: 'signalRDeployment'\n params: {\n // Required parameters\n name: 'srssrwaf-001'\n // Non-required parameters\n capacity: 2\n clientCertEnabled: false\n diagnosticSettings: [\n {\n eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n eventHubName: '<eventHubName>'\n storageAccountResourceId: '<storageAccountResourceId>'\n workspaceResourceId: '<workspaceResourceId>'\n }\n ]\n disableAadAuth: false\n disableLocalAuth: true\n kind: 'SignalR'\n networkAcls: {\n defaultAction: 'Allow'\n privateEndpoints: [\n {\n allow: []\n deny: [\n 'ServerConnection'\n 'Trace'\n ]\n name: 'pe-srssrwaf-001'\n }\n ]\n publicNetwork: {\n allow: []\n deny: [\n 'RESTAPI'\n 'Trace'\n ]\n }\n }\n privateEndpoints: [\n {\n privateDnsZoneGroup: {\n privateDnsZoneGroupConfigs: [\n {\n privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n }\n ]\n }\n subnetResourceId: '<subnetResourceId>'\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n ]\n resourceLogConfigurationsToEnable: [\n 'ConnectivityLogs'\n ]\n sku: 'Standard_S1'\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a SignalR Web PubSub Service: Using only defaults"}, {"role": "assistant", "content": "module webPubSub 'br/public:avm/res/signal-r-service/web-pub-sub:<version>' = {\n name: 'webPubSubDeployment'\n params: {\n // Required parameters\n name: 'srswpswaf-001'\n // Non-required parameters\n capacity: 2\n clientCertEnabled: false\n disableAadAuth: false\n disableLocalAuth: true\n managedIdentities: {\n systemAssigned: true\n }\n networkAcls: {\n defaultAction: 'Allow'\n privateEndpoints: [\n {\n allow: []\n deny: [\n 'ServerConnection'\n 'Trace'\n ]\n name: 'pe-srswpswaf-001'\n }\n ]\n publicNetwork: {\n allow: []\n deny: [\n 'RESTAPI'\n 'Trace'\n ]\n }\n }\n privateEndpoints: [\n {\n privateDnsZoneGroup: {\n privateDnsZoneGroupConfigs: [\n {\n privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n }\n ]\n }\n service: 'webpubsub'\n subnetResourceId: '<subnetResourceId>'\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n ]\n resourceLogConfigurationsToEnable: [\n 'ConnectivityLogs'\n ]\n sku: 'Standard_S1'\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy the module with the minimum set of required parameters: Using only defaults"}, {"role": "assistant", "content": "module trafficController 'br/public:avm/res/service-networking/traffic-controller:<version>' = {\n name: 'trafficControllerDeployment'\n params: {\n // Required parameters\n name: 'sntcwaf001'\n // Non-required parameters\n associations: [\n {\n name: 'association1'\n subnetResourceId: '<subnetResourceId>'\n }\n ]\n diagnosticSettings: [\n {\n eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n eventHubName: '<eventHubName>'\n storageAccountResourceId: '<storageAccountResourceId>'\n workspaceResourceId: '<workspaceResourceId>'\n }\n ]\n frontends: [\n {\n name: 'frontend1'\n }\n {\n name: 'frontend2'\n }\n ]\n location: '<location>'\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Service Fabric Cluster: Using client and server certificate parameter set"}, {"role": "assistant", "content": "module cluster 'br/public:avm/res/service-fabric/cluster:<version>' = {\n name: 'clusterDeployment'\n params: {\n // Required parameters\n managementEndpoint: 'https://sfcwaf001.westeurope.cloudapp.azure.com:19080'\n name: 'sfcwaf001'\n nodeTypes: [\n {\n applicationPorts: {\n endPort: 30000\n startPort: 20000\n }\n clientConnectionEndpointPort: 19000\n durabilityLevel: 'Silver'\n ephemeralPorts: {\n endPort: 65534\n startPort: 49152\n }\n httpGatewayEndpointPort: 19080\n isPrimary: true\n isStateless: false\n multipleAvailabilityZones: false\n name: 'Node01'\n placementProperties: {}\n reverseProxyEndpointPort: ''\n vmInstanceCount: 5\n }\n {\n applicationPorts: {\n endPort: 30000\n startPort: 20000\n }\n clientConnectionEndpointPort: 19000\n durabilityLevel: 'Bronze'\n ephemeralPorts: {\n endPort: 64000\n httpGatewayEndpointPort: 19007\n isPrimary: true\n name: 'Node02'\n startPort: 49000\n vmInstanceCount: 5\n }\n }\n ]\n reliabilityLevel: 'Silver'\n // Non-required parameters\n addOnFeatures: [\n 'BackupRestoreService'\n 'DnsService'\n 'RepairManager'\n 'ResourceMonitorService'\n ]\n applicationTypes: [\n {\n name: 'WordCount'\n }\n ]\n azureActiveDirectory: {\n clientApplication: '<clientApplication>'\n clusterApplication: 'cf33fea8-b30f-424f-ab73-c48d99e0b222'\n tenantId: '<tenantId>'\n }\n certificate: {\n thumbprint: '0AC113D5E1D94C401DDEB0EE2B1B96CC130'\n x509StoreName: 'My'\n }\n clientCertificateCommonNames: [\n {\n certificateCommonName: 'clientcommoncert1'\n certificateIssuerThumbprint: '0AC113D5E1D94C401DDEB0EE2B1B96CC130'\n isAdmin: false\n }\n {\n certificateCommonName: 'clientcommoncert2'\n certificateIssuerThumbprint: '0AC113D5E1D94C401DDEB0EE2B1B96CC131'\n isAdmin: false\n }\n ]\n diagnosticsStorageAccountConfig: {\n blobEndpoint: '<blobEndpoint>'\n protectedAccountKeyName: 'StorageAccountKey1'\n queueEndpoint: '<queueEndpoint>'\n storageAccountName: '<storageAccountName>'\n tableEndpoint: '<tableEndpoint>'\n }\n fabricSettings: [\n {\n name: 'Security'\n parameters: [\n {\n name: 'ClusterProtectionLevel'\n value: 'EncryptAndSign'\n }\n ]\n }\n {\n name: 'UpgradeService'\n parameters: [\n {\n name: 'AppPollIntervalInSeconds'\n value: '60'\n }\n ]\n }\n ]\n maxUnusedVersionsToKeep: 2\n notifications: [\n {\n isEnabled: true\n notificationCategory: 'WaveProgress'\n notificationLevel: 'Critical'\n notificationTargets: [\n {\n notificationChannel: 'EmailUser'\n receivers: [\n 'SomeReceiver'\n ]\n }\n ]\n }\n ]\n tags: {\n clusterName: 'sfcwaf001'\n 'hidden-title': 'This is visible in the resource name'\n resourceType: 'Service Fabric'\n }\n upgradeDescription: {\n deltaHealthPolicy: {\n maxPercentDeltaUnhealthyApplications: 0\n maxPercentDeltaUnhealthyNodes: 0\n maxPercentUpgradeDomainDeltaUnhealthyNodes: 0\n }\n forceRestart: false\n healthCheckRetryTimeout: '00:45:00'\n healthCheckStableDuration: '00:01:00'\n healthCheckWaitDuration: '00:00:30'\n healthPolicy: {\n maxPercentUnhealthyApplications: 0\n maxPercentUnhealthyNodes: 0\n }\n upgradeDomainTimeout: '02:00:00'\n upgradeReplicaSetCheckTimeout: '1.00:00:00'\n upgradeTimeout: '02:00:00'\n }\n vmImage: 'Linux'\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Service Bus Namespace: Using only defaults"}, {"role": "assistant", "content": "module namespace 'br/public:avm/res/service-bus/namespace:<version>' = {\n name: 'namespaceDeployment'\n params: {\n // Required parameters\n name: 'sbnwaf001'\n // Non-required parameters\n authorizationRules: [\n {\n name: 'RootManageSharedAccessKey'\n rights: [\n 'Listen'\n 'Manage'\n 'Send'\n ]\n }\n {\n name: 'AnotherKey'\n rights: [\n 'Listen'\n 'Send'\n ]\n }\n ]\n diagnosticSettings: [\n {\n eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n eventHubName: '<eventHubName>'\n storageAccountResourceId: '<storageAccountResourceId>'\n workspaceResourceId: '<workspaceResourceId>'\n }\n ]\n networkRuleSets: {\n defaultAction: 'Deny'\n ipRules: [\n {\n action: 'Allow'\n ipMask: '10.0.1.0/32'\n }\n {\n action: 'Allow'\n ipMask: '10.0.2.0/32'\n }\n ]\n trustedServiceAccessEnabled: true\n virtualNetworkRules: [\n {\n ignoreMissingVnetServiceEndpoint: true\n subnetResourceId: '<subnetResourceId>'\n }\n ]\n }\n privateEndpoints: [\n {\n privateDnsZoneGroup: {\n privateDnsZoneGroupConfigs: [\n {\n privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n }\n ]\n }\n service: 'namespace'\n subnetResourceId: '<subnetResourceId>'\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n ]\n publicNetworkAccess: 'Disabled'\n queues: [\n {\n authorizationRules: [\n {\n name: 'RootManageSharedAccessKey'\n rights: [\n 'Listen'\n 'Manage'\n 'Send'\n ]\n }\n {\n name: 'AnotherKey'\n rights: [\n 'Listen'\n 'Send'\n ]\n }\n ]\n autoDeleteOnIdle: 'PT5M'\n maxMessageSizeInKilobytes: 2048\n name: 'sbnwafq001'\n roleAssignments: []\n }\n ]\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n topics: [\n {\n authorizationRules: [\n {\n name: 'RootManageSharedAccessKey'\n rights: [\n 'Listen'\n 'Manage'\n 'Send'\n ]\n }\n {\n name: 'AnotherKey'\n rights: [\n 'Listen'\n 'Send'\n ]\n }\n ]\n name: 'sbnwaft001'\n roleAssignments: []\n }\n ]\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Security Insights Data Connector: Using defaults"}, {"role": "assistant", "content": "module dataConnector 'br/public:avm/res/security-insights/data-connector:<version>' = {\n  name: 'dataConnectorDeployment'\n  params: {\n    // Required parameters\n    properties: {\n      kind: 'MicrosoftThreatIntelligence'\n      properties: {\n        dataTypes: {\n          microsoftEmergingThreatFeed: {\n            lookbackPeriod: '2025-01-01T00:00:00Z'\n            state: 'Enabled'\n          }\n        }\n        tenantId: '<tenantId>'\n      }\n    }\n    workspaceResourceId: '<workspaceResourceId>'\n    // Non-required parameters\n    name: 'MicrosoftThreatIntelligence'\n  }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Security Insights Setting: Using defaults"}, {"role": "assistant", "content": "module setting 'br/public:avm/res/security-insights/setting:<version>' = {\n name: 'settingDeployment'\n params: {\n // Required parameters\n name: 'Anomalies'\n settingsType: 'Anomalies'\n workspaceResourceId: '<workspaceResourceId>'\n // Non-required parameters\n properties: {}\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Search Service: Using only defaults"}, {"role": "assistant", "content": "module searchService 'br/public:avm/res/search/search-service:<version>' = {\n name: 'searchServiceDeployment'\n params: {\n // Required parameters\n name: 'ssswaf001'\n // Non-required parameters\n authOptions: {\n aadOrApiKey: {\n aadAuthFailureMode: 'http401WithBearerChallenge'\n }\n }\n cmkEnforcement: 'Enabled'\n diagnosticSettings: [\n {\n eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n eventHubName: '<eventHubName>'\n metricCategories: [\n {\n category: 'AllMetrics'\n }\n ]\n name: 'customSetting'\n storageAccountResourceId: '<storageAccountResourceId>'\n workspaceResourceId: '<workspaceResourceId>'\n }\n ]\n disableLocalAuth: false\n hostingMode: 'highDensity'\n managedIdentities: {\n systemAssigned: true\n }\n networkRuleSet: {\n bypass: 'AzureServices'\n ipRules: [\n {\n value: '40.74.28.0/23'\n }\n {\n value: '87.147.204.13'\n }\n ]\n }\n partitionCount: 2\n replicaCount: 3\n sku: 'standard3'\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Resource Group: Using only defaults"}, {"role": "assistant", "content": "module resourceGroup 'br/public:avm/res/resources/resource-group:<version>' = {\n name: 'resourceGroupDeployment'\n params: {\n // Required parameters\n name: 'avm-resources.resourcegroups-rrgwaf-rg'\n // Non-required parameters\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Recovery Services Vault: Using only defaults"}, {"role": "assistant", "content": "module vault 'br/public:avm/res/recovery-services/vault:<version>' = {\n name: 'vaultDeployment'\n params: {\n // Required parameters\n name: 'rsvwaf001'\n // Non-required parameters\n backupConfig: {\n enhancedSecurityState: 'Disabled'\n softDeleteFeatureState: 'Disabled'\n }\n backupPolicies: [\n {\n name: 'VMpolicy'\n properties: {\n backupManagementType: 'AzureIaasVM'\n instantRPDetails: {}\n instantRpRetentionRangeInDays: 2\n protectedItemsCount: 0\n retentionPolicy: {\n dailySchedule: {\n retentionDuration: {\n count: 180\n durationType: 'Days'\n }\n retentionTimes: [\n '2019-11-07T07:00:00Z'\n ]\n }\n monthlySchedule: {\n retentionDuration: {\n count: 60\n durationType: 'Months'\n }\n retentionScheduleFormatType: 'Weekly'\n retentionScheduleWeekly: {\n daysOfTheWeek: [\n 'Sunday'\n ]\n weeksOfTheMonth: [\n 'First'\n ]\n }\n retentionTimes: [\n '2019-11-07T07:00:00Z'\n ]\n }\n retentionPolicyType: 'LongTermRetentionPolicy'\n weeklySchedule: {\n daysOfTheWeek: [\n 'Sunday'\n ]\n retentionDuration: {\n count: 12\n durationType: 'Weeks'\n }\n retentionTimes: [\n '2019-11-07T07:00:00Z'\n ]\n }\n yearlySchedule: {\n monthsOfYear: [\n 'January'\n ]\n retentionDuration: {\n count: 10\n durationType: 'Years'\n }\n retentionScheduleFormatType: 'Weekly'\n retentionScheduleWeekly: {\n daysOfTheWeek: [\n 'Sunday'\n ]\n weeksOfTheMonth: [\n 'First'\n ]\n }\n retentionTimes: [\n '2019-11-07T07:00:00Z'\n ]\n }\n }\n schedulePolicy: {\n schedulePolicyType: 'SimpleSchedulePolicy'\n scheduleRunFrequency: 'Daily'\n scheduleRunTimes: [\n '2019-11-07T07:00:00Z'\n ]\n scheduleWeeklyFrequency: 0\n }\n timeZone: 'UTC'\n }\n }\n {\n name: 'sqlpolicy'\n properties: {\n backupManagementType: 'AzureWorkload'\n protectedItemsCount: 0\n settings: {\n isCompression: true\n issqlcompression: true\n timeZone: 'UTC'\n }\n subProtectionPolicy: [\n {\n policyType: 'Full'\n retentionPolicy: {\n monthlySchedule: {\n retentionDuration: {\n count: 60\n durationType: 'Months'\n }\n retentionScheduleFormatType: 'Weekly'\n retentionScheduleWeekly: {\n daysOfTheWeek: [\n 'Sunday'\n ]\n weeksOfTheMonth: [\n 'First'\n ]\n }\n retentionTimes: [\n '2019-11-07T22:00:00Z'\n ]\n }\n retentionPolicyType: 'LongTermRetentionPolicy'\n weeklySchedule: {\n daysOfTheWeek: [\n 'Sunday'\n ]\n retentionDuration: {\n count: 104\n durationType: 'Weeks'\n }\n retentionTimes: [\n '2019-11-07T22:00:00Z'\n ]\n }\n yearlySchedule: {\n monthsOfYear: [\n 'January'\n ]\n retentionDuration: {\n count: 10\n durationType: 'Years'\n }\n retentionScheduleFormatType: 'Weekly'\n retentionScheduleWeekly: {\n daysOfTheWeek: [\n 'Sunday'\n ]\n weeksOfTheMonth: [\n 'First'\n ]\n }\n retentionTimes: [\n '2019-11-07T22:00:00Z'\n ]\n }\n }\n schedulePolicy: {\n schedulePolicyType: 'SimpleSchedulePolicy'\n scheduleRunDays: [\n 'Sunday'\n ]\n scheduleRunFrequency: 'Weekly'\n scheduleRunTimes: [\n '2019-11-07T22:00:00Z'\n ]\n scheduleWeeklyFrequency: 0\n }\n }\n {\n policyType: 'Differential'\n retentionPolicy: {\n retentionDuration: {\n count: 30\n durationType: 'Days'\n }\n retentionPolicyType: 'SimpleRetentionPolicy'\n }\n schedulePolicy: {\n schedulePolicyType: 'SimpleSchedulePolicy'\n scheduleRunDays: [\n 'Monday'\n ]\n scheduleRunFrequency: 'Weekly'\n scheduleRunTimes: [\n '2017-03-07T02:00:00Z'\n ]\n scheduleWeeklyFrequency: 0\n }\n }\n {\n policyType: 'Log'\n retentionPolicy: {\n retentionDuration: {\n count: 15\n durationType: 'Days'\n }\n retentionPolicyType: 'SimpleRetentionPolicy'\n }\n schedulePolicy: {\n scheduleFrequencyInMins: 120\n schedulePolicyType: 'LogSchedulePolicy'\n }\n }\n ]\n workLoadType: 'SQLDataBase'\n }\n }\n {\n name: 'filesharepolicy'\n properties: {\n backupManagementType: 'AzureStorage'\n protectedItemsCount: 0\n retentionPolicy: {\n dailySchedule: {\n retentionDuration: {\n count: 30\n durationType: 'Days'\n }\n retentionTimes: [\n '2019-11-07T04:30:00Z'\n ]\n }\n retentionPolicyType: 'LongTermRetentionPolicy'\n }\n schedulePolicy: {\n schedulePolicyType: 'SimpleSchedulePolicy'\n scheduleRunFrequency: 'Daily'\n scheduleRunTimes: [\n '2019-11-07T04:30:00Z'\n ]\n scheduleWeeklyFrequency: 0\n }\n timeZone: 'UTC'\n workloadType: 'AzureFileShare'\n }\n }\n ]\n customerManagedKey: {\n autoRotationEnabled: false\n keyName: '<keyName>'\n keyVaultResourceId: '<keyVaultResourceId>'\n userAssignedIdentityResourceId: '<userAssignedIdentityResourceId>'\n }\n diagnosticSettings: [\n {\n eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n eventHubName: '<eventHubName>'\n metricCategories: [\n {\n category: 'AllMetrics'\n }\n ]\n name: 'customSetting'\n storageAccountResourceId: '<storageAccountResourceId>'\n workspaceResourceId: '<workspaceResourceId>'\n }\n ]\n immutabilitySettingState: 'Unlocked'\n managedIdentities: {\n systemAssigned: true\n userAssignedResourceIds: [\n '<managedIdentityResourceId>'\n ]\n }\n monitoringSettings: {\n azureMonitorAlertSettings: {\n alertsForAllFailoverIssues: 'Enabled'\n alertsForAllJobFailures: 'Enabled'\n alertsForAllReplicationIssues: 'Enabled'\n }\n classicAlertSettings: {\n alertsForCriticalOperations: 'Enabled'\n emailNotificationsForSiteRecovery: 'Enabled'\n }\n }\n privateEndpoints: [\n {\n ipConfigurations: [\n {\n name: 'myIpConfig-1'\n properties: {\n groupId: 'AzureSiteRecovery'\n memberName: 'SiteRecovery-tel1'\n privateIPAddress: '10.0.0.10'\n }\n }\n {\n name: 'myIPconfig-2'\n properties: {\n groupId: 'AzureSiteRecovery'\n memberName: 'SiteRecovery-prot2'\n privateIPAddress: '10.0.0.11'\n }\n }\n {\n name: 'myIPconfig-3'\n properties: {\n groupId: 'AzureSiteRecovery'\n memberName: 'SiteRecovery-srs1'\n privateIPAddress: '10.0.0.12'\n }\n }\n {\n name: 'myIPconfig-4'\n properties: {\n groupId: 'AzureSiteRecovery'\n memberName: 'SiteRecovery-rcm1'\n privateIPAddress: '10.0.0.13'\n }\n }\n {\n name: 'myIPconfig-5'\n properties: {\n groupId: 'AzureSiteRecovery'\n memberName: 'SiteRecovery-id1'\n privateIPAddress: '10.0.0.14'\n }\n }\n ]\n privateDnsZoneGroup: {\n privateDnsZoneGroupConfigs: [\n {\n privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n }\n ]\n }\n subnetResourceId: '<subnetResourceId>'\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n ]\n replicationAlertSettings: {\n customEmailAddresses: [\n 'test.user@testcompany.com'\n ]\n locale: 'en-US'\n sendToOwners: 'Send'\n }\n softDeleteSettings: {\n enhancedSecurityState: 'Enabled'\n softDeleteRetentionPeriodInDays: 14\n softDeleteState: 'Enabled'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Purview Account: Using only defaults"}, {"role": "assistant", "content": "module account 'br/public:avm/res/purview/account:<version>' = {\n name: 'accountDeployment'\n params: {\n // Required parameters\n name: 'pvawaf001'\n // Non-required parameters\n accountPrivateEndpoints: [\n {\n privateDnsZoneGroup: {\n privateDnsZoneGroupConfigs: [\n {\n privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n }\n ]\n }\n service: 'account'\n subnetResourceId: '<subnetResourceId>'\n }\n ]\n diagnosticSettings: [\n {\n eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n eventHubName: '<eventHubName>'\n storageAccountResourceId: '<storageAccountResourceId>'\n workspaceResourceId: '<workspaceResourceId>'\n }\n ]\n eventHubPrivateEndpoints: [\n {\n privateDnsZoneGroup: {\n privateDnsZoneGroupConfigs: [\n {\n privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n }\n ]\n }\n service: 'namespace'\n subnetResourceId: '<subnetResourceId>'\n }\n ]\n location: '<location>'\n managedResourceGroupName: 'pvawaf001-managed-rg'\n portalPrivateEndpoints: [\n {\n privateDnsZoneGroup: {\n privateDnsZoneGroupConfigs: [\n {\n privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n }\n ]\n }\n service: 'portal'\n subnetResourceId: '<subnetResourceId>'\n }\n ]\n publicNetworkAccess: 'Disabled'\n storageBlobPrivateEndpoints: [\n {\n privateDnsZoneGroup: {\n privateDnsZoneGroupConfigs: [\n {\n privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n }\n ]\n }\n service: 'blob'\n subnetResourceId: '<subnetResourceId>'\n }\n ]\n storageQueuePrivateEndpoints: [\n {\n privateDnsZoneGroup: {\n privateDnsZoneGroupConfigs: [\n {\n privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n }\n ]\n }\n service: 'queue'\n subnetResourceId: '<subnetResourceId>'\n }\n ]\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Power BI Dedicated Capacity: Using only defaults"}, {"role": "assistant", "content": "module capacity 'br/public:avm/res/power-bi-dedicated/capacity:<version>' = {\n name: 'capacityDeployment'\n params: {\n // Required parameters\n members: [\n '<managedIdentityPrincipalId>'\n ]\n name: 'pbdcapwaf001'\n sku: {\n capacity: 1\n }\n // Non-required parameters\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Portal Dashboard: Using only defaults"}, {"role": "assistant", "content": "module dashboard 'br/public:avm/res/portal/dashboard:<version>' = {\n name: 'dashboardDeployment'\n params: {\n // Required parameters\n name: 'pdwaf001'\n // Non-required parameters\n lenses: [\n {\n order: 0\n parts: [\n {\n metadata: {\n inputs: []\n settings: {\n content: {\n src: 'https://www.youtube.com/watch?v=JbIMrJKW5N0'\n subtitle: 'Learn more about AVM'\n title: 'Azure Verified Modules (AVM) introduction'\n }\n }\n type: 'Extension/HubsExtension/PartType/VideoPart'\n }\n position: {\n colSpan: 6\n rowSpan: 4\n x: 0\n y: 0\n }\n }\n {\n metadata: {\n inputs: []\n type: 'Extension/Microsoft_AAD_IAM/PartType/UserManagementSummaryPart'\n }\n position: {\n colSpan: 2\n rowSpan: 2\n x: 6\n y: 0\n }\n }\n {\n metadata: {\n inputs: []\n settings: {\n content: {}\n }\n type: 'Extension/HubsExtension/PartType/ClockPart'\n }\n position: {\n colSpan: 2\n rowSpan: 2\n x: 8\n y: 0\n }\n }\n {\n metadata: {\n inputs: [\n {\n isOptional: true\n name: 'selectedMenuItemId'\n }\n ]\n type: 'Extension/HubsExtension/PartType/GalleryTile'\n }\n position: {\n colSpan: 2\n rowSpan: 2\n x: 6\n y: 2\n }\n }\n {\n metadata: {\n inputs: []\n type: 'Extension/HubsExtension/PartType/HelpAndSupportPart'\n }\n position: {\n colSpan: 2\n rowSpan: 2\n x: 8\n y: 2\n }\n }\n ]\n }\n ]\n location: '<location>'\n metadata: {\n model: {\n filterLocale: {\n value: 'en-us'\n }\n filters: {\n value: {\n MsPortalFx_TimeRange: {\n displayCache: {\n name: 'UTC Time'\n value: 'Past 24 hours'\n }\n filteredPartIds: [\n 'StartboardPart-MonitorChartPart-f6c2e060-fabc-4ce5-b031-45f3296510dd'\n ]\n model: {\n format: 'utc'\n granularity: 'auto'\n relative: '24h'\n }\n }\n }\n }\n timeRange: {\n type: 'MsPortalFx.Composition.Configuration.ValueTypes.TimeRange'\n value: {\n relative: {\n duration: 24\n timeUnit: 1\n }\n }\n }\n }\n }\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy an Operations Management Solution: Using only defaults"}, {"role": "assistant", "content": "module solution 'br/public:avm/res/operations-management/solution:<version>' = {\n name: 'solutionDeployment'\n params: {\n // Required parameters\n logAnalyticsWorkspaceName: '<logAnalyticsWorkspaceName>'\n name: '<name>'\n plan: {\n name: '<name>'\n product: 'OMSGallery/AzureAutomation'\n publisher: 'Microsoft'\n }\n // Non-required parameters\n location: '<location>'\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Log Analytics Workspace: Advanced features"}, {"role": "assistant", "content": "module workspace 'br/public:avm/res/operational-insights/workspace:<version>' = {\n name: 'workspaceDeployment'\n params: {\n // Required parameters\n name: 'oiwwaf001'\n // Non-required parameters\n dailyQuotaGb: 10\n dataSources: [\n {\n eventLogName: 'Application'\n eventTypes: [\n {\n eventType: 'Error'\n }\n {\n eventType: 'Warning'\n }\n {\n eventType: 'Information'\n }\n ]\n kind: 'WindowsEvent'\n name: 'applicationEvent'\n }\n {\n counterName: '% Processor Time'\n instanceName: '*'\n intervalSeconds: 60\n kind: 'WindowsPerformanceCounter'\n name: 'windowsPerfCounter1'\n objectName: 'Processor'\n }\n {\n kind: 'IISLogs'\n name: 'sampleIISLog1'\n state: 'OnPremiseEnabled'\n }\n {\n kind: 'LinuxSyslog'\n name: 'sampleSyslog1'\n syslogName: 'kern'\n syslogSeverities: [\n {\n severity: 'emerg'\n }\n {\n severity: 'alert'\n }\n {\n severity: 'crit'\n }\n {\n severity: 'err'\n }\n {\n severity: 'warning'\n }\n ]\n }\n {\n kind: 'LinuxSyslogCollection'\n name: 'sampleSyslogCollection1'\n state: 'Enabled'\n }\n {\n instanceName: '*'\n intervalSeconds: 10\n kind: 'LinuxPerformanceObject'\n name: 'sampleLinuxPerf1'\n objectName: 'Logical Disk'\n syslogSeverities: [\n {\n counterName: '% Used Inodes'\n }\n {\n counterName: 'Free Megabytes'\n }\n {\n counterName: '% Used Space'\n }\n {\n counterName: 'Disk Transfers/sec'\n }\n {\n counterName: 'Disk Reads/sec'\n }\n {\n counterName: 'Disk Writes/sec'\n }\n ]\n }\n {\n kind: 'LinuxPerformanceCollection'\n name: 'sampleLinuxPerfCollection1'\n state: 'Enabled'\n }\n ]\n diagnosticSettings: [\n {\n eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n eventHubName: '<eventHubName>'\n storageAccountResourceId: '<storageAccountResourceId>'\n workspaceResourceId: '<workspaceResourceId>'\n }\n ]\n features: {\n enableLogAccessUsingOnlyResourcePermissions: true\n }\n gallerySolutions: [\n {\n name: 'AzureAutomation(oiwwaf001)'\n plan: {\n product: 'OMSGallery/AzureAutomation'\n }\n }\n ]\n linkedServices: [\n {\n name: 'Automation'\n resourceId: '<resourceId>'\n }\n ]\n linkedStorageAccounts: [\n {\n name: 'Query'\n storageAccountIds: [\n '<storageAccountResourceId>'\n ]\n }\n ]\n location: '<location>'\n managedIdentities: {\n systemAssigned: true\n }\n publicNetworkAccessForIngestion: 'Disabled'\n publicNetworkAccessForQuery: 'Disabled'\n replication: {\n enabled: true\n location: '<location>'\n }\n storageInsightsConfigs: [\n {\n storageAccountResourceId: '<storageAccountResourceId>'\n tables: [\n 'LinuxsyslogVer2v0'\n 'WADETWEventTable'\n 'WADServiceFabric*EventTable'\n 'WADWindowsEventLogsTable'\n ]\n }\n ]\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Network Application Gateway: Using only defaults"}, {"role": "assistant", "content": "module applicationGateway 'br/public:avm/res/network/application-gateway:<version>' = {\n name: 'applicationGatewayDeployment'\n params: {\n // Required parameters\n name: '<name>'\n // Non-required parameters\n backendAddressPools: [\n {\n name: 'appServiceBackendPool'\n properties: {\n backendAddresses: [\n {\n fqdn: 'aghapp.azurewebsites.net'\n }\n ]\n }\n }\n {\n name: 'privateVmBackendPool'\n properties: {\n backendAddresses: [\n {\n ipAddress: '10.0.0.4'\n }\n ]\n }\n }\n ]\n backendHttpSettingsCollection: [\n {\n name: 'appServiceBackendHttpsSetting'\n properties: {\n cookieBasedAffinity: 'Disabled'\n pickHostNameFromBackendAddress: true\n port: 443\n protocol: 'Https'\n requestTimeout: 30\n }\n }\n {\n name: 'privateVmHttpSetting'\n properties: {\n cookieBasedAffinity: 'Disabled'\n pickHostNameFromBackendAddress: false\n port: 80\n probe: {\n id: '<id>'\n }\n protocol: 'Http'\n requestTimeout: 30\n }\n }\n ]\n diagnosticSettings: [\n {\n eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n eventHubName: '<eventHubName>'\n metricCategories: [\n {\n category: 'AllMetrics'\n }\n ]\n name: 'customSetting'\n storageAccountResourceId: '<storageAccountResourceId>'\n workspaceResourceId: '<workspaceResourceId>'\n }\n ]\n enableHttp2: true\n enableTelemetry: '<enableTelemetry>'\n firewallPolicyResourceId: '<firewallPolicyResourceId>'\n frontendIPConfigurations: [\n {\n name: 'private'\n properties: {\n privateIPAddress: '10.0.0.20'\n privateIPAllocationMethod: 'Static'\n subnet: {\n id: '<id>'\n }\n }\n }\n {\n name: 'public'\n properties: {\n privateIPAllocationMethod: 'Dynamic'\n privateLinkConfiguration: {\n id: '<id>'\n }\n publicIPAddress: {\n id: '<id>'\n }\n }\n }\n ]\n frontendPorts: [\n {\n name: 'port443'\n properties: {\n port: 443\n }\n }\n {\n name: 'port4433'\n properties: {\n port: 4433\n }\n }\n {\n name: 'port80'\n properties: {\n port: 80\n }\n }\n {\n name: 'port8080'\n properties: {\n port: 8080\n }\n }\n ]\n gatewayIPConfigurations: [\n {\n name: 'apw-ip-configuration'\n properties: {\n subnet: {\n id: '<id>'\n }\n }\n }\n ]\n httpListeners: [\n {\n name: 'public443'\n properties: {\n frontendIPConfiguration: {\n id: '<id>'\n }\n frontendPort: {\n id: '<id>'\n }\n hostNames: []\n protocol: 'https'\n requireServerNameIndication: false\n sslCertificate: {\n id: '<id>'\n }\n }\n }\n {\n name: 'private4433'\n properties: {\n frontendIPConfiguration: {\n id: '<id>'\n }\n frontendPort: {\n id: '<id>'\n }\n hostNames: []\n protocol: 'https'\n requireServerNameIndication: false\n sslCertificate: {\n id: '<id>'\n }\n }\n }\n {\n name: 'httpRedirect80'\n properties: {\n frontendIPConfiguration: {\n id: '<id>'\n }\n frontendPort: {\n id: '<id>'\n }\n hostNames: []\n protocol: 'Http'\n requireServerNameIndication: false\n }\n }\n {\n name: 'httpRedirect8080'\n properties: {\n frontendIPConfiguration: {\n id: '<id>'\n }\n frontendPort: {\n id: '<id>'\n }\n hostNames: []\n protocol: 'Http'\n requireServerNameIndication: false\n }\n }\n ]\n location: '<location>'\n managedIdentities: {\n userAssignedResourceIds: [\n '<managedIdentityResourceId>'\n ]\n }\n privateEndpoints: [\n {\n privateDnsZoneGroup: {\n privateDnsZoneGroupConfigs: [\n {\n privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n }\n ]\n }\n service: 'public'\n subnetResourceId: '<subnetResourceId>'\n tags: {\n Environment: 'Non-Prod'\n Role: 'DeploymentValidation'\n }\n }\n ]\n privateLinkConfigurations: [\n {\n id: '<id>'\n name: 'pvtlink01'\n properties: {\n ipConfigurations: [\n {\n id: '<id>'\n name: 'privateLinkIpConfig1'\n properties: {\n primary: false\n privateIPAllocationMethod: 'Dynamic'\n subnet: {\n id: '<id>'\n }\n }\n }\n ]\n }\n }\n ]\n probes: [\n {\n name: 'privateVmHttpSettingProbe'\n properties: {\n host: '10.0.0.4'\n interval: 60\n match: {\n statusCodes: [\n '200'\n '401'\n ]\n }\n minServers: 3\n path: '/'\n pickHostNameFromBackendHttpSettings: false\n protocol: 'Http'\n timeout: 15\n unhealthyThreshold: 5\n }\n }\n ]\n redirectConfigurations: [\n {\n name: 'httpRedirect80'\n properties: {\n includePath: true\n includeQueryString: true\n redirectType: 'Permanent'\n requestRoutingRules: [\n {\n id: '<id>'\n }\n ]\n targetListener: {\n id: '<id>'\n }\n }\n }\n {\n name: 'httpRedirect8080'\n properties: {\n includePath: true\n includeQueryString: true\n redirectType: 'Permanent'\n requestRoutingRules: [\n {\n id: '<id>'\n }\n ]\n targetListener: {\n id: '<id>'\n }\n }\n }\n ]\n requestRoutingRules: [\n {\n name: 'public443-appServiceBackendHttpsSetting-appServiceBackendHttpsSetting'\n properties: {\n backendAddressPool: {\n id: '<id>'\n }\n backendHttpSettings: {\n id: '<id>'\n }\n httpListener: {\n id: '<id>'\n }\n priority: 200\n ruleType: 'Basic'\n }\n }\n {\n name: 'private4433-privateVmHttpSetting-privateVmHttpSetting'\n properties: {\n backendAddressPool: {\n id: '<id>'\n }\n backendHttpSettings: {\n id: '<id>'\n }\n httpListener: {\n id: '<id>'\n }\n priority: 250\n ruleType: 'Basic'\n }\n }\n {\n name: 'httpRedirect80-public443'\n properties: {\n httpListener: {\n id: '<id>'\n }\n priority: 300\n redirectConfiguration: {\n id: '<id>'\n }\n ruleType: 'Basic'\n }\n }\n {\n name: 'httpRedirect8080-private4433'\n properties: {\n httpListener: {\n id: '<id>'\n }\n priority: 350\n redirectConfiguration: {\n id: '<id>'\n }\n rewriteRuleSet: {\n id: '<id>'\n }\n ruleType: 'Basic'\n }\n }\n ]\n rewriteRuleSets: [\n {\n id: '<id>'\n name: 'customRewrite'\n properties: {\n rewriteRules: [\n {\n actionSet: {\n requestHeaderConfigurations: [\n {\n headerName: 'Content-Type'\n headerValue: 'JSON'\n }\n {\n headerName: 'someheader'\n }\n ]\n responseHeaderConfigurations: []\n }\n conditions: []\n name: 'NewRewrite'\n ruleSequence: 100\n }\n ]\n }\n }\n ]\n sku: 'WAF_v2'\n sslCertificates: [\n {\n name: 'az-apgw-x-001-ssl-certificate'\n properties: {\n keyVaultSecretId: '<keyVaultSecretId>'\n }\n }\n ]\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy an Application Gateway Web Application Firewall (WAF) Policy: Using only defaults"}, {"role": "assistant", "content": "module applicationGatewayWebApplicationFirewallPolicy 'br/public:avm/res/network/application-gateway-web-application-firewall-policy:<version>' = {\n name: 'applicationGatewayWebApplicationFirewallPolicyDeployment'\n params: {\n // Required parameters\n managedRules: {\n managedRuleSets: [\n {\n ruleGroupOverrides: []\n ruleSetType: 'OWASP'\n ruleSetVersion: '3.2'\n }\n {\n ruleSetType: 'Microsoft_BotManagerRuleSet'\n ruleSetVersion: '0.1'\n }\n ]\n }\n name: 'nagwafpwaf001'\n // Non-required parameters\n location: '<location>'\n policySettings: {\n fileUploadLimitInMb: 10\n jsChallengeCookieExpirationInMins: 60\n mode: 'Prevention'\n state: 'Enabled'\n }\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy an Application Security Group (ASG): Using only defaults"}, {"role": "assistant", "content": "module applicationSecurityGroup 'br/public:avm/res/network/application-security-group:<version>' = {\n name: 'applicationSecurityGroupDeployment'\n params: {\n // Required parameters\n name: 'nasgwaf001'\n // Non-required parameters\n location: '<location>'\n lock: {\n kind: 'CanNotDelete'\n name: 'myCustomLockName'\n }\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy an Azure Firewall: Add-PIP"}, {"role": "assistant", "content": "module azureFirewall 'br/public:avm/res/network/azure-firewall:<version>' = {\n name: 'azureFirewallDeployment'\n params: {\n // Required parameters\n name: 'nafwaf001'\n // Non-required parameters\n applicationRuleCollections: [\n {\n name: 'allow-app-rules'\n properties: {\n action: {\n type: 'Allow'\n }\n priority: 100\n rules: [\n {\n fqdnTags: [\n 'AppServiceEnvironment'\n 'WindowsUpdate'\n ]\n name: 'allow-ase-tags'\n protocols: [\n {\n port: 80\n protocolType: 'Http'\n }\n {\n port: 443\n protocolType: 'Https'\n }\n ]\n sourceAddresses: [\n '*'\n ]\n }\n {\n name: 'allow-ase-management'\n protocols: [\n {\n port: 80\n protocolType: 'Http'\n }\n {\n port: 443\n protocolType: 'Https'\n }\n ]\n sourceAddresses: [\n '*'\n ]\n targetFqdns: [\n 'bing.com'\n ]\n }\n ]\n }\n }\n ]\n availabilityZones: [\n 1\n 2\n 3\n ]\n diagnosticSettings: [\n {\n eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n eventHubName: '<eventHubName>'\n metricCategories: [\n {\n category: 'AllMetrics'\n }\n ]\n name: 'customSetting'\n storageAccountResourceId: '<storageAccountResourceId>'\n workspaceResourceId: '<workspaceResourceId>'\n }\n ]\n location: '<location>'\n networkRuleCollections: [\n {\n name: 'allow-network-rules'\n properties: {\n action: {\n type: 'Allow'\n }\n priority: 100\n rules: [\n {\n destinationAddresses: [\n '*'\n ]\n destinationPorts: [\n '12000'\n '123'\n ]\n name: 'allow-ntp'\n protocols: [\n 'Any'\n ]\n sourceAddresses: [\n '*'\n ]\n }\n ]\n }\n }\n ]\n publicIPResourceID: '<publicIPResourceID>'\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n virtualNetworkResourceId: '<virtualNetworkResourceId>'\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Bastion Host: With a custom public IP address deployed by the module"}, {"role": "assistant", "content": "module bastionHost 'br/public:avm/res/network/bastion-host:<version>' = {\n name: 'bastionHostDeployment'\n params: {\n // Required parameters\n name: 'nbhwaf001'\n virtualNetworkResourceId: '<virtualNetworkResourceId>'\n // Non-required parameters\n bastionSubnetPublicIpResourceId: '<bastionSubnetPublicIpResourceId>'\n diagnosticSettings: [\n {\n eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n eventHubName: '<eventHubName>'\n name: 'customSetting'\n storageAccountResourceId: '<storageAccountResourceId>'\n workspaceResourceId: '<workspaceResourceId>'\n }\n ]\n disableCopyPaste: true\n enableFileCopy: false\n enableIpConnect: false\n enableShareableLink: false\n location: '<location>'\n scaleUnits: 4\n skuName: 'Standard'\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Virtual Network Gateway Connection: Using only defaults"}, {"role": "assistant", "content": "customIPSecPolicy: {\n saLifeTimeSeconds: 28800\n saDataSizeKilobytes: 102400000\n ipsecEncryption: 'AES256'\n ipsecIntegrity: 'SHA256'\n ikeEncryption: 'AES256'\n ikeIntegrity: 'SHA256'\n dhGroup: 'DHGroup14'\n pfsGroup: 'None'\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a DDoS Protection Plan: Using only defaults"}, {"role": "assistant", "content": "module ddosProtectionPlan 'br/public:avm/res/network/ddos-protection-plan:<version>' = {\n name: 'ddosProtectionPlanDeployment'\n params: {\n // Required parameters\n name: 'ndppwaf001'\n // Non-required parameters\n location: '<location>'\n lock: {\n kind: 'CanNotDelete'\n name: 'myCustomLockName'\n }\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy an dns forwarding ruleset: Using only defaults"}, {"role": "assistant", "content": "module dnsForwardingRuleset 'br/public:avm/res/network/dns-forwarding-ruleset:<version>' = {\n name: 'dnsForwardingRulesetDeployment'\n params: {\n // Required parameters\n dnsForwardingRulesetOutboundEndpointResourceIds: [\n '<dnsResolverOutboundEndpointsId>'\n ]\n name: 'ndfrswaf001'\n // Non-required parameters\n location: '<location>'\n lock: {\n kind: 'CanNotDelete'\n name: 'myCustomLockName'\n }\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a DNS Resolver: Using only defaults"}, {"role": "assistant", "content": "module dnsResolver 'br/public:avm/res/network/dns-resolver:<version>' = {\n name: 'dnsResolverDeployment'\n params: {\n // Required parameters\n name: 'ndrwaf001'\n virtualNetworkResourceId: '<virtualNetworkResourceId>'\n // Non-required parameters\n inboundEndpoints: [\n {\n name: 'ndrwaf-az-pdnsin-x-001'\n subnetResourceId: '<subnetResourceId>'\n }\n ]\n lock: {\n kind: 'CanNotDelete'\n name: 'myCustomLockName'\n }\n outboundEndpoints: [\n {\n name: 'ndrwaf-az-pdnsout-x-001'\n subnetResourceId: '<subnetResourceId>'\n }\n ]\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Public DNS zone: Using only defaults"}, {"role": "assistant", "content": "module dnsZone 'br/public:avm/res/network/dns-zone:<version>' = {\n name: 'dnsZoneDeployment'\n params: {\n // Required parameters\n name: 'ndzwaf001.com'\n // Non-required parameters\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy an Express Route Circuit: Using only defaults"}, {"role": "assistant", "content": "module expressRouteCircuit 'br/public:avm/res/network/express-route-circuit:<version>' = {\n name: 'expressRouteCircuitDeployment'\n params: {\n // Required parameters\n name: 'nercwaf001'\n // Non-required parameters\n allowClassicOperations: true\n bandwidthInMbps: 50\n diagnosticSettings: [\n {\n eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n eventHubName: '<eventHubName>'\n metricCategories: [\n {\n category: 'AllMetrics'\n }\n ]\n name: 'customSetting'\n storageAccountResourceId: '<storageAccountResourceId>'\n workspaceResourceId: '<workspaceResourceId>'\n }\n ]\n location: '<location>'\n lock: {\n kind: 'CanNotDelete'\n name: 'myCustomLockName'\n }\n peeringLocation: 'Amsterdam'\n serviceProviderName: 'Equinix'\n skuFamily: 'MeteredData'\n skuTier: 'Standard'\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy an Express Route Gateway: Using only defaults"}, {"role": "assistant", "content": "module expressRouteGateway 'br/public:avm/res/network/express-route-gateway:<version>' = {\n name: 'expressRouteGatewayDeployment'\n params: {\n // Required parameters\n name: 'nergwaf001'\n virtualHubResourceId: '<virtualHubResourceId>'\n // Non-required parameters\n autoScaleConfigurationBoundsMax: 3\n autoScaleConfigurationBoundsMin: 2\n tags: {\n hello: 'world'\n 'hidden-title': 'This is visible in the resource name'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy an Express Route Port resource used by Express Route Direct: Using only defaults"}, {"role": "assistant", "content": "module expressRoutePort 'br/public:avm/res/network/express-route-port:<version>' = {\n name: 'expressRoutePortDeployment'\n params: {\n // Required parameters\n bandwidthInGbps: 10\n name: 'nerpwaf001'\n peeringLocation: 'Airtel-Chennai2-CLS'\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Firewall Policy: Using only defaults"}, {"role": "assistant", "content": "module firewallPolicy 'br/public:avm/res/network/firewall-policy:<version>' = {\n name: 'firewallPolicyDeployment'\n params: {\n // Required parameters\n name: 'nfpwaf001'\n // Non-required parameters\n allowSqlRedirect: true\n ruleCollectionGroups: [\n {\n name: 'rule-001'\n priority: 5000\n ruleCollections: [\n {\n action: {\n type: 'Allow'\n }\n name: 'collection002'\n priority: 5555\n ruleCollectionType: 'FirewallPolicyFilterRuleCollection'\n rules: [\n {\n destinationAddresses: [\n '*'\n ]\n destinationFqdns: []\n destinationIpGroups: []\n destinationPorts: [\n '80'\n ]\n ipProtocols: [\n 'TCP'\n 'UDP'\n ]\n name: 'rule002'\n ruleType: 'NetworkRule'\n sourceAddresses: [\n '*'\n ]\n sourceIpGroups: []\n }\n ]\n }\n ]\n }\n ]\n snat: {\n autoLearnPrivateRanges: 'Enabled'\n }\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n threatIntelMode: 'Deny'\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy an Azure Front Door: Using only defaults"}, {"role": "assistant", "content": "module frontDoor 'br/public:avm/res/network/front-door:<version>' = {\n name: 'frontDoorDeployment'\n params: {\n // Required parameters\n backendPools: [\n {\n name: 'backendPool'\n properties: {\n backends: [\n {\n address: 'biceptest.local'\n backendHostHeader: 'backendAddress'\n enabledState: 'Enabled'\n httpPort: 80\n httpsPort: 443\n priority: 1\n privateLinkAlias: ''\n privateLinkApprovalMessage: ''\n privateLinkLocation: ''\n weight: 50\n }\n ]\n HealthProbeSettings: {\n id: '<id>'\n }\n LoadBalancingSettings: {\n id: '<id>'\n }\n }\n }\n ]\n frontendEndpoints: [\n {\n name: 'frontEnd'\n properties: {\n hostName: '<hostName>'\n sessionAffinityEnabledState: 'Disabled'\n sessionAffinityTtlSeconds: 60\n }\n }\n ]\n healthProbeSettings: [\n {\n name: 'heathProbe'\n properties: {\n enabledState: 'Enabled'\n healthProbeMethod: 'HEAD'\n intervalInSeconds: 60\n path: '/healthz'\n protocol: 'Https'\n }\n }\n ]\n loadBalancingSettings: [\n {\n name: 'loadBalancer'\n properties: {\n additionalLatencyMilliseconds: 0\n sampleSize: 50\n successfulSamplesRequired: 1\n }\n }\n ]\n name: '<name>'\n routingRules: [\n {\n name: 'routingRule'\n properties: {\n acceptedProtocols: [\n 'Http'\n 'Https'\n ]\n enabledState: 'Enabled'\n frontendEndpoints: [\n {\n id: '<id>'\n }\n ]\n patternsToMatch: [\n '/*'\n ]\n routeConfiguration: {\n '@odata.type': '#Microsoft.Azure.FrontDoor.Models.FrontdoorForwardingConfiguration'\n backendPool: {\n id: '<id>'\n }\n forwardingProtocol: 'MatchRequest'\n }\n }\n }\n ]\n // Non-required parameters\n diagnosticSettings: [\n {\n eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n eventHubName: '<eventHubName>'\n storageAccountResourceId: '<storageAccountResourceId>'\n workspaceResourceId: '<workspaceResourceId>'\n }\n ]\n enforceCertificateNameCheck: 'Disabled'\n location: '<location>'\n sendRecvTimeoutSeconds: 10\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Front Door Web Application Firewall (WAF) Policy: Using only defaults"}, {"role": "assistant", "content": "module frontDoorWebApplicationFirewallPolicy 'br/public:avm/res/network/front-door-web-application-firewall-policy:<version>' = {\n name: 'frontDoorWebApplicationFirewallPolicyDeployment'\n params: {\n // Required parameters\n name: 'nagwafpwaf001'\n // Non-required parameters\n customRules: {\n rules: [\n {\n action: 'Block'\n enabledState: 'Enabled'\n matchConditions: [\n {\n matchValue: [\n 'CH'\n ]\n matchVariable: 'RemoteAddr'\n negateCondition: false\n operator: 'GeoMatch'\n selector: '<selector>'\n transforms: []\n }\n {\n matchValue: [\n 'windows'\n ]\n matchVariable: 'RequestHeader'\n negateCondition: false\n operator: 'Contains'\n selector: 'UserAgent'\n transforms: []\n }\n {\n matchValue: [\n '?>'\n '<?php'\n ]\n matchVariable: 'QueryString'\n negateCondition: false\n operator: 'Contains'\n transforms: [\n 'Lowercase'\n 'UrlDecode'\n ]\n }\n ]\n name: 'CustomRule1'\n priority: 2\n rateLimitDurationInMinutes: 1\n rateLimitThreshold: 10\n ruleType: 'MatchRule'\n }\n ]\n }\n location: '<location>'\n managedRules: {\n managedRuleSets: [\n {\n ruleSetType: 'Microsoft_BotManagerRuleSet'\n ruleSetVersion: '1.0'\n }\n ]\n }\n policySettings: {\n customBlockResponseBody: 'PGh0bWw+CjxoZWFkZXI+PHRpdGxlPkhlbGxvPC90aXRsZT48L2hlYWRlcj4KPGJvZHk+CkhlbGxvIHdvcmxkCjwvYm9keT4KPC9odG1sPg=='\n customBlockResponseStatusCode: 200\n mode: 'Prevention'\n redirectUrl: 'http://www.bing.com'\n }\n sku: 'Premium_AzureFrontDoor'\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy an IP Group: Using only defaults"}, {"role": "assistant", "content": "module ipGroup 'br/public:avm/res/network/ip-group:<version>' = {\n name: 'ipGroupDeployment'\n params: {\n // Required parameters\n name: 'nigwaf001'\n // Non-required parameters\n ipAddresses: [\n '10.0.0.1'\n '10.0.0.2'\n ]\n location: '<location>'\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Load Balancer: Using only defaults"}, {"role": "assistant", "content": "backendAddressPools: [\n {\n name: 'BackendNICPool'\n backendMembershipMode: 'NIC'\n }\n {\n name: 'BackendIPPool'\n backendMembershipMode: 'BackendAddress'\n loadBalancerBackendAddresses: [\n {\n name: 'addr1'\n properties: {\n virtualNetwork: {\n id: virtualNetwork.id\n }\n ipAddress: '10.0.2.52'\n }\n }\n {\n name: 'addr2'\n properties: {\n virtualNetwork: {\n id: virtualNetwork.id\n }\n ipAddress: '10.0.2.53'\n }\n }\n ]\n }\n {\n name: 'BackendUnassociatedPool'\n backendMembershipMode: 'None'\n }\n ]\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Local Network Gateway: Using only defaults"}, {"role": "assistant", "content": "module localNetworkGateway 'br/public:avm/res/network/local-network-gateway:<version>' = {\n name: 'localNetworkGatewayDeployment'\n params: {\n // Required parameters\n localGatewayPublicIpAddress: '8.8.8.8'\n localNetworkAddressSpace: {\n addressPrefixes: [\n '192.168.1.0/24'\n ]\n }\n name: 'nlngwaf001'\n // Non-required parameters\n bgpSettings: {\n localAsn: 65123\n localBgpPeeringAddress: '192.168.1.5'\n }\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a NAT Gateway: Using only defaults"}, {"role": "assistant", "content": "module natGateway 'br/public:avm/res/network/nat-gateway:<version>' = {\n name: 'natGatewayDeployment'\n params: {\n // Required parameters\n availabilityZone: 1\n name: 'nngwaf001'\n // Non-required parameters\n publicIPAddresses: [\n {\n availabilityZones: [\n 1\n 2\n 3\n ]\n diagnosticSettings: [\n {\n eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n eventHubName: '<eventHubName>'\n metricCategories: [\n {\n category: 'AllMetrics'\n }\n ]\n name: 'customSetting'\n storageAccountResourceId: '<storageAccountResourceId>'\n workspaceResourceId: '<workspaceResourceId>'\n }\n ]\n name: 'nngwaf001-pip'\n skuTier: 'Regional'\n }\n ]\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Network Interface: Using only defaults"}, {"role": "assistant", "content": "module networkInterface 'br/public:avm/res/network/network-interface:<version>' = {\n name: 'networkInterfaceDeployment'\n params: {\n // Required parameters\n ipConfigurations: [\n {\n applicationSecurityGroups: [\n {\n id: '<id>'\n }\n ]\n loadBalancerBackendAddressPools: [\n {\n id: '<id>'\n }\n ]\n name: 'ipconfig01'\n subnetResourceId: '<subnetResourceId>'\n }\n {\n applicationSecurityGroups: [\n {\n id: '<id>'\n }\n ]\n subnetResourceId: '<subnetResourceId>'\n }\n ]\n name: 'nniwaf001'\n // Non-required parameters\n diagnosticSettings: [\n {\n eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n eventHubName: '<eventHubName>'\n name: 'customSetting'\n storageAccountResourceId: '<storageAccountResourceId>'\n workspaceResourceId: '<workspaceResourceId>'\n }\n ]\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Network Manager: Using only defaults"}, {"role": "assistant", "content": "module networkManager 'br/public:avm/res/network/network-manager:<version>' = {\n name: 'networkManagerDeployment'\n params: {\n // Required parameters\n name: 'nnmwaf001'\n networkManagerScopes: {\n subscriptions: [\n '<id>'\n ]\n }\n // Non-required parameters\n networkManagerScopeAccesses: [\n 'SecurityAdmin'\n ]\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Network security Group (NSG): Using only defaults"}, {"role": "assistant", "content": "module networkSecurityGroup 'br/public:avm/res/network/network-security-group:<version>' = {\n name: 'networkSecurityGroupDeployment'\n params: {\n // Required parameters\n name: 'nnsgwaf001'\n // Non-required parameters\n securityRules: [\n {\n name: 'deny-hop-outbound'\n properties: {\n access: 'Deny'\n destinationAddressPrefix: '*'\n destinationPortRanges: [\n '22'\n '3389'\n ]\n direction: 'Outbound'\n priority: 200\n protocol: 'Tcp'\n sourceAddressPrefix: 'VirtualNetwork'\n sourcePortRange: '*'\n }\n }\n ]\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Network Security Perimeter (NSP): Using only defaults"}, {"role": "assistant", "content": "module networkSecurityPerimeter 'br/public:avm/res/network/network-security-perimeter:<version>' = {\n name: 'networkSecurityPerimeterDeployment'\n params: {\n // Required parameters\n name: 'nnspwaf001'\n // Non-required parameters\n diagnosticSettings: [\n {\n eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n eventHubName: '<eventHubName>'\n name: 'customSetting'\n storageAccountResourceId: '<storageAccountResourceId>'\n workspaceResourceId: '<workspaceResourceId>'\n }\n ]\n location: '<location>'\n profiles: [\n {\n accessRules: [\n {\n direction: 'Outbound'\n fullyQualifiedDomainNames: [\n 'www.contoso.com'\n ]\n name: 'rule-outbound-01'\n }\n {\n addressPrefixes: [\n '198.168.1.0/24'\n ]\n direction: 'Inbound'\n name: 'rule-inbound-01'\n }\n ]\n name: 'profile-01'\n }\n ]\n resourceAssociations: [\n {\n accessMode: 'Learning'\n privateLinkResource: '<privateLinkResource>'\n profile: 'profile-01'\n }\n ]\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Network Watcher: Using only defaults"}, {"role": "assistant", "content": "module networkWatcher 'br/public:avm/res/network/network-watcher:<version>' = {\n name: 'networkWatcherDeployment'\n params: {\n connectionMonitors: [\n {\n endpoints: [\n {\n name: '<name>'\n resourceId: '<resourceId>'\n type: 'AzureVM'\n }\n {\n address: 'www.bing.com'\n name: 'Bing'\n type: 'ExternalAddress'\n }\n ]\n name: 'nnwwaf-cm-001'\n testConfigurations: [\n {\n httpConfiguration: {\n method: 'Get'\n port: 80\n preferHTTPS: false\n requestHeaders: []\n validStatusCodeRanges: [\n '200'\n ]\n }\n name: 'HTTP Bing Test'\n protocol: 'Http'\n successThreshold: {\n checksFailedPercent: 5\n roundTripTimeMs: 100\n }\n testFrequencySec: 30\n }\n ]\n testGroups: [\n {\n destinations: [\n 'Bing'\n ]\n disable: false\n name: 'test-http-Bing'\n sources: [\n 'subnet-001(<value>)'\n ]\n testConfigurations: [\n 'HTTP Bing Test'\n ]\n }\n ]\n workspaceResourceId: '<workspaceResourceId>'\n }\n ]\n flowLogs: [\n {\n enabled: false\n storageResourceId: '<storageResourceId>'\n targetResourceId: '<targetResourceId>'\n }\n {\n formatVersion: 1\n name: 'nnwwaf-fl-001'\n retentionInDays: 8\n storageResourceId: '<storageResourceId>'\n targetResourceId: '<targetResourceId>'\n trafficAnalyticsInterval: 10\n workspaceResourceId: '<workspaceResourceId>'\n }\n ]\n name: '<name>'\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Virtual Hub P2S Gateway: Using only defaults"}, {"role": "assistant", "content": "module p2sVpnGateway 'br/public:avm/res/network/p2s-vpn-gateway:<version>' = {\n name: 'p2sVpnGatewayDeployment'\n params: {\n // Required parameters\n name: 'npvgwafp2sVpnGw'\n virtualHubResourceId: '<virtualHubResourceId>'\n // Non-required parameters\n associatedRouteTableName: 'defaultRouteTable'\n enableInternetSecurity: true\n isRoutingPreferenceInternet: false\n p2SConnectionConfigurationsName: 'p2sConnectionConfig1'\n tags: {\n Environment: 'Non-Prod'\n Role: 'DeploymentValidation'\n }\n vpnClientAddressPoolAddressPrefixes: [\n '10.0.2.0/24'\n ]\n vpnServerConfigurationResourceId: '<vpnServerConfigurationResourceId>'\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Private DNS zone: Using only defaults"}, {"role": "assistant", "content": "module privateDnsZone 'br/public:avm/res/network/private-dns-zone:<version>' = {\n name: 'privateDnsZoneDeployment'\n params: {\n // Required parameters\n name: 'npdzwaf001.com'\n // Non-required parameters\n location: 'global'\n lock: {\n kind: 'CanNotDelete'\n name: 'myCustomLockName'\n }\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Private Endpoint: Using only defaults"}, {"role": "assistant", "content": "module privateEndpoint 'br/public:avm/res/network/private-endpoint:<version>' = {\n name: 'privateEndpointDeployment'\n params: {\n // Required parameters\n name: 'npewaf001'\n subnetResourceId: '<subnetResourceId>'\n // Non-required parameters\n applicationSecurityGroupResourceIds: [\n '<applicationSecurityGroupResourceId>'\n ]\n customNetworkInterfaceName: 'npewaf001nic'\n ipConfigurations: [\n {\n name: 'myIPconfig'\n properties: {\n groupId: 'vault'\n memberName: 'default'\n privateIPAddress: '10.0.0.10'\n }\n }\n ]\n privateDnsZoneGroup: {\n privateDnsZoneGroupConfigs: [\n {\n privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n }\n ]\n }\n privateLinkServiceConnections: [\n {\n name: 'npewaf001'\n properties: {\n groupIds: [\n 'vault'\n ]\n privateLinkServiceId: '<privateLinkServiceId>'\n }\n }\n ]\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Private Link Service: Using only defaults"}, {"role": "assistant", "content": "module privateLinkService 'br/public:avm/res/network/private-link-service:<version>' = {\n name: 'privateLinkServiceDeployment'\n params: {\n // Required parameters\n ipConfigurations: [\n {\n name: 'nplswaf01'\n properties: {\n primary: true\n privateIPAllocationMethod: 'Dynamic'\n subnet: {\n id: '<id>'\n }\n }\n }\n ]\n loadBalancerFrontendIpConfigurations: [\n {\n id: '<id>'\n }\n ]\n name: 'nplswaf001'\n // Non-required parameters\n autoApproval: {\n subscriptions: [\n '*'\n ]\n }\n enableProxyProtocol: true\n fqdns: [\n 'nplswaf.plsfqdn01.azure.privatelinkservice'\n 'nplswaf.plsfqdn02.azure.privatelinkservice'\n ]\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n visibility: {\n subscriptions: [\n '<subscriptionId>'\n ]\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Public IP Address: Using only defaults"}, {"role": "assistant", "content": "module publicIpAddress 'br/public:avm/res/network/public-ip-address:<version>' = {\n name: 'publicIpAddressDeployment'\n params: {\n // Required parameters\n name: 'npiawaf001'\n // Non-required parameters\n availabilityZones: [\n 1\n 2\n 3\n ]\n ddosSettings: '<ddosSettings>'\n diagnosticSettings: [\n {\n eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n eventHubName: '<eventHubName>'\n name: 'customSetting'\n storageAccountResourceId: '<storageAccountResourceId>'\n workspaceResourceId: '<workspaceResourceId>'\n }\n ]\n dnsSettings: '<dnsSettings>'\n location: '<location>'\n lock: {\n kind: 'CanNotDelete'\n name: 'myCustomLockName'\n }\n publicIPAddressVersion: 'IPv4'\n publicIPAllocationMethod: 'Static'\n publicIpPrefixResourceId: '<publicIpPrefixResourceId>'\n roleAssignments: [\n {\n principalId: '<principalId>'\n principalType: 'ServicePrincipal'\n roleDefinitionIdOrName: 'Owner'\n }\n {\n principalId: '<principalId>'\n principalType: 'ServicePrincipal'\n roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n }\n {\n principalId: '<principalId>'\n principalType: 'ServicePrincipal'\n roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n }\n ]\n skuName: 'Standard'\n skuTier: 'Regional'\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Public IP Prefix: Using only defaults"}, {"role": "assistant", "content": "module publicIpPrefix 'br/public:avm/res/network/public-ip-prefix:<version>' = {\n name: 'publicIpPrefixDeployment'\n params: {\n // Required parameters\n name: 'npipwaf001'\n prefixLength: 28\n // Non-required parameters\n location: '<location>'\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a User Defined Route Table (UDR): Using only defaults"}, {"role": "assistant", "content": "module routeTable 'br/public:avm/res/network/route-table:<version>' = {\n name: 'routeTableDeployment'\n params: {\n // Required parameters\n name: 'nrtwaf001'\n // Non-required parameters\n routes: [\n {\n name: 'default'\n properties: {\n addressPrefix: '0.0.0.0/0'\n nextHopIpAddress: '172.16.0.20'\n nextHopType: 'VirtualAppliance'\n }\n }\n ]\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Service Endpoint Policy: Using only defaults"}, {"role": "assistant", "content": "module serviceEndpointPolicy 'br/public:avm/res/network/service-endpoint-policy:<version>' = {\n name: 'serviceEndpointPolicyDeployment'\n params: {\n // Required parameters\n name: 'nsepwaf001'\n // Non-required parameters\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Traffic Manager Profile: Using only defaults"}, {"role": "assistant", "content": "module trafficmanagerprofile 'br/public:avm/res/network/trafficmanagerprofile:<version>' = {\n name: 'trafficmanagerprofileDeployment'\n params: {\n // Required parameters\n name: 'ntmpwaf001'\n // Non-required parameters\n diagnosticSettings: [\n {\n eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n eventHubName: '<eventHubName>'\n metricCategories: [\n {\n category: 'AllMetrics'\n }\n ]\n name: 'customSetting'\n storageAccountResourceId: '<storageAccountResourceId>'\n workspaceResourceId: '<workspaceResourceId>'\n }\n ]\n endpoints: [\n {\n name: 'webApp01Endpoint'\n properties: {\n endpointLocation: '<endpointLocation>'\n endpointStatus: 'Enabled'\n priority: 1\n targetResourceId: '<targetResourceId>'\n weight: 1\n }\n type: 'Microsoft.Network/trafficManagerProfiles/azureEndpoints'\n }\n {\n name: 'webApp02Endpoint'\n properties: {\n endpointLocation: '<endpointLocation>'\n endpointStatus: 'Enabled'\n priority: 2\n targetResourceId: '<targetResourceId>'\n weight: 1\n }\n type: 'Microsoft.Network/trafficManagerProfiles/azureEndpoints'\n }\n ]\n monitorConfig: {\n path: '/'\n port: 443\n protocol: 'https'\n }\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Virtual Hub: Using only defaults"}, {"role": "assistant", "content": "module virtualHub 'br/public:avm/res/network/virtual-hub:<version>' = {\n name: 'virtualHubDeployment'\n params: {\n // Required parameters\n addressPrefix: '10.1.0.0/16'\n name: 'nvhwaf'\n virtualWanResourceId: '<virtualWanResourceId>'\n // Non-required parameters\n hubRouteTables: [\n {\n name: 'routeTable1'\n }\n ]\n hubVirtualNetworkConnections: [\n {\n name: 'connection1'\n remoteVirtualNetworkResourceId: '<remoteVirtualNetworkResourceId>'\n routingConfiguration: {\n associatedRouteTable: {\n id: '<id>'\n }\n propagatedRouteTables: {\n ids: [\n {\n id: '<id>'\n }\n ]\n labels: [\n 'none'\n ]\n }\n }\n }\n ]\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Virtual Network (vNet): Using only defaults"}, {"role": "assistant", "content": "module virtualNetwork 'br/public:avm/res/network/virtual-network:<version>' = {\n name: 'virtualNetworkDeployment'\n params: {\n // Required parameters\n addressPrefixes: [\n '<addressPrefix>'\n ]\n name: 'nvnwaf001'\n // Non-required parameters\n diagnosticSettings: [\n {\n eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n eventHubName: '<eventHubName>'\n metricCategories: [\n {\n category: 'AllMetrics'\n }\n ]\n name: 'customSetting'\n storageAccountResourceId: '<storageAccountResourceId>'\n workspaceResourceId: '<workspaceResourceId>'\n }\n ]\n dnsServers: [\n '10.0.1.4'\n '10.0.1.5'\n ]\n flowTimeoutInMinutes: 20\n location: '<location>'\n subnets: [\n {\n addressPrefix: '<addressPrefix>'\n name: 'GatewaySubnet'\n }\n {\n addressPrefix: '<addressPrefix>'\n name: 'az-subnet-x-001'\n networkSecurityGroupResourceId: '<networkSecurityGroupResourceId>'\n roleAssignments: [\n {\n principalId: '<principalId>'\n principalType: 'ServicePrincipal'\n roleDefinitionIdOrName: 'Reader'\n }\n ]\n routeTableResourceId: '<routeTableResourceId>'\n serviceEndpoints: [\n 'Microsoft.Sql'\n 'Microsoft.Storage'\n ]\n }\n {\n addressPrefix: '<addressPrefix>'\n delegation: 'Microsoft.Netapp/volumes'\n name: 'az-subnet-x-002'\n networkSecurityGroupResourceId: '<networkSecurityGroupResourceId>'\n }\n {\n addressPrefix: '<addressPrefix>'\n name: 'az-subnet-x-003'\n networkSecurityGroupResourceId: '<networkSecurityGroupResourceId>'\n privateEndpointNetworkPolicies: 'Disabled'\n privateLinkServiceNetworkPolicies: 'Enabled'\n }\n {\n addressPrefix: '<addressPrefix>'\n name: 'AzureBastionSubnet'\n networkSecurityGroupResourceId: '<networkSecurityGroupResourceId>'\n }\n {\n addressPrefix: '<addressPrefix>'\n name: 'AzureFirewallSubnet'\n }\n ]\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Virtual Network Gateway: VPN Active Active with BGP settings"}, {"role": "assistant", "content": "module virtualNetworkGateway 'br/public:avm/res/network/virtual-network-gateway:<version>' = {\n name: 'virtualNetworkGatewayDeployment'\n params: {\n // Required parameters\n clusterSettings: {\n asn: 65515\n clusterMode: 'activeActiveBgp'\n customBgpIpAddresses: [\n '169.254.21.4'\n '169.254.21.5'\n ]\n secondCustomBgpIpAddresses: [\n '169.254.22.4'\n '169.254.22.5'\n ]\n }\n gatewayType: 'Vpn'\n name: 'nvgmwaf001'\n virtualNetworkResourceId: '<virtualNetworkResourceId>'\n // Non-required parameters\n allowRemoteVnetTraffic: true\n diagnosticSettings: [\n {\n eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n eventHubName: '<eventHubName>'\n metricCategories: [\n {\n category: 'AllMetrics'\n }\n ]\n name: 'customSetting'\n storageAccountResourceId: '<storageAccountResourceId>'\n workspaceResourceId: '<workspaceResourceId>'\n }\n ]\n disableIPSecReplayProtection: true\n domainNameLabel: [\n 'dm-nvgmwaf'\n ]\n enableBgpRouteTranslationForNat: true\n enablePrivateIpAddress: true\n gatewayDefaultSiteLocalNetworkGatewayResourceId: '<gatewayDefaultSiteLocalNetworkGatewayResourceId>'\n maintenanceConfiguration: {\n assignmentName: 'myAssignment'\n maintenanceConfigurationResourceId: '<maintenanceConfigurationResourceId>'\n }\n natRules: [\n {\n externalMappings: [\n {\n addressSpace: '192.168.0.0/24'\n portRange: '100'\n }\n ]\n internalMappings: [\n {\n addressSpace: '10.100.0.0/24'\n portRange: '100'\n }\n ]\n mode: 'IngressSnat'\n name: 'nat-rule-1-static-IngressSnat'\n type: 'Static'\n }\n {\n externalMappings: [\n {\n addressSpace: '10.200.0.0/26'\n }\n ]\n internalMappings: [\n {\n addressSpace: '172.16.0.0/26'\n }\n ]\n mode: 'EgressSnat'\n name: 'nat-rule-2-dynamic-EgressSnat'\n type: 'Static'\n }\n ]\n publicIpAvailabilityZones: [\n 1\n 2\n 3\n ]\n skuName: 'VpnGw2AZ'\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n vpnGatewayGeneration: 'Generation2'\n vpnType: 'RouteBased'\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Virtual WAN: Using only defaults"}, {"role": "assistant", "content": "module virtualWan 'br/public:avm/res/network/virtual-wan:<version>' = {\n name: 'virtualWanDeployment'\n params: {\n // Required parameters\n name: 'nvwwaf001'\n // Non-required parameters\n allowBranchToBranchTraffic: true\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n type: 'Basic'\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a VPN Gateway: Using only defaults"}, {"role": "assistant", "content": "bgpSettings: {\n asn: 65515\n peerWeight: 0\n bgpPeeringAddresses: [\n {\n ipconfigurationId: 'Instance0'\n defaultBgpIpAddresses: [\n '10.0.0.12'\n ]\n customBgpIpAddresses: []\n tunnelIpAddresses: [\n '20.84.35.53'\n '10.0.0.4'\n ]\n }\n {\n ipconfigurationId: 'Instance1'\n defaultBgpIpAddresses: [\n '10.0.0.13'\n ]\n customBgpIpAddresses: []\n tunnelIpAddresses: [\n '20.84.34.225'\n '10.0.0.5'\n ]\n }\n ]\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a VPN Server Configuration for a Virtual Hub P2S Gateway: Using only defaults"}, {"role": "assistant", "content": "module vpnServerConfiguration 'br/public:avm/res/network/vpn-server-configuration:<version>' = {\n name: 'vpnServerConfigurationDeployment'\n params: {\n // Required parameters\n name: 'vscwafVPNConfig'\n // Non-required parameters\n aadAudience: '11111111-1234-4321-1234-111111111111'\n aadIssuer: 'https://sts.windows.net/11111111-1111-1111-1111-111111111111/'\n aadTenant: '<aadTenant>'\n p2sConfigurationPolicyGroups: [\n {\n isDefault: 'true'\n policymembers: [\n {\n attributeType: 'AADGroupId'\n attributeValue: '11111111-1111-2222-3333-111111111111'\n name: 'UserGroup1'\n }\n ]\n priority: '0'\n userVPNPolicyGroupName: 'DefaultGroup'\n }\n ]\n vpnAuthenticationTypes: [\n 'AAD'\n ]\n vpnProtocols: [\n 'OpenVPN'\n ]\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a VPN Site: Using only defaults"}, {"role": "assistant", "content": "deviceProperties: {\n deviceModel: 'morty'\n deviceVendor: 'contoso'\n linkSpeedInMbps: 0\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy an Azure NetApp Files Account and the associated resource types such as backups, capacity pools and volumes: Using only defaults"}, {"role": "assistant", "content": "module netAppAccount 'br/public:avm/res/net-app/net-app-account:<version>' = {\n name: 'netAppAccountDeployment'\n params: {\n // Required parameters\n name: 'nanaawaf001'\n // Non-required parameters\n location: '<location>'\n tags: {\n service: 'netapp'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy an Azure Maps Account: Using only defaults"}, {"role": "assistant", "content": "module account 'br/public:avm/res/maps/account:<version>' = {\n name: 'accountDeployment'\n params: {\n // Required parameters\n name: 'mawaf001'\n // Non-required parameters\n corsRules: [\n {\n allowedOrigins: [\n 'https://www.bing.com'\n ]\n }\n {\n allowedOrigins: [\n 'https://www.bing.de'\n ]\n }\n ]\n disableLocalAuth: true\n kind: 'Gen2'\n locations: [\n 'eastus'\n 'westeurope'\n ]\n sku: 'G2'\n tags: {\n costCenter: '1234'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy the module with the minimum set of required parameters: Using only defaults"}, {"role": "assistant", "content": "module managementGroup 'br/public:avm/res/management/management-group:<version>' = {\n name: 'managementGroupDeployment'\n params: {\n // Required parameters\n name: 'mmgwaf001'\n // Non-required parameters\n displayName: 'Test MG'\n location: '<location>'\n parentId: '<parentId>'\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy the module with the minimum set of required parameters: Using only defaults"}, {"role": "assistant", "content": "module serviceGroup 'br/public:avm/res/management/service-group:<version>' = {\n name: 'serviceGroupDeployment'\n params: {\n // Required parameters\n name: '<name>'\n // Non-required parameters\n displayName: 'Service Group E2E Test WAF Aligned'\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a `Registration Definition` and a `Registration Assignment` (often referred to as 'Lighthouse' or 'resource delegation') on a subscription or resource group scope: Using only defaults"}, {"role": "assistant", "content": "module registrationDefinition 'br/public:avm/res/managed-services/registration-definition:<version>' = {\n name: 'registrationDefinitionDeployment'\n params: {\n // Required parameters\n authorizations: [\n {\n principalId: 'ecadddf6-78c3-4516-afb2-7d30a174ea13'\n roleDefinitionId: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n }\n {\n principalId: 'ecadddf6-78c3-4516-afb2-7d30a174ea13'\n roleDefinitionId: '91c1777a-f3dc-4fae-b103-61d183457e46'\n }\n ]\n managedByTenantId: '<managedByTenantId>'\n name: 'Component Validation - msrdwaf Subscription assignment'\n registrationDescription: 'Managed by Lighthouse'\n // Non-required parameters\n metadataLocation: '<metadataLocation>'\n resourceGroupName: '<resourceGroupName>'\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a User Assigned Identity: Using only defaults"}, {"role": "assistant", "content": "module userAssignedIdentity 'br/public:avm/res/managed-identity/user-assigned-identity:<version>' = {\n name: 'userAssignedIdentityDeployment'\n params: {\n // Required parameters\n name: 'miuaiwaf001'\n // Non-required parameters\n federatedIdentityCredentials: [\n {\n audiences: [\n 'api://AzureADTokenExchange'\n ]\n issuer: '<issuer>'\n name: 'test-fed-cred-miuaiwaf-001'\n subject: 'system:serviceaccount:default:workload-identity-sa'\n }\n {\n audiences: [\n 'api://AzureADTokenExchange'\n ]\n issuer: '<issuer>'\n name: 'test-fed-cred-miuaiwaf-002'\n subject: 'system:serviceaccount:default:workload-identity-sa'\n }\n ]\n location: '<location>'\n lock: {\n kind: 'CanNotDelete'\n name: 'myCustomLockName'\n }\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Maintenance Configuration Assignment: Using only defaults"}, {"role": "assistant", "content": "module configurationAssignment 'br/public:avm/res/maintenance/configuration-assignment:<version>' = {\n name: 'configurationAssignmentDeployment'\n params: {\n // Required parameters\n maintenanceConfigurationResourceId: '<maintenanceConfigurationResourceId>'\n name: 'mcamrg001'\n // Non-required parameters\n resourceId: '<resourceId>'\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Maintenance Configuration: Using only defaults"}, {"role": "assistant", "content": "module maintenanceConfiguration 'br/public:avm/res/maintenance/maintenance-configuration:<version>' = {\n name: 'maintenanceConfigurationDeployment'\n params: {\n // Required parameters\n name: 'mmcwaf001'\n // Non-required parameters\n extensionProperties: {\n InGuestPatchMode: 'User'\n }\n installPatches: {\n linuxParameters: {\n classificationsToInclude: '<classificationsToInclude>'\n packageNameMasksToExclude: '<packageNameMasksToExclude>'\n packageNameMasksToInclude: '<packageNameMasksToInclude>'\n }\n rebootSetting: 'IfRequired'\n windowsParameters: {\n classificationsToInclude: [\n 'Critical'\n 'Security'\n ]\n kbNumbersToExclude: '<kbNumbersToExclude>'\n kbNumbersToInclude: '<kbNumbersToInclude>'\n }\n }\n location: '<location>'\n maintenanceScope: 'InGuestPatch'\n maintenanceWindow: {\n duration: '03:00'\n expirationDateTime: '9999-12-31 23:59:59'\n recurEvery: 'Day'\n startDateTime: '2022-12-31 13:00'\n timeZone: 'W. Europe Standard Time'\n }\n namespace: 'mmcwafns'\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n visibility: 'Custom'\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy an Azure Machine Learning Registry: Using only defaults for AML Registry"}, {"role": "assistant", "content": "module registry 'br/public:avm/res/machine-learning-services/registry:<version>' = {\n name: 'registryDeployment'\n params: {\n // Required parameters\n name: 'mlsrwaf001'\n // Non-required parameters\n privateEndpoints: [\n {\n privateDnsZoneGroup: {\n privateDnsZoneGroupConfigs: [\n {\n privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n }\n ]\n }\n subnetResourceId: '<subnetResourceId>'\n }\n ]\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Machine Learning Services Workspace: Creating Azure AI Studio hub resource"}, {"role": "assistant", "content": "computes: [\n // Attach existing resources\n {\n name: 'DefaultAKS'\n location: 'westeurope'\n description: 'Default AKS Cluster'\n disableLocalAuth: false\n deployCompute: true\n computeType: 'AKS'\n resourceId: '/subscriptions/[[subscriptionId]]/resourceGroups/validation-rg/providers/Microsoft.ContainerService/managedClusters/xxx'\n }\n // Create new compute resource\n {\n name: 'DefaultCPU'\n location: 'westeurope'\n computeLocation: 'westeurope'\n sku: 'Basic'\n systemAssignedIdentity: true\n userAssignedIdentities: {\n '/subscriptions/[[subscriptionId]]/resourcegroups/validation-rg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/adp-[[namePrefix]]-az-msi-x-001': {}\n }\n description: 'Default CPU Cluster'\n disableLocalAuth: false\n computeType: 'AmlCompute'\n properties: {\n enableNodePublicIp: true\n isolatedNetwork: false\n osType: 'Linux'\n remoteLoginPortPublicAccess: 'Disabled'\n scaleSettings: {\n maxNodeCount: 3\n minNodeCount: 0\n nodeIdleTimeBeforeScaleDown: 'PT5M'\n }\n vmPriority: 'Dedicated'\n vmSize: 'STANDARD_DS11_V2'\n }\n }\n]\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Logic App (Workflow): Using only defaults"}, {"role": "assistant", "content": "'<flow>EndpointsConfiguration': {\n outgoingIpAddresses: [\n {\n address: 'string'\n }\n ]\n accessEndpointIpAddresses: [\n {\n address: 'string'\n }\n ]\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Load test: Using only defaults"}, {"role": "assistant", "content": "module loadTest 'br/public:avm/res/load-test-service/load-test:<version>' = {\n name: 'loadTestDeployment'\n params: {\n // Required parameters\n name: 'ltwaf001'\n // Non-required parameters\n enableTelemetry: '<enableTelemetry>'\n loadTestDescription: 'This is a sample load test.'\n location: '<location>'\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Kusto Cluster: Using only defaults"}, {"role": "assistant", "content": "module cluster 'br/public:avm/res/kusto/cluster:<version>' = {\n name: 'clusterDeployment'\n params: {\n // Required parameters\n name: 'kcwaf0001'\n sku: 'Standard_E2ads_v5'\n // Non-required parameters\n autoScaleMax: 10\n autoScaleMin: 3\n capacity: 3\n enableAutoScale: true\n enableAutoStop: true\n enableDiskEncryption: true\n enableDoubleEncryption: true\n enablePublicNetworkAccess: false\n enableZoneRedundant: true\n location: '<location>'\n managedIdentities: {\n userAssignedResourceIds: [\n '<managedIdentityResourceId>'\n ]\n }\n tags: {\n Env: 'test'\n 'hidden-title': 'This is visible in the resource name'\n }\n tier: 'Standard'\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Kubernetes Runtime Load Balancer for MetalLB and related networking services: Using only defaults"}, {"role": "assistant", "content": "module loadBalancer 'br/public:avm/res/kubernetes-runtime/load-balancer:<version>' = {\n name: 'loadBalancerDeployment'\n params: {\n // Required parameters\n addresses: [\n '10.0.0.100-10.0.0.110'\n ]\n advertiseMode: 'Both'\n clusterName: '<clusterName>'\n kubernetesRuntimeRPObjectId: '<kubernetesRuntimeRPObjectId>'\n name: 'krlbwaf001'\n // Non-required parameters\n bgpPeers: [\n 'test-peer'\n ]\n serviceSelector: {\n test: 'waf-test'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Kubernetes Configuration Extension: Using only defaults"}, {"role": "assistant", "content": "module extension 'br/public:avm/res/kubernetes-configuration/extension:<version>' = {\n name: 'extensionDeployment'\n params: {\n // Required parameters\n clusterName: '<clusterName>'\n extensionType: 'microsoft.flux'\n name: 'kcewaf001'\n // Non-required parameters\n configurationSettings: {\n 'image-automation-controller.enabled': 'false'\n 'image-reflector-controller.enabled': 'false'\n 'kustomize-controller.enabled': 'true'\n 'notification-controller.enabled': 'false'\n 'source-controller.enabled': 'true'\n }\n fluxConfigurations: [\n {\n gitRepository: {\n repositoryRef: {\n branch: 'main'\n }\n sshKnownHosts: ''\n syncIntervalInSeconds: 300\n timeoutInSeconds: 180\n url: 'https://github.com/mspnp/aks-baseline'\n }\n kustomizations: {\n unified: {\n path: './cluster-manifests'\n }\n }\n namespace: 'flux-system'\n scope: 'cluster'\n suspend: false\n }\n ]\n releaseNamespace: 'flux-system'\n releaseTrain: 'Stable'\n version: '0.5.2'\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Kubernetes Configuration Flux Configuration: Using only defaults"}, {"role": "assistant", "content": "module fluxConfiguration 'br/public:avm/res/kubernetes-configuration/flux-configuration:<version>' = {\n name: 'fluxConfigurationDeployment'\n params: {\n // Required parameters\n clusterName: '<clusterName>'\n kustomizations: {\n unified: {\n dependsOn: []\n force: false\n path: './cluster-manifests'\n prune: true\n syncIntervalInSeconds: 300\n timeoutInSeconds: 300\n }\n }\n name: 'kcfcwaf001'\n namespace: 'flux-system'\n scope: 'cluster'\n sourceKind: 'GitRepository'\n // Non-required parameters\n gitRepository: {\n repositoryRef: {\n branch: 'main'\n }\n sshKnownHosts: ''\n syncIntervalInSeconds: 300\n timeoutInSeconds: 180\n url: 'https://github.com/mspnp/aks-baseline'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy an Azure Arc connected cluster: Using only defaults"}, {"role": "assistant", "content": "module connectedCluster 'br/public:avm/res/kubernetes/connected-cluster:<version>' = {\n name: 'connectedClusterDeployment'\n params: {\n // Required parameters\n name: 'kccwaf001'\n // Non-required parameters\n aadProfile: {\n adminGroupObjectIDs: []\n enableAzureRBAC: true\n tenantID: '<tenantID>'\n }\n location: '<location>'\n oidcIssuerProfile: {\n enabled: true\n }\n securityProfile: {\n workloadIdentity: {\n enabled: true\n }\n }\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Key Vault: Using only defaults"}, {"role": "assistant", "content": "module vault 'br/public:avm/res/key-vault/vault:<version>' = {\n name: 'vaultDeployment'\n params: {\n // Required parameters\n name: 'kvvwaf002'\n // Non-required parameters\n diagnosticSettings: [\n {\n eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n eventHubName: '<eventHubName>'\n storageAccountResourceId: '<storageAccountResourceId>'\n workspaceResourceId: '<workspaceResourceId>'\n }\n ]\n enablePurgeProtection: false\n enableRbacAuthorization: true\n keys: [\n {\n attributes: {\n enabled: true\n exp: 1702648632\n nbf: 10000\n }\n keySize: 4096\n name: 'keyName'\n rotationPolicy: {\n attributes: {\n expiryTime: 'P2Y'\n }\n lifetimeActions: [\n {\n action: {\n type: 'rotate'\n }\n trigger: {\n timeBeforeExpiry: 'P2M'\n }\n }\n {\n action: {\n type: 'notify'\n }\n trigger: {\n timeBeforeExpiry: 'P30D'\n }\n }\n ]\n }\n }\n ]\n networkAcls: {\n bypass: 'AzureServices'\n defaultAction: 'Deny'\n }\n privateEndpoints: [\n {\n privateDnsZoneGroup: {\n privateDnsZoneGroupConfigs: [\n {\n privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n }\n ]\n }\n service: 'vault'\n subnetResourceId: '<subnetResourceId>'\n }\n ]\n secrets: [\n {\n attributes: {\n enabled: true\n exp: 1702648632\n nbf: 10000\n }\n contentType: 'Something'\n name: 'secretName'\n value: 'secretValue'\n }\n ]\n softDeleteRetentionInDays: 7\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy an Action Group: Using only defaults"}, {"role": "assistant", "content": "module actionGroup 'br/public:avm/res/insights/action-group:<version>' = {\n name: 'actionGroupDeployment'\n params: {\n // Required parameters\n groupShortName: 'agiagwaf001'\n name: 'iagwaf001'\n // Non-required parameters\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy an Activity Log Alert: Using only defaults"}, {"role": "assistant", "content": "module activityLogAlert 'br/public:avm/res/insights/activity-log-alert:<version>' = {\n name: 'activityLogAlertDeployment'\n params: {\n // Required parameters\n conditions: [\n {\n equals: 'ServiceHealth'\n field: 'category'\n }\n {\n anyOf: [\n {\n equals: 'Incident'\n field: 'properties.incidentType'\n }\n {\n equals: 'Maintenance'\n field: 'properties.incidentType'\n }\n ]\n }\n {\n containsAny: [\n 'Action Groups'\n 'Activity Logs & Alerts'\n ]\n field: 'properties.impactedServices[*].ServiceName'\n }\n {\n containsAny: [\n 'Global'\n 'West Europe'\n ]\n field: 'properties.impactedServices[*].ImpactedRegions[*].RegionName'\n }\n ]\n name: 'ialawaf001'\n // Non-required parameters\n actions: [\n {\n actionGroupId: '<actionGroupId>'\n }\n ]\n location: 'global'\n scopes: [\n '<id>'\n ]\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy an Application Insights instance: Using only defaults"}, {"role": "assistant", "content": "module component 'br/public:avm/res/insights/component:<version>' = {\n name: 'componentDeployment'\n params: {\n // Required parameters\n name: 'icwaf001'\n workspaceResourceId: '<workspaceResourceId>'\n // Non-required parameters\n diagnosticSettings: [\n {\n eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n eventHubName: '<eventHubName>'\n metricCategories: [\n {\n category: 'AllMetrics'\n }\n ]\n name: 'customSetting'\n storageAccountResourceId: '<storageAccountResourceId>'\n workspaceResourceId: '<workspaceResourceId>'\n }\n ]\n location: '<location>'\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Data Collection Endpoint: Using only defaults"}, {"role": "assistant", "content": "module dataCollectionEndpoint 'br/public:avm/res/insights/data-collection-endpoint:<version>' = {\n name: 'dataCollectionEndpointDeployment'\n params: {\n // Required parameters\n name: 'idcewaf001'\n // Non-required parameters\n kind: 'Windows'\n location: '<location>'\n publicNetworkAccess: 'Disabled'\n tags: {\n 'hidden-title': 'This is visible in the resource name'\n kind: 'Windows'\n resourceType: 'Data Collection Rules'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Data Collection Rule: Agent Settings"}, {"role": "assistant", "content": "module dataCollectionRule 'br/public:avm/res/insights/data-collection-rule:<version>' = {\n name: 'dataCollectionRuleDeployment'\n params: {\n // Required parameters\n dataCollectionRuleProperties: {\n dataFlows: [\n {\n destinations: [\n 'azureMonitorMetrics-default'\n ]\n streams: [\n 'Microsoft-InsightsMetrics'\n ]\n }\n {\n destinations: [\n '<logAnalyticsWorkspaceName>'\n ]\n streams: [\n 'Microsoft-Event'\n ]\n }\n ]\n dataSources: {\n performanceCounters: [\n {\n counterSpecifiers: [\n '\\LogicalDisk(_Total)\\% Disk Read Time'\n '\\LogicalDisk(_Total)\\% Disk Time'\n '\\LogicalDisk(_Total)\\% Disk Write Time'\n '\\LogicalDisk(_Total)\\% Free Space'\n '\\LogicalDisk(_Total)\\% Idle Time'\n '\\LogicalDisk(_Total)\\Avg. Disk Queue Length'\n '\\LogicalDisk(_Total)\\Avg. Disk Read Queue Length'\n '\\LogicalDisk(_Total)\\Avg. Disk sec/Read'\n '\\LogicalDisk(_Total)\\Avg. Disk sec/Transfer'\n '\\LogicalDisk(_Total)\\Avg. Disk sec/Write'\n '\\LogicalDisk(_Total)\\Avg. Disk Write Queue Length'\n '\\LogicalDisk(_Total)\\Disk Bytes/sec'\n '\\LogicalDisk(_Total)\\Disk Read Bytes/sec'\n '\\LogicalDisk(_Total)\\Disk Reads/sec'\n '\\LogicalDisk(_Total)\\Disk Transfers/sec'\n '\\LogicalDisk(_Total)\\Disk Write Bytes/sec'\n '\\LogicalDisk(_Total)\\Disk Writes/sec'\n '\\LogicalDisk(_Total)\\Free Megabytes'\n '\\Memory\\% Committed Bytes In Use'\n '\\Memory\\Available Bytes'\n '\\Memory\\Cache Bytes'\n '\\Memory\\Committed Bytes'\n '\\Memory\\Page Faults/sec'\n '\\Memory\\Pages/sec'\n '\\Memory\\Pool Nonpaged Bytes'\n '\\Memory\\Pool Paged Bytes'\n '\\Network Interface(*)\\Bytes Received/sec'\n '\\Network Interface(*)\\Bytes Sent/sec'\n '\\Network Interface(*)\\Bytes Total/sec'\n '\\Network Interface(*)\\Packets Outbound Errors'\n '\\Network Interface(*)\\Packets Received Errors'\n '\\Network Interface(*)\\Packets Received/sec'\n '\\Network Interface(*)\\Packets Sent/sec'\n '\\Network Interface(*)\\Packets/sec'\n '\\Process(_Total)\\Handle Count'\n '\\Process(_Total)\\Thread Count'\n '\\Process(_Total)\\Working Set'\n '\\Process(_Total)\\Working Set - Private'\n '\\Processor Information(_Total)\\% Privileged Time'\n '\\Processor Information(_Total)\\% Processor Time'\n '\\Processor Information(_Total)\\% User Time'\n '\\Processor Information(_Total)\\Processor Frequency'\n '\\System\\Context Switches/sec'\n '\\System\\Processes'\n '\\System\\Processor Queue Length'\n '\\System\\System Up Time'\n ]\n name: 'perfCounterDataSource60'\n samplingFrequencyInSeconds: 60\n streams: [\n 'Microsoft-InsightsMetrics'\n ]\n }\n ]\n windowsEventLogs: [\n {\n name: 'eventLogsDataSource'\n streams: [\n 'Microsoft-Event'\n ]\n xPathQueries: [\n 'Application!*[System[(Level=1 or Level=2 or Level=3 or Level=4 or Level=0 or Level=5)]]'\n 'Security!*[System[(band(Keywords,13510798882111488))]]'\n 'System!*[System[(Level=1 or Level=2 or Level=3 or Level=4 or Level=0 or Level=5)]]'\n ]\n }\n ]\n }\n description: 'Collecting Windows-specific performance counters and Windows Event Logs'\n destinations: {\n azureMonitorMetrics: {\n name: 'azureMonitorMetrics-default'\n }\n logAnalytics: [\n {\n name: '<name>'\n workspaceResourceId: '<workspaceResourceId>'\n }\n ]\n }\n kind: 'Windows'\n }\n name: 'idcrwin001'\n // Non-required parameters\n location: '<location>'\n tags: {\n 'hidden-title': 'This is visible in the resource name'\n kind: 'Windows'\n resourceType: 'Data Collection Rules'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Subscription wide export of the Activity Log: Using only defaults"}, {"role": "assistant", "content": "module diagnosticSetting 'br/public:avm/res/insights/diagnostic-setting:<version>' = {\n name: 'diagnosticSettingDeployment'\n params: {\n eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n eventHubName: '<eventHubName>'\n location: '<location>'\n metricCategories: [\n {\n category: 'AllMetrics'\n }\n ]\n name: 'idswaf001'\n storageAccountResourceId: '<storageAccountResourceId>'\n workspaceResourceId: '<workspaceResourceId>'\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Metric Alert: Using only defaults"}, {"role": "assistant", "content": "module metricAlert 'br/public:avm/res/insights/metric-alert:<version>' = {\n name: 'metricAlertDeployment'\n params: {\n // Required parameters\n criteria: {\n componentResourceId: '<componentResourceId>'\n failedLocationCount: 3\n 'odata.type': 'Microsoft.Azure.Monitor.WebtestLocationAvailabilityCriteria'\n webTestResourceId: '<webTestResourceId>'\n }\n name: 'imawaf001'\n // Non-required parameters\n actions: [\n '<actionGroupResourceId>'\n ]\n evaluationFrequency: 'PT5M'\n scopes: [\n '<appInsightsResourceId>'\n '<pingTestResourceId>'\n ]\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n windowSize: 'PT5M'\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy an Azure Monitor Private Link Scope: Using only defaults"}, {"role": "assistant", "content": "module privateLinkScope 'br/public:avm/res/insights/private-link-scope:<version>' = {\n name: 'privateLinkScopeDeployment'\n params: {\n // Required parameters\n name: 'iplswaf001'\n // Non-required parameters\n location: 'global'\n privateEndpoints: [\n {\n customNetworkInterfaceName: 'nic-pe-'\n ipConfigurations: [\n {\n name: 'api'\n properties: {\n groupId: 'azuremonitor'\n memberName: 'api'\n privateIPAddress: '10.0.0.11'\n }\n }\n {\n name: 'globalinai'\n properties: {\n groupId: 'azuremonitor'\n memberName: 'global.in.ai'\n privateIPAddress: '10.0.0.12'\n }\n }\n {\n name: 'profiler'\n properties: {\n groupId: 'azuremonitor'\n memberName: 'profiler'\n privateIPAddress: '10.0.0.13'\n }\n }\n {\n name: 'live'\n properties: {\n groupId: 'azuremonitor'\n memberName: 'live'\n privateIPAddress: '10.0.0.14'\n }\n }\n {\n name: 'diagservicesquery'\n properties: {\n groupId: 'azuremonitor'\n memberName: 'diagservicesquery'\n privateIPAddress: '10.0.0.15'\n }\n }\n {\n name: 'snapshot'\n properties: {\n groupId: 'azuremonitor'\n memberName: 'snapshot'\n privateIPAddress: '10.0.0.16'\n }\n }\n {\n name: 'agentsolutionpackstore'\n properties: {\n groupId: 'azuremonitor'\n memberName: 'agentsolutionpackstore'\n privateIPAddress: '10.0.0.17'\n }\n }\n {\n name: 'dce-global'\n properties: {\n groupId: 'azuremonitor'\n memberName: 'dce-global'\n privateIPAddress: '10.0.0.18'\n }\n }\n {\n name: '<name>'\n properties: {\n groupId: 'azuremonitor'\n memberName: '<memberName>'\n privateIPAddress: '10.0.0.19'\n }\n }\n {\n name: '<name>'\n properties: {\n groupId: 'azuremonitor'\n memberName: '<memberName>'\n privateIPAddress: '10.0.0.20'\n }\n }\n {\n name: '<name>'\n properties: {\n groupId: 'azuremonitor'\n memberName: '<memberName>'\n privateIPAddress: '10.0.0.21'\n }\n }\n ]\n name: 'pe-'\n privateDnsZoneGroup: {\n privateDnsZoneGroupConfigs: [\n {\n privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n }\n ]\n }\n subnetResourceId: '<subnetResourceId>'\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n ]\n scopedResources: [\n {\n linkedResourceId: '<linkedResourceId>'\n name: 'scoped1'\n }\n ]\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy the module with the minimum set of required parameters: Using only defaults"}, {"role": "assistant", "content": "module provisionedClusterInstance 'br/public:avm/res/hybrid-container-service/provisioned-cluster-instance:<version>' = {\n name: 'provisionedClusterInstanceDeployment'\n params: {\n // Required parameters\n cloudProviderProfile: {\n infraNetworkProfile: {\n vnetSubnetIds: [\n '<resourceId>'\n ]\n }\n }\n customLocationResourceId: '<customLocationResourceId>'\n name: 'hcpciwaf001'\n // Non-required parameters\n agentPoolProfiles: [\n {\n count: 2\n enableAutoScaling: false\n maxCount: 5\n maxPods: 110\n minCount: 1\n name: 'nodepool1'\n nodeLabels: {}\n nodeTaints: []\n osSKU: 'CBLMariner'\n osType: 'Linux'\n vmSize: 'Standard_A4_v2'\n }\n ]\n connectClustersTags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n controlPlane: {\n controlPlaneEndpoint: {\n hostIP: '<hostIP>'\n }\n count: 1\n vmSize: 'Standard_A4_v2'\n }\n keyVaultName: '<keyVaultName>'\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Azure Arc Gateway: Azure Arc Gateway using only the defaults"}, {"role": "assistant", "content": "module gateway 'br/public:avm/res/hybrid-compute/gateway:<version>' = {\n name: 'gatewayDeployment'\n params: {\n name: 'hcgwaf001'\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy an Azure Arc License for use with Azure Arc-enabled servers: Using only defaults"}, {"role": "assistant", "content": "module license 'br/public:avm/res/hybrid-compute/license:<version>' = {\n name: 'licenseDeployment'\n params: {\n name: 'hclwaf001'\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy an Arc Machine for use with Arc Resource Bridge for Azure Stack HCI or VMware: Creates an Arc Machine using only the defaults"}, {"role": "assistant", "content": "module machine 'br/public:avm/res/hybrid-compute/machine:<version>' = {\n name: 'machineDeployment'\n params: {\n // Required parameters\n kind: 'HCI'\n name: 'arcmacwaf'\n // Non-required parameters\n location: '<location>'\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Healthcare API Workspace: Using only defaults"}, {"role": "assistant", "content": "iotConnectors: [\n {\n name: '[[namePrefix]]-az-iomt-x-001'\n workspaceName: '[[namePrefix]]001'\n corsOrigins: [ '*' ]\n corsHeaders: [ '*' ]\n corsMethods: [ 'GET' ]\n corsMaxAge: 600\n corsAllowCredentials: false\n location: location\n diagnosticStorageAccountId: diagnosticDependencies.outputs.storageAccountResourceId\n diagnosticWorkspaceId: diagnosticDependencies.outputs.logAnalyticsWorkspaceResourceId\n diagnosticEventHubAuthorizationRuleId: diagnosticDependencies.outputs.eventHubAuthorizationRuleId\n diagnosticEventHubName: diagnosticDependencies.outputs.eventHubNamespaceEventHubName\n publicNetworkAccess: 'Enabled'\n enableDefaultTelemetry: enableDefaultTelemetry\n systemAssignedIdentity: true\n userAssignedIdentities: {\n '${resourceGroupResources.outputs.managedIdentityResourceId}': {}\n }\n eventHubName: '[[eventHubName]]'\n consumerGroup: '[[consumerGroup]]'\n eventHubNamespaceName: '[[eventHubNamespaceName]]'\n deviceMapping: '[[deviceMapping]]'\n destinationMapping: '[[destinationMapping]]'\n fhirServiceResourceId: '[[fhirServiceResourceId]]'\n }\n]\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy an Azure Health Bot: Using only defaults"}, {"role": "assistant", "content": "module healthBot 'br/public:avm/res/health-bot/health-bot:<version>' = {\n name: 'healthBotDeployment'\n params: {\n // Required parameters\n name: 'hbhbwaf002'\n sku: 'F0'\n // Non-required parameters\n location: '<location>'\n lock: {\n kind: 'CanNotDelete'\n name: 'myCustomLockName'\n }\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy Fabric capacities, which provide the compute resources for all the experiences in Fabric: Using only defaults"}, {"role": "assistant", "content": "module capacity 'br/public:avm/res/fabric/capacity:<version>' = {\n name: 'capacityDeployment'\n params: {\n // Required parameters\n adminMembers: [\n '<adminMembersSecret>'\n ]\n name: 'fcwaf001'\n // Non-required parameters\n location: '<location>'\n skuName: 'F64'\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy an Event Hub Namespace: Using only defaults"}, {"role": "assistant", "content": "module namespace 'br/public:avm/res/event-hub/namespace:<version>' = {\n name: 'namespaceDeployment'\n params: {\n // Required parameters\n name: 'ehnwaf001'\n // Non-required parameters\n authorizationRules: [\n {\n name: 'RootManageSharedAccessKey'\n rights: [\n 'Listen'\n 'Manage'\n 'Send'\n ]\n }\n {\n name: 'SendListenAccess'\n rights: [\n 'Listen'\n 'Send'\n ]\n }\n ]\n diagnosticSettings: [\n {\n eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n eventHubName: '<eventHubName>'\n metricCategories: [\n {\n category: 'AllMetrics'\n }\n ]\n name: 'customSetting'\n storageAccountResourceId: '<storageAccountResourceId>'\n workspaceResourceId: '<workspaceResourceId>'\n }\n ]\n disableLocalAuth: true\n eventhubs: [\n {\n name: 'az-evh-x-001'\n }\n {\n authorizationRules: [\n {\n name: 'RootManageSharedAccessKey'\n rights: [\n 'Listen'\n 'Manage'\n 'Send'\n ]\n }\n {\n name: 'SendListenAccess'\n rights: [\n 'Listen'\n 'Send'\n ]\n }\n ]\n captureDescription: {\n destination: {\n identity: {\n userAssignedResourceId: '<userAssignedResourceId>'\n }\n name: 'EventHubArchive.AzureBlockBlob'\n properties: {\n archiveNameFormat: '{Namespace}/{EventHub}/{PartitionId}/{Year}/{Month}/{Day}/{Hour}/{Minute}/{Second}'\n blobContainer: '<blobContainer>'\n storageAccountResourceId: '<storageAccountResourceId>'\n }\n }\n encoding: 'Avro'\n intervalInSeconds: 300\n sizeLimitInBytes: 314572800\n skipEmptyArchives: true\n }\n consumergroups: [\n {\n name: 'custom'\n userMetadata: 'customMetadata'\n }\n ]\n messageRetentionInDays: 1\n name: 'az-evh-x-002'\n partitionCount: 2\n retentionDescriptionCleanupPolicy: 'Delete'\n retentionDescriptionRetentionTimeInHours: 3\n status: 'Active'\n }\n {\n name: 'az-evh-x-003'\n retentionDescriptionCleanupPolicy: 'Compact'\n retentionDescriptionTombstoneRetentionTimeInHours: 24\n }\n ]\n isAutoInflateEnabled: true\n kafkaEnabled: true\n managedIdentities: {\n userAssignedResourceId: '<userAssignedResourceId>'\n }\n maximumThroughputUnits: 4\n minimumTlsVersion: '1.2'\n networkRuleSets: {\n defaultAction: 'Deny'\n ipRules: [\n {\n action: 'Allow'\n ipMask: '10.10.10.10'\n }\n ]\n trustedServiceAccessEnabled: false\n virtualNetworkRules: [\n {\n ignoreMissingVnetServiceEndpoint: true\n subnetResourceId: '<subnetResourceId>'\n }\n ]\n }\n privateEndpoints: [\n {\n privateDnsZoneGroup: {\n privateDnsZoneGroupConfigs: [\n {\n privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n }\n ]\n }\n subnetResourceId: '<subnetResourceId>'\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n ]\n publicNetworkAccess: 'Disabled'\n skuCapacity: 2\n skuName: 'Standard'\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy an Event Grid Domain: Using only defaults"}, {"role": "assistant", "content": "module domain 'br/public:avm/res/event-grid/domain:<version>' = {\n name: 'domainDeployment'\n params: {\n // Required parameters\n name: 'egdwaf001'\n // Non-required parameters\n diagnosticSettings: [\n {\n eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n eventHubName: '<eventHubName>'\n metricCategories: [\n {\n category: 'AllMetrics'\n }\n ]\n name: 'customSetting'\n storageAccountResourceId: '<storageAccountResourceId>'\n workspaceResourceId: '<workspaceResourceId>'\n }\n ]\n inboundIpRules: []\n location: '<location>'\n lock: {\n kind: 'CanNotDelete'\n name: 'myCustomLockName'\n }\n minimumTlsVersionAllowed: '1.2'\n privateEndpoints: [\n {\n privateDnsZoneGroup: {\n privateDnsZoneGroupConfigs: [\n {\n privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n }\n ]\n }\n service: 'domain'\n subnetResourceId: '<subnetResourceId>'\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n ]\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n topics: [\n 'topic-egdwaf001'\n ]\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy an Event Grid Namespace: Using only defaults"}, {"role": "assistant", "content": "module namespace 'br/public:avm/res/event-grid/namespace:<version>' = {\n name: 'namespaceDeployment'\n params: {\n // Required parameters\n name: 'egnwaf001'\n // Non-required parameters\n diagnosticSettings: [\n {\n eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n eventHubName: '<eventHubName>'\n storageAccountResourceId: '<storageAccountResourceId>'\n workspaceResourceId: '<workspaceResourceId>'\n }\n ]\n location: '<location>'\n privateEndpoints: [\n {\n privateDnsZoneGroup: {\n privateDnsZoneGroupConfigs: [\n {\n privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n }\n ]\n }\n subnetResourceId: '<subnetResourceId>'\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n {\n privateDnsZoneGroup: {\n privateDnsZoneGroupConfigs: [\n {\n privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n }\n ]\n }\n subnetResourceId: '<subnetResourceId>'\n }\n ]\n roleAssignments: [\n {\n principalId: '<principalId>'\n principalType: 'ServicePrincipal'\n roleDefinitionIdOrName: 'Owner'\n }\n {\n principalId: '<principalId>'\n principalType: 'ServicePrincipal'\n roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n }\n {\n principalId: '<principalId>'\n principalType: 'ServicePrincipal'\n roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n }\n ]\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy an Event Grid System Topic: Using only defaults with managed identity"}, {"role": "assistant", "content": "module systemTopic 'br/public:avm/res/event-grid/system-topic:<version>' = {\n name: 'systemTopicDeployment'\n params: {\n // Required parameters\n name: 'egstwaf001'\n source: '<source>'\n topicType: 'Microsoft.Storage.StorageAccounts'\n // Non-required parameters\n diagnosticSettings: [\n {\n eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n eventHubName: '<eventHubName>'\n metricCategories: [\n {\n category: 'AllMetrics'\n }\n ]\n name: 'customSetting'\n storageAccountResourceId: '<storageAccountResourceId>'\n workspaceResourceId: '<workspaceResourceId>'\n }\n ]\n eventSubscriptions: [\n {\n destination: {\n endpointType: 'StorageQueue'\n properties: {\n queueName: '<queueName>'\n resourceId: '<resourceId>'\n }\n }\n eventDeliverySchema: 'CloudEventSchemaV1_0'\n expirationTimeUtc: '2099-01-01T11:00:21.715Z'\n filter: {\n enableAdvancedFilteringOnArrays: true\n isSubjectCaseSensitive: false\n }\n name: 'egstwaf001'\n retryPolicy: {\n eventTimeToLiveInMinutes: 120\n maxDeliveryAttempts: 10\n }\n }\n ]\n location: '<location>'\n lock: {\n kind: 'CanNotDelete'\n name: 'myCustomLockName'\n }\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy an Event Grid Topic: Using only defaults"}, {"role": "assistant", "content": "module topic 'br/public:avm/res/event-grid/topic:<version>' = {\n name: 'topicDeployment'\n params: {\n // Required parameters\n name: 'egtwaf001'\n // Non-required parameters\n diagnosticSettings: [\n {\n eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n eventHubName: '<eventHubName>'\n metricCategories: [\n {\n category: 'AllMetrics'\n }\n ]\n name: 'customSetting'\n storageAccountResourceId: '<storageAccountResourceId>'\n workspaceResourceId: '<workspaceResourceId>'\n }\n ]\n eventSubscriptions: [\n {\n deliveryWithResourceIdentity: {\n destination: {\n endpointType: 'StorageQueue'\n properties: {\n queueMessageTimeToLiveInSeconds: 86400\n queueName: '<queueName>'\n resourceId: '<resourceId>'\n }\n }\n identity: {\n type: 'UserAssigned'\n userAssignedIdentity: '<userAssignedIdentity>'\n }\n }\n eventDeliverySchema: 'CloudEventSchemaV1_0'\n expirationTimeUtc: '2099-01-01T11:00:21.715Z'\n filter: {\n enableAdvancedFilteringOnArrays: true\n isSubjectCaseSensitive: false\n }\n name: 'egtwaf001'\n retryPolicy: {\n eventTimeToLiveInMinutes: 120\n maxDeliveryAttempts: 10\n }\n }\n ]\n inboundIpRules: []\n location: '<location>'\n lock: {\n kind: 'CanNotDelete'\n name: 'myCustomLockName'\n }\n managedIdentities: {\n userAssignedResourceIds: [\n '<managedIdentityResourceId>'\n ]\n }\n privateEndpoints: [\n {\n privateDnsZoneGroup: {\n privateDnsZoneGroupConfigs: [\n {\n privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n }\n ]\n }\n service: 'topic'\n subnetResourceId: '<subnetResourceId>'\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n ]\n publicNetworkAccess: 'Disabled'\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy an Elastic SAN: Using encryption with Customer-Managed-Key"}, {"role": "assistant", "content": "module elasticSan 'br/public:avm/res/elastic-san/elastic-san:<version>' = {\n name: 'elasticSanDeployment'\n params: {\n // Required parameters\n availabilityZone: 1\n name: 'esanwaf001'\n // Non-required parameters\n diagnosticSettings: [\n {\n eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n eventHubName: '<eventHubName>'\n metricCategories: [\n {\n category: 'AllMetrics'\n }\n ]\n name: 'customSetting'\n storageAccountResourceId: '<storageAccountResourceId>'\n workspaceResourceId: '<workspaceResourceId>'\n }\n ]\n publicNetworkAccess: 'Disabled'\n sku: 'Premium_LRS'\n tags: {\n CostCenter: '123-456-789'\n Owner: 'Contoso'\n }\n volumeGroups: [\n {\n customerManagedKey: {\n keyName: '<keyName>'\n keyVaultResourceId: '<keyVaultResourceId>'\n userAssignedIdentityResourceId: '<userAssignedIdentityResourceId>'\n }\n managedIdentities: {\n userAssignedResourceIds: [\n '<managedIdentityResourceId>'\n ]\n }\n name: 'vol-grp-01'\n privateEndpoints: [\n {\n privateDnsZoneGroup: {\n privateDnsZoneGroupConfigs: [\n {\n privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n }\n ]\n }\n subnetResourceId: '<subnetResourceId>'\n tags: {\n CostCenter: '123-456-789'\n Owner: 'Contoso'\n }\n }\n ]\n volumes: [\n {\n name: 'vol-grp-01-vol-01'\n sizeGiB: 1\n }\n ]\n }\n ]\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy an Azure Cosmos DB account: Using analytical storage"}, {"role": "assistant", "content": "module databaseAccount 'br/public:avm/res/document-db/database-account:<version>' = {\n name: 'databaseAccountDeployment'\n params: {\n // Required parameters\n name: 'dddawaf001'\n // Non-required parameters\n automaticFailover: true\n diagnosticSettings: [\n {\n eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n eventHubName: '<eventHubName>'\n storageAccountResourceId: '<storageAccountResourceId>'\n workspaceResourceId: '<workspaceResourceId>'\n }\n ]\n disableKeyBasedMetadataWriteAccess: true\n disableLocalAuthentication: true\n failoverLocations: [\n {\n failoverPriority: 0\n isZoneRedundant: true\n locationName: '<locationName>'\n }\n {\n failoverPriority: 1\n isZoneRedundant: true\n locationName: '<locationName>'\n }\n ]\n minimumTlsVersion: 'Tls12'\n networkRestrictions: {\n networkAclBypass: 'None'\n publicNetworkAccess: 'Disabled'\n }\n privateEndpoints: [\n {\n privateDnsZoneGroup: {\n privateDnsZoneGroupConfigs: [\n {\n privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n }\n ]\n }\n service: 'Sql'\n subnetResourceId: '<subnetResourceId>'\n }\n ]\n sqlDatabases: [\n {\n name: 'no-containers-specified'\n }\n ]\n tags: {\n environment: 'dev'\n role: 'validation'\n type: 'waf-aligned'\n }\n zoneRedundant: true\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Azure Cosmos DB for MongoDB (vCore) cluster: Using only defaults"}, {"role": "assistant", "content": "module mongoCluster 'br/public:avm/res/document-db/mongo-cluster:<version>' = {\n name: 'mongoClusterDeployment'\n params: {\n // Required parameters\n administratorLogin: 'Admin001'\n administratorLoginPassword: '<administratorLoginPassword>'\n name: 'ddmcwaf001'\n nodeCount: 3\n sku: 'M30'\n storage: 256\n // Non-required parameters\n highAvailabilityMode: 'ZoneRedundantPreferred'\n tags: {\n environment: 'dev'\n role: 'validation'\n type: 'waf-aligned'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy an Azure Digital Twins Instance: Using only defaults"}, {"role": "assistant", "content": "module digitalTwinsInstance 'br/public:avm/res/digital-twins/digital-twins-instance:<version>' = {\n name: 'digitalTwinsInstanceDeployment'\n params: {\n // Required parameters\n name: 'dtdiwaf001'\n // Non-required parameters\n diagnosticSettings: [\n {\n eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n eventHubName: '<eventHubName>'\n storageAccountResourceId: '<storageAccountResourceId>'\n workspaceResourceId: '<workspaceResourceId>'\n }\n ]\n privateEndpoints: [\n {\n privateDnsZoneGroup: {\n privateDnsZoneGroupConfigs: [\n {\n privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n }\n ]\n }\n subnetResourceId: '<subnetResourceId>'\n }\n {\n privateDnsZoneGroup: {\n privateDnsZoneGroupConfigs: [\n {\n privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n }\n ]\n }\n subnetResourceId: '<subnetResourceId>'\n }\n ]\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a DevTest Lab: Using only defaults"}, {"role": "assistant", "content": "module lab 'br/public:avm/res/dev-test-lab/lab:<version>' = {\n name: 'labDeployment'\n params: {\n // Required parameters\n name: 'dtllwaf001'\n // Non-required parameters\n location: '<location>'\n tags: {\n 'hidden-title': 'This is visible in the resource name'\n labName: 'dtllwaf001'\n resourceType: 'DevTest Lab'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy the Managed DevOps Pool resource: All Week Schema"}, {"role": "assistant", "content": "module pool 'br/public:avm/res/dev-ops-infrastructure/pool:<version>' = {\n name: 'poolDeployment'\n params: {\n // Required parameters\n agentProfile: {\n kind: 'Stateless'\n resourcePredictions: {\n daysData: {\n weekDaysScheme: {\n endAgentCount: 0\n endTime: '17:00:00'\n startAgentCount: 1\n startTime: '09:00:00'\n }\n }\n timeZone: 'UTC'\n }\n resourcePredictionsProfile: {\n kind: 'Manual'\n }\n }\n concurrency: 1\n devCenterProjectResourceId: '<devCenterProjectResourceId>'\n fabricProfileSkuName: 'Standard_DS2_v2'\n images: [\n {\n wellKnownImageName: 'windows-2022/latest'\n }\n ]\n name: 'mdpwkd001'\n organizationProfile: {\n kind: 'AzureDevOps'\n organizations: [\n {\n url: '<url>'\n }\n ]\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy an Azure Dev Center: Using only defaults"}, {"role": "assistant", "content": "module devcenter 'br/public:avm/res/dev-center/devcenter:<version>' = {\n name: 'devcenterDeployment'\n params: {\n // Required parameters\n name: '<name>'\n // Non-required parameters\n attachedNetworks: [\n {\n name: 'test-attached-network'\n networkConnectionResourceId: '<networkConnectionResourceId>'\n }\n ]\n catalogs: [\n {\n gitHub: {\n branch: 'main'\n path: 'Environment-Definitions'\n uri: 'https://github.com/microsoft/devcenter-catalog.git'\n }\n name: 'quickstart-catalog'\n syncType: 'Scheduled'\n }\n ]\n devboxDefinitions: [\n {\n hibernateSupport: 'Enabled'\n imageResourceId: '<imageResourceId>'\n name: 'test-devbox-definition-builtin-gallery-image'\n sku: {\n name: 'general_i_8c32gb512ssd_v2'\n }\n }\n ]\n devBoxProvisioningSettings: {\n installAzureMonitorAgentEnableStatus: 'Enabled'\n }\n managedIdentities: {\n systemAssigned: true\n userAssignedResourceIds: [\n '<managedIdentityResourceId>'\n ]\n }\n networkSettings: {\n microsoftHostedNetworkEnableStatus: 'Disabled'\n }\n projectCatalogSettings: {\n catalogItemSyncEnableStatus: 'Enabled'\n }\n projectPolicies: [\n {\n name: 'Default'\n resourcePolicies: [\n {\n action: 'Allow'\n resourceType: 'Images'\n }\n {\n action: 'Allow'\n resourceType: 'Skus'\n }\n {\n action: 'Allow'\n resourceType: 'AttachedNetworks'\n }\n ]\n }\n ]\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy an Azure Dev Center Network Connection: Using only defaults"}, {"role": "assistant", "content": "module networkConnection 'br/public:avm/res/dev-center/network-connection:<version>' = {\n name: 'networkConnectionDeployment'\n params: {\n // Required parameters\n name: 'dcncwaf001'\n subnetResourceId: '<subnetResourceId>'\n // Non-required parameters\n domainJoinType: 'AzureADJoin'\n networkingResourceGroupName: 'rg-dcncwaf-networking'\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Dev Center Project: Using only defaults"}, {"role": "assistant", "content": "module project 'br/public:avm/res/dev-center/project:<version>' = {\n name: 'projectDeployment'\n params: {\n // Required parameters\n devCenterResourceId: '<devCenterResourceId>'\n name: 'dcpwaf001'\n // Non-required parameters\n catalogSettings: {\n catalogItemSyncTypes: [\n 'EnvironmentDefinition'\n 'ImageDefinition'\n ]\n }\n description: 'This is a test project for the Dev Center project module.'\n displayName: 'My Dev Center Project'\n environmentTypes: [\n {\n creatorRoleAssignmentRoles: [\n 'acdd72a7-3385-48ef-bd42-f606fba81ae7'\n ]\n deploymentTargetSubscriptionResourceId: '<deploymentTargetSubscriptionResourceId>'\n displayName: 'My Sandbox Environment Type'\n managedIdentities: {\n systemAssigned: false\n userAssignedResourceIds: [\n '<managedIdentityResourceId>'\n ]\n }\n name: 'dep-et-dcpwaf'\n status: 'Enabled'\n }\n ]\n managedIdentities: {\n userAssignedResourceIds: [\n '<managedIdentityResourceId>'\n ]\n }\n maxDevBoxesPerUser: 2\n pools: [\n {\n devBoxDefinitionName: '<devBoxDefinitionName>'\n devBoxDefinitionType: 'Reference'\n displayName: 'My Sandbox Pool - Managed Network'\n localAdministrator: 'Disabled'\n managedVirtualNetworkRegion: 'westeurope'\n name: 'sandbox-pool'\n singleSignOnStatus: 'Enabled'\n stopOnDisconnect: {\n gracePeriodMinutes: 60\n status: 'Enabled'\n }\n virtualNetworkType: 'Managed'\n }\n ]\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy an Azure Virtual Desktop Application Group: Using only defaults"}, {"role": "assistant", "content": "module applicationGroup 'br/public:avm/res/desktop-virtualization/application-group:<version>' = {\n name: 'applicationGroupDeployment'\n params: {\n // Required parameters\n applicationGroupType: 'Desktop'\n hostpoolName: '<hostpoolName>'\n name: 'dvagwaf002'\n // Non-required parameters\n diagnosticSettings: [\n {\n eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n eventHubName: '<eventHubName>'\n storageAccountResourceId: '<storageAccountResourceId>'\n workspaceResourceId: '<workspaceResourceId>'\n }\n ]\n tags: {\n Environment: 'Non-Prod'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy the module with the minimum set of required parameters: Using only defaults"}, {"role": "assistant", "content": "module hostPool 'br/public:avm/res/desktop-virtualization/host-pool:<version>' = {\n name: 'hostPoolDeployment'\n params: {\n // Required parameters\n name: 'dvhpwaf002'\n // Non-required parameters\n diagnosticSettings: [\n {\n eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n eventHubName: '<eventHubName>'\n storageAccountResourceId: '<storageAccountResourceId>'\n workspaceResourceId: '<workspaceResourceId>'\n }\n ]\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy an Azure Virtual Desktop Scaling Plan: Using only defaults"}, {"role": "assistant", "content": "module scalingPlan 'br/public:avm/res/desktop-virtualization/scaling-plan:<version>' = {\n name: 'scalingPlanDeployment'\n params: {\n // Required parameters\n name: 'dvspwaf002'\n // Non-required parameters\n description: 'myDescription'\n diagnosticSettings: [\n {\n eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n eventHubName: '<eventHubName>'\n storageAccountResourceId: '<storageAccountResourceId>'\n workspaceResourceId: '<workspaceResourceId>'\n }\n ]\n friendlyName: 'myFriendlyName'\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy an Azure Virtual Desktop Workspace: Using only defaults"}, {"role": "assistant", "content": "module workspace 'br/public:avm/res/desktop-virtualization/workspace:<version>' = {\n name: 'workspaceDeployment'\n params: {\n // Required parameters\n name: 'dvwswaf002'\n // Non-required parameters\n diagnosticSettings: [\n {\n eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n eventHubName: '<eventHubName>'\n storageAccountResourceId: '<storageAccountResourceId>'\n workspaceResourceId: '<workspaceResourceId>'\n }\n ]\n privateEndpoints: [\n {\n customDnsConfigs: []\n ipConfigurations: [\n {\n name: 'myIPconfig-feed1'\n properties: {\n groupId: 'feed'\n memberName: 'web-r0'\n privateIPAddress: '10.0.0.10'\n }\n }\n {\n name: 'myIPconfig-feed2'\n properties: {\n groupId: 'feed'\n memberName: 'web-r1'\n privateIPAddress: '10.0.0.13'\n }\n }\n ]\n privateDnsZoneGroup: {\n privateDnsZoneGroupConfigs: [\n {\n privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n }\n ]\n }\n service: 'feed'\n subnetResourceId: '<subnetResourceId>'\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n {\n customDnsConfigs: []\n ipConfigurations: [\n {\n name: 'myIPconfig-global'\n properties: {\n groupId: 'global'\n memberName: 'web'\n privateIPAddress: '10.0.0.11'\n }\n }\n ]\n privateDnsZoneGroup: {\n privateDnsZoneGroupConfigs: [\n {\n privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n }\n ]\n }\n service: 'global'\n subnetResourceId: '<subnetResourceId>'\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n ]\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a DBforPostgreSQL Flexible Server: Using only defaults"}, {"role": "assistant", "content": "module flexibleServer 'br/public:avm/res/db-for-postgre-sql/flexible-server:<version>' = {\n name: 'flexibleServerDeployment'\n params: {\n // Required parameters\n availabilityZone: 1\n name: 'dfpswaf001'\n skuName: 'Standard_D2s_v3'\n tier: 'GeneralPurpose'\n // Non-required parameters\n administrators: [\n {\n objectId: '<objectId>'\n principalName: '<principalName>'\n principalType: 'ServicePrincipal'\n }\n ]\n configurations: [\n {\n name: 'log_min_messages'\n source: 'user-override'\n value: 'INFO'\n }\n {\n name: 'autovacuum_naptime'\n source: 'user-override'\n value: '80'\n }\n ]\n databases: [\n {\n charset: 'UTF8'\n collation: 'en_US.utf8'\n name: 'testdb1'\n }\n {\n name: 'testdb2'\n }\n ]\n delegatedSubnetResourceId: '<delegatedSubnetResourceId>'\n diagnosticSettings: [\n {\n eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n eventHubName: '<eventHubName>'\n storageAccountResourceId: '<storageAccountResourceId>'\n workspaceResourceId: '<workspaceResourceId>'\n }\n ]\n highAvailability: 'ZoneRedundant'\n maintenanceWindow: {\n customWindow: 'Enabled'\n dayOfWeek: 0\n startHour: 1\n startMinute: 0\n }\n privateDnsZoneArmResourceId: '<privateDnsZoneArmResourceId>'\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a DBforMySQL Flexible Server: Using only defaults"}, {"role": "assistant", "content": "module flexibleServer 'br/public:avm/res/db-for-my-sql/flexible-server:<version>' = {\n name: 'flexibleServerDeployment'\n params: {\n // Required parameters\n availabilityZone: 1\n name: 'dfmswaf001'\n skuName: 'Standard_D2ds_v4'\n tier: 'GeneralPurpose'\n // Non-required parameters\n administratorLogin: 'adminUserName'\n administratorLoginPassword: '<administratorLoginPassword>'\n highAvailability: 'ZoneRedundant'\n highAvailabilityZone: 2\n storageAutoGrow: 'Enabled'\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy an Azure Databricks Access Connector: Using only defaults"}, {"role": "assistant", "content": "module accessConnector 'br/public:avm/res/databricks/access-connector:<version>' = {\n name: 'accessConnectorDeployment'\n params: {\n // Required parameters\n name: 'dacwaf001'\n // Non-required parameters\n location: '<location>'\n lock: {\n kind: 'CanNotDelete'\n name: 'myCustomLockName'\n }\n managedIdentities: {\n systemAssigned: true\n }\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy an Azure Databricks Workspace: Using only defaults"}, {"role": "assistant", "content": "parameters: {\n amlWorkspaceId: {\n value: '/subscriptions/xxx/resourceGroups/xxx/providers/Microsoft.MachineLearningServices/workspaces/xxx'\n }\n customVirtualNetworkId: {\n value: '/subscriptions/xxx/resourceGroups/xxx/providers/Microsoft.Network/virtualNetworks/xxx'\n }\n customPublicSubnetName: {\n value: 'xxx'\n }\n customPrivateSubnetName: {\n value: 'xxx'\n }\n enableNoPublicIp: {\n value: true\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Data Protection Backup Vault: Using Customer-Managed-Keys with User-Assigned identity"}, {"role": "assistant", "content": "backupPolicies: [\n {\n name: 'DefaultPolicy'\n properties: {\n policyRules: [\n {\n backupParameters: {\n backupType: 'Incremental'\n objectType: 'AzureBackupParams'\n }\n trigger: {\n schedule: {\n repeatingTimeIntervals: [\n 'R/2022-05-31T23:30:00+01:00/P1D'\n ]\n timeZone: 'W. Europe Standard Time'\n }\n taggingCriteria: [\n {\n tagInfo: {\n tagName: 'Default'\n id: 'Default_'\n }\n taggingPriority: 99\n isDefault: true\n }\n ]\n objectType: 'ScheduleBasedTriggerContext'\n }\n dataStore: {\n dataStoreType: 'OperationalStore'\n objectType: 'DataStoreInfoBase'\n }\n name: 'BackupDaily'\n objectType: 'AzureBackupRule'\n }\n {\n lifecycles: [\n {\n deleteAfter: {\n objectType: 'AbsoluteDeleteOption'\n duration: 'P7D'\n }\n targetDataStoreCopySettings: []\n sourceDataStore: {\n dataStoreType: 'OperationalStore'\n objectType: 'DataStoreInfoBase'\n }\n }\n ]\n isDefault: true\n name: 'Default'\n objectType: 'AzureRetentionRule'\n }\n ]\n datasourceTypes: [\n 'Microsoft.Compute/disks'\n ]\n objectType: 'BackupPolicy'\n }\n }\n]\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Data Factory: Using only defaults"}, {"role": "assistant", "content": "managedPrivateEndpoints: [\n // Example showing all available fields\n {\n name: 'mystorageaccount-managed-privateEndpoint' // Required: The managed private endpoint resource name\n groupId: 'blob' // Required: The groupId to which the managed private endpoint is created\n fqdns: [\n 'mystorageaccount.blob.core.windows.net' // Required: Fully qualified domain names\n ]\n privateLinkResourceId: '/subscriptions/[[subscriptionId]]/resourceGroups/validation-rg/providers/Microsoft.Storage/storageAccounts/mystorageaccount'\n } // Required: The ARM resource ID of the resource to which the managed private endpoint is created.\n]\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy an Azure Kubernetes Service (AKS) Managed Cluster: Using only defaults and use AKS Automatic mode (PREVIEW)"}, {"role": "assistant", "content": "module managedCluster 'br/public:avm/res/container-service/managed-cluster:<version>' = {\n name: 'managedClusterDeployment'\n params: {\n // Required parameters\n name: 'cswaf001'\n primaryAgentPoolProfiles: [\n {\n availabilityZones: [\n 3\n ]\n count: 1\n enableAutoScaling: true\n maxCount: 3\n maxPods: 50\n minCount: 3\n mode: 'System'\n name: 'systempool'\n nodeTaints: [\n 'CriticalAddonsOnly=true:NoSchedule'\n ]\n osDiskSizeGB: 0\n osType: 'Linux'\n type: 'VirtualMachineScaleSets'\n vmSize: 'Standard_DS4_v2'\n vnetSubnetResourceId: '<vnetSubnetResourceId>'\n }\n ]\n // Non-required parameters\n aadProfile: {\n aadProfileEnableAzureRBAC: true\n aadProfileManaged: true\n }\n agentPools: [\n {\n availabilityZones: [\n 3\n ]\n count: 2\n enableAutoScaling: true\n maxCount: 3\n maxPods: 50\n minCount: 3\n minPods: 2\n mode: 'User'\n name: 'userpool1'\n nodeLabels: {}\n osDiskSizeGB: 60\n osDiskType: 'Ephemeral'\n osType: 'Linux'\n scaleSetEvictionPolicy: 'Delete'\n scaleSetPriority: 'Regular'\n type: 'VirtualMachineScaleSets'\n vmSize: 'Standard_DS4_v2'\n vnetSubnetResourceId: '<vnetSubnetResourceId>'\n }\n {\n availabilityZones: [\n 3\n ]\n count: 2\n enableAutoScaling: true\n maxCount: 3\n maxPods: 50\n minCount: 3\n minPods: 2\n mode: 'User'\n name: 'userpool2'\n nodeLabels: {}\n osDiskSizeGB: 60\n osDiskType: 'Ephemeral'\n osType: 'Linux'\n scaleSetEvictionPolicy: 'Delete'\n scaleSetPriority: 'Regular'\n type: 'VirtualMachineScaleSets'\n vmSize: 'Standard_DS4_v2'\n }\n ]\n autoNodeOsUpgradeProfileUpgradeChannel: 'Unmanaged'\n autoUpgradeProfileUpgradeChannel: 'stable'\n diagnosticSettings: [\n {\n eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n eventHubName: '<eventHubName>'\n logCategoriesAndGroups: [\n {\n category: 'kube-apiserver'\n }\n {\n category: 'kube-controller-manager'\n }\n {\n category: 'kube-scheduler'\n }\n {\n category: 'cluster-autoscaler'\n }\n ]\n metricCategories: [\n {\n category: 'AllMetrics'\n }\n ]\n name: 'customSetting'\n storageAccountResourceId: '<storageAccountResourceId>'\n workspaceResourceId: '<workspaceResourceId>'\n }\n ]\n disableLocalAccounts: true\n dnsServiceIP: '10.10.200.10'\n enableAzureDefender: true\n enablePrivateCluster: true\n maintenanceConfigurations: [\n {\n maintenanceWindow: {\n durationHours: 4\n schedule: {\n weekly: {\n dayOfWeek: 'Sunday'\n intervalWeeks: 1\n }\n }\n startDate: '2024-07-15'\n startTime: '00:00'\n utcOffset: '+00:00'\n }\n name: 'aksManagedAutoUpgradeSchedule'\n }\n {\n maintenanceWindow: {\n durationHours: 4\n schedule: {\n weekly: {\n dayOfWeek: 'Sunday'\n intervalWeeks: 1\n }\n }\n startDate: '2024-07-15'\n startTime: '00:00'\n utcOffset: '+00:00'\n }\n name: 'aksManagedNodeOSUpgradeSchedule'\n }\n ]\n managedIdentities: {\n userAssignedResourceIds: [\n '<managedIdentityResourceId>'\n ]\n }\n monitoringWorkspaceResourceId: '<monitoringWorkspaceResourceId>'\n networkPlugin: 'azure'\n networkPolicy: 'azure'\n omsAgentEnabled: true\n privateDNSZone: '<privateDNSZone>'\n serviceCidr: '10.10.200.0/24'\n skuTier: 'Standard'\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy an Azure Container Registry (ACR): Using only defaults"}, {"role": "assistant", "content": "module registry 'br/public:avm/res/container-registry/registry:<version>' = {\n name: 'registryDeployment'\n params: {\n // Required parameters\n name: 'crrwaf001'\n // Non-required parameters\n acrAdminUserEnabled: false\n acrSku: 'Premium'\n azureADAuthenticationAsArmPolicyStatus: 'enabled'\n diagnosticSettings: [\n {\n eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n eventHubName: '<eventHubName>'\n storageAccountResourceId: '<storageAccountResourceId>'\n workspaceResourceId: '<workspaceResourceId>'\n }\n ]\n exportPolicyStatus: 'enabled'\n location: '<location>'\n privateEndpoints: [\n {\n privateDnsZoneGroup: {\n privateDnsZoneGroupConfigs: [\n {\n privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n }\n ]\n }\n subnetResourceId: '<subnetResourceId>'\n }\n ]\n quarantinePolicyStatus: 'enabled'\n replications: [\n {\n location: '<location>'\n name: '<name>'\n }\n ]\n softDeletePolicyDays: 7\n softDeletePolicyStatus: 'disabled'\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n trustPolicyStatus: 'enabled'\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Container Instance Container Group: Using only defaults"}, {"role": "assistant", "content": "module containerGroup 'br/public:avm/res/container-instance/container-group:<version>' = {\n name: 'containerGroupDeployment'\n params: {\n // Required parameters\n availabilityZone: 1\n containers: [\n {\n name: 'az-aci-x-001'\n properties: {\n command: []\n environmentVariables: []\n image: 'mcr.microsoft.com/azuredocs/aci-helloworld'\n ports: [\n {\n port: 80\n protocol: 'Tcp'\n }\n {\n port: 443\n protocol: 'Tcp'\n }\n ]\n resources: {\n requests: {\n cpu: 2\n memoryInGB: '2'\n }\n }\n }\n }\n {\n name: 'az-aci-x-002'\n properties: {\n command: []\n environmentVariables: []\n image: 'mcr.microsoft.com/azuredocs/aci-helloworld'\n ports: [\n {\n port: 8080\n protocol: 'Tcp'\n }\n ]\n resources: {\n requests: {\n cpu: 2\n memoryInGB: '2'\n }\n }\n }\n }\n ]\n name: 'cicgwaf001'\n // Non-required parameters\n ipAddress: {\n ports: [\n {\n port: 80\n protocol: 'Tcp'\n }\n {\n port: 443\n protocol: 'Tcp'\n }\n ]\n }\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Consumption Budget for a Management Group: Using only defaults (Management Group scope)"}, {"role": "assistant", "content": "module budget 'br/public:avm/res/consumption/budget/mg-scope:<version>' = {\n name: 'budgetDeployment'\n params: {\n // Required parameters\n amount: 500\n name: 'rcbmgwaf001'\n // Non-required parameters\n contactEmails: [\n 'dummy@contoso.com'\n ]\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Consumption Budget for a Resource Group: Using only defaults (Resource Group scope)"}, {"role": "assistant", "content": "module budget 'br/public:avm/res/consumption/budget/rg-scope:<version>' = {\n name: 'budgetDeployment'\n params: {\n // Required parameters\n amount: 500\n name: 'rcbrgmwaf001'\n // Non-required parameters\n contactEmails: [\n 'dummy@contoso.com'\n ]\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Consumption Budget for a Subscription: Using only defaults (Subscription scope)"}, {"role": "assistant", "content": "module budget 'br/public:avm/res/consumption/budget/sub-scope:<version>' = {\n name: 'budgetDeployment'\n params: {\n // Required parameters\n amount: 500\n name: 'rcbsubwaf001'\n // Non-required parameters\n contactEmails: [\n 'dummy@contoso.com'\n ]\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy an Availability Set: Using only defaults"}, {"role": "assistant", "content": "module availabilitySet 'br/public:avm/res/compute/availability-set:<version>' = {\n name: 'availabilitySetDeployment'\n params: {\n // Required parameters\n name: 'caswaf001'\n // Non-required parameters\n location: '<location>'\n lock: {\n kind: 'CanNotDelete'\n name: 'myCustomLockName'\n }\n proximityPlacementGroupResourceId: '<proximityPlacementGroupResourceId>'\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy the module with the minimum set of required parameters: Using only defaults"}, {"role": "assistant", "content": "module disk 'br/public:avm/res/compute/disk:<version>' = {\n name: 'diskDeployment'\n params: {\n // Required parameters\n availabilityZone: 2\n name: 'cdwaf001'\n sku: 'Premium_LRS'\n // Non-required parameters\n diskIOPSReadWrite: 500\n diskMBpsReadWrite: 60\n diskSizeGB: 128\n location: '<location>'\n lock: {\n kind: 'CanNotDelete'\n name: 'myCustomLockName'\n }\n logicalSectorSize: 512\n osType: 'Windows'\n publicNetworkAccess: 'Enabled'\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Disk Encryption Set: Using Key Vault with the Access Policy permission model"}, {"role": "assistant", "content": "module diskEncryptionSet 'br/public:avm/res/compute/disk-encryption-set:<version>' = {\n name: 'diskEncryptionSetDeployment'\n params: {\n // Required parameters\n keyName: '<keyName>'\n keyVaultResourceId: '<keyVaultResourceId>'\n name: 'cdeswaf001'\n // Non-required parameters\n location: '<location>'\n managedIdentities: {\n userAssignedResourceIds: [\n '<managedIdentityResourceId>'\n ]\n }\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy an Azure Compute Gallery (formerly known as Shared Image Gallery): Using only defaults"}, {"role": "assistant", "content": "module gallery 'br/public:avm/res/compute/gallery:<version>' = {\n name: 'galleryDeployment'\n params: {\n // Required parameters\n name: 'cgwaf001'\n // Non-required parameters\n applications: [\n {\n name: 'cgwaf-appd-001'\n supportedOSType: 'Windows'\n }\n ]\n images: [\n {\n identifier: {\n offer: 'WindowsServer'\n publisher: 'MicrosoftWindowsServer'\n sku: '2022-datacenter-azure-edition'\n }\n name: 'az-imgd-ws-001'\n osState: 'Generalized'\n osType: 'Windows'\n }\n ]\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Compute Image: Using only defaults"}, {"role": "assistant", "content": "module image 'br/public:avm/res/compute/image:<version>' = {\n name: 'imageDeployment'\n params: {\n // Required parameters\n name: 'ciwaf001'\n osAccountType: 'Premium_LRS'\n osDiskBlobUri: '<osDiskBlobUri>'\n osDiskCaching: 'ReadWrite'\n osType: 'Windows'\n // Non-required parameters\n diskEncryptionSetResourceId: '<diskEncryptionSetResourceId>'\n diskSizeGB: 128\n hyperVGeneration: 'V1'\n osState: 'Generalized'\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n zoneResilient: true\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Public SSH Key: Using only defaults"}, {"role": "assistant", "content": "module sshPublicKey 'br/public:avm/res/compute/ssh-public-key:<version>' = {\n name: 'sshPublicKeyDeployment'\n params: {\n // Required parameters\n name: 'sshkey-cspkwaf001'\n // Non-required parameters\n enableTelemetry: true\n location: '<location>'\n lock: {\n kind: 'CanNotDelete'\n name: 'lock'\n }\n publicKey: '<publicKey>'\n roleAssignments: [\n {\n principalId: '<principalId>'\n principalType: 'ServicePrincipal'\n roleDefinitionIdOrName: 'Owner'\n }\n {\n principalId: '<principalId>'\n principalType: 'ServicePrincipal'\n roleDefinitionIdOrName: 'b24988ac-6180-42a0-ab88-20f7382dd24c'\n }\n {\n principalId: '<principalId>'\n principalType: 'ServicePrincipal'\n roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n }\n ]\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Virtual Machine with one or multiple NICs and optionally one or multiple public IPs: Using automanage for the VM."}, {"role": "assistant", "content": "extensionCustomScriptProtectedSetting: [\n {\n commandToExecute: 'powershell -ExecutionPolicy Unrestricted -File testscript.ps1'\n }\n]\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Virtual Machine Scale Set: Using only defaults for Linux"}, {"role": "assistant", "content": "module virtualMachineScaleSet 'br/public:avm/res/compute/virtual-machine-scale-set:<version>' = {\n name: 'virtualMachineScaleSetDeployment'\n params: {\n // Required parameters\n adminPassword: '<adminPassword>'\n adminUsername: 'localAdminUser'\n imageReference: {\n offer: 'WindowsServer'\n publisher: 'MicrosoftWindowsServer'\n sku: '2022-datacenter-azure-edition'\n version: 'latest'\n }\n name: 'cvmsswinwaf001'\n nicConfigurations: [\n {\n ipConfigurations: [\n {\n name: 'ipconfig1'\n properties: {\n publicIPAddressConfiguration: {\n name: 'pip-cvmsswinwaf'\n }\n subnet: {\n id: '<id>'\n }\n }\n }\n ]\n nicSuffix: '-nic01'\n }\n ]\n osDisk: {\n createOption: 'fromImage'\n diskSizeGB: 128\n managedDisk: {\n storageAccountType: 'Premium_LRS'\n }\n }\n osType: 'Windows'\n skuName: 'Standard_B12ms'\n // Non-required parameters\n diagnosticSettings: [\n {\n eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n eventHubName: '<eventHubName>'\n metricCategories: [\n {\n category: 'AllMetrics'\n }\n ]\n name: 'customSetting'\n storageAccountResourceId: '<storageAccountResourceId>'\n workspaceResourceId: '<workspaceResourceId>'\n }\n ]\n encryptionAtHost: false\n extensionAntiMalwareConfig: {\n enabled: true\n settings: {\n AntimalwareEnabled: true\n Exclusions: {\n Extensions: '.log;.ldf'\n Paths: 'D:\\IISlogs;D:\\DatabaseLogs'\n Processes: 'mssence.svc'\n }\n RealtimeProtectionEnabled: true\n ScheduledScanSettings: {\n day: '7'\n isEnabled: 'true'\n scanType: 'Quick'\n time: '120'\n }\n }\n }\n extensionAzureDiskEncryptionConfig: {\n enabled: true\n settings: {\n EncryptionOperation: 'EnableEncryption'\n KekVaultResourceId: '<KekVaultResourceId>'\n KeyEncryptionAlgorithm: 'RSA-OAEP'\n KeyEncryptionKeyURL: '<KeyEncryptionKeyURL>'\n KeyVaultResourceId: '<KeyVaultResourceId>'\n KeyVaultURL: '<KeyVaultURL>'\n ResizeOSDisk: 'false'\n VolumeType: 'All'\n }\n }\n extensionCustomScriptConfig: {\n protectedSettings: {\n managedIdentityResourceId: '<managedIdentityResourceId>'\n }\n settings: {\n commandToExecute: '<commandToExecute>'\n fileUris: [\n '<storageAccountCSEFileUrl>'\n ]\n }\n }\n extensionDependencyAgentConfig: {\n enabled: true\n }\n extensionDSCConfig: {\n enabled: true\n }\n extensionMonitoringAgentConfig: {\n autoUpgradeMinorVersion: true\n enabled: true\n }\n extensionNetworkWatcherAgentConfig: {\n enabled: true\n }\n location: '<location>'\n managedIdentities: {\n systemAssigned: false\n userAssignedResourceIds: [\n '<managedIdentityResourceId>'\n ]\n }\n skuCapacity: 1\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n upgradePolicyMode: 'Manual'\n vmNamePrefix: 'vmsswinvm'\n vmPriority: 'Regular'\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy the module with the minimum set of required parameters: Using only defaults"}, {"role": "assistant", "content": "module communicationService 'br/public:avm/res/communication/communication-service:<version>' = {\n name: 'communicationServiceDeployment'\n params: {\n // Required parameters\n dataLocation: 'Germany'\n name: 'ccswaf001'\n // Non-required parameters\n diagnosticSettings: [\n {\n eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n eventHubName: '<eventHubName>'\n storageAccountResourceId: '<storageAccountResourceId>'\n workspaceResourceId: '<workspaceResourceId>'\n }\n ]\n location: 'global'\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy the module with the minimum set of required parameters: Using only defaults"}, {"role": "assistant", "content": "module emailService 'br/public:avm/res/communication/email-service:<version>' = {\n name: 'emailServiceDeployment'\n params: {\n // Required parameters\n dataLocation: 'Germany'\n name: 'ceswaf001'\n // Non-required parameters\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Cognitive Service: Using `AIServices` with `deployments` in parameter set, private endpoints, and network injection"}, {"role": "assistant", "content": "module account 'br/public:avm/res/cognitive-services/account:<version>' = {\n name: 'accountDeployment'\n params: {\n // Required parameters\n kind: 'Face'\n name: 'csawaf001'\n // Non-required parameters\n customSubDomainName: 'xcsawaf'\n diagnosticSettings: [\n {\n eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n eventHubName: '<eventHubName>'\n storageAccountResourceId: '<storageAccountResourceId>'\n workspaceResourceId: '<workspaceResourceId>'\n }\n ]\n location: '<location>'\n lock: {\n kind: 'CanNotDelete'\n name: 'myCustomLockName'\n }\n managedIdentities: {\n systemAssigned: true\n }\n privateEndpoints: [\n {\n privateDnsZoneGroup: {\n privateDnsZoneGroupConfigs: [\n {\n privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n }\n ]\n }\n subnetResourceId: '<subnetResourceId>'\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n ]\n sku: 'S0'\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a CDN Profile: As Azure Front Door Premium"}, {"role": "assistant", "content": "module profile 'br/public:avm/res/cdn/profile:<version>' = {\n name: 'profileDeployment'\n params: {\n // Required parameters\n name: 'dep-waf-cdnpwaf'\n sku: 'Premium_AzureFrontDoor'\n // Non-required parameters\n afdEndpoints: [\n {\n autoGeneratedDomainNameLabelScope: 'TenantReuse'\n enabledState: 'Enabled'\n name: 'dep-waf-primary-endpoint'\n routes: [\n {\n cacheConfiguration: {\n compressionSettings: {\n contentTypesToCompress: [\n 'application/json'\n 'application/xml'\n 'text/xml'\n ]\n isCompressionEnabled: true\n }\n queryParameters: 'timestamp,nonce'\n queryStringCachingBehavior: 'IgnoreSpecifiedQueryStrings'\n }\n customDomainNames: [\n 'dep-waf-api-cdnpwaf-domain'\n ]\n enabledState: 'Enabled'\n forwardingProtocol: 'HttpsOnly'\n httpsRedirect: 'Enabled'\n linkToDefaultDomain: 'Disabled'\n name: 'dep-waf-api-route'\n originGroupName: 'dep-waf-api-origin-group'\n patternsToMatch: [\n '/api/*'\n '/v1/*'\n '/v2/*'\n ]\n ruleSets: [\n 'depwafsecurityrulescdnpwaf'\n ]\n supportedProtocols: [\n 'Https'\n ]\n }\n ]\n }\n ]\n customDomains: [\n {\n certificateType: 'ManagedCertificate'\n cipherSuiteSetType: 'TLS12_2023'\n hostName: 'dep-waf-primary-cdnpwaf.example.com'\n minimumTlsVersion: 'TLS12'\n name: 'dep-waf-primary-cdnpwaf-domain'\n }\n {\n certificateType: 'ManagedCertificate'\n cipherSuiteSetType: 'Customized'\n customizedCipherSuiteSet: {\n cipherSuiteSetForTls13: [\n 'TLS_AES_128_GCM_SHA256'\n 'TLS_AES_256_GCM_SHA384'\n ]\n }\n hostName: 'api-dep-waf-cdnpwaf.example.com'\n minimumTlsVersion: 'TLS13'\n name: 'dep-waf-api-cdnpwaf-domain'\n }\n ]\n diagnosticSettings: [\n {\n eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n eventHubName: '<eventHubName>'\n logCategoriesAndGroups: [\n {\n categoryGroup: 'allLogs'\n enabled: true\n }\n ]\n metricCategories: [\n {\n category: 'AllMetrics'\n enabled: true\n }\n ]\n name: 'waf-comprehensive-diagnostics'\n storageAccountResourceId: '<storageAccountResourceId>'\n workspaceResourceId: '<workspaceResourceId>'\n }\n ]\n location: 'global'\n lock: {\n kind: 'CanNotDelete'\n name: 'waf-protection-lock'\n notes: 'WAF: Protected against accidental deletion for business continuity'\n }\n managedIdentities: {\n systemAssigned: true\n userAssignedResourceIds: [\n '<managedIdentityResourceId>'\n ]\n }\n originGroups: [\n {\n healthProbeSettings: {\n probeIntervalInSeconds: 15\n probePath: '/api/health'\n probeProtocol: 'Https'\n probeRequestType: 'GET'\n }\n loadBalancingSettings: {\n additionalLatencyInMilliseconds: 25\n sampleSize: 6\n successfulSamplesRequired: 4\n }\n name: 'dep-waf-api-origin-group'\n origins: [\n {\n enabledState: 'Enabled'\n enforceCertificateNameCheck: true\n hostName: '<hostName>'\n httpPort: 80\n httpsPort: 443\n name: 'dep-waf-api-origin'\n originHostHeader: 'www.bing.com'\n priority: 1\n weight: 100\n }\n {\n enabledState: 'Enabled'\n enforceCertificateNameCheck: true\n hostName: '<hostName>'\n httpPort: 80\n httpsPort: 443\n name: 'dep-waf-api-origin-no-2'\n originHostHeader: ''\n priority: 2\n weight: 200\n }\n {\n enabledState: 'Enabled'\n enforceCertificateNameCheck: true\n hostName: '<hostName>'\n httpPort: 80\n httpsPort: 443\n name: 'dep-waf-api-origin-no-3'\n priority: 3\n weight: 300\n }\n ]\n sessionAffinityState: 'Disabled'\n trafficRestorationTimeToHealedOrNewEndpointsInMinutes: 2\n }\n ]\n originResponseTimeoutSeconds: 60\n roleAssignments: [\n {\n principalId: '<principalId>'\n principalType: 'ServicePrincipal'\n roleDefinitionIdOrName: 'CDN Profile Reader'\n }\n ]\n ruleSets: [\n {\n name: 'depwafsecurityrulescdnpwaf'\n rules: [\n {\n actions: [\n {\n name: 'UrlRedirect'\n parameters: {\n destinationProtocol: 'Https'\n redirectType: 'PermanentRedirect'\n typeName: 'DeliveryRuleUrlRedirectActionParameters'\n }\n }\n ]\n conditions: [\n {\n name: 'RequestScheme'\n parameters: {\n matchValues: [\n 'HTTP'\n ]\n negateCondition: false\n operator: 'Equal'\n typeName: 'DeliveryRuleRequestSchemeConditionParameters'\n }\n }\n ]\n matchProcessingBehavior: 'Stop'\n name: 'HTTPSRedirectRule'\n order: 1\n }\n {\n actions: [\n {\n name: 'ModifyResponseHeader'\n parameters: {\n headerAction: 'Overwrite'\n headerName: 'Strict-Transport-Security'\n typeName: 'DeliveryRuleHeaderActionParameters'\n value: 'max-age=31536000; includeSubDomains; preload'\n }\n }\n {\n name: 'ModifyResponseHeader'\n parameters: {\n headerAction: 'Overwrite'\n headerName: 'X-Content-Type-Options'\n typeName: 'DeliveryRuleHeaderActionParameters'\n value: 'nosniff'\n }\n }\n {\n name: 'ModifyResponseHeader'\n parameters: {\n headerAction: 'Overwrite'\n headerName: 'X-Frame-Options'\n typeName: 'DeliveryRuleHeaderActionParameters'\n value: 'DENY'\n }\n }\n {\n name: 'ModifyResponseHeader'\n parameters: {\n headerAction: 'Overwrite'\n headerName: 'X-XSS-Protection'\n typeName: 'DeliveryRuleHeaderActionParameters'\n value: '1; mode=block'\n }\n }\n {\n name: 'ModifyResponseHeader'\n parameters: {\n headerAction: 'Overwrite'\n headerName: 'Referrer-Policy'\n typeName: 'DeliveryRuleHeaderActionParameters'\n value: 'strict-origin-when-cross-origin'\n }\n }\n ]\n conditions: [\n {\n name: 'RequestScheme'\n parameters: {\n matchValues: [\n 'HTTPS'\n ]\n negateCondition: false\n operator: 'Equal'\n typeName: 'DeliveryRuleRequestSchemeConditionParameters'\n }\n }\n ]\n matchProcessingBehavior: 'Continue'\n name: 'SecurityHeadersRule'\n order: 2\n }\n {\n actions: [\n {\n name: 'ModifyResponseHeader'\n parameters: {\n headerAction: 'Overwrite'\n headerName: 'X-RateLimit-Limit'\n typeName: 'DeliveryRuleHeaderActionParameters'\n value: '1000'\n }\n }\n ]\n conditions: [\n {\n name: 'RequestUri'\n parameters: {\n matchValues: [\n '/api/'\n ]\n negateCondition: false\n operator: 'BeginsWith'\n transforms: [\n 'Lowercase'\n ]\n typeName: 'DeliveryRuleRequestUriConditionParameters'\n }\n }\n ]\n matchProcessingBehavior: 'Continue'\n name: 'APIRateLimitRule'\n order: 3\n }\n ]\n }\n ]\n tags: {\n Application: 'CDN-WAF-Aligned'\n BackupRequired: 'Yes'\n BusinessUnit: 'Digital-Services'\n CostCenter: 'IT-Infrastructure'\n Criticality: 'High'\n DataClassification: 'Internal'\n Environment: 'Production'\n MonitoringRequired: 'Yes'\n Owner: 'Platform-Team'\n 'WAF-Pillar': 'All'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Redis Cache: Using clustering configuration"}, {"role": "assistant", "content": "userAssignedIdentities: {\n '/subscriptions/12345678-1234-1234-1234-123456789012/resourcegroups/validation-rg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/adp-sxx-az-msi-x-001': {}\n '/subscriptions/12345678-1234-1234-1234-123456789012/resourcegroups/validation-rg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/adp-sxx-az-msi-x-002': {}\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Redis Enterprise or Azure Managed Redis cache: Active geo-replication"}, {"role": "assistant", "content": "module redisEnterprise 'br/public:avm/res/cache/redis-enterprise:<version>' = {\n name: 'redisEnterpriseDeployment'\n params: {\n // Required parameters\n name: 'crewaf001'\n // Non-required parameters\n availabilityZones: [\n 1\n 2\n 3\n ]\n database: {\n diagnosticSettings: [\n {\n eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n eventHubName: '<eventHubName>'\n logCategoriesAndGroups: [\n {\n categoryGroup: 'allLogs'\n }\n ]\n name: 'customSettingDatabase'\n storageAccountResourceId: '<storageAccountResourceId>'\n workspaceResourceId: '<workspaceResourceId>'\n }\n ]\n persistence: {\n frequency: '1h'\n type: 'rdb'\n }\n }\n diagnosticSettings: [\n {\n eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n eventHubName: '<eventHubName>'\n metricCategories: [\n {\n category: 'AllMetrics'\n }\n ]\n name: 'customSettingCluster'\n storageAccountResourceId: '<storageAccountResourceId>'\n workspaceResourceId: '<workspaceResourceId>'\n }\n ]\n privateEndpoints: [\n {\n privateDnsZoneGroup: {\n privateDnsZoneGroupConfigs: [\n {\n privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n }\n ]\n }\n subnetResourceId: '<subnetResourceId>'\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n ]\n skuName: 'Balanced_B10'\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Batch Account: Using only defaults"}, {"role": "assistant", "content": "module batchAccount 'br/public:avm/res/batch/batch-account:<version>' = {\n name: 'batchAccountDeployment'\n params: {\n // Required parameters\n name: 'bbawaf001'\n storageAccountResourceId: '<storageAccountResourceId>'\n // Non-required parameters\n diagnosticSettings: [\n {\n eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n eventHubName: '<eventHubName>'\n storageAccountResourceId: '<storageAccountResourceId>'\n workspaceResourceId: '<workspaceResourceId>'\n }\n ]\n managedIdentities: {\n systemAssigned: true\n }\n poolAllocationMode: 'BatchService'\n privateEndpoints: [\n {\n privateDnsZoneGroup: {\n privateDnsZoneGroupConfigs: [\n {\n privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n }\n ]\n }\n service: 'batchAccount'\n subnetResourceId: '<subnetResourceId>'\n }\n ]\n storageAccessIdentityResourceId: '<storageAccessIdentityResourceId>'\n storageAuthenticationMode: 'BatchAccountManagedIdentity'\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy an Azure Stack HCI Cluster on the provided Arc Machines: Deploy Azure Stack HCI Cluster in Azure with a 2 node switched configuration"}, {"role": "assistant", "content": "module cluster 'br/public:avm/res/azure-stack-hci/cluster:<version>' = {\n name: 'clusterDeployment'\n params: {\n // Required parameters\n deploymentSettings: {\n bitlockerBootVolume: true\n bitlockerDataVolumes: true\n clusterNodeNames: '<clusterNodeNames>'\n clusterWitnessStorageAccountName: '<clusterWitnessStorageAccountName>'\n customLocationName: 'ashcwaf-location'\n defaultGateway: '192.168.1.1'\n deploymentPrefix: '<deploymentPrefix>'\n dnsServers: [\n '192.168.1.254'\n ]\n domainFqdn: 'jumpstart.local'\n domainOUPath: '<domainOUPath>'\n driftControlEnforced: true\n enableStorageAutoIp: true\n endingIPAddress: '192.168.1.65'\n keyVaultName: '<keyVaultName>'\n networkIntents: [\n {\n adapter: [\n 'FABRIC'\n 'FABRIC2'\n ]\n adapterPropertyOverrides: {\n jumboPacket: '9014'\n networkDirect: 'Disabled'\n networkDirectTechnology: 'iWARP'\n }\n name: 'ManagementCompute'\n overrideAdapterProperty: true\n overrideQosPolicy: false\n overrideVirtualSwitchConfiguration: false\n qosPolicyOverrides: {\n bandwidthPercentageSMB: '50'\n priorityValue8021ActionCluster: '7'\n priorityValue8021ActionSMB: '3'\n }\n trafficType: [\n 'Compute'\n 'Management'\n ]\n virtualSwitchConfigurationOverrides: {\n enableIov: 'true'\n loadBalancingAlgorithm: 'Dynamic'\n }\n }\n {\n adapter: [\n 'StorageA'\n 'StorageB'\n ]\n adapterPropertyOverrides: {\n jumboPacket: '9014'\n networkDirect: 'Disabled'\n networkDirectTechnology: 'iWARP'\n }\n name: 'Storage'\n overrideAdapterProperty: true\n overrideQosPolicy: true\n overrideVirtualSwitchConfiguration: false\n qosPolicyOverrides: {\n bandwidthPercentageSMB: '50'\n priorityValue8021ActionCluster: '7'\n priorityValue8021ActionSMB: '3'\n }\n trafficType: [\n 'Storage'\n ]\n virtualSwitchConfigurationOverrides: {\n enableIov: 'true'\n loadBalancingAlgorithm: 'Dynamic'\n }\n }\n ]\n sideChannelMitigationEnforced: true\n smbClusterEncryption: true\n smbSigningEnforced: true\n startingIPAddress: '192.168.1.55'\n storageConnectivitySwitchless: false\n storageNetworks: [\n {\n adapterName: 'StorageA'\n name: 'Storage1Network'\n vlan: '711'\n }\n {\n adapterName: 'StorageB'\n name: 'Storage2Network'\n vlan: '712'\n }\n ]\n subnetMask: '255.255.255.0'\n }\n hciResourceProviderObjectId: '<hciResourceProviderObjectId>'\n name: '<name>'\n // Non-required parameters\n deploymentUser: 'deployUser'\n deploymentUserPassword: '<deploymentUserPassword>'\n localAdminPassword: '<localAdminPassword>'\n localAdminUser: 'Administrator'\n servicePrincipalId: '<servicePrincipalId>'\n servicePrincipalSecret: '<servicePrincipalSecret>'\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy an Azure Stack HCI Logical Network: Using only defaults"}, {"role": "assistant", "content": "module logicalNetwork 'br/public:avm/res/azure-stack-hci/logical-network:<version>' = {\n name: 'logicalNetworkDeployment'\n params: {\n // Required parameters\n customLocationResourceId: '<customLocationResourceId>'\n name: 'ashlnwaflogicalnetwork'\n vmSwitchName: '<vmSwitchName>'\n // Non-required parameters\n addressPrefix: '192.168.1.0/24'\n defaultGateway: '192.168.1.1'\n dnsServers: [\n '192.168.1.254'\n ]\n ipAllocationMethod: 'Static'\n ipPools: [\n {\n end: '192.168.1.190'\n start: '192.168.1.171'\n }\n ]\n routeName: 'default'\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n vlanId: '<vlanId>'\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy an Azure Stack HCI Marketplace Gallery Image: Using only defaults"}, {"role": "assistant", "content": "module marketplaceGalleryImage 'br/public:avm/res/azure-stack-hci/marketplace-gallery-image:<version>' = {\n name: 'marketplaceGalleryImageDeployment'\n params: {\n // Required parameters\n customLocationResourceId: '<customLocationResourceId>'\n identifier: {\n offer: 'WindowsServer'\n publisher: 'MicrosoftWindowsServer'\n sku: '2022-datacenter-azure-edition'\n }\n name: 'ashmgiwafmarketplaceimage'\n osType: 'Windows'\n version: {\n name: '20348.2461.240510'\n }\n // Non-required parameters\n cloudInitDataSource: 'Azure'\n containerResourceId: '<containerResourceId>'\n hyperVGeneration: 'V2'\n tags: {\n Environment: 'Test'\n 'hidden-title': 'This is visible in the resource name'\n Purpose: 'MarketplaceGalleryImage'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy an Azure Stack HCI network interface: Using only defaults"}, {"role": "assistant", "content": "module networkInterface 'br/public:avm/res/azure-stack-hci/network-interface:<version>' = {\n name: 'networkInterfaceDeployment'\n params: {\n // Required parameters\n customLocationResourceId: '<customLocationResourceId>'\n ipConfigurations: [\n {\n properties: {\n subnet: {\n id: '<id>'\n }\n }\n }\n ]\n name: 'ashniwafnetworkinterface'\n // Non-required parameters\n dnsServers: [\n '172.20.0.1'\n ]\n enableTelemetry: true\n location: '<location>'\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy an Azure Stack HCI virtual hard disk: Using only defaults"}, {"role": "assistant", "content": "module virtualHardDisk 'br/public:avm/res/azure-stack-hci/virtual-hard-disk:<version>' = {\n name: 'virtualHardDiskDeployment'\n params: {\n // Required parameters\n customLocationResourceId: '<customLocationResourceId>'\n diskSizeGB: 4\n dynamic: true\n name: 'ashvdwaf1'\n // Non-required parameters\n location: '<location>'\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy an Azure Stack HCI virtual machine: Using default config"}, {"role": "assistant", "content": "module virtualMachineInstance 'br/public:avm/res/azure-stack-hci/virtual-machine-instance:<version>' = {\n name: 'virtualMachineInstanceDeployment'\n params: {\n // Required parameters\n customLocationResourceId: '<customLocationResourceId>'\n hardwareProfile: {\n dynamicMemoryConfig: {\n maximumMemoryMB: 8192\n minimumMemoryMB: 512\n targetMemoryBuffer: 20\n }\n memoryMB: 4096\n processors: 2\n vmSize: 'Custom'\n }\n name: '<name>'\n networkProfile: {}\n osProfile: {\n adminPassword: '<adminPassword>'\n adminUsername: 'Administrator'\n computerName: 'ashvmiwafvm'\n linuxConfiguration: {}\n windowsConfiguration: {\n enableAutomaticUpdates: true\n provisionVMAgent: true\n provisionVMConfigAgent: true\n }\n }\n storageProfile: {\n imageReference: '<imageReference>'\n osDisk: {\n osType: 'Windows'\n }\n }\n // Non-required parameters\n adminPassword: '<adminPassword>'\n location: '<location>'\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Role Assignment at a Management Group scope: Using only defaults (Management Group scope)"}, {"role": "assistant", "content": "module roleAssignment 'br/public:avm/res/authorization/role-assignment/mg-scope:<version>' = {\n name: 'roleAssignmentDeployment'\n params: {\n // Required parameters\n principalId: '<principalId>'\n roleDefinitionIdOrName: 'Resource Policy Contributor'\n // Non-required parameters\n location: '<location>'\n principalType: 'ServicePrincipal'\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Role Assignment at a Resource Group scope: Using only defaults (Resource Group scope)"}, {"role": "assistant", "content": "module roleAssignment 'br/public:avm/res/authorization/role-assignment/rg-scope:<version>' = {\n name: 'roleAssignmentDeployment'\n params: {\n // Required parameters\n principalId: '<principalId>'\n roleDefinitionIdOrName: '/providers/Microsoft.Authorization/roleDefinitions/c2f4ef07-c644-48eb-af81-4b1b4947fb11'\n // Non-required parameters\n principalType: 'ServicePrincipal'\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Role Assignment at a Subscription scope: Using only defaults (Subscription scope)"}, {"role": "assistant", "content": "module roleAssignment 'br/public:avm/res/authorization/role-assignment/sub-scope:<version>' = {\n name: 'roleAssignmentDeployment'\n params: {\n // Required parameters\n principalId: '<principalId>'\n roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n // Non-required parameters\n principalType: 'ServicePrincipal'\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Policy Assignment at a Management Group scope: Using only defaults (Management Group scope)"}, {"role": "assistant", "content": "module policyAssignment 'br/public:avm/res/authorization/policy-assignment/mg-scope:<version>' = {\n name: 'policyAssignmentDeployment'\n params: {\n // Required parameters\n name: 'rapamgwaf001'\n policyDefinitionId: '/providers/Microsoft.Authorization/policyDefinitions/06a78e20-9358-41c9-923c-fb736d382a4d'\n // Non-required parameters\n additionalManagementGroupsIDsToAssignRbacTo: [\n '<name>'\n ]\n metadata: {\n assignedBy: 'Bicep'\n }\n roleDefinitionIds: [\n '/providers/microsoft.authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c'\n ]\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Policy Assignment at a Resource Group scope: Using only defaults (Resource Group scope)"}, {"role": "assistant", "content": "module policyAssignment 'br/public:avm/res/authorization/policy-assignment/rg-scope:<version>' = {\n name: 'policyAssignmentDeployment'\n params: {\n // Required parameters\n name: 'rapargwaf001'\n policyDefinitionId: '/providers/Microsoft.Authorization/policyDefinitions/06a78e20-9358-41c9-923c-fb736d382a4d'\n // Non-required parameters\n additionalResourceGroupResourceIDsToAssignRbacTo: [\n '<id>'\n ]\n metadata: {\n assignedBy: 'Bicep'\n }\n roleDefinitionIds: [\n '/providers/microsoft.authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c'\n ]\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Policy Assignment at a Subscription scope: Using only defaults (Subscription scope)"}, {"role": "assistant", "content": "module policyAssignment 'br/public:avm/res/authorization/policy-assignment/sub-scope:<version>' = {\n name: 'policyAssignmentDeployment'\n params: {\n // Required parameters\n name: 'rapasubwaf001'\n policyDefinitionId: '/providers/Microsoft.Authorization/policyDefinitions/06a78e20-9358-41c9-923c-fb736d382a4d'\n // Non-required parameters\n additionalSubscriptionIDsToAssignRbacTo: [\n '<subscriptionId>'\n ]\n metadata: {\n assignedBy: 'Bicep'\n }\n roleDefinitionIds: [\n '/providers/microsoft.authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c'\n ]\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy an App Configuration Store: Using only defaults"}, {"role": "assistant", "content": "module configurationStore 'br/public:avm/res/app-configuration/configuration-store:<version>' = {\n name: 'configurationStoreDeployment'\n params: {\n // Required parameters\n name: 'accwaf001'\n // Non-required parameters\n createMode: 'Default'\n diagnosticSettings: [\n {\n eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n eventHubName: '<eventHubName>'\n storageAccountResourceId: '<storageAccountResourceId>'\n workspaceResourceId: '<workspaceResourceId>'\n }\n ]\n disableLocalAuth: '<disableLocalAuth>'\n enablePurgeProtection: false\n keyValues: [\n {\n contentType: 'contentType'\n name: 'keyName'\n value: 'valueName'\n }\n ]\n replicaLocations: [\n {\n replicaLocation: 'centralus'\n }\n {\n replicaLocation: 'westus'\n }\n ]\n softDeleteRetentionInDays: 1\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Container App: Using only defaults"}, {"role": "assistant", "content": "module containerApp 'br/public:avm/res/app/container-app:<version>' = {\n name: 'containerAppDeployment'\n params: {\n // Required parameters\n containers: [\n {\n image: 'mcr.microsoft.com/k8se/quickstart:latest'\n name: 'simple-hello-world-container'\n probes: [\n {\n httpGet: {\n httpHeaders: [\n {\n name: 'Custom-Header'\n value: 'Awesome'\n }\n ]\n path: '/health'\n port: 8080\n }\n initialDelaySeconds: 3\n periodSeconds: 3\n type: 'Liveness'\n }\n ]\n resources: {\n cpu: '<cpu>'\n memory: '0.5Gi'\n }\n }\n ]\n environmentResourceId: '<environmentResourceId>'\n name: 'acawaf001'\n // Non-required parameters\n diagnosticSettings: [\n {\n eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n eventHubName: '<eventHubName>'\n logCategoriesAndGroups: []\n metricCategories: [\n {\n category: 'AllMetrics'\n }\n ]\n storageAccountResourceId: '<storageAccountResourceId>'\n workspaceResourceId: '<workspaceResourceId>'\n }\n ]\n ingressAllowInsecure: false\n ingressExternal: false\n managedIdentities: {\n userAssignedResourceIds: [\n '<managedIdentityResourceId>'\n ]\n }\n tags: {\n Env: 'test'\n 'hidden-title': 'This is visible in the resource name'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Container App Job: Using a consumption plan"}, {"role": "assistant", "content": "module job 'br/public:avm/res/app/job:<version>' = {\n name: 'jobDeployment'\n params: {\n // Required parameters\n containers: [\n {\n image: 'mcr.microsoft.com/azuredocs/containerapps-helloworld:latest'\n name: 'simple-hello-world-container'\n probes: [\n {\n httpGet: {\n httpHeaders: [\n {\n name: 'Custom-Header'\n value: 'Awesome'\n }\n ]\n path: '/health'\n port: 8080\n }\n initialDelaySeconds: 3\n periodSeconds: 3\n type: 'Liveness'\n }\n ]\n resources: {\n cpu: '0.25'\n memory: '0.5Gi'\n }\n }\n ]\n environmentResourceId: '<environmentResourceId>'\n name: 'ajwaf001'\n triggerType: 'Schedule'\n // Non-required parameters\n location: '<location>'\n scheduleTriggerConfig: {\n cronExpression: '0 0 * * *'\n }\n tags: {\n Env: 'test'\n 'hidden-title': 'This is visible in the resource name'\n }\n workloadProfileName: '<workloadProfileName>'\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy an App Managed Environment (also known as a Container App Environment): No App Logging"}, {"role": "assistant", "content": "module managedEnvironment 'br/public:avm/res/app/managed-environment:<version>' = {\n name: 'managedEnvironmentDeployment'\n params: {\n // Required parameters\n name: 'amewaf001'\n // Non-required parameters\n appLogsConfiguration: {\n destination: 'log-analytics'\n logAnalyticsConfiguration: {\n customerId: '<customerId>'\n sharedKey: '<sharedKey>'\n }\n }\n dockerBridgeCidr: '172.16.0.1/28'\n infrastructureResourceGroupName: '<infrastructureResourceGroupName>'\n infrastructureSubnetResourceId: '<infrastructureSubnetResourceId>'\n internal: true\n platformReservedCidr: '172.17.17.0/24'\n platformReservedDnsIP: '172.17.17.17'\n tags: {\n Env: 'test'\n 'hidden-title': 'This is visible in the resource name'\n }\n workloadProfiles: [\n {\n maximumCount: 3\n minimumCount: 0\n name: 'CAW01'\n workloadProfileType: 'D4'\n }\n ]\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Container App Session Pool: Using only defaults"}, {"role": "assistant", "content": "module sessionPool 'br/public:avm/res/app/session-pool:<version>' = {\n name: 'sessionPoolDeployment'\n params: {\n // Required parameters\n containerType: 'PythonLTS'\n name: 'aspwaf001'\n // Non-required parameters\n location: '<location>'\n sessionNetworkStatus: 'EgressDisabled'\n tags: {\n resourceType: 'Session Pool'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy an Analysis Services Server: Using only defaults"}, {"role": "assistant", "content": "module server 'br/public:avm/res/analysis-services/server:<version>' = {\n name: 'serverDeployment'\n params: {\n // Required parameters\n name: 'asswaf'\n // Non-required parameters\n diagnosticSettings: [\n {\n eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n eventHubName: '<eventHubName>'\n logCategoriesAndGroups: [\n {\n category: 'Engine'\n }\n {\n category: 'Service'\n }\n ]\n metricCategories: [\n {\n category: 'AllMetrics'\n }\n ]\n name: 'customSetting'\n storageAccountResourceId: '<storageAccountResourceId>'\n workspaceResourceId: '<workspaceResourceId>'\n }\n ]\n firewallSettings: {\n enablePowerBIService: true\n firewallRules: [\n {\n firewallRuleName: 'AllowFromAll'\n rangeEnd: '255.255.255.255'\n rangeStart: '0.0.0.0'\n }\n ]\n }\n location: '<location>'\n lock: {\n kind: 'CanNotDelete'\n name: 'myCustomLockName'\n }\n skuCapacity: 1\n skuName: 'S0'\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy an Alert Processing Rule: Using small parameter set"}, {"role": "assistant", "content": "module actionRule 'br/public:avm/res/alerts-management/action-rule:<version>' = {\n name: 'actionRuleDeployment'\n params: {\n // Required parameters\n name: 'aprwaf001'\n // Non-required parameters\n actions: [\n {\n actionGroupIds: [\n '<actionGroupResourceId>'\n ]\n actionType: 'AddActionGroups'\n }\n ]\n aprDescription: 'Test deployment of the module with the waf aligned set of parameters.'\n location: '<location>'\n scopes: [\n '<id>'\n ]\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy an Microsoft Entra Domain Services (Azure AD DS) instance: WAF-aligned"}, {"role": "assistant", "content": "module domainService 'br/public:avm/res/aad/domain-service:<version>' = {\n name: 'domainServiceDeployment'\n params: {\n // Required parameters\n domainName: 'onmicrosoft.com'\n // Non-required parameters\n additionalRecipients: [\n '@noreply.github.com'\n ]\n diagnosticSettings: [\n {\n eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n eventHubName: '<eventHubName>'\n logCategoriesAndGroups: [\n {\n categoryGroup: 'allLogs'\n }\n ]\n metricCategories: [\n {\n category: 'AllMetrics'\n }\n ]\n name: 'customSetting'\n storageAccountResourceId: '<storageAccountResourceId>'\n workspaceResourceId: '<workspaceResourceId>'\n }\n ]\n externalAccess: 'Enabled'\n ldaps: 'Enabled'\n location: '<location>'\n lock: {\n kind: 'None'\n name: 'myCustomLockName'\n notes: 'This is a custom lock for the deployment'\n }\n name: 'aaddswaf001'\n pfxCertificate: '<pfxCertificate>'\n pfxCertificatePassword: '<pfxCertificatePassword>'\n replicaSets: [\n {\n location: '<location>'\n subnetId: '<subnetId>'\n }\n {\n location: '<location>'\n subnetId: '<subnetId>'\n }\n ]\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy the Azure Image Builder service publishing to an Azure Compute Gallery: Using small parameter set"}, {"role": "assistant", "content": "module azureImageBuilder 'br/public:avm/ptn/virtual-machine-images/azure-image-builder:<version>' = {\n name: 'azureImageBuilderDeployment'\n params: {\n // Required parameters\n computeGalleryImageDefinitionName: '<computeGalleryImageDefinitionName>'\n computeGalleryImageDefinitions: '<computeGalleryImageDefinitions>'\n computeGalleryName: '<computeGalleryName>'\n imageTemplateImageSource: {\n offer: 'ubuntu-24_04-lts'\n publisher: 'canonical'\n sku: 'server'\n type: 'PlatformImage'\n version: 'latest'\n }\n // Non-required parameters\n deploymentScriptManagedIdentityName: '<deploymentScriptManagedIdentityName>'\n deploymentScriptStorageAccountName: '<deploymentScriptStorageAccountName>'\n deploymentScriptSubnetName: '<deploymentScriptSubnetName>'\n deploymentsToPerform: 'Only image'\n imageContainerInstanceSubnetName: ''\n imageManagedIdentityName: '<imageManagedIdentityName>'\n imageSubnetName: '<imageSubnetName>'\n imageTemplateCustomizationSteps: [\n {\n name: 'Example script'\n scriptUri: '<scriptUri>'\n type: 'Shell'\n }\n ]\n imageTemplateResourceGroupName: '<imageTemplateResourceGroupName>'\n location: '<location>'\n resourceGroupName: '<resourceGroupName>'\n virtualNetworkName: '<virtualNetworkName>'\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy Azure Service Health Alerts to notify you of service issues, planned maintenance, and health advisories that may affect your Azure services: Deploying multiple service health alerts."}, {"role": "assistant", "content": "module serviceHealthAlerts 'br/public:avm/ptn/subscription/service-health-alerts:<version>' = {\n name: 'serviceHealthAlertsDeployment'\n params: {\n location: '<location>'\n serviceHealthAlerts: [\n {\n actionGroup: {\n enabled: true\n existingActionGroupResourceId: '<existingActionGroupResourceId>'\n }\n alertDescription: 'Service Health Advisory'\n isEnabled: true\n serviceHealthAlert: 'Service Health Advisory'\n }\n {\n actionGroup: {\n enabled: true\n existingActionGroupResourceId: '<existingActionGroupResourceId>'\n }\n alertDescription: 'Service Health Incident'\n isEnabled: true\n serviceHealthAlert: 'Service Health Incident'\n }\n ]\n serviceHealthAlertsResourceGroupName: '<serviceHealthAlertsResourceGroupName>'\n subscriptionId: '<subscriptionId>'\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy an Azure Security Center (Defender for Cloud) Configuration: Using default parameter set"}, {"role": "assistant", "content": "module securityCenter 'br/public:avm/ptn/security/security-center:<version>' = {\n name: 'securityCenterDeployment'\n params: {\n // Required parameters\n scope: '<scope>'\n workspaceResourceId: '<workspaceResourceId>'\n // Non-required parameters\n location: '<location>'\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy the Build Your Own Copilot Solution Accelerator using only the required parameters: Sandbox configuration with default parameter values"}, {"role": "assistant", "content": "module buildYourOwnCopilot 'br/public:avm/ptn/sa/build-your-own-copilot:<version>' = {\n name: 'buildYourOwnCopilotDeployment'\n params: {\n // Required parameters\n azureAiServiceLocation: '<azureAiServiceLocation>'\n enableMonitoring: true\n enablePrivateNetworking: true\n enablePurgeProtection: true\n enableRedundancy: true\n enableScalability: true\n // Non-required parameters\n enableTelemetry: true\n vmAdminPassword: '<vmAdminPassword>'\n vmAdminUsername: 'adminuser'\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy the Content Processing Solution Accelerator using only the required parameters: Waf-aligned configuration with default parameter values"}, {"role": "assistant", "content": "module contentProcessing 'br/public:avm/ptn/sa/content-processing:<version>' = {\n name: 'contentProcessingDeployment'\n params: {\n // Required parameters\n contentUnderstandingLocation: '<contentUnderstandingLocation>'\n environmentName: 'scpmin'\n gptDeploymentCapacity: 1\n // Non-required parameters\n enablePrivateNetworking: false\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy the [Conversation Knowledge Mining Solution Accelerator](https://github: Sandbox configuration with default parameter values"}, {"role": "assistant", "content": "module conversationKnowledgeMining 'br/public:avm/ptn/sa/conversation-knowledge-mining:<version>' = {\n name: 'conversationKnowledgeMiningDeployment'\n params: {\n solutionPrefix: 'sbxdft'\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy the Document Knowledge Mining Solution Accelerator using parameters that deploy the enterprise-grade configuration: Default configuration with enterprise-grade parameter values"}, {"role": "assistant", "content": "module documentKnowledgeMining 'br/public:avm/ptn/sa/document-knowledge-mining:<version>' = {\n name: 'documentKnowledgeMiningDeployment'\n params: {\n // Required parameters\n aiDeploymentsLocation: '<aiDeploymentsLocation>'\n enableMonitoring: false\n enablePrivateNetworking: false\n enableRedundancy: false\n enableScalability: false\n // Non-required parameters\n createdBy: 'AVM_Pipeline'\n enableTelemetry: true\n location: '<location>'\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy the [Modernize Your Code Solution Accelerator](https://github: Default configuration with enterprise-grade parameter values"}, {"role": "assistant", "content": "module modernizeYourCode 'br/public:avm/ptn/sa/modernize-your-code:<version>' = {\n name: 'modernizeYourCodeDeployment'\n params: {\n // Required parameters\n solutionName: 'samycmin001'\n // Non-required parameters\n location: '<location>'\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy the [Multi-Agent Custom Automation Engine solution accelerator](https://github: Default configuration with WAF aligned parameter values"}, {"role": "assistant", "content": "module multiAgentCustomAutomationEngine 'br/public:avm/ptn/sa/multi-agent-custom-automation-engine:<version>' = {\n name: 'multiAgentCustomAutomationEngineDeployment'\n params: {\n solutionPrefix: 'macaemin'\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Policy Insights Remediation: Policy Remediation (Management Group scope - defaults)"}, {"role": "assistant", "content": "module remediation 'br/public:avm/ptn/policy-insights/remediation:<version>' = {\n name: 'remediationDeployment'\n params: {\n // Required parameters\n name: 'pirsubmax001'\n policyAssignmentId: '<policyAssignmentId>'\n // Non-required parameters\n failureThresholdPercentage: '0.5'\n filtersLocations: []\n filtersResourceIds: []\n location: '<location>'\n parallelDeployments: 1\n policyDefinitionReferenceId: 'Prerequisite_DeployExtensionWindows'\n resourceCount: 10\n resourceDiscoveryMode: 'ReEvaluateCompliance'\n subscriptionId: '<subscriptionId>'\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a multi-region hub network in Azure: Using only defaults"}, {"role": "assistant", "content": "module hubNetworking 'br/public:avm/ptn/network/hub-networking:<version>' = {\n name: 'hubNetworkingDeployment'\n params: {\n hubVirtualNetworks: {\n hub1: {\n addressPrefixes: '<addressPrefixes>'\n azureFirewallSettings: {\n azureSkuTier: 'Standard'\n diagnosticSettings: [\n {\n eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n eventHubName: '<eventHubName>'\n storageAccountResourceId: '<storageAccountResourceId>'\n workspaceResourceId: '<workspaceResourceId>'\n }\n ]\n location: '<location>'\n publicIPAddressObject: {\n name: 'hub1PublicIp'\n }\n threatIntelMode: 'Deny'\n zones: [\n 1\n 2\n 3\n ]\n }\n bastionHost: {\n disableCopyPaste: true\n enableFileCopy: false\n enableIpConnect: false\n enableShareableLink: false\n scaleUnits: 2\n skuName: 'Standard'\n }\n diagnosticSettings: [\n {\n eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n eventHubName: '<eventHubName>'\n metricCategories: [\n {\n category: 'AllMetrics'\n }\n ]\n name: 'customSetting'\n storageAccountResourceId: '<storageAccountResourceId>'\n workspaceResourceId: '<workspaceResourceId>'\n }\n ]\n dnsServers: [\n '10.0.1.6'\n '10.0.1.7'\n ]\n enableAzureFirewall: true\n enableBastion: true\n enablePeering: false\n flowTimeoutInMinutes: 30\n location: '<location>'\n routes: [\n {\n name: 'defaultRoute'\n properties: {\n addressPrefix: '0.0.0.0/0'\n nextHopType: 'Internet'\n }\n }\n ]\n subnets: [\n {\n addressPrefix: '<addressPrefix>'\n name: 'GatewaySubnet'\n }\n {\n addressPrefix: '<addressPrefix>'\n name: 'AzureFirewallSubnet'\n }\n {\n addressPrefix: '<addressPrefix>'\n name: 'AzureBastionSubnet'\n }\n ]\n tags: {\n Environment: 'Non-Prod'\n 'hidden-title': 'This is visible in the resource name'\n Role: 'DeploymentValidation'\n }\n vnetEncryption: false\n vnetEncryptionEnforcement: 'AllowUnencrypted'\n }\n }\n location: '<location>'\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy the module with the minimum set of required parameters: Using only defaults"}, {"role": "assistant", "content": "module privateLinkPrivateDnsZones 'br/public:avm/ptn/network/private-link-private-dns-zones:<version>' = {\n name: 'privateLinkPrivateDnsZonesDeployment'\n params: {\n virtualNetworkLinks: [\n {\n registrationEnabled: false\n virtualNetworkResourceId: '<virtualNetworkResourceId>'\n }\n ]\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy subscriptions to management groups: Using only defaults."}, {"role": "assistant", "content": "module subscriptionPlacement 'br/public:avm/ptn/mgmt-groups/subscription-placement:<version>' = {\n name: 'subscriptionPlacementDeployment'\n params: {\n parSubscriptionPlacement: [\n {\n disableSubscriptionPlacement: false\n managementGroupId: '<managementGroupId>'\n subscriptionIds: [\n ''\n '<subVendingSubscriptionId>'\n ]\n }\n {\n disableSubscriptionPlacement: true\n managementGroupId: '<managementGroupId>'\n subscriptionIds: [\n '<subVendingSubscriptionId>'\n ]\n }\n ]\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a subscription to accelerate deployment of landing zones: Multiple virtual networks."}, {"role": "assistant", "content": "module subVending 'br/public:avm/ptn/lz/sub-vending:<version>' = {\n name: 'subVendingDeployment'\n params: {\n deploymentScriptLocation: '<deploymentScriptLocation>'\n deploymentScriptManagedIdentityName: '<deploymentScriptManagedIdentityName>'\n deploymentScriptName: 'ds-ssawan'\n deploymentScriptNetworkSecurityGroupName: '<deploymentScriptNetworkSecurityGroupName>'\n deploymentScriptResourceGroupName: '<deploymentScriptResourceGroupName>'\n deploymentScriptStorageAccountName: '<deploymentScriptStorageAccountName>'\n deploymentScriptVirtualNetworkName: '<deploymentScriptVirtualNetworkName>'\n hubNetworkResourceId: '<hubNetworkResourceId>'\n resourceProviders: {}\n roleAssignmentEnabled: true\n roleAssignments: [\n {\n definition: '/providers/Microsoft.Authorization/roleDefinitions/4d97b98b-1d4f-4787-a291-c67834d212e7'\n description: 'Network contributor role'\n principalId: '<principalId>'\n relativeScope: '<relativeScope>'\n }\n ]\n subscriptionAliasEnabled: true\n subscriptionAliasName: '<subscriptionAliasName>'\n subscriptionBillingScope: '<subscriptionBillingScope>'\n subscriptionDisplayName: '<subscriptionDisplayName>'\n subscriptionManagementGroupAssociationEnabled: true\n subscriptionManagementGroupId: 'bicep-lz-vending-automation-child'\n subscriptionTags: {\n namePrefix: '<namePrefix>'\n serviceShort: '<serviceShort>'\n }\n subscriptionWorkload: 'Production'\n virtualNetworkAddressSpace: [\n '10.210.0.0/16'\n ]\n virtualNetworkEnabled: true\n virtualNetworkLocation: '<virtualNetworkLocation>'\n virtualNetworkName: '<virtualNetworkName>'\n virtualNetworkPeeringEnabled: true\n virtualNetworkResourceGroupLockEnabled: false\n virtualNetworkResourceGroupName: '<virtualNetworkResourceGroupName>'\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Finops hub from the Finops toolkit: Using only defaults"}, {"role": "assistant", "content": "module finopsHub 'br/public:avm/ptn/finops-toolkit/finops-hub:<version>' = {\n name: 'finopsHubDeployment'\n params: {\n // Required parameters\n hubName: 'finops-hub-finmin'\n // Non-required parameters\n location: '<location>'\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy self-hosted agents and runners for Azure DevOps and GitHub on Azure Container Instances and/or Azure Container Apps: Using only defaults for Azure DevOps self-hosted agents using both Azure Container Instances and Azure Container Apps."}, {"role": "assistant", "content": "module cicdAgentsAndRunners 'br/public:avm/ptn/dev-ops/cicd-agents-and-runners:<version>' = {\n name: 'cicdAgentsAndRunnersDeployment'\n params: {\n // Required parameters\n computeTypes: [\n 'azure-container-instance'\n ]\n namingPrefix: '<namingPrefix>'\n networkingConfiguration: {\n addressSpace: '10.0.0.0/16'\n networkType: 'createNew'\n virtualNetworkName: 'vnet-aci'\n }\n selfHostedConfig: {\n githubOrganization: 'githHubOrganization'\n githubRepository: 'dummyRepo'\n personalAccessToken: '<personalAccessToken>'\n selfHostedType: 'github'\n }\n // Non-required parameters\n location: '<location>'\n privateNetworking: true\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy an image to an Azure Container Registry: Using only defaults"}, {"role": "assistant", "content": "module importImageToAcr 'br/public:avm/ptn/deployment-script/import-image-to-acr:<version>' = {\n name: 'importImageToAcrDeployment'\n params: {\n // Required parameters\n acrName: '<acrName>'\n image: 'mcr.microsoft.com/k8se/quickstart-jobs:latest'\n name: 'dsiitawaf001'\n // Non-required parameters\n location: '<location>'\n managedIdentities: '<managedIdentities>'\n overwriteExistingImage: true\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy the module with the minimum set of required parameters: Using only defaults"}, {"role": "assistant", "content": "module privateAnalyticalWorkspace 'br/public:avm/ptn/data/private-analytical-workspace:<version>' = {\n name: 'UC3'\n params: {\n // Required parameters\n name: 'pawuc3'\n // Non-required parameters\n virtualNetworkResourceId: '/subscriptions/{SUBSCRIPTION-ID}/resourceGroups/{NAME-OF-RG}/providers/Microsoft.Network/virtualNetworks/{NAME-OF-VNET}'\n logAnalyticsWorkspaceResourceId: '/subscriptions/{SUBSCRIPTION-ID}/resourceGroups/{NAME-OF-RG}/providers/Microsoft.OperationalInsights/workspaces/{NAME-OF-LOG}'\n keyVaultResourceId: '/subscriptions/{SUBSCRIPTION-ID}/resourceGroups/{NAME-OF-RG}/providers/Microsoft.KeyVault/vaults/{NAME-OF-KV}'\n enableDatabricks: true // Part of the solution will be new instance of the Azure Databricks\n solutionAdministrators: [\n {\n principalId: <EntraGroupId> // Specified group will have enough permissions to manage the solution\n principalType: 'Group' // Group and/or User type can be specified\n }\n ]\n advancedOptions: {\n networkAcls: { ipRules: [<AllowedPublicIPAddress>] } // Which public IP addresses of the end users can access the solution (enables public endpoints for some services)\n }\n tags: { Owner: 'Contoso', 'Cost Center': '2345-324' }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a container app in an Azure Container App environment: Using only defaults"}, {"role": "assistant", "content": "module acrContainerApp 'br/public:avm/ptn/azd/acr-container-app:<version>' = {\n name: 'acrContainerAppDeployment'\n params: {\n // Required parameters\n containerAppsEnvironmentName: '<containerAppsEnvironmentName>'\n name: 'acaprb001'\n // Non-required parameters\n containerProbes: [\n {\n httpGet: {\n httpHeaders: [\n {\n name: 'Custom-Header'\n value: 'Awesome'\n }\n ]\n path: '/health'\n port: 8080\n }\n initialDelaySeconds: 3\n periodSeconds: 3\n type: 'Liveness'\n }\n ]\n location: '<location>'\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy an Azure Kubernetes Service (AKS) cluster with a system agent pool as well as an additional user agent pool: Using only defaults"}, {"role": "assistant", "content": "module aks 'br/public:avm/ptn/azd/aks:<version>' = {\n name: 'aksDeployment'\n params: {\n // Required parameters\n containerRegistryName: '<containerRegistryName>'\n keyVaultName: '<keyVaultName>'\n monitoringWorkspaceResourceId: '<monitoringWorkspaceResourceId>'\n name: '<name>'\n principalId: '<principalId>'\n // Non-required parameters\n aadProfile: '<aadProfile>'\n acrSku: 'Basic'\n agentPoolConfig: [\n {\n maxPods: 30\n maxSurge: '33%'\n mode: 'User'\n name: 'npuserpool'\n osType: 'Linux'\n type: 'VirtualMachineScaleSets'\n vmSize: 'Standard_DS2_v2'\n }\n ]\n agentPoolSize: 'Standard'\n aksClusterRoleAssignmentName: '<aksClusterRoleAssignmentName>'\n containerRegistryRoleName: '<containerRegistryRoleName>'\n disableLocalAccounts: false\n dnsPrefix: 'dep-dns-paamax'\n location: '<location>'\n principalType: 'ServicePrincipal'\n skuTier: 'Free'\n systemPoolConfig: [\n {\n availabilityZones: [\n 1\n 2\n 3\n ]\n count: 3\n enableAutoScaling: true\n maxCount: 5\n minCount: 3\n mode: 'System'\n name: 'npsystem'\n vmSize: 'Standard_DS2_v2'\n }\n ]\n webApplicationRoutingEnabled: true\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy an Azure Kubernetes Service (AKS) cluster with a system agent pool: Using only defaults and use AKS Automatic mode"}, {"role": "assistant", "content": "module aksAutomaticCluster 'br/public:avm/ptn/azd/aks-automatic-cluster:<version>' = {\n name: 'aksAutomaticClusterDeployment'\n params: {\n // Required parameters\n name: 'csautomin001'\n // Non-required parameters\n aadProfile: {\n aadProfileEnableAzureRBAC: true\n aadProfileManaged: true\n }\n location: '<location>'\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy and configure an API within an API Management service instance: Using only defaults"}, {"role": "assistant", "content": "module apimApi 'br/public:avm/ptn/azd/apim-api:<version>' = {\n name: 'apimApiDeployment'\n params: {\n // Required parameters\n apiBackendUrl: '<apiBackendUrl>'\n apiDescription: 'api description'\n apiDisplayName: 'apd-aapmin'\n apiName: 'an-aapmin001'\n apiPath: 'apipath-aapmin'\n name: '<name>'\n webFrontendUrl: '<webFrontendUrl>'\n // Non-required parameters\n location: '<location>'\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy or updates an existing Azure Container App: Using only defaults"}, {"role": "assistant", "content": "module containerAppUpsert 'br/public:avm/ptn/azd/container-app-upsert:<version>' = {\n name: 'containerAppUpsertDeployment'\n params: {\n // Required parameters\n containerAppsEnvironmentName: '<containerAppsEnvironmentName>'\n name: '<name>'\n // Non-required parameters\n containerProbes: [\n {\n httpGet: {\n httpHeaders: [\n {\n name: 'Custom-Header'\n value: 'Awesome'\n }\n ]\n path: '/health'\n port: 8080\n }\n initialDelaySeconds: 3\n periodSeconds: 3\n type: 'Liveness'\n }\n ]\n containerRegistryName: '<containerRegistryName>'\n daprEnabled: true\n env: [\n {\n name: 'ContainerAppStoredSecretName'\n secretRef: 'containerappstoredsecret'\n }\n {\n name: 'ContainerAppKeyVaultStoredSecretName'\n secretRef: 'keyvaultstoredsecret'\n }\n ]\n exists: true\n identityName: '<identityName>'\n identityPrincipalId: '<identityPrincipalId>'\n identityType: 'UserAssigned'\n location: '<location>'\n secrets: [\n {\n name: 'containerappstoredsecret'\n value: '<value>'\n }\n {\n identity: '<identity>'\n keyVaultUrl: '<keyVaultUrl>'\n name: 'keyvaultstoredsecret'\n }\n ]\n tags: {\n Env: 'test'\n 'hidden-title': 'This is visible in the resource name'\n }\n userAssignedIdentityResourceId: '<userAssignedIdentityResourceId>'\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy an Azure Container Registry and an Azure Container Apps environment: With zoneRedundant enabled"}, {"role": "assistant", "content": "module containerAppsStack 'br/public:avm/ptn/azd/container-apps-stack:<version>' = {\n name: 'containerAppsStackDeployment'\n params: {\n // Required parameters\n containerAppsEnvironmentName: 'acaszrcae001'\n containerRegistryName: 'acaszrcr001'\n logAnalyticsWorkspaceName: '<logAnalyticsWorkspaceName>'\n // Non-required parameters\n acrSku: 'Standard'\n dockerBridgeCidr: '172.16.0.1/28'\n infrastructureResourceGroupName: '<infrastructureResourceGroupName>'\n infrastructureSubnetResourceId: '<infrastructureSubnetResourceId>'\n internal: true\n location: '<location>'\n platformReservedCidr: '172.17.17.0/24'\n platformReservedDnsIP: '172.17.17.17'\n workloadProfiles: [\n {\n maximumCount: 3\n minimumCount: 0\n name: 'CAW01'\n workloadProfileType: 'D4'\n }\n ]\n zoneRedundant: true\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy an Application Insights instance based on an existing Log Analytics workspace: Using only defaults"}, {"role": "assistant", "content": "module insightsDashboard 'br/public:avm/ptn/azd/insights-dashboard:<version>' = {\n name: 'insightsDashboardDeployment'\n params: {\n // Required parameters\n logAnalyticsWorkspaceResourceId: '<logAnalyticsWorkspaceResourceId>'\n name: 'icmax001'\n // Non-required parameters\n applicationType: 'web'\n dashboardName: 'icmaxdb001'\n kind: 'web'\n location: '<location>'\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy an Application Insights instance and a Log Analytics workspace: Using only defaults"}, {"role": "assistant", "content": "module monitoring 'br/public:avm/ptn/azd/monitoring:<version>' = {\n name: 'monitoringDeployment'\n params: {\n // Required parameters\n applicationInsightsName: '<applicationInsightsName>'\n logAnalyticsName: '<logAnalyticsName>'\n // Non-required parameters\n location: '<location>'\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a PIM Role Assignment at a Management Group, Subscription or Resource Group scope:  PIM Eligible Role Assignments (Management Group scope)"}, {"role": "assistant", "content": "module pimRoleAssignment 'br/public:avm/ptn/authorization/pim-role-assignment:<version>' = {\n name: 'pimRoleAssignmentDeployment'\n params: {\n // Required parameters\n pimRoleAssignmentType: {\n roleAssignmentType: 'Active'\n scheduleInfo: {\n durationType: 'NoExpiration'\n }\n }\n principalId: '<principalId>'\n requestType: 'AdminAssign'\n roleDefinitionIdOrName: '<roleDefinitionIdOrName>'\n // Non-required parameters\n justification: 'AVM test'\n subscriptionId: '<subscriptionId>'\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Policy Assignment at a Management Group, Subscription or Resource Group scope: Policy Assignments (Management Group scope)"}, {"role": "assistant", "content": "module policyAssignment 'br/public:avm/ptn/authorization/policy-assignment:<version>' = {\n name: 'policyAssignmentDeployment'\n params: {\n // Required parameters\n name: 'apasubmax001'\n policyDefinitionId: '/providers/Microsoft.Authorization/policySetDefinitions/39a366e6-fdde-4f41-bbf8-3757f46d1611'\n // Non-required parameters\n definitionVersion: '1.*.*-preview'\n description: '[Description] Policy Assignment at the subscription scope'\n displayName: '[Display Name] Policy Assignment at the subscription scope'\n enforcementMode: 'DoNotEnforce'\n identity: 'UserAssigned'\n location: '<location>'\n metadata: {\n assignedBy: 'Bicep'\n category: 'Security'\n version: '1.0'\n }\n nonComplianceMessages: [\n {\n message: 'Violated Policy Assignment - This is a Non Compliance Message'\n }\n ]\n notScopes: [\n '/subscriptions/<value>/resourceGroups/validation-rg'\n ]\n overrides: [\n {\n kind: 'policyEffect'\n selectors: [\n {\n in: [\n 'ASC_DeployAzureDefenderForSqlAdvancedThreatProtectionWindowsAgent'\n 'ASC_DeployAzureDefenderForSqlVulnerabilityAssessmentWindowsAgent'\n ]\n kind: 'policyDefinitionReferenceId'\n }\n ]\n value: 'Disabled'\n }\n ]\n parameterOverrides: {\n effect: {\n value: 'Disabled'\n }\n }\n parameters: {\n effect: {\n value: 'DeployIfNotExists'\n }\n enableCollectionOfSqlQueriesForSecurityResearch: {\n value: false\n }\n }\n resourceSelectors: [\n {\n name: 'resourceSelector-test'\n selectors: [\n {\n in: [\n 'Microsoft.Compute/virtualMachines'\n ]\n kind: 'resourceType'\n }\n {\n in: [\n 'westeurope'\n ]\n kind: 'resourceLocation'\n }\n ]\n }\n ]\n roleDefinitionIds: [\n '/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c'\n ]\n subscriptionId: '<subscriptionId>'\n userAssignedIdentityId: '<userAssignedIdentityId>'\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Policy Exemption at a Management Group, Subscription or Resource Group scope: Policy Exemptions (Management Group scope)"}, {"role": "assistant", "content": "module policyExemption 'br/public:avm/ptn/authorization/policy-exemption:<version>' = {\n name: 'policyExemptionDeployment'\n params: {\n // Required parameters\n exemptionCategory: 'Mitigated'\n name: 'apesubmax001'\n policyAssignmentId: '<policyAssignmentId>'\n // Non-required parameters\n assignmentScopeValidation: 'Default'\n description: '[Description] Policy Exemption at the management group scope'\n displayName: '[DisplayName] Policy Exemption at the management group scope'\n enableTelemetry: true\n location: '<location>'\n metadata: {\n assignedBy: 'Bicep'\n category: 'Security'\n }\n resourceSelectors: [\n {\n name: 'resourceSelector-test'\n selectors: [\n {\n in: [\n 'Microsoft.Compute/virtualMachines'\n ]\n kind: 'resourceType'\n }\n {\n in: [\n 'westeurope'\n ]\n kind: 'resourceLocation'\n }\n ]\n }\n ]\n subscriptionId: '<subscriptionId>'\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Role Assignment for a specific resource: Resource Role Assignments"}, {"role": "assistant", "content": "module resourceRoleAssignment 'br/public:avm/ptn/authorization/resource-role-assignment:<version>' = {\n name: 'resourceRoleAssignmentDeployment'\n params: {\n // Required parameters\n principalId: '<principalId>'\n resourceId: '<resourceId>'\n roleDefinitionId: '2a2b9908-6ea1-4ae2-8e65-a410df84e7d1'\n // Non-required parameters\n principalType: 'ServicePrincipal'\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a Role Assignment at a Management Group, Subscription or Resource Group scope: Role Assignments (Management Group scope)"}, {"role": "assistant", "content": "module roleAssignment 'br/public:avm/ptn/authorization/role-assignment:<version>' = {\n name: 'roleAssignmentDeployment'\n params: {\n // Required parameters\n principalId: '<principalId>'\n roleDefinitionIdOrName: 'Reader'\n // Non-required parameters\n description: 'Role Assignment (subscription scope)'\n location: '<location>'\n principalType: 'ServicePrincipal'\n subscriptionId: '<subscriptionId>'\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a custom role definition to a Management Group: Role Definition (Management Group scope) - Required Parameters"}, {"role": "assistant", "content": "module roleDefinition 'br/public:avm/ptn/authorization/role-definition:<version>' = {\n name: 'roleDefinitionDeployment'\n params: {\n // Required parameters\n name: '<name>'\n // Non-required parameters\n actions: '<actions>'\n dataActions: '<dataActions>'\n description: '<description>'\n location: '<location>'\n notActions: '<notActions>'\n notDataActions: '<notDataActions>'\n roleName: '<roleName>'\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy the module with the minimum set of required parameters: Using only defaults."}, {"role": "assistant", "content": "module hostingEnvironment 'br/public:avm/ptn/app-service-lza/hosting-environment:<version>' = {\n name: 'hostingEnvironmentDeployment'\n params: {\n adminPassword: '<adminPassword>'\n adminUsername: 'azureuser'\n appserviceDiagnosticSettings: [\n {\n eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n eventHubName: '<eventHubName>'\n logCategoriesAndGroups: [\n {\n categoryGroup: 'allLogs'\n }\n ]\n metricCategories: [\n {\n category: 'AllMetrics'\n }\n ]\n storageAccountResourceId: '<storageAccountResourceId>'\n workspaceResourceId: '<workspaceResourceId>'\n }\n ]\n aseDiagnosticSettings: [\n {\n eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n eventHubName: '<eventHubName>'\n logCategoriesAndGroups: [\n {\n categoryGroup: 'allLogs'\n }\n ]\n storageAccountResourceId: '<storageAccountResourceId>'\n workspaceResourceId: '<workspaceResourceId>'\n }\n ]\n enableEgressLockdown: true\n frontDoorDiagnosticSettings: [\n {\n eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n eventHubName: '<eventHubName>'\n logCategoriesAndGroups: [\n {\n category: 'FrontdoorAccessLog'\n }\n {\n category: 'FrontdoorWebApplicationFirewallLog'\n }\n ]\n storageAccountResourceId: '<storageAccountResourceId>'\n workspaceResourceId: '<workspaceResourceId>'\n }\n ]\n location: '<location>'\n servicePlanDiagnosticSettings: [\n {\n eventHubAuthorizationRuleResourceId: '<eventHubAuthorizationRuleResourceId>'\n eventHubName: '<eventHubName>'\n metricCategories: [\n {\n category: 'AllMetrics'\n }\n ]\n storageAccountResourceId: '<storageAccountResourceId>'\n workspaceResourceId: '<workspaceResourceId>'\n }\n ]\n tags: {\n environment: 'test'\n }\n vmSize: 'Standard_D2s_v4'\n workloadName: '<workloadName>'\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a container to run as a job: Using only defaults"}, {"role": "assistant", "content": "module containerJobToolkit 'br/public:avm/ptn/app/container-job-toolkit:<version>' = {\n name: 'containerJobToolkitDeployment'\n params: {\n // Required parameters\n containerImageSource: 'mcr.microsoft.com/k8se/quickstart-jobs:latest'\n name: 'acjwaf001'\n // Non-required parameters\n appInsightsConnectionString: '<appInsightsConnectionString>'\n deployInVnet: true\n location: '<location>'\n logAnalyticsWorkspaceResourceId: '<logAnalyticsWorkspaceResourceId>'\n managedIdentityResourceId: '<managedIdentityResourceId>'\n overwriteExistingImage: true\n tags: {\n Env: 'test'\n 'hidden-title': 'This is visible in the resource name'\n }\n workloadProfileName: 'CAW01'\n workloadProfiles: [\n {\n maximumCount: 6\n minimumCount: 3\n name: 'CAW01'\n workloadProfileType: 'D4'\n }\n ]\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy an IaaS VM with CosmosDB Tier 4 resiliency configuration: Using only defaults"}, {"role": "assistant", "content": "module iaasVmCosmosdbTier4 'br/public:avm/ptn/app/iaas-vm-cosmosdb-tier4:<version>' = {\n name: 'iaasVmCosmosdbTier4Deployment'\n params: {\n name: '<name>'\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a PaaS ASE with CosmosDB Tier 4 resiliency configuration: WAF-aligned"}, {"role": "assistant", "content": "module paasAseCosmosdbTier4 'br/public:avm/ptn/app/paas-ase-cosmosdb-tier4:<version>' = {\n name: 'paasAseCosmosdbTier4Deployment'\n params: {\n // Required parameters\n name: 'apactwaf001'\n // Non-required parameters\n defaultSubnetAddressPrefix: '192.168.250.0/24'\n privateEndpointSubnetAddressPrefix: '192.168.251.0/24'\n suffix: 'waf'\n tags: {\n Environment: 'Test'\n Module: 'avm/ptn/app/paas-ase-cosmosdb-tier4'\n Purpose: 'WAF-Aligned-Testing'\n }\n vNetAddressPrefix: '192.168.250.0/23'\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy the module with the minimum set of required parameters: Using only defaults"}, {"role": "assistant", "content": "module ama 'br/public:avm/ptn/alz/ama:<version>' = {\n name: 'amaDeployment'\n params: {\n // Required parameters\n dataCollectionRuleChangeTrackingName: 'alz-ama-dcr-ct-alzamamax'\n dataCollectionRuleMDFCSQLName: 'alz-ama-dcr-mdfc-sql-alzamamax'\n dataCollectionRuleVMInsightsName: 'alz-ama-dcr-vm-insights-alzamamax'\n logAnalyticsWorkspaceResourceId: '<logAnalyticsWorkspaceResourceId>'\n userAssignedIdentityName: 'alz-ama-identity-alzamamax'\n // Non-required parameters\n location: '<location>'\n lockConfig: {\n kind: 'CanNotDelete'\n name: 'lock-alzamamax'\n }\n tags: {\n Env: 'test'\n 'hidden-title': 'This is visible in the resource name'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy the module with the minimum set of required parameters: Using only defaults"}, {"role": "assistant", "content": "{customPolicyDefinitionScopeId}/providers/Microsoft.Authorization/policyDefinitions/<policy-definition-name>\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy a secure and scalable environment for deploying AI applications on Azure: Using only defaults"}, {"role": "assistant", "content": "module baseline 'br/public:avm/ptn/ai-platform/baseline:<version>' = {\n name: 'baselineDeployment'\n params: {\n // Required parameters\n name: '<name>'\n // Non-required parameters\n managedIdentityName: '<managedIdentityName>'\n tags: {\n Env: 'test'\n 'hidden-title': 'This is visible in the resource name'\n }\n virtualMachineConfiguration: {\n adminPassword: '<adminPassword>'\n adminUsername: 'localAdminUser'\n enableAadLoginExtension: true\n enableAzureMonitorAgent: true\n maintenanceConfigurationResourceId: '<maintenanceConfigurationResourceId>'\n patchMode: 'AutomaticByPlatform'\n zone: 1\n }\n workspaceConfiguration: {\n networkIsolationMode: 'AllowOnlyApprovedOutbound'\n networkOutboundRules: {\n rule: {\n category: 'UserDefined'\n destination: {\n serviceResourceId: '<serviceResourceId>'\n subresourceTarget: 'blob'\n }\n type: 'PrivateEndpoint'\n }\n }\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy an AI Foundry account and project with Basic services: Using only defaults"}, {"role": "assistant", "content": "module aiFoundry 'br/public:avm/ptn/ai-ml/ai-foundry:<version>' = {\n name: 'aiFoundryDeployment'\n params: {\n // Required parameters\n baseName: '<baseName>'\n // Non-required parameters\n aiFoundryConfiguration: {\n createCapabilityHosts: true\n networking: {\n agentServiceSubnetResourceId: '<agentServiceSubnetResourceId>'\n aiServicesPrivateDnsZoneResourceId: '<aiServicesPrivateDnsZoneResourceId>'\n cognitiveServicesPrivateDnsZoneResourceId: '<cognitiveServicesPrivateDnsZoneResourceId>'\n openAiPrivateDnsZoneResourceId: '<openAiPrivateDnsZoneResourceId>'\n }\n }\n aiModelDeployments: [\n {\n model: {\n format: 'OpenAI'\n name: 'gpt-4o'\n version: '2024-11-20'\n }\n name: 'gpt-4o'\n sku: {\n capacity: 1\n name: 'Standard'\n }\n }\n ]\n aiSearchConfiguration: {\n privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n }\n cosmosDbConfiguration: {\n privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n }\n includeAssociatedResources: true\n keyVaultConfiguration: {\n privateDnsZoneResourceId: '<privateDnsZoneResourceId>'\n }\n privateEndpointSubnetResourceId: '<privateEndpointSubnetResourceId>'\n storageAccountConfiguration: {\n blobPrivateDnsZoneResourceId: '<blobPrivateDnsZoneResourceId>'\n }\n }\n}\n"}]}
{"messages": [{"role": "system", "content": "Generate an Azure Resource Manager (ARM) template in Bicep format according to the user's request."}, {"role": "user", "content": "Deploy an Azure Container Apps deployment aligned with the cloud adoption framework: Using only defaults."}, {"role": "assistant", "content": "module hostingEnvironment 'br/public:avm/ptn/aca-lza/hosting-environment:<version>' = {\n name: 'hostingEnvironmentDeployment'\n params: {\n // Required parameters\n applicationGatewayCertificateKeyName: 'appgwcert'\n deploymentSubnetAddressPrefix: '10.1.4.0/24'\n enableApplicationInsights: true\n enableDaprInstrumentation: false\n spokeApplicationGatewaySubnetAddressPrefix: '10.1.3.0/24'\n spokeInfraSubnetAddressPrefix: '10.1.0.0/23'\n spokePrivateEndpointsSubnetAddressPrefix: '10.1.2.0/27'\n spokeVNetAddressPrefixes: [\n '10.1.0.0/21'\n ]\n vmAdminPassword: '<vmAdminPassword>'\n vmJumpBoxSubnetAddressPrefix: '10.1.2.32/27'\n vmSize: 'Standard_B1s'\n // Non-required parameters\n deployZoneRedundantResources: true\n enableDdosProtection: true\n environment: 'dev'\n exposeContainerAppsWith: 'applicationGateway'\n location: '<location>'\n storageAccountType: 'Premium_LRS'\n tags: {\n environment: 'test'\n }\n vmAuthenticationType: 'sshPublicKey'\n vmJumpboxOSType: 'linux'\n workloadName: 'cawaf'\n }\n}\n"}]}
